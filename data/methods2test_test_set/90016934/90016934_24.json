{"test_class": {"identifier": "TestProductCartDao", "superclass": "extends TestAbstractHibernateDao<ProductCart, String>", "interfaces": "", "fields": [{"original_string": "@Autowired\n   private ProductCartDao dao;", "modifier": "@Autowired\n   private", "type": "ProductCartDao", "declarator": "dao", "var_name": "dao"}, {"original_string": "@Autowired\n   private ProductDao pdao;", "modifier": "@Autowired\n   private", "type": "ProductDao", "declarator": "pdao", "var_name": "pdao"}, {"original_string": "@Autowired\n   private UserDao udao;", "modifier": "@Autowired\n   private", "type": "UserDao", "declarator": "udao", "var_name": "udao"}], "file": "core/src/test/java/fr/gael/dhus/database/dao/TestProductCartDao.java"}, "test_case": {"identifier": "getProductsIdOfCart", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n   public void getProductsIdOfCart()\n   {\n      User user = new User();\n      user.setUUID(\"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa0\");\n\n      List<Long> ids = dao.getProductsIdOfCart(user);\n      assertNotNull(ids);\n\n      assertEquals(ids.size(), 2);\n      assertTrue(ids.contains(Long.valueOf(0)));\n      assertTrue(ids.contains(Long.valueOf(5)));\n   }", "signature": "void getProductsIdOfCart()", "full_signature": "@Test public void getProductsIdOfCart()", "class_method_signature": "TestProductCartDao.getProductsIdOfCart()", "testcase": true, "constructor": false, "invocations": ["setUUID", "getProductsIdOfCart", "assertNotNull", "assertEquals", "size", "assertTrue", "contains", "valueOf", "assertTrue", "contains", "valueOf"]}, "focal_class": {"identifier": "ProductCartDao", "superclass": "extends HibernateDao<ProductCart, String>", "interfaces": "", "fields": [{"original_string": "@Autowired\n   private ConfigurationManager conf;", "modifier": "@Autowired\n   private", "type": "ConfigurationManager", "declarator": "conf", "var_name": "conf"}], "methods": [{"identifier": "getCartOfUser", "parameters": "(final User user)", "modifiers": "@SuppressWarnings(\"unchecked\") public", "return": "ProductCart", "signature": "ProductCart getCartOfUser(final User user)", "full_signature": "@SuppressWarnings(\"unchecked\") public ProductCart getCartOfUser(final User user)", "class_method_signature": "ProductCartDao.getCartOfUser(final User user)", "testcase": false, "constructor": false}, {"identifier": "deleteCartOfUser", "parameters": "(User user)", "modifiers": "public", "return": "void", "signature": "void deleteCartOfUser(User user)", "full_signature": "public void deleteCartOfUser(User user)", "class_method_signature": "ProductCartDao.deleteCartOfUser(User user)", "testcase": false, "constructor": false}, {"identifier": "deleteProductReferences", "parameters": "(final Product product)", "modifiers": "public", "return": "void", "signature": "void deleteProductReferences(final Product product)", "full_signature": "public void deleteProductReferences(final Product product)", "class_method_signature": "ProductCartDao.deleteProductReferences(final Product product)", "testcase": false, "constructor": false}, {"identifier": "scrollCartOfUser", "parameters": "(final User user, final int skip, final int top)", "modifiers": "public", "return": "List<Product>", "signature": "List<Product> scrollCartOfUser(final User user, final int skip, final int top)", "full_signature": "public List<Product> scrollCartOfUser(final User user, final int skip, final int top)", "class_method_signature": "ProductCartDao.scrollCartOfUser(final User user, final int skip, final int top)", "testcase": false, "constructor": false}, {"identifier": "setToLimitedList", "parameters": "(Set<Product> input, int skip, int n)", "modifiers": "private", "return": "List<Product>", "signature": "List<Product> setToLimitedList(Set<Product> input, int skip, int n)", "full_signature": "private List<Product> setToLimitedList(Set<Product> input, int skip, int n)", "class_method_signature": "ProductCartDao.setToLimitedList(Set<Product> input, int skip, int n)", "testcase": false, "constructor": false}, {"identifier": "getProductsIdOfCart", "parameters": "(User user)", "modifiers": "public", "return": "List<Long>", "signature": "List<Long> getProductsIdOfCart(User user)", "full_signature": "public List<Long> getProductsIdOfCart(User user)", "class_method_signature": "ProductCartDao.getProductsIdOfCart(User user)", "testcase": false, "constructor": false}, {"identifier": "toId", "parameters": "(List<Product> products)", "modifiers": "private", "return": "List<Long>", "signature": "List<Long> toId(List<Product> products)", "full_signature": "private List<Long> toId(List<Product> products)", "class_method_signature": "ProductCartDao.toId(List<Product> products)", "testcase": false, "constructor": false}], "file": "core/src/main/java/fr/gael/dhus/database/dao/ProductCartDao.java"}, "focal_method": {"identifier": "getProductsIdOfCart", "parameters": "(User user)", "modifiers": "public", "return": "List<Long>", "body": "public List<Long> getProductsIdOfCart(User user)\n   {\n      long start = System.currentTimeMillis();\n      List<Long> ret = toId(scrollCartOfUser(user, 0, -1));\n      long end = System.currentTimeMillis();\n      logger.info(\"Query getProductsIdOfCart spent \" + (end - start) + \"ms\");\n      return ret;\n   }", "signature": "List<Long> getProductsIdOfCart(User user)", "full_signature": "public List<Long> getProductsIdOfCart(User user)", "class_method_signature": "ProductCartDao.getProductsIdOfCart(User user)", "testcase": false, "constructor": false, "invocations": ["currentTimeMillis", "toId", "scrollCartOfUser", "currentTimeMillis", "info"]}, "repository": {"repo_id": 90016934, "url": "https://github.com/SentinelDataHub/dhus-core", "language": "Java", "is_fork": false, "fork_count": 9, "stargazer_count": 5, "size": 2371, "license": "licensed"}}