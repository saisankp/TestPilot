{"test_class": {"identifier": "BundleResponseMessageProcessorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "final BundleResponseMessageProcessor processor = new BundleResponseMessageProcessor(null, null);", "modifier": "final", "type": "BundleResponseMessageProcessor", "declarator": "processor = new BundleResponseMessageProcessor(null, null)", "var_name": "processor"}, {"original_string": "final List<FaultResponseParameterDto> parameters = new ArrayList<>();", "modifier": "final", "type": "List<FaultResponseParameterDto>", "declarator": "parameters = new ArrayList<>()", "var_name": "parameters"}, {"original_string": "final String defaultMessage = \"some error occurred\";", "modifier": "final", "type": "String", "declarator": "defaultMessage = \"some error occurred\"", "var_name": "defaultMessage"}, {"original_string": "final ComponentType defaultComponent = ComponentType.DOMAIN_SMART_METERING;", "modifier": "final", "type": "ComponentType", "declarator": "defaultComponent = ComponentType.DOMAIN_SMART_METERING", "var_name": "defaultComponent"}], "file": "osgp/platform/osgp-adapter-domain-smartmetering/src/test/java/org/opensmartgridplatform/adapter/domain/smartmetering/infra/jms/core/messageprocessors/BundleResponseMessageProcessorTest.java"}, "test_case": {"identifier": "functionalExceptionDetailsAreIncludedInFaultResponse", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void functionalExceptionDetailsAreIncludedInFaultResponse() throws Exception {\n\n        final FunctionalExceptionType functionalException = FunctionalExceptionType.UNSUPPORTED_DEVICE_ACTION;\n        final ComponentType component = ComponentType.DOMAIN_SMART_METERING;\n        final String message = \"No Action Value Response Object for Action Value Response DTO Object of class: org.opensmartgridplatform.dto.valueobjects.smartmetering.NonExistentResponseDto\";\n        final Throwable cause = new RuntimeException(message);\n        final Exception exception = new FunctionalException(functionalException, component, cause);\n\n        final FaultResponseDto faultResponse = this.processor.faultResponseForException(exception, null,\n                this.defaultMessage);\n\n        this.assertResponse(faultResponse, functionalException.getCode(), functionalException.name(), component.name(),\n                cause.getClass().getName(), message, this.parameters);\n    }", "signature": "void functionalExceptionDetailsAreIncludedInFaultResponse()", "full_signature": "@Test public void functionalExceptionDetailsAreIncludedInFaultResponse()", "class_method_signature": "BundleResponseMessageProcessorTest.functionalExceptionDetailsAreIncludedInFaultResponse()", "testcase": true, "constructor": false, "invocations": ["faultResponseForException", "assertResponse", "getCode", "name", "name", "getName", "getClass"]}, "focal_class": {"identifier": "BundleResponseMessageProcessor", "superclass": "extends OsgpCoreResponseMessageProcessor", "interfaces": "", "fields": [{"original_string": "@Autowired\n    @Qualifier(\"domainSmartMeteringBundleService\")\n    private BundleService bundleService;", "modifier": "@Autowired\n    @Qualifier(\"domainSmartMeteringBundleService\")\n    private", "type": "BundleService", "declarator": "bundleService", "var_name": "bundleService"}], "methods": [{"identifier": "BundleResponseMessageProcessor", "parameters": "(\n            WebServiceResponseMessageSender responseMessageSender,\n            @Qualifier(\"domainSmartMeteringInboundOsgpCoreResponsesMessageProcessorMap\") MessageProcessorMap messageProcessorMap)", "modifiers": "@Autowired public", "return": "", "signature": " BundleResponseMessageProcessor(\n            WebServiceResponseMessageSender responseMessageSender,\n            @Qualifier(\"domainSmartMeteringInboundOsgpCoreResponsesMessageProcessorMap\") MessageProcessorMap messageProcessorMap)", "full_signature": "@Autowired public  BundleResponseMessageProcessor(\n            WebServiceResponseMessageSender responseMessageSender,\n            @Qualifier(\"domainSmartMeteringInboundOsgpCoreResponsesMessageProcessorMap\") MessageProcessorMap messageProcessorMap)", "class_method_signature": "BundleResponseMessageProcessor.BundleResponseMessageProcessor(\n            WebServiceResponseMessageSender responseMessageSender,\n            @Qualifier(\"domainSmartMeteringInboundOsgpCoreResponsesMessageProcessorMap\") MessageProcessorMap messageProcessorMap)", "testcase": false, "constructor": true}, {"identifier": "hasRegularResponseObject", "parameters": "(final ResponseMessage responseMessage)", "modifiers": "@Override protected", "return": "boolean", "signature": "boolean hasRegularResponseObject(final ResponseMessage responseMessage)", "full_signature": "@Override protected boolean hasRegularResponseObject(final ResponseMessage responseMessage)", "class_method_signature": "BundleResponseMessageProcessor.hasRegularResponseObject(final ResponseMessage responseMessage)", "testcase": false, "constructor": false}, {"identifier": "handleMessage", "parameters": "(final DeviceMessageMetadata deviceMessageMetadata,\n            final ResponseMessage responseMessage, final OsgpException osgpException)", "modifiers": "@Override protected", "return": "void", "signature": "void handleMessage(final DeviceMessageMetadata deviceMessageMetadata,\n            final ResponseMessage responseMessage, final OsgpException osgpException)", "full_signature": "@Override protected void handleMessage(final DeviceMessageMetadata deviceMessageMetadata,\n            final ResponseMessage responseMessage, final OsgpException osgpException)", "class_method_signature": "BundleResponseMessageProcessor.handleMessage(final DeviceMessageMetadata deviceMessageMetadata,\n            final ResponseMessage responseMessage, final OsgpException osgpException)", "testcase": false, "constructor": false}, {"identifier": "handleError", "parameters": "(final Exception e, final DeviceMessageMetadata deviceMessageMetadata,\n            final ResponseMessage responseMessage)", "modifiers": "@Override protected", "return": "void", "signature": "void handleError(final Exception e, final DeviceMessageMetadata deviceMessageMetadata,\n            final ResponseMessage responseMessage)", "full_signature": "@Override protected void handleError(final Exception e, final DeviceMessageMetadata deviceMessageMetadata,\n            final ResponseMessage responseMessage)", "class_method_signature": "BundleResponseMessageProcessor.handleError(final Exception e, final DeviceMessageMetadata deviceMessageMetadata,\n            final ResponseMessage responseMessage)", "testcase": false, "constructor": false}, {"identifier": "faultResponseForException", "parameters": "(final Exception exception,\n            final List<FaultResponseParameterDto> parameters, final String defaultMessage)", "modifiers": "protected", "return": "FaultResponseDto", "signature": "FaultResponseDto faultResponseForException(final Exception exception,\n            final List<FaultResponseParameterDto> parameters, final String defaultMessage)", "full_signature": "protected FaultResponseDto faultResponseForException(final Exception exception,\n            final List<FaultResponseParameterDto> parameters, final String defaultMessage)", "class_method_signature": "BundleResponseMessageProcessor.faultResponseForException(final Exception exception,\n            final List<FaultResponseParameterDto> parameters, final String defaultMessage)", "testcase": false, "constructor": false}, {"identifier": "faultResponseParametersForList", "parameters": "(\n            final List<FaultResponseParameterDto> parameterList)", "modifiers": "private", "return": "FaultResponseParametersDto", "signature": "FaultResponseParametersDto faultResponseParametersForList(\n            final List<FaultResponseParameterDto> parameterList)", "full_signature": "private FaultResponseParametersDto faultResponseParametersForList(\n            final List<FaultResponseParameterDto> parameterList)", "class_method_signature": "BundleResponseMessageProcessor.faultResponseParametersForList(\n            final List<FaultResponseParameterDto> parameterList)", "testcase": false, "constructor": false}, {"identifier": "faultResponseForFunctionalOrTechnicalException", "parameters": "(final OsgpException exception,\n            final FaultResponseParametersDto faultResponseParameters, final String defaultMessage)", "modifiers": "private", "return": "FaultResponseDto", "signature": "FaultResponseDto faultResponseForFunctionalOrTechnicalException(final OsgpException exception,\n            final FaultResponseParametersDto faultResponseParameters, final String defaultMessage)", "full_signature": "private FaultResponseDto faultResponseForFunctionalOrTechnicalException(final OsgpException exception,\n            final FaultResponseParametersDto faultResponseParameters, final String defaultMessage)", "class_method_signature": "BundleResponseMessageProcessor.faultResponseForFunctionalOrTechnicalException(final OsgpException exception,\n            final FaultResponseParametersDto faultResponseParameters, final String defaultMessage)", "testcase": false, "constructor": false}], "file": "osgp/platform/osgp-adapter-domain-smartmetering/src/main/java/org/opensmartgridplatform/adapter/domain/smartmetering/infra/jms/core/messageprocessors/BundleResponseMessageProcessor.java"}, "focal_method": {"identifier": "faultResponseForException", "parameters": "(final Exception exception,\n            final List<FaultResponseParameterDto> parameters, final String defaultMessage)", "modifiers": "protected", "return": "FaultResponseDto", "body": "protected FaultResponseDto faultResponseForException(final Exception exception,\n            final List<FaultResponseParameterDto> parameters, final String defaultMessage) {\n\n        final FaultResponseParametersDto faultResponseParameters = this.faultResponseParametersForList(parameters);\n\n        if (exception instanceof FunctionalException || exception instanceof TechnicalException) {\n            return this.faultResponseForFunctionalOrTechnicalException((OsgpException) exception,\n                    faultResponseParameters, defaultMessage);\n        }\n\n        return new FaultResponseDto.Builder().withMessage(defaultMessage)\n                .withComponent(ComponentType.DOMAIN_SMART_METERING.name())\n                .withInnerException(exception.getClass().getName()).withInnerMessage(exception.getMessage())\n                .withFaultResponseParameters(faultResponseParameters).build();\n    }", "signature": "FaultResponseDto faultResponseForException(final Exception exception,\n            final List<FaultResponseParameterDto> parameters, final String defaultMessage)", "full_signature": "protected FaultResponseDto faultResponseForException(final Exception exception,\n            final List<FaultResponseParameterDto> parameters, final String defaultMessage)", "class_method_signature": "BundleResponseMessageProcessor.faultResponseForException(final Exception exception,\n            final List<FaultResponseParameterDto> parameters, final String defaultMessage)", "testcase": false, "constructor": false, "invocations": ["faultResponseParametersForList", "faultResponseForFunctionalOrTechnicalException", "build", "withFaultResponseParameters", "withInnerMessage", "withInnerException", "withComponent", "withMessage", "name", "getName", "getClass", "getMessage"]}, "repository": {"repo_id": 154302277, "url": "https://github.com/OSGP/open-smart-grid-platform", "stars": 30, "created": "10/23/2018 9:41:12 AM +00:00", "updates": "2020-01-26T20:15:09+00:00", "fork": "False", "license": "licensed"}}