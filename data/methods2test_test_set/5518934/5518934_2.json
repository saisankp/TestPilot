{"test_class": {"identifier": "GlacierUploaderOptionParserTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final String ENDPOINT_URL = \"https://glacier.eu-west-1.amazonaws.com\";", "modifier": "public static final", "type": "String", "declarator": "ENDPOINT_URL = \"https://glacier.eu-west-1.amazonaws.com\"", "var_name": "ENDPOINT_URL"}, {"original_string": "private GlacierUploaderOptionParser optionsParser;", "modifier": "private", "type": "GlacierUploaderOptionParser", "declarator": "optionsParser", "var_name": "optionsParser"}, {"original_string": "private String[] args;", "modifier": "private", "type": "String[]", "declarator": "args", "var_name": "args"}], "file": "glacieruploader-parsers/src/test/java/de/kopis/glacier/parsers/GlacierUploaderOptionParserTest.java"}, "test_case": {"identifier": "parsesFilesWithWhitespaceSuccessfully", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void parsesFilesWithWhitespaceSuccessfully() throws IOException {\n        File tempFile = File.createTempFile(\"this is a test with whitespaces\", \".txt\");\n        tempFile.deleteOnExit();\n        System.out.println(\"Using temp file: \" + tempFile.getAbsolutePath());\n\n        // use a dummy configuration\n        final CompositeConfiguration dummyConfig = new CompositeConfiguration();\n        final OptionSet options = optionsParser.parse(\"-m\", tempFile.getAbsolutePath());\n        final List<File> optionsFiles = options.valuesOf(optionsParser.multipartUpload);\n        final List<String> nonOptions = options.nonOptionArguments();\n\n        Assert.assertEquals(1, optionsFiles.size());\n        Assert.assertEquals(0, nonOptions.size());\n\n        final List<File> files = optionsParser.mergeNonOptionsFiles(optionsFiles, nonOptions);\n        Assert.assertEquals(tempFile.getName(), files.get(0).getName());\n    }", "signature": "void parsesFilesWithWhitespaceSuccessfully()", "full_signature": "@Test public void parsesFilesWithWhitespaceSuccessfully()", "class_method_signature": "GlacierUploaderOptionParserTest.parsesFilesWithWhitespaceSuccessfully()", "testcase": true, "constructor": false, "invocations": ["createTempFile", "deleteOnExit", "println", "getAbsolutePath", "parse", "getAbsolutePath", "valuesOf", "nonOptionArguments", "assertEquals", "size", "assertEquals", "size", "mergeNonOptionsFiles", "assertEquals", "getName", "getName", "get"]}, "focal_class": {"identifier": "GlacierUploaderOptionParser", "superclass": "extends OptionParser", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(GlacierUploaderOptionParser.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(GlacierUploaderOptionParser.class)", "var_name": "LOG"}, {"original_string": "private static final Pattern REGION_REGEX_PATTERN = Pattern.compile(\".*\\\\.?(?<region>([a-z]{2,}-){2,}\\\\d+)\\\\.?.*\");", "modifier": "private static final", "type": "Pattern", "declarator": "REGION_REGEX_PATTERN = Pattern.compile(\".*\\\\.?(?<region>([a-z]{2,}-){2,}\\\\d+)\\\\.?.*\")", "var_name": "REGION_REGEX_PATTERN"}, {"original_string": "public final OptionSpec<Void> listVaults;", "modifier": "public final", "type": "OptionSpec<Void>", "declarator": "listVaults", "var_name": "listVaults"}, {"original_string": "public final OptionSpec<Void> listJobs;", "modifier": "public final", "type": "OptionSpec<Void>", "declarator": "listJobs", "var_name": "listJobs"}, {"original_string": "public final OptionSpec<File> targetFile;", "modifier": "public final", "type": "OptionSpec<File>", "declarator": "targetFile", "var_name": "targetFile"}, {"original_string": "@Deprecated\n    public final OptionSpec<String> endpoint;", "modifier": "@Deprecated\n    public final", "type": "OptionSpec<String>", "declarator": "endpoint", "var_name": "endpoint"}, {"original_string": "public final OptionSpec<String> region;", "modifier": "public final", "type": "OptionSpec<String>", "declarator": "region", "var_name": "region"}, {"original_string": "public final OptionSpec<String> vault;", "modifier": "public final", "type": "OptionSpec<String>", "declarator": "vault", "var_name": "vault"}, {"original_string": "public final OptionSpec<File> upload;", "modifier": "public final", "type": "OptionSpec<File>", "declarator": "upload", "var_name": "upload"}, {"original_string": "public final OptionSpec<String> download;", "modifier": "public final", "type": "OptionSpec<String>", "declarator": "download", "var_name": "download"}, {"original_string": "public final OptionSpec<String> inventoryListing;", "modifier": "public final", "type": "OptionSpec<String>", "declarator": "inventoryListing", "var_name": "inventoryListing"}, {"original_string": "public final OptionSpec<Void> createVault;", "modifier": "public final", "type": "OptionSpec<Void>", "declarator": "createVault", "var_name": "createVault"}, {"original_string": "@Deprecated\n    public final OptionSpec<File> credentials;", "modifier": "@Deprecated\n    public final", "type": "OptionSpec<File>", "declarator": "credentials", "var_name": "credentials"}, {"original_string": "public final OptionSpec<String> deleteArchive;", "modifier": "public final", "type": "OptionSpec<String>", "declarator": "deleteArchive", "var_name": "deleteArchive"}, {"original_string": "public final OptionSpec<Void> deleteVault;", "modifier": "public final", "type": "OptionSpec<Void>", "declarator": "deleteVault", "var_name": "deleteVault"}, {"original_string": "public final OptionSpec<File> calculateHash;", "modifier": "public final", "type": "OptionSpec<File>", "declarator": "calculateHash", "var_name": "calculateHash"}, {"original_string": "public final OptionSpec<File> multipartUpload;", "modifier": "public final", "type": "OptionSpec<File>", "declarator": "multipartUpload", "var_name": "multipartUpload"}, {"original_string": "public final OptionSpec<Long> partSize;", "modifier": "public final", "type": "OptionSpec<Long>", "declarator": "partSize", "var_name": "partSize"}, {"original_string": "public final OptionSpec<Void> help;", "modifier": "public final", "type": "OptionSpec<Void>", "declarator": "help", "var_name": "help"}, {"original_string": "public final OptionSpec<String> abortUpload;", "modifier": "public final", "type": "OptionSpec<String>", "declarator": "abortUpload", "var_name": "abortUpload"}], "methods": [{"identifier": "GlacierUploaderOptionParser", "parameters": "(final Configuration config)", "modifiers": "public", "return": "", "signature": " GlacierUploaderOptionParser(final Configuration config)", "full_signature": "public  GlacierUploaderOptionParser(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.GlacierUploaderOptionParser(final Configuration config)", "testcase": false, "constructor": true}, {"identifier": "parseEndpointToRegion", "parameters": "(String endpointOptionValue)", "modifiers": "public", "return": "String", "signature": "String parseEndpointToRegion(String endpointOptionValue)", "full_signature": "public String parseEndpointToRegion(String endpointOptionValue)", "class_method_signature": "GlacierUploaderOptionParser.parseEndpointToRegion(String endpointOptionValue)", "testcase": false, "constructor": false}, {"identifier": "mergeNonOptionsFiles", "parameters": "(List<File> optionsFiles, List<String> nonOptions)", "modifiers": "public", "return": "List<File>", "signature": "List<File> mergeNonOptionsFiles(List<File> optionsFiles, List<String> nonOptions)", "full_signature": "public List<File> mergeNonOptionsFiles(List<File> optionsFiles, List<String> nonOptions)", "class_method_signature": "GlacierUploaderOptionParser.mergeNonOptionsFiles(List<File> optionsFiles, List<String> nonOptions)", "testcase": false, "constructor": false}, {"identifier": "parseVault", "parameters": "(final Configuration config)", "modifiers": "private", "return": "ArgumentAcceptingOptionSpec<String>", "signature": "ArgumentAcceptingOptionSpec<String> parseVault(final Configuration config)", "full_signature": "private ArgumentAcceptingOptionSpec<String> parseVault(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseVault(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parseEndpoint", "parameters": "(final Configuration config)", "modifiers": "@Deprecated private", "return": "ArgumentAcceptingOptionSpec<String>", "signature": "ArgumentAcceptingOptionSpec<String> parseEndpoint(final Configuration config)", "full_signature": "@Deprecated private ArgumentAcceptingOptionSpec<String> parseEndpoint(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseEndpoint(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parseRegion", "parameters": "(final Configuration config)", "modifiers": "private", "return": "ArgumentAcceptingOptionSpec<String>", "signature": "ArgumentAcceptingOptionSpec<String> parseRegion(final Configuration config)", "full_signature": "private ArgumentAcceptingOptionSpec<String> parseRegion(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseRegion(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parseUploadFile", "parameters": "(final Configuration config)", "modifiers": "private", "return": "ArgumentAcceptingOptionSpec<File>", "signature": "ArgumentAcceptingOptionSpec<File> parseUploadFile(final Configuration config)", "full_signature": "private ArgumentAcceptingOptionSpec<File> parseUploadFile(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseUploadFile(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parseInventory", "parameters": "(final Configuration config)", "modifiers": "private", "return": "ArgumentAcceptingOptionSpec<String>", "signature": "ArgumentAcceptingOptionSpec<String> parseInventory(final Configuration config)", "full_signature": "private ArgumentAcceptingOptionSpec<String> parseInventory(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseInventory(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parseDownload", "parameters": "(final Configuration config)", "modifiers": "private", "return": "ArgumentAcceptingOptionSpec<String>", "signature": "ArgumentAcceptingOptionSpec<String> parseDownload(final Configuration config)", "full_signature": "private ArgumentAcceptingOptionSpec<String> parseDownload(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseDownload(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parseCredentials", "parameters": "(final Configuration config)", "modifiers": "@Deprecated private", "return": "ArgumentAcceptingOptionSpec<File>", "signature": "ArgumentAcceptingOptionSpec<File> parseCredentials(final Configuration config)", "full_signature": "@Deprecated private ArgumentAcceptingOptionSpec<File> parseCredentials(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseCredentials(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parseCreateVault", "parameters": "(final Configuration config)", "modifiers": "private", "return": "OptionSpec<Void>", "signature": "OptionSpec<Void> parseCreateVault(final Configuration config)", "full_signature": "private OptionSpec<Void> parseCreateVault(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseCreateVault(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parseListVault", "parameters": "(final Configuration config)", "modifiers": "private", "return": "OptionSpec<Void>", "signature": "OptionSpec<Void> parseListVault(final Configuration config)", "full_signature": "private OptionSpec<Void> parseListVault(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseListVault(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parseListJobs", "parameters": "(final Configuration config)", "modifiers": "private", "return": "OptionSpec<Void>", "signature": "OptionSpec<Void> parseListJobs(final Configuration config)", "full_signature": "private OptionSpec<Void> parseListJobs(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseListJobs(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parseDeleteVault", "parameters": "(final Configuration config)", "modifiers": "private", "return": "OptionSpec<Void>", "signature": "OptionSpec<Void> parseDeleteVault(final Configuration config)", "full_signature": "private OptionSpec<Void> parseDeleteVault(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseDeleteVault(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parseTargetFile", "parameters": "(final Configuration config)", "modifiers": "private", "return": "ArgumentAcceptingOptionSpec<File>", "signature": "ArgumentAcceptingOptionSpec<File> parseTargetFile(final Configuration config)", "full_signature": "private ArgumentAcceptingOptionSpec<File> parseTargetFile(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseTargetFile(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parseHashFile", "parameters": "(final Configuration config)", "modifiers": "private", "return": "ArgumentAcceptingOptionSpec<File>", "signature": "ArgumentAcceptingOptionSpec<File> parseHashFile(final Configuration config)", "full_signature": "private ArgumentAcceptingOptionSpec<File> parseHashFile(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseHashFile(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parseDeleteArchive", "parameters": "(final Configuration config)", "modifiers": "private", "return": "ArgumentAcceptingOptionSpec<String>", "signature": "ArgumentAcceptingOptionSpec<String> parseDeleteArchive(final Configuration config)", "full_signature": "private ArgumentAcceptingOptionSpec<String> parseDeleteArchive(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseDeleteArchive(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parseMultipartUploadFile", "parameters": "(final Configuration config)", "modifiers": "private", "return": "ArgumentAcceptingOptionSpec<File>", "signature": "ArgumentAcceptingOptionSpec<File> parseMultipartUploadFile(final Configuration config)", "full_signature": "private ArgumentAcceptingOptionSpec<File> parseMultipartUploadFile(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseMultipartUploadFile(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parsePartSize", "parameters": "(final Configuration config)", "modifiers": "private", "return": "ArgumentAcceptingOptionSpec<Long>", "signature": "ArgumentAcceptingOptionSpec<Long> parsePartSize(final Configuration config)", "full_signature": "private ArgumentAcceptingOptionSpec<Long> parsePartSize(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parsePartSize(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parseHelp", "parameters": "(final Configuration config)", "modifiers": "private", "return": "OptionSpecBuilder", "signature": "OptionSpecBuilder parseHelp(final Configuration config)", "full_signature": "private OptionSpecBuilder parseHelp(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseHelp(final Configuration config)", "testcase": false, "constructor": false}, {"identifier": "parseAbortUpload", "parameters": "(final Configuration config)", "modifiers": "private", "return": "ArgumentAcceptingOptionSpec<String>", "signature": "ArgumentAcceptingOptionSpec<String> parseAbortUpload(final Configuration config)", "full_signature": "private ArgumentAcceptingOptionSpec<String> parseAbortUpload(final Configuration config)", "class_method_signature": "GlacierUploaderOptionParser.parseAbortUpload(final Configuration config)", "testcase": false, "constructor": false}], "file": "glacieruploader-parsers/src/main/java/de/kopis/glacier/parsers/GlacierUploaderOptionParser.java"}, "focal_method": {"identifier": "mergeNonOptionsFiles", "parameters": "(List<File> optionsFiles, List<String> nonOptions)", "modifiers": "public", "return": "List<File>", "body": "public List<File> mergeNonOptionsFiles(List<File> optionsFiles, List<String> nonOptions) {\n        final List<File> files = new ArrayList<>(optionsFiles);\n\n        if (!nonOptions.isEmpty()) {\n            // Adds non options to the list in order\n            // to be able to use * in filenames\n            for (String nonOption : nonOptions) {\n                File file = new File(nonOption);\n                if (file.exists() && file.isFile()) {\n                    files.add(file);\n                }\n            }\n        }\n        return files;\n    }", "signature": "List<File> mergeNonOptionsFiles(List<File> optionsFiles, List<String> nonOptions)", "full_signature": "public List<File> mergeNonOptionsFiles(List<File> optionsFiles, List<String> nonOptions)", "class_method_signature": "GlacierUploaderOptionParser.mergeNonOptionsFiles(List<File> optionsFiles, List<String> nonOptions)", "testcase": false, "constructor": false, "invocations": ["isEmpty", "exists", "isFile", "add"]}, "repository": {"repo_id": 5518934, "url": "https://github.com/MoriTanosuke/glacieruploader", "language": "Java", "is_fork": false, "fork_count": 54, "stargazer_count": 243, "size": 6248, "license": "licensed"}}