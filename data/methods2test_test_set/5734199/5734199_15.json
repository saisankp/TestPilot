{"test_class": {"identifier": "GeoboxTest", "superclass": "", "interfaces": "", "fields": [], "file": "mardao-core/src/test/java/net/sf/mardao/core/geo/GeoboxTest.java"}, "test_case": {"identifier": "testSize", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testSize() {\n    final float lat = 25.18f;\n    for (int bits = 10; bits < 25; bits++) {\n      final long maskLat = Geobox.getMask(lat, 90f, bits);\n\n      // decrease until limit\n      long m = maskLat;\n      float latMin = lat;\n      while (m == maskLat) {\n        latMin -= 0.00001f;\n        m = Geobox.getMask(latMin, 90f, bits);\n      }\n//            LOG.info(\"latMin = {}\", latMin);\n\n\n      // increase until limit\n      m = maskLat;\n      float latMax = lat;\n      while (m == maskLat) {\n        latMax += 0.00001f;\n        m = Geobox.getMask(latMax, 90f, bits);\n      }\n//            LOG.info(\"latMax = {}\", latMax);\n\n      DLocation pMin = new DLocation(latMin, lat);\n      DLocation pMax = new DLocation(latMax, lat);\n//            LOG.info(\"lat distance for {} bits is {}m\", bits, Geobox.distance(pMin, pMax));\n\n      pMin = new DLocation(lat, latMin);\n      pMax = new DLocation(lat, latMax);\n//            LOG.info(\"long distance at N{} is {}m\", lat, GeoDaoImpl.distance(pMin, pMax));\n    }\n  }", "signature": "void testSize()", "full_signature": "@Test public void testSize()", "class_method_signature": "GeoboxTest.testSize()", "testcase": true, "constructor": false, "invocations": ["getMask", "getMask", "getMask"]}, "focal_class": {"identifier": "Geobox", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final int RADIUS = 6378135;", "modifier": "public static final", "type": "int", "declarator": "RADIUS = 6378135", "var_name": "RADIUS"}, {"original_string": "public static final int D = 40075004;", "modifier": "public static final", "type": "int", "declarator": "D = 40075004", "var_name": "D"}, {"original_string": "static final float[] D_MAJOR = new float[58];", "modifier": "static final", "type": "float[]", "declarator": "D_MAJOR = new float[58]", "var_name": "D_MAJOR"}, {"original_string": "@Deprecated\n    public static final int BITS_10_39km = 10;", "modifier": "@Deprecated\n    public static final", "type": "int", "declarator": "BITS_10_39km = 10", "var_name": "BITS_10_39km"}, {"original_string": "@Deprecated\n    public static final int BITS_12_10km = 12;", "modifier": "@Deprecated\n    public static final", "type": "int", "declarator": "BITS_12_10km = 12", "var_name": "BITS_12_10km"}, {"original_string": "@Deprecated\n    public static final int BITS_15_1224m = 15;", "modifier": "@Deprecated\n    public static final", "type": "int", "declarator": "BITS_15_1224m = 15", "var_name": "BITS_15_1224m"}, {"original_string": "@Deprecated\n    public static final int BITS_17_307m = 17;", "modifier": "@Deprecated\n    public static final", "type": "int", "declarator": "BITS_17_307m = 17", "var_name": "BITS_17_307m"}, {"original_string": "@Deprecated\n    public static final int BITS_18_154m = 18;", "modifier": "@Deprecated\n    public static final", "type": "int", "declarator": "BITS_18_154m = 18", "var_name": "BITS_18_154m"}, {"original_string": "@Deprecated\n    public static final int BITS_19_77m = 19;", "modifier": "@Deprecated\n    public static final", "type": "int", "declarator": "BITS_19_77m = 19", "var_name": "BITS_19_77m"}, {"original_string": "@Deprecated\n    public static final int BITS_20_39m = 20;", "modifier": "@Deprecated\n    public static final", "type": "int", "declarator": "BITS_20_39m = 20", "var_name": "BITS_20_39m"}, {"original_string": "@Deprecated\n    public static final int BITS_22_10m = 22;", "modifier": "@Deprecated\n    public static final", "type": "int", "declarator": "BITS_22_10m = 22", "var_name": "BITS_22_10m"}, {"original_string": "@Deprecated\n    public static final int BITS_23_53dm = 23;", "modifier": "@Deprecated\n    public static final", "type": "int", "declarator": "BITS_23_53dm = 23", "var_name": "BITS_23_53dm"}, {"original_string": "@Deprecated\n    public static final int BITS_24_32dm = 24;", "modifier": "@Deprecated\n    public static final", "type": "int", "declarator": "BITS_24_32dm = 24", "var_name": "BITS_24_32dm"}, {"original_string": "public static final int BITS_0_40075004m = 0;", "modifier": "public static final", "type": "int", "declarator": "BITS_0_40075004m = 0", "var_name": "BITS_0_40075004m"}, {"original_string": "public static final int BITS_1_20037502m = 1;", "modifier": "public static final", "type": "int", "declarator": "BITS_1_20037502m = 1", "var_name": "BITS_1_20037502m"}, {"original_string": "public static final int BITS_2_10018751m = 2;", "modifier": "public static final", "type": "int", "declarator": "BITS_2_10018751m = 2", "var_name": "BITS_2_10018751m"}, {"original_string": "public static final int BITS_3_5009375m = 3;", "modifier": "public static final", "type": "int", "declarator": "BITS_3_5009375m = 3", "var_name": "BITS_3_5009375m"}, {"original_string": "public static final int BITS_4_2504687m = 4;", "modifier": "public static final", "type": "int", "declarator": "BITS_4_2504687m = 4", "var_name": "BITS_4_2504687m"}, {"original_string": "public static final int BITS_5_1252343m = 5;", "modifier": "public static final", "type": "int", "declarator": "BITS_5_1252343m = 5", "var_name": "BITS_5_1252343m"}, {"original_string": "public static final int BITS_6_626171m = 6;", "modifier": "public static final", "type": "int", "declarator": "BITS_6_626171m = 6", "var_name": "BITS_6_626171m"}, {"original_string": "public static final int BITS_7_313085m = 7;", "modifier": "public static final", "type": "int", "declarator": "BITS_7_313085m = 7", "var_name": "BITS_7_313085m"}, {"original_string": "public static final int BITS_8_156542m = 8;", "modifier": "public static final", "type": "int", "declarator": "BITS_8_156542m = 8", "var_name": "BITS_8_156542m"}, {"original_string": "public static final int BITS_9_78271m = 9;", "modifier": "public static final", "type": "int", "declarator": "BITS_9_78271m = 9", "var_name": "BITS_9_78271m"}, {"original_string": "public static final int BITS_10_39135m = 10;", "modifier": "public static final", "type": "int", "declarator": "BITS_10_39135m = 10", "var_name": "BITS_10_39135m"}, {"original_string": "public static final int BITS_11_19567m = 11;", "modifier": "public static final", "type": "int", "declarator": "BITS_11_19567m = 11", "var_name": "BITS_11_19567m"}, {"original_string": "public static final int BITS_12_9783m = 12;", "modifier": "public static final", "type": "int", "declarator": "BITS_12_9783m = 12", "var_name": "BITS_12_9783m"}, {"original_string": "public static final int BITS_13_4891m = 13;", "modifier": "public static final", "type": "int", "declarator": "BITS_13_4891m = 13", "var_name": "BITS_13_4891m"}, {"original_string": "public static final int BITS_14_2445m = 14;", "modifier": "public static final", "type": "int", "declarator": "BITS_14_2445m = 14", "var_name": "BITS_14_2445m"}, {"original_string": "public static final int BITS_15_1222m = 15;", "modifier": "public static final", "type": "int", "declarator": "BITS_15_1222m = 15", "var_name": "BITS_15_1222m"}, {"original_string": "public static final int BITS_16_611m = 16;", "modifier": "public static final", "type": "int", "declarator": "BITS_16_611m = 16", "var_name": "BITS_16_611m"}, {"original_string": "public static final int BITS_17_305m = 17;", "modifier": "public static final", "type": "int", "declarator": "BITS_17_305m = 17", "var_name": "BITS_17_305m"}, {"original_string": "public static final int BITS_18_152m = 18;", "modifier": "public static final", "type": "int", "declarator": "BITS_18_152m = 18", "var_name": "BITS_18_152m"}, {"original_string": "public static final int BITS_19_76m = 19;", "modifier": "public static final", "type": "int", "declarator": "BITS_19_76m = 19", "var_name": "BITS_19_76m"}, {"original_string": "public static final int BITS_20_38m = 20;", "modifier": "public static final", "type": "int", "declarator": "BITS_20_38m = 20", "var_name": "BITS_20_38m"}, {"original_string": "public static final int BITS_21_19m = 21;", "modifier": "public static final", "type": "int", "declarator": "BITS_21_19m = 21", "var_name": "BITS_21_19m"}, {"original_string": "public static final int BITS_22_9m = 22;", "modifier": "public static final", "type": "int", "declarator": "BITS_22_9m = 22", "var_name": "BITS_22_9m"}, {"original_string": "public static final int BITS_23_4m = 23;", "modifier": "public static final", "type": "int", "declarator": "BITS_23_4m = 23", "var_name": "BITS_23_4m"}, {"original_string": "public static final int BITS_24_2m = 24;", "modifier": "public static final", "type": "int", "declarator": "BITS_24_2m = 24", "var_name": "BITS_24_2m"}, {"original_string": "public static final int BITS_25_1m = 25;", "modifier": "public static final", "type": "int", "declarator": "BITS_25_1m = 25", "var_name": "BITS_25_1m"}, {"original_string": "public static final int BITS_26_0m = 26;", "modifier": "public static final", "type": "int", "declarator": "BITS_26_0m = 26", "var_name": "BITS_26_0m"}], "methods": [{"identifier": "getMask", "parameters": "(float x, float base, int bits)", "modifiers": "public static", "return": "long", "signature": "long getMask(float x, float base, int bits)", "full_signature": "public static long getMask(float x, float base, int bits)", "class_method_signature": "Geobox.getMask(float x, float base, int bits)", "testcase": false, "constructor": false}, {"identifier": "getHash", "parameters": "(float lat, float lng, int bits)", "modifiers": "public static", "return": "long", "signature": "long getHash(float lat, float lng, int bits)", "full_signature": "public static long getHash(float lat, float lng, int bits)", "class_method_signature": "Geobox.getHash(float lat, float lng, int bits)", "testcase": false, "constructor": false}, {"identifier": "getTuple", "parameters": "(float lat, float lng, int bits)", "modifiers": "public static", "return": "Set<Long>", "signature": "Set<Long> getTuple(float lat, float lng, int bits)", "full_signature": "public static Set<Long> getTuple(float lat, float lng, int bits)", "class_method_signature": "Geobox.getTuple(float lat, float lng, int bits)", "testcase": false, "constructor": false}, {"identifier": "getHashIterative", "parameters": "(float major, float minor, final int bits)", "modifiers": "protected static", "return": "long", "signature": "long getHashIterative(float major, float minor, final int bits)", "full_signature": "protected static long getHashIterative(float major, float minor, final int bits)", "class_method_signature": "Geobox.getHashIterative(float major, float minor, final int bits)", "testcase": false, "constructor": false}, {"identifier": "distance", "parameters": "(DLocation p1, DLocation p2)", "modifiers": "public static", "return": "double", "signature": "double distance(DLocation p1, DLocation p2)", "full_signature": "public static double distance(DLocation p1, DLocation p2)", "class_method_signature": "Geobox.distance(DLocation p1, DLocation p2)", "testcase": false, "constructor": false}, {"identifier": "makeDoubleInRange", "parameters": "(double d)", "modifiers": "public static", "return": "double", "signature": "double makeDoubleInRange(double d)", "full_signature": "public static double makeDoubleInRange(double d)", "class_method_signature": "Geobox.makeDoubleInRange(double d)", "testcase": false, "constructor": false}, {"identifier": "getCellSize", "parameters": "(int bits)", "modifiers": "public static", "return": "int", "signature": "int getCellSize(int bits)", "full_signature": "public static int getCellSize(int bits)", "class_method_signature": "Geobox.getCellSize(int bits)", "testcase": false, "constructor": false}, {"identifier": "getCellSize", "parameters": "(int bits, double latitude)", "modifiers": "public static", "return": "double", "signature": "double getCellSize(int bits, double latitude)", "full_signature": "public static double getCellSize(int bits, double latitude)", "class_method_signature": "Geobox.getCellSize(int bits, double latitude)", "testcase": false, "constructor": false}, {"identifier": "distance", "parameters": "(double p1lat, double p1lon, double p2lat, double p2lon)", "modifiers": "public static", "return": "double", "signature": "double distance(double p1lat, double p1lon, double p2lat, double p2lon)", "full_signature": "public static double distance(double p1lat, double p1lon, double p2lat, double p2lon)", "class_method_signature": "Geobox.distance(double p1lat, double p1lon, double p2lat, double p2lon)", "testcase": false, "constructor": false}], "file": "mardao-core/src/main/java/net/sf/mardao/core/geo/Geobox.java"}, "focal_method": {"identifier": "getMask", "parameters": "(float x, float base, int bits)", "modifiers": "public static", "return": "long", "body": "public static long getMask(float x, float base, int bits) {\n        return (long) Math.floor(((x + base) / (2 * base)) * (1 << (bits - 1)));\n    }", "signature": "long getMask(float x, float base, int bits)", "full_signature": "public static long getMask(float x, float base, int bits)", "class_method_signature": "Geobox.getMask(float x, float base, int bits)", "testcase": false, "constructor": false, "invocations": ["floor"]}, "repository": {"repo_id": 5734199, "url": "https://github.com/sosandstrom/mardao", "language": "Java", "is_fork": false, "fork_count": 16, "stargazer_count": 18, "size": 3906, "license": "licensed"}}