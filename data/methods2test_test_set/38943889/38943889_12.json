{"test_class": {"identifier": "X937ImageViewDataRecordImageOffsetTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static Logger log = LoggerFactory.getLogger(X937ImageViewDataRecordImageOffsetTest.class);", "modifier": "private static", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(X937ImageViewDataRecordImageOffsetTest.class)", "var_name": "log"}, {"original_string": "private static final String x9InputFilename = \"../../../test-files/ST001.test_send.x937\";", "modifier": "private static final", "type": "String", "declarator": "x9InputFilename = \"../../../test-files/ST001.test_send.x937\"", "var_name": "x9InputFilename"}, {"original_string": "private static final byte[] tiffMarker = new byte[]{0x49, 0x49, 0x2a};", "modifier": "private static final", "type": "byte[]", "declarator": "tiffMarker = new byte[]{0x49, 0x49, 0x2a}", "var_name": "tiffMarker"}], "file": "tlc-commons-project/tlc-io-x937/src/test/java/com/thelastcheck/io/x9/utils/X937ImageViewDataRecordImageOffsetTest.java"}, "test_case": {"identifier": "testOffset", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testOffset() throws Exception {\n\n\n        File inFile = new File(x9InputFilename);\n\n        try (\n                X9InputStreamRecordReader reader = new X9InputStreamRecordReader(new FileInputStream(inFile));\n                RandomAccessFile raf = new RandomAccessFile(inFile, \"r\");\n        ) {\n            byte[] buffer = new byte[3];\n\n            for (Record record : reader) {\n                X9Record x9Record = (X9Record) record;\n                log.debug(\"Record number: \" + record.recordPosition() +\n                        \", type: \" + x9Record.recordType() +\n                        \", offset: \" + record.offsetPosition());\n                if (x9Record.recordType() == X9Record.TYPE_IMAGE_VIEW_DATA) {\n                    X937ImageViewDataRecord imageRecord = (X937ImageViewDataRecord) x9Record;\n                    long offset = new X937ImageViewDataRecordImageOffset(imageRecord).offset();\n                    log.debug(\"  ... offset to image \" + offset);\n                    long offset2 = record.offsetPosition() + 4 + imageRecord.length() - imageRecord.lengthOfImageDataAsInt();\n                    assertEquals(offset2, offset);\n\n                    raf.seek(offset);\n                    raf.read(buffer);\n                    assertArrayEquals(tiffMarker, buffer);\n                }\n            }\n        }\n    }", "signature": "void testOffset()", "full_signature": "@Test public void testOffset()", "class_method_signature": "X937ImageViewDataRecordImageOffsetTest.testOffset()", "testcase": true, "constructor": false, "invocations": ["debug", "recordPosition", "recordType", "offsetPosition", "recordType", "offset", "debug", "offsetPosition", "length", "lengthOfImageDataAsInt", "assertEquals", "seek", "read", "assertArrayEquals"]}, "focal_class": {"identifier": "X937ImageViewDataRecordImageOffset", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final X937ImageViewDataRecord record;", "modifier": "private final", "type": "X937ImageViewDataRecord", "declarator": "record", "var_name": "record"}], "methods": [{"identifier": "X937ImageViewDataRecordImageOffset", "parameters": "(X937ImageViewDataRecord record)", "modifiers": "public", "return": "", "signature": " X937ImageViewDataRecordImageOffset(X937ImageViewDataRecord record)", "full_signature": "public  X937ImageViewDataRecordImageOffset(X937ImageViewDataRecord record)", "class_method_signature": "X937ImageViewDataRecordImageOffset.X937ImageViewDataRecordImageOffset(X937ImageViewDataRecord record)", "testcase": false, "constructor": true}, {"identifier": "offset", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long offset()", "full_signature": "public long offset()", "class_method_signature": "X937ImageViewDataRecordImageOffset.offset()", "testcase": false, "constructor": false}, {"identifier": "offset", "parameters": "(X937ImageViewDataRecord record)", "modifiers": "public static", "return": "long", "signature": "long offset(X937ImageViewDataRecord record)", "full_signature": "public static long offset(X937ImageViewDataRecord record)", "class_method_signature": "X937ImageViewDataRecordImageOffset.offset(X937ImageViewDataRecord record)", "testcase": false, "constructor": false}], "file": "tlc-commons-project/tlc-io-x937/src/main/java/com/thelastcheck/io/x9/utils/X937ImageViewDataRecordImageOffset.java"}, "focal_method": {"identifier": "offset", "parameters": "()", "modifiers": "public", "return": "long", "body": "public long offset() {\n        return offset(record);\n    }", "signature": "long offset()", "full_signature": "public long offset()", "class_method_signature": "X937ImageViewDataRecordImageOffset.offset()", "testcase": false, "constructor": false, "invocations": ["offset"]}, "repository": {"repo_id": 38943889, "url": "https://github.com/TheLastCheck/tlc.open.java", "language": "Java", "is_fork": false, "fork_count": 4, "stargazer_count": 5, "size": 1247, "license": "licensed"}}