{"test_class": {"identifier": "ConfigurationResourceManagerTest", "superclass": "extends ConfigurationResourceTestBase", "interfaces": "", "fields": [{"original_string": "private ConfigurationResourceManager configurationResourceManager;", "modifier": "private", "type": "ConfigurationResourceManager", "declarator": "configurationResourceManager", "var_name": "configurationResourceManager"}], "file": "gateleen-core/src/test/java/org/swisspush/gateleen/core/configuration/ConfigurationResourceManagerTest.java"}, "test_case": {"identifier": "testGetRegisteredResourceNotYetRegistered", "parameters": "(TestContext context)", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetRegisteredResourceNotYetRegistered(TestContext context) {\n        Async async = context.async();\n        MockResourceStorage storage = new MockResourceStorage();\n        configurationResourceManager = new ConfigurationResourceManager(vertx, storage);\n\n        String resourceURI = \"/gateleen/resources/person\";\n\n        // resource should not be in storage\n        context.assertFalse(storage.getMockData().containsKey(resourceURI));\n\n        configurationResourceManager.getRegisteredResource(resourceURI).setHandler(event -> {\n            context.assertTrue(event.succeeded());\n            context.assertFalse(event.result().isPresent());\n            async.complete();\n        });\n    }", "signature": "void testGetRegisteredResourceNotYetRegistered(TestContext context)", "full_signature": "@Test public void testGetRegisteredResourceNotYetRegistered(TestContext context)", "class_method_signature": "ConfigurationResourceManagerTest.testGetRegisteredResourceNotYetRegistered(TestContext context)", "testcase": true, "constructor": false, "invocations": ["async", "assertFalse", "containsKey", "getMockData", "setHandler", "getRegisteredResource", "assertTrue", "succeeded", "assertFalse", "isPresent", "result", "complete"]}, "focal_class": {"identifier": "ConfigurationResourceManager", "superclass": "", "interfaces": "implements LoggableResource", "fields": [{"original_string": "private Logger log = LoggerFactory.getLogger(ConfigurationResourceManager.class);", "modifier": "private", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(ConfigurationResourceManager.class)", "var_name": "log"}, {"original_string": "private Vertx vertx;", "modifier": "private", "type": "Vertx", "declarator": "vertx", "var_name": "vertx"}, {"original_string": "private ResourceStorage storage;", "modifier": "private", "type": "ResourceStorage", "declarator": "storage", "var_name": "storage"}, {"original_string": "private Map<String, String> registeredResources;", "modifier": "private", "type": "Map<String, String>", "declarator": "registeredResources", "var_name": "registeredResources"}, {"original_string": "private Map<String, List<ConfigurationResourceObserver>> observers;", "modifier": "private", "type": "Map<String, List<ConfigurationResourceObserver>>", "declarator": "observers", "var_name": "observers"}, {"original_string": "private ConfigurationResourceValidator configurationResourceValidator;", "modifier": "private", "type": "ConfigurationResourceValidator", "declarator": "configurationResourceValidator", "var_name": "configurationResourceValidator"}, {"original_string": "private boolean logConfigurationResourceChanges = false;", "modifier": "private", "type": "boolean", "declarator": "logConfigurationResourceChanges = false", "var_name": "logConfigurationResourceChanges"}, {"original_string": "public static final String CONFIG_RESOURCE_CHANGED_ADDRESS = \"gateleen.configuration-resource-changed\";", "modifier": "public static final", "type": "String", "declarator": "CONFIG_RESOURCE_CHANGED_ADDRESS = \"gateleen.configuration-resource-changed\"", "var_name": "CONFIG_RESOURCE_CHANGED_ADDRESS"}, {"original_string": "private static final String MESSAGE_REQUEST_URI = \"requestUri\";", "modifier": "private static final", "type": "String", "declarator": "MESSAGE_REQUEST_URI = \"requestUri\"", "var_name": "MESSAGE_REQUEST_URI"}, {"original_string": "private static final String MESSAGE_RESOURCE_TYPE = \"type\";", "modifier": "private static final", "type": "String", "declarator": "MESSAGE_RESOURCE_TYPE = \"type\"", "var_name": "MESSAGE_RESOURCE_TYPE"}], "methods": [{"identifier": "ConfigurationResourceManager", "parameters": "(Vertx vertx, final ResourceStorage storage)", "modifiers": "public", "return": "", "signature": " ConfigurationResourceManager(Vertx vertx, final ResourceStorage storage)", "full_signature": "public  ConfigurationResourceManager(Vertx vertx, final ResourceStorage storage)", "class_method_signature": "ConfigurationResourceManager.ConfigurationResourceManager(Vertx vertx, final ResourceStorage storage)", "testcase": false, "constructor": true}, {"identifier": "getRegisteredResource", "parameters": "(String resourceUri)", "modifiers": "public", "return": "Future<Optional<Buffer>>", "signature": "Future<Optional<Buffer>> getRegisteredResource(String resourceUri)", "full_signature": "public Future<Optional<Buffer>> getRegisteredResource(String resourceUri)", "class_method_signature": "ConfigurationResourceManager.getRegisteredResource(String resourceUri)", "testcase": false, "constructor": false}, {"identifier": "registerResource", "parameters": "(String resourceUri, String resourceSchema)", "modifiers": "public", "return": "void", "signature": "void registerResource(String resourceUri, String resourceSchema)", "full_signature": "public void registerResource(String resourceUri, String resourceSchema)", "class_method_signature": "ConfigurationResourceManager.registerResource(String resourceUri, String resourceSchema)", "testcase": false, "constructor": false}, {"identifier": "registerObserver", "parameters": "(ConfigurationResourceObserver observer, String resourceUri)", "modifiers": "public", "return": "void", "signature": "void registerObserver(ConfigurationResourceObserver observer, String resourceUri)", "full_signature": "public void registerObserver(ConfigurationResourceObserver observer, String resourceUri)", "class_method_signature": "ConfigurationResourceManager.registerObserver(ConfigurationResourceObserver observer, String resourceUri)", "testcase": false, "constructor": false}, {"identifier": "enableResourceLogging", "parameters": "(boolean resourceLoggingEnabled)", "modifiers": "@Override public", "return": "void", "signature": "void enableResourceLogging(boolean resourceLoggingEnabled)", "full_signature": "@Override public void enableResourceLogging(boolean resourceLoggingEnabled)", "class_method_signature": "ConfigurationResourceManager.enableResourceLogging(boolean resourceLoggingEnabled)", "testcase": false, "constructor": false}, {"identifier": "handleConfigurationResource", "parameters": "(final HttpServerRequest request)", "modifiers": "public", "return": "boolean", "signature": "boolean handleConfigurationResource(final HttpServerRequest request)", "full_signature": "public boolean handleConfigurationResource(final HttpServerRequest request)", "class_method_signature": "ConfigurationResourceManager.handleConfigurationResource(final HttpServerRequest request)", "testcase": false, "constructor": false}, {"identifier": "getRegisteredResources", "parameters": "()", "modifiers": "private", "return": "Map<String, String>", "signature": "Map<String, String> getRegisteredResources()", "full_signature": "private Map<String, String> getRegisteredResources()", "class_method_signature": "ConfigurationResourceManager.getRegisteredResources()", "testcase": false, "constructor": false}, {"identifier": "getObservers", "parameters": "()", "modifiers": "public", "return": "Map<String, List<ConfigurationResourceObserver>>", "signature": "Map<String, List<ConfigurationResourceObserver>> getObservers()", "full_signature": "public Map<String, List<ConfigurationResourceObserver>> getObservers()", "class_method_signature": "ConfigurationResourceManager.getObservers()", "testcase": false, "constructor": false}, {"identifier": "getValidatedRegisteredResource", "parameters": "(String resourceUri)", "modifiers": "private", "return": "Future<Optional<Buffer>>", "signature": "Future<Optional<Buffer>> getValidatedRegisteredResource(String resourceUri)", "full_signature": "private Future<Optional<Buffer>> getValidatedRegisteredResource(String resourceUri)", "class_method_signature": "ConfigurationResourceManager.getValidatedRegisteredResource(String resourceUri)", "testcase": false, "constructor": false}, {"identifier": "notifyObserversAboutRemovedResource", "parameters": "(String requestUri)", "modifiers": "private", "return": "void", "signature": "void notifyObserversAboutRemovedResource(String requestUri)", "full_signature": "private void notifyObserversAboutRemovedResource(String requestUri)", "class_method_signature": "ConfigurationResourceManager.notifyObserversAboutRemovedResource(String requestUri)", "testcase": false, "constructor": false}, {"identifier": "notifyObserverAboutResourceChange", "parameters": "(String requestUri, ConfigurationResourceObserver observer)", "modifiers": "private", "return": "void", "signature": "void notifyObserverAboutResourceChange(String requestUri, ConfigurationResourceObserver observer)", "full_signature": "private void notifyObserverAboutResourceChange(String requestUri, ConfigurationResourceObserver observer)", "class_method_signature": "ConfigurationResourceManager.notifyObserverAboutResourceChange(String requestUri, ConfigurationResourceObserver observer)", "testcase": false, "constructor": false}, {"identifier": "getObserversByResourceUri", "parameters": "(String resourceUri)", "modifiers": "private", "return": "List<ConfigurationResourceObserver>", "signature": "List<ConfigurationResourceObserver> getObserversByResourceUri(String resourceUri)", "full_signature": "private List<ConfigurationResourceObserver> getObserversByResourceUri(String resourceUri)", "class_method_signature": "ConfigurationResourceManager.getObserversByResourceUri(String resourceUri)", "testcase": false, "constructor": false}], "file": "gateleen-core/src/main/java/org/swisspush/gateleen/core/configuration/ConfigurationResourceManager.java"}, "focal_method": {"identifier": "getRegisteredResource", "parameters": "(String resourceUri)", "modifiers": "public", "return": "Future<Optional<Buffer>>", "body": "public Future<Optional<Buffer>> getRegisteredResource(String resourceUri){\n        return getValidatedRegisteredResource(resourceUri);\n    }", "signature": "Future<Optional<Buffer>> getRegisteredResource(String resourceUri)", "full_signature": "public Future<Optional<Buffer>> getRegisteredResource(String resourceUri)", "class_method_signature": "ConfigurationResourceManager.getRegisteredResource(String resourceUri)", "testcase": false, "constructor": false, "invocations": ["getValidatedRegisteredResource"]}, "repository": {"repo_id": 52609528, "url": "https://github.com/swisspush/gateleen", "language": "Java", "is_fork": false, "fork_count": 28, "stargazer_count": 63, "size": 2919, "license": "licensed"}}