{"test_class": {"identifier": "GraphsHandlerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private TestingRepositoryHandler repoHandler;", "modifier": "private", "type": "TestingRepositoryHandler", "declarator": "repoHandler", "var_name": "repoHandler"}, {"original_string": "private GraphsHandler graphHandler;", "modifier": "private", "type": "GraphsHandler", "declarator": "graphHandler", "var_name": "graphHandler"}, {"original_string": "private FiltersHolder filters;", "modifier": "private", "type": "FiltersHolder", "declarator": "filters", "var_name": "filters"}], "file": "server/src/test/java/org/axway/grapes/server/core/GraphsHandlerTest.java"}, "test_case": {"identifier": "getGraphOfModuleWithOneSubmoduleAndDependencyOfEachType", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getGraphOfModuleWithOneSubmoduleAndDependencyOfEachType(){\n        repoHandler.loadTestCase(new TC03_ModuleWithOneSubmoduleAndDependencyOfEachType());\n\n        final String moduleId = DbModule.generateID(TC03_ModuleWithOneSubmoduleAndDependencyOfEachType.MODULE_NAME, TC03_ModuleWithOneSubmoduleAndDependencyOfEachType.MODULE_VERSION);\n        AbstractGraph graph = graphHandler.getModuleGraph(moduleId);\n\n        assertNotNull(graph);\n        assertEquals(5, graph.getElements().size());\n        assertEquals(4, graph.getDependencies().size());\n\n        GraphElement subModule = null;\n        for(GraphElement element: graph.getElements()){\n            if(element.getValue().equals(TC03_ModuleWithOneSubmoduleAndDependencyOfEachType.SUBMODULE_NAME)){\n                subModule = element;\n            }\n        }\n\n        assertNull(subModule);\n    }", "signature": "void getGraphOfModuleWithOneSubmoduleAndDependencyOfEachType()", "full_signature": "@Test public void getGraphOfModuleWithOneSubmoduleAndDependencyOfEachType()", "class_method_signature": "GraphsHandlerTest.getGraphOfModuleWithOneSubmoduleAndDependencyOfEachType()", "testcase": true, "constructor": false, "invocations": ["loadTestCase", "generateID", "getModuleGraph", "assertNotNull", "assertEquals", "size", "getElements", "assertEquals", "size", "getDependencies", "getElements", "equals", "getValue", "assertNull"]}, "focal_class": {"identifier": "GraphsHandler", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(GraphsHandler.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(GraphsHandler.class)", "var_name": "LOG"}, {"original_string": "private final RepositoryHandler repoHandler;", "modifier": "private final", "type": "RepositoryHandler", "declarator": "repoHandler", "var_name": "repoHandler"}, {"original_string": "private final FiltersHolder filters;", "modifier": "private final", "type": "FiltersHolder", "declarator": "filters", "var_name": "filters"}], "methods": [{"identifier": "GraphsHandler", "parameters": "(final RepositoryHandler repoHandler, final FiltersHolder filters)", "modifiers": "public", "return": "", "signature": " GraphsHandler(final RepositoryHandler repoHandler, final FiltersHolder filters)", "full_signature": "public  GraphsHandler(final RepositoryHandler repoHandler, final FiltersHolder filters)", "class_method_signature": "GraphsHandler.GraphsHandler(final RepositoryHandler repoHandler, final FiltersHolder filters)", "testcase": false, "constructor": true}, {"identifier": "getModuleGraph", "parameters": "(final String moduleId)", "modifiers": "public", "return": "AbstractGraph", "signature": "AbstractGraph getModuleGraph(final String moduleId)", "full_signature": "public AbstractGraph getModuleGraph(final String moduleId)", "class_method_signature": "GraphsHandler.getModuleGraph(final String moduleId)", "testcase": false, "constructor": false}, {"identifier": "addModuleToGraph", "parameters": "(final DbModule module, final AbstractGraph graph, final int depth)", "modifiers": "private", "return": "void", "signature": "void addModuleToGraph(final DbModule module, final AbstractGraph graph, final int depth)", "full_signature": "private void addModuleToGraph(final DbModule module, final AbstractGraph graph, final int depth)", "class_method_signature": "GraphsHandler.addModuleToGraph(final DbModule module, final AbstractGraph graph, final int depth)", "testcase": false, "constructor": false}, {"identifier": "addDependencyToGraph", "parameters": "(final DbDependency dependency, final AbstractGraph graph, final int depth, final String parentId)", "modifiers": "private", "return": "void", "signature": "void addDependencyToGraph(final DbDependency dependency, final AbstractGraph graph, final int depth, final String parentId)", "full_signature": "private void addDependencyToGraph(final DbDependency dependency, final AbstractGraph graph, final int depth, final String parentId)", "class_method_signature": "GraphsHandler.addDependencyToGraph(final DbDependency dependency, final AbstractGraph graph, final int depth, final String parentId)", "testcase": false, "constructor": false}, {"identifier": "getModuleTree", "parameters": "(final String moduleId)", "modifiers": "public", "return": "TreeNode", "signature": "TreeNode getModuleTree(final String moduleId)", "full_signature": "public TreeNode getModuleTree(final String moduleId)", "class_method_signature": "GraphsHandler.getModuleTree(final String moduleId)", "testcase": false, "constructor": false}, {"identifier": "addModuleToTree", "parameters": "(final DbModule module, final TreeNode tree)", "modifiers": "private", "return": "void", "signature": "void addModuleToTree(final DbModule module, final TreeNode tree)", "full_signature": "private void addModuleToTree(final DbModule module, final TreeNode tree)", "class_method_signature": "GraphsHandler.addModuleToTree(final DbModule module, final TreeNode tree)", "testcase": false, "constructor": false}], "file": "server/src/main/java/org/axway/grapes/server/core/GraphsHandler.java"}, "focal_method": {"identifier": "getModuleGraph", "parameters": "(final String moduleId)", "modifiers": "public", "return": "AbstractGraph", "body": "public AbstractGraph getModuleGraph(final String moduleId) {\n        final ModuleHandler moduleHandler = new ModuleHandler(repoHandler);\n        final DbModule module = moduleHandler.getModule(moduleId);\n        final DbOrganization organization = moduleHandler.getOrganization(module);\n\n        filters.setCorporateFilter(new CorporateFilter(organization));\n\n        final AbstractGraph graph = new ModuleGraph();\n        addModuleToGraph(module, graph, 0);\n\n        return graph;\n    }", "signature": "AbstractGraph getModuleGraph(final String moduleId)", "full_signature": "public AbstractGraph getModuleGraph(final String moduleId)", "class_method_signature": "GraphsHandler.getModuleGraph(final String moduleId)", "testcase": false, "constructor": false, "invocations": ["getModule", "getOrganization", "setCorporateFilter", "addModuleToGraph"]}, "repository": {"repo_id": 14858974, "url": "https://github.com/Axway/Grapes", "language": "Java", "is_fork": false, "fork_count": 9, "stargazer_count": 8, "size": 3620, "license": "licensed"}}