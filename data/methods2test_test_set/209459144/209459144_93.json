{"test_class": {"identifier": "JobServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(JobServiceTest.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(JobServiceTest.class)", "var_name": "LOG"}, {"original_string": "JobService jobService = new JobService();", "modifier": "", "type": "JobService", "declarator": "jobService = new JobService()", "var_name": "jobService"}], "file": "submarine-server/server-core/src/test/java/org/apache/submarine/server/workbench/database/service/JobServiceTest.java"}, "test_case": {"identifier": "delete", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void delete() throws Exception {\n    Job job = new Job();\n    job.setJobId(\"9e93caeb-8a08-4278-a10a-ff60d5835716\");\n    job.setJobName(\"mnist\");\n    job.setJobNamespace(\"submarine\");\n    job.setUserName(\"JobServiceTest-UserName\");\n    job.setJobType(\"TFJob\");\n    job.setJobStatus(\"Finished\");\n    job.setJobFinalStatus(\"Succeeded\");\n    job.setCreateBy(\"JobServiceTest-UserName\");\n\n    Boolean ret = jobService.add(job);\n    assertTrue(ret);\n\n    Boolean deleteRet = jobService.delete(job.getId());\n    assertTrue(deleteRet);\n  }", "signature": "void delete()", "full_signature": "@Test public void delete()", "class_method_signature": "JobServiceTest.delete()", "testcase": true, "constructor": false, "invocations": ["setJobId", "setJobName", "setJobNamespace", "setUserName", "setJobType", "setJobStatus", "setJobFinalStatus", "setCreateBy", "add", "assertTrue", "delete", "getId", "assertTrue"]}, "focal_class": {"identifier": "JobService", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(JobService.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(JobService.class)", "var_name": "LOG"}], "methods": [{"identifier": "queryJobList", "parameters": "(String userName,\n      String column, String order, int pageNo, int pageSize)", "modifiers": "public", "return": "List<Job>", "signature": "List<Job> queryJobList(String userName,\n      String column, String order, int pageNo, int pageSize)", "full_signature": "public List<Job> queryJobList(String userName,\n      String column, String order, int pageNo, int pageSize)", "class_method_signature": "JobService.queryJobList(String userName,\n      String column, String order, int pageNo, int pageSize)", "testcase": false, "constructor": false}, {"identifier": "selectByJobId", "parameters": "(String jobId)", "modifiers": "public", "return": "Job", "signature": "Job selectByJobId(String jobId)", "full_signature": "public Job selectByJobId(String jobId)", "class_method_signature": "JobService.selectByJobId(String jobId)", "testcase": false, "constructor": false}, {"identifier": "selectById", "parameters": "(String id)", "modifiers": "public", "return": "Job", "signature": "Job selectById(String id)", "full_signature": "public Job selectById(String id)", "class_method_signature": "JobService.selectById(String id)", "testcase": false, "constructor": false}, {"identifier": "add", "parameters": "(Job job)", "modifiers": "public", "return": "boolean", "signature": "boolean add(Job job)", "full_signature": "public boolean add(Job job)", "class_method_signature": "JobService.add(Job job)", "testcase": false, "constructor": false}, {"identifier": "updateByPrimaryKeySelective", "parameters": "(Job job)", "modifiers": "public", "return": "boolean", "signature": "boolean updateByPrimaryKeySelective(Job job)", "full_signature": "public boolean updateByPrimaryKeySelective(Job job)", "class_method_signature": "JobService.updateByPrimaryKeySelective(Job job)", "testcase": false, "constructor": false}, {"identifier": "delete", "parameters": "(String id)", "modifiers": "public", "return": "boolean", "signature": "boolean delete(String id)", "full_signature": "public boolean delete(String id)", "class_method_signature": "JobService.delete(String id)", "testcase": false, "constructor": false}, {"identifier": "deleteByJobId", "parameters": "(String jobId)", "modifiers": "public", "return": "boolean", "signature": "boolean deleteByJobId(String jobId)", "full_signature": "public boolean deleteByJobId(String jobId)", "class_method_signature": "JobService.deleteByJobId(String jobId)", "testcase": false, "constructor": false}], "file": "submarine-server/server-core/src/main/java/org/apache/submarine/server/workbench/database/service/JobService.java"}, "focal_method": {"identifier": "delete", "parameters": "(String id)", "modifiers": "public", "return": "boolean", "body": "public boolean delete(String id) throws Exception {\n    LOG.info(\"delete jobs by id {}\", id);\n    try (SqlSession sqlSession = MyBatisUtil.getSqlSession()) {\n      JobMapper jobMapper = sqlSession.getMapper(JobMapper.class);\n      jobMapper.deleteByPrimaryKey(id);\n      sqlSession.commit();\n    } catch (Exception e) {\n      LOG.error(e.getMessage(), e);\n      throw new Exception(e);\n    }\n    return true;\n  }", "signature": "boolean delete(String id)", "full_signature": "public boolean delete(String id)", "class_method_signature": "JobService.delete(String id)", "testcase": false, "constructor": false, "invocations": ["info", "getSqlSession", "getMapper", "deleteByPrimaryKey", "commit", "error", "getMessage"]}, "repository": {"repo_id": 209459144, "url": "https://github.com/apache/submarine", "stars": 185, "created": "9/19/2019 4:00:17 AM +00:00", "updates": "2020-01-27T15:27:05+00:00", "fork": "False", "license": "licensed"}}