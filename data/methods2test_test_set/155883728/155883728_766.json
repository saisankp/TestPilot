{"test_class": {"identifier": "SilencingCheckFacadeTest", "superclass": "", "interfaces": "", "fields": [], "file": "core/src/test/java/net/adamcin/oakpal/core/SilencingCheckFacadeTest.java"}, "test_case": {"identifier": "testBeforeExtract", "parameters": "()", "modifiers": "@SuppressWarnings(\"unchecked\") @Test public", "return": "void", "body": "@SuppressWarnings(\"unchecked\")\n    @Test\n    public void testBeforeExtract() throws Exception {\n        final PackageId arg0 = PackageId.fromString(\"my_packages:example:1.0\");\n        final Session arg1 = mock(Session.class);\n        final PackageProperties arg2 = mock(PackageProperties.class);\n        final MetaInf arg3 = mock(MetaInf.class);\n        final List<PackageId> arg4 = new ArrayList<>();\n\n        final CompletableFuture<PackageId> slot0 = new CompletableFuture<>();\n        final CompletableFuture<Session> slot1 = new CompletableFuture<>();\n        final CompletableFuture<PackageProperties> slot2 = new CompletableFuture<>();\n        final CompletableFuture<MetaInf> slot3 = new CompletableFuture<>();\n        final CompletableFuture<List> slot4 = new CompletableFuture<>();\n\n        final ProgressCheck delegate = mock(ProgressCheck.class);\n\n        doAnswer(call -> {\n            slot0.complete(call.getArgument(0, PackageId.class));\n            slot1.complete(call.getArgument(1, Session.class));\n            slot2.complete(call.getArgument(2, PackageProperties.class));\n            slot3.complete(call.getArgument(3, MetaInf.class));\n            slot4.complete(call.getArgument(4, List.class));\n            return true;\n        }).when(delegate).beforeExtract(\n                any(PackageId.class),\n                any(Session.class),\n                any(PackageProperties.class),\n                any(MetaInf.class),\n                any(List.class));\n\n        final SilencingCheckFacade alias = new SilencingCheckFacade(delegate);\n        alias.setSilenced(true);\n        alias.beforeExtract(arg0, arg1, arg2, arg3, arg4);\n\n        assertFalse(\"arg0 should not be done\", slot0.isDone());\n        assertFalse(\"arg1 should not be done\", slot1.isDone());\n        assertFalse(\"arg2 should not be done\", slot2.isDone());\n        assertFalse(\"arg3 should not be done\", slot3.isDone());\n        assertFalse(\"arg4 should not be done\", slot4.isDone());\n\n        alias.setSilenced(false);\n        alias.beforeExtract(arg0, arg1, arg2, arg3, arg4);\n\n        assertSame(\"same arg0\", arg0, slot0.getNow(null));\n        assertSame(\"same arg1\", arg1, slot1.getNow(null));\n        assertSame(\"same arg2\", arg2, slot2.getNow(null));\n        assertSame(\"same arg3\", arg3, slot3.getNow(null));\n        assertSame(\"same arg4\", arg4, slot4.getNow(null));\n    }", "signature": "void testBeforeExtract()", "full_signature": "@SuppressWarnings(\"unchecked\") @Test public void testBeforeExtract()", "class_method_signature": "SilencingCheckFacadeTest.testBeforeExtract()", "testcase": true, "constructor": false, "invocations": ["fromString", "mock", "mock", "mock", "mock", "beforeExtract", "when", "doAnswer", "complete", "getArgument", "complete", "getArgument", "complete", "getArgument", "complete", "getArgument", "complete", "getArgument", "any", "any", "any", "any", "any", "setSilenced", "beforeExtract", "assertFalse", "isDone", "assertFalse", "isDone", "assertFalse", "isDone", "assertFalse", "isDone", "assertFalse", "isDone", "setSilenced", "beforeExtract", "assertSame", "getNow", "assertSame", "getNow", "assertSame", "getNow", "assertSame", "getNow", "assertSame", "getNow"]}, "focal_class": {"identifier": "SilencingCheckFacade", "superclass": "", "interfaces": "implements SilenceableCheck", "fields": [{"original_string": "private final ProgressCheck wrapped;", "modifier": "private final", "type": "ProgressCheck", "declarator": "wrapped", "var_name": "wrapped"}, {"original_string": "private boolean silenced;", "modifier": "private", "type": "boolean", "declarator": "silenced", "var_name": "silenced"}], "methods": [{"identifier": "SilencingCheckFacade", "parameters": "(final @NotNull ProgressCheck wrapped)", "modifiers": "", "return": "", "signature": " SilencingCheckFacade(final @NotNull ProgressCheck wrapped)", "full_signature": "  SilencingCheckFacade(final @NotNull ProgressCheck wrapped)", "class_method_signature": "SilencingCheckFacade.SilencingCheckFacade(final @NotNull ProgressCheck wrapped)", "testcase": false, "constructor": true}, {"identifier": "getCheckName", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getCheckName()", "full_signature": "@Override public String getCheckName()", "class_method_signature": "SilencingCheckFacade.getCheckName()", "testcase": false, "constructor": false}, {"identifier": "getResourceBundleBaseName", "parameters": "()", "modifiers": "@Override public @Nullable", "return": "String", "signature": "String getResourceBundleBaseName()", "full_signature": "@Override public @Nullable String getResourceBundleBaseName()", "class_method_signature": "SilencingCheckFacade.getResourceBundleBaseName()", "testcase": false, "constructor": false}, {"identifier": "setResourceBundle", "parameters": "(final ResourceBundle resourceBundle)", "modifiers": "@Override public", "return": "void", "signature": "void setResourceBundle(final ResourceBundle resourceBundle)", "full_signature": "@Override public void setResourceBundle(final ResourceBundle resourceBundle)", "class_method_signature": "SilencingCheckFacade.setResourceBundle(final ResourceBundle resourceBundle)", "testcase": false, "constructor": false}, {"identifier": "setSilenced", "parameters": "(final boolean silenced)", "modifiers": "@Override public", "return": "void", "signature": "void setSilenced(final boolean silenced)", "full_signature": "@Override public void setSilenced(final boolean silenced)", "class_method_signature": "SilencingCheckFacade.setSilenced(final boolean silenced)", "testcase": false, "constructor": false}, {"identifier": "getReportedViolations", "parameters": "()", "modifiers": "@Override public", "return": "Collection<Violation>", "signature": "Collection<Violation> getReportedViolations()", "full_signature": "@Override public Collection<Violation> getReportedViolations()", "class_method_signature": "SilencingCheckFacade.getReportedViolations()", "testcase": false, "constructor": false}, {"identifier": "simulateSling", "parameters": "(final SlingSimulator slingSimulator, final Set<String> runModes)", "modifiers": "@Override public", "return": "void", "signature": "void simulateSling(final SlingSimulator slingSimulator, final Set<String> runModes)", "full_signature": "@Override public void simulateSling(final SlingSimulator slingSimulator, final Set<String> runModes)", "class_method_signature": "SilencingCheckFacade.simulateSling(final SlingSimulator slingSimulator, final Set<String> runModes)", "testcase": false, "constructor": false}, {"identifier": "startedScan", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void startedScan()", "full_signature": "@Override public void startedScan()", "class_method_signature": "SilencingCheckFacade.startedScan()", "testcase": false, "constructor": false}, {"identifier": "finishedScan", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void finishedScan()", "full_signature": "@Override public void finishedScan()", "class_method_signature": "SilencingCheckFacade.finishedScan()", "testcase": false, "constructor": false}, {"identifier": "identifyPackage", "parameters": "(final PackageId packageId, final File file)", "modifiers": "@Override public", "return": "void", "signature": "void identifyPackage(final PackageId packageId, final File file)", "full_signature": "@Override public void identifyPackage(final PackageId packageId, final File file)", "class_method_signature": "SilencingCheckFacade.identifyPackage(final PackageId packageId, final File file)", "testcase": false, "constructor": false}, {"identifier": "readManifest", "parameters": "(final PackageId packageId, final Manifest manifest)", "modifiers": "@Override public", "return": "void", "signature": "void readManifest(final PackageId packageId, final Manifest manifest)", "full_signature": "@Override public void readManifest(final PackageId packageId, final Manifest manifest)", "class_method_signature": "SilencingCheckFacade.readManifest(final PackageId packageId, final Manifest manifest)", "testcase": false, "constructor": false}, {"identifier": "beforeExtract", "parameters": "(final PackageId packageId, final Session inspectSession,\n                              final PackageProperties packageProperties, final MetaInf metaInf,\n                              final List<PackageId> subpackages)", "modifiers": "@Override public", "return": "void", "signature": "void beforeExtract(final PackageId packageId, final Session inspectSession,\n                              final PackageProperties packageProperties, final MetaInf metaInf,\n                              final List<PackageId> subpackages)", "full_signature": "@Override public void beforeExtract(final PackageId packageId, final Session inspectSession,\n                              final PackageProperties packageProperties, final MetaInf metaInf,\n                              final List<PackageId> subpackages)", "class_method_signature": "SilencingCheckFacade.beforeExtract(final PackageId packageId, final Session inspectSession,\n                              final PackageProperties packageProperties, final MetaInf metaInf,\n                              final List<PackageId> subpackages)", "testcase": false, "constructor": false}, {"identifier": "importedPath", "parameters": "(final PackageId packageId, final String path, final Node node,\n                             final PathAction action)", "modifiers": "@Override public", "return": "void", "signature": "void importedPath(final PackageId packageId, final String path, final Node node,\n                             final PathAction action)", "full_signature": "@Override public void importedPath(final PackageId packageId, final String path, final Node node,\n                             final PathAction action)", "class_method_signature": "SilencingCheckFacade.importedPath(final PackageId packageId, final String path, final Node node,\n                             final PathAction action)", "testcase": false, "constructor": false}, {"identifier": "deletedPath", "parameters": "(final PackageId packageId, final String path, final Session inspectSession)", "modifiers": "@Override public", "return": "void", "signature": "void deletedPath(final PackageId packageId, final String path, final Session inspectSession)", "full_signature": "@Override public void deletedPath(final PackageId packageId, final String path, final Session inspectSession)", "class_method_signature": "SilencingCheckFacade.deletedPath(final PackageId packageId, final String path, final Session inspectSession)", "testcase": false, "constructor": false}, {"identifier": "afterExtract", "parameters": "(final PackageId packageId, final Session inspectSession)", "modifiers": "@Override public", "return": "void", "signature": "void afterExtract(final PackageId packageId, final Session inspectSession)", "full_signature": "@Override public void afterExtract(final PackageId packageId, final Session inspectSession)", "class_method_signature": "SilencingCheckFacade.afterExtract(final PackageId packageId, final Session inspectSession)", "testcase": false, "constructor": false}, {"identifier": "identifySubpackage", "parameters": "(final PackageId packageId, final PackageId parentId)", "modifiers": "@Override public", "return": "void", "signature": "void identifySubpackage(final PackageId packageId, final PackageId parentId)", "full_signature": "@Override public void identifySubpackage(final PackageId packageId, final PackageId parentId)", "class_method_signature": "SilencingCheckFacade.identifySubpackage(final PackageId packageId, final PackageId parentId)", "testcase": false, "constructor": false}, {"identifier": "beforeSlingInstall", "parameters": "(final PackageId scanPackageId,\n                                   final SlingInstallable slingInstallable,\n                                   final Session inspectSession)", "modifiers": "@Override public", "return": "void", "signature": "void beforeSlingInstall(final PackageId scanPackageId,\n                                   final SlingInstallable slingInstallable,\n                                   final Session inspectSession)", "full_signature": "@Override public void beforeSlingInstall(final PackageId scanPackageId,\n                                   final SlingInstallable slingInstallable,\n                                   final Session inspectSession)", "class_method_signature": "SilencingCheckFacade.beforeSlingInstall(final PackageId scanPackageId,\n                                   final SlingInstallable slingInstallable,\n                                   final Session inspectSession)", "testcase": false, "constructor": false}, {"identifier": "identifyEmbeddedPackage", "parameters": "(final PackageId packageId,\n                                        final PackageId parentId,\n                                        final EmbeddedPackageInstallable slingInstallable)", "modifiers": "@Override public", "return": "void", "signature": "void identifyEmbeddedPackage(final PackageId packageId,\n                                        final PackageId parentId,\n                                        final EmbeddedPackageInstallable slingInstallable)", "full_signature": "@Override public void identifyEmbeddedPackage(final PackageId packageId,\n                                        final PackageId parentId,\n                                        final EmbeddedPackageInstallable slingInstallable)", "class_method_signature": "SilencingCheckFacade.identifyEmbeddedPackage(final PackageId packageId,\n                                        final PackageId parentId,\n                                        final EmbeddedPackageInstallable slingInstallable)", "testcase": false, "constructor": false}, {"identifier": "appliedRepoInitScripts", "parameters": "(final PackageId scanPackageId,\n                                       final List<String> scripts,\n                                       final SlingInstallable slingInstallable,\n                                       final Session inspectSession)", "modifiers": "@Override public", "return": "void", "signature": "void appliedRepoInitScripts(final PackageId scanPackageId,\n                                       final List<String> scripts,\n                                       final SlingInstallable slingInstallable,\n                                       final Session inspectSession)", "full_signature": "@Override public void appliedRepoInitScripts(final PackageId scanPackageId,\n                                       final List<String> scripts,\n                                       final SlingInstallable slingInstallable,\n                                       final Session inspectSession)", "class_method_signature": "SilencingCheckFacade.appliedRepoInitScripts(final PackageId scanPackageId,\n                                       final List<String> scripts,\n                                       final SlingInstallable slingInstallable,\n                                       final Session inspectSession)", "testcase": false, "constructor": false}, {"identifier": "afterScanPackage", "parameters": "(final PackageId scanPackageId, final Session inspectSession)", "modifiers": "@Override public", "return": "void", "signature": "void afterScanPackage(final PackageId scanPackageId, final Session inspectSession)", "full_signature": "@Override public void afterScanPackage(final PackageId scanPackageId, final Session inspectSession)", "class_method_signature": "SilencingCheckFacade.afterScanPackage(final PackageId scanPackageId, final Session inspectSession)", "testcase": false, "constructor": false}], "file": "core/src/main/java/net/adamcin/oakpal/core/SilencingCheckFacade.java"}, "focal_method": {"identifier": "beforeExtract", "parameters": "(final PackageId packageId, final Session inspectSession,\n                              final PackageProperties packageProperties, final MetaInf metaInf,\n                              final List<PackageId> subpackages)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void beforeExtract(final PackageId packageId, final Session inspectSession,\n                              final PackageProperties packageProperties, final MetaInf metaInf,\n                              final List<PackageId> subpackages) throws RepositoryException {\n        if (!silenced) {\n            wrapped.beforeExtract(packageId, inspectSession, packageProperties, metaInf, subpackages);\n        }\n    }", "signature": "void beforeExtract(final PackageId packageId, final Session inspectSession,\n                              final PackageProperties packageProperties, final MetaInf metaInf,\n                              final List<PackageId> subpackages)", "full_signature": "@Override public void beforeExtract(final PackageId packageId, final Session inspectSession,\n                              final PackageProperties packageProperties, final MetaInf metaInf,\n                              final List<PackageId> subpackages)", "class_method_signature": "SilencingCheckFacade.beforeExtract(final PackageId packageId, final Session inspectSession,\n                              final PackageProperties packageProperties, final MetaInf metaInf,\n                              final List<PackageId> subpackages)", "testcase": false, "constructor": false, "invocations": ["beforeExtract"]}, "repository": {"repo_id": 155883728, "url": "https://github.com/adamcin/oakpal", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 6, "size": 13349, "license": "licensed"}}