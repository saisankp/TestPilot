{"test_class": {"identifier": "JSONEmitterTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private JSONEmitter fixture;", "modifier": "private", "type": "JSONEmitter", "declarator": "fixture", "var_name": "fixture"}, {"original_string": "private PermissionCallback callback;", "modifier": "private", "type": "PermissionCallback", "declarator": "callback", "var_name": "callback"}], "file": "org.jabylon.rest.api/src/test/java/org/jabylon/rest/api/json/JSONEmitterTest.java"}, "test_case": {"identifier": "testSerializeRestrictedProject", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testSerializeRestrictedProject(){\n    \tWorkspace workspace = PropertiesFactory.eINSTANCE.createWorkspace();\n    \tProject project1 = PropertiesFactory.eINSTANCE.createProject();\n    \tProject project2 = PropertiesFactory.eINSTANCE.createProject();\n    \tProject project3 = PropertiesFactory.eINSTANCE.createProject();\n    \tproject1.setName(\"project1\");\n    \tproject2.setName(\"project2\");\n    \tproject3.setName(\"project3\");\n    \tworkspace.getChildren().add(project1);\n    \tworkspace.getChildren().add(project2);\n    \tworkspace.getChildren().add(project3);\n        String expected = \"{\\\"children\\\":[{\\\"name\\\":\\\"project2\\\"},{\\\"name\\\":\\\"project3\\\"}],\\\"name\\\":\\\"workspace\\\"}\";\n        when(callback.isAuthorized(project2)).thenReturn(true);\n        when(callback.isAuthorized(project3)).thenReturn(true);\n        when(callback.isAuthorized(project1)).thenReturn(false);\n        StringBuilder result = new StringBuilder();\n        getFixture().serialize(workspace, result, 2);\n        assertEquals(expected, result.toString());\n\n    }", "signature": "void testSerializeRestrictedProject()", "full_signature": "@Test public void testSerializeRestrictedProject()", "class_method_signature": "JSONEmitterTest.testSerializeRestrictedProject()", "testcase": true, "constructor": false, "invocations": ["createWorkspace", "createProject", "createProject", "createProject", "setName", "setName", "setName", "add", "getChildren", "add", "getChildren", "add", "getChildren", "thenReturn", "when", "isAuthorized", "thenReturn", "when", "isAuthorized", "thenReturn", "when", "isAuthorized", "serialize", "getFixture", "assertEquals", "toString"]}, "focal_class": {"identifier": "JSONEmitter", "superclass": "", "interfaces": "", "fields": [{"original_string": "private PermissionCallback permissionCallback;", "modifier": "private", "type": "PermissionCallback", "declarator": "permissionCallback", "var_name": "permissionCallback"}], "methods": [{"identifier": "JSONEmitter", "parameters": "(PermissionCallback permissionCallback)", "modifiers": "public", "return": "", "signature": " JSONEmitter(PermissionCallback permissionCallback)", "full_signature": "public  JSONEmitter(PermissionCallback permissionCallback)", "class_method_signature": "JSONEmitter.JSONEmitter(PermissionCallback permissionCallback)", "testcase": false, "constructor": true}, {"identifier": "serialize", "parameters": "(EObject resolvable, StringBuilder result, int depth)", "modifiers": "public", "return": "void", "signature": "void serialize(EObject resolvable, StringBuilder result, int depth)", "full_signature": "public void serialize(EObject resolvable, StringBuilder result, int depth)", "class_method_signature": "JSONEmitter.serialize(EObject resolvable, StringBuilder result, int depth)", "testcase": false, "constructor": false}, {"identifier": "writeObject", "parameters": "(EObject object, StringBuilder result, int depth)", "modifiers": "private", "return": "void", "signature": "void writeObject(EObject object, StringBuilder result, int depth)", "full_signature": "private void writeObject(EObject object, StringBuilder result, int depth)", "class_method_signature": "JSONEmitter.writeObject(EObject object, StringBuilder result, int depth)", "testcase": false, "constructor": false}, {"identifier": "writeAttributes", "parameters": "(EObject object, StringBuilder result, int depth)", "modifiers": "private", "return": "void", "signature": "void writeAttributes(EObject object, StringBuilder result, int depth)", "full_signature": "private void writeAttributes(EObject object, StringBuilder result, int depth)", "class_method_signature": "JSONEmitter.writeAttributes(EObject object, StringBuilder result, int depth)", "testcase": false, "constructor": false}, {"identifier": "writeSingle", "parameters": "(EObject object, EStructuralFeature eAttribute, StringBuilder result, int depth)", "modifiers": "private", "return": "boolean", "signature": "boolean writeSingle(EObject object, EStructuralFeature eAttribute, StringBuilder result, int depth)", "full_signature": "private boolean writeSingle(EObject object, EStructuralFeature eAttribute, StringBuilder result, int depth)", "class_method_signature": "JSONEmitter.writeSingle(EObject object, EStructuralFeature eAttribute, StringBuilder result, int depth)", "testcase": false, "constructor": false}, {"identifier": "writeSingleValue", "parameters": "(Object value, EStructuralFeature attribute, StringBuilder result, int depth)", "modifiers": "private", "return": "boolean", "signature": "boolean writeSingleValue(Object value, EStructuralFeature attribute, StringBuilder result, int depth)", "full_signature": "private boolean writeSingleValue(Object value, EStructuralFeature attribute, StringBuilder result, int depth)", "class_method_signature": "JSONEmitter.writeSingleValue(Object value, EStructuralFeature attribute, StringBuilder result, int depth)", "testcase": false, "constructor": false}, {"identifier": "writeMany", "parameters": "(EObject object, EStructuralFeature eAttribute, StringBuilder result, int depth)", "modifiers": "@SuppressWarnings(\"rawtypes\") private", "return": "void", "signature": "void writeMany(EObject object, EStructuralFeature eAttribute, StringBuilder result, int depth)", "full_signature": "@SuppressWarnings(\"rawtypes\") private void writeMany(EObject object, EStructuralFeature eAttribute, StringBuilder result, int depth)", "class_method_signature": "JSONEmitter.writeMany(EObject object, EStructuralFeature eAttribute, StringBuilder result, int depth)", "testcase": false, "constructor": false}], "file": "org.jabylon.rest.api/src/main/java/org/jabylon/rest/api/json/JSONEmitter.java"}, "focal_method": {"identifier": "serialize", "parameters": "(EObject resolvable, StringBuilder result, int depth)", "modifiers": "public", "return": "void", "body": "public void serialize(EObject resolvable, StringBuilder result, int depth)\n    {\n        writeObject(resolvable, result, depth);\n    }", "signature": "void serialize(EObject resolvable, StringBuilder result, int depth)", "full_signature": "public void serialize(EObject resolvable, StringBuilder result, int depth)", "class_method_signature": "JSONEmitter.serialize(EObject resolvable, StringBuilder result, int depth)", "testcase": false, "constructor": false, "invocations": ["writeObject"]}, "repository": {"repo_id": 3986627, "url": "https://github.com/jutzig/jabylon", "language": "Java", "is_fork": false, "fork_count": 15, "stargazer_count": 51, "size": 13400, "license": "licensed"}}