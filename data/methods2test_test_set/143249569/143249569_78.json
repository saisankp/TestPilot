{"test_class": {"identifier": "InteractionModelRendererTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final ObjectMapper MAPPER = new ObjectMapper();", "modifier": "private static final", "type": "ObjectMapper", "declarator": "MAPPER = new ObjectMapper()", "var_name": "MAPPER"}, {"original_string": "private static final ObjectWriter WRITER = MAPPER.writerWithDefaultPrettyPrinter();", "modifier": "private static final", "type": "ObjectWriter", "declarator": "WRITER = MAPPER.writerWithDefaultPrettyPrinter()", "var_name": "WRITER"}, {"original_string": "private final InteractionModelRenderer underTest = new InteractionModelRenderer();", "modifier": "private final", "type": "InteractionModelRenderer", "declarator": "underTest = new InteractionModelRenderer()", "var_name": "underTest"}], "file": "ask-sdk-interaction-model-mapper/src/test/java/com/amazon/ask/interaction/renderer/InteractionModelRendererTest.java"}, "test_case": {"identifier": "testSamples", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testSamples() throws IOException {\n        SkillModel skill = SkillModel.builder()\n            .withInvocationName(Locales.en_US, \"en_US\")\n            .withInvocationName(Locales.en_GB, \"en_GB\")\n            .withInvocationName(Locales.de_DE, \"de_DE\")\n            .withInvocationName(Locales.fr_FR, \"fr_FR\")\n            .addModel(Model.builder()\n                .intent(TestIntent.class)\n                .build())\n            .build();\n\n        for (Locale locale : Locales.values()) {\n            Collection<com.amazon.ask.interaction.model.Intent> actual = underTest.render(skill, locale).getLanguageModel().getIntents();\n\n            List<com.amazon.ask.interaction.model.Intent> expected = Collections.singletonList(\n                makeIntent(\"TestIntent\", Arrays.asList(\n                    makeIntentSlot(\"customSlot\", \"TestCustom\"),\n                    makeIntentSlot(\"dateSlot\", \"AMAZON.DATE\"),\n                    makeIntentSlot(\"dayOfWeekSlot\", \"AMAZON.DayOfWeek\"),\n                    makeIntentSlot(\"durationSlot\", \"AMAZON.DURATION\"),\n                    makeIntentSlot(\"listTypeSlot\", \"AMAZON.Actor\"),\n                    makeIntentSlot(\"literalSlot\", \"AMAZON.LITERAL\"),\n                    makeIntentSlot(\"numberSlot\", \"AMAZON.NUMBER\"),\n                    makeIntentSlot(\"timeSlot\", \"AMAZON.TIME\")\n                ), Collections.singletonList(\"test_\" + stringifyLocale(locale)))\n            );\n\n            assertEquals(WRITER.writeValueAsString(expected), WRITER.writeValueAsString(actual));\n        }\n    }", "signature": "void testSamples()", "full_signature": "@Test public void testSamples()", "class_method_signature": "InteractionModelRendererTest.testSamples()", "testcase": true, "constructor": false, "invocations": ["build", "addModel", "withInvocationName", "withInvocationName", "withInvocationName", "withInvocationName", "builder", "build", "intent", "builder", "values", "getIntents", "getLanguageModel", "render", "singletonList", "makeIntent", "asList", "makeIntentSlot", "makeIntentSlot", "makeIntentSlot", "makeIntentSlot", "makeIntentSlot", "makeIntentSlot", "makeIntentSlot", "makeIntentSlot", "singletonList", "stringifyLocale", "assertEquals", "writeValueAsString", "writeValueAsString"]}, "focal_class": {"identifier": "InteractionModelRenderer", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final ModelRenderer modelRenderer;", "modifier": "private final", "type": "ModelRenderer", "declarator": "modelRenderer", "var_name": "modelRenderer"}], "methods": [{"identifier": "InteractionModelRenderer", "parameters": "(ModelRenderer modelRenderer)", "modifiers": "public", "return": "", "signature": " InteractionModelRenderer(ModelRenderer modelRenderer)", "full_signature": "public  InteractionModelRenderer(ModelRenderer modelRenderer)", "class_method_signature": "InteractionModelRenderer.InteractionModelRenderer(ModelRenderer modelRenderer)", "testcase": false, "constructor": true}, {"identifier": "InteractionModelRenderer", "parameters": "()", "modifiers": "public", "return": "", "signature": " InteractionModelRenderer()", "full_signature": "public  InteractionModelRenderer()", "class_method_signature": "InteractionModelRenderer.InteractionModelRenderer()", "testcase": false, "constructor": true}, {"identifier": "render", "parameters": "(SkillModel skillModel, Locale locale)", "modifiers": "public", "return": "InteractionModel", "signature": "InteractionModel render(SkillModel skillModel, Locale locale)", "full_signature": "public InteractionModel render(SkillModel skillModel, Locale locale)", "class_method_signature": "InteractionModelRenderer.render(SkillModel skillModel, Locale locale)", "testcase": false, "constructor": false}], "file": "ask-sdk-interaction-model-mapper/src/main/java/com/amazon/ask/interaction/renderer/InteractionModelRenderer.java"}, "focal_method": {"identifier": "render", "parameters": "(SkillModel skillModel, Locale locale)", "modifiers": "public", "return": "InteractionModel", "body": "public InteractionModel render(SkillModel skillModel, Locale locale) {\n        assertNotNull(skillModel, \"skillDefinition\");\n        assertNotNull(locale, \"locale\");\n        if (!skillModel.getInvocationNames().containsKey(locale)) {\n            throw new IllegalArgumentException(\"no invocation name specified for locale: \" + locale);\n        }\n\n        SubModel subModel = modelRenderer.render(skillModel.getModel(), locale);\n\n        LanguageModel languageModel = LanguageModel.builder()\n            .withInvocationName(skillModel.getInvocationNames().get(locale))\n            .withIntents(new ArrayList<>(subModel.getLanguageModel().getIntents()))\n            .withTypes(new ArrayList<>(subModel.getLanguageModel().getTypes()))\n            .build();\n\n        return InteractionModel.builder()\n            .withLanguageModel(languageModel)\n            .withDialog(subModel.getDialog())\n            .withPrompts(subModel.getPrompts())\n            .build();\n    }", "signature": "InteractionModel render(SkillModel skillModel, Locale locale)", "full_signature": "public InteractionModel render(SkillModel skillModel, Locale locale)", "class_method_signature": "InteractionModelRenderer.render(SkillModel skillModel, Locale locale)", "testcase": false, "constructor": false, "invocations": ["assertNotNull", "assertNotNull", "containsKey", "getInvocationNames", "render", "getModel", "build", "withTypes", "withIntents", "withInvocationName", "builder", "get", "getInvocationNames", "getIntents", "getLanguageModel", "getTypes", "getLanguageModel", "build", "withPrompts", "withDialog", "withLanguageModel", "builder", "getDialog", "getPrompts"]}, "repository": {"repo_id": 143249569, "url": "https://github.com/amazon-archives/ask-sdk-frameworks-java", "language": "Java", "is_fork": false, "fork_count": 12, "stargazer_count": 12, "size": 313, "license": "licensed"}}