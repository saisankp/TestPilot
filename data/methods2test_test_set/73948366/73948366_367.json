{"test_class": {"identifier": "SimplePrincipalTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "String fakeUnsignedCreds = \"v=U1;d=user;n=jdoe\";", "modifier": "", "type": "String", "declarator": "fakeUnsignedCreds = \"v=U1;d=user;n=jdoe\"", "var_name": "fakeUnsignedCreds"}, {"original_string": "String fakeCreds = fakeUnsignedCreds + \";s=signature\";", "modifier": "", "type": "String", "declarator": "fakeCreds = fakeUnsignedCreds + \";s=signature\"", "var_name": "fakeCreds"}], "file": "libs/java/auth_core/src/test/java/com/yahoo/athenz/auth/impl/SimplePrincipalTest.java"}, "test_case": {"identifier": "testSimplePrincipalDomainNoMatch", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testSimplePrincipalDomainNoMatch() {\n        \n        // we output warning but still create a principal\n        \n        UserAuthority userAuthority = new UserAuthority();\n        userAuthority.initialize();\n\n        Principal p = SimplePrincipal.create(\"coretech\", \"jdoe\", fakeCreds, 0, userAuthority);\n        assertNull(p);\n    }", "signature": "void testSimplePrincipalDomainNoMatch()", "full_signature": "@Test public void testSimplePrincipalDomainNoMatch()", "class_method_signature": "SimplePrincipalTest.testSimplePrincipalDomainNoMatch()", "testcase": true, "constructor": false, "invocations": ["initialize", "create", "assertNull"]}, "focal_class": {"identifier": "SimplePrincipal", "superclass": "", "interfaces": "implements Principal", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(SimplePrincipal.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(SimplePrincipal.class)", "var_name": "LOG"}, {"original_string": "String domain;", "modifier": "", "type": "String", "declarator": "domain", "var_name": "domain"}, {"original_string": "String name = null;", "modifier": "", "type": "String", "declarator": "name = null", "var_name": "name"}, {"original_string": "String fullName  = null;", "modifier": "", "type": "String", "declarator": "fullName  = null", "var_name": "fullName"}, {"original_string": "String creds;", "modifier": "", "type": "String", "declarator": "creds", "var_name": "creds"}, {"original_string": "String unsignedCreds = null;", "modifier": "", "type": "String", "declarator": "unsignedCreds = null", "var_name": "unsignedCreds"}, {"original_string": "String ip = null;", "modifier": "", "type": "String", "declarator": "ip = null", "var_name": "ip"}, {"original_string": "long issueTime = 0;", "modifier": "", "type": "long", "declarator": "issueTime = 0", "var_name": "issueTime"}, {"original_string": "List<String> roles = null;", "modifier": "", "type": "List<String>", "declarator": "roles = null", "var_name": "roles"}, {"original_string": "Authority authority;", "modifier": "", "type": "Authority", "declarator": "authority", "var_name": "authority"}, {"original_string": "String authorizedService = null;", "modifier": "", "type": "String", "declarator": "authorizedService = null", "var_name": "authorizedService"}, {"original_string": "String originalRequestor = null;", "modifier": "", "type": "String", "declarator": "originalRequestor = null", "var_name": "originalRequestor"}, {"original_string": "String keyService = null;", "modifier": "", "type": "String", "declarator": "keyService = null", "var_name": "keyService"}, {"original_string": "String keyId = null;", "modifier": "", "type": "String", "declarator": "keyId = null", "var_name": "keyId"}, {"original_string": "X509Certificate x509Certificate = null;", "modifier": "", "type": "X509Certificate", "declarator": "x509Certificate = null", "var_name": "x509Certificate"}, {"original_string": "String applicationId = null;", "modifier": "", "type": "String", "declarator": "applicationId = null", "var_name": "applicationId"}, {"original_string": "private boolean mtlsRestricted = false;", "modifier": "private", "type": "boolean", "declarator": "mtlsRestricted = false", "var_name": "mtlsRestricted"}], "methods": [{"identifier": "create", "parameters": "(String domain, String name, String creds)", "modifiers": "public static", "return": "Principal", "signature": "Principal create(String domain, String name, String creds)", "full_signature": "public static Principal create(String domain, String name, String creds)", "class_method_signature": "SimplePrincipal.create(String domain, String name, String creds)", "testcase": false, "constructor": false}, {"identifier": "create", "parameters": "(String domain, String creds, List<String> roles, Authority authority)", "modifiers": "public static", "return": "Principal", "signature": "Principal create(String domain, String creds, List<String> roles, Authority authority)", "full_signature": "public static Principal create(String domain, String creds, List<String> roles, Authority authority)", "class_method_signature": "SimplePrincipal.create(String domain, String creds, List<String> roles, Authority authority)", "testcase": false, "constructor": false}, {"identifier": "create", "parameters": "(String domain, String name, String creds, Authority authority)", "modifiers": "public static", "return": "Principal", "signature": "Principal create(String domain, String name, String creds, Authority authority)", "full_signature": "public static Principal create(String domain, String name, String creds, Authority authority)", "class_method_signature": "SimplePrincipal.create(String domain, String name, String creds, Authority authority)", "testcase": false, "constructor": false}, {"identifier": "create", "parameters": "(String domain, String name, String creds, long issueTime,\n            Authority authority)", "modifiers": "public static", "return": "Principal", "signature": "Principal create(String domain, String name, String creds, long issueTime,\n            Authority authority)", "full_signature": "public static Principal create(String domain, String name, String creds, long issueTime,\n            Authority authority)", "class_method_signature": "SimplePrincipal.create(String domain, String name, String creds, long issueTime,\n            Authority authority)", "testcase": false, "constructor": false}, {"identifier": "create", "parameters": "(String appId, String creds, Authority authority)", "modifiers": "public static", "return": "Principal", "signature": "Principal create(String appId, String creds, Authority authority)", "full_signature": "public static Principal create(String appId, String creds, Authority authority)", "class_method_signature": "SimplePrincipal.create(String appId, String creds, Authority authority)", "testcase": false, "constructor": false}, {"identifier": "SimplePrincipal", "parameters": "(String domain, String name, String creds, long issueTime, Authority authority)", "modifiers": "private", "return": "", "signature": " SimplePrincipal(String domain, String name, String creds, long issueTime, Authority authority)", "full_signature": "private  SimplePrincipal(String domain, String name, String creds, long issueTime, Authority authority)", "class_method_signature": "SimplePrincipal.SimplePrincipal(String domain, String name, String creds, long issueTime, Authority authority)", "testcase": false, "constructor": true}, {"identifier": "SimplePrincipal", "parameters": "(String domain, String creds, List<String> roles, Authority authority)", "modifiers": "private", "return": "", "signature": " SimplePrincipal(String domain, String creds, List<String> roles, Authority authority)", "full_signature": "private  SimplePrincipal(String domain, String creds, List<String> roles, Authority authority)", "class_method_signature": "SimplePrincipal.SimplePrincipal(String domain, String creds, List<String> roles, Authority authority)", "testcase": false, "constructor": true}, {"identifier": "setUnsignedCreds", "parameters": "(String unsignedCreds)", "modifiers": "public", "return": "void", "signature": "void setUnsignedCreds(String unsignedCreds)", "full_signature": "public void setUnsignedCreds(String unsignedCreds)", "class_method_signature": "SimplePrincipal.setUnsignedCreds(String unsignedCreds)", "testcase": false, "constructor": false}, {"identifier": "setAuthorizedService", "parameters": "(String authorizedService)", "modifiers": "public", "return": "void", "signature": "void setAuthorizedService(String authorizedService)", "full_signature": "public void setAuthorizedService(String authorizedService)", "class_method_signature": "SimplePrincipal.setAuthorizedService(String authorizedService)", "testcase": false, "constructor": false}, {"identifier": "setIP", "parameters": "(String ip)", "modifiers": "public", "return": "void", "signature": "void setIP(String ip)", "full_signature": "public void setIP(String ip)", "class_method_signature": "SimplePrincipal.setIP(String ip)", "testcase": false, "constructor": false}, {"identifier": "setOriginalRequestor", "parameters": "(String originalRequestor)", "modifiers": "public", "return": "void", "signature": "void setOriginalRequestor(String originalRequestor)", "full_signature": "public void setOriginalRequestor(String originalRequestor)", "class_method_signature": "SimplePrincipal.setOriginalRequestor(String originalRequestor)", "testcase": false, "constructor": false}, {"identifier": "setKeyService", "parameters": "(String keyService)", "modifiers": "public", "return": "void", "signature": "void setKeyService(String keyService)", "full_signature": "public void setKeyService(String keyService)", "class_method_signature": "SimplePrincipal.setKeyService(String keyService)", "testcase": false, "constructor": false}, {"identifier": "setKeyId", "parameters": "(String keyId)", "modifiers": "public", "return": "void", "signature": "void setKeyId(String keyId)", "full_signature": "public void setKeyId(String keyId)", "class_method_signature": "SimplePrincipal.setKeyId(String keyId)", "testcase": false, "constructor": false}, {"identifier": "setX509Certificate", "parameters": "(X509Certificate x509Certificate)", "modifiers": "public", "return": "void", "signature": "void setX509Certificate(X509Certificate x509Certificate)", "full_signature": "public void setX509Certificate(X509Certificate x509Certificate)", "class_method_signature": "SimplePrincipal.setX509Certificate(X509Certificate x509Certificate)", "testcase": false, "constructor": false}, {"identifier": "setApplicationId", "parameters": "(String applicationId)", "modifiers": "public", "return": "void", "signature": "void setApplicationId(String applicationId)", "full_signature": "public void setApplicationId(String applicationId)", "class_method_signature": "SimplePrincipal.setApplicationId(String applicationId)", "testcase": false, "constructor": false}, {"identifier": "setRoles", "parameters": "(List<String> roles)", "modifiers": "public", "return": "void", "signature": "void setRoles(List<String> roles)", "full_signature": "public void setRoles(List<String> roles)", "class_method_signature": "SimplePrincipal.setRoles(List<String> roles)", "testcase": false, "constructor": false}, {"identifier": "setMtlsRestricted", "parameters": "(boolean isMtlsRestricted)", "modifiers": "public", "return": "void", "signature": "void setMtlsRestricted(boolean isMtlsRestricted)", "full_signature": "public void setMtlsRestricted(boolean isMtlsRestricted)", "class_method_signature": "SimplePrincipal.setMtlsRestricted(boolean isMtlsRestricted)", "testcase": false, "constructor": false}, {"identifier": "getIP", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getIP()", "full_signature": "@Override public String getIP()", "class_method_signature": "SimplePrincipal.getIP()", "testcase": false, "constructor": false}, {"identifier": "getUnsignedCredentials", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getUnsignedCredentials()", "full_signature": "@Override public String getUnsignedCredentials()", "class_method_signature": "SimplePrincipal.getUnsignedCredentials()", "testcase": false, "constructor": false}, {"identifier": "getAuthority", "parameters": "()", "modifiers": "@Override public", "return": "Authority", "signature": "Authority getAuthority()", "full_signature": "@Override public Authority getAuthority()", "class_method_signature": "SimplePrincipal.getAuthority()", "testcase": false, "constructor": false}, {"identifier": "getDomain", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getDomain()", "full_signature": "@Override public String getDomain()", "class_method_signature": "SimplePrincipal.getDomain()", "testcase": false, "constructor": false}, {"identifier": "getName", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getName()", "full_signature": "@Override public String getName()", "class_method_signature": "SimplePrincipal.getName()", "testcase": false, "constructor": false}, {"identifier": "getOriginalRequestor", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getOriginalRequestor()", "full_signature": "@Override public String getOriginalRequestor()", "class_method_signature": "SimplePrincipal.getOriginalRequestor()", "testcase": false, "constructor": false}, {"identifier": "getFullName", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getFullName()", "full_signature": "@Override public String getFullName()", "class_method_signature": "SimplePrincipal.getFullName()", "testcase": false, "constructor": false}, {"identifier": "getCredentials", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getCredentials()", "full_signature": "@Override public String getCredentials()", "class_method_signature": "SimplePrincipal.getCredentials()", "testcase": false, "constructor": false}, {"identifier": "getRoles", "parameters": "()", "modifiers": "@Override public", "return": "List<String>", "signature": "List<String> getRoles()", "full_signature": "@Override public List<String> getRoles()", "class_method_signature": "SimplePrincipal.getRoles()", "testcase": false, "constructor": false}, {"identifier": "getIssueTime", "parameters": "()", "modifiers": "@Override public", "return": "long", "signature": "long getIssueTime()", "full_signature": "@Override public long getIssueTime()", "class_method_signature": "SimplePrincipal.getIssueTime()", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String toString()", "full_signature": "public String toString()", "class_method_signature": "SimplePrincipal.toString()", "testcase": false, "constructor": false}, {"identifier": "getAuthorizedService", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getAuthorizedService()", "full_signature": "@Override public String getAuthorizedService()", "class_method_signature": "SimplePrincipal.getAuthorizedService()", "testcase": false, "constructor": false}, {"identifier": "getKeyService", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getKeyService()", "full_signature": "@Override public String getKeyService()", "class_method_signature": "SimplePrincipal.getKeyService()", "testcase": false, "constructor": false}, {"identifier": "getKeyId", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getKeyId()", "full_signature": "@Override public String getKeyId()", "class_method_signature": "SimplePrincipal.getKeyId()", "testcase": false, "constructor": false}, {"identifier": "getX509Certificate", "parameters": "()", "modifiers": "@Override public", "return": "X509Certificate", "signature": "X509Certificate getX509Certificate()", "full_signature": "@Override public X509Certificate getX509Certificate()", "class_method_signature": "SimplePrincipal.getX509Certificate()", "testcase": false, "constructor": false}, {"identifier": "getApplicationId", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getApplicationId()", "full_signature": "@Override public String getApplicationId()", "class_method_signature": "SimplePrincipal.getApplicationId()", "testcase": false, "constructor": false}, {"identifier": "getMtlsRestricted", "parameters": "()", "modifiers": "@Override public", "return": "boolean", "signature": "boolean getMtlsRestricted()", "full_signature": "@Override public boolean getMtlsRestricted()", "class_method_signature": "SimplePrincipal.getMtlsRestricted()", "testcase": false, "constructor": false}], "file": "libs/java/auth_core/src/main/java/com/yahoo/athenz/auth/impl/SimplePrincipal.java"}, "focal_method": {"identifier": "create", "parameters": "(String domain, String name, String creds)", "modifiers": "public static", "return": "Principal", "body": "public static Principal create(String domain, String name, String creds) {\n        return create(domain, name, creds, 0, null);\n    }", "signature": "Principal create(String domain, String name, String creds)", "full_signature": "public static Principal create(String domain, String name, String creds)", "class_method_signature": "SimplePrincipal.create(String domain, String name, String creds)", "testcase": false, "constructor": false, "invocations": ["create"]}, "repository": {"repo_id": 73948366, "url": "https://github.com/yahoo/athenz", "stars": 394, "created": "11/16/2016 6:23:08 PM +00:00", "updates": "2020-01-27T15:36:13+00:00", "fork": "False", "license": "licensed"}}