{"test_class": {"identifier": "RetentionExpirationDestroyerControllerTest", "superclass": "extends AbstractRetentionExpirationDestroyerTest", "interfaces": "", "fields": [], "file": "herd-code/herd-tools/herd-retention-expiration-destroyer/src/test/java/org/finra/herd/tools/retention/destroyer/RetentionExpirationDestroyerControllerTest.java"}, "test_case": {"identifier": "testGetBusinessObjectDataKeys", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetBusinessObjectDataKeys() throws Exception\n    {\n        // Create a local input CSV file.\n        File inputCsvFile = createLocalInputCsvFile();\n\n        // Get and validate a list of business object data keys.\n        List<BusinessObjectDataKey> result = retentionExpirationDestroyerController.getBusinessObjectDataKeys(inputCsvFile);\n\n        // Validate the results.\n        assertEquals(Arrays.asList(\n            new BusinessObjectDataKey(NAMESPACE, BUSINESS_OBJECT_DEFINITION_NAME, BUSINESS_OBJECT_FORMAT_USAGE, BUSINESS_OBJECT_FORMAT_FILE_TYPE,\n                BUSINESS_OBJECT_FORMAT_VERSION, PRIMARY_PARTITION_VALUE, SUB_PARTITION_VALUES, BUSINESS_OBJECT_DATA_VERSION),\n            new BusinessObjectDataKey(NAMESPACE, BUSINESS_OBJECT_DEFINITION_NAME, BUSINESS_OBJECT_FORMAT_USAGE, BUSINESS_OBJECT_FORMAT_FILE_TYPE,\n                BUSINESS_OBJECT_FORMAT_VERSION, PRIMARY_PARTITION_VALUE, NO_SUB_PARTITION_VALUES, BUSINESS_OBJECT_DATA_VERSION),\n            new BusinessObjectDataKey(NAMESPACE + \",\\\"\", BUSINESS_OBJECT_DEFINITION_NAME + \",\\\"\", BUSINESS_OBJECT_FORMAT_USAGE + \",\\\"\",\n                BUSINESS_OBJECT_FORMAT_FILE_TYPE + \",\\\"\", BUSINESS_OBJECT_FORMAT_VERSION, PRIMARY_PARTITION_VALUE + \",\\\"\", Arrays\n                .asList(SUB_PARTITION_VALUES.get(0) + \",\\\"\", SUB_PARTITION_VALUES.get(1) + \",\\\"\", SUB_PARTITION_VALUES.get(2) + \",\\\"\",\n                    SUB_PARTITION_VALUES.get(3) + \",\\\"\"), BUSINESS_OBJECT_DATA_VERSION)), result);\n    }", "signature": "void testGetBusinessObjectDataKeys()", "full_signature": "@Test public void testGetBusinessObjectDataKeys()", "class_method_signature": "RetentionExpirationDestroyerControllerTest.testGetBusinessObjectDataKeys()", "testcase": true, "constructor": false, "invocations": ["createLocalInputCsvFile", "getBusinessObjectDataKeys", "assertEquals", "asList", "asList", "get", "get", "get", "get"]}, "focal_class": {"identifier": "RetentionExpirationDestroyerController", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String[] CSV_FILE_HEADER_COLUMNS =\n        {\"Namespace\", \"Business Object Definition Name\", \"Business Object Format Usage\", \"Business Object Format File Type\", \"Business Object Format Version\",\n            \"Primary Partition Value\", \"Sub-Partition Value 1\", \"Sub-Partition Value 2\", \"Sub-Partition Value 3\", \"Sub-Partition Value 4\",\n            \"Business Object Data Version\", \"Business Object Definition Display Name\", \"Business Object Definition URI\"};", "modifier": "private static final", "type": "String[]", "declarator": "CSV_FILE_HEADER_COLUMNS =\n        {\"Namespace\", \"Business Object Definition Name\", \"Business Object Format Usage\", \"Business Object Format File Type\", \"Business Object Format Version\",\n            \"Primary Partition Value\", \"Sub-Partition Value 1\", \"Sub-Partition Value 2\", \"Sub-Partition Value 3\", \"Sub-Partition Value 4\",\n            \"Business Object Data Version\", \"Business Object Definition Display Name\", \"Business Object Definition URI\"}", "var_name": "CSV_FILE_HEADER_COLUMNS"}, {"original_string": "private static final Logger LOGGER = LoggerFactory.getLogger(RetentionExpirationDestroyerController.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(RetentionExpirationDestroyerController.class)", "var_name": "LOGGER"}, {"original_string": "@Autowired\n    private JsonHelper jsonHelper;", "modifier": "@Autowired\n    private", "type": "JsonHelper", "declarator": "jsonHelper", "var_name": "jsonHelper"}, {"original_string": "@Autowired\n    private RetentionExpirationDestroyerWebClient retentionExpirationDestroyerWebClient;", "modifier": "@Autowired\n    private", "type": "RetentionExpirationDestroyerWebClient", "declarator": "retentionExpirationDestroyerWebClient", "var_name": "retentionExpirationDestroyerWebClient"}], "methods": [{"identifier": "performRetentionExpirationDestruction", "parameters": "(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto)", "modifiers": "public", "return": "void", "signature": "void performRetentionExpirationDestruction(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto)", "full_signature": "public void performRetentionExpirationDestruction(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto)", "class_method_signature": "RetentionExpirationDestroyerController.performRetentionExpirationDestruction(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto)", "testcase": false, "constructor": false}, {"identifier": "getBusinessObjectDataKey", "parameters": "(String[] line, int lineNumber, File inputCsvFile)", "modifiers": "protected", "return": "BusinessObjectDataKey", "signature": "BusinessObjectDataKey getBusinessObjectDataKey(String[] line, int lineNumber, File inputCsvFile)", "full_signature": "protected BusinessObjectDataKey getBusinessObjectDataKey(String[] line, int lineNumber, File inputCsvFile)", "class_method_signature": "RetentionExpirationDestroyerController.getBusinessObjectDataKey(String[] line, int lineNumber, File inputCsvFile)", "testcase": false, "constructor": false}, {"identifier": "getBusinessObjectDataKeys", "parameters": "(File inputCsvFile)", "modifiers": "protected", "return": "List<BusinessObjectDataKey>", "signature": "List<BusinessObjectDataKey> getBusinessObjectDataKeys(File inputCsvFile)", "full_signature": "protected List<BusinessObjectDataKey> getBusinessObjectDataKeys(File inputCsvFile)", "class_method_signature": "RetentionExpirationDestroyerController.getBusinessObjectDataKeys(File inputCsvFile)", "testcase": false, "constructor": false}], "file": "herd-code/herd-tools/herd-retention-expiration-destroyer/src/main/java/org/finra/herd/tools/retention/destroyer/RetentionExpirationDestroyerController.java"}, "focal_method": {"identifier": "getBusinessObjectDataKeys", "parameters": "(File inputCsvFile)", "modifiers": "protected", "return": "List<BusinessObjectDataKey>", "body": "protected List<BusinessObjectDataKey> getBusinessObjectDataKeys(File inputCsvFile) throws IOException\n    {\n        List<BusinessObjectDataKey> businessObjectDataKeyList = new ArrayList<>();\n\n        // Read the input CSV file and populate business object data key list.\n        try (CSVReader csvReader = new CSVReader(new InputStreamReader(new FileInputStream(inputCsvFile), StandardCharsets.UTF_8)))\n        {\n            String[] line;\n\n            // Validate required header of the CSV input file.\n            if ((line = csvReader.readNext()) == null || !Arrays.equals(line, CSV_FILE_HEADER_COLUMNS))\n            {\n                throw new IllegalArgumentException(String.format(\"Input file \\\"%s\\\" does not contain the expected CSV file header.\", inputCsvFile.toString()));\n            }\n\n            // Process the input CSV file line by line.\n            int lineCount = 2;\n            while ((line = csvReader.readNext()) != null)\n            {\n                businessObjectDataKeyList.add(getBusinessObjectDataKey(line, lineCount++, inputCsvFile));\n            }\n        }\n\n        return businessObjectDataKeyList;\n    }", "signature": "List<BusinessObjectDataKey> getBusinessObjectDataKeys(File inputCsvFile)", "full_signature": "protected List<BusinessObjectDataKey> getBusinessObjectDataKeys(File inputCsvFile)", "class_method_signature": "RetentionExpirationDestroyerController.getBusinessObjectDataKeys(File inputCsvFile)", "testcase": false, "constructor": false, "invocations": ["readNext", "equals", "format", "toString", "readNext", "add", "getBusinessObjectDataKey"]}, "repository": {"repo_id": 42949039, "url": "https://github.com/FINRAOS/herd", "language": "Java", "is_fork": false, "fork_count": 36, "stargazer_count": 120, "size": 205797, "license": "licensed"}}