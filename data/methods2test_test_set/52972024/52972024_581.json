{"test_class": {"identifier": "ExecutionTaskTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private TaskDispatcher dispatcherMock;", "modifier": "private", "type": "TaskDispatcher", "declarator": "dispatcherMock", "var_name": "dispatcherMock"}, {"original_string": "private IQueue<ITask> queueMock;", "modifier": "private", "type": "IQueue<ITask>", "declarator": "queueMock", "var_name": "queueMock"}, {"original_string": "private IThreadPool threadPoolMock;", "modifier": "private", "type": "IThreadPool", "declarator": "threadPoolMock", "var_name": "threadPoolMock"}], "file": "CoreFeatures/Task/TaskDispatcher/src/test/java/info/smart_tools/smartactors/task/task_dispatcher/ExecutionTaskTest.java"}, "test_case": {"identifier": "Should_takeAndExecuteTasks", "parameters": "()", "modifiers": "@Test(timeout = 100L) public", "return": "void", "body": "@Test(timeout = 100L)\n    public void Should_takeAndExecuteTasks()\n            throws Exception {\n        ITask taskMock = mock(ITask.class);\n\n        when(queueMock.tryTake())\n                .thenReturn(taskMock)\n                .thenReturn(null);\n\n        ExecutionTask executionTask = new ExecutionTask(dispatcherMock);\n        when(dispatcherMock.getExecutionTask()).thenReturn(executionTask);\n\n        executionTask.execute();\n\n        verify(taskMock).execute();\n    }", "signature": "void Should_takeAndExecuteTasks()", "full_signature": "@Test(timeout = 100L) public void Should_takeAndExecuteTasks()", "class_method_signature": "ExecutionTaskTest.Should_takeAndExecuteTasks()", "testcase": true, "constructor": false, "invocations": ["mock", "thenReturn", "thenReturn", "when", "tryTake", "thenReturn", "when", "getExecutionTask", "execute", "execute", "verify"]}, "focal_class": {"identifier": "ExecutionTask", "superclass": "", "interfaces": "implements ITask", "fields": [{"original_string": "private final TaskDispatcher taskDispatcher;", "modifier": "private final", "type": "TaskDispatcher", "declarator": "taskDispatcher", "var_name": "taskDispatcher"}], "methods": [{"identifier": "ExecutionTask", "parameters": "(final TaskDispatcher taskDispatcher)", "modifiers": "", "return": "", "signature": " ExecutionTask(final TaskDispatcher taskDispatcher)", "full_signature": "  ExecutionTask(final TaskDispatcher taskDispatcher)", "class_method_signature": "ExecutionTask.ExecutionTask(final TaskDispatcher taskDispatcher)", "testcase": false, "constructor": true}, {"identifier": "execute", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void execute()", "full_signature": "@Override public void execute()", "class_method_signature": "ExecutionTask.execute()", "testcase": false, "constructor": false}], "file": "CoreFeatures/Task/TaskDispatcher/src/main/java/info/smart_tools/smartactors/task/task_dispatcher/ExecutionTask.java"}, "focal_method": {"identifier": "execute", "parameters": "()", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void execute() throws TaskExecutionException {\n        taskDispatcher.notifyThreadStart();\n\n        try {\n            while (taskDispatcher.getExecutionTask() == this) {\n                if (Thread.interrupted()) {\n                    Thread.currentThread().interrupt();\n                    return;\n                }\n\n                ITask task = taskDispatcher.getTaskQueue().tryTake();\n\n                if (null == task) {\n                    return;\n                }\n\n                taskDispatcher.notifyTaskTaken();\n\n                taskDispatcher.getThreadPool().tryExecute(this);\n\n                task.execute();\n            }\n\n            taskDispatcher.getThreadPool().tryExecute(taskDispatcher.getExecutionTask());\n        } finally {\n            taskDispatcher.notifyThreadStop();\n        }\n    }", "signature": "void execute()", "full_signature": "@Override public void execute()", "class_method_signature": "ExecutionTask.execute()", "testcase": false, "constructor": false, "invocations": ["notifyThreadStart", "getExecutionTask", "interrupted", "interrupt", "currentThread", "tryTake", "getTaskQueue", "notifyTaskTaken", "tryExecute", "getThreadPool", "execute", "tryExecute", "getThreadPool", "getExecutionTask", "notifyThreadStop"]}, "repository": {"repo_id": 52972024, "url": "https://github.com/SmartTools/smartactors-core", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 17, "size": 58816, "license": "licensed"}}