{"test_class": {"identifier": "ColumnDatabaseAdapterTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final int ID = 5;", "modifier": "private static final", "type": "int", "declarator": "ID = 5", "var_name": "ID"}, {"original_string": "private static final int TYPE = ReceiptColumnDefinitions.ActualDefinition.NAME.getColumnType();", "modifier": "private static final", "type": "int", "declarator": "TYPE = ReceiptColumnDefinitions.ActualDefinition.NAME.getColumnType()", "var_name": "TYPE"}, {"original_string": "private static final long CUSTOM_ORDER_ID = 10;", "modifier": "private static final", "type": "long", "declarator": "CUSTOM_ORDER_ID = 10", "var_name": "CUSTOM_ORDER_ID"}, {"original_string": "private static final UUID COLUMN_UUID = UUID.randomUUID();", "modifier": "private static final", "type": "UUID", "declarator": "COLUMN_UUID = UUID.randomUUID()", "var_name": "COLUMN_UUID"}, {"original_string": "ColumnDatabaseAdapter columnDatabaseAdapter;", "modifier": "", "type": "ColumnDatabaseAdapter", "declarator": "columnDatabaseAdapter", "var_name": "columnDatabaseAdapter"}, {"original_string": "@Mock\n    Cursor cursor;", "modifier": "@Mock", "type": "Cursor", "declarator": "cursor", "var_name": "cursor"}, {"original_string": "@Mock\n    Column<Receipt> column;", "modifier": "@Mock", "type": "Column<Receipt>", "declarator": "column", "var_name": "column"}, {"original_string": "@Mock\n    ReportResourcesManager reportResourcesManager;", "modifier": "@Mock", "type": "ReportResourcesManager", "declarator": "reportResourcesManager", "var_name": "reportResourcesManager"}, {"original_string": "@Mock\n    UserPreferenceManager preferences;", "modifier": "@Mock", "type": "UserPreferenceManager", "declarator": "preferences", "var_name": "preferences"}, {"original_string": "@Mock\n    DateFormatter dateFormatter;", "modifier": "@Mock", "type": "DateFormatter", "declarator": "dateFormatter", "var_name": "dateFormatter"}, {"original_string": "@Mock\n    SyncStateAdapter syncStateAdapter;", "modifier": "@Mock", "type": "SyncStateAdapter", "declarator": "syncStateAdapter", "var_name": "syncStateAdapter"}, {"original_string": "@Mock\n    SyncState syncState, getSyncState;", "modifier": "@Mock", "type": "SyncState", "declarator": "syncState", "var_name": "syncState"}, {"original_string": "Column<Receipt> receiptNameColumn;", "modifier": "", "type": "Column<Receipt>", "declarator": "receiptNameColumn", "var_name": "receiptNameColumn"}], "file": "app/src/test/java/co/smartreceipts/android/persistence/database/tables/adapters/ColumnDatabaseAdapterTest.java"}, "test_case": {"identifier": "write", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void write() throws Exception {\n        final String sync = \"sync\";\n        final ContentValues syncValues = new ContentValues();\n        syncValues.put(sync, sync);\n        when(syncStateAdapter.writeUnsynced(syncState)).thenReturn(syncValues);\n\n        final ContentValues contentValues = columnDatabaseAdapter.write(column, new DatabaseOperationMetadata());\n        assertEquals(Integer.valueOf(TYPE), contentValues.getAsInteger(AbstractColumnTable.COLUMN_TYPE));\n        assertEquals(sync, contentValues.getAsString(sync));\n        assertFalse(contentValues.containsKey(AbstractColumnTable.COLUMN_ID));\n        assertEquals(CUSTOM_ORDER_ID, (long) contentValues.getAsLong(AbstractSqlTable.COLUMN_CUSTOM_ORDER_ID));\n        assertEquals(COLUMN_UUID.toString(), contentValues.getAsString(AbstractSqlTable.COLUMN_UUID));\n}", "signature": "void write()", "full_signature": "@Test public void write()", "class_method_signature": "ColumnDatabaseAdapterTest.write()", "testcase": true, "constructor": false, "invocations": ["put", "thenReturn", "when", "writeUnsynced", "write", "assertEquals", "valueOf", "getAsInteger", "assertEquals", "getAsString", "assertFalse", "containsKey", "assertEquals", "getAsLong", "assertEquals", "toString", "getAsString"]}, "focal_class": {"identifier": "ColumnDatabaseAdapter", "superclass": "", "interfaces": "implements DatabaseAdapter<Column<Receipt>>", "fields": [{"original_string": "private final ColumnDefinitions<Receipt> mReceiptColumnDefinitions;", "modifier": "private final", "type": "ColumnDefinitions<Receipt>", "declarator": "mReceiptColumnDefinitions", "var_name": "mReceiptColumnDefinitions"}, {"original_string": "private final SyncStateAdapter mSyncStateAdapter;", "modifier": "private final", "type": "SyncStateAdapter", "declarator": "mSyncStateAdapter", "var_name": "mSyncStateAdapter"}], "methods": [{"identifier": "ColumnDatabaseAdapter", "parameters": "(@NonNull ColumnDefinitions<Receipt> receiptColumnDefinitions)", "modifiers": "public", "return": "", "signature": " ColumnDatabaseAdapter(@NonNull ColumnDefinitions<Receipt> receiptColumnDefinitions)", "full_signature": "public  ColumnDatabaseAdapter(@NonNull ColumnDefinitions<Receipt> receiptColumnDefinitions)", "class_method_signature": "ColumnDatabaseAdapter.ColumnDatabaseAdapter(@NonNull ColumnDefinitions<Receipt> receiptColumnDefinitions)", "testcase": false, "constructor": true}, {"identifier": "ColumnDatabaseAdapter", "parameters": "(@NonNull ColumnDefinitions<Receipt> receiptColumnDefinitions, @NonNull SyncStateAdapter syncStateAdapter)", "modifiers": "public", "return": "", "signature": " ColumnDatabaseAdapter(@NonNull ColumnDefinitions<Receipt> receiptColumnDefinitions, @NonNull SyncStateAdapter syncStateAdapter)", "full_signature": "public  ColumnDatabaseAdapter(@NonNull ColumnDefinitions<Receipt> receiptColumnDefinitions, @NonNull SyncStateAdapter syncStateAdapter)", "class_method_signature": "ColumnDatabaseAdapter.ColumnDatabaseAdapter(@NonNull ColumnDefinitions<Receipt> receiptColumnDefinitions, @NonNull SyncStateAdapter syncStateAdapter)", "testcase": false, "constructor": true}, {"identifier": "read", "parameters": "(@NonNull Cursor cursor)", "modifiers": "@NonNull @Override public", "return": "Column<Receipt>", "signature": "Column<Receipt> read(@NonNull Cursor cursor)", "full_signature": "@NonNull @Override public Column<Receipt> read(@NonNull Cursor cursor)", "class_method_signature": "ColumnDatabaseAdapter.read(@NonNull Cursor cursor)", "testcase": false, "constructor": false}, {"identifier": "write", "parameters": "(@NonNull Column<Receipt> column, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "modifiers": "@NonNull @Override public", "return": "ContentValues", "signature": "ContentValues write(@NonNull Column<Receipt> column, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "full_signature": "@NonNull @Override public ContentValues write(@NonNull Column<Receipt> column, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "class_method_signature": "ColumnDatabaseAdapter.write(@NonNull Column<Receipt> column, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "testcase": false, "constructor": false}, {"identifier": "build", "parameters": "(@NonNull Column<Receipt> column, int primaryKey, @NonNull UUID uuid, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "modifiers": "@NonNull @Override public", "return": "Column<Receipt>", "signature": "Column<Receipt> build(@NonNull Column<Receipt> column, int primaryKey, @NonNull UUID uuid, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "full_signature": "@NonNull @Override public Column<Receipt> build(@NonNull Column<Receipt> column, int primaryKey, @NonNull UUID uuid, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "class_method_signature": "ColumnDatabaseAdapter.build(@NonNull Column<Receipt> column, int primaryKey, @NonNull UUID uuid, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "testcase": false, "constructor": false}], "file": "app/src/main/java/co/smartreceipts/android/persistence/database/tables/adapters/ColumnDatabaseAdapter.java"}, "focal_method": {"identifier": "write", "parameters": "(@NonNull Column<Receipt> column, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "modifiers": "@NonNull @Override public", "return": "ContentValues", "body": "@NonNull\n    @Override\n    public ContentValues write(@NonNull Column<Receipt> column, @NonNull DatabaseOperationMetadata databaseOperationMetadata) {\n        final ContentValues values = new ContentValues();\n        values.put(AbstractColumnTable.COLUMN_TYPE, column.getType());\n        values.put(AbstractColumnTable.COLUMN_CUSTOM_ORDER_ID, column.getCustomOrderId());\n        values.put(AbstractColumnTable.COLUMN_UUID, column.getUuid().toString());\n\n        if (databaseOperationMetadata.getOperationFamilyType() == OperationFamilyType.Sync) {\n            values.putAll(mSyncStateAdapter.write(column.getSyncState()));\n        } else {\n            values.putAll(mSyncStateAdapter.writeUnsynced(column.getSyncState()));\n        }\n        return values;\n    }", "signature": "ContentValues write(@NonNull Column<Receipt> column, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "full_signature": "@NonNull @Override public ContentValues write(@NonNull Column<Receipt> column, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "class_method_signature": "ColumnDatabaseAdapter.write(@NonNull Column<Receipt> column, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "testcase": false, "constructor": false, "invocations": ["put", "getType", "put", "getCustomOrderId", "put", "toString", "getUuid", "getOperationFamilyType", "putAll", "write", "getSyncState", "putAll", "writeUnsynced", "getSyncState"]}, "repository": {"repo_id": 2684727, "url": "https://github.com/wbaumann/SmartReceiptsLibrary", "stars": 166, "created": "11/1/2011 12:32:39 AM +00:00", "updates": "2020-01-26T22:04:24+00:00", "fork": "False", "license": "licensed"}}