{"test_class": {"identifier": "AgentRollupIdsTest", "superclass": "", "interfaces": "", "fields": [], "file": "central/src/test/java/org/glowroot/central/repo/AgentRollupIdsTest.java"}, "test_case": {"identifier": "shouldGetAgentRollupIdsFromRollup", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void shouldGetAgentRollupIdsFromRollup() {\n        assertThat(AgentRollupIds.getAgentRollupIds(\"aaa::\")).containsExactly(\"aaa::\");\n        assertThat(AgentRollupIds.getAgentRollupIds(\"aaa::bbb::\")).containsExactly(\"aaa::bbb::\",\n                \"aaa::\");\n        assertThat(AgentRollupIds.getAgentRollupIds(\"aaa::bbb::ccc::\"))\n                .containsExactly(\"aaa::bbb::ccc::\", \"aaa::bbb::\", \"aaa::\");\n        assertThat(AgentRollupIds.getAgentRollupIds(\"a::\")).containsExactly(\"a::\");\n        assertThat(AgentRollupIds.getAgentRollupIds(\"a::b::\")).containsExactly(\"a::b::\", \"a::\");\n        assertThat(AgentRollupIds.getAgentRollupIds(\"a::b::c::\")).containsExactly(\"a::b::c::\",\n                \"a::b::\", \"a::\");\n        assertThat(AgentRollupIds.getAgentRollupIds(\"a:b:c::\")).containsExactly(\"a:b:c::\");\n        assertThat(AgentRollupIds.getAgentRollupIds(\"a:::b:::\")).containsExactly(\"a:::b:::\",\n                \"a:::\");\n        assertThat(AgentRollupIds.getAgentRollupIds(\"a:::b:::c:::\")).containsExactly(\"a:::b:::c:::\",\n                \"a:::b:::\", \"a:::\");\n        assertThat(AgentRollupIds.getAgentRollupIds(\"a::::b::::\")).containsExactly(\"a::::b::::\",\n                \"a::::\");\n        assertThat(AgentRollupIds.getAgentRollupIds(\"a::::b::::c::::\")).containsExactly(\n                \"a::::b::::c::::\", \"a::::b::::\", \"a::::\");\n        assertThat(AgentRollupIds.getAgentRollupIds(\"a:::::b:::::\")).containsExactly(\"a:::::b:::::\",\n                \"a:::::b::\", \"a:::::\", \"a::\");\n        assertThat(AgentRollupIds.getAgentRollupIds(\"a:::::b:::::c:::::\")).containsExactly(\n                \"a:::::b:::::c:::::\", \"a:::::b:::::c::\", \"a:::::b:::::\", \"a:::::b::\", \"a:::::\",\n                \"a::\");\n    }", "signature": "void shouldGetAgentRollupIdsFromRollup()", "full_signature": "@Test public void shouldGetAgentRollupIdsFromRollup()", "class_method_signature": "AgentRollupIdsTest.shouldGetAgentRollupIdsFromRollup()", "testcase": true, "constructor": false, "invocations": ["containsExactly", "assertThat", "getAgentRollupIds", "containsExactly", "assertThat", "getAgentRollupIds", "containsExactly", "assertThat", "getAgentRollupIds", "containsExactly", "assertThat", "getAgentRollupIds", "containsExactly", "assertThat", "getAgentRollupIds", "containsExactly", "assertThat", "getAgentRollupIds", "containsExactly", "assertThat", "getAgentRollupIds", "containsExactly", "assertThat", "getAgentRollupIds", "containsExactly", "assertThat", "getAgentRollupIds", "containsExactly", "assertThat", "getAgentRollupIds", "containsExactly", "assertThat", "getAgentRollupIds", "containsExactly", "assertThat", "getAgentRollupIds", "containsExactly", "assertThat", "getAgentRollupIds"]}, "focal_class": {"identifier": "AgentRollupIds", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "AgentRollupIds", "parameters": "()", "modifiers": "private", "return": "", "signature": " AgentRollupIds()", "full_signature": "private  AgentRollupIds()", "class_method_signature": "AgentRollupIds.AgentRollupIds()", "testcase": false, "constructor": true}, {"identifier": "getAgentRollupIds", "parameters": "(String agentRollupId)", "modifiers": "public static", "return": "List<String>", "signature": "List<String> getAgentRollupIds(String agentRollupId)", "full_signature": "public static List<String> getAgentRollupIds(String agentRollupId)", "class_method_signature": "AgentRollupIds.getAgentRollupIds(String agentRollupId)", "testcase": false, "constructor": false}, {"identifier": "getParent", "parameters": "(String agentRollupId)", "modifiers": "static @Nullable", "return": "String", "signature": "String getParent(String agentRollupId)", "full_signature": "static @Nullable String getParent(String agentRollupId)", "class_method_signature": "AgentRollupIds.getParent(String agentRollupId)", "testcase": false, "constructor": false}], "file": "central/src/main/java/org/glowroot/central/repo/AgentRollupIds.java"}, "focal_method": {"identifier": "getAgentRollupIds", "parameters": "(String agentRollupId)", "modifiers": "public static", "return": "List<String>", "body": "public static List<String> getAgentRollupIds(String agentRollupId) {\n        List<String> agentRollupIds = new ArrayList<>();\n        agentRollupIds.add(agentRollupId);\n        int separatorLen = \"::\".length();\n        int lastFoundIndex;\n        if (agentRollupId.endsWith(\"::\")) {\n            lastFoundIndex = agentRollupId.length() - separatorLen;\n        } else {\n            lastFoundIndex = agentRollupId.length();\n        }\n        int nextFoundIndex;\n        // -1 because the agent rollup part must be at least 1 character\n        while ((nextFoundIndex =\n                agentRollupId.lastIndexOf(\"::\", lastFoundIndex - separatorLen - 1)) != -1) {\n            if (nextFoundIndex == 0) {\n                break;\n            }\n            agentRollupIds.add(agentRollupId.substring(0, nextFoundIndex + separatorLen));\n            lastFoundIndex = nextFoundIndex;\n        }\n        return agentRollupIds;\n    }", "signature": "List<String> getAgentRollupIds(String agentRollupId)", "full_signature": "public static List<String> getAgentRollupIds(String agentRollupId)", "class_method_signature": "AgentRollupIds.getAgentRollupIds(String agentRollupId)", "testcase": false, "constructor": false, "invocations": ["add", "length", "endsWith", "length", "length", "lastIndexOf", "add", "substring"]}, "repository": {"repo_id": 16336212, "url": "https://github.com/glowroot/glowroot", "stars": 736, "created": "1/29/2014 5:25:58 AM +00:00", "updates": "2020-01-24T11:13:42+00:00", "fork": "False", "license": "licensed"}}