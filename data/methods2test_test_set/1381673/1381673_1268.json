{"test_class": {"identifier": "KiePMMLScorecardModelFactoryTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String SOURCE_1 = \"ScorecardSample.pmml\";", "modifier": "private static final", "type": "String", "declarator": "SOURCE_1 = \"ScorecardSample.pmml\"", "var_name": "SOURCE_1"}, {"original_string": "private static final String TARGET_FIELD = \"overallScore\";", "modifier": "private static final", "type": "String", "declarator": "TARGET_FIELD = \"overallScore\"", "var_name": "TARGET_FIELD"}, {"original_string": "private static final String PACKAGE_NAME = \"packagename\";", "modifier": "private static final", "type": "String", "declarator": "PACKAGE_NAME = \"packagename\"", "var_name": "PACKAGE_NAME"}, {"original_string": "private static PMML pmml;", "modifier": "private static", "type": "PMML", "declarator": "pmml", "var_name": "pmml"}, {"original_string": "private static Scorecard scorecardModel;", "modifier": "private static", "type": "Scorecard", "declarator": "scorecardModel", "var_name": "scorecardModel"}, {"original_string": "private static ClassOrInterfaceDeclaration classOrInterfaceDeclaration;", "modifier": "private static", "type": "ClassOrInterfaceDeclaration", "declarator": "classOrInterfaceDeclaration", "var_name": "classOrInterfaceDeclaration"}], "file": "kie-pmml-trusty/kie-pmml-models/kie-pmml-models-drools/kie-pmml-models-drools-scorecard/kie-pmml-models-drools-scorecard-compiler/src/test/java/org/kie/pmml/models/drools/scorecard/compiler/factories/KiePMMLScorecardModelFactoryTest.java"}, "test_case": {"identifier": "getKiePMMLScorecardModelSourcesMap", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getKiePMMLScorecardModelSourcesMap()  {\n        final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap = getFieldTypeMap(pmml.getDataDictionary(),\n                                                                                           pmml.getTransformationDictionary(),\n                                                                                           scorecardModel.getLocalTransformations());\n        Map<String, String> retrieved = KiePMMLScorecardModelFactory.getKiePMMLScorecardModelSourcesMap(pmml.getDataDictionary(),\n                                                                                                        pmml.getTransformationDictionary(),\n                                                                                                        scorecardModel,\n                                                                                                        fieldTypeMap,\n                                                                                                        PACKAGE_NAME);\n        assertNotNull(retrieved);\n        assertEquals(1, retrieved.size());\n    }", "signature": "void getKiePMMLScorecardModelSourcesMap()", "full_signature": "@Test public void getKiePMMLScorecardModelSourcesMap()", "class_method_signature": "KiePMMLScorecardModelFactoryTest.getKiePMMLScorecardModelSourcesMap()", "testcase": true, "constructor": false, "invocations": ["getFieldTypeMap", "getDataDictionary", "getTransformationDictionary", "getLocalTransformations", "getKiePMMLScorecardModelSourcesMap", "getDataDictionary", "getTransformationDictionary", "assertNotNull", "assertEquals", "size"]}, "focal_class": {"identifier": "KiePMMLScorecardModelFactory", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger logger = LoggerFactory.getLogger(KiePMMLScorecardModelFactory.class.getName());", "modifier": "private static final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(KiePMMLScorecardModelFactory.class.getName())", "var_name": "logger"}, {"original_string": "static final String KIE_PMML_SCORECARD_MODEL_TEMPLATE_JAVA = \"KiePMMLScorecardModelTemplate.tmpl\";", "modifier": "static final", "type": "String", "declarator": "KIE_PMML_SCORECARD_MODEL_TEMPLATE_JAVA = \"KiePMMLScorecardModelTemplate.tmpl\"", "var_name": "KIE_PMML_SCORECARD_MODEL_TEMPLATE_JAVA"}, {"original_string": "static final String KIE_PMML_SCORECARD_MODEL_TEMPLATE = \"KiePMMLScorecardModelTemplate\";", "modifier": "static final", "type": "String", "declarator": "KIE_PMML_SCORECARD_MODEL_TEMPLATE = \"KiePMMLScorecardModelTemplate\"", "var_name": "KIE_PMML_SCORECARD_MODEL_TEMPLATE"}], "methods": [{"identifier": "KiePMMLScorecardModelFactory", "parameters": "()", "modifiers": "private", "return": "", "signature": " KiePMMLScorecardModelFactory()", "full_signature": "private  KiePMMLScorecardModelFactory()", "class_method_signature": "KiePMMLScorecardModelFactory.KiePMMLScorecardModelFactory()", "testcase": false, "constructor": true}, {"identifier": "getKiePMMLScorecardModel", "parameters": "(final DataDictionary dataDictionary, final TransformationDictionary transformationDictionary, final Scorecard model, final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap)", "modifiers": "public static", "return": "KiePMMLScorecardModel", "signature": "KiePMMLScorecardModel getKiePMMLScorecardModel(final DataDictionary dataDictionary, final TransformationDictionary transformationDictionary, final Scorecard model, final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap)", "full_signature": "public static KiePMMLScorecardModel getKiePMMLScorecardModel(final DataDictionary dataDictionary, final TransformationDictionary transformationDictionary, final Scorecard model, final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap)", "class_method_signature": "KiePMMLScorecardModelFactory.getKiePMMLScorecardModel(final DataDictionary dataDictionary, final TransformationDictionary transformationDictionary, final Scorecard model, final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap)", "testcase": false, "constructor": false}, {"identifier": "getKiePMMLScorecardModelSourcesMap", "parameters": "(final DataDictionary dataDictionary, final TransformationDictionary transformationDictionary, final Scorecard model, final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap, final String packageName)", "modifiers": "public static", "return": "Map<String, String>", "signature": "Map<String, String> getKiePMMLScorecardModelSourcesMap(final DataDictionary dataDictionary, final TransformationDictionary transformationDictionary, final Scorecard model, final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap, final String packageName)", "full_signature": "public static Map<String, String> getKiePMMLScorecardModelSourcesMap(final DataDictionary dataDictionary, final TransformationDictionary transformationDictionary, final Scorecard model, final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap, final String packageName)", "class_method_signature": "KiePMMLScorecardModelFactory.getKiePMMLScorecardModelSourcesMap(final DataDictionary dataDictionary, final TransformationDictionary transformationDictionary, final Scorecard model, final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap, final String packageName)", "testcase": false, "constructor": false}, {"identifier": "getKiePMMLDroolsAST", "parameters": "(final DataDictionary dataDictionary,\n                                                       final Scorecard model,\n                                                       final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap,\n                                                       final List<KiePMMLDroolsType> types)", "modifiers": "public static", "return": "KiePMMLDroolsAST", "signature": "KiePMMLDroolsAST getKiePMMLDroolsAST(final DataDictionary dataDictionary,\n                                                       final Scorecard model,\n                                                       final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap,\n                                                       final List<KiePMMLDroolsType> types)", "full_signature": "public static KiePMMLDroolsAST getKiePMMLDroolsAST(final DataDictionary dataDictionary,\n                                                       final Scorecard model,\n                                                       final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap,\n                                                       final List<KiePMMLDroolsType> types)", "class_method_signature": "KiePMMLScorecardModelFactory.getKiePMMLDroolsAST(final DataDictionary dataDictionary,\n                                                       final Scorecard model,\n                                                       final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap,\n                                                       final List<KiePMMLDroolsType> types)", "testcase": false, "constructor": false}, {"identifier": "setConstructor", "parameters": "(final Scorecard scorecard, final ConstructorDeclaration constructorDeclaration, final SimpleName modelName)", "modifiers": "static", "return": "void", "signature": "void setConstructor(final Scorecard scorecard, final ConstructorDeclaration constructorDeclaration, final SimpleName modelName)", "full_signature": "static void setConstructor(final Scorecard scorecard, final ConstructorDeclaration constructorDeclaration, final SimpleName modelName)", "class_method_signature": "KiePMMLScorecardModelFactory.setConstructor(final Scorecard scorecard, final ConstructorDeclaration constructorDeclaration, final SimpleName modelName)", "testcase": false, "constructor": false}], "file": "kie-pmml-trusty/kie-pmml-models/kie-pmml-models-drools/kie-pmml-models-drools-scorecard/kie-pmml-models-drools-scorecard-compiler/src/main/java/org/kie/pmml/models/drools/scorecard/compiler/factories/KiePMMLScorecardModelFactory.java"}, "focal_method": {"identifier": "getKiePMMLScorecardModelSourcesMap", "parameters": "(final DataDictionary dataDictionary, final TransformationDictionary transformationDictionary, final Scorecard model, final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap, final String packageName)", "modifiers": "public static", "return": "Map<String, String>", "body": "public static Map<String, String> getKiePMMLScorecardModelSourcesMap(final DataDictionary dataDictionary, final TransformationDictionary transformationDictionary, final Scorecard model, final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap, final String packageName) {\n        logger.trace(\"getKiePMMLScorecardModelSourcesMap {} {} {}\", dataDictionary, model, packageName);\n        CompilationUnit cloneCU = getKiePMMLModelCompilationUnit(dataDictionary, model, fieldTypeMap, packageName, KIE_PMML_SCORECARD_MODEL_TEMPLATE_JAVA, KIE_PMML_SCORECARD_MODEL_TEMPLATE);\n        String className = getSanitizedClassName(model.getModelName());\n        ClassOrInterfaceDeclaration modelTemplate = cloneCU.getClassByName(className)\n                .orElseThrow(() -> new KiePMMLException(MAIN_CLASS_NOT_FOUND + \": \" + className));\n        final ConstructorDeclaration constructorDeclaration = modelTemplate.getDefaultConstructor().orElseThrow(() -> new KiePMMLInternalException(String.format(MISSING_DEFAULT_CONSTRUCTOR, modelTemplate.getName())));\n        setConstructor(model, constructorDeclaration, modelTemplate.getName());\n        addTransformationsInClassOrInterfaceDeclaration(modelTemplate, transformationDictionary, model.getLocalTransformations());\n        Map<String, String> toReturn = new HashMap<>();\n        String fullClassName = packageName + \".\" + className;\n        toReturn.put(fullClassName, cloneCU.toString());\n        return toReturn;\n    }", "signature": "Map<String, String> getKiePMMLScorecardModelSourcesMap(final DataDictionary dataDictionary, final TransformationDictionary transformationDictionary, final Scorecard model, final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap, final String packageName)", "full_signature": "public static Map<String, String> getKiePMMLScorecardModelSourcesMap(final DataDictionary dataDictionary, final TransformationDictionary transformationDictionary, final Scorecard model, final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap, final String packageName)", "class_method_signature": "KiePMMLScorecardModelFactory.getKiePMMLScorecardModelSourcesMap(final DataDictionary dataDictionary, final TransformationDictionary transformationDictionary, final Scorecard model, final Map<String, KiePMMLOriginalTypeGeneratedType> fieldTypeMap, final String packageName)", "testcase": false, "constructor": false, "invocations": ["trace", "getKiePMMLModelCompilationUnit", "getSanitizedClassName", "getModelName", "orElseThrow", "getClassByName", "orElseThrow", "getDefaultConstructor", "format", "getName", "setConstructor", "getName", "addTransformationsInClassOrInterfaceDeclaration", "getLocalTransformations", "put", "toString"]}, "repository": {"repo_id": 1381673, "url": "https://github.com/kiegroup/drools", "stars": 2733, "created": "2/18/2011 8:37:05 AM +00:00", "updates": "2020-01-27T13:12:15+00:00", "fork": "False", "license": "licensed"}}