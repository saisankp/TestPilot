{"test_class": {"identifier": "UriEncodingTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String CHARS_UNSUPPORTED_RELAXED = \" \u00e4\\\"%\";", "modifier": "private static final", "type": "String", "declarator": "CHARS_UNSUPPORTED_RELAXED = \" \u00e4\\\"%\";", "var_name": "CHARS_UNSUPPORTED_RELAXED"}, {"original_string": "private static final String CHARS_UNSUPPORTED_STRICT = \"\\\\[]{}|\";", "modifier": "private static final", "type": "String", "declarator": "CHARS_UNSUPPORTED_STRICT = \"\\\\[]{}|\"", "var_name": "CHARS_UNSUPPORTED_STRICT"}, {"original_string": "private static final String CHARS_SUPPORTED = \"!#$&'()*+,/:;=?@aZ0\";", "modifier": "private static final", "type": "String", "declarator": "CHARS_SUPPORTED = \"!#$&'()*+,/:;=?@aZ0\"", "var_name": "CHARS_SUPPORTED"}, {"original_string": "private static final String MANY_DIFFERENT_CHARS = \"!\\\"#$%&'()*+,/:;=?@[\\\\]{|} \u00e4aZ0\";", "modifier": "private static final", "type": "String", "declarator": "MANY_DIFFERENT_CHARS = \"!\\\"#$%&'()*+,/:;=?@[\\\\]{|} \u00e4aZ0\";", "var_name": "MANY_DIFFERENT_CHARS"}, {"original_string": "private static final String MANY_DIFFERENT_CHARS_QUERY_PARAM_ENCODED_RFC3986 =\n            \"!%22%23$%25%26'()*%2B,/:;%3D?@%5B%5C%5D%7B%7C%7D%20%C3%A4aZ0\";", "modifier": "private static final", "type": "String", "declarator": "MANY_DIFFERENT_CHARS_QUERY_PARAM_ENCODED_RFC3986 =\n            \"!%22%23$%25%26'()*%2B,/:;%3D?@%5B%5C%5D%7B%7C%7D%20%C3%A4aZ0\"", "var_name": "MANY_DIFFERENT_CHARS_QUERY_PARAM_ENCODED_RFC3986"}], "file": "services/gateway/endpoints/src/test/java/org/eclipse/ditto/services/gateway/endpoints/utils/UriEncodingTest.java"}, "test_case": {"identifier": "encodeQueryFormUrlEncoded", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void encodeQueryFormUrlEncoded() {\n        assertEquals(\"foo\", UriEncoding.encodeQuery(\"foo\", FORM_URL_ENCODED));\n        assertEquals(\"foo=bar%2F%2B&baz=1\", UriEncoding.encodeQuery(\"foo=bar/+&baz=1\", FORM_URL_ENCODED));\n        assertEquals(\"%21%22%23%24%25&%27%28%29*%2B%2C%2F%3A%3B=%3F%40%5B%5C%5D%7B%7C%7D+%C3%A4aZ0\",\n                UriEncoding.encodeQuery(MANY_DIFFERENT_CHARS, FORM_URL_ENCODED));\n    }", "signature": "void encodeQueryFormUrlEncoded()", "full_signature": "@Test public void encodeQueryFormUrlEncoded()", "class_method_signature": "UriEncodingTest.encodeQueryFormUrlEncoded()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "encodeQuery", "assertEquals", "encodeQuery", "assertEquals", "encodeQuery"]}, "focal_class": {"identifier": "UriEncoding", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String ENCODING = StandardCharsets.UTF_8.name();", "modifier": "private static final", "type": "String", "declarator": "ENCODING = StandardCharsets.UTF_8.name()", "var_name": "ENCODING"}, {"original_string": "private static final IntPredicate ALLOWED_IN_PATH = c -> isPchar(c) || '/' == c;", "modifier": "private static final", "type": "IntPredicate", "declarator": "ALLOWED_IN_PATH = c -> isPchar(c) || '/' == c", "var_name": "ALLOWED_IN_PATH"}, {"original_string": "private static final IntPredicate ALLOWED_IN_PATH_SEGMENT = UriEncoding::isPchar;", "modifier": "private static final", "type": "IntPredicate", "declarator": "ALLOWED_IN_PATH_SEGMENT = UriEncoding::isPchar", "var_name": "ALLOWED_IN_PATH_SEGMENT"}, {"original_string": "private static final IntPredicate ALLOWED_IN_QUERY = c -> c != '+' && (isPchar(c) || '/' == c || '?' == c);", "modifier": "private static final", "type": "IntPredicate", "declarator": "ALLOWED_IN_QUERY = c -> c != '+' && (isPchar(c) || '/' == c || '?' == c)", "var_name": "ALLOWED_IN_QUERY"}, {"original_string": "private static final IntPredicate ALLOWED_IN_QUERY_PARAM =\n            c -> !('=' == c || '&' == c) && ALLOWED_IN_QUERY.test(c);", "modifier": "private static final", "type": "IntPredicate", "declarator": "ALLOWED_IN_QUERY_PARAM =\n            c -> !('=' == c || '&' == c) && ALLOWED_IN_QUERY.test(c)", "var_name": "ALLOWED_IN_QUERY_PARAM"}], "methods": [{"identifier": "encodePath", "parameters": "(final String path)", "modifiers": "public static", "return": "String", "signature": "String encodePath(final String path)", "full_signature": "public static String encodePath(final String path)", "class_method_signature": "UriEncoding.encodePath(final String path)", "testcase": false, "constructor": false}, {"identifier": "encodePathSegment", "parameters": "(final String pathSegment)", "modifiers": "public static", "return": "String", "signature": "String encodePathSegment(final String pathSegment)", "full_signature": "public static String encodePathSegment(final String pathSegment)", "class_method_signature": "UriEncoding.encodePathSegment(final String pathSegment)", "testcase": false, "constructor": false}, {"identifier": "encodeQuery", "parameters": "(final String query, final EncodingType encType)", "modifiers": "public static", "return": "String", "signature": "String encodeQuery(final String query, final EncodingType encType)", "full_signature": "public static String encodeQuery(final String query, final EncodingType encType)", "class_method_signature": "UriEncoding.encodeQuery(final String query, final EncodingType encType)", "testcase": false, "constructor": false}, {"identifier": "encodeQueryParam", "parameters": "(final String queryParam, final EncodingType encType)", "modifiers": "public static", "return": "String", "signature": "String encodeQueryParam(final String queryParam, final EncodingType encType)", "full_signature": "public static String encodeQueryParam(final String queryParam, final EncodingType encType)", "class_method_signature": "UriEncoding.encodeQueryParam(final String queryParam, final EncodingType encType)", "testcase": false, "constructor": false}, {"identifier": "decode", "parameters": "(final String source, final EncodingType encType)", "modifiers": "public static", "return": "String", "signature": "String decode(final String source, final EncodingType encType)", "full_signature": "public static String decode(final String source, final EncodingType encType)", "class_method_signature": "UriEncoding.decode(final String source, final EncodingType encType)", "testcase": false, "constructor": false}, {"identifier": "encodeFormUrlEncoded", "parameters": "(final String s)", "modifiers": "private static", "return": "String", "signature": "String encodeFormUrlEncoded(final String s)", "full_signature": "private static String encodeFormUrlEncoded(final String s)", "class_method_signature": "UriEncoding.encodeFormUrlEncoded(final String s)", "testcase": false, "constructor": false}, {"identifier": "decodeFormUrlEncoded", "parameters": "(final String source)", "modifiers": "private static", "return": "String", "signature": "String decodeFormUrlEncoded(final String source)", "full_signature": "private static String decodeFormUrlEncoded(final String source)", "class_method_signature": "UriEncoding.decodeFormUrlEncoded(final String source)", "testcase": false, "constructor": false}, {"identifier": "decodeRFC3986", "parameters": "(final String source)", "modifiers": "@SuppressWarnings(\"squid:S3776\") // simplification of this method would be difficult without sacrificing performance private static", "return": "String", "signature": "String decodeRFC3986(final String source)", "full_signature": "@SuppressWarnings(\"squid:S3776\") // simplification of this method would be difficult without sacrificing performance private static String decodeRFC3986(final String source)", "class_method_signature": "UriEncoding.decodeRFC3986(final String source)", "testcase": false, "constructor": false}, {"identifier": "encodeRFC3986UriComponent", "parameters": "(final String source, final IntPredicate allowedChars)", "modifiers": "private static", "return": "String", "signature": "String encodeRFC3986UriComponent(final String source, final IntPredicate allowedChars)", "full_signature": "private static String encodeRFC3986UriComponent(final String source, final IntPredicate allowedChars)", "class_method_signature": "UriEncoding.encodeRFC3986UriComponent(final String source, final IntPredicate allowedChars)", "testcase": false, "constructor": false}, {"identifier": "encodeBytes", "parameters": "(final byte[] source, final IntPredicate allowedChars)", "modifiers": "private static", "return": "byte[]", "signature": "byte[] encodeBytes(final byte[] source, final IntPredicate allowedChars)", "full_signature": "private static byte[] encodeBytes(final byte[] source, final IntPredicate allowedChars)", "class_method_signature": "UriEncoding.encodeBytes(final byte[] source, final IntPredicate allowedChars)", "testcase": false, "constructor": false}, {"identifier": "isPchar", "parameters": "(final int c)", "modifiers": "private static", "return": "boolean", "signature": "boolean isPchar(final int c)", "full_signature": "private static boolean isPchar(final int c)", "class_method_signature": "UriEncoding.isPchar(final int c)", "testcase": false, "constructor": false}, {"identifier": "isUnreserved", "parameters": "(final int c)", "modifiers": "private static", "return": "boolean", "signature": "boolean isUnreserved(final int c)", "full_signature": "private static boolean isUnreserved(final int c)", "class_method_signature": "UriEncoding.isUnreserved(final int c)", "testcase": false, "constructor": false}, {"identifier": "isAlpha", "parameters": "(final int c)", "modifiers": "private static", "return": "boolean", "signature": "boolean isAlpha(final int c)", "full_signature": "private static boolean isAlpha(final int c)", "class_method_signature": "UriEncoding.isAlpha(final int c)", "testcase": false, "constructor": false}, {"identifier": "isDigit", "parameters": "(final int c)", "modifiers": "private static", "return": "boolean", "signature": "boolean isDigit(final int c)", "full_signature": "private static boolean isDigit(final int c)", "class_method_signature": "UriEncoding.isDigit(final int c)", "testcase": false, "constructor": false}, {"identifier": "isSubDelimiter", "parameters": "(final int c)", "modifiers": "private static", "return": "boolean", "signature": "boolean isSubDelimiter(final int c)", "full_signature": "private static boolean isSubDelimiter(final int c)", "class_method_signature": "UriEncoding.isSubDelimiter(final int c)", "testcase": false, "constructor": false}], "file": "services/gateway/endpoints/src/main/java/org/eclipse/ditto/services/gateway/endpoints/utils/UriEncoding.java"}, "focal_method": {"identifier": "encodeQuery", "parameters": "(final String query, final EncodingType encType)", "modifiers": "public static", "return": "String", "body": "public static String encodeQuery(final String query, final EncodingType encType) {\n        requireNonNull(query);\n        requireNonNull(encType);\n\n        if (encType == EncodingType.FORM_URL_ENCODED) {\n            return encodeFormUrlEncoded(query) //\n                    .replaceAll(\"%3D\", \"=\") //\n                    .replaceAll(\"%26\", \"&\");\n        } else {\n            return encodeRFC3986UriComponent(query, ALLOWED_IN_QUERY);\n        }\n    }", "signature": "String encodeQuery(final String query, final EncodingType encType)", "full_signature": "public static String encodeQuery(final String query, final EncodingType encType)", "class_method_signature": "UriEncoding.encodeQuery(final String query, final EncodingType encType)", "testcase": false, "constructor": false, "invocations": ["requireNonNull", "requireNonNull", "replaceAll", "replaceAll", "encodeFormUrlEncoded", "encodeRFC3986UriComponent"]}, "repository": {"repo_id": 87849739, "url": "https://github.com/eclipse/ditto", "stars": 139, "created": "4/10/2017 7:29:57 PM +00:00", "updates": "2020-01-27T14:02:39+00:00", "fork": "False", "license": "licensed"}}