{"test_class": {"identifier": "DefaultQueryServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Rule\n    public MockitoRule mockitoRule = MockitoJUnit.rule();", "modifier": "@Rule\n    public", "type": "MockitoRule", "declarator": "mockitoRule = MockitoJUnit.rule()", "var_name": "mockitoRule"}, {"original_string": "private DefaultQueryService subject;", "modifier": "private", "type": "DefaultQueryService", "declarator": "subject", "var_name": "subject"}, {"original_string": "@Mock\n    private QueryParser queryParser;", "modifier": "@Mock\n    private", "type": "QueryParser", "declarator": "queryParser", "var_name": "queryParser"}, {"original_string": "@Mock\n    private CriteriaQueryEngine<OrganisationUnit> criteriaQueryEngine;", "modifier": "@Mock\n    private", "type": "CriteriaQueryEngine<OrganisationUnit>", "declarator": "criteriaQueryEngine", "var_name": "criteriaQueryEngine"}, {"original_string": "@Mock\n    private InMemoryQueryEngine<OrganisationUnit> inMemoryQueryEngine;", "modifier": "@Mock\n    private", "type": "InMemoryQueryEngine<OrganisationUnit>", "declarator": "inMemoryQueryEngine", "var_name": "inMemoryQueryEngine"}, {"original_string": "@Mock\n    private SchemaService schemaService;", "modifier": "@Mock\n    private", "type": "SchemaService", "declarator": "schemaService", "var_name": "schemaService"}], "file": "dhis-2/dhis-services/dhis-service-core/src/test/java/org/hisp/dhis/query/DefaultQueryServiceTest.java"}, "test_case": {"identifier": "verifyQueryEngineUsesPaginationInformation", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void verifyQueryEngineUsesPaginationInformation()\n    {\n        Query query = Query.from( new OrganisationUnitSchemaDescriptor().getSchema() );\n        query.setFirstResult( 100 );\n        query.setMaxResults( 50 );\n\n        // Here we make sure that the pagination info are actually passed to the\n        // Hibernate query engine\n        when( criteriaQueryEngine.query( argThat( new QueryWithPagination( query ) ) ) )\n            .thenReturn( createOrgUnits( 20 ) );\n\n        List<? extends IdentifiableObject> orgUnits = subject.query( query );\n\n        assertThat( orgUnits.size(), is( 20 ) );\n    }", "signature": "void verifyQueryEngineUsesPaginationInformation()", "full_signature": "@Test public void verifyQueryEngineUsesPaginationInformation()", "class_method_signature": "DefaultQueryServiceTest.verifyQueryEngineUsesPaginationInformation()", "testcase": true, "constructor": false, "invocations": ["from", "getSchema", "setFirstResult", "setMaxResults", "thenReturn", "when", "query", "argThat", "createOrgUnits", "query", "assertThat", "size", "is"]}, "focal_class": {"identifier": "DefaultQueryService", "superclass": "", "interfaces": "implements QueryService", "fields": [{"original_string": "private final QueryParser queryParser;", "modifier": "private final", "type": "QueryParser", "declarator": "queryParser", "var_name": "queryParser"}, {"original_string": "private final QueryPlanner queryPlanner;", "modifier": "private final", "type": "QueryPlanner", "declarator": "queryPlanner", "var_name": "queryPlanner"}, {"original_string": "private final CriteriaQueryEngine<? extends IdentifiableObject> criteriaQueryEngine;", "modifier": "private final", "type": "CriteriaQueryEngine<? extends IdentifiableObject>", "declarator": "criteriaQueryEngine", "var_name": "criteriaQueryEngine"}, {"original_string": "private final InMemoryQueryEngine<? extends IdentifiableObject> inMemoryQueryEngine;", "modifier": "private final", "type": "InMemoryQueryEngine<? extends IdentifiableObject>", "declarator": "inMemoryQueryEngine", "var_name": "inMemoryQueryEngine"}, {"original_string": "private final Junction.Type DEFAULT_JUNCTION_TYPE = Junction.Type.AND;", "modifier": "private final", "type": "Junction.Type", "declarator": "DEFAULT_JUNCTION_TYPE = Junction.Type.AND", "var_name": "DEFAULT_JUNCTION_TYPE"}], "methods": [{"identifier": "DefaultQueryService", "parameters": "( QueryParser queryParser, QueryPlanner queryPlanner,\n        CriteriaQueryEngine<? extends IdentifiableObject> criteriaQueryEngine,\n        InMemoryQueryEngine<? extends IdentifiableObject> inMemoryQueryEngine )", "modifiers": "public", "return": "", "signature": " DefaultQueryService( QueryParser queryParser, QueryPlanner queryPlanner,\n        CriteriaQueryEngine<? extends IdentifiableObject> criteriaQueryEngine,\n        InMemoryQueryEngine<? extends IdentifiableObject> inMemoryQueryEngine )", "full_signature": "public  DefaultQueryService( QueryParser queryParser, QueryPlanner queryPlanner,\n        CriteriaQueryEngine<? extends IdentifiableObject> criteriaQueryEngine,\n        InMemoryQueryEngine<? extends IdentifiableObject> inMemoryQueryEngine )", "class_method_signature": "DefaultQueryService.DefaultQueryService( QueryParser queryParser, QueryPlanner queryPlanner,\n        CriteriaQueryEngine<? extends IdentifiableObject> criteriaQueryEngine,\n        InMemoryQueryEngine<? extends IdentifiableObject> inMemoryQueryEngine )", "testcase": false, "constructor": true}, {"identifier": "query", "parameters": "( Query query )", "modifiers": "@Override public", "return": "List<? extends IdentifiableObject>", "signature": "List<? extends IdentifiableObject> query( Query query )", "full_signature": "@Override public List<? extends IdentifiableObject> query( Query query )", "class_method_signature": "DefaultQueryService.query( Query query )", "testcase": false, "constructor": false}, {"identifier": "query", "parameters": "( Query query, ResultTransformer transformer )", "modifiers": "@Override @SuppressWarnings( { \"unchecked\", \"rawtypes\" } ) public", "return": "List<? extends IdentifiableObject>", "signature": "List<? extends IdentifiableObject> query( Query query, ResultTransformer transformer )", "full_signature": "@Override @SuppressWarnings( { \"unchecked\", \"rawtypes\" } ) public List<? extends IdentifiableObject> query( Query query, ResultTransformer transformer )", "class_method_signature": "DefaultQueryService.query( Query query, ResultTransformer transformer )", "testcase": false, "constructor": false}, {"identifier": "count", "parameters": "( Query query )", "modifiers": "@Override public", "return": "int", "signature": "int count( Query query )", "full_signature": "@Override public int count( Query query )", "class_method_signature": "DefaultQueryService.count( Query query )", "testcase": false, "constructor": false}, {"identifier": "getQueryFromUrl", "parameters": "( Class<?> klass, List<String> filters, List<Order> orders, Pagination pagination)", "modifiers": "@Override public", "return": "Query", "signature": "Query getQueryFromUrl( Class<?> klass, List<String> filters, List<Order> orders, Pagination pagination)", "full_signature": "@Override public Query getQueryFromUrl( Class<?> klass, List<String> filters, List<Order> orders, Pagination pagination)", "class_method_signature": "DefaultQueryService.getQueryFromUrl( Class<?> klass, List<String> filters, List<Order> orders, Pagination pagination)", "testcase": false, "constructor": false}, {"identifier": "getQueryFromUrl", "parameters": "( Class<?> klass, List<String> filters, List<Order> orders, Pagination pagination, Junction.Type rootJunction )", "modifiers": "@Override public", "return": "Query", "signature": "Query getQueryFromUrl( Class<?> klass, List<String> filters, List<Order> orders, Pagination pagination, Junction.Type rootJunction )", "full_signature": "@Override public Query getQueryFromUrl( Class<?> klass, List<String> filters, List<Order> orders, Pagination pagination, Junction.Type rootJunction )", "class_method_signature": "DefaultQueryService.getQueryFromUrl( Class<?> klass, List<String> filters, List<Order> orders, Pagination pagination, Junction.Type rootJunction )", "testcase": false, "constructor": false}, {"identifier": "getQueryFromUrl", "parameters": "( Class<?> klass, List<String> filters, List<Order> orders, Pagination pagination, Junction.Type rootJunction, boolean restrictToCaptureScope )", "modifiers": "@Override public", "return": "Query", "signature": "Query getQueryFromUrl( Class<?> klass, List<String> filters, List<Order> orders, Pagination pagination, Junction.Type rootJunction, boolean restrictToCaptureScope )", "full_signature": "@Override public Query getQueryFromUrl( Class<?> klass, List<String> filters, List<Order> orders, Pagination pagination, Junction.Type rootJunction, boolean restrictToCaptureScope )", "class_method_signature": "DefaultQueryService.getQueryFromUrl( Class<?> klass, List<String> filters, List<Order> orders, Pagination pagination, Junction.Type rootJunction, boolean restrictToCaptureScope )", "testcase": false, "constructor": false}, {"identifier": "getQueryFromUrl", "parameters": "( Class<?> klass, List<String> filters, List<Order> orders )", "modifiers": "@Override public", "return": "Query", "signature": "Query getQueryFromUrl( Class<?> klass, List<String> filters, List<Order> orders )", "full_signature": "@Override public Query getQueryFromUrl( Class<?> klass, List<String> filters, List<Order> orders )", "class_method_signature": "DefaultQueryService.getQueryFromUrl( Class<?> klass, List<String> filters, List<Order> orders )", "testcase": false, "constructor": false}, {"identifier": "countObjects", "parameters": "( Query query )", "modifiers": "private", "return": "int", "signature": "int countObjects( Query query )", "full_signature": "private int countObjects( Query query )", "class_method_signature": "DefaultQueryService.countObjects( Query query )", "testcase": false, "constructor": false}, {"identifier": "queryObjects", "parameters": "( Query query )", "modifiers": "private", "return": "List<? extends IdentifiableObject>", "signature": "List<? extends IdentifiableObject> queryObjects( Query query )", "full_signature": "private List<? extends IdentifiableObject> queryObjects( Query query )", "class_method_signature": "DefaultQueryService.queryObjects( Query query )", "testcase": false, "constructor": false}, {"identifier": "clearDefaults", "parameters": "( Class<?> klass, List<? extends IdentifiableObject> objects, Defaults defaults )", "modifiers": "private", "return": "void", "signature": "void clearDefaults( Class<?> klass, List<? extends IdentifiableObject> objects, Defaults defaults )", "full_signature": "private void clearDefaults( Class<?> klass, List<? extends IdentifiableObject> objects, Defaults defaults )", "class_method_signature": "DefaultQueryService.clearDefaults( Class<?> klass, List<? extends IdentifiableObject> objects, Defaults defaults )", "testcase": false, "constructor": false}], "file": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/query/DefaultQueryService.java"}, "focal_method": {"identifier": "query", "parameters": "( Query query )", "modifiers": "@Override public", "return": "List<? extends IdentifiableObject>", "body": "@Override\n    public List<? extends IdentifiableObject> query( Query query )\n    {\n        return queryObjects( query );\n    }", "signature": "List<? extends IdentifiableObject> query( Query query )", "full_signature": "@Override public List<? extends IdentifiableObject> query( Query query )", "class_method_signature": "DefaultQueryService.query( Query query )", "testcase": false, "constructor": false, "invocations": ["queryObjects"]}, "repository": {"repo_id": 66940520, "url": "https://github.com/dhis2/dhis2-core", "stars": 151, "created": "8/30/2016 12:57:05 PM +00:00", "updates": "2020-01-24T18:06:36+00:00", "fork": "False", "license": "licensed"}}