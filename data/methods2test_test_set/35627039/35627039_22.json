{"test_class": {"identifier": "IdentityHdfsRecordFormatTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final StreamlineEvent STREAMLINEEVENT = StreamlineEventImpl.builder().fieldsAndValues(new HashMap<>()).build();", "modifier": "private static final", "type": "StreamlineEvent", "declarator": "STREAMLINEEVENT = StreamlineEventImpl.builder().fieldsAndValues(new HashMap<>()).build()", "var_name": "STREAMLINEEVENT"}, {"original_string": "private static final byte[] TEST_BYTES_RESULT = (STREAMLINEEVENT.toString() + \"\\n\").getBytes();", "modifier": "private static final", "type": "byte[]", "declarator": "TEST_BYTES_RESULT = (STREAMLINEEVENT.toString() + \"\\n\").getBytes()", "var_name": "TEST_BYTES_RESULT"}, {"original_string": "private IdentityHdfsRecordFormat format = new IdentityHdfsRecordFormat();", "modifier": "private", "type": "IdentityHdfsRecordFormat", "declarator": "format = new IdentityHdfsRecordFormat()", "var_name": "format"}, {"original_string": "private @Mocked Tuple mockTuple;", "modifier": "private @Mocked", "type": "Tuple", "declarator": "mockTuple", "var_name": "mockTuple"}], "file": "streams/runners/storm/runtime/src/test/java/com/hortonworks/streamline/streams/runtime/storm/hdfs/IdentityHdfsRecordFormatTest.java"}, "test_case": {"identifier": "testFormat", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testFormat () {\n        byte[] bytes = format.format(mockTuple);\n        Assert.assertTrue(Arrays.equals(TEST_BYTES_RESULT, bytes));\n    }", "signature": "void testFormat()", "full_signature": "@Test public void testFormat()", "class_method_signature": "IdentityHdfsRecordFormatTest.testFormat()", "testcase": true, "constructor": false, "invocations": ["format", "assertTrue", "equals"]}, "focal_class": {"identifier": "IdentityHdfsRecordFormat", "superclass": "", "interfaces": "implements RecordFormat", "fields": [], "methods": [{"identifier": "format", "parameters": "(Tuple tuple)", "modifiers": "@Override public", "return": "byte[]", "signature": "byte[] format(Tuple tuple)", "full_signature": "@Override public byte[] format(Tuple tuple)", "class_method_signature": "IdentityHdfsRecordFormat.format(Tuple tuple)", "testcase": false, "constructor": false}], "file": "streams/runners/storm/runtime/src/main/java/com/hortonworks/streamline/streams/runtime/storm/hdfs/IdentityHdfsRecordFormat.java"}, "focal_method": {"identifier": "format", "parameters": "(Tuple tuple)", "modifiers": "@Override public", "return": "byte[]", "body": "@Override\n    public byte[] format(Tuple tuple) {\n        byte[] data = ((StreamlineEvent) tuple.getValueByField(StreamlineEvent.STREAMLINE_EVENT)).getBytes();\n        byte[] recordDelimiter = \"\\n\".getBytes();\n        byte[] result = new byte[data.length + recordDelimiter.length];\n        System.arraycopy(data, 0, result, 0, data.length);\n        System.arraycopy(recordDelimiter, 0, result, data.length,\n                recordDelimiter.length);\n        return result;\n    }", "signature": "byte[] format(Tuple tuple)", "full_signature": "@Override public byte[] format(Tuple tuple)", "class_method_signature": "IdentityHdfsRecordFormat.format(Tuple tuple)", "testcase": false, "constructor": false, "invocations": ["getBytes", "getValueByField", "getBytes", "arraycopy", "arraycopy"]}, "repository": {"repo_id": 35627039, "url": "https://github.com/hortonworks/streamline", "language": "Java", "is_fork": false, "fork_count": 94, "stargazer_count": 147, "size": 69226, "license": "licensed"}}