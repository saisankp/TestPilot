{"test_class": {"identifier": "DownloadHistoryTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@InjectMocks\n\tprivate final DownloadHistory downloadHistory = new DownloadHistory();", "modifier": "@InjectMocks\n\tprivate final", "type": "DownloadHistory", "declarator": "downloadHistory = new DownloadHistory()", "var_name": "downloadHistory"}, {"original_string": "@Mock\n\tprivate ContentManager contentManager;", "modifier": "@Mock\n\tprivate", "type": "ContentManager", "declarator": "contentManager", "var_name": "contentManager"}, {"original_string": "@Mock\n\tprivate Exchange exchange;", "modifier": "@Mock\n\tprivate", "type": "Exchange", "declarator": "exchange", "var_name": "exchange"}, {"original_string": "@Mock\n\tprivate Message message;", "modifier": "@Mock\n\tprivate", "type": "Message", "declarator": "message", "var_name": "message"}, {"original_string": "@Mock\n\tprivate Content content;", "modifier": "@Mock\n\tprivate", "type": "Content", "declarator": "content", "var_name": "content"}, {"original_string": "@Mock\n\tprivate User user;", "modifier": "@Mock\n\tprivate", "type": "User", "declarator": "user", "var_name": "user"}], "file": "seedboxer-core/src/test/java/net/seedboxer/mule/processor/DownloadHistoryTest.java"}, "test_case": {"identifier": "shouldSaveMsgContentInHIstoryWhenReceivesAMsg", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void shouldSaveMsgContentInHIstoryWhenReceivesAMsg() throws Exception {\n\t\tMockito.when(exchange.getIn()).thenReturn(message);\n\t\tMockito.when(message.getHeader(Configuration.USER, User.class)).thenReturn(user);\n\t\tMockito.when(message.getHeader(Configuration.CONTENT, Content.class)).thenReturn(content);\n\t\t\n\t\tdownloadHistory.process(exchange);\n\t\tMockito.verify(contentManager).saveInHistory(content, user);\n\t}", "signature": "void shouldSaveMsgContentInHIstoryWhenReceivesAMsg()", "full_signature": "@Test public void shouldSaveMsgContentInHIstoryWhenReceivesAMsg()", "class_method_signature": "DownloadHistoryTest.shouldSaveMsgContentInHIstoryWhenReceivesAMsg()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "getIn", "thenReturn", "when", "getHeader", "thenReturn", "when", "getHeader", "process", "saveInHistory", "verify"]}, "focal_class": {"identifier": "DownloadHistory", "superclass": "", "interfaces": "implements Processor", "fields": [{"original_string": "private static final Logger LOGGER = LoggerFactory.getLogger(DownloadHistory.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(DownloadHistory.class)", "var_name": "LOGGER"}, {"original_string": "private ContentManager contentManager;", "modifier": "private", "type": "ContentManager", "declarator": "contentManager", "var_name": "contentManager"}], "methods": [{"identifier": "setContentManager", "parameters": "(ContentManager contentManager)", "modifiers": "@Autowired public", "return": "void", "signature": "void setContentManager(ContentManager contentManager)", "full_signature": "@Autowired public void setContentManager(ContentManager contentManager)", "class_method_signature": "DownloadHistory.setContentManager(ContentManager contentManager)", "testcase": false, "constructor": false}, {"identifier": "process", "parameters": "(Exchange exchange)", "modifiers": "@Override public", "return": "void", "signature": "void process(Exchange exchange)", "full_signature": "@Override public void process(Exchange exchange)", "class_method_signature": "DownloadHistory.process(Exchange exchange)", "testcase": false, "constructor": false}], "file": "seedboxer-core/src/main/java/net/seedboxer/mule/processor/DownloadHistory.java"}, "focal_method": {"identifier": "process", "parameters": "(Exchange exchange)", "modifiers": "@Override public", "return": "void", "body": "@Override\n\tpublic void process(Exchange exchange) throws Exception {\n\t\tMessage msg = exchange.getIn();\n\n\t\tUser user = msg.getHeader(Configuration.USER, User.class);\n\t\tContent content = msg.getHeader(Configuration.CONTENT, Content.class);\n\t\tif (content != null) {\n\t\t\tcontentManager.saveInHistory(content, user);\n\t\t} else {\n\t\t\tLOGGER.error(\"Is not a content or can't be parsed. File: {}\", msg.getHeader(Configuration.FILE_NAME, String.class));\n\t\t}\n\t}", "signature": "void process(Exchange exchange)", "full_signature": "@Override public void process(Exchange exchange)", "class_method_signature": "DownloadHistory.process(Exchange exchange)", "testcase": false, "constructor": false, "invocations": ["getIn", "getHeader", "getHeader", "saveInHistory", "error", "getHeader"]}, "repository": {"repo_id": 5342001, "url": "https://github.com/jdavisonc/seedboxer", "language": "Java", "is_fork": false, "fork_count": 1, "stargazer_count": 7, "size": 15845, "license": "licensed"}}