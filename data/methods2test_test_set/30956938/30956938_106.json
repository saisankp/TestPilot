{"test_class": {"identifier": "XMLOutputSplitterActivityTest", "superclass": "", "interfaces": "", "fields": [], "file": "taverna-wsdl-activity/src/test/java/org/apache/taverna/activities/wsdl/xmlsplitter/XMLOutputSplitterActivityTest.java"}, "test_case": {"identifier": "testGetTypeDescriptorForOutputPort", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testGetTypeDescriptorForOutputPort() throws Exception {\n\n\t\tString xml = \"<s:extensions xmlns:s=\\\"http://org.embl.ebi.escience/xscufl/0.1alpha\\\"><s:complextype optional=\\\"false\\\" unbounded=\\\"false\\\" typename=\\\"getPersonResponse\\\" name=\\\"parameters\\\" qname=\\\"{http://testing.org}getPersonResponse\\\"><s:elements><s:complextype optional=\\\"false\\\" unbounded=\\\"false\\\" typename=\\\"Person\\\" name=\\\"getPersonReturn\\\" qname=\\\"{http://testing.org}&gt;getPersonResponse&gt;getPersonReturn\\\"><s:elements><s:complextype optional=\\\"false\\\" unbounded=\\\"false\\\" typename=\\\"Address\\\" name=\\\"address\\\" qname=\\\"{http://testing.org}Person&gt;address\\\"><s:elements><s:basetype optional=\\\"false\\\" unbounded=\\\"false\\\" typename=\\\"string\\\" name=\\\"city\\\" qname=\\\"{http://testing.org}Address&gt;city\\\" /><s:basetype optional=\\\"false\\\" unbounded=\\\"false\\\" typename=\\\"int\\\" name=\\\"number\\\" qname=\\\"{http://testing.org}Address&gt;number\\\" /><s:basetype optional=\\\"false\\\" unbounded=\\\"false\\\" typename=\\\"string\\\" name=\\\"road\\\" qname=\\\"{http://testing.org}Address&gt;road\\\" /></s:elements></s:complextype><s:basetype optional=\\\"false\\\" unbounded=\\\"false\\\" typename=\\\"int\\\" name=\\\"age\\\" qname=\\\"{http://testing.org}Person&gt;age\\\" /><s:basetype optional=\\\"false\\\" unbounded=\\\"false\\\" typename=\\\"string\\\" name=\\\"name\\\" qname=\\\"{http://testing.org}Person&gt;name\\\" /></s:elements></s:complextype></s:elements></s:complextype></s:extensions>\";\n\t\tElement element = new SAXBuilder().build(new StringReader(xml)).getRootElement();\n\t\tJsonNode bean = XMLSplitterConfigurationBeanBuilder.buildBeanForOutput(element);\n\t\tXMLOutputSplitterActivity a = new XMLOutputSplitterActivity();\n\t\ta.setEdits(new EditsImpl());\n\t\ta.configure(bean);\n\n\t\tassertNotNull(\"There should be a descriptor for the port getPersonReturn\",a.getTypeDescriptorForOutputPort(\"getPersonReturn\"));\n\t\tassertTrue(\"The descriptor should be complex\",a.getTypeDescriptorForOutputPort(\"getPersonReturn\") instanceof ComplexTypeDescriptor);\n\n\t}", "signature": "void testGetTypeDescriptorForOutputPort()", "full_signature": "@Test public void testGetTypeDescriptorForOutputPort()", "class_method_signature": "XMLOutputSplitterActivityTest.testGetTypeDescriptorForOutputPort()", "testcase": true, "constructor": false, "invocations": ["getRootElement", "build", "buildBeanForOutput", "setEdits", "configure", "assertNotNull", "getTypeDescriptorForOutputPort", "assertTrue", "getTypeDescriptorForOutputPort"]}, "focal_class": {"identifier": "XMLOutputSplitterActivity", "superclass": "extends\n\t\tAbstractAsynchronousActivity<JsonNode>", "interfaces": "implements\n\t\tOutputPortTypeDescriptorActivity", "fields": [{"original_string": "public static final String URI = \"http://ns.taverna.org.uk/2010/activity/xml-splitter/out\";", "modifier": "public static final", "type": "String", "declarator": "URI = \"http://ns.taverna.org.uk/2010/activity/xml-splitter/out\"", "var_name": "URI"}, {"original_string": "JsonNode configBean;", "modifier": "", "type": "JsonNode", "declarator": "configBean", "var_name": "configBean"}, {"original_string": "TypeDescriptor typeDescriptor;", "modifier": "", "type": "TypeDescriptor", "declarator": "typeDescriptor", "var_name": "typeDescriptor"}], "methods": [{"identifier": "configure", "parameters": "(JsonNode configBean)", "modifiers": "@Override public", "return": "void", "signature": "void configure(JsonNode configBean)", "full_signature": "@Override public void configure(JsonNode configBean)", "class_method_signature": "XMLOutputSplitterActivity.configure(JsonNode configBean)", "testcase": false, "constructor": false}, {"identifier": "executeAsynch", "parameters": "(final Map<String, T2Reference> data,\n\t\t\tfinal AsynchronousActivityCallback callback)", "modifiers": "@Override public", "return": "void", "signature": "void executeAsynch(final Map<String, T2Reference> data,\n\t\t\tfinal AsynchronousActivityCallback callback)", "full_signature": "@Override public void executeAsynch(final Map<String, T2Reference> data,\n\t\t\tfinal AsynchronousActivityCallback callback)", "class_method_signature": "XMLOutputSplitterActivity.executeAsynch(final Map<String, T2Reference> data,\n\t\t\tfinal AsynchronousActivityCallback callback)", "testcase": false, "constructor": false}, {"identifier": "getConfiguration", "parameters": "()", "modifiers": "@Override public", "return": "JsonNode", "signature": "JsonNode getConfiguration()", "full_signature": "@Override public JsonNode getConfiguration()", "class_method_signature": "XMLOutputSplitterActivity.getConfiguration()", "testcase": false, "constructor": false}, {"identifier": "getTypeDescriptorForOutputPort", "parameters": "(String portName)", "modifiers": "public", "return": "TypeDescriptor", "signature": "TypeDescriptor getTypeDescriptorForOutputPort(String portName)", "full_signature": "public TypeDescriptor getTypeDescriptorForOutputPort(String portName)", "class_method_signature": "XMLOutputSplitterActivity.getTypeDescriptorForOutputPort(String portName)", "testcase": false, "constructor": false}, {"identifier": "getTypeDescriptorsForOutputPorts", "parameters": "()", "modifiers": "@Override public", "return": "Map<String, TypeDescriptor>", "signature": "Map<String, TypeDescriptor> getTypeDescriptorsForOutputPorts()", "full_signature": "@Override public Map<String, TypeDescriptor> getTypeDescriptorsForOutputPorts()", "class_method_signature": "XMLOutputSplitterActivity.getTypeDescriptorsForOutputPorts()", "testcase": false, "constructor": false}], "file": "taverna-wsdl-activity/src/main/java/org/apache/taverna/activities/wsdl/xmlsplitter/XMLOutputSplitterActivity.java"}, "focal_method": {"identifier": "getTypeDescriptorForOutputPort", "parameters": "(String portName)", "modifiers": "public", "return": "TypeDescriptor", "body": "public TypeDescriptor getTypeDescriptorForOutputPort(String portName) {\n\t\tTypeDescriptor result = null;\n\t\tif (typeDescriptor instanceof ComplexTypeDescriptor) {\n\t\t\tfor (TypeDescriptor desc : ((ComplexTypeDescriptor) typeDescriptor)\n\t\t\t\t\t.getElements()) {\n\t\t\t\tif (desc.getName().equals(portName)) {\n\t\t\t\t\tresult = desc;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (typeDescriptor instanceof ArrayTypeDescriptor) {\n\t\t\tTypeDescriptor desc = ((ArrayTypeDescriptor)typeDescriptor).getElementType();\n\n\t\t\tif (typeDescriptor.getName().equals(portName)) {\n\t\t\t\tresult = desc;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}", "signature": "TypeDescriptor getTypeDescriptorForOutputPort(String portName)", "full_signature": "public TypeDescriptor getTypeDescriptorForOutputPort(String portName)", "class_method_signature": "XMLOutputSplitterActivity.getTypeDescriptorForOutputPort(String portName)", "testcase": false, "constructor": false, "invocations": ["getElements", "equals", "getName", "getElementType", "equals", "getName"]}, "repository": {"repo_id": 30956938, "url": "https://github.com/apache/incubator-taverna-common-activities", "language": "Java", "is_fork": false, "fork_count": 13, "stargazer_count": 8, "size": 5696, "license": "licensed"}}