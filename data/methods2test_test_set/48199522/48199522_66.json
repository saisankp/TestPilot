{"test_class": {"identifier": "GoogleMonitoringIngesterTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger log = LoggerFactory.getLogger(GoogleMonitoringIngesterTest.class);", "modifier": "private static final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(GoogleMonitoringIngesterTest.class)", "var_name": "log"}, {"original_string": "private MacroBaseConf conf;", "modifier": "private", "type": "MacroBaseConf", "declarator": "conf", "var_name": "conf"}], "file": "contrib/src/test/java/macrobase/ingest/GoogleMonitoringIngesterTest.java"}, "test_case": {"identifier": "testGetQueriesUsesDefaults", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetQueriesUsesDefaults() throws Exception {\n        GoogleMonitoringIngester ingester = new GoogleMonitoringIngester(conf);\n        QueryConf queryConf = ingester.getQueries(\n            \"{`queries`: [{`project`: `some-project`, `filter`: `metric.type=\\\\`custom.googleapis.com/test\\\\``}]}\".replace('`', '\"'));\n\n        assertEquals(1, queryConf.getQueries().size());\n\n        QueryConf.Query query = queryConf.getQueries().get(0);\n        assertEquals(\"some-project\", query.getProject());\n        assertEquals(\"metric.type=\\\"custom.googleapis.com/test\\\"\", query.getFilter());\n        assertEquals(\"\", query.getAlignmentPeriod());\n        assertEquals(\"ALIGN_NONE\", query.getPerSeriesAligner());\n        assertEquals(\"REDUCE_NONE\", query.getCrossSeriesReducer());\n        assertEquals(0, query.getGroupByFields().size());\n    }", "signature": "void testGetQueriesUsesDefaults()", "full_signature": "@Test public void testGetQueriesUsesDefaults()", "class_method_signature": "GoogleMonitoringIngesterTest.testGetQueriesUsesDefaults()", "testcase": true, "constructor": false, "invocations": ["getQueries", "replace", "assertEquals", "size", "getQueries", "get", "getQueries", "assertEquals", "getProject", "assertEquals", "getFilter", "assertEquals", "getAlignmentPeriod", "assertEquals", "getPerSeriesAligner", "assertEquals", "getCrossSeriesReducer", "assertEquals", "size", "getGroupByFields"]}, "focal_class": {"identifier": "GoogleMonitoringIngester", "superclass": "extends DataIngester", "interfaces": "", "fields": [{"original_string": "private static final Logger log = LoggerFactory.getLogger(GoogleMonitoringIngester.class);", "modifier": "private static final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(GoogleMonitoringIngester.class)", "var_name": "log"}, {"original_string": "public static final String GOOGLE_MONITORING_QUERIES = \"macrobase.loader.googlemonitoring.queries\";", "modifier": "public static final", "type": "String", "declarator": "GOOGLE_MONITORING_QUERIES = \"macrobase.loader.googlemonitoring.queries\"", "var_name": "GOOGLE_MONITORING_QUERIES"}, {"original_string": "public static final String GOOGLE_MONITORING_START_TIME = \"macrobase.loader.googlemonitoring.startTime\";", "modifier": "public static final", "type": "String", "declarator": "GOOGLE_MONITORING_START_TIME = \"macrobase.loader.googlemonitoring.startTime\"", "var_name": "GOOGLE_MONITORING_START_TIME"}, {"original_string": "public static final String GOOGLE_MONITORING_END_TIME = \"macrobase.loader.googlemonitoring.endTime\";", "modifier": "public static final", "type": "String", "declarator": "GOOGLE_MONITORING_END_TIME = \"macrobase.loader.googlemonitoring.endTime\"", "var_name": "GOOGLE_MONITORING_END_TIME"}, {"original_string": "private MBStream<Datum> dataStream;", "modifier": "private", "type": "MBStream<Datum>", "declarator": "dataStream", "var_name": "dataStream"}, {"original_string": "private boolean loaded = false;", "modifier": "private", "type": "boolean", "declarator": "loaded = false", "var_name": "loaded"}, {"original_string": "private int pointsAdded = 0;", "modifier": "private", "type": "int", "declarator": "pointsAdded = 0", "var_name": "pointsAdded"}, {"original_string": "private int skippedTimeSeries = 0;", "modifier": "private", "type": "int", "declarator": "skippedTimeSeries = 0", "var_name": "skippedTimeSeries"}, {"original_string": "private int skippedPoints = 0;", "modifier": "private", "type": "int", "declarator": "skippedPoints = 0", "var_name": "skippedPoints"}], "methods": [{"identifier": "GoogleMonitoringIngester", "parameters": "(MacroBaseConf conf)", "modifiers": "public", "return": "", "signature": " GoogleMonitoringIngester(MacroBaseConf conf)", "full_signature": "public  GoogleMonitoringIngester(MacroBaseConf conf)", "class_method_signature": "GoogleMonitoringIngester.GoogleMonitoringIngester(MacroBaseConf conf)", "testcase": false, "constructor": true}, {"identifier": "getStream", "parameters": "()", "modifiers": "@Override public", "return": "MBStream<Datum>", "signature": "MBStream<Datum> getStream()", "full_signature": "@Override public MBStream<Datum> getStream()", "class_method_signature": "GoogleMonitoringIngester.getStream()", "testcase": false, "constructor": false}, {"identifier": "getQueries", "parameters": "(String queryJson)", "modifiers": "", "return": "QueryConf", "signature": "QueryConf getQueries(String queryJson)", "full_signature": " QueryConf getQueries(String queryJson)", "class_method_signature": "GoogleMonitoringIngester.getQueries(String queryJson)", "testcase": false, "constructor": false}, {"identifier": "processResponse", "parameters": "(ListTimeSeriesResponse response, List<String> allMetrics,\n                         Map<String, Map<String, Record>> byTime)", "modifiers": "", "return": "void", "signature": "void processResponse(ListTimeSeriesResponse response, List<String> allMetrics,\n                         Map<String, Map<String, Record>> byTime)", "full_signature": " void processResponse(ListTimeSeriesResponse response, List<String> allMetrics,\n                         Map<String, Map<String, Record>> byTime)", "class_method_signature": "GoogleMonitoringIngester.processResponse(ListTimeSeriesResponse response, List<String> allMetrics,\n                         Map<String, Map<String, Record>> byTime)", "testcase": false, "constructor": false}, {"identifier": "processRecord", "parameters": "(Record rec)", "modifiers": "", "return": "Datum", "signature": "Datum processRecord(Record rec)", "full_signature": " Datum processRecord(Record rec)", "class_method_signature": "GoogleMonitoringIngester.processRecord(Record rec)", "testcase": false, "constructor": false}, {"identifier": "convertToStream", "parameters": "(Map<String, Map<String, Record>> byTime)", "modifiers": "", "return": "MBStream<Datum>", "signature": "MBStream<Datum> convertToStream(Map<String, Map<String, Record>> byTime)", "full_signature": " MBStream<Datum> convertToStream(Map<String, Map<String, Record>> byTime)", "class_method_signature": "GoogleMonitoringIngester.convertToStream(Map<String, Map<String, Record>> byTime)", "testcase": false, "constructor": false}, {"identifier": "buildClient", "parameters": "()", "modifiers": "private", "return": "Monitoring", "signature": "Monitoring buildClient()", "full_signature": "private Monitoring buildClient()", "class_method_signature": "GoogleMonitoringIngester.buildClient()", "testcase": false, "constructor": false}], "file": "contrib/src/main/java/macrobase/ingest/GoogleMonitoringIngester.java"}, "focal_method": {"identifier": "getQueries", "parameters": "(String queryJson)", "modifiers": "", "return": "QueryConf", "body": "QueryConf getQueries(String queryJson) throws IOException {\n        ObjectMapper mapper = Jackson.newObjectMapper();\n        return mapper.readValue(queryJson, QueryConf.class);\n    }", "signature": "QueryConf getQueries(String queryJson)", "full_signature": " QueryConf getQueries(String queryJson)", "class_method_signature": "GoogleMonitoringIngester.getQueries(String queryJson)", "testcase": false, "constructor": false, "invocations": ["newObjectMapper", "readValue"]}, "repository": {"repo_id": 48199522, "url": "https://github.com/stanford-futuredata/macrobase", "language": "Java", "is_fork": false, "fork_count": 116, "stargazer_count": 606, "size": 27614, "license": "licensed"}}