{"test_class": {"identifier": "InfoProviderFactoryTest", "superclass": "", "interfaces": "", "fields": [], "file": "services/connectivity/messaging/src/test/java/org/eclipse/ditto/services/connectivity/messaging/monitoring/logs/InfoProviderFactoryTest.java"}, "test_case": {"identifier": "forHeaders", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void forHeaders() {\n        final String correlationId = \"theCorrelation\";\n        final Map<String, String> headersWithCorrelationId = DittoHeaders.newBuilder().correlationId(correlationId).build();\n\n        final Instant before = Instant.now();\n        final ConnectionMonitor.InfoProvider info = InfoProviderFactory.forHeaders(headersWithCorrelationId);\n        final Instant after = Instant.now();\n\n        assertThat(info)\n                .hasNoThingId()\n                .hasCorrelationId(correlationId)\n                .hasTimestampBetween(before, after);\n    }", "signature": "void forHeaders()", "full_signature": "@Test public void forHeaders()", "class_method_signature": "InfoProviderFactoryTest.forHeaders()", "testcase": true, "constructor": false, "invocations": ["build", "correlationId", "newBuilder", "now", "forHeaders", "now", "hasTimestampBetween", "hasCorrelationId", "hasNoThingId", "assertThat"]}, "focal_class": {"identifier": "InfoProviderFactory", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String FALLBACK_CORRELATION_ID = \"<not-provided>\";", "modifier": "private static final", "type": "String", "declarator": "FALLBACK_CORRELATION_ID = \"<not-provided>\"", "var_name": "FALLBACK_CORRELATION_ID"}], "methods": [{"identifier": "InfoProviderFactory", "parameters": "()", "modifiers": "private", "return": "", "signature": " InfoProviderFactory()", "full_signature": "private  InfoProviderFactory()", "class_method_signature": "InfoProviderFactory.InfoProviderFactory()", "testcase": false, "constructor": true}, {"identifier": "forExternalMessage", "parameters": "(final ExternalMessage externalMessage)", "modifiers": "public static", "return": "ConnectionMonitor.InfoProvider", "signature": "ConnectionMonitor.InfoProvider forExternalMessage(final ExternalMessage externalMessage)", "full_signature": "public static ConnectionMonitor.InfoProvider forExternalMessage(final ExternalMessage externalMessage)", "class_method_signature": "InfoProviderFactory.forExternalMessage(final ExternalMessage externalMessage)", "testcase": false, "constructor": false}, {"identifier": "supplyPayloadFromExternalMessage", "parameters": "(final ExternalMessage externalMessage)", "modifiers": "private static", "return": "Supplier<String>", "signature": "Supplier<String> supplyPayloadFromExternalMessage(final ExternalMessage externalMessage)", "full_signature": "private static Supplier<String> supplyPayloadFromExternalMessage(final ExternalMessage externalMessage)", "class_method_signature": "InfoProviderFactory.supplyPayloadFromExternalMessage(final ExternalMessage externalMessage)", "testcase": false, "constructor": false}, {"identifier": "forSignal", "parameters": "(final Signal<?> signal)", "modifiers": "public static", "return": "ConnectionMonitor.InfoProvider", "signature": "ConnectionMonitor.InfoProvider forSignal(final Signal<?> signal)", "full_signature": "public static ConnectionMonitor.InfoProvider forSignal(final Signal<?> signal)", "class_method_signature": "InfoProviderFactory.forSignal(final Signal<?> signal)", "testcase": false, "constructor": false}, {"identifier": "supplyPayloadFromSignal", "parameters": "(final Signal<?> signal)", "modifiers": "private static", "return": "Supplier<String>", "signature": "Supplier<String> supplyPayloadFromSignal(final Signal<?> signal)", "full_signature": "private static Supplier<String> supplyPayloadFromSignal(final Signal<?> signal)", "class_method_signature": "InfoProviderFactory.supplyPayloadFromSignal(final Signal<?> signal)", "testcase": false, "constructor": false}, {"identifier": "forHeaders", "parameters": "(final Map<String, String> headers)", "modifiers": "public static", "return": "ConnectionMonitor.InfoProvider", "signature": "ConnectionMonitor.InfoProvider forHeaders(final Map<String, String> headers)", "full_signature": "public static ConnectionMonitor.InfoProvider forHeaders(final Map<String, String> headers)", "class_method_signature": "InfoProviderFactory.forHeaders(final Map<String, String> headers)", "testcase": false, "constructor": false}, {"identifier": "extractCorrelationId", "parameters": "(final Map<String, String> headers)", "modifiers": "private static", "return": "String", "signature": "String extractCorrelationId(final Map<String, String> headers)", "full_signature": "private static String extractCorrelationId(final Map<String, String> headers)", "class_method_signature": "InfoProviderFactory.extractCorrelationId(final Map<String, String> headers)", "testcase": false, "constructor": false}, {"identifier": "extractThingId", "parameters": "(final Signal<?> signal)", "modifiers": "@Nullable private static", "return": "ThingId", "signature": "ThingId extractThingId(final Signal<?> signal)", "full_signature": "@Nullable private static ThingId extractThingId(final Signal<?> signal)", "class_method_signature": "InfoProviderFactory.extractThingId(final Signal<?> signal)", "testcase": false, "constructor": false}, {"identifier": "empty", "parameters": "()", "modifiers": "public static", "return": "ConnectionMonitor.InfoProvider", "signature": "ConnectionMonitor.InfoProvider empty()", "full_signature": "public static ConnectionMonitor.InfoProvider empty()", "class_method_signature": "InfoProviderFactory.empty()", "testcase": false, "constructor": false}, {"identifier": "supplyEmptyPayload", "parameters": "()", "modifiers": "private static", "return": "Supplier<String>", "signature": "Supplier<String> supplyEmptyPayload()", "full_signature": "private static Supplier<String> supplyEmptyPayload()", "class_method_signature": "InfoProviderFactory.supplyEmptyPayload()", "testcase": false, "constructor": false}], "file": "services/connectivity/messaging/src/main/java/org/eclipse/ditto/services/connectivity/messaging/monitoring/logs/InfoProviderFactory.java"}, "focal_method": {"identifier": "forHeaders", "parameters": "(final Map<String, String> headers)", "modifiers": "public static", "return": "ConnectionMonitor.InfoProvider", "body": "public static ConnectionMonitor.InfoProvider forHeaders(final Map<String, String> headers) {\n        final String correlationId = extractCorrelationId(headers);\n        final Instant timestamp = Instant.now();\n\n        return new ImmutableInfoProvider(correlationId, timestamp, null, headers, supplyEmptyPayload(), false);\n    }", "signature": "ConnectionMonitor.InfoProvider forHeaders(final Map<String, String> headers)", "full_signature": "public static ConnectionMonitor.InfoProvider forHeaders(final Map<String, String> headers)", "class_method_signature": "InfoProviderFactory.forHeaders(final Map<String, String> headers)", "testcase": false, "constructor": false, "invocations": ["extractCorrelationId", "now", "supplyEmptyPayload"]}, "repository": {"repo_id": 87849739, "url": "https://github.com/eclipse/ditto", "stars": 139, "created": "4/10/2017 7:29:57 PM +00:00", "updates": "2020-01-27T14:02:39+00:00", "fork": "False", "license": "licensed"}}