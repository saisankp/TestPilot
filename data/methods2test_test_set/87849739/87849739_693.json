{"test_class": {"identifier": "SearchSourceBuilderTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private ActorSystem system;", "modifier": "private", "type": "ActorSystem", "declarator": "system", "var_name": "system"}], "file": "services/utils/search/src/test/java/org/eclipse/ditto/services/utils/search/SearchSourceBuilderTest.java"}, "test_case": {"identifier": "failOnInvalidSortFields", "parameters": "()", "modifiers": "@Test(expected = InvalidOptionException.class) public", "return": "void", "body": "@Test(expected = InvalidOptionException.class)\n    public void failOnInvalidSortFields() {\n        SearchSource.newBuilder().options(\"sort(+invalid-sort-key)\");\n    }", "signature": "void failOnInvalidSortFields()", "full_signature": "@Test(expected = InvalidOptionException.class) public void failOnInvalidSortFields()", "class_method_signature": "SearchSourceBuilderTest.failOnInvalidSortFields()", "testcase": true, "constructor": false, "invocations": ["options", "newBuilder"]}, "focal_class": {"identifier": "SearchSourceBuilder", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String COMMA = \",\";", "modifier": "private static final", "type": "String", "declarator": "COMMA = \",\"", "var_name": "COMMA"}, {"original_string": "private static final SortOption DEFAULT_SORT_OPTION =\n            SortOption.of(List.of(SortOptionEntry.asc(Thing.JsonFields.ID.getPointer())));", "modifier": "private static final", "type": "SortOption", "declarator": "DEFAULT_SORT_OPTION =\n            SortOption.of(List.of(SortOptionEntry.asc(Thing.JsonFields.ID.getPointer())))", "var_name": "DEFAULT_SORT_OPTION"}, {"original_string": "private ActorRef pubSubMediator;", "modifier": "private", "type": "ActorRef", "declarator": "pubSubMediator", "var_name": "pubSubMediator"}, {"original_string": "private ActorRef conciergeForwarder;", "modifier": "private", "type": "ActorRef", "declarator": "conciergeForwarder", "var_name": "conciergeForwarder"}, {"original_string": "private JsonFieldSelector fields;", "modifier": "private", "type": "JsonFieldSelector", "declarator": "fields", "var_name": "fields"}, {"original_string": "private JsonFieldSelector sortFields;", "modifier": "private", "type": "JsonFieldSelector", "declarator": "sortFields", "var_name": "sortFields"}, {"original_string": "private String filter;", "modifier": "private", "type": "String", "declarator": "filter", "var_name": "filter"}, {"original_string": "private JsonArray namespaces;", "modifier": "private", "type": "JsonArray", "declarator": "namespaces", "var_name": "namespaces"}, {"original_string": "private String sort;", "modifier": "private", "type": "String", "declarator": "sort", "var_name": "sort"}, {"original_string": "private JsonArray sortValues;", "modifier": "private", "type": "JsonArray", "declarator": "sortValues", "var_name": "sortValues"}, {"original_string": "private DittoHeaders dittoHeaders;", "modifier": "private", "type": "DittoHeaders", "declarator": "dittoHeaders", "var_name": "dittoHeaders"}, {"original_string": "private Duration thingsAskTimeout = Duration.ofSeconds(10L);", "modifier": "private", "type": "Duration", "declarator": "thingsAskTimeout = Duration.ofSeconds(10L)", "var_name": "thingsAskTimeout"}, {"original_string": "private Duration searchAskTimeout = Duration.ofSeconds(60L);", "modifier": "private", "type": "Duration", "declarator": "searchAskTimeout = Duration.ofSeconds(60L)", "var_name": "searchAskTimeout"}, {"original_string": "private String lastThingId = \"\";", "modifier": "private", "type": "String", "declarator": "lastThingId = \"\"", "var_name": "lastThingId"}], "methods": [{"identifier": "build", "parameters": "()", "modifiers": "public", "return": "SearchSource", "signature": "SearchSource build()", "full_signature": "public SearchSource build()", "class_method_signature": "SearchSourceBuilder.build()", "testcase": false, "constructor": false}, {"identifier": "pubSubMediator", "parameters": "(final ActorRef pubSubMediator)", "modifiers": "public", "return": "SearchSourceBuilder", "signature": "SearchSourceBuilder pubSubMediator(final ActorRef pubSubMediator)", "full_signature": "public SearchSourceBuilder pubSubMediator(final ActorRef pubSubMediator)", "class_method_signature": "SearchSourceBuilder.pubSubMediator(final ActorRef pubSubMediator)", "testcase": false, "constructor": false}, {"identifier": "conciergeForwarder", "parameters": "(final ActorRef conciergeForwarder)", "modifiers": "public", "return": "SearchSourceBuilder", "signature": "SearchSourceBuilder conciergeForwarder(final ActorRef conciergeForwarder)", "full_signature": "public SearchSourceBuilder conciergeForwarder(final ActorRef conciergeForwarder)", "class_method_signature": "SearchSourceBuilder.conciergeForwarder(final ActorRef conciergeForwarder)", "testcase": false, "constructor": false}, {"identifier": "fields", "parameters": "(@Nullable final JsonFieldSelector fields)", "modifiers": "public", "return": "SearchSourceBuilder", "signature": "SearchSourceBuilder fields(@Nullable final JsonFieldSelector fields)", "full_signature": "public SearchSourceBuilder fields(@Nullable final JsonFieldSelector fields)", "class_method_signature": "SearchSourceBuilder.fields(@Nullable final JsonFieldSelector fields)", "testcase": false, "constructor": false}, {"identifier": "fields", "parameters": "(@Nullable final String fieldsString)", "modifiers": "public", "return": "SearchSourceBuilder", "signature": "SearchSourceBuilder fields(@Nullable final String fieldsString)", "full_signature": "public SearchSourceBuilder fields(@Nullable final String fieldsString)", "class_method_signature": "SearchSourceBuilder.fields(@Nullable final String fieldsString)", "testcase": false, "constructor": false}, {"identifier": "filter", "parameters": "(@Nullable final String filter)", "modifiers": "public", "return": "SearchSourceBuilder", "signature": "SearchSourceBuilder filter(@Nullable final String filter)", "full_signature": "public SearchSourceBuilder filter(@Nullable final String filter)", "class_method_signature": "SearchSourceBuilder.filter(@Nullable final String filter)", "testcase": false, "constructor": false}, {"identifier": "namespaces", "parameters": "(@Nullable final JsonArray namespaces)", "modifiers": "public", "return": "SearchSourceBuilder", "signature": "SearchSourceBuilder namespaces(@Nullable final JsonArray namespaces)", "full_signature": "public SearchSourceBuilder namespaces(@Nullable final JsonArray namespaces)", "class_method_signature": "SearchSourceBuilder.namespaces(@Nullable final JsonArray namespaces)", "testcase": false, "constructor": false}, {"identifier": "namespaces", "parameters": "(@Nullable final String namespacesString)", "modifiers": "public", "return": "SearchSourceBuilder", "signature": "SearchSourceBuilder namespaces(@Nullable final String namespacesString)", "full_signature": "public SearchSourceBuilder namespaces(@Nullable final String namespacesString)", "class_method_signature": "SearchSourceBuilder.namespaces(@Nullable final String namespacesString)", "testcase": false, "constructor": false}, {"identifier": "sort", "parameters": "(@Nullable final String sort)", "modifiers": "public", "return": "SearchSourceBuilder", "signature": "SearchSourceBuilder sort(@Nullable final String sort)", "full_signature": "public SearchSourceBuilder sort(@Nullable final String sort)", "class_method_signature": "SearchSourceBuilder.sort(@Nullable final String sort)", "testcase": false, "constructor": false}, {"identifier": "options", "parameters": "(@Nullable final String options)", "modifiers": "public", "return": "SearchSourceBuilder", "signature": "SearchSourceBuilder options(@Nullable final String options)", "full_signature": "public SearchSourceBuilder options(@Nullable final String options)", "class_method_signature": "SearchSourceBuilder.options(@Nullable final String options)", "testcase": false, "constructor": false}, {"identifier": "validateAndSetSortOption", "parameters": "(final SortOption sortOption)", "modifiers": "private", "return": "SearchSourceBuilder", "signature": "SearchSourceBuilder validateAndSetSortOption(final SortOption sortOption)", "full_signature": "private SearchSourceBuilder validateAndSetSortOption(final SortOption sortOption)", "class_method_signature": "SearchSourceBuilder.validateAndSetSortOption(final SortOption sortOption)", "testcase": false, "constructor": false}, {"identifier": "sortValues", "parameters": "(@Nullable final JsonArray sortValues)", "modifiers": "public", "return": "SearchSourceBuilder", "signature": "SearchSourceBuilder sortValues(@Nullable final JsonArray sortValues)", "full_signature": "public SearchSourceBuilder sortValues(@Nullable final JsonArray sortValues)", "class_method_signature": "SearchSourceBuilder.sortValues(@Nullable final JsonArray sortValues)", "testcase": false, "constructor": false}, {"identifier": "dittoHeaders", "parameters": "(final DittoHeaders dittoHeaders)", "modifiers": "public", "return": "SearchSourceBuilder", "signature": "SearchSourceBuilder dittoHeaders(final DittoHeaders dittoHeaders)", "full_signature": "public SearchSourceBuilder dittoHeaders(final DittoHeaders dittoHeaders)", "class_method_signature": "SearchSourceBuilder.dittoHeaders(final DittoHeaders dittoHeaders)", "testcase": false, "constructor": false}, {"identifier": "thingsAskTimeout", "parameters": "(final Duration thingsAskTimeout)", "modifiers": "public", "return": "SearchSourceBuilder", "signature": "SearchSourceBuilder thingsAskTimeout(final Duration thingsAskTimeout)", "full_signature": "public SearchSourceBuilder thingsAskTimeout(final Duration thingsAskTimeout)", "class_method_signature": "SearchSourceBuilder.thingsAskTimeout(final Duration thingsAskTimeout)", "testcase": false, "constructor": false}, {"identifier": "searchAskTimeout", "parameters": "(final Duration searchAskTimeout)", "modifiers": "public", "return": "SearchSourceBuilder", "signature": "SearchSourceBuilder searchAskTimeout(final Duration searchAskTimeout)", "full_signature": "public SearchSourceBuilder searchAskTimeout(final Duration searchAskTimeout)", "class_method_signature": "SearchSourceBuilder.searchAskTimeout(final Duration searchAskTimeout)", "testcase": false, "constructor": false}, {"identifier": "lastThingId", "parameters": "(final String lastThingId)", "modifiers": "public", "return": "SearchSourceBuilder", "signature": "SearchSourceBuilder lastThingId(final String lastThingId)", "full_signature": "public SearchSourceBuilder lastThingId(final String lastThingId)", "class_method_signature": "SearchSourceBuilder.lastThingId(final String lastThingId)", "testcase": false, "constructor": false}, {"identifier": "sortOptionAsString", "parameters": "(final SortOption sortOption)", "modifiers": "private", "return": "String", "signature": "String sortOptionAsString(final SortOption sortOption)", "full_signature": "private String sortOptionAsString(final SortOption sortOption)", "class_method_signature": "SearchSourceBuilder.sortOptionAsString(final SortOption sortOption)", "testcase": false, "constructor": false}, {"identifier": "getSortFields", "parameters": "(final SortOption sortOption)", "modifiers": "private", "return": "JsonFieldSelector", "signature": "JsonFieldSelector getSortFields(final SortOption sortOption)", "full_signature": "private JsonFieldSelector getSortFields(final SortOption sortOption)", "class_method_signature": "SearchSourceBuilder.getSortFields(final SortOption sortOption)", "testcase": false, "constructor": false}, {"identifier": "getEffectiveSortOption", "parameters": "(@Nullable final String optionString)", "modifiers": "private", "return": "SortOption", "signature": "SortOption getEffectiveSortOption(@Nullable final String optionString)", "full_signature": "private SortOption getEffectiveSortOption(@Nullable final String optionString)", "class_method_signature": "SearchSourceBuilder.getEffectiveSortOption(@Nullable final String optionString)", "testcase": false, "constructor": false}, {"identifier": "appendIdField", "parameters": "(final SortOption parsedSortOption)", "modifiers": "private", "return": "SortOption", "signature": "SortOption appendIdField(final SortOption parsedSortOption)", "full_signature": "private SortOption appendIdField(final SortOption parsedSortOption)", "class_method_signature": "SearchSourceBuilder.appendIdField(final SortOption parsedSortOption)", "testcase": false, "constructor": false}, {"identifier": "findUniqueSortOption", "parameters": "(final String optionString)", "modifiers": "private", "return": "SortOption", "signature": "SortOption findUniqueSortOption(final String optionString)", "full_signature": "private SortOption findUniqueSortOption(final String optionString)", "class_method_signature": "SearchSourceBuilder.findUniqueSortOption(final String optionString)", "testcase": false, "constructor": false}, {"identifier": "constructStreamThings", "parameters": "()", "modifiers": "private", "return": "StreamThings", "signature": "StreamThings constructStreamThings()", "full_signature": "private StreamThings constructStreamThings()", "class_method_signature": "SearchSourceBuilder.constructStreamThings()", "testcase": false, "constructor": false}, {"identifier": "validateFilter", "parameters": "(@Nullable final String filter)", "modifiers": "@Nullable private", "return": "String", "signature": "String validateFilter(@Nullable final String filter)", "full_signature": "@Nullable private String validateFilter(@Nullable final String filter)", "class_method_signature": "SearchSourceBuilder.validateFilter(@Nullable final String filter)", "testcase": false, "constructor": false}, {"identifier": "validateSortOption", "parameters": "(final SortOption sort)", "modifiers": "private", "return": "SortOption", "signature": "SortOption validateSortOption(final SortOption sort)", "full_signature": "private SortOption validateSortOption(final SortOption sort)", "class_method_signature": "SearchSourceBuilder.validateSortOption(final SortOption sort)", "testcase": false, "constructor": false}, {"identifier": "checkForUnsupportedOptions", "parameters": "(final List<Option> options)", "modifiers": "private static", "return": "void", "signature": "void checkForUnsupportedOptions(final List<Option> options)", "full_signature": "private static void checkForUnsupportedOptions(final List<Option> options)", "class_method_signature": "SearchSourceBuilder.checkForUnsupportedOptions(final List<Option> options)", "testcase": false, "constructor": false}], "file": "services/utils/search/src/main/java/org/eclipse/ditto/services/utils/search/SearchSourceBuilder.java"}, "focal_method": {"identifier": "options", "parameters": "(@Nullable final String options)", "modifiers": "public", "return": "SearchSourceBuilder", "body": "public SearchSourceBuilder options(@Nullable final String options) {\n        return validateAndSetSortOption(getEffectiveSortOption(options));\n    }", "signature": "SearchSourceBuilder options(@Nullable final String options)", "full_signature": "public SearchSourceBuilder options(@Nullable final String options)", "class_method_signature": "SearchSourceBuilder.options(@Nullable final String options)", "testcase": false, "constructor": false, "invocations": ["validateAndSetSortOption", "getEffectiveSortOption"]}, "repository": {"repo_id": 87849739, "url": "https://github.com/eclipse/ditto", "stars": 139, "created": "4/10/2017 7:29:57 PM +00:00", "updates": "2020-01-27T14:02:39+00:00", "fork": "False", "license": "licensed"}}