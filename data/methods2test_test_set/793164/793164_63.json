{"test_class": {"identifier": "SourcePatientIdentifierPIDTransformerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private SourcePatientIdentifierPIDTransformer transformer;", "modifier": "private", "type": "SourcePatientIdentifierPIDTransformer", "declarator": "transformer", "var_name": "transformer"}], "file": "commons/ihe/xds/src/test/java/org/openehealth/ipf/commons/ihe/xds/core/transform/hl7/pid/SourcePatientIdentifierPIDTransformerTest.java"}, "test_case": {"identifier": "testToHL7", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testToHL7() {\n        PatientInfo patientInfo = new PatientInfo();\n        Identifiable id1 = new Identifiable();\n        id1.setId(\"id1\");\n        AssigningAuthority assigningAuthority1 = new AssigningAuthority();\n        assigningAuthority1.setUniversalId(\"1.1.1.1\");\n        assigningAuthority1.setUniversalIdType(\"ISO\");\n        id1.setAssigningAuthority(assigningAuthority1);\n        \n        Identifiable id2 = new Identifiable();\n        id2.setId(\"id2\");\n        AssigningAuthority assigningAuthority2 = new AssigningAuthority();\n        assigningAuthority2.setUniversalId(\"2.2.2.2\");\n        assigningAuthority2.setUniversalIdType(\"ISO\");\n        id2.setAssigningAuthority(assigningAuthority2);\n        \n        patientInfo.getIds().add(id1);\n        patientInfo.getIds().add(id2);\n\n        List<String> result = transformer.toHL7(patientInfo);\n        assertEquals(2, result.size());\n        assertEquals(\"id1^^^&1.1.1.1&ISO\", result.get(0));\n        assertEquals(\"id2^^^&2.2.2.2&ISO\", result.get(1));\n    }", "signature": "void testToHL7()", "full_signature": "@Test public void testToHL7()", "class_method_signature": "SourcePatientIdentifierPIDTransformerTest.testToHL7()", "testcase": true, "constructor": false, "invocations": ["setId", "setUniversalId", "setUniversalIdType", "setAssigningAuthority", "setId", "setUniversalId", "setUniversalIdType", "setAssigningAuthority", "add", "getIds", "add", "getIds", "toHL7", "assertEquals", "size", "assertEquals", "get", "assertEquals", "get"]}, "focal_class": {"identifier": "SourcePatientIdentifierPIDTransformer", "superclass": "", "interfaces": "implements PIDTransformer", "fields": [], "methods": [{"identifier": "fromHL7", "parameters": "(String hl7Data, PatientInfo patientInfo)", "modifiers": "@Override public", "return": "void", "signature": "void fromHL7(String hl7Data, PatientInfo patientInfo)", "full_signature": "@Override public void fromHL7(String hl7Data, PatientInfo patientInfo)", "class_method_signature": "SourcePatientIdentifierPIDTransformer.fromHL7(String hl7Data, PatientInfo patientInfo)", "testcase": false, "constructor": false}, {"identifier": "toHL7", "parameters": "(PatientInfo patientInfo)", "modifiers": "@Override public", "return": "List<String>", "signature": "List<String> toHL7(PatientInfo patientInfo)", "full_signature": "@Override public List<String> toHL7(PatientInfo patientInfo)", "class_method_signature": "SourcePatientIdentifierPIDTransformer.toHL7(PatientInfo patientInfo)", "testcase": false, "constructor": false}], "file": "commons/ihe/xds/src/main/java/org/openehealth/ipf/commons/ihe/xds/core/transform/hl7/pid/SourcePatientIdentifierPIDTransformer.java"}, "focal_method": {"identifier": "toHL7", "parameters": "(PatientInfo patientInfo)", "modifiers": "@Override public", "return": "List<String>", "body": "@Override\n    public List<String> toHL7(PatientInfo patientInfo) {\n        notNull(patientInfo, \"patientInfo cannot be null\");\n\n        List<String> result = new ArrayList<String>();\n        for (Identifiable id : patientInfo.getIds()) {\n            String part = Hl7v2Based.render(id);\n            if (part != null) {\n                result.add(part);\n            }\n        }\n\n        return result.isEmpty() ? null : result;\n    }", "signature": "List<String> toHL7(PatientInfo patientInfo)", "full_signature": "@Override public List<String> toHL7(PatientInfo patientInfo)", "class_method_signature": "SourcePatientIdentifierPIDTransformer.toHL7(PatientInfo patientInfo)", "testcase": false, "constructor": false, "invocations": ["notNull", "getIds", "render", "add", "isEmpty"]}, "repository": {"repo_id": 793164, "url": "https://github.com/krasserm/ipf", "language": "Java", "is_fork": false, "fork_count": 23, "stargazer_count": 29, "size": 30233, "license": "licensed"}}