{"test_class": {"identifier": "PersistenceExtensionsTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final PersistenceServiceRegistry registry = new PersistenceServiceRegistry() {\n\n        private final PersistenceService testPersistenceService = new TestPersistenceService();\n\n        @Override\n        public String getDefaultId() {\n            // not available\n            return null;\n        }\n\n        @Override\n        public PersistenceService getDefault() {\n            // not available\n            return null;\n        }\n\n        @Override\n        public Set<PersistenceService> getAll() {\n            return Set.of(testPersistenceService);\n        }\n\n        @Override\n        public PersistenceService get(String serviceId) {\n            return testPersistenceService;\n        }\n    };", "modifier": "private final", "type": "PersistenceServiceRegistry", "declarator": "registry = new PersistenceServiceRegistry() {\n\n        private final PersistenceService testPersistenceService = new TestPersistenceService();\n\n        @Override\n        public String getDefaultId() {\n            // not available\n            return null;\n        }\n\n        @Override\n        public PersistenceService getDefault() {\n            // not available\n            return null;\n        }\n\n        @Override\n        public Set<PersistenceService> getAll() {\n            return Set.of(testPersistenceService);\n        }\n\n        @Override\n        public PersistenceService get(String serviceId) {\n            return testPersistenceService;\n        }\n    }", "var_name": "registry"}, {"original_string": "private CoreItemFactory itemFactory;", "modifier": "private", "type": "CoreItemFactory", "declarator": "itemFactory", "var_name": "itemFactory"}, {"original_string": "private GenericItem item;", "modifier": "private", "type": "GenericItem", "declarator": "item", "var_name": "item"}], "file": "bundles/org.openhab.core.persistence/src/test/java/org/openhab/core/persistence/extensions/PersistenceExtensionsTest.java"}, "test_case": {"identifier": "testLastUpdate", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testLastUpdate() {\n        item.setState(new DecimalType(2005));\n        ZonedDateTime lastUpdate = PersistenceExtensions.lastUpdate(item, TestPersistenceService.ID);\n        assertNotNull(lastUpdate);\n        assertEquals(ZonedDateTime.of(2012, 1, 1, 0, 0, 0, 0, ZoneId.systemDefault()), lastUpdate);\n\n        // default persistence service\n        lastUpdate = PersistenceExtensions.lastUpdate(item);\n        assertNull(lastUpdate);\n    }", "signature": "void testLastUpdate()", "full_signature": "@Test public void testLastUpdate()", "class_method_signature": "PersistenceExtensionsTest.testLastUpdate()", "testcase": true, "constructor": false, "invocations": ["setState", "lastUpdate", "assertNotNull", "assertEquals", "of", "systemDefault", "lastUpdate", "assertNull"]}, "focal_class": {"identifier": "PersistenceExtensions", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final BigDecimal BIG_DECIMAL_TWO = BigDecimal.valueOf(2);", "modifier": "private static final", "type": "BigDecimal", "declarator": "BIG_DECIMAL_TWO = BigDecimal.valueOf(2)", "var_name": "BIG_DECIMAL_TWO"}, {"original_string": "private static PersistenceServiceRegistry registry;", "modifier": "private static", "type": "PersistenceServiceRegistry", "declarator": "registry", "var_name": "registry"}], "methods": [{"identifier": "PersistenceExtensions", "parameters": "(@Reference PersistenceServiceRegistry registry)", "modifiers": "@Activate public", "return": "", "signature": " PersistenceExtensions(@Reference PersistenceServiceRegistry registry)", "full_signature": "@Activate public  PersistenceExtensions(@Reference PersistenceServiceRegistry registry)", "class_method_signature": "PersistenceExtensions.PersistenceExtensions(@Reference PersistenceServiceRegistry registry)", "testcase": false, "constructor": true}, {"identifier": "getService", "parameters": "(String serviceId)", "modifiers": "private static", "return": "PersistenceService", "signature": "PersistenceService getService(String serviceId)", "full_signature": "private static PersistenceService getService(String serviceId)", "class_method_signature": "PersistenceExtensions.getService(String serviceId)", "testcase": false, "constructor": false}, {"identifier": "getDefaultServiceId", "parameters": "()", "modifiers": "private static", "return": "String", "signature": "String getDefaultServiceId()", "full_signature": "private static String getDefaultServiceId()", "class_method_signature": "PersistenceExtensions.getDefaultServiceId()", "testcase": false, "constructor": false}, {"identifier": "persist", "parameters": "(Item item, String serviceId)", "modifiers": "public static", "return": "void", "signature": "void persist(Item item, String serviceId)", "full_signature": "public static void persist(Item item, String serviceId)", "class_method_signature": "PersistenceExtensions.persist(Item item, String serviceId)", "testcase": false, "constructor": false}, {"identifier": "persist", "parameters": "(Item item)", "modifiers": "public static", "return": "void", "signature": "void persist(Item item)", "full_signature": "public static void persist(Item item)", "class_method_signature": "PersistenceExtensions.persist(Item item)", "testcase": false, "constructor": false}, {"identifier": "historicState", "parameters": "(Item item, ZonedDateTime timestamp)", "modifiers": "public static", "return": "HistoricItem", "signature": "HistoricItem historicState(Item item, ZonedDateTime timestamp)", "full_signature": "public static HistoricItem historicState(Item item, ZonedDateTime timestamp)", "class_method_signature": "PersistenceExtensions.historicState(Item item, ZonedDateTime timestamp)", "testcase": false, "constructor": false}, {"identifier": "historicState", "parameters": "(Item item, ZonedDateTime timestamp, String serviceId)", "modifiers": "public static", "return": "HistoricItem", "signature": "HistoricItem historicState(Item item, ZonedDateTime timestamp, String serviceId)", "full_signature": "public static HistoricItem historicState(Item item, ZonedDateTime timestamp, String serviceId)", "class_method_signature": "PersistenceExtensions.historicState(Item item, ZonedDateTime timestamp, String serviceId)", "testcase": false, "constructor": false}, {"identifier": "changedSince", "parameters": "(Item item, ZonedDateTime timestamp)", "modifiers": "public static", "return": "Boolean", "signature": "Boolean changedSince(Item item, ZonedDateTime timestamp)", "full_signature": "public static Boolean changedSince(Item item, ZonedDateTime timestamp)", "class_method_signature": "PersistenceExtensions.changedSince(Item item, ZonedDateTime timestamp)", "testcase": false, "constructor": false}, {"identifier": "changedSince", "parameters": "(Item item, ZonedDateTime timestamp, String serviceId)", "modifiers": "public static", "return": "Boolean", "signature": "Boolean changedSince(Item item, ZonedDateTime timestamp, String serviceId)", "full_signature": "public static Boolean changedSince(Item item, ZonedDateTime timestamp, String serviceId)", "class_method_signature": "PersistenceExtensions.changedSince(Item item, ZonedDateTime timestamp, String serviceId)", "testcase": false, "constructor": false}, {"identifier": "updatedSince", "parameters": "(Item item, ZonedDateTime timestamp)", "modifiers": "public static", "return": "Boolean", "signature": "Boolean updatedSince(Item item, ZonedDateTime timestamp)", "full_signature": "public static Boolean updatedSince(Item item, ZonedDateTime timestamp)", "class_method_signature": "PersistenceExtensions.updatedSince(Item item, ZonedDateTime timestamp)", "testcase": false, "constructor": false}, {"identifier": "updatedSince", "parameters": "(Item item, ZonedDateTime timestamp, String serviceId)", "modifiers": "public static", "return": "Boolean", "signature": "Boolean updatedSince(Item item, ZonedDateTime timestamp, String serviceId)", "full_signature": "public static Boolean updatedSince(Item item, ZonedDateTime timestamp, String serviceId)", "class_method_signature": "PersistenceExtensions.updatedSince(Item item, ZonedDateTime timestamp, String serviceId)", "testcase": false, "constructor": false}, {"identifier": "maximumSince", "parameters": "(Item item, ZonedDateTime timestamp)", "modifiers": "public static", "return": "HistoricItem", "signature": "HistoricItem maximumSince(Item item, ZonedDateTime timestamp)", "full_signature": "public static HistoricItem maximumSince(Item item, ZonedDateTime timestamp)", "class_method_signature": "PersistenceExtensions.maximumSince(Item item, ZonedDateTime timestamp)", "testcase": false, "constructor": false}, {"identifier": "maximumSince", "parameters": "(final Item item, ZonedDateTime timestamp, String serviceId)", "modifiers": "public static", "return": "HistoricItem", "signature": "HistoricItem maximumSince(final Item item, ZonedDateTime timestamp, String serviceId)", "full_signature": "public static HistoricItem maximumSince(final Item item, ZonedDateTime timestamp, String serviceId)", "class_method_signature": "PersistenceExtensions.maximumSince(final Item item, ZonedDateTime timestamp, String serviceId)", "testcase": false, "constructor": false}, {"identifier": "minimumSince", "parameters": "(Item item, ZonedDateTime timestamp)", "modifiers": "public static", "return": "HistoricItem", "signature": "HistoricItem minimumSince(Item item, ZonedDateTime timestamp)", "full_signature": "public static HistoricItem minimumSince(Item item, ZonedDateTime timestamp)", "class_method_signature": "PersistenceExtensions.minimumSince(Item item, ZonedDateTime timestamp)", "testcase": false, "constructor": false}, {"identifier": "minimumSince", "parameters": "(final Item item, ZonedDateTime timestamp, String serviceId)", "modifiers": "public static", "return": "HistoricItem", "signature": "HistoricItem minimumSince(final Item item, ZonedDateTime timestamp, String serviceId)", "full_signature": "public static HistoricItem minimumSince(final Item item, ZonedDateTime timestamp, String serviceId)", "class_method_signature": "PersistenceExtensions.minimumSince(final Item item, ZonedDateTime timestamp, String serviceId)", "testcase": false, "constructor": false}, {"identifier": "varianceSince", "parameters": "(Item item, ZonedDateTime timestamp)", "modifiers": "public static", "return": "DecimalType", "signature": "DecimalType varianceSince(Item item, ZonedDateTime timestamp)", "full_signature": "public static DecimalType varianceSince(Item item, ZonedDateTime timestamp)", "class_method_signature": "PersistenceExtensions.varianceSince(Item item, ZonedDateTime timestamp)", "testcase": false, "constructor": false}, {"identifier": "varianceSince", "parameters": "(Item item, ZonedDateTime timestamp, String serviceId)", "modifiers": "public static", "return": "DecimalType", "signature": "DecimalType varianceSince(Item item, ZonedDateTime timestamp, String serviceId)", "full_signature": "public static DecimalType varianceSince(Item item, ZonedDateTime timestamp, String serviceId)", "class_method_signature": "PersistenceExtensions.varianceSince(Item item, ZonedDateTime timestamp, String serviceId)", "testcase": false, "constructor": false}, {"identifier": "deviationSince", "parameters": "(Item item, ZonedDateTime timestamp)", "modifiers": "public static", "return": "DecimalType", "signature": "DecimalType deviationSince(Item item, ZonedDateTime timestamp)", "full_signature": "public static DecimalType deviationSince(Item item, ZonedDateTime timestamp)", "class_method_signature": "PersistenceExtensions.deviationSince(Item item, ZonedDateTime timestamp)", "testcase": false, "constructor": false}, {"identifier": "deviationSince", "parameters": "(Item item, ZonedDateTime timestamp, String serviceId)", "modifiers": "public static", "return": "DecimalType", "signature": "DecimalType deviationSince(Item item, ZonedDateTime timestamp, String serviceId)", "full_signature": "public static DecimalType deviationSince(Item item, ZonedDateTime timestamp, String serviceId)", "class_method_signature": "PersistenceExtensions.deviationSince(Item item, ZonedDateTime timestamp, String serviceId)", "testcase": false, "constructor": false}, {"identifier": "averageSince", "parameters": "(Item item, ZonedDateTime timestamp)", "modifiers": "public static", "return": "DecimalType", "signature": "DecimalType averageSince(Item item, ZonedDateTime timestamp)", "full_signature": "public static DecimalType averageSince(Item item, ZonedDateTime timestamp)", "class_method_signature": "PersistenceExtensions.averageSince(Item item, ZonedDateTime timestamp)", "testcase": false, "constructor": false}, {"identifier": "averageSince", "parameters": "(Item item, ZonedDateTime timestamp, String serviceId)", "modifiers": "public static", "return": "DecimalType", "signature": "DecimalType averageSince(Item item, ZonedDateTime timestamp, String serviceId)", "full_signature": "public static DecimalType averageSince(Item item, ZonedDateTime timestamp, String serviceId)", "class_method_signature": "PersistenceExtensions.averageSince(Item item, ZonedDateTime timestamp, String serviceId)", "testcase": false, "constructor": false}, {"identifier": "internalAverageSince", "parameters": "(Item item, Iterator<HistoricItem> it)", "modifiers": "private static", "return": "DecimalType", "signature": "DecimalType internalAverageSince(Item item, Iterator<HistoricItem> it)", "full_signature": "private static DecimalType internalAverageSince(Item item, Iterator<HistoricItem> it)", "class_method_signature": "PersistenceExtensions.internalAverageSince(Item item, Iterator<HistoricItem> it)", "testcase": false, "constructor": false}, {"identifier": "sumSince", "parameters": "(Item item, ZonedDateTime timestamp)", "modifiers": "public static", "return": "DecimalType", "signature": "DecimalType sumSince(Item item, ZonedDateTime timestamp)", "full_signature": "public static DecimalType sumSince(Item item, ZonedDateTime timestamp)", "class_method_signature": "PersistenceExtensions.sumSince(Item item, ZonedDateTime timestamp)", "testcase": false, "constructor": false}, {"identifier": "sumSince", "parameters": "(Item item, ZonedDateTime timestamp, String serviceId)", "modifiers": "public static", "return": "DecimalType", "signature": "DecimalType sumSince(Item item, ZonedDateTime timestamp, String serviceId)", "full_signature": "public static DecimalType sumSince(Item item, ZonedDateTime timestamp, String serviceId)", "class_method_signature": "PersistenceExtensions.sumSince(Item item, ZonedDateTime timestamp, String serviceId)", "testcase": false, "constructor": false}, {"identifier": "getAllStatesSince", "parameters": "(Item item, ZonedDateTime timestamp, String serviceId)", "modifiers": "private static", "return": "Iterable<HistoricItem>", "signature": "Iterable<HistoricItem> getAllStatesSince(Item item, ZonedDateTime timestamp, String serviceId)", "full_signature": "private static Iterable<HistoricItem> getAllStatesSince(Item item, ZonedDateTime timestamp, String serviceId)", "class_method_signature": "PersistenceExtensions.getAllStatesSince(Item item, ZonedDateTime timestamp, String serviceId)", "testcase": false, "constructor": false}, {"identifier": "lastUpdate", "parameters": "(Item item)", "modifiers": "public static", "return": "ZonedDateTime", "signature": "ZonedDateTime lastUpdate(Item item)", "full_signature": "public static ZonedDateTime lastUpdate(Item item)", "class_method_signature": "PersistenceExtensions.lastUpdate(Item item)", "testcase": false, "constructor": false}, {"identifier": "lastUpdate", "parameters": "(Item item, String serviceId)", "modifiers": "public static", "return": "ZonedDateTime", "signature": "ZonedDateTime lastUpdate(Item item, String serviceId)", "full_signature": "public static ZonedDateTime lastUpdate(Item item, String serviceId)", "class_method_signature": "PersistenceExtensions.lastUpdate(Item item, String serviceId)", "testcase": false, "constructor": false}, {"identifier": "deltaSince", "parameters": "(Item item, ZonedDateTime timestamp)", "modifiers": "public static", "return": "DecimalType", "signature": "DecimalType deltaSince(Item item, ZonedDateTime timestamp)", "full_signature": "public static DecimalType deltaSince(Item item, ZonedDateTime timestamp)", "class_method_signature": "PersistenceExtensions.deltaSince(Item item, ZonedDateTime timestamp)", "testcase": false, "constructor": false}, {"identifier": "deltaSince", "parameters": "(Item item, ZonedDateTime timestamp, String serviceId)", "modifiers": "public static", "return": "DecimalType", "signature": "DecimalType deltaSince(Item item, ZonedDateTime timestamp, String serviceId)", "full_signature": "public static DecimalType deltaSince(Item item, ZonedDateTime timestamp, String serviceId)", "class_method_signature": "PersistenceExtensions.deltaSince(Item item, ZonedDateTime timestamp, String serviceId)", "testcase": false, "constructor": false}, {"identifier": "evolutionRate", "parameters": "(Item item, ZonedDateTime timestamp)", "modifiers": "public static", "return": "DecimalType", "signature": "DecimalType evolutionRate(Item item, ZonedDateTime timestamp)", "full_signature": "public static DecimalType evolutionRate(Item item, ZonedDateTime timestamp)", "class_method_signature": "PersistenceExtensions.evolutionRate(Item item, ZonedDateTime timestamp)", "testcase": false, "constructor": false}, {"identifier": "evolutionRate", "parameters": "(Item item, ZonedDateTime timestamp, String serviceId)", "modifiers": "public static", "return": "DecimalType", "signature": "DecimalType evolutionRate(Item item, ZonedDateTime timestamp, String serviceId)", "full_signature": "public static DecimalType evolutionRate(Item item, ZonedDateTime timestamp, String serviceId)", "class_method_signature": "PersistenceExtensions.evolutionRate(Item item, ZonedDateTime timestamp, String serviceId)", "testcase": false, "constructor": false}, {"identifier": "previousState", "parameters": "(Item item)", "modifiers": "public static", "return": "HistoricItem", "signature": "HistoricItem previousState(Item item)", "full_signature": "public static HistoricItem previousState(Item item)", "class_method_signature": "PersistenceExtensions.previousState(Item item)", "testcase": false, "constructor": false}, {"identifier": "previousState", "parameters": "(Item item, boolean skipEqual)", "modifiers": "public static", "return": "HistoricItem", "signature": "HistoricItem previousState(Item item, boolean skipEqual)", "full_signature": "public static HistoricItem previousState(Item item, boolean skipEqual)", "class_method_signature": "PersistenceExtensions.previousState(Item item, boolean skipEqual)", "testcase": false, "constructor": false}, {"identifier": "previousState", "parameters": "(Item item, boolean skipEqual, String serviceId)", "modifiers": "public static", "return": "HistoricItem", "signature": "HistoricItem previousState(Item item, boolean skipEqual, String serviceId)", "full_signature": "public static HistoricItem previousState(Item item, boolean skipEqual, String serviceId)", "class_method_signature": "PersistenceExtensions.previousState(Item item, boolean skipEqual, String serviceId)", "testcase": false, "constructor": false}], "file": "bundles/org.openhab.core.persistence/src/main/java/org/openhab/core/persistence/extensions/PersistenceExtensions.java"}, "focal_method": {"identifier": "lastUpdate", "parameters": "(Item item)", "modifiers": "public static", "return": "ZonedDateTime", "body": "public static ZonedDateTime lastUpdate(Item item) {\n        return lastUpdate(item, getDefaultServiceId());\n    }", "signature": "ZonedDateTime lastUpdate(Item item)", "full_signature": "public static ZonedDateTime lastUpdate(Item item)", "class_method_signature": "PersistenceExtensions.lastUpdate(Item item)", "testcase": false, "constructor": false, "invocations": ["lastUpdate", "getDefaultServiceId"]}, "repository": {"repo_id": 48337670, "url": "https://github.com/openhab/openhab-core", "stars": 241, "created": "12/20/2015 9:23:20 PM +00:00", "updates": "2020-01-27T16:55:53+00:00", "fork": "False", "license": "licensed"}}