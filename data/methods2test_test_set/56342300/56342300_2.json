{"test_class": {"identifier": "DroolsDescriptionServiceTest", "superclass": "extends BaseServiceTest", "interfaces": "", "fields": [{"original_string": "private DroolsDescriptionService droolsDescriptionService;", "modifier": "private", "type": "DroolsDescriptionService", "declarator": "droolsDescriptionService", "var_name": "droolsDescriptionService"}], "file": "snomed-drools-rf2-validator/src/test/java/org/ihtsdo/drools/validator/rf2/service/DroolsDescriptionServiceTest.java"}, "test_case": {"identifier": "testFindActiveDescriptionByExactTerm", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testFindActiveDescriptionByExactTerm() {\n        Set<Description> descriptions = droolsDescriptionService.findActiveDescriptionByExactTerm(\"Distinctive arrangement of microtubules\");\n        Assert.assertEquals(1, descriptions.size());\n        for (Description description : descriptions) {\n            Assert.assertEquals(\"3229017\", description.getId());\n        }\n    }", "signature": "void testFindActiveDescriptionByExactTerm()", "full_signature": "@Test public void testFindActiveDescriptionByExactTerm()", "class_method_signature": "DroolsDescriptionServiceTest.testFindActiveDescriptionByExactTerm()", "testcase": true, "constructor": false, "invocations": ["findActiveDescriptionByExactTerm", "assertEquals", "size", "assertEquals", "getId"]}, "focal_class": {"identifier": "DroolsDescriptionService", "superclass": "", "interfaces": "implements DescriptionService", "fields": [{"original_string": "private static final String FULLY_SPECIFIED_NAME = \"900000000000003001\";", "modifier": "private static final", "type": "String", "declarator": "FULLY_SPECIFIED_NAME = \"900000000000003001\"", "var_name": "FULLY_SPECIFIED_NAME"}, {"original_string": "private static final String PREFERRED_ACCEPTABILITY = \"900000000000548007\";", "modifier": "private static final", "type": "String", "declarator": "PREFERRED_ACCEPTABILITY = \"900000000000548007\"", "var_name": "PREFERRED_ACCEPTABILITY"}, {"original_string": "private final SnomedDroolsComponentRepository repository;", "modifier": "private final", "type": "SnomedDroolsComponentRepository", "declarator": "repository", "var_name": "repository"}, {"original_string": "private final DroolsDescriptionIndex droolsDescriptionIndex;", "modifier": "private final", "type": "DroolsDescriptionIndex", "declarator": "droolsDescriptionIndex", "var_name": "droolsDescriptionIndex"}, {"original_string": "private final TestResourceProvider testResourceProvider;", "modifier": "private final", "type": "TestResourceProvider", "declarator": "testResourceProvider", "var_name": "testResourceProvider"}], "methods": [{"identifier": "DroolsDescriptionService", "parameters": "(SnomedDroolsComponentRepository repository, TestResourceProvider testResourceProvider)", "modifiers": "public", "return": "", "signature": " DroolsDescriptionService(SnomedDroolsComponentRepository repository, TestResourceProvider testResourceProvider)", "full_signature": "public  DroolsDescriptionService(SnomedDroolsComponentRepository repository, TestResourceProvider testResourceProvider)", "class_method_signature": "DroolsDescriptionService.DroolsDescriptionService(SnomedDroolsComponentRepository repository, TestResourceProvider testResourceProvider)", "testcase": false, "constructor": true}, {"identifier": "getFSNs", "parameters": "(Set<String> conceptIds, String... languageRefsetIds)", "modifiers": "@Override public", "return": "Set<String>", "signature": "Set<String> getFSNs(Set<String> conceptIds, String... languageRefsetIds)", "full_signature": "@Override public Set<String> getFSNs(Set<String> conceptIds, String... languageRefsetIds)", "class_method_signature": "DroolsDescriptionService.getFSNs(Set<String> conceptIds, String... languageRefsetIds)", "testcase": false, "constructor": false}, {"identifier": "findActiveDescriptionByExactTerm", "parameters": "(String exactTerm)", "modifiers": "@Override public", "return": "Set<Description>", "signature": "Set<Description> findActiveDescriptionByExactTerm(String exactTerm)", "full_signature": "@Override public Set<Description> findActiveDescriptionByExactTerm(String exactTerm)", "class_method_signature": "DroolsDescriptionService.findActiveDescriptionByExactTerm(String exactTerm)", "testcase": false, "constructor": false}, {"identifier": "findInactiveDescriptionByExactTerm", "parameters": "(String exactTerm)", "modifiers": "@Override public", "return": "Set<Description>", "signature": "Set<Description> findInactiveDescriptionByExactTerm(String exactTerm)", "full_signature": "@Override public Set<Description> findInactiveDescriptionByExactTerm(String exactTerm)", "class_method_signature": "DroolsDescriptionService.findInactiveDescriptionByExactTerm(String exactTerm)", "testcase": false, "constructor": false}, {"identifier": "findMatchingDescriptionInHierarchy", "parameters": "(Concept concept, Description description)", "modifiers": "@Override // FIXME: Currently only finds matching description in ancestors. // Should search all descendants of the second highest ancestor (the ancestor which is a direct child of root). public", "return": "Set<Description>", "signature": "Set<Description> findMatchingDescriptionInHierarchy(Concept concept, Description description)", "full_signature": "@Override // FIXME: Currently only finds matching description in ancestors. // Should search all descendants of the second highest ancestor (the ancestor which is a direct child of root). public Set<Description> findMatchingDescriptionInHierarchy(Concept concept, Description description)", "class_method_signature": "DroolsDescriptionService.findMatchingDescriptionInHierarchy(Concept concept, Description description)", "testcase": false, "constructor": false}, {"identifier": "getCaseSensitiveWordsErrorMessage", "parameters": "(Description description)", "modifiers": "@Override public", "return": "String", "signature": "String getCaseSensitiveWordsErrorMessage(Description description)", "full_signature": "@Override public String getCaseSensitiveWordsErrorMessage(Description description)", "class_method_signature": "DroolsDescriptionService.getCaseSensitiveWordsErrorMessage(Description description)", "testcase": false, "constructor": false}, {"identifier": "getLanguageSpecificErrorMessage", "parameters": "(Description description)", "modifiers": "@Override public", "return": "String", "signature": "String getLanguageSpecificErrorMessage(Description description)", "full_signature": "@Override public String getLanguageSpecificErrorMessage(Description description)", "class_method_signature": "DroolsDescriptionService.getLanguageSpecificErrorMessage(Description description)", "testcase": false, "constructor": false}, {"identifier": "findParentsNotContainingSemanticTag", "parameters": "(Concept concept, String termSematicTag, String... languageRefsetIds)", "modifiers": "@Override public", "return": "Set<String>", "signature": "Set<String> findParentsNotContainingSemanticTag(Concept concept, String termSematicTag, String... languageRefsetIds)", "full_signature": "@Override public Set<String> findParentsNotContainingSemanticTag(Concept concept, String termSematicTag, String... languageRefsetIds)", "class_method_signature": "DroolsDescriptionService.findParentsNotContainingSemanticTag(Concept concept, String termSematicTag, String... languageRefsetIds)", "testcase": false, "constructor": false}, {"identifier": "isRecognisedSemanticTag", "parameters": "(String termSemanticTag)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean isRecognisedSemanticTag(String termSemanticTag)", "full_signature": "@Override public boolean isRecognisedSemanticTag(String termSemanticTag)", "class_method_signature": "DroolsDescriptionService.isRecognisedSemanticTag(String termSemanticTag)", "testcase": false, "constructor": false}, {"identifier": "getDroolsDescriptionIndex", "parameters": "()", "modifiers": "public", "return": "DroolsDescriptionIndex", "signature": "DroolsDescriptionIndex getDroolsDescriptionIndex()", "full_signature": "public DroolsDescriptionIndex getDroolsDescriptionIndex()", "class_method_signature": "DroolsDescriptionService.getDroolsDescriptionIndex()", "testcase": false, "constructor": false}], "file": "snomed-drools-rf2-validator/src/main/java/org/ihtsdo/drools/validator/rf2/service/DroolsDescriptionService.java"}, "focal_method": {"identifier": "findActiveDescriptionByExactTerm", "parameters": "(String exactTerm)", "modifiers": "@Override public", "return": "Set<Description>", "body": "@Override\n\tpublic Set<Description> findActiveDescriptionByExactTerm(String exactTerm) {\n\t\tif(exactTerm == null || exactTerm.trim().isEmpty()) return Collections.emptySet();\n\t\tSet<String> idSet = droolsDescriptionIndex.findMatchedDescriptionTerm(exactTerm,true);\n\t\tSet<Description> descriptions = new HashSet<>();\n\t\tfor (String id : idSet) {\n\t\t\tDroolsDescription droolsDescription = repository.getDescription(id);\n\t\t\tdescriptions.add(droolsDescription);\n\t\t}\n\t\treturn descriptions;\n\t}", "signature": "Set<Description> findActiveDescriptionByExactTerm(String exactTerm)", "full_signature": "@Override public Set<Description> findActiveDescriptionByExactTerm(String exactTerm)", "class_method_signature": "DroolsDescriptionService.findActiveDescriptionByExactTerm(String exactTerm)", "testcase": false, "constructor": false, "invocations": ["isEmpty", "trim", "emptySet", "findMatchedDescriptionTerm", "getDescription", "add"]}, "repository": {"repo_id": 56342300, "url": "https://github.com/IHTSDO/snomed-drools", "language": "Java", "is_fork": false, "fork_count": 1, "stargazer_count": 7, "size": 384, "license": "licensed"}}