{"test_class": {"identifier": "OrderMailerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "OrderMailer orderMailer;", "modifier": "", "type": "OrderMailer", "declarator": "orderMailer", "var_name": "orderMailer"}], "file": "plugins/rapid_mailer/java_src/com/demo/mailer/OrderMailerTest.java"}, "test_case": {"identifier": "testSendFromOrderMailer", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testSendFromOrderMailer() throws TemplateException, IOException, Exception {\n\t\tAsyncToken token = orderMailer.sendConfirmOrder(\"badqiu\");\n\t\t\n\t\t//waitForResult\u4e3b\u8981\u7528\u4e8e\u6d4b\u8bd5\uff0c\u8bf7\u4f7f\u7528\u76f8\u540c\u529f\u80fd\u7684Future.get()\n\t\ttoken.waitForResult();\n\t}", "signature": "void testSendFromOrderMailer()", "full_signature": "@Test public void testSendFromOrderMailer()", "class_method_signature": "OrderMailerTest.testSendFromOrderMailer()", "testcase": true, "constructor": false, "invocations": ["sendConfirmOrder", "waitForResult"]}, "focal_class": {"identifier": "OrderMailer", "superclass": "extends BaseMailer", "interfaces": "", "fields": [], "methods": [{"identifier": "createConfirmOrder", "parameters": "(String username)", "modifiers": "public", "return": "SimpleMailMessage", "signature": "SimpleMailMessage createConfirmOrder(String username)", "full_signature": "public SimpleMailMessage createConfirmOrder(String username)", "class_method_signature": "OrderMailer.createConfirmOrder(String username)", "testcase": false, "constructor": false}, {"identifier": "sendConfirmOrder", "parameters": "(final String username)", "modifiers": "public", "return": "AsyncToken", "signature": "AsyncToken sendConfirmOrder(final String username)", "full_signature": "public AsyncToken sendConfirmOrder(final String username)", "class_method_signature": "OrderMailer.sendConfirmOrder(final String username)", "testcase": false, "constructor": false}], "file": "plugins/rapid_mailer/java_src/com/demo/mailer/OrderMailer.java"}, "focal_method": {"identifier": "sendConfirmOrder", "parameters": "(final String username)", "modifiers": "public", "return": "AsyncToken", "body": "public AsyncToken sendConfirmOrder(final String username) {\n\t\tfinal SimpleMailMessage msg = createConfirmOrder(username);\n\t\t\n\t\t//\u8f6c\u6362\u4e3ahtml\u90ae\u4ef6\u5e76\u53d1\u9001,\u53e6\u6709\u4e00\u4e2a\u53c2\u6570\u53ef\u4ee5\u6307\u5b9a\u53d1\u4ef6\u4eba\u540d\u79f0\n\t\tAsyncToken token = getAsyncJavaMailSender().send(SimpleMailMessageUtils.toHtmlMsg(msg,\"rapid\u5c0f\u660e\")); \n\t\t\n\t\t//\u5904\u7406\u90ae\u4ef6\u53d1\u9001\u7ed3\u679c\n\t\ttoken.addResponder(new IResponder() {\n\t\t\tpublic void onFault(Exception fault) {\n\t\t\t\tSystem.out.println(\"[ERROR] confirmOrder mail send fail,cause:\"+fault);\n\t\t\t}\n\t\t\tpublic void onResult(Object result) {\n\t\t\t\tSystem.out.println(\"[INFO] confirmOrder mail send success\");\n\t\t\t}\n\t\t});\n\t\t\n\t\t//\u8fd4\u56detoken\u53ef\u4ee5\u7528\u4e8e\u5916\u90e8\u7ee7\u7eed\u76d1\u542c\n\t\treturn token;\n\t}", "signature": "AsyncToken sendConfirmOrder(final String username)", "full_signature": "public AsyncToken sendConfirmOrder(final String username)", "class_method_signature": "OrderMailer.sendConfirmOrder(final String username)", "testcase": false, "constructor": false, "invocations": ["createConfirmOrder", "send", "getAsyncJavaMailSender", "toHtmlMsg", "addResponder", "println", "println"]}, "repository": {"repo_id": 8475355, "url": "https://github.com/zl19861124/jeecms", "language": "Java", "is_fork": false, "fork_count": 56, "stargazer_count": 33, "size": 42255, "license": "licensed"}}