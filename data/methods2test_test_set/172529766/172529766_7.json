{"test_class": {"identifier": "TemplateHelperTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private String params = \"[{\\\"key\\\": \\\"key1\\\",\\\"name\\\": \\\"Name1\\\",\\\"type\\\": \\\"file\\\"},{\\\"key\\\": \\\"key2\\\",\\\"name\\\": \\\"Key2\\\", \\\"type\\\": \\\"text\\\"},{\\\"key\\\": \\\"key3\\\",\\\"name\\\": \\\"Key3\\\",\\\"type\\\": \\\"text\\\"}]\";", "modifier": "private", "type": "String", "declarator": "params = \"[{\\\"key\\\": \\\"key1\\\",\\\"name\\\": \\\"Name1\\\",\\\"type\\\": \\\"file\\\"},{\\\"key\\\": \\\"key2\\\",\\\"name\\\": \\\"Key2\\\", \\\"type\\\": \\\"text\\\"},{\\\"key\\\": \\\"key3\\\",\\\"name\\\": \\\"Key3\\\",\\\"type\\\": \\\"text\\\"}]\"", "var_name": "params"}, {"original_string": "private String values = \"{key2:\\\"value2\\\", key3:\\\"value3\\\"}\";", "modifier": "private", "type": "String", "declarator": "values = \"{key2:\\\"value2\\\", key3:\\\"value3\\\"}\"", "var_name": "values"}, {"original_string": "private TemplateHelper helper;", "modifier": "private", "type": "TemplateHelper", "declarator": "helper", "var_name": "helper"}], "file": "common/app/src/test/java/com/sap/primetime/util/TemplateHelperTest.java"}, "test_case": {"identifier": "testCrappyValues", "parameters": "()", "modifiers": "@Test(expected = IllegalStateException.class) public", "return": "void", "body": "@Test(expected = IllegalStateException.class)\n\tpublic void testCrappyValues() throws Exception {\n\t\tString testValues = \"crappy_values\";\n\t\tassertEquals(\"<div>value2</div>value3\", helper.replace(\"<div>{{key2}}</div>{{key3}}\", testValues));\n\t}", "signature": "void testCrappyValues()", "full_signature": "@Test(expected = IllegalStateException.class) public void testCrappyValues()", "class_method_signature": "TemplateHelperTest.testCrappyValues()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "replace"]}, "focal_class": {"identifier": "TemplateHelper", "superclass": "", "interfaces": "", "fields": [{"original_string": "private TemplateParam[] params;", "modifier": "private", "type": "TemplateParam[]", "declarator": "params", "var_name": "params"}], "methods": [{"identifier": "TemplateHelper", "parameters": "(String params)", "modifiers": "public", "return": "", "signature": " TemplateHelper(String params)", "full_signature": "public  TemplateHelper(String params)", "class_method_signature": "TemplateHelper.TemplateHelper(String params)", "testcase": false, "constructor": true}, {"identifier": "replace", "parameters": "(String text, String values)", "modifiers": "public", "return": "String", "signature": "String replace(String text, String values)", "full_signature": "public String replace(String text, String values)", "class_method_signature": "TemplateHelper.replace(String text, String values)", "testcase": false, "constructor": false}, {"identifier": "containsFile", "parameters": "(File file, String values)", "modifiers": "public", "return": "boolean", "signature": "boolean containsFile(File file, String values)", "full_signature": "public boolean containsFile(File file, String values)", "class_method_signature": "TemplateHelper.containsFile(File file, String values)", "testcase": false, "constructor": false}, {"identifier": "parseValues", "parameters": "(String values)", "modifiers": "private", "return": "JsonObject", "signature": "JsonObject parseValues(String values)", "full_signature": "private JsonObject parseValues(String values)", "class_method_signature": "TemplateHelper.parseValues(String values)", "testcase": false, "constructor": false}], "file": "common/app/src/main/java/com/sap/primetime/util/TemplateHelper.java"}, "focal_method": {"identifier": "replace", "parameters": "(String text, String values)", "modifiers": "public", "return": "String", "body": "public String replace(String text, String values) {\n\t\tif (params == null) {\n\t\t\treturn text;\n\t\t}\n\t\tJsonObject obj = parseValues(values);\n\n\t\tfor (TemplateParam p : params) {\n\t\t\tString value = \"-missing value-\";\n\t\t\tif (obj != null && obj.has(p.getKey())) {\n\t\t\t\tvalue = obj.get(p.getKey()).getAsString();\n\t\t\t\tif (\"file\".equalsIgnoreCase(p.getType())) {\n\t\t\t\t\tvalue = \"/s/api/fileservice/files/\" + value + \"/content\";\n\t\t\t\t}\n\t\t\t} else if (\"file\".equalsIgnoreCase(p.getType())) {\n\t\t\t\tvalue = \"/ui/img/image_preview.png\";\n\t\t\t}\n\t\t\ttext = StringUtils.replace(text, \"{{\" + p.getKey() + \"}}\", value);\n\t\t}\n\n\t\treturn text;\n\t}", "signature": "String replace(String text, String values)", "full_signature": "public String replace(String text, String values)", "class_method_signature": "TemplateHelper.replace(String text, String values)", "testcase": false, "constructor": false, "invocations": ["parseValues", "has", "getKey", "getAsString", "get", "getKey", "equalsIgnoreCase", "getType", "equalsIgnoreCase", "getType", "replace", "getKey"]}, "repository": {"repo_id": 172529766, "url": "https://github.com/SAP/cloud-primetime", "language": "Java", "is_fork": false, "fork_count": 2, "stargazer_count": 25, "size": 7529, "license": "licensed"}}