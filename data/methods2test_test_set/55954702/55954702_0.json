{"test_class": {"identifier": "MainActivityTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Test\n    public void \u30dc\u30bf\u30f3\u306e\u30ea\u30b9\u30ca\u30fc\u3067\u5404\u7a2e\u306e\u51e6\u7406\u304c\u5b9f\u884c\u3055\u308c\u308b() {\n        //\u30e2\u30c3\u30af\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u7528\u610f\n        EditText weightText = mock(EditText.class);", "modifier": "@Test\n    public", "type": "void", "declarator": "weightText = mock(EditText.class)", "var_name": "weightText"}, {"original_string": "EditText heightText = mock(EditText.class);", "modifier": "", "type": "EditText", "declarator": "heightText = mock(EditText.class)", "var_name": "heightText"}, {"original_string": "TextView resultText = mock(TextView.class);", "modifier": "", "type": "TextView", "declarator": "resultText = mock(TextView.class)", "var_name": "resultText"}, {"original_string": "BmiValue result = mock(BmiValue.class);", "modifier": "", "type": "BmiValue", "declarator": "result = mock(BmiValue.class)", "var_name": "result"}, {"original_string": "MainActivity activity = spy(new MainActivity());", "modifier": "", "type": "MainActivity", "declarator": "activity = spy(new MainActivity())", "var_name": "activity"}, {"original_string": "View.OnClickListener buttonListener = activity.createButtonListener(weightText, heightText, resultText);", "modifier": "", "type": "View.OnClickListener", "declarator": "buttonListener = activity.createButtonListener(weightText, heightText, resultText)", "var_name": "buttonListener"}], "file": "tech07/BmiCalculator/app/src/test/java/com/advanced_android/bmicalculator/MainActivityTest.java"}, "test_case": {"identifier": "initViews", "parameters": "", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void initViews\u3092\u547c\u3076\u3068\u30dc\u30bf\u30f3\u306eListener\u304c\u8a2d\u5b9a\u3055\u308c\u308b() {\n        //\u30e2\u30c3\u30af\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u7528\u610f\n        EditText weightText = mock(EditText.class);\n        EditText heightText = mock(EditText.class);\n        TextView resultText = mock(TextView.class);\n        Button resultButton = mock(Button.class);\n        View.OnClickListener buttonListener = mock(View.OnClickListener.class);\n\n        //\u30e2\u30c3\u30af\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u5374\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\n        MainActivity activity = spy(new MainActivity());\n        when(activity.findViewById(R.id.text_weight)).thenReturn(weightText);\n        when(activity.findViewById(R.id.text_height)).thenReturn(heightText);\n        when(activity.findViewById(R.id.text_result)).thenReturn(resultText);\n        when(activity.findViewById(R.id.button_calculate)).thenReturn(resultButton);\n        when(activity.createButtonListener(weightText, heightText, resultText)).thenReturn(buttonListener);\n\n        //\u30c6\u30b9\u30c8\u3068\u691c\u8a3c\n        activity.initViews();\n        verify(activity, times(1)).createButtonListener(weightText, heightText, resultText);\n        verify(resultButton, times(1)).setOnClickListener(buttonListener);\n    }", "signature": "void initViews", "full_signature": "@Test public void initViews", "class_method_signature": "MainActivityTest.initViews", "testcase": true, "constructor": false, "invocations": ["mock", "mock", "mock", "mock", "mock", "spy", "thenReturn", "when", "findViewById", "thenReturn", "when", "findViewById", "thenReturn", "when", "findViewById", "thenReturn", "when", "findViewById", "thenReturn", "when", "createButtonListener", "initViews", "createButtonListener", "verify", "times", "setOnClickListener", "verify", "times"]}, "focal_class": {"identifier": "MainActivity", "superclass": "extends AppCompatActivity", "interfaces": "", "fields": [{"original_string": "private LocalBroadcastManager mLocalBroadcastManager;", "modifier": "private", "type": "LocalBroadcastManager", "declarator": "mLocalBroadcastManager", "var_name": "mLocalBroadcastManager"}, {"original_string": "private Button mCalcButton;", "modifier": "private", "type": "Button", "declarator": "mCalcButton", "var_name": "mCalcButton"}, {"original_string": "private BroadcastReceiver mReceiver;", "modifier": "private", "type": "BroadcastReceiver", "declarator": "mReceiver", "var_name": "mReceiver"}], "methods": [{"identifier": "onCreate", "parameters": "(Bundle savedInstanceState)", "modifiers": "@Override protected", "return": "void", "signature": "void onCreate(Bundle savedInstanceState)", "full_signature": "@Override protected void onCreate(Bundle savedInstanceState)", "class_method_signature": "MainActivity.onCreate(Bundle savedInstanceState)", "testcase": false, "constructor": false}, {"identifier": "initViews", "parameters": "()", "modifiers": "@VisibleForTesting", "return": "void", "signature": "void initViews()", "full_signature": "@VisibleForTesting void initViews()", "class_method_signature": "MainActivity.initViews()", "testcase": false, "constructor": false}, {"identifier": "createButtonListener", "parameters": "(final TextView weightText,\n                                              final TextView heightText,\n                                              final TextView resultText)", "modifiers": "@VisibleForTesting", "return": "View.OnClickListener", "signature": "View.OnClickListener createButtonListener(final TextView weightText,\n                                              final TextView heightText,\n                                              final TextView resultText)", "full_signature": "@VisibleForTesting View.OnClickListener createButtonListener(final TextView weightText,\n                                              final TextView heightText,\n                                              final TextView resultText)", "class_method_signature": "MainActivity.createButtonListener(final TextView weightText,\n                                              final TextView heightText,\n                                              final TextView resultText)", "testcase": false, "constructor": false}, {"identifier": "calculateBmiValue", "parameters": "(final TextView weightText, final TextView heightText)", "modifiers": "@VisibleForTesting", "return": "BmiValue", "signature": "BmiValue calculateBmiValue(final TextView weightText, final TextView heightText)", "full_signature": "@VisibleForTesting BmiValue calculateBmiValue(final TextView weightText, final TextView heightText)", "class_method_signature": "MainActivity.calculateBmiValue(final TextView weightText, final TextView heightText)", "testcase": false, "constructor": false}, {"identifier": "showCalcResult", "parameters": "(TextView resultText, BmiValue result)", "modifiers": "@VisibleForTesting", "return": "void", "signature": "void showCalcResult(TextView resultText, BmiValue result)", "full_signature": "@VisibleForTesting void showCalcResult(TextView resultText, BmiValue result)", "class_method_signature": "MainActivity.showCalcResult(TextView resultText, BmiValue result)", "testcase": false, "constructor": false}, {"identifier": "startResultSaveService", "parameters": "(BmiValue result)", "modifiers": "@VisibleForTesting", "return": "void", "signature": "void startResultSaveService(BmiValue result)", "full_signature": "@VisibleForTesting void startResultSaveService(BmiValue result)", "class_method_signature": "MainActivity.startResultSaveService(BmiValue result)", "testcase": false, "constructor": false}, {"identifier": "prepareReceiveResultSaveServiceAction", "parameters": "()", "modifiers": "@VisibleForTesting", "return": "void", "signature": "void prepareReceiveResultSaveServiceAction()", "full_signature": "@VisibleForTesting void prepareReceiveResultSaveServiceAction()", "class_method_signature": "MainActivity.prepareReceiveResultSaveServiceAction()", "testcase": false, "constructor": false}, {"identifier": "onDestroy", "parameters": "()", "modifiers": "@Override protected", "return": "void", "signature": "void onDestroy()", "full_signature": "@Override protected void onDestroy()", "class_method_signature": "MainActivity.onDestroy()", "testcase": false, "constructor": false}], "file": "tech07/BmiCalculator/app/src/main/java/com/advanced_android/bmicalculator/MainActivity.java"}, "focal_method": {"identifier": "initViews", "parameters": "()", "modifiers": "@VisibleForTesting", "return": "void", "body": "@VisibleForTesting\n    void initViews() {\n        EditText weightText = (EditText)findViewById(R.id.text_weight);\n        EditText heightText = (EditText)findViewById(R.id.text_height);\n        TextView resultText = (TextView)findViewById(R.id.text_result);\n\n        mCalcButton = (Button)findViewById(R.id.button_calculate);\n\n        View.OnClickListener buttonListener = createButtonListener(weightText, heightText, resultText);\n        mCalcButton.setOnClickListener(buttonListener);\n    }", "signature": "void initViews()", "full_signature": "@VisibleForTesting void initViews()", "class_method_signature": "MainActivity.initViews()", "testcase": false, "constructor": false, "invocations": ["findViewById", "findViewById", "findViewById", "findViewById", "createButtonListener", "setOnClickListener"]}, "repository": {"repo_id": 55954702, "url": "https://github.com/advanced-android-book/samples", "language": "Java", "is_fork": false, "fork_count": 18, "stargazer_count": 64, "size": 3132, "license": "licensed"}}