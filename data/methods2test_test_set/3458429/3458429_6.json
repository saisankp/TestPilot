{"test_class": {"identifier": "URLEncodedTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String __ISO_8859_1 = \"iso-8859-1\";", "modifier": "private static final", "type": "String", "declarator": "__ISO_8859_1 = \"iso-8859-1\"", "var_name": "__ISO_8859_1"}, {"original_string": "private static final String __UTF8 = \"utf-8\";", "modifier": "private static final", "type": "String", "declarator": "__UTF8 = \"utf-8\"", "var_name": "__UTF8"}, {"original_string": "private static final String __UTF16 = \"utf-16\";", "modifier": "private static final", "type": "String", "declarator": "__UTF16 = \"utf-16\"", "var_name": "__UTF16"}], "file": "firefly-net/src/test/java/com/fireflysource/net/http/common/codec/URLEncodedTest.java"}, "test_case": {"identifier": "testUrlEncodedStream", "parameters": "()", "modifiers": "@Test", "return": "void", "body": "@Test\n    void testUrlEncodedStream()\n            throws Exception {\n        String[][] charsets = new String[][]\n                {\n                        {__UTF8, null, \"%30\"},\n                        {__ISO_8859_1, __ISO_8859_1, \"%30\"},\n                        {__UTF8, __UTF8, \"%30\"},\n                        {__UTF16, __UTF16, \"%00%30\"},\n                };\n\n        // Note: \"%30\" -> decode -> \"0\"\n\n        for (int i = 0; i < charsets.length; i++) {\n            ByteArrayInputStream in = new ByteArrayInputStream((\"name\\n=value+\" + charsets[i][2] + \"&name1=&name2&n\\u00e3me3=value+3\").getBytes(charsets[i][0]));\n            MultiMap<String> m = new MultiMap<>();\n            UrlEncoded.decodeTo(in, m, charsets[i][1] == null ? null : Charset.forName(charsets[i][1]), -1, -1);\n            assertEquals(4, m.size());\n            assertEquals(\"value 0\", m.getString(\"name\\n\"));\n            assertEquals(\"\", m.getString(\"name1\"));\n            assertEquals(\"\", m.getString(\"name2\"));\n            assertEquals(\"value 3\", m.getString(\"n\\u00e3me3\"));\n        }\n\n\n        if (Charset.isSupported(\"Shift_JIS\")) {\n            ByteArrayInputStream in2 = new ByteArrayInputStream(\"name=%83e%83X%83g\".getBytes(StandardCharsets.ISO_8859_1));\n            MultiMap<String> m2 = new MultiMap<>();\n            UrlEncoded.decodeTo(in2, m2, Charset.forName(\"Shift_JIS\"), -1, -1);\n            assertEquals(1, m2.size());\n            assertEquals(\"\\u30c6\\u30b9\\u30c8\", m2.getString(\"name\"));\n        } else\n            assertTrue(true);\n\n    }", "signature": "void testUrlEncodedStream()", "full_signature": "@Test void testUrlEncodedStream()", "class_method_signature": "URLEncodedTest.testUrlEncodedStream()", "testcase": true, "constructor": false, "invocations": ["getBytes", "decodeTo", "forName", "assertEquals", "size", "assertEquals", "getString", "assertEquals", "getString", "assertEquals", "getString", "assertEquals", "getString", "isSupported", "getBytes", "decodeTo", "forName", "assertEquals", "size", "assertEquals", "getString", "assertTrue"]}, "focal_class": {"identifier": "UrlEncoded", "superclass": "extends MultiMap<String>", "interfaces": "implements Cloneable", "fields": [{"original_string": "public static final Charset ENCODING;", "modifier": "public static final", "type": "Charset", "declarator": "ENCODING", "var_name": "ENCODING"}, {"original_string": "private static final String __ISO_8859_1 = \"iso-8859-1\";", "modifier": "private static final", "type": "String", "declarator": "__ISO_8859_1 = \"iso-8859-1\"", "var_name": "__ISO_8859_1"}, {"original_string": "private static final String __UTF8 = \"utf-8\";", "modifier": "private static final", "type": "String", "declarator": "__UTF8 = \"utf-8\"", "var_name": "__UTF8"}, {"original_string": "private static final String __UTF16 = \"utf-16\";", "modifier": "private static final", "type": "String", "declarator": "__UTF16 = \"utf-16\"", "var_name": "__UTF16"}, {"original_string": "private static LazyLogger LOG = SystemLogger.create(UrlEncoded.class);", "modifier": "private static", "type": "LazyLogger", "declarator": "LOG = SystemLogger.create(UrlEncoded.class)", "var_name": "LOG"}], "methods": [{"identifier": "UrlEncoded", "parameters": "(UrlEncoded url)", "modifiers": "public", "return": "", "signature": " UrlEncoded(UrlEncoded url)", "full_signature": "public  UrlEncoded(UrlEncoded url)", "class_method_signature": "UrlEncoded.UrlEncoded(UrlEncoded url)", "testcase": false, "constructor": true}, {"identifier": "UrlEncoded", "parameters": "()", "modifiers": "public", "return": "", "signature": " UrlEncoded()", "full_signature": "public  UrlEncoded()", "class_method_signature": "UrlEncoded.UrlEncoded()", "testcase": false, "constructor": true}, {"identifier": "UrlEncoded", "parameters": "(String query)", "modifiers": "public", "return": "", "signature": " UrlEncoded(String query)", "full_signature": "public  UrlEncoded(String query)", "class_method_signature": "UrlEncoded.UrlEncoded(String query)", "testcase": false, "constructor": true}, {"identifier": "encode", "parameters": "(MultiMap<String> map, Charset charset, boolean equalsForNullValue)", "modifiers": "public static", "return": "String", "signature": "String encode(MultiMap<String> map, Charset charset, boolean equalsForNullValue)", "full_signature": "public static String encode(MultiMap<String> map, Charset charset, boolean equalsForNullValue)", "class_method_signature": "UrlEncoded.encode(MultiMap<String> map, Charset charset, boolean equalsForNullValue)", "testcase": false, "constructor": false}, {"identifier": "decodeTo", "parameters": "(String content, MultiMap<String> map, String charset)", "modifiers": "public static", "return": "void", "signature": "void decodeTo(String content, MultiMap<String> map, String charset)", "full_signature": "public static void decodeTo(String content, MultiMap<String> map, String charset)", "class_method_signature": "UrlEncoded.decodeTo(String content, MultiMap<String> map, String charset)", "testcase": false, "constructor": false}, {"identifier": "decodeTo", "parameters": "(String content, MultiMap<String> map, Charset charset)", "modifiers": "public static", "return": "void", "signature": "void decodeTo(String content, MultiMap<String> map, Charset charset)", "full_signature": "public static void decodeTo(String content, MultiMap<String> map, Charset charset)", "class_method_signature": "UrlEncoded.decodeTo(String content, MultiMap<String> map, Charset charset)", "testcase": false, "constructor": false}, {"identifier": "decodeUtf8To", "parameters": "(String query, MultiMap<String> map)", "modifiers": "public static", "return": "void", "signature": "void decodeUtf8To(String query, MultiMap<String> map)", "full_signature": "public static void decodeUtf8To(String query, MultiMap<String> map)", "class_method_signature": "UrlEncoded.decodeUtf8To(String query, MultiMap<String> map)", "testcase": false, "constructor": false}, {"identifier": "decodeUtf8To", "parameters": "(String query, int offset, int length, MultiMap<String> map)", "modifiers": "public static", "return": "void", "signature": "void decodeUtf8To(String query, int offset, int length, MultiMap<String> map)", "full_signature": "public static void decodeUtf8To(String query, int offset, int length, MultiMap<String> map)", "class_method_signature": "UrlEncoded.decodeUtf8To(String query, int offset, int length, MultiMap<String> map)", "testcase": false, "constructor": false}, {"identifier": "decode88591To", "parameters": "(InputStream in, MultiMap<String> map, int maxLength, int maxKeys)", "modifiers": "public static", "return": "void", "signature": "void decode88591To(InputStream in, MultiMap<String> map, int maxLength, int maxKeys)", "full_signature": "public static void decode88591To(InputStream in, MultiMap<String> map, int maxLength, int maxKeys)", "class_method_signature": "UrlEncoded.decode88591To(InputStream in, MultiMap<String> map, int maxLength, int maxKeys)", "testcase": false, "constructor": false}, {"identifier": "decodeUtf8To", "parameters": "(InputStream in, MultiMap<String> map, int maxLength, int maxKeys)", "modifiers": "public static", "return": "void", "signature": "void decodeUtf8To(InputStream in, MultiMap<String> map, int maxLength, int maxKeys)", "full_signature": "public static void decodeUtf8To(InputStream in, MultiMap<String> map, int maxLength, int maxKeys)", "class_method_signature": "UrlEncoded.decodeUtf8To(InputStream in, MultiMap<String> map, int maxLength, int maxKeys)", "testcase": false, "constructor": false}, {"identifier": "decodeUtf16To", "parameters": "(InputStream in, MultiMap<String> map, int maxLength, int maxKeys)", "modifiers": "public static", "return": "void", "signature": "void decodeUtf16To(InputStream in, MultiMap<String> map, int maxLength, int maxKeys)", "full_signature": "public static void decodeUtf16To(InputStream in, MultiMap<String> map, int maxLength, int maxKeys)", "class_method_signature": "UrlEncoded.decodeUtf16To(InputStream in, MultiMap<String> map, int maxLength, int maxKeys)", "testcase": false, "constructor": false}, {"identifier": "decodeTo", "parameters": "(InputStream in, MultiMap<String> map, String charset, int maxLength, int maxKeys)", "modifiers": "public static", "return": "void", "signature": "void decodeTo(InputStream in, MultiMap<String> map, String charset, int maxLength, int maxKeys)", "full_signature": "public static void decodeTo(InputStream in, MultiMap<String> map, String charset, int maxLength, int maxKeys)", "class_method_signature": "UrlEncoded.decodeTo(InputStream in, MultiMap<String> map, String charset, int maxLength, int maxKeys)", "testcase": false, "constructor": false}, {"identifier": "decodeTo", "parameters": "(InputStream in, MultiMap<String> map, Charset charset, int maxLength, int maxKeys)", "modifiers": "public static", "return": "void", "signature": "void decodeTo(InputStream in, MultiMap<String> map, Charset charset, int maxLength, int maxKeys)", "full_signature": "public static void decodeTo(InputStream in, MultiMap<String> map, Charset charset, int maxLength, int maxKeys)", "class_method_signature": "UrlEncoded.decodeTo(InputStream in, MultiMap<String> map, Charset charset, int maxLength, int maxKeys)", "testcase": false, "constructor": false}, {"identifier": "decodeString", "parameters": "(String encoded)", "modifiers": "public static", "return": "String", "signature": "String decodeString(String encoded)", "full_signature": "public static String decodeString(String encoded)", "class_method_signature": "UrlEncoded.decodeString(String encoded)", "testcase": false, "constructor": false}, {"identifier": "decodeString", "parameters": "(String encoded, int offset, int length, Charset charset)", "modifiers": "public static", "return": "String", "signature": "String decodeString(String encoded, int offset, int length, Charset charset)", "full_signature": "public static String decodeString(String encoded, int offset, int length, Charset charset)", "class_method_signature": "UrlEncoded.decodeString(String encoded, int offset, int length, Charset charset)", "testcase": false, "constructor": false}, {"identifier": "decodeHexChar", "parameters": "(int hi, int lo)", "modifiers": "private static", "return": "char", "signature": "char decodeHexChar(int hi, int lo)", "full_signature": "private static char decodeHexChar(int hi, int lo)", "class_method_signature": "UrlEncoded.decodeHexChar(int hi, int lo)", "testcase": false, "constructor": false}, {"identifier": "decodeHexByte", "parameters": "(char hi, char lo)", "modifiers": "private static", "return": "byte", "signature": "byte decodeHexByte(char hi, char lo)", "full_signature": "private static byte decodeHexByte(char hi, char lo)", "class_method_signature": "UrlEncoded.decodeHexByte(char hi, char lo)", "testcase": false, "constructor": false}, {"identifier": "encodeString", "parameters": "(String string)", "modifiers": "public static", "return": "String", "signature": "String encodeString(String string)", "full_signature": "public static String encodeString(String string)", "class_method_signature": "UrlEncoded.encodeString(String string)", "testcase": false, "constructor": false}, {"identifier": "encodeString", "parameters": "(String string, Charset charset)", "modifiers": "public static", "return": "String", "signature": "String encodeString(String string, Charset charset)", "full_signature": "public static String encodeString(String string, Charset charset)", "class_method_signature": "UrlEncoded.encodeString(String string, Charset charset)", "testcase": false, "constructor": false}, {"identifier": "decode", "parameters": "(String query)", "modifiers": "public", "return": "void", "signature": "void decode(String query)", "full_signature": "public void decode(String query)", "class_method_signature": "UrlEncoded.decode(String query)", "testcase": false, "constructor": false}, {"identifier": "decode", "parameters": "(String query, Charset charset)", "modifiers": "public", "return": "void", "signature": "void decode(String query, Charset charset)", "full_signature": "public void decode(String query, Charset charset)", "class_method_signature": "UrlEncoded.decode(String query, Charset charset)", "testcase": false, "constructor": false}, {"identifier": "encode", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String encode()", "full_signature": "public String encode()", "class_method_signature": "UrlEncoded.encode()", "testcase": false, "constructor": false}, {"identifier": "encode", "parameters": "(Charset charset)", "modifiers": "public", "return": "String", "signature": "String encode(Charset charset)", "full_signature": "public String encode(Charset charset)", "class_method_signature": "UrlEncoded.encode(Charset charset)", "testcase": false, "constructor": false}, {"identifier": "encode", "parameters": "(Charset charset, boolean equalsForNullValue)", "modifiers": "public", "return": "String", "signature": "String encode(Charset charset, boolean equalsForNullValue)", "full_signature": "public String encode(Charset charset, boolean equalsForNullValue)", "class_method_signature": "UrlEncoded.encode(Charset charset, boolean equalsForNullValue)", "testcase": false, "constructor": false}, {"identifier": "clone", "parameters": "()", "modifiers": "@Override public", "return": "Object", "signature": "Object clone()", "full_signature": "@Override public Object clone()", "class_method_signature": "UrlEncoded.clone()", "testcase": false, "constructor": false}], "file": "firefly-net/src/main/java/com/fireflysource/net/http/common/codec/UrlEncoded.java"}, "focal_method": {"identifier": "decodeTo", "parameters": "(String content, MultiMap<String> map, String charset)", "modifiers": "public static", "return": "void", "body": "public static void decodeTo(String content, MultiMap<String> map, String charset) {\n        decodeTo(content, map, charset == null ? null : Charset.forName(charset));\n    }", "signature": "void decodeTo(String content, MultiMap<String> map, String charset)", "full_signature": "public static void decodeTo(String content, MultiMap<String> map, String charset)", "class_method_signature": "UrlEncoded.decodeTo(String content, MultiMap<String> map, String charset)", "testcase": false, "constructor": false, "invocations": ["decodeTo", "forName"]}, "repository": {"repo_id": 3458429, "url": "https://github.com/hypercube1024/firefly", "language": "Java", "is_fork": false, "fork_count": 118, "stargazer_count": 271, "size": 29687, "license": "licensed"}}