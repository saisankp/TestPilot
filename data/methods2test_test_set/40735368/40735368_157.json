{"test_class": {"identifier": "EmfAppSchemaReaderTest", "superclass": "extends AppSchemaTestSupport", "interfaces": "", "fields": [{"original_string": "private static final String NS_URI = \"http://online.socialchange.net.au\";", "modifier": "private static final", "type": "String", "declarator": "NS_URI = \"http://online.socialchange.net.au\"", "var_name": "NS_URI"}], "file": "modules/extension/app-schema/app-schema/src/test/java/org/geotools/data/complex/config/EmfAppSchemaReaderTest.java"}, "test_case": {"identifier": "testParseSimpleFeatureType", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testParseSimpleFeatureType() throws Exception {\n        String res = \"/test-data/simpleFeature.xsd\";\n        URL resource = getClass().getResource(res);\n\n        SchemaIndex schemaIndex = EmfAppSchemaReader.newInstance().parse(resource);\n\n        AppSchemaFeatureTypeRegistry parsedTypes = new AppSchemaFeatureTypeRegistry();\n        \n        try {\n            parsedTypes.addSchemas(schemaIndex);\n    \n            Name typeName = Types.typeName(NS_URI, \"simpleFeatureType\");\n            AttributeType type = parsedTypes.getAttributeType(typeName);\n            Assert.assertNotNull(type);\n            Assert.assertTrue(type.getClass().getName(), type instanceof ComplexType);\n            Assert.assertTrue(type.getUserData().get(XSDTypeDefinition.class) instanceof XSDComplexTypeDefinition);\n    \n            ComplexType ft = (ComplexType) type;\n            String local = ft.getName().getLocalPart();\n            String uri = ft.getName().getNamespaceURI();\n            Assert.assertEquals(\"simpleFeatureType\", local);\n            Assert.assertEquals(NS_URI, uri);\n    \n            List<PropertyDescriptor> attributes = Arrays.asList(((ComplexFeatureTypeImpl) ft)\n                    .getTypeDescriptors().toArray(new PropertyDescriptor[0]));\n            Assert.assertEquals(8, attributes.size());\n            AttributeDescriptor descriptor;\n    \n            descriptor = (AttributeDescriptor) attributes.get(5);\n            Name name = Types.typeName(NS_URI, \"the_geom\");\n            typeName = Types.typeName(GML.NAMESPACE, \"GeometryPropertyType\");\n            \n            // I do not think this is true anymore, as abstract geometry type\n            // is an AttributeTypeImpl\n            // assertTrue(descriptor.getType() instanceof GeometryType);\n    \n            assertSimpleAttribute(descriptor, name, typeName, Geometry.class, 1, 1);\n    \n            descriptor = (AttributeDescriptor) attributes.get(6);\n            name = Types.typeName(NS_URI, \"stringAtt\");\n            typeName = Types.typeName(XS.NAMESPACE, XS.STRING.getLocalPart());\n    \n            assertSimpleAttribute(descriptor, name, typeName, String.class, 1, 1);\n    \n            descriptor = (AttributeDescriptor) attributes.get(7);\n            name = Types.typeName(NS_URI, \"intAtt\");\n            typeName = Types.typeName(XS.NAMESPACE, XS.INT.getLocalPart());\n            assertSimpleAttribute(descriptor, name, typeName, Integer.class, 1, 1);\n        }\n        finally {\n            parsedTypes.disposeSchemaIndexes();\n        }\n    }", "signature": "void testParseSimpleFeatureType()", "full_signature": "@Test public void testParseSimpleFeatureType()", "class_method_signature": "EmfAppSchemaReaderTest.testParseSimpleFeatureType()", "testcase": true, "constructor": false, "invocations": ["getResource", "getClass", "parse", "newInstance", "addSchemas", "typeName", "getAttributeType", "assertNotNull", "assertTrue", "getName", "getClass", "assertTrue", "get", "getUserData", "getLocalPart", "getName", "getNamespaceURI", "getName", "assertEquals", "assertEquals", "asList", "toArray", "getTypeDescriptors", "assertEquals", "size", "get", "typeName", "typeName", "assertSimpleAttribute", "get", "typeName", "typeName", "getLocalPart", "assertSimpleAttribute", "get", "typeName", "typeName", "getLocalPart", "assertSimpleAttribute", "disposeSchemaIndexes"]}, "focal_class": {"identifier": "EmfAppSchemaReader", "superclass": "extends EmfComplexFeatureReader", "interfaces": "", "fields": [{"original_string": "@SuppressWarnings(\"serial\")\n    private static final Map<QName, Class<? extends Configuration>> SUPPORTED_GML_KNOWN_TYPE_TO_CONFIGURATION_MAP //\n    = new LinkedHashMap<QName, Class<? extends Configuration>>() {\n        {\n            // GML 3.1\n            put(GML.AbstractFeatureType, GMLConfiguration.class);\n            // GML 3.2\n            put(org.geotools.gml3.v3_2.GML.AbstractFeatureType,\n                    org.geotools.gml3.v3_2.GMLConfiguration.class);\n        }\n    };", "modifier": "@SuppressWarnings(\"serial\")\n    private static final", "type": "Map<QName, Class<? extends Configuration>>", "declarator": "SUPPORTED_GML_KNOWN_TYPE_TO_CONFIGURATION_MAP //\n    = new LinkedHashMap<QName, Class<? extends Configuration>>() {\n        {\n            // GML 3.1\n            put(GML.AbstractFeatureType, GMLConfiguration.class);\n            // GML 3.2\n            put(org.geotools.gml3.v3_2.GML.AbstractFeatureType,\n                    org.geotools.gml3.v3_2.GMLConfiguration.class);\n        }\n    }", "var_name": "SUPPORTED_GML_KNOWN_TYPE_TO_CONFIGURATION_MAP"}], "methods": [{"identifier": "EmfAppSchemaReader", "parameters": "()", "modifiers": "private", "return": "", "signature": " EmfAppSchemaReader()", "full_signature": "private  EmfAppSchemaReader()", "class_method_signature": "EmfAppSchemaReader.EmfAppSchemaReader()", "testcase": false, "constructor": true}, {"identifier": "newInstance", "parameters": "()", "modifiers": "public static", "return": "EmfAppSchemaReader", "signature": "EmfAppSchemaReader newInstance()", "full_signature": "public static EmfAppSchemaReader newInstance()", "class_method_signature": "EmfAppSchemaReader.newInstance()", "testcase": false, "constructor": false}, {"identifier": "findGmlConfiguration", "parameters": "(AppSchemaConfiguration configuration)", "modifiers": "public static", "return": "Configuration", "signature": "Configuration findGmlConfiguration(AppSchemaConfiguration configuration)", "full_signature": "public static Configuration findGmlConfiguration(AppSchemaConfiguration configuration)", "class_method_signature": "EmfAppSchemaReader.findGmlConfiguration(AppSchemaConfiguration configuration)", "testcase": false, "constructor": false}], "file": "modules/extension/app-schema/app-schema/src/main/java/org/geotools/data/complex/config/EmfAppSchemaReader.java"}, "focal_method": {"identifier": "newInstance", "parameters": "()", "modifiers": "public static", "return": "EmfAppSchemaReader", "body": "public static EmfAppSchemaReader newInstance() {\n        return new EmfAppSchemaReader();\n    }", "signature": "EmfAppSchemaReader newInstance()", "full_signature": "public static EmfAppSchemaReader newInstance()", "class_method_signature": "EmfAppSchemaReader.newInstance()", "testcase": false, "constructor": false, "invocations": []}, "repository": {"repo_id": 40735368, "url": "https://github.com/FUNCATE/geotools-android", "language": "Java", "is_fork": false, "fork_count": 2, "stargazer_count": 8, "size": 63952, "license": "licensed"}}