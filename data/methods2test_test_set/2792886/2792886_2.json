{"test_class": {"identifier": "ProtectedTest", "superclass": "", "interfaces": "", "fields": [], "file": "jsonddl/src/test/java/org/jsonddl/impl/ProtectedTest.java"}, "test_case": {"identifier": "testList", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testList() {\n    assertNull(Protected.object((List<?>) null));\n    assertSame(Collections.emptyList(), Protected.object(Collections.emptyList()));\n    assertEquals(Collections.singletonList(\"a\").getClass(), Protected.object(Arrays.asList(\"b\"))\n        .getClass());\n    List<String> input = Arrays.asList(\"a\", \"b\", \"c\");\n    List<String> output = Protected.object(input);\n    assertEquals(input, output);\n    assertNotSame(input, output);\n\n    // Protecting a protected list should be idempotent\n    assertSame(output, Protected.object(output));\n\n    // But re-protecting the input list shouldn't be\n    assertNotSame(output, Protected.object(input));\n\n    // Mutations to input list aren't visible\n    input.set(0, \"b\");\n    assertEquals(\"a\", output.get(0));\n\n    // Changes to the protected list fail\n    try {\n      output.set(0, \"b\");\n      fail();\n    } catch (UnsupportedOperationException expected) {}\n  }", "signature": "void testList()", "full_signature": "@Test public void testList()", "class_method_signature": "ProtectedTest.testList()", "testcase": true, "constructor": false, "invocations": ["assertNull", "object", "assertSame", "emptyList", "object", "emptyList", "assertEquals", "getClass", "singletonList", "getClass", "object", "asList", "asList", "object", "assertEquals", "assertNotSame", "assertSame", "object", "assertNotSame", "object", "set", "assertEquals", "get", "set", "fail"]}, "focal_class": {"identifier": "Protected", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Class<?> unmodifiableListClass;", "modifier": "private static final", "type": "Class<?>", "declarator": "unmodifiableListClass", "var_name": "unmodifiableListClass"}, {"original_string": "private static final Class<?> unmodifiableMapClass;", "modifier": "private static final", "type": "Class<?>", "declarator": "unmodifiableMapClass", "var_name": "unmodifiableMapClass"}], "methods": [{"identifier": "object", "parameters": "(J value)", "modifiers": "public static", "return": "J", "signature": "J object(J value)", "full_signature": "public static J object(J value)", "class_method_signature": "Protected.object(J value)", "testcase": false, "constructor": false}, {"identifier": "object", "parameters": "(List<T> values)", "modifiers": "public static", "return": "List<T>", "signature": "List<T> object(List<T> values)", "full_signature": "public static List<T> object(List<T> values)", "class_method_signature": "Protected.object(List<T> values)", "testcase": false, "constructor": false}, {"identifier": "object", "parameters": "(Map<K, V> values)", "modifiers": "public static", "return": "Map<K, V>", "signature": "Map<K, V> object(Map<K, V> values)", "full_signature": "public static Map<K, V> object(Map<K, V> values)", "class_method_signature": "Protected.object(Map<K, V> values)", "testcase": false, "constructor": false}, {"identifier": "object", "parameters": "(T value)", "modifiers": "@SuppressWarnings(\"unchecked\") public static", "return": "T", "signature": "T object(T value)", "full_signature": "@SuppressWarnings(\"unchecked\") public static T object(T value)", "class_method_signature": "Protected.object(T value)", "testcase": false, "constructor": false}], "file": "jsonddl/src/main/java/org/jsonddl/impl/Protected.java"}, "focal_method": {"identifier": "object", "parameters": "(J value)", "modifiers": "public static", "return": "J", "body": "public static <J extends JsonDdlObject<J>> J object(J value) {\n    if (value instanceof JsonDdlObject.Builder) {\n      return ((JsonDdlObject.Builder<J>) value).build();\n    }\n    return value;\n  }", "signature": "J object(J value)", "full_signature": "public static J object(J value)", "class_method_signature": "Protected.object(J value)", "testcase": false, "constructor": false, "invocations": ["build"]}, "repository": {"repo_id": 2792886, "url": "https://github.com/bobvawter/JsonDdl", "language": "Java", "is_fork": false, "fork_count": 1, "stargazer_count": 5, "size": 1306, "license": "licensed"}}