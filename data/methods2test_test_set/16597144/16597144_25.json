{"test_class": {"identifier": "RecognitoTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final float DEFAULT_SAMPLE_RATE = 22050f;", "modifier": "private static final", "type": "float", "declarator": "DEFAULT_SAMPLE_RATE = 22050f", "var_name": "DEFAULT_SAMPLE_RATE"}, {"original_string": "private final Random random = new Random();", "modifier": "private final", "type": "Random", "declarator": "random = new Random()", "var_name": "random"}, {"original_string": "private Recognito<String> recognito;", "modifier": "private", "type": "Recognito<String>", "declarator": "recognito", "var_name": "recognito"}, {"original_string": "private double[] voiceSample;", "modifier": "private", "type": "double[]", "declarator": "voiceSample", "var_name": "voiceSample"}], "file": "recognito/src/test/java/com/bitsinharmony/recognito/RecognitoTest.java"}, "test_case": {"identifier": "createVoicePrintReturnsVoicePrint", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void createVoicePrintReturnsVoicePrint() {\n        VoicePrint voicePrint = recognito.createVoicePrint(\"duh\", voiceSample);\n        assertNotNull(voicePrint);\n    }", "signature": "void createVoicePrintReturnsVoicePrint()", "full_signature": "@Test public void createVoicePrintReturnsVoicePrint()", "class_method_signature": "RecognitoTest.createVoicePrintReturnsVoicePrint()", "testcase": true, "constructor": false, "invocations": ["createVoicePrint", "assertNotNull"]}, "focal_class": {"identifier": "Recognito", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final float MIN_SAMPLE_RATE = 8000.0f;", "modifier": "private static final", "type": "float", "declarator": "MIN_SAMPLE_RATE = 8000.0f", "var_name": "MIN_SAMPLE_RATE"}, {"original_string": "private final ConcurrentHashMap<K, VoicePrint> store = new ConcurrentHashMap<K, VoicePrint>();", "modifier": "private final", "type": "ConcurrentHashMap<K, VoicePrint>", "declarator": "store = new ConcurrentHashMap<K, VoicePrint>()", "var_name": "store"}, {"original_string": "private final float sampleRate;", "modifier": "private final", "type": "float", "declarator": "sampleRate", "var_name": "sampleRate"}, {"original_string": "private final AtomicBoolean universalModelWasSetByUser = new AtomicBoolean();", "modifier": "private final", "type": "AtomicBoolean", "declarator": "universalModelWasSetByUser = new AtomicBoolean()", "var_name": "universalModelWasSetByUser"}, {"original_string": "private VoicePrint universalModel;", "modifier": "private", "type": "VoicePrint", "declarator": "universalModel", "var_name": "universalModel"}], "methods": [{"identifier": "Recognito", "parameters": "(float sampleRate)", "modifiers": "public", "return": "", "signature": " Recognito(float sampleRate)", "full_signature": "public  Recognito(float sampleRate)", "class_method_signature": "Recognito.Recognito(float sampleRate)", "testcase": false, "constructor": true}, {"identifier": "Recognito", "parameters": "(float sampleRate, Map<K, VoicePrint> voicePrintsByUserKey)", "modifiers": "public", "return": "", "signature": " Recognito(float sampleRate, Map<K, VoicePrint> voicePrintsByUserKey)", "full_signature": "public  Recognito(float sampleRate, Map<K, VoicePrint> voicePrintsByUserKey)", "class_method_signature": "Recognito.Recognito(float sampleRate, Map<K, VoicePrint> voicePrintsByUserKey)", "testcase": false, "constructor": true}, {"identifier": "getUniversalModel", "parameters": "()", "modifiers": "public", "return": "VoicePrint", "signature": "VoicePrint getUniversalModel()", "full_signature": "public VoicePrint getUniversalModel()", "class_method_signature": "Recognito.getUniversalModel()", "testcase": false, "constructor": false}, {"identifier": "setUniversalModel", "parameters": "(VoicePrint universalModel)", "modifiers": "public synchronized", "return": "void", "signature": "void setUniversalModel(VoicePrint universalModel)", "full_signature": "public synchronized void setUniversalModel(VoicePrint universalModel)", "class_method_signature": "Recognito.setUniversalModel(VoicePrint universalModel)", "testcase": false, "constructor": false}, {"identifier": "createVoicePrint", "parameters": "(K userKey, double[] voiceSample)", "modifiers": "public synchronized", "return": "VoicePrint", "signature": "VoicePrint createVoicePrint(K userKey, double[] voiceSample)", "full_signature": "public synchronized VoicePrint createVoicePrint(K userKey, double[] voiceSample)", "class_method_signature": "Recognito.createVoicePrint(K userKey, double[] voiceSample)", "testcase": false, "constructor": false}, {"identifier": "createVoicePrint", "parameters": "(K userKey, File voiceSampleFile)", "modifiers": "public", "return": "VoicePrint", "signature": "VoicePrint createVoicePrint(K userKey, File voiceSampleFile)", "full_signature": "public VoicePrint createVoicePrint(K userKey, File voiceSampleFile)", "class_method_signature": "Recognito.createVoicePrint(K userKey, File voiceSampleFile)", "testcase": false, "constructor": false}, {"identifier": "convertFileToDoubleArray", "parameters": "(File voiceSampleFile)", "modifiers": "private", "return": "double[]", "signature": "double[] convertFileToDoubleArray(File voiceSampleFile)", "full_signature": "private double[] convertFileToDoubleArray(File voiceSampleFile)", "class_method_signature": "Recognito.convertFileToDoubleArray(File voiceSampleFile)", "testcase": false, "constructor": false}, {"identifier": "mergeVoiceSample", "parameters": "(K userKey, double[] voiceSample)", "modifiers": "public", "return": "VoicePrint", "signature": "VoicePrint mergeVoiceSample(K userKey, double[] voiceSample)", "full_signature": "public VoicePrint mergeVoiceSample(K userKey, double[] voiceSample)", "class_method_signature": "Recognito.mergeVoiceSample(K userKey, double[] voiceSample)", "testcase": false, "constructor": false}, {"identifier": "mergeVoiceSample", "parameters": "(K userKey, File voiceSampleFile)", "modifiers": "public", "return": "VoicePrint", "signature": "VoicePrint mergeVoiceSample(K userKey, File voiceSampleFile)", "full_signature": "public VoicePrint mergeVoiceSample(K userKey, File voiceSampleFile)", "class_method_signature": "Recognito.mergeVoiceSample(K userKey, File voiceSampleFile)", "testcase": false, "constructor": false}, {"identifier": "identify", "parameters": "(double[] voiceSample)", "modifiers": "public", "return": "List<MatchResult<K>>", "signature": "List<MatchResult<K>> identify(double[] voiceSample)", "full_signature": "public List<MatchResult<K>> identify(double[] voiceSample)", "class_method_signature": "Recognito.identify(double[] voiceSample)", "testcase": false, "constructor": false}, {"identifier": "identify", "parameters": "(File voiceSampleFile)", "modifiers": "public", "return": "List<MatchResult<K>>", "signature": "List<MatchResult<K>> identify(File voiceSampleFile)", "full_signature": "public List<MatchResult<K>> identify(File voiceSampleFile)", "class_method_signature": "Recognito.identify(File voiceSampleFile)", "testcase": false, "constructor": false}, {"identifier": "extractFeatures", "parameters": "(double[] voiceSample, float sampleRate)", "modifiers": "private", "return": "double[]", "signature": "double[] extractFeatures(double[] voiceSample, float sampleRate)", "full_signature": "private double[] extractFeatures(double[] voiceSample, float sampleRate)", "class_method_signature": "Recognito.extractFeatures(double[] voiceSample, float sampleRate)", "testcase": false, "constructor": false}], "file": "recognito/src/main/java/com/bitsinharmony/recognito/Recognito.java"}, "focal_method": {"identifier": "createVoicePrint", "parameters": "(K userKey, double[] voiceSample)", "modifiers": "public synchronized", "return": "VoicePrint", "body": "public synchronized VoicePrint createVoicePrint(K userKey, double[] voiceSample) {\n        if(userKey == null) {\n            throw new NullPointerException(\"The userKey is null\");\n        }\n        if(store.containsKey(userKey)) {\n            throw new IllegalArgumentException(\"The userKey already exists: [\" + userKey + \"]\");\n        }\n        \n        double[] features = extractFeatures(voiceSample, sampleRate);\n        VoicePrint voicePrint = new VoicePrint(features);\n         \n        synchronized (this) {\n            if (!universalModelWasSetByUser.get()) {\n                if (universalModel == null) {\n                    universalModel = new VoicePrint(voicePrint);\n                } else {\n                    universalModel.merge(features);\n                }\n            }\n        }\n        store.put(userKey, voicePrint);\n        \n        return voicePrint;\n    }", "signature": "VoicePrint createVoicePrint(K userKey, double[] voiceSample)", "full_signature": "public synchronized VoicePrint createVoicePrint(K userKey, double[] voiceSample)", "class_method_signature": "Recognito.createVoicePrint(K userKey, double[] voiceSample)", "testcase": false, "constructor": false, "invocations": ["containsKey", "extractFeatures", "get", "merge", "put"]}, "repository": {"repo_id": 16597144, "url": "https://github.com/amaurycrickx/recognito", "language": "Java", "is_fork": false, "fork_count": 100, "stargazer_count": 173, "size": 76, "license": "licensed"}}