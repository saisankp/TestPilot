{"test_class": {"identifier": "PaginationHelperTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Rule\n    public ExpectedException expectedException = none();", "modifier": "@Rule\n    public", "type": "ExpectedException", "declarator": "expectedException = none()", "var_name": "expectedException"}], "file": "dhis-2/dhis-web/dhis-web-api/src/test/java/org/hisp/dhis/webapi/controller/dataitem/helper/PaginationHelperTest.java"}, "test_case": {"identifier": "testSliceWhenPageSizeIsZero", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testSliceWhenPageSizeIsZero()\n    {\n        // Given\n        final int pageSize = 0;\n        final int lastPage = 3;\n        final int totalOfItems = 13;\n\n        final WebOptions theWebOptions = mockWebOptions( pageSize, lastPage );\n        final List<BaseDimensionalItemObject> anyDimensionalItems = mockDimensionalItems( totalOfItems );\n\n        // Expect\n        expectedException.expect( IllegalStateException.class );\n        expectedException.expectMessage( \"Page size must be greater than zero.\" );\n\n        // When\n        slice( theWebOptions, anyDimensionalItems );\n    }", "signature": "void testSliceWhenPageSizeIsZero()", "full_signature": "@Test public void testSliceWhenPageSizeIsZero()", "class_method_signature": "PaginationHelperTest.testSliceWhenPageSizeIsZero()", "testcase": true, "constructor": false, "invocations": ["mockWebOptions", "mockDimensionalItems", "expect", "expectMessage", "slice"]}, "focal_class": {"identifier": "PaginationHelper", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "slice", "parameters": "( final WebOptions options,\n        List<BaseDimensionalItemObject> dimensionalItems )", "modifiers": "public static", "return": "List<BaseDimensionalItemObject>", "signature": "List<BaseDimensionalItemObject> slice( final WebOptions options,\n        List<BaseDimensionalItemObject> dimensionalItems )", "full_signature": "public static List<BaseDimensionalItemObject> slice( final WebOptions options,\n        List<BaseDimensionalItemObject> dimensionalItems )", "class_method_signature": "PaginationHelper.slice( final WebOptions options,\n        List<BaseDimensionalItemObject> dimensionalItems )", "testcase": false, "constructor": false}], "file": "dhis-2/dhis-web/dhis-web-api/src/main/java/org/hisp/dhis/webapi/controller/dataitem/helper/PaginationHelper.java"}, "focal_method": {"identifier": "slice", "parameters": "( final WebOptions options,\n        List<BaseDimensionalItemObject> dimensionalItems )", "modifiers": "public static", "return": "List<BaseDimensionalItemObject>", "body": "public static List<BaseDimensionalItemObject> slice( final WebOptions options,\n        List<BaseDimensionalItemObject> dimensionalItems )\n    {\n        state( options.getPage() > 0, \"Current page must be greater than zero.\" );\n        state( options.getPageSize() > 0, \"Page size must be greater than zero.\" );\n\n        if ( options.hasPaging() && isNotEmpty( dimensionalItems ) )\n        {\n            // Pagination input\n            final int currentPage = options.getPage();\n            final int totalOfElements = dimensionalItems.size();\n            final int maxElementsPerPage = options.getPageSize();\n\n            final Pager pager = new Pager( currentPage, totalOfElements, maxElementsPerPage );\n\n            final int currentElementIndex = pager.getOffset();\n            final boolean hasMorePages = (totalOfElements - currentElementIndex) > pager.getPageSize();\n\n            if ( hasMorePages )\n            {\n                final int nextElementsWindow = pager.getPageSize() * pager.getPage();\n                dimensionalItems = dimensionalItems.subList( currentElementIndex, nextElementsWindow );\n            }\n            else\n            {\n                // This is the last page\n                dimensionalItems = dimensionalItems.subList( pager.getOffset(), totalOfElements );\n            }\n        }\n\n        return dimensionalItems;\n    }", "signature": "List<BaseDimensionalItemObject> slice( final WebOptions options,\n        List<BaseDimensionalItemObject> dimensionalItems )", "full_signature": "public static List<BaseDimensionalItemObject> slice( final WebOptions options,\n        List<BaseDimensionalItemObject> dimensionalItems )", "class_method_signature": "PaginationHelper.slice( final WebOptions options,\n        List<BaseDimensionalItemObject> dimensionalItems )", "testcase": false, "constructor": false, "invocations": ["state", "getPage", "state", "getPageSize", "hasPaging", "isNotEmpty", "getPage", "size", "getPageSize", "getOffset", "getPageSize", "getPageSize", "getPage", "subList", "subList", "getOffset"]}, "repository": {"repo_id": 66940520, "url": "https://github.com/dhis2/dhis2-core", "stars": 151, "created": "8/30/2016 12:57:05 PM +00:00", "updates": "2020-01-24T18:06:36+00:00", "fork": "False", "license": "licensed"}}