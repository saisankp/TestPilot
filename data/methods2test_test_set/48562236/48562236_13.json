{"test_class": {"identifier": "GroupByParserTest", "superclass": "extends TestBase", "interfaces": "", "fields": [], "file": "web/api/src/test/java/leap/web/api/query/GroupByParserTest.java"}, "test_case": {"identifier": "testMulti", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testMulti() {\n        GroupBy groupBy = GroupByParser.parse(\"id,name\");\n        assertEquals(2, groupBy.items().length);\n        assertGroupBy(groupBy.items()[0], \"id\", null, null);\n        assertGroupBy(groupBy.items()[1], \"name\", null, null);\n        groupBy = GroupByParser.parse(\"id i,name n\");\n        assertGroupBy(groupBy.items()[0], \"id\", \"i\", null);\n        assertGroupBy(groupBy.items()[1], \"name\", \"n\", null);\n        groupBy = GroupByParser.parse(\"t.id i,t.name n\");\n        assertGroupBy(groupBy.items()[0], \"id\", \"i\", \"t\");\n        assertGroupBy(groupBy.items()[1], \"name\", \"n\", \"t\");\n    }", "signature": "void testMulti()", "full_signature": "@Test public void testMulti()", "class_method_signature": "GroupByParserTest.testMulti()", "testcase": true, "constructor": false, "invocations": ["parse", "assertEquals", "items", "assertGroupBy", "items", "assertGroupBy", "items", "parse", "assertGroupBy", "items", "assertGroupBy", "items", "parse", "assertGroupBy", "items", "assertGroupBy", "items"]}, "focal_class": {"identifier": "GroupByParser", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "parse", "parameters": "(String expr)", "modifiers": "public static", "return": "GroupBy", "signature": "GroupBy parse(String expr)", "full_signature": "public static GroupBy parse(String expr)", "class_method_signature": "GroupByParser.parse(String expr)", "testcase": false, "constructor": false}], "file": "web/api/src/main/java/leap/web/api/query/GroupByParser.java"}, "focal_method": {"identifier": "parse", "parameters": "(String expr)", "modifiers": "public static", "return": "GroupBy", "body": "public static GroupBy parse(String expr) {\n        List<GroupBy.Item> items = new ArrayList<>();\n        GroupBy.Item item;\n        String[] names = Strings.split(expr, ',');\n        for (String name : names) {\n            String[] parts = Strings.splitWhitespaces(name);\n            if (parts.length <= 2) {\n                String[] join = Strings.split(parts[0], \".\");\n                if (join.length == 1) {\n                    if (parts.length == 1) {\n                        item = new GroupBy.Item(parts[0]);\n                    } else {\n                        item = new GroupBy.Item(parts[0], parts[1]);\n                    }\n                } else if (join.length == 2) {\n                    if (parts.length == 1) {\n                        item = new GroupBy.Item(join[1], null, join[0]);\n                    } else {\n                        item = new GroupBy.Item(join[1], parts[1], join[0]);\n                    }\n                } else {\n                    throw new BadRequestException(\"Invalid join item '\" + parts[0] + \"'\");\n                }\n            } else {\n                throw new BadRequestException(\"Invalid select item '\" + name + \"'\");\n            }\n            items.add(item);\n        }\n        return new GroupBy(items.toArray(new GroupBy.Item[items.size()]));\n    }", "signature": "GroupBy parse(String expr)", "full_signature": "public static GroupBy parse(String expr)", "class_method_signature": "GroupByParser.parse(String expr)", "testcase": false, "constructor": false, "invocations": ["split", "splitWhitespaces", "split", "add", "toArray", "size"]}, "repository": {"repo_id": 48562236, "url": "https://github.com/leapframework/framework", "stars": 42, "created": "12/25/2015 1:54:52 AM +00:00", "updates": "2020-01-20T03:04:15+00:00", "fork": "False", "license": "licensed"}}