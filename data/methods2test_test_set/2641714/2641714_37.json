{"test_class": {"identifier": "VelocityStyleTilesToolTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private VelocityStyleTilesTool tool;", "modifier": "private", "type": "VelocityStyleTilesTool", "declarator": "tool", "var_name": "tool"}, {"original_string": "private HttpServletRequest request;", "modifier": "private", "type": "HttpServletRequest", "declarator": "request", "var_name": "request"}, {"original_string": "private HttpServletResponse response;", "modifier": "private", "type": "HttpServletResponse", "declarator": "response", "var_name": "response"}, {"original_string": "private ServletContext servletContext;", "modifier": "private", "type": "ServletContext", "declarator": "servletContext", "var_name": "servletContext"}, {"original_string": "private Context velocityContext;", "modifier": "private", "type": "Context", "declarator": "velocityContext", "var_name": "velocityContext"}], "file": "tiles-velocity/src/test/java/org/apache/tiles/velocity/template/VelocityStyleTilesToolTest.java"}, "test_case": {"identifier": "testRenderAttributeContext", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testRenderAttributeContext() throws IOException {\n        TilesContainer container = createMock(TilesContainer.class);\n        InternalContextAdapter internalContextAdapter = createMock(InternalContextAdapter.class);\n        ApplicationContext applicationContext = createMock(ApplicationContext.class);\n        StringWriter writer = new StringWriter();\n\n        Map<String, Object> requestScope = new HashMap<String, Object>();\n        Map<String, Object> applicationScope = new HashMap<String, Object>();\n        requestScope.put(TilesAccess.CURRENT_CONTAINER_ATTRIBUTE_NAME, container);\n\n        expect(request.getAttribute(TilesAccess.CURRENT_CONTAINER_ATTRIBUTE_NAME)).andReturn(container);\n        expect(applicationContext.getApplicationScope()).andReturn(applicationScope).anyTimes();\n        expect(servletContext.getAttribute(ApplicationAccess\n                .APPLICATION_CONTEXT_ATTRIBUTE)).andReturn(applicationContext)\n                .anyTimes();\n        container.renderContext(isA(VelocityRequest.class));\n\n        replay(velocityContext, request, response, servletContext, container,\n                internalContextAdapter, applicationContext);\n        initializeTool();\n        Renderable renderable = tool.renderAttributeContext();\n        renderable.render(internalContextAdapter, writer);\n        verify(velocityContext, request, response, servletContext, container,\n                internalContextAdapter, applicationContext);\n    }", "signature": "void testRenderAttributeContext()", "full_signature": "@Test public void testRenderAttributeContext()", "class_method_signature": "VelocityStyleTilesToolTest.testRenderAttributeContext()", "testcase": true, "constructor": false, "invocations": ["createMock", "createMock", "createMock", "put", "andReturn", "expect", "getAttribute", "anyTimes", "andReturn", "expect", "getApplicationScope", "anyTimes", "andReturn", "expect", "getAttribute", "renderContext", "isA", "replay", "initializeTool", "renderAttributeContext", "render", "verify"]}, "focal_class": {"identifier": "VelocityStyleTilesTool", "superclass": "extends ContextHolder", "interfaces": "", "fields": [], "methods": [{"identifier": "get", "parameters": "(String key)", "modifiers": "public", "return": "Attribute", "signature": "Attribute get(String key)", "full_signature": "public Attribute get(String key)", "class_method_signature": "VelocityStyleTilesTool.get(String key)", "testcase": false, "constructor": false}, {"identifier": "createAttribute", "parameters": "()", "modifiers": "public", "return": "Attribute", "signature": "Attribute createAttribute()", "full_signature": "public Attribute createAttribute()", "class_method_signature": "VelocityStyleTilesTool.createAttribute()", "testcase": false, "constructor": false}, {"identifier": "clone", "parameters": "(Attribute attribute)", "modifiers": "public", "return": "Attribute", "signature": "Attribute clone(Attribute attribute)", "full_signature": "public Attribute clone(Attribute attribute)", "class_method_signature": "VelocityStyleTilesTool.clone(Attribute attribute)", "testcase": false, "constructor": false}, {"identifier": "createTemplateAttribute", "parameters": "(String template)", "modifiers": "public", "return": "Attribute", "signature": "Attribute createTemplateAttribute(String template)", "full_signature": "public Attribute createTemplateAttribute(String template)", "class_method_signature": "VelocityStyleTilesTool.createTemplateAttribute(String template)", "testcase": false, "constructor": false}, {"identifier": "render", "parameters": "(final Attribute attribute)", "modifiers": "public", "return": "Renderable", "signature": "Renderable render(final Attribute attribute)", "full_signature": "public Renderable render(final Attribute attribute)", "class_method_signature": "VelocityStyleTilesTool.render(final Attribute attribute)", "testcase": false, "constructor": false}, {"identifier": "renderDefinition", "parameters": "(final String definitionName)", "modifiers": "public", "return": "Renderable", "signature": "Renderable renderDefinition(final String definitionName)", "full_signature": "public Renderable renderDefinition(final String definitionName)", "class_method_signature": "VelocityStyleTilesTool.renderDefinition(final String definitionName)", "testcase": false, "constructor": false}, {"identifier": "renderAttributeContext", "parameters": "()", "modifiers": "public", "return": "Renderable", "signature": "Renderable renderAttributeContext()", "full_signature": "public Renderable renderAttributeContext()", "class_method_signature": "VelocityStyleTilesTool.renderAttributeContext()", "testcase": false, "constructor": false}, {"identifier": "startAttributeContext", "parameters": "()", "modifiers": "public", "return": "AttributeContext", "signature": "AttributeContext startAttributeContext()", "full_signature": "public AttributeContext startAttributeContext()", "class_method_signature": "VelocityStyleTilesTool.startAttributeContext()", "testcase": false, "constructor": false}, {"identifier": "endAttributeContext", "parameters": "()", "modifiers": "public", "return": "VelocityStyleTilesTool", "signature": "VelocityStyleTilesTool endAttributeContext()", "full_signature": "public VelocityStyleTilesTool endAttributeContext()", "class_method_signature": "VelocityStyleTilesTool.endAttributeContext()", "testcase": false, "constructor": false}, {"identifier": "getAttributeContext", "parameters": "()", "modifiers": "public", "return": "AttributeContext", "signature": "AttributeContext getAttributeContext()", "full_signature": "public AttributeContext getAttributeContext()", "class_method_signature": "VelocityStyleTilesTool.getAttributeContext()", "testcase": false, "constructor": false}, {"identifier": "setCurrentContainer", "parameters": "(String containerKey)", "modifiers": "public", "return": "VelocityStyleTilesTool", "signature": "VelocityStyleTilesTool setCurrentContainer(String containerKey)", "full_signature": "public VelocityStyleTilesTool setCurrentContainer(String containerKey)", "class_method_signature": "VelocityStyleTilesTool.setCurrentContainer(String containerKey)", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String toString()", "full_signature": "@Override public String toString()", "class_method_signature": "VelocityStyleTilesTool.toString()", "testcase": false, "constructor": false}, {"identifier": "createVelocityRequest", "parameters": "(\n            ServletContext servletContext, Writer writer)", "modifiers": "protected", "return": "Request", "signature": "Request createVelocityRequest(\n            ServletContext servletContext, Writer writer)", "full_signature": "protected Request createVelocityRequest(\n            ServletContext servletContext, Writer writer)", "class_method_signature": "VelocityStyleTilesTool.createVelocityRequest(\n            ServletContext servletContext, Writer writer)", "testcase": false, "constructor": false}], "file": "tiles-velocity/src/main/java/org/apache/tiles/velocity/template/VelocityStyleTilesTool.java"}, "focal_method": {"identifier": "renderAttributeContext", "parameters": "()", "modifiers": "public", "return": "Renderable", "body": "public Renderable renderAttributeContext() {\n        return new AbstractDefaultToStringRenderable(getVelocityContext(),\n                null, getResponse(), getRequest()) {\n\n            public boolean render(InternalContextAdapter context, Writer writer) {\n                Request velocityRequest = createVelocityRequest(\n                        getServletContext(), writer);\n                TilesContainer container = TilesAccess\n                        .getCurrentContainer(velocityRequest);\n                container.renderContext(velocityRequest);\n                return true;\n            }\n\n        };\n    }", "signature": "Renderable renderAttributeContext()", "full_signature": "public Renderable renderAttributeContext()", "class_method_signature": "VelocityStyleTilesTool.renderAttributeContext()", "testcase": false, "constructor": false, "invocations": ["getVelocityContext", "getResponse", "getRequest", "createVelocityRequest", "getServletContext", "getCurrentContainer", "renderContext"]}, "repository": {"repo_id": 2641714, "url": "https://github.com/apache/tiles", "language": "Java", "is_fork": false, "fork_count": 65, "stargazer_count": 99, "size": 12554, "license": "licensed"}}