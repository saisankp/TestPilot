{"test_class": {"identifier": "JellyHyperlinkProviderTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private Document doc;", "modifier": "private", "type": "Document", "declarator": "doc", "var_name": "doc"}], "file": "stapler-plugin/src/test/java/org/kohsuke/stapler/netbeans/plugin/JellyHyperlinkProviderTest.java"}, "test_case": {"identifier": "correspondingJellyResource", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test public void correspondingJellyResource() throws Exception {\n        assertEquals(null, JellyHyperlinkProvider.correspondingJellyResource(doc, offsetOf(\"iv align\")));\n        assertEquals(\"/lib/form/entry.jelly\", JellyHyperlinkProvider.correspondingJellyResource(doc, offsetOf(\"ntry title=\\\"${\")));\n        assertEquals(\"/lib/form/entry.jelly\", JellyHyperlinkProvider.correspondingJellyResource(doc, offsetOf(\"ntry title=\\\"\\\"\")));\n        assertEquals(\"/lib/form/repeatableDeleteButton.jelly\", JellyHyperlinkProvider.correspondingJellyResource(doc, offsetOf(\"peatableD\")));\n        assertEquals(\"/lib/form/textbox.jelly\", JellyHyperlinkProvider.correspondingJellyResource(doc, offsetOf(\"f:textbox\")));\n        assertEquals(\"/lib/hudson/project/config-trigger.jelly\", JellyHyperlinkProvider.correspondingJellyResource(doc, offsetOf(\"trigger\")));\n        assertEquals(null, JellyHyperlinkProvider.correspondingJellyResource(doc, offsetOf(\"j:if\")));\n    }", "signature": "void correspondingJellyResource()", "full_signature": "@Test public void correspondingJellyResource()", "class_method_signature": "JellyHyperlinkProviderTest.correspondingJellyResource()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "correspondingJellyResource", "offsetOf", "assertEquals", "correspondingJellyResource", "offsetOf", "assertEquals", "correspondingJellyResource", "offsetOf", "assertEquals", "correspondingJellyResource", "offsetOf", "assertEquals", "correspondingJellyResource", "offsetOf", "assertEquals", "correspondingJellyResource", "offsetOf", "assertEquals", "correspondingJellyResource", "offsetOf"]}, "focal_class": {"identifier": "JellyHyperlinkProvider", "superclass": "", "interfaces": "implements HyperlinkProviderExt", "fields": [{"original_string": "private static final Pattern OPEN_TAG = Pattern.compile(\"<((\\\\w+):([\\\\w-]+))[> \\n/]\");", "modifier": "private static final", "type": "Pattern", "declarator": "OPEN_TAG = Pattern.compile(\"<((\\\\w+):([\\\\w-]+))[> \\n/]\")", "var_name": "OPEN_TAG"}], "methods": [{"identifier": "getSupportedHyperlinkTypes", "parameters": "()", "modifiers": "@Override public", "return": "Set<HyperlinkType>", "signature": "Set<HyperlinkType> getSupportedHyperlinkTypes()", "full_signature": "@Override public Set<HyperlinkType> getSupportedHyperlinkTypes()", "class_method_signature": "JellyHyperlinkProvider.getSupportedHyperlinkTypes()", "testcase": false, "constructor": false}, {"identifier": "isHyperlinkPoint", "parameters": "(Document doc, int offset, HyperlinkType type)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean isHyperlinkPoint(Document doc, int offset, HyperlinkType type)", "full_signature": "@Override public boolean isHyperlinkPoint(Document doc, int offset, HyperlinkType type)", "class_method_signature": "JellyHyperlinkProvider.isHyperlinkPoint(Document doc, int offset, HyperlinkType type)", "testcase": false, "constructor": false}, {"identifier": "getHyperlinkSpan", "parameters": "(Document doc, int offset, HyperlinkType type)", "modifiers": "@Override public", "return": "int[]", "signature": "int[] getHyperlinkSpan(Document doc, int offset, HyperlinkType type)", "full_signature": "@Override public int[] getHyperlinkSpan(Document doc, int offset, HyperlinkType type)", "class_method_signature": "JellyHyperlinkProvider.getHyperlinkSpan(Document doc, int offset, HyperlinkType type)", "testcase": false, "constructor": false}, {"identifier": "performClickAction", "parameters": "(Document doc, int offset, HyperlinkType type)", "modifiers": "@Override public", "return": "void", "signature": "void performClickAction(Document doc, int offset, HyperlinkType type)", "full_signature": "@Override public void performClickAction(Document doc, int offset, HyperlinkType type)", "class_method_signature": "JellyHyperlinkProvider.performClickAction(Document doc, int offset, HyperlinkType type)", "testcase": false, "constructor": false}, {"identifier": "getTooltipText", "parameters": "(Document doc, int offset, HyperlinkType type)", "modifiers": "@Override public", "return": "String", "signature": "String getTooltipText(Document doc, int offset, HyperlinkType type)", "full_signature": "@Override public String getTooltipText(Document doc, int offset, HyperlinkType type)", "class_method_signature": "JellyHyperlinkProvider.getTooltipText(Document doc, int offset, HyperlinkType type)", "testcase": false, "constructor": false}, {"identifier": "hyperlinkSpan", "parameters": "(Document doc, int offset)", "modifiers": "static", "return": "int[]", "signature": "int[] hyperlinkSpan(Document doc, int offset)", "full_signature": "static int[] hyperlinkSpan(Document doc, int offset)", "class_method_signature": "JellyHyperlinkProvider.hyperlinkSpan(Document doc, int offset)", "testcase": false, "constructor": false}, {"identifier": "correspondingJellyResource", "parameters": "(Document doc, int offset)", "modifiers": "static @CheckForNull", "return": "String", "signature": "String correspondingJellyResource(Document doc, int offset)", "full_signature": "static @CheckForNull String correspondingJellyResource(Document doc, int offset)", "class_method_signature": "JellyHyperlinkProvider.correspondingJellyResource(Document doc, int offset)", "testcase": false, "constructor": false}], "file": "stapler-plugin/src/main/java/org/kohsuke/stapler/netbeans/plugin/JellyHyperlinkProvider.java"}, "focal_method": {"identifier": "correspondingJellyResource", "parameters": "(Document doc, int offset)", "modifiers": "static @CheckForNull", "return": "String", "body": "static @CheckForNull String correspondingJellyResource(Document doc, int offset) {\n        int[] span = hyperlinkSpan(doc, offset);\n        if (span[1] == 0) {\n            return null;\n        }\n        try {\n            String fqn = doc.getText(span[0], span[1] - span[0]);\n            int colon = fqn.indexOf(':');\n            assert colon != -1 : fqn;\n            String prefix = fqn.substring(0, colon);\n            String element = fqn.substring(colon + 1);\n            String all = doc.getText(0, doc.getLength());\n            String decl = \"xmlns:\" + prefix + \"=\\\"/\";\n            int declStart = all.indexOf(decl);\n            if (declStart == -1) {\n                return null;\n            }\n            int path = declStart + decl.length() - /* '/' */1;\n            int end = all.indexOf('\"', path);\n            if (end == -1) {\n                return null;\n            }\n            return all.substring(path, end) + \"/\" + element + \".jelly\";\n        } catch (BadLocationException x) {\n            Exceptions.printStackTrace(x);\n            return null;\n        }\n    }", "signature": "String correspondingJellyResource(Document doc, int offset)", "full_signature": "static @CheckForNull String correspondingJellyResource(Document doc, int offset)", "class_method_signature": "JellyHyperlinkProvider.correspondingJellyResource(Document doc, int offset)", "testcase": false, "constructor": false, "invocations": ["hyperlinkSpan", "getText", "indexOf", "substring", "substring", "getText", "getLength", "indexOf", "length", "indexOf", "substring", "printStackTrace"]}, "repository": {"repo_id": 5104614, "url": "https://github.com/stapler/netbeans-stapler-plugin", "stars": 13, "created": "7/19/2012 2:41:47 AM +00:00", "updates": "2018-12-24T23:01:47+00:00", "fork": "False", "license": "licensed"}}