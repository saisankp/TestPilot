{"test_class": {"identifier": "GeoUtilsTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final double DELTA = 0.01;", "modifier": "private static final", "type": "double", "declarator": "DELTA = 0.01", "var_name": "DELTA"}], "file": "dhis-2/dhis-support/dhis-support-system/src/test/java/org/hisp/dhis/system/util/GeoUtilsTest.java"}, "test_case": {"identifier": "testGetBoxShape", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetBoxShape()\n    {\n        // Equator\n\n        double[] box = getBoxShape( 0, 0, 110574.27 );\n\n        Assert.assertEquals( 1d, box[0], DELTA );\n        Assert.assertEquals( 1d, box[1], DELTA );\n        Assert.assertEquals( -1d, box[2], DELTA );\n        Assert.assertEquals( -1d, box[3], DELTA );\n\n        // Punta Arenas\n\n        box = getBoxShape( -71, -53, 67137.20 );\n\n        Assert.assertEquals( -52.4, box[0], DELTA );\n        Assert.assertEquals( -70d, box[1], DELTA );\n        Assert.assertEquals( -53.6, box[2], DELTA );\n        Assert.assertEquals( -72d, box[3], DELTA );\n    }", "signature": "void testGetBoxShape()", "full_signature": "@Test public void testGetBoxShape()", "class_method_signature": "GeoUtilsTest.testGetBoxShape()", "testcase": true, "constructor": false, "invocations": ["getBoxShape", "assertEquals", "assertEquals", "assertEquals", "assertEquals", "getBoxShape", "assertEquals", "assertEquals", "assertEquals", "assertEquals"]}, "focal_class": {"identifier": "GeoUtils", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Pattern SVG_TEXT_PATTERN = Pattern.compile( \"text=\\\"(.*?)\\\"\", Pattern.DOTALL );", "modifier": "private static final", "type": "Pattern", "declarator": "SVG_TEXT_PATTERN = Pattern.compile( \"text=\\\"(.*?)\\\"\", Pattern.DOTALL )", "var_name": "SVG_TEXT_PATTERN"}, {"original_string": "private static final String SVG_FONT_REGEX = \"(\\\\s+)font=\\\"(.*?)\\\"\";", "modifier": "private static final", "type": "String", "declarator": "SVG_FONT_REGEX = \"(\\\\s+)font=\\\"(.*?)\\\"\"", "var_name": "SVG_FONT_REGEX"}, {"original_string": "public static final int SRID = 4326;", "modifier": "public static final", "type": "int", "declarator": "SRID = 4326", "var_name": "SRID"}], "methods": [{"identifier": "getBoxShape", "parameters": "( double longitude, double latitude, double distance )", "modifiers": "public static", "return": "double[]", "signature": "double[] getBoxShape( double longitude, double latitude, double distance )", "full_signature": "public static double[] getBoxShape( double longitude, double latitude, double distance )", "class_method_signature": "GeoUtils.getBoxShape( double longitude, double latitude, double distance )", "testcase": false, "constructor": false}, {"identifier": "getDistanceBetweenTwoPoints", "parameters": "( Point2D from, Point2D to)", "modifiers": "public static", "return": "double", "signature": "double getDistanceBetweenTwoPoints( Point2D from, Point2D to)", "full_signature": "public static double getDistanceBetweenTwoPoints( Point2D from, Point2D to)", "class_method_signature": "GeoUtils.getDistanceBetweenTwoPoints( Point2D from, Point2D to)", "testcase": false, "constructor": false}, {"identifier": "getGeoJsonPoint", "parameters": "( double longitude, double latitude )", "modifiers": "public static", "return": "Point", "signature": "Point getGeoJsonPoint( double longitude, double latitude )", "full_signature": "public static Point getGeoJsonPoint( double longitude, double latitude )", "class_method_signature": "GeoUtils.getGeoJsonPoint( double longitude, double latitude )", "testcase": false, "constructor": false}, {"identifier": "checkGeoJsonPointValid", "parameters": "( double longitude, double latitude )", "modifiers": "public static", "return": "boolean", "signature": "boolean checkGeoJsonPointValid( double longitude, double latitude )", "full_signature": "public static boolean checkGeoJsonPointValid( double longitude, double latitude )", "class_method_signature": "GeoUtils.checkGeoJsonPointValid( double longitude, double latitude )", "testcase": false, "constructor": false}, {"identifier": "checkPointWithMultiPolygon", "parameters": "( double longitude, double latitude,\n        Geometry geometry )", "modifiers": "public static", "return": "boolean", "signature": "boolean checkPointWithMultiPolygon( double longitude, double latitude,\n        Geometry geometry )", "full_signature": "public static boolean checkPointWithMultiPolygon( double longitude, double latitude,\n        Geometry geometry )", "class_method_signature": "GeoUtils.checkPointWithMultiPolygon( double longitude, double latitude,\n        Geometry geometry )", "testcase": false, "constructor": false}, {"identifier": "replaceUnsafeSvgText", "parameters": "(String svg )", "modifiers": "public static", "return": "String", "signature": "String replaceUnsafeSvgText(String svg )", "full_signature": "public static String replaceUnsafeSvgText(String svg )", "class_method_signature": "GeoUtils.replaceUnsafeSvgText(String svg )", "testcase": false, "constructor": false}, {"identifier": "replaceText", "parameters": "( String svg )", "modifiers": "private static", "return": "String", "signature": "String replaceText( String svg )", "full_signature": "private static String replaceText( String svg )", "class_method_signature": "GeoUtils.replaceText( String svg )", "testcase": false, "constructor": false}, {"identifier": "replaceInvalidPatterns", "parameters": "( String svg )", "modifiers": "private static", "return": "String", "signature": "String replaceInvalidPatterns( String svg )", "full_signature": "private static String replaceInvalidPatterns( String svg )", "class_method_signature": "GeoUtils.replaceInvalidPatterns( String svg )", "testcase": false, "constructor": false}, {"identifier": "getGeometryFromCoordinatesAndType", "parameters": "( FeatureType featureType, String coordinates )", "modifiers": "public static", "return": "Geometry", "signature": "Geometry getGeometryFromCoordinatesAndType( FeatureType featureType, String coordinates )", "full_signature": "public static Geometry getGeometryFromCoordinatesAndType( FeatureType featureType, String coordinates )", "class_method_signature": "GeoUtils.getGeometryFromCoordinatesAndType( FeatureType featureType, String coordinates )", "testcase": false, "constructor": false}, {"identifier": "getCoordinatesFromGeometry", "parameters": "( Geometry geometry )", "modifiers": "public static", "return": "String", "signature": "String getCoordinatesFromGeometry( Geometry geometry )", "full_signature": "public static String getCoordinatesFromGeometry( Geometry geometry )", "class_method_signature": "GeoUtils.getCoordinatesFromGeometry( Geometry geometry )", "testcase": false, "constructor": false}], "file": "dhis-2/dhis-support/dhis-support-system/src/main/java/org/hisp/dhis/system/util/GeoUtils.java"}, "focal_method": {"identifier": "getBoxShape", "parameters": "( double longitude, double latitude, double distance )", "modifiers": "public static", "return": "double[]", "body": "public static double[] getBoxShape( double longitude, double latitude, double distance )\n    {\n        double[] box = new double[4];\n\n        GeodeticCalculator calc = new GeodeticCalculator();\n        calc.setStartingGeographicPoint( longitude, latitude );\n\n        calc.setDirection( 0, distance );\n        Point2D north = calc.getDestinationGeographicPoint();\n\n        calc.setDirection( 90, distance );\n        Point2D east = calc.getDestinationGeographicPoint();\n\n        calc.setDirection( 180, distance );\n        Point2D south = calc.getDestinationGeographicPoint();\n\n        calc.setDirection( -90, distance );\n        Point2D west = calc.getDestinationGeographicPoint();\n\n        box[0] = north.getY();\n        box[1] = east.getX();\n        box[2] = south.getY();\n        box[3] = west.getX();\n\n        return box;\n    }", "signature": "double[] getBoxShape( double longitude, double latitude, double distance )", "full_signature": "public static double[] getBoxShape( double longitude, double latitude, double distance )", "class_method_signature": "GeoUtils.getBoxShape( double longitude, double latitude, double distance )", "testcase": false, "constructor": false, "invocations": ["setStartingGeographicPoint", "setDirection", "getDestinationGeographicPoint", "setDirection", "getDestinationGeographicPoint", "setDirection", "getDestinationGeographicPoint", "setDirection", "getDestinationGeographicPoint", "getY", "getX", "getY", "getX"]}, "repository": {"repo_id": 66940520, "url": "https://github.com/dhis2/dhis2-core", "stars": 151, "created": "8/30/2016 12:57:05 PM +00:00", "updates": "2020-01-24T18:06:36+00:00", "fork": "False", "license": "licensed"}}