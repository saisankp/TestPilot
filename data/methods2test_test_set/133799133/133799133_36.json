{"test_class": {"identifier": "ConfigHolderTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String JAVA_IO_TMPDIR = System.getProperty(\"java.io.tmpdir\") + \"/eumw-test-directory\";", "modifier": "private static final", "type": "String", "declarator": "JAVA_IO_TMPDIR = System.getProperty(\"java.io.tmpdir\") + \"/eumw-test-directory\"", "var_name": "JAVA_IO_TMPDIR"}, {"original_string": "private static String tempDirectory;", "modifier": "private static", "type": "String", "declarator": "tempDirectory", "var_name": "tempDirectory"}], "file": "eidas-middleware/src/test/java/de/governikus/eumw/eidasmiddleware/ConfigHolderTest.java"}, "test_case": {"identifier": "testServerUrl", "parameters": "()", "modifiers": "@Test", "return": "void", "body": "@Test\n  void testServerUrl()\n  {\n    Properties properties = new Properties();\n    String serverUrl = \"https://middleware\";\n    properties.setProperty(ConfigHolder.KEY_SERVER_URL, serverUrl);\n    ConfigHolder configHolder = new ConfigHolder(properties);\n    Assertions.assertEquals(serverUrl + ContextPaths.EIDAS_CONTEXT_PATH,\n                            configHolder.getServerURLWithContextPath());\n\n    serverUrl = \"https://middleware:8443\";\n    properties.setProperty(ConfigHolder.KEY_SERVER_URL, serverUrl);\n    configHolder = new ConfigHolder(properties);\n    Assertions.assertEquals(serverUrl + ContextPaths.EIDAS_CONTEXT_PATH,\n                            configHolder.getServerURLWithContextPath());\n\n    properties.setProperty(ConfigHolder.KEY_SERVER_URL, serverUrl + \"/\");\n    configHolder = new ConfigHolder(properties);\n    Assertions.assertEquals(serverUrl + ContextPaths.EIDAS_CONTEXT_PATH,\n                            configHolder.getServerURLWithContextPath());\n  }", "signature": "void testServerUrl()", "full_signature": "@Test void testServerUrl()", "class_method_signature": "ConfigHolderTest.testServerUrl()", "testcase": true, "constructor": false, "invocations": ["setProperty", "assertEquals", "getServerURLWithContextPath", "setProperty", "assertEquals", "getServerURLWithContextPath", "setProperty", "assertEquals", "getServerURLWithContextPath"]}, "focal_class": {"identifier": "ConfigHolder", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String CONFIG_FILE_NAME = \"eidasmiddleware.properties\";", "modifier": "private static final", "type": "String", "declarator": "CONFIG_FILE_NAME = \"eidasmiddleware.properties\"", "var_name": "CONFIG_FILE_NAME"}, {"original_string": "private static final String KEY_SERVICE_PROVIDER_CONFIG_FOLDER = \"SERVICE_PROVIDER_CONFIG_FOLDER\";", "modifier": "private static final", "type": "String", "declarator": "KEY_SERVICE_PROVIDER_CONFIG_FOLDER = \"SERVICE_PROVIDER_CONFIG_FOLDER\"", "var_name": "KEY_SERVICE_PROVIDER_CONFIG_FOLDER"}, {"original_string": "private static final String KEY_SERVICE_PROVIDER_METADATA_SIGNATURE_CERT = \"SERVICE_PROVIDER_METADATA_SIGNATURE_CERT\";", "modifier": "private static final", "type": "String", "declarator": "KEY_SERVICE_PROVIDER_METADATA_SIGNATURE_CERT = \"SERVICE_PROVIDER_METADATA_SIGNATURE_CERT\"", "var_name": "KEY_SERVICE_PROVIDER_METADATA_SIGNATURE_CERT"}, {"original_string": "private static final Object LOCKOBJECT = new Object();", "modifier": "private static final", "type": "Object", "declarator": "LOCKOBJECT = new Object()", "var_name": "LOCKOBJECT"}, {"original_string": "private static final String KEY_APP_DO_SIGN_METADATA = \"MIDDLEWARE_DO_SIGN_METADATA\";", "modifier": "private static final", "type": "String", "declarator": "KEY_APP_DO_SIGN_METADATA = \"MIDDLEWARE_DO_SIGN_METADATA\"", "var_name": "KEY_APP_DO_SIGN_METADATA"}, {"original_string": "private static final String KEY_APP_SIGN_KEY = \"MIDDLEWARE_SIGN_KEY\";", "modifier": "private static final", "type": "String", "declarator": "KEY_APP_SIGN_KEY = \"MIDDLEWARE_SIGN_KEY\"", "var_name": "KEY_APP_SIGN_KEY"}, {"original_string": "private static final String KEY_APP_SIGN_PIN = \"MIDDLEWARE_SIGN_PIN\";", "modifier": "private static final", "type": "String", "declarator": "KEY_APP_SIGN_PIN = \"MIDDLEWARE_SIGN_PIN\"", "var_name": "KEY_APP_SIGN_PIN"}, {"original_string": "private static final String KEY_APP_SIGN_ALIAS = \"MIDDLEWARE_SIGN_ALIAS\";", "modifier": "private static final", "type": "String", "declarator": "KEY_APP_SIGN_ALIAS = \"MIDDLEWARE_SIGN_ALIAS\"", "var_name": "KEY_APP_SIGN_ALIAS"}, {"original_string": "private static final String KEY_APP_CRYPT_KEY = \"MIDDLEWARE_CRYPT_KEY\";", "modifier": "private static final", "type": "String", "declarator": "KEY_APP_CRYPT_KEY = \"MIDDLEWARE_CRYPT_KEY\"", "var_name": "KEY_APP_CRYPT_KEY"}, {"original_string": "private static final String KEY_APP_CRYPT_PIN = \"MIDDLEWARE_CRYPT_PIN\";", "modifier": "private static final", "type": "String", "declarator": "KEY_APP_CRYPT_PIN = \"MIDDLEWARE_CRYPT_PIN\"", "var_name": "KEY_APP_CRYPT_PIN"}, {"original_string": "private static final String KEY_APP_CRYPT_ALIAS = \"MIDDLEWARE_CRYPT_ALIAS\";", "modifier": "private static final", "type": "String", "declarator": "KEY_APP_CRYPT_ALIAS = \"MIDDLEWARE_CRYPT_ALIAS\"", "var_name": "KEY_APP_CRYPT_ALIAS"}, {"original_string": "static final String KEY_CONTACT_PERSON_COMPANY = \"CONTACT_PERSON_COMPANY\";", "modifier": "static final", "type": "String", "declarator": "KEY_CONTACT_PERSON_COMPANY = \"CONTACT_PERSON_COMPANY\"", "var_name": "KEY_CONTACT_PERSON_COMPANY"}, {"original_string": "static final String KEY_CONTACT_PERSON_EMAIL = \"CONTACT_PERSON_EMAIL\";", "modifier": "static final", "type": "String", "declarator": "KEY_CONTACT_PERSON_EMAIL = \"CONTACT_PERSON_EMAIL\"", "var_name": "KEY_CONTACT_PERSON_EMAIL"}, {"original_string": "static final String KEY_CONTACT_PERSON_GIVENNAME = \"CONTACT_PERSON_GIVENNAME\";", "modifier": "static final", "type": "String", "declarator": "KEY_CONTACT_PERSON_GIVENNAME = \"CONTACT_PERSON_GIVENNAME\"", "var_name": "KEY_CONTACT_PERSON_GIVENNAME"}, {"original_string": "static final String KEY_CONTACT_PERSON_SURNAME = \"CONTACT_PERSON_SURNAME\";", "modifier": "static final", "type": "String", "declarator": "KEY_CONTACT_PERSON_SURNAME = \"CONTACT_PERSON_SURNAME\"", "var_name": "KEY_CONTACT_PERSON_SURNAME"}, {"original_string": "static final String KEY_CONTACT_PERSON_TEL = \"CONTACT_PERSON_TEL\";", "modifier": "static final", "type": "String", "declarator": "KEY_CONTACT_PERSON_TEL = \"CONTACT_PERSON_TEL\"", "var_name": "KEY_CONTACT_PERSON_TEL"}, {"original_string": "static final String KEY_METADATA_VALIDITY = \"METADATA_VALIDITY\";", "modifier": "static final", "type": "String", "declarator": "KEY_METADATA_VALIDITY = \"METADATA_VALIDITY\"", "var_name": "KEY_METADATA_VALIDITY"}, {"original_string": "static final String KEY_ENTITYID_INT = \"ENTITYID_INT\";", "modifier": "static final", "type": "String", "declarator": "KEY_ENTITYID_INT = \"ENTITYID_INT\"", "var_name": "KEY_ENTITYID_INT"}, {"original_string": "static final String KEY_SERVER_URL = \"SERVER_URL\";", "modifier": "static final", "type": "String", "declarator": "KEY_SERVER_URL = \"SERVER_URL\"", "var_name": "KEY_SERVER_URL"}, {"original_string": "static final String KEY_COUNTRYCODE = \"COUNTRYCODE\";", "modifier": "static final", "type": "String", "declarator": "KEY_COUNTRYCODE = \"COUNTRYCODE\"", "var_name": "KEY_COUNTRYCODE"}, {"original_string": "static final String KEY_ORGANIZATION_NAME = \"ORGANIZATION_NAME\";", "modifier": "static final", "type": "String", "declarator": "KEY_ORGANIZATION_NAME = \"ORGANIZATION_NAME\"", "var_name": "KEY_ORGANIZATION_NAME"}, {"original_string": "static final String KEY_ORGANIZATION_URL = \"ORGANIZATION_URL\";", "modifier": "static final", "type": "String", "declarator": "KEY_ORGANIZATION_URL = \"ORGANIZATION_URL\"", "var_name": "KEY_ORGANIZATION_URL"}, {"original_string": "static final String KEY_ORGANIZATION_LANG = \"ORGANIZATION_LANG\";", "modifier": "static final", "type": "String", "declarator": "KEY_ORGANIZATION_LANG = \"ORGANIZATION_LANG\"", "var_name": "KEY_ORGANIZATION_LANG"}, {"original_string": "static final String KEY_ORGANIZATION_DISPLAY_NAME = \"ORGANIZATION_DISPLAY_NAME\";", "modifier": "static final", "type": "String", "declarator": "KEY_ORGANIZATION_DISPLAY_NAME = \"ORGANIZATION_DISPLAY_NAME\"", "var_name": "KEY_ORGANIZATION_DISPLAY_NAME"}, {"original_string": "private static final String CAN_NOT_LOAD_SERVICE_DECRYPTION_CERT = \"Can not load Service DecryptionCert\";", "modifier": "private static final", "type": "String", "declarator": "CAN_NOT_LOAD_SERVICE_DECRYPTION_CERT = \"Can not load Service DecryptionCert\"", "var_name": "CAN_NOT_LOAD_SERVICE_DECRYPTION_CERT"}, {"original_string": "private static final String CAN_NOT_LOAD_SERVICE_DECRYPTION_KEY = \"Can not load Service DecryptionKey\";", "modifier": "private static final", "type": "String", "declarator": "CAN_NOT_LOAD_SERVICE_DECRYPTION_KEY = \"Can not load Service DecryptionKey\"", "var_name": "CAN_NOT_LOAD_SERVICE_DECRYPTION_KEY"}, {"original_string": "private Properties properties = null;", "modifier": "private", "type": "Properties", "declarator": "properties = null", "var_name": "properties"}, {"original_string": "private X509Certificate metadataSigner = null;", "modifier": "private", "type": "X509Certificate", "declarator": "metadataSigner = null", "var_name": "metadataSigner"}, {"original_string": "private X509KeyPair signKey = null;", "modifier": "private", "type": "X509KeyPair", "declarator": "signKey = null", "var_name": "signKey"}, {"original_string": "private X509KeyPair cryptKey = null;", "modifier": "private", "type": "X509KeyPair", "declarator": "cryptKey = null", "var_name": "cryptKey"}, {"original_string": "private EidasContactPerson contactPerson = null;", "modifier": "private", "type": "EidasContactPerson", "declarator": "contactPerson = null", "var_name": "contactPerson"}, {"original_string": "private String entityIdInt = null;", "modifier": "private", "type": "String", "declarator": "entityIdInt = null", "var_name": "entityIdInt"}, {"original_string": "private String serverURL;", "modifier": "private", "type": "String", "declarator": "serverURL", "var_name": "serverURL"}, {"original_string": "private String countryCode = null;", "modifier": "private", "type": "String", "declarator": "countryCode = null", "var_name": "countryCode"}, {"original_string": "private EidasOrganisation organization = null;", "modifier": "private", "type": "EidasOrganisation", "declarator": "organization = null", "var_name": "organization"}, {"original_string": "private String metadataValidity;", "modifier": "private", "type": "String", "declarator": "metadataValidity", "var_name": "metadataValidity"}], "methods": [{"identifier": "ConfigHolder", "parameters": "()", "modifiers": "public", "return": "", "signature": " ConfigHolder()", "full_signature": "public  ConfigHolder()", "class_method_signature": "ConfigHolder.ConfigHolder()", "testcase": false, "constructor": true}, {"identifier": "ConfigHolder", "parameters": "(Properties properties)", "modifiers": "public", "return": "", "signature": " ConfigHolder(Properties properties)", "full_signature": "public  ConfigHolder(Properties properties)", "class_method_signature": "ConfigHolder.ConfigHolder(Properties properties)", "testcase": false, "constructor": true}, {"identifier": "loadProperties", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void loadProperties()", "full_signature": "private void loadProperties()", "class_method_signature": "ConfigHolder.loadProperties()", "testcase": false, "constructor": false}, {"identifier": "getProviderConfigDir", "parameters": "()", "modifiers": "", "return": "File", "signature": "File getProviderConfigDir()", "full_signature": " File getProviderConfigDir()", "class_method_signature": "ConfigHolder.getProviderConfigDir()", "testcase": false, "constructor": false}, {"identifier": "getMetadataSignatureCert", "parameters": "()", "modifiers": "", "return": "X509Certificate", "signature": "X509Certificate getMetadataSignatureCert()", "full_signature": " X509Certificate getMetadataSignatureCert()", "class_method_signature": "ConfigHolder.getMetadataSignatureCert()", "testcase": false, "constructor": false}, {"identifier": "getSignatureKey", "parameters": "()", "modifiers": "public", "return": "PrivateKey", "signature": "PrivateKey getSignatureKey()", "full_signature": "public PrivateKey getSignatureKey()", "class_method_signature": "ConfigHolder.getSignatureKey()", "testcase": false, "constructor": false}, {"identifier": "getSignatureCert", "parameters": "()", "modifiers": "public", "return": "X509Certificate", "signature": "X509Certificate getSignatureCert()", "full_signature": "public X509Certificate getSignatureCert()", "class_method_signature": "ConfigHolder.getSignatureCert()", "testcase": false, "constructor": false}, {"identifier": "getDecryptionCert", "parameters": "()", "modifiers": "public", "return": "X509Certificate", "signature": "X509Certificate getDecryptionCert()", "full_signature": "public X509Certificate getDecryptionCert()", "class_method_signature": "ConfigHolder.getDecryptionCert()", "testcase": false, "constructor": false}, {"identifier": "getAppSignatureKeyPair", "parameters": "()", "modifiers": "public", "return": "X509KeyPair", "signature": "X509KeyPair getAppSignatureKeyPair()", "full_signature": "public X509KeyPair getAppSignatureKeyPair()", "class_method_signature": "ConfigHolder.getAppSignatureKeyPair()", "testcase": false, "constructor": false}, {"identifier": "getAppDecryptionKeyPair", "parameters": "()", "modifiers": "private", "return": "X509KeyPair", "signature": "X509KeyPair getAppDecryptionKeyPair()", "full_signature": "private X509KeyPair getAppDecryptionKeyPair()", "class_method_signature": "ConfigHolder.getAppDecryptionKeyPair()", "testcase": false, "constructor": false}, {"identifier": "getContactPerson", "parameters": "()", "modifiers": "public synchronized", "return": "EidasContactPerson", "signature": "EidasContactPerson getContactPerson()", "full_signature": "public synchronized EidasContactPerson getContactPerson()", "class_method_signature": "ConfigHolder.getContactPerson()", "testcase": false, "constructor": false}, {"identifier": "getEntityIDInt", "parameters": "()", "modifiers": "public synchronized", "return": "String", "signature": "String getEntityIDInt()", "full_signature": "public synchronized String getEntityIDInt()", "class_method_signature": "ConfigHolder.getEntityIDInt()", "testcase": false, "constructor": false}, {"identifier": "getServerURLWithContextPath", "parameters": "()", "modifiers": "public synchronized", "return": "String", "signature": "String getServerURLWithContextPath()", "full_signature": "public synchronized String getServerURLWithContextPath()", "class_method_signature": "ConfigHolder.getServerURLWithContextPath()", "testcase": false, "constructor": false}, {"identifier": "getCountryCode", "parameters": "()", "modifiers": "public synchronized", "return": "String", "signature": "String getCountryCode()", "full_signature": "public synchronized String getCountryCode()", "class_method_signature": "ConfigHolder.getCountryCode()", "testcase": false, "constructor": false}, {"identifier": "getOrganization", "parameters": "()", "modifiers": "public synchronized", "return": "EidasOrganisation", "signature": "EidasOrganisation getOrganization()", "full_signature": "public synchronized EidasOrganisation getOrganization()", "class_method_signature": "ConfigHolder.getOrganization()", "testcase": false, "constructor": false}, {"identifier": "getMetadataValidity", "parameters": "()", "modifiers": "public synchronized", "return": "String", "signature": "String getMetadataValidity()", "full_signature": "public synchronized String getMetadataValidity()", "class_method_signature": "ConfigHolder.getMetadataValidity()", "testcase": false, "constructor": false}, {"identifier": "isDoSignMetadata", "parameters": "()", "modifiers": "public synchronized", "return": "boolean", "signature": "boolean isDoSignMetadata()", "full_signature": "public synchronized boolean isDoSignMetadata()", "class_method_signature": "ConfigHolder.isDoSignMetadata()", "testcase": false, "constructor": false}], "file": "eidas-middleware/src/main/java/de/governikus/eumw/eidasmiddleware/ConfigHolder.java"}, "focal_method": {"identifier": "getServerURLWithContextPath", "parameters": "()", "modifiers": "public synchronized", "return": "String", "body": "public synchronized String getServerURLWithContextPath()\n  {\n    if (serverURL == null)\n    {\n      serverURL = properties.getProperty(KEY_SERVER_URL);\n    }\n    if (serverURL.endsWith(\"/\"))\n    {\n      serverURL = serverURL.substring(0, serverURL.length() - 1);\n    }\n    return serverURL + ContextPaths.EIDAS_CONTEXT_PATH;\n  }", "signature": "String getServerURLWithContextPath()", "full_signature": "public synchronized String getServerURLWithContextPath()", "class_method_signature": "ConfigHolder.getServerURLWithContextPath()", "testcase": false, "constructor": false, "invocations": ["getProperty", "endsWith", "substring", "length"]}, "repository": {"repo_id": 133799133, "url": "https://github.com/Governikus/eidas-middleware", "language": "Java", "is_fork": false, "fork_count": 11, "stargazer_count": 15, "size": 2286, "license": "licensed"}}