{"test_class": {"identifier": "SecondLevelCacheDecoratorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n    private TestInvocation invocation;", "modifier": "@Mock\n    private", "type": "TestInvocation", "declarator": "invocation", "var_name": "invocation"}, {"original_string": "@Mock\n    private FeatureResolver resolver;", "modifier": "@Mock\n    private", "type": "FeatureResolver", "declarator": "resolver", "var_name": "resolver"}, {"original_string": "@Mock\n    private ExecutionContext ctx;", "modifier": "@Mock\n    private", "type": "ExecutionContext", "declarator": "ctx", "var_name": "ctx"}, {"original_string": "@Mock\n    private EntityManagerFactory emf;", "modifier": "@Mock\n    private", "type": "EntityManagerFactory", "declarator": "emf", "var_name": "emf"}, {"original_string": "@Mock\n    private Cache cache;", "modifier": "@Mock\n    private", "type": "Cache", "declarator": "cache", "var_name": "cache"}], "file": "core/src/test/java/eu/drus/jpa/unit/decorator/jpa/SecondLevelCacheDecoratorTest.java"}, "test_case": {"identifier": "testEvictionOfSecondLevelCacheIsNotRunInBeforeTestPhaseIfNotConfiguredForIt", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testEvictionOfSecondLevelCacheIsNotRunInBeforeTestPhaseIfNotConfiguredForIt() throws Throwable {\n        // GIVEN\n        when(resolver.shouldEvictCacheBefore()).thenReturn(Boolean.FALSE);\n        final SecondLevelCacheDecorator fixture = new SecondLevelCacheDecorator();\n\n        // WHEN\n        fixture.beforeTest(invocation);\n\n        // THEN\n        verifyNoMoreInteractions(cache, emf);\n    }", "signature": "void testEvictionOfSecondLevelCacheIsNotRunInBeforeTestPhaseIfNotConfiguredForIt()", "full_signature": "@Test public void testEvictionOfSecondLevelCacheIsNotRunInBeforeTestPhaseIfNotConfiguredForIt()", "class_method_signature": "SecondLevelCacheDecoratorTest.testEvictionOfSecondLevelCacheIsNotRunInBeforeTestPhaseIfNotConfiguredForIt()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "shouldEvictCacheBefore", "beforeTest", "verifyNoMoreInteractions"]}, "focal_class": {"identifier": "SecondLevelCacheDecorator", "superclass": "", "interfaces": "implements TestMethodDecorator", "fields": [], "methods": [{"identifier": "getPriority", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int getPriority()", "full_signature": "@Override public int getPriority()", "class_method_signature": "SecondLevelCacheDecorator.getPriority()", "testcase": false, "constructor": false}, {"identifier": "evictCache", "parameters": "(final boolean doEvict, final EntityManagerFactory emf)", "modifiers": "private", "return": "void", "signature": "void evictCache(final boolean doEvict, final EntityManagerFactory emf)", "full_signature": "private void evictCache(final boolean doEvict, final EntityManagerFactory emf)", "class_method_signature": "SecondLevelCacheDecorator.evictCache(final boolean doEvict, final EntityManagerFactory emf)", "testcase": false, "constructor": false}, {"identifier": "beforeTest", "parameters": "(final TestInvocation invocation)", "modifiers": "@Override public", "return": "void", "signature": "void beforeTest(final TestInvocation invocation)", "full_signature": "@Override public void beforeTest(final TestInvocation invocation)", "class_method_signature": "SecondLevelCacheDecorator.beforeTest(final TestInvocation invocation)", "testcase": false, "constructor": false}, {"identifier": "afterTest", "parameters": "(final TestInvocation invocation)", "modifiers": "@Override public", "return": "void", "signature": "void afterTest(final TestInvocation invocation)", "full_signature": "@Override public void afterTest(final TestInvocation invocation)", "class_method_signature": "SecondLevelCacheDecorator.afterTest(final TestInvocation invocation)", "testcase": false, "constructor": false}, {"identifier": "isConfigurationSupported", "parameters": "(final ExecutionContext ctx)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean isConfigurationSupported(final ExecutionContext ctx)", "full_signature": "@Override public boolean isConfigurationSupported(final ExecutionContext ctx)", "class_method_signature": "SecondLevelCacheDecorator.isConfigurationSupported(final ExecutionContext ctx)", "testcase": false, "constructor": false}], "file": "core/src/main/java/eu/drus/jpa/unit/decorator/jpa/SecondLevelCacheDecorator.java"}, "focal_method": {"identifier": "beforeTest", "parameters": "(final TestInvocation invocation)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void beforeTest(final TestInvocation invocation) throws Exception {\n        final EntityManagerFactory emf = (EntityManagerFactory) invocation.getContext().getData(Constants.KEY_ENTITY_MANAGER_FACTORY);\n\n        evictCache(invocation.getFeatureResolver().shouldEvictCacheBefore(), emf);\n    }", "signature": "void beforeTest(final TestInvocation invocation)", "full_signature": "@Override public void beforeTest(final TestInvocation invocation)", "class_method_signature": "SecondLevelCacheDecorator.beforeTest(final TestInvocation invocation)", "testcase": false, "constructor": false, "invocations": ["getData", "getContext", "evictCache", "shouldEvictCacheBefore", "getFeatureResolver"]}, "repository": {"repo_id": 52435170, "url": "https://github.com/dadrus/jpa-unit", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 24, "size": 1190, "license": "licensed"}}