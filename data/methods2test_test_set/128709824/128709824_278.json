{"test_class": {"identifier": "FileUtilsTest", "superclass": "", "interfaces": "", "fields": [], "file": "core/common/src/test/java/com/alipay/sofa/rpc/common/utils/FileUtilsTest.java"}, "test_case": {"identifier": "cleanDirectory", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void cleanDirectory() throws Exception {\n        String filePath = System.getProperty(\"java.io.tmpdir\") + File.separator\n            + \"FileTest\" + 1;\n        FileUtils.string2File(new File(filePath, \"xx.tmp\"), \"helloworld!\");\n        Assert.assertTrue(new File(filePath, \"xx.tmp\").exists());\n\n        String ct = FileUtils.file2String(new File(filePath, \"xx.tmp\"));\n        Assert.assertTrue(ct.equals(\"helloworld!\"));\n\n        List<String> datas = FileUtils.readLines(new File(filePath, \"xx.tmp\"));\n        Assert.assertTrue(datas.size() == 1);\n\n        FileUtils.cleanDirectory(new File(filePath));\n        Assert.assertFalse(new File(filePath).exists());\n    }", "signature": "void cleanDirectory()", "full_signature": "@Test public void cleanDirectory()", "class_method_signature": "FileUtilsTest.cleanDirectory()", "testcase": true, "constructor": false, "invocations": ["getProperty", "string2File", "assertTrue", "exists", "file2String", "assertTrue", "equals", "readLines", "assertTrue", "size", "cleanDirectory", "assertFalse", "exists"]}, "focal_class": {"identifier": "FileUtils", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final String LINE_SEPARATOR = System.getProperty(\"line.separator\");", "modifier": "public static final", "type": "String", "declarator": "LINE_SEPARATOR = System.getProperty(\"line.separator\")", "var_name": "LINE_SEPARATOR"}], "methods": [{"identifier": "getBaseDirName", "parameters": "()", "modifiers": "public static", "return": "String", "signature": "String getBaseDirName()", "full_signature": "public static String getBaseDirName()", "class_method_signature": "FileUtils.getBaseDirName()", "testcase": false, "constructor": false}, {"identifier": "getUserHomeDir", "parameters": "(String base)", "modifiers": "public static", "return": "String", "signature": "String getUserHomeDir(String base)", "full_signature": "public static String getUserHomeDir(String base)", "class_method_signature": "FileUtils.getUserHomeDir(String base)", "testcase": false, "constructor": false}, {"identifier": "file2String", "parameters": "(File file)", "modifiers": "public static", "return": "String", "signature": "String file2String(File file)", "full_signature": "public static String file2String(File file)", "class_method_signature": "FileUtils.file2String(File file)", "testcase": false, "constructor": false}, {"identifier": "file2String", "parameters": "(Class clazz, String relativePath, String encoding)", "modifiers": "public static", "return": "String", "signature": "String file2String(Class clazz, String relativePath, String encoding)", "full_signature": "public static String file2String(Class clazz, String relativePath, String encoding)", "class_method_signature": "FileUtils.file2String(Class clazz, String relativePath, String encoding)", "testcase": false, "constructor": false}, {"identifier": "readLines", "parameters": "(File file)", "modifiers": "public static", "return": "List<String>", "signature": "List<String> readLines(File file)", "full_signature": "public static List<String> readLines(File file)", "class_method_signature": "FileUtils.readLines(File file)", "testcase": false, "constructor": false}, {"identifier": "string2File", "parameters": "(File file, String data)", "modifiers": "public static", "return": "boolean", "signature": "boolean string2File(File file, String data)", "full_signature": "public static boolean string2File(File file, String data)", "class_method_signature": "FileUtils.string2File(File file, String data)", "testcase": false, "constructor": false}, {"identifier": "cleanDirectory", "parameters": "(File dir)", "modifiers": "public static", "return": "boolean", "signature": "boolean cleanDirectory(File dir)", "full_signature": "public static boolean cleanDirectory(File dir)", "class_method_signature": "FileUtils.cleanDirectory(File dir)", "testcase": false, "constructor": false}], "file": "core/common/src/main/java/com/alipay/sofa/rpc/common/utils/FileUtils.java"}, "focal_method": {"identifier": "cleanDirectory", "parameters": "(File dir)", "modifiers": "public static", "return": "boolean", "body": "public static boolean cleanDirectory(File dir) {\n        if (dir.isDirectory()) {\n            String[] children = dir.list();\n            if (children != null) {\n                for (String aChildren : children) {\n                    boolean success = cleanDirectory(new File(dir, aChildren));\n                    if (!success) {\n                        return false;\n                    }\n                }\n            }\n        }\n        return dir.delete();\n    }", "signature": "boolean cleanDirectory(File dir)", "full_signature": "public static boolean cleanDirectory(File dir)", "class_method_signature": "FileUtils.cleanDirectory(File dir)", "testcase": false, "constructor": false, "invocations": ["isDirectory", "list", "cleanDirectory", "delete"]}, "repository": {"repo_id": 128709824, "url": "https://github.com/sofastack/sofa-rpc", "stars": 3001, "created": "4/9/2018 3:32:04 AM +00:00", "updates": "2020-01-22T02:08:51+00:00", "fork": "False", "license": "licensed"}}