{"test_class": {"identifier": "WeatherServiceTest", "superclass": "", "interfaces": "", "fields": [], "file": "aula17-spliterator/src/test/java/org/isel/mpd/weather/WeatherServiceTest.java"}, "test_case": {"identifier": "testDayWithMaxTemperatureInOporto", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testDayWithMaxTemperatureInOporto(){\n        WeatherService service = new WeatherService(new WeatherRestfullApi());\n        Stream<Location> locals = service.search(\"oporto\");\n        WeatherInfo[] oportoWeather = locals\n            .skip(1)\n            .findFirst()\n            .get()\n            .getPast30daysWeather()\n            .toArray(size -> new WeatherInfo[size]);\n\n        // <=> WeatherInfo maxTemp = max(oportoWeather, (w1, w2) -> w1.getTempC() - w2.getTempC());\n        WeatherInfo maxTemp = of(oportoWeather).max(comparing(WeatherInfo::getTempC)).get();\n\n        WeatherInfo maxDesc = of(oportoWeather).max(comparing(WeatherInfo::getDesc)).get();\n        assertEquals(18, maxDesc.getTempC());\n\n        WeatherInfo maxDescAndTemp = of(oportoWeather).max(\n            comparing(WeatherInfo::getDesc).thenComparing(WeatherInfo::getTempC)).get();\n        assertEquals(18, maxDescAndTemp.getTempC());\n\n        Comparator<WeatherInfo> cmp = comparing(WeatherInfo::getDesc)\n            .thenComparing(WeatherInfo::getTempC)\n            .thenComparing(WeatherInfo::getPrecipMM)\n            .thenComparing(WeatherInfo::getDate);\n    }", "signature": "void testDayWithMaxTemperatureInOporto()", "full_signature": "@Test public void testDayWithMaxTemperatureInOporto()", "class_method_signature": "WeatherServiceTest.testDayWithMaxTemperatureInOporto()", "testcase": true, "constructor": false, "invocations": ["search", "toArray", "getPast30daysWeather", "get", "findFirst", "skip", "get", "max", "of", "comparing", "get", "max", "of", "comparing", "assertEquals", "getTempC", "get", "max", "of", "thenComparing", "comparing", "assertEquals", "getTempC", "thenComparing", "thenComparing", "thenComparing", "comparing"]}, "focal_class": {"identifier": "WeatherService", "superclass": "", "interfaces": "", "fields": [{"original_string": "final WeatherApi api;", "modifier": "final", "type": "WeatherApi", "declarator": "api", "var_name": "api"}], "methods": [{"identifier": "WeatherService", "parameters": "(WeatherApi api)", "modifiers": "public", "return": "", "signature": " WeatherService(WeatherApi api)", "full_signature": "public  WeatherService(WeatherApi api)", "class_method_signature": "WeatherService.WeatherService(WeatherApi api)", "testcase": false, "constructor": true}, {"identifier": "WeatherService", "parameters": "()", "modifiers": "public", "return": "", "signature": " WeatherService()", "full_signature": "public  WeatherService()", "class_method_signature": "WeatherService.WeatherService()", "testcase": false, "constructor": true}, {"identifier": "search", "parameters": "(String query)", "modifiers": "public", "return": "Stream<Location>", "signature": "Stream<Location> search(String query)", "full_signature": "public Stream<Location> search(String query)", "class_method_signature": "WeatherService.search(String query)", "testcase": false, "constructor": false}, {"identifier": "toLocation", "parameters": "(LocationInfo l)", "modifiers": "private", "return": "Location", "signature": "Location toLocation(LocationInfo l)", "full_signature": "private Location toLocation(LocationInfo l)", "class_method_signature": "WeatherService.toLocation(LocationInfo l)", "testcase": false, "constructor": false}], "file": "aula17-spliterator/src/main/java/org/isel/mpd/weather/WeatherService.java"}, "focal_method": {"identifier": "search", "parameters": "(String query)", "modifiers": "public", "return": "Stream<Location>", "body": "public Stream<Location> search(String query) {\n        Stream<LocationInfo> locals = api.search(query);\n        return locals.map(this::toLocation);\n    }", "signature": "Stream<Location> search(String query)", "full_signature": "public Stream<Location> search(String query)", "class_method_signature": "WeatherService.search(String query)", "testcase": false, "constructor": false, "invocations": ["search", "map"]}, "repository": {"repo_id": 171326919, "url": "https://github.com/isel-leic-mpd/mpd-2019-i41n", "language": "Java", "is_fork": false, "fork_count": 2, "stargazer_count": 13, "size": 404, "license": "licensed"}}