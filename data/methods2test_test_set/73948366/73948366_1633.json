{"test_class": {"identifier": "ZMSNotificationTaskFactoryTest", "superclass": "", "interfaces": "", "fields": [], "file": "servers/zms/src/test/java/com/yahoo/athenz/zms/notification/ZMSNotificationTaskFactoryTest.java"}, "test_case": {"identifier": "testNotificationTasksOrdering", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testNotificationTasksOrdering() {\n        DBService dbsvc = Mockito.mock(DBService.class);\n        ZMSNotificationTaskFactory zmsNotificationTaskFactory = new ZMSNotificationTaskFactory(dbsvc, USER_DOMAIN_PREFIX);\n        List<NotificationTask> notificationTasks = zmsNotificationTaskFactory.getNotificationTasks();\n        assertEquals(5, notificationTasks.size());\n        assertEquals(notificationTasks.get(0).getDescription(), \"pending role membership approvals reminders\");\n        assertEquals(notificationTasks.get(1).getDescription(), \"pending group membership approvals reminders\");\n        assertEquals(notificationTasks.get(2).getDescription(), \"membership expiration reminders\");\n        assertEquals(notificationTasks.get(3).getDescription(), \"Periodic Review Reminder\");\n        assertEquals(notificationTasks.get(4).getDescription(), \"group membership expiration reminders\");\n    }", "signature": "void testNotificationTasksOrdering()", "full_signature": "@Test public void testNotificationTasksOrdering()", "class_method_signature": "ZMSNotificationTaskFactoryTest.testNotificationTasksOrdering()", "testcase": true, "constructor": false, "invocations": ["mock", "getNotificationTasks", "assertEquals", "size", "assertEquals", "getDescription", "get", "assertEquals", "getDescription", "get", "assertEquals", "getDescription", "get", "assertEquals", "getDescription", "get", "assertEquals", "getDescription", "get"]}, "focal_class": {"identifier": "ZMSNotificationTaskFactory", "superclass": "", "interfaces": "implements NotificationTaskFactory", "fields": [{"original_string": "private DBService dbService;", "modifier": "private", "type": "DBService", "declarator": "dbService", "var_name": "dbService"}, {"original_string": "private String userDomainPrefix;", "modifier": "private", "type": "String", "declarator": "userDomainPrefix", "var_name": "userDomainPrefix"}], "methods": [{"identifier": "ZMSNotificationTaskFactory", "parameters": "(DBService dbService, String userDomainPrefix)", "modifiers": "public", "return": "", "signature": " ZMSNotificationTaskFactory(DBService dbService, String userDomainPrefix)", "full_signature": "public  ZMSNotificationTaskFactory(DBService dbService, String userDomainPrefix)", "class_method_signature": "ZMSNotificationTaskFactory.ZMSNotificationTaskFactory(DBService dbService, String userDomainPrefix)", "testcase": false, "constructor": true}, {"identifier": "getNotificationTasks", "parameters": "()", "modifiers": "@Override public", "return": "List<NotificationTask>", "signature": "List<NotificationTask> getNotificationTasks()", "full_signature": "@Override public List<NotificationTask> getNotificationTasks()", "class_method_signature": "ZMSNotificationTaskFactory.getNotificationTasks()", "testcase": false, "constructor": false}], "file": "servers/zms/src/main/java/com/yahoo/athenz/zms/notification/ZMSNotificationTaskFactory.java"}, "focal_method": {"identifier": "getNotificationTasks", "parameters": "()", "modifiers": "@Override public", "return": "List<NotificationTask>", "body": "@Override\n    public List<NotificationTask> getNotificationTasks() {\n        List<NotificationTask> notificationTasks = new ArrayList<>();\n        int pendingRoleMemberLifespan = Integer.parseInt(System.getProperty(ZMSConsts.ZMS_PROP_PENDING_ROLE_MEMBER_LIFESPAN, ZMSConsts.ZMS_PENDING_ROLE_MEMBER_LIFESPAN_DEFAULT));\n        String monitorIdentity = System.getProperty(ZMSConsts.ZMS_PROP_MONITOR_IDENTITY, ZMSConsts.SYS_AUTH_MONITOR);\n        notificationTasks.add(new PendingRoleMembershipApprovalNotificationTask(dbService, pendingRoleMemberLifespan, monitorIdentity, userDomainPrefix));\n        notificationTasks.add(new PendingGroupMembershipApprovalNotificationTask(dbService, pendingRoleMemberLifespan, monitorIdentity, userDomainPrefix));\n        notificationTasks.add(new RoleMemberExpiryNotificationTask(dbService, userDomainPrefix));\n        notificationTasks.add(new RoleMemberReviewNotificationTask(dbService, userDomainPrefix));\n        notificationTasks.add(new GroupMemberExpiryNotificationTask(dbService, userDomainPrefix));\n        return notificationTasks;\n    }", "signature": "List<NotificationTask> getNotificationTasks()", "full_signature": "@Override public List<NotificationTask> getNotificationTasks()", "class_method_signature": "ZMSNotificationTaskFactory.getNotificationTasks()", "testcase": false, "constructor": false, "invocations": ["parseInt", "getProperty", "getProperty", "add", "add", "add", "add", "add"]}, "repository": {"repo_id": 73948366, "url": "https://github.com/yahoo/athenz", "stars": 394, "created": "11/16/2016 6:23:08 PM +00:00", "updates": "2020-01-27T15:36:13+00:00", "fork": "False", "license": "licensed"}}