{"test_class": {"identifier": "URLDownloaderTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final int CONTENT_LENGTH = 1024 * 1024 * 5;", "modifier": "private static final", "type": "int", "declarator": "CONTENT_LENGTH = 1024 * 1024 * 5", "var_name": "CONTENT_LENGTH"}, {"original_string": "private Uri mockUri;", "modifier": "private", "type": "Uri", "declarator": "mockUri", "var_name": "mockUri"}, {"original_string": "private MockWebServer mockWebServer;", "modifier": "private", "type": "MockWebServer", "declarator": "mockWebServer", "var_name": "mockWebServer"}, {"original_string": "private URLDownloader urlDownloader;", "modifier": "private", "type": "URLDownloader", "declarator": "urlDownloader", "var_name": "urlDownloader"}], "file": "library/src/test/java/com/coolerfall/download/URLDownloaderTest.java"}, "test_case": {"identifier": "testBadUrl", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test public void testBadUrl() {\n    try {\n      urlDownloader.start(Uri.parse(\"www.baidu.com\"), 0);\n    } catch (Exception e) {\n      if (e instanceof IllegalArgumentException) {\n        assertEquals(\"unexpected url: www.baidu.com\", e.getMessage());\n      }\n    }\n  }", "signature": "void testBadUrl()", "full_signature": "@Test public void testBadUrl()", "class_method_signature": "URLDownloaderTest.testBadUrl()", "testcase": true, "constructor": false, "invocations": ["start", "parse", "assertEquals", "getMessage"]}, "focal_class": {"identifier": "URLDownloader", "superclass": "", "interfaces": "implements Downloader", "fields": [{"original_string": "private static final String ACCPET_ENCODING = \"Accept-Encoding\";", "modifier": "private static final", "type": "String", "declarator": "ACCPET_ENCODING = \"Accept-Encoding\"", "var_name": "ACCPET_ENCODING"}, {"original_string": "private static final String TRANSFER_ENCODING = \"Transfer-Encoding\";", "modifier": "private static final", "type": "String", "declarator": "TRANSFER_ENCODING = \"Transfer-Encoding\"", "var_name": "TRANSFER_ENCODING"}, {"original_string": "private static final String CONTENT_LENGTH = \"Content-Length\";", "modifier": "private static final", "type": "String", "declarator": "CONTENT_LENGTH = \"Content-Length\"", "var_name": "CONTENT_LENGTH"}, {"original_string": "private HttpURLConnection httpURLConnection;", "modifier": "private", "type": "HttpURLConnection", "declarator": "httpURLConnection", "var_name": "httpURLConnection"}, {"original_string": "private final AtomicInteger redirectionCount = new AtomicInteger();", "modifier": "private final", "type": "AtomicInteger", "declarator": "redirectionCount = new AtomicInteger()", "var_name": "redirectionCount"}], "methods": [{"identifier": "URLDownloader", "parameters": "()", "modifiers": "private", "return": "", "signature": " URLDownloader()", "full_signature": "private  URLDownloader()", "class_method_signature": "URLDownloader.URLDownloader()", "testcase": false, "constructor": true}, {"identifier": "create", "parameters": "()", "modifiers": "public static", "return": "URLDownloader", "signature": "URLDownloader create()", "full_signature": "public static URLDownloader create()", "class_method_signature": "URLDownloader.create()", "testcase": false, "constructor": false}, {"identifier": "detectFilename", "parameters": "(Uri uri)", "modifiers": "@Override public", "return": "String", "signature": "String detectFilename(Uri uri)", "full_signature": "@Override public String detectFilename(Uri uri)", "class_method_signature": "URLDownloader.detectFilename(Uri uri)", "testcase": false, "constructor": false}, {"identifier": "start", "parameters": "(Uri uri, long breakpoint)", "modifiers": "@Override public", "return": "int", "signature": "int start(Uri uri, long breakpoint)", "full_signature": "@Override public int start(Uri uri, long breakpoint)", "class_method_signature": "URLDownloader.start(Uri uri, long breakpoint)", "testcase": false, "constructor": false}, {"identifier": "contentLength", "parameters": "()", "modifiers": "@Override public", "return": "long", "signature": "long contentLength()", "full_signature": "@Override public long contentLength()", "class_method_signature": "URLDownloader.contentLength()", "testcase": false, "constructor": false}, {"identifier": "byteStream", "parameters": "()", "modifiers": "@Override public", "return": "InputStream", "signature": "InputStream byteStream()", "full_signature": "@Override public InputStream byteStream()", "class_method_signature": "URLDownloader.byteStream()", "testcase": false, "constructor": false}, {"identifier": "close", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void close()", "full_signature": "@Override public void close()", "class_method_signature": "URLDownloader.close()", "testcase": false, "constructor": false}, {"identifier": "copy", "parameters": "()", "modifiers": "@Override public", "return": "Downloader", "signature": "Downloader copy()", "full_signature": "@Override public Downloader copy()", "class_method_signature": "URLDownloader.copy()", "testcase": false, "constructor": false}, {"identifier": "innerRequest", "parameters": "(Uri uri, long breakpoint)", "modifiers": "", "return": "HttpURLConnection", "signature": "HttpURLConnection innerRequest(Uri uri, long breakpoint)", "full_signature": " HttpURLConnection innerRequest(Uri uri, long breakpoint)", "class_method_signature": "URLDownloader.innerRequest(Uri uri, long breakpoint)", "testcase": false, "constructor": false}, {"identifier": "getContentLength", "parameters": "(HttpURLConnection conn)", "modifiers": "", "return": "int", "signature": "int getContentLength(HttpURLConnection conn)", "full_signature": " int getContentLength(HttpURLConnection conn)", "class_method_signature": "URLDownloader.getContentLength(HttpURLConnection conn)", "testcase": false, "constructor": false}], "file": "library/src/main/java/com/coolerfall/download/URLDownloader.java"}, "focal_method": {"identifier": "start", "parameters": "(Uri uri, long breakpoint)", "modifiers": "@Override public", "return": "int", "body": "@Override public int start(Uri uri, long breakpoint) throws IOException {\n    redirectionCount.set(MAX_REDIRECTION);\n    httpURLConnection = innerRequest(uri, breakpoint);\n    return httpURLConnection.getResponseCode();\n  }", "signature": "int start(Uri uri, long breakpoint)", "full_signature": "@Override public int start(Uri uri, long breakpoint)", "class_method_signature": "URLDownloader.start(Uri uri, long breakpoint)", "testcase": false, "constructor": false, "invocations": ["set", "innerRequest", "getResponseCode"]}, "repository": {"repo_id": 28896975, "url": "https://github.com/coolerfall/Android-HttpDownloadManager", "language": "Java", "is_fork": false, "fork_count": 41, "stargazer_count": 141, "size": 429, "license": "licensed"}}