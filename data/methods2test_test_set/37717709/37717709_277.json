{"test_class": {"identifier": "TestNodeHelper", "superclass": "", "interfaces": "", "fields": [], "file": "org.jvoicexml.xml/src/test/java/org/jvoicexml/xml/TestNodeHelper.java"}, "test_case": {"identifier": "testAddText", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testAddText() throws Exception {\n        final SsmlDocument document = new SsmlDocument();\n        final Speak speak = document.getSpeak();\n        speak.addText(\"1\");\n        speak.addText(\"  2 3  \\t \");\n        speak.addText(\"\\r\\n4 \");\n        speak.addText(\"5\");\n        speak.addText(\"6\");\n        Assert.assertEquals(\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\"\n                + \"<speak \"\n                + \"xmlns=\\\"http://www.w3.org/2001/10/synthesis\\\" \"\n                + \"xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\" \"\n                + \"version=\\\"1.0\\\" xml:lang=\\\"\"\n                + LanguageIdentifierConverter.toLanguageIdentifier(\n                        Locale.getDefault()) + \"\\\" \"\n                + \"xsi:schemaLocation=\\\"http://www.w3.org/2001/10/synthesis \"\n                + \"http://www.w3.org/TR/speech-synthesis/synthesis.xsd\\\">\"\n                + \"1 2 3 4 5 6</speak>\", document.toString());\n    }", "signature": "void testAddText()", "full_signature": "@Test public void testAddText()", "class_method_signature": "TestNodeHelper.testAddText()", "testcase": true, "constructor": false, "invocations": ["getSpeak", "addText", "addText", "addText", "addText", "addText", "assertEquals", "toLanguageIdentifier", "getDefault", "toString"]}, "focal_class": {"identifier": "NodeHelper", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "NodeHelper", "parameters": "()", "modifiers": "private", "return": "", "signature": " NodeHelper()", "full_signature": "private  NodeHelper()", "class_method_signature": "NodeHelper.NodeHelper()", "testcase": false, "constructor": true}, {"identifier": "addText", "parameters": "(final TextContainer container,\n            final String text)", "modifiers": "public static", "return": "Text", "signature": "Text addText(final TextContainer container,\n            final String text)", "full_signature": "public static Text addText(final TextContainer container,\n            final String text)", "class_method_signature": "NodeHelper.addText(final TextContainer container,\n            final String text)", "testcase": false, "constructor": false}], "file": "org.jvoicexml.xml/src/main/java/org/jvoicexml/xml/NodeHelper.java"}, "focal_method": {"identifier": "addText", "parameters": "(final TextContainer container,\n            final String text)", "modifiers": "public static", "return": "Text", "body": "public static Text addText(final TextContainer container,\n            final String text) {\n        if ((text == null) || text.isEmpty()) {\n            return null;\n        }\n        final String append = text.trim();\n        if (append.isEmpty()) {\n            return null;\n        }\n        final Text textNode;\n        final Node lastChild = container.getLastChild();\n        if (lastChild instanceof Text) {\n            textNode = (Text) lastChild;\n            final String value = textNode.getNodeValue().trim();\n            final StringBuilder str = new StringBuilder();\n            str.append(value);\n            final char first = append.charAt(0);\n            if ((first != '.') && (first != ',') && (first != '!')\n                    && (first != '?')) {\n                str.append(' ');\n            }\n            str.append(append);\n            textNode.setNodeValue(str.toString());\n        } else {\n            final Document document = container.getOwnerDocument();\n            final Node node = document.createTextNode(append);\n            final XmlNodeFactory<? extends XmlNode> factory =\n                container.getNodeFactory();\n            textNode = new Text(node, factory);\n            container.appendChild(textNode);\n        }\n        return textNode;\n    }", "signature": "Text addText(final TextContainer container,\n            final String text)", "full_signature": "public static Text addText(final TextContainer container,\n            final String text)", "class_method_signature": "NodeHelper.addText(final TextContainer container,\n            final String text)", "testcase": false, "constructor": false, "invocations": ["isEmpty", "trim", "isEmpty", "getLastChild", "trim", "getNodeValue", "append", "charAt", "append", "append", "setNodeValue", "toString", "getOwnerDocument", "createTextNode", "getNodeFactory", "appendChild"]}, "repository": {"repo_id": 37717709, "url": "https://github.com/JVoiceXML/JVoiceXML", "language": "Java", "is_fork": false, "fork_count": 32, "stargazer_count": 50, "size": 436089, "license": "licensed"}}