{"test_class": {"identifier": "GoodsBuyAnalystMessageListenerTest", "superclass": "extends BaseSpringJunitUtil", "interfaces": "", "fields": [{"original_string": "private Logger logger = Logger.getLogger(GoodsBuyAnalystMessageListenerTest.class);", "modifier": "private", "type": "Logger", "declarator": "logger = Logger.getLogger(GoodsBuyAnalystMessageListenerTest.class)", "var_name": "logger"}, {"original_string": "private UserGoodsOrderDetailVo userGoodsOrderDetailVo = null;", "modifier": "private", "type": "UserGoodsOrderDetailVo", "declarator": "userGoodsOrderDetailVo = null", "var_name": "userGoodsOrderDetailVo"}], "file": "xa-collector/src/test/java/com/xinnet/xa/collector/saletrack/jms/GoodsBuyAnalystMessageListenerTest.java"}, "test_case": {"identifier": "testOnMessage", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testOnMessage() {\n\t\t\n\t\tlogger.info(\"start\");\n\t\t\n\t\ttry {\n\t\t\tThread.sleep(1000*60*5);\n\t\t} catch (InterruptedException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t}", "signature": "void testOnMessage()", "full_signature": "@Test public void testOnMessage()", "class_method_signature": "GoodsBuyAnalystMessageListenerTest.testOnMessage()", "testcase": true, "constructor": false, "invocations": ["info", "sleep", "printStackTrace"]}, "focal_class": {"identifier": "GoodsBuyAnalystMessageListener", "superclass": "", "interfaces": "implements MessageListener", "fields": [{"original_string": "private Logger logger = Logger.getLogger(GoodsBuyAnalystMessageListener.class);", "modifier": "private", "type": "Logger", "declarator": "logger = Logger.getLogger(GoodsBuyAnalystMessageListener.class)", "var_name": "logger"}, {"original_string": "private final static String usergoodsorder_key = CollectorConstant.DATA_BLOCKINGQUEUE_USERGOODSORDER_KEY;", "modifier": "private final static", "type": "String", "declarator": "usergoodsorder_key = CollectorConstant.DATA_BLOCKINGQUEUE_USERGOODSORDER_KEY", "var_name": "usergoodsorder_key"}, {"original_string": "@Autowired\n\tprivate ManagerThreadGroupService managerThreadGroupService;", "modifier": "@Autowired\n\tprivate", "type": "ManagerThreadGroupService", "declarator": "managerThreadGroupService", "var_name": "managerThreadGroupService"}], "methods": [{"identifier": "onMessage", "parameters": "(Message message)", "modifiers": "@SuppressWarnings(\"unchecked\") @Override public", "return": "void", "signature": "void onMessage(Message message)", "full_signature": "@SuppressWarnings(\"unchecked\") @Override public void onMessage(Message message)", "class_method_signature": "GoodsBuyAnalystMessageListener.onMessage(Message message)", "testcase": false, "constructor": false}], "file": "xa-collector/src/main/java/com/xinnet/xa/collector/saletrack/jms/GoodsBuyAnalystMessageListener.java"}, "focal_method": {"identifier": "onMessage", "parameters": "(Message message)", "modifiers": "@SuppressWarnings(\"unchecked\") @Override public", "return": "void", "body": "@SuppressWarnings(\"unchecked\")\n\t@Override\n\tpublic void onMessage(Message message) {\n\t\tTextMessage textMessage = (TextMessage) message;\n\t\ttry {\n\t\t\tString result = textMessage.getText();\n\t\t\tlogger.info(\"result:\"+result);\n\t\t\tUserGoodsOrderDetailVo vo =  JSON.parseObject(result, UserGoodsOrderDetailVo.class);\n\t\t\t((PriorityBlockingQueue<UserGoodsOrderDetailVo>) CollectorConstant.DATA_MAP_BLOCKINGQUEUE.get(usergoodsorder_key)).put(vo);\n\t\t} catch (Exception e) {\n\t\t\tlogger.error(e.getMessage(), e);\n\t\t}\n\t}", "signature": "void onMessage(Message message)", "full_signature": "@SuppressWarnings(\"unchecked\") @Override public void onMessage(Message message)", "class_method_signature": "GoodsBuyAnalystMessageListener.onMessage(Message message)", "testcase": false, "constructor": false, "invocations": ["getText", "info", "parseObject", "put", "get", "error", "getMessage"]}, "repository": {"repo_id": 47752557, "url": "https://github.com/yanweiqi/xinnet-analysis", "language": "Java", "is_fork": false, "fork_count": 16, "stargazer_count": 13, "size": 187, "license": "licensed"}}