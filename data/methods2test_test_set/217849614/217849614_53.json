{"test_class": {"identifier": "BloomFilterHttpServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String testingFilterName = \"TestingFilter\";", "modifier": "private static final", "type": "String", "declarator": "testingFilterName = \"TestingFilter\"", "var_name": "testingFilterName"}, {"original_string": "private static final ObjectMapper mapper = new ObjectMapper();", "modifier": "private static final", "type": "ObjectMapper", "declarator": "mapper = new ObjectMapper()", "var_name": "mapper"}, {"original_string": "private static final GuavaBloomFilterFactory factory = new GuavaBloomFilterFactory();", "modifier": "private static final", "type": "GuavaBloomFilterFactory", "declarator": "factory = new GuavaBloomFilterFactory()", "var_name": "factory"}, {"original_string": "private BloomFilterManager<GuavaBloomFilter, ExpirableBloomFilterConfig> mockedManager;", "modifier": "private", "type": "BloomFilterManager<GuavaBloomFilter, ExpirableBloomFilterConfig>", "declarator": "mockedManager", "var_name": "mockedManager"}, {"original_string": "private BloomFilterHttpService service;", "modifier": "private", "type": "BloomFilterHttpService", "declarator": "service", "var_name": "service"}], "file": "filter-service-core/src/test/java/cn/leancloud/filter/service/BloomFilterHttpServiceTest.java"}, "test_case": {"identifier": "testCheckValueIsNull", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testCheckValueIsNull() {\n        final ObjectNode param = mapper.createObjectNode();\n        assertThatThrownBy(() -> service.check(testingFilterName, param))\n                .isInstanceOf(BadParameterException.class)\n                .hasMessageContaining(\"required parameter\");\n    }", "signature": "void testCheckValueIsNull()", "full_signature": "@Test public void testCheckValueIsNull()", "class_method_signature": "BloomFilterHttpServiceTest.testCheckValueIsNull()", "testcase": true, "constructor": false, "invocations": ["createObjectNode", "hasMessageContaining", "isInstanceOf", "assertThatThrownBy", "check"]}, "focal_class": {"identifier": "BloomFilterHttpService", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final ObjectMapper MAPPER = new ObjectMapper();", "modifier": "private static final", "type": "ObjectMapper", "declarator": "MAPPER = new ObjectMapper()", "var_name": "MAPPER"}, {"original_string": "private final BloomFilterManager<?, ? super ExpirableBloomFilterConfig> bloomFilterManager;", "modifier": "private final", "type": "BloomFilterManager<?, ? super ExpirableBloomFilterConfig>", "declarator": "bloomFilterManager", "var_name": "bloomFilterManager"}], "methods": [{"identifier": "BloomFilterHttpService", "parameters": "(BloomFilterManager<?, ? super ExpirableBloomFilterConfig> bloomFilterManager)", "modifiers": "public", "return": "", "signature": " BloomFilterHttpService(BloomFilterManager<?, ? super ExpirableBloomFilterConfig> bloomFilterManager)", "full_signature": "public  BloomFilterHttpService(BloomFilterManager<?, ? super ExpirableBloomFilterConfig> bloomFilterManager)", "class_method_signature": "BloomFilterHttpService.BloomFilterHttpService(BloomFilterManager<?, ? super ExpirableBloomFilterConfig> bloomFilterManager)", "testcase": false, "constructor": true}, {"identifier": "create", "parameters": "(@Param String name,\n                               @RequestObject JsonNode req)", "modifiers": "@Put(\"/{name}\") public", "return": "HttpResponse", "signature": "HttpResponse create(@Param String name,\n                               @RequestObject JsonNode req)", "full_signature": "@Put(\"/{name}\") public HttpResponse create(@Param String name,\n                               @RequestObject JsonNode req)", "class_method_signature": "BloomFilterHttpService.create(@Param String name,\n                               @RequestObject JsonNode req)", "testcase": false, "constructor": false}, {"identifier": "getFilterInfo", "parameters": "(@Param String name)", "modifiers": "@Get(\"/{name}\") public", "return": "JsonNode", "signature": "JsonNode getFilterInfo(@Param String name)", "full_signature": "@Get(\"/{name}\") public JsonNode getFilterInfo(@Param String name)", "class_method_signature": "BloomFilterHttpService.getFilterInfo(@Param String name)", "testcase": false, "constructor": false}, {"identifier": "list", "parameters": "()", "modifiers": "@Get(\"/list\") public", "return": "JsonNode", "signature": "JsonNode list()", "full_signature": "@Get(\"/list\") public JsonNode list()", "class_method_signature": "BloomFilterHttpService.list()", "testcase": false, "constructor": false}, {"identifier": "check", "parameters": "(@Param String name,\n                          @RequestObject JsonNode req)", "modifiers": "@Post(\"/{name}/check\") public", "return": "JsonNode", "signature": "JsonNode check(@Param String name,\n                          @RequestObject JsonNode req)", "full_signature": "@Post(\"/{name}/check\") public JsonNode check(@Param String name,\n                          @RequestObject JsonNode req)", "class_method_signature": "BloomFilterHttpService.check(@Param String name,\n                          @RequestObject JsonNode req)", "testcase": false, "constructor": false}, {"identifier": "multiCheck", "parameters": "(@Param String name,\n                               @RequestObject JsonNode req)", "modifiers": "@Post(\"/{name}/multi-check\") public", "return": "JsonNode", "signature": "JsonNode multiCheck(@Param String name,\n                               @RequestObject JsonNode req)", "full_signature": "@Post(\"/{name}/multi-check\") public JsonNode multiCheck(@Param String name,\n                               @RequestObject JsonNode req)", "class_method_signature": "BloomFilterHttpService.multiCheck(@Param String name,\n                               @RequestObject JsonNode req)", "testcase": false, "constructor": false}, {"identifier": "checkAndSet", "parameters": "(@Param String name,\n                                @RequestObject JsonNode req)", "modifiers": "@Post(\"/{name}/check-and-set\") public", "return": "JsonNode", "signature": "JsonNode checkAndSet(@Param String name,\n                                @RequestObject JsonNode req)", "full_signature": "@Post(\"/{name}/check-and-set\") public JsonNode checkAndSet(@Param String name,\n                                @RequestObject JsonNode req)", "class_method_signature": "BloomFilterHttpService.checkAndSet(@Param String name,\n                                @RequestObject JsonNode req)", "testcase": false, "constructor": false}, {"identifier": "multiCheckAndSet", "parameters": "(@Param String name,\n                                     @RequestObject JsonNode req)", "modifiers": "@Post(\"/{name}/multi-check-and-set\") public", "return": "JsonNode", "signature": "JsonNode multiCheckAndSet(@Param String name,\n                                     @RequestObject JsonNode req)", "full_signature": "@Post(\"/{name}/multi-check-and-set\") public JsonNode multiCheckAndSet(@Param String name,\n                                     @RequestObject JsonNode req)", "class_method_signature": "BloomFilterHttpService.multiCheckAndSet(@Param String name,\n                                     @RequestObject JsonNode req)", "testcase": false, "constructor": false}, {"identifier": "remove", "parameters": "(@Param String name)", "modifiers": "@Delete(\"/{name}\") public", "return": "HttpResponse", "signature": "HttpResponse remove(@Param String name)", "full_signature": "@Delete(\"/{name}\") public HttpResponse remove(@Param String name)", "class_method_signature": "BloomFilterHttpService.remove(@Param String name)", "testcase": false, "constructor": false}], "file": "filter-service-core/src/main/java/cn/leancloud/filter/service/BloomFilterHttpService.java"}, "focal_method": {"identifier": "check", "parameters": "(@Param String name,\n                          @RequestObject JsonNode req)", "modifiers": "@Post(\"/{name}/check\") public", "return": "JsonNode", "body": "@Post(\"/{name}/check\")\n    public JsonNode check(@Param String name,\n                          @RequestObject JsonNode req)\n            throws FilterNotFoundException {\n        final JsonNode testingValue = checkNotNull(\"value\", req.get(\"value\"));\n        checkParameter(\"value\", testingValue.isTextual(), \"expect string type\");\n\n        final BloomFilter filter = bloomFilterManager.ensureGetValidFilter(name);\n        final boolean contain = filter.mightContain(testingValue.textValue());\n        return BooleanNode.valueOf(contain);\n    }", "signature": "JsonNode check(@Param String name,\n                          @RequestObject JsonNode req)", "full_signature": "@Post(\"/{name}/check\") public JsonNode check(@Param String name,\n                          @RequestObject JsonNode req)", "class_method_signature": "BloomFilterHttpService.check(@Param String name,\n                          @RequestObject JsonNode req)", "testcase": false, "constructor": false, "invocations": ["checkNotNull", "get", "checkParameter", "isTextual", "ensureGetValidFilter", "mightContain", "textValue", "valueOf"]}, "repository": {"repo_id": 217849614, "url": "https://github.com/leancloud/filter-service", "language": "Java", "is_fork": false, "fork_count": 0, "stargazer_count": 14, "size": 2797, "license": "licensed"}}