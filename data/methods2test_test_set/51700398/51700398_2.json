{"test_class": {"identifier": "JmsConfigTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Autowired\n\tprivate JmsConfig jmsConfig;", "modifier": "@Autowired\n\tprivate", "type": "JmsConfig", "declarator": "jmsConfig", "var_name": "jmsConfig"}, {"original_string": "@MockBean\n\tprivate DefaultJmsListenerContainerFactory defaultJmsListenerContainerFactory;", "modifier": "@MockBean\n\tprivate", "type": "DefaultJmsListenerContainerFactory", "declarator": "defaultJmsListenerContainerFactory", "var_name": "defaultJmsListenerContainerFactory"}, {"original_string": "@Autowired\n\tprivate ObjectMapper mapper;", "modifier": "@Autowired\n\tprivate", "type": "ObjectMapper", "declarator": "mapper", "var_name": "mapper"}, {"original_string": "@MockBean\n\tprivate RatesStompHandler ratesStompHandler;", "modifier": "@MockBean\n\tprivate", "type": "RatesStompHandler", "declarator": "ratesStompHandler", "var_name": "ratesStompHandler"}], "file": "trading-webapp/src/test/java/fr/ymanvieu/trading/webapp/config/JmsConfigTest.java"}, "test_case": {"identifier": "testReceiveMessage", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testReceiveMessage() throws Exception {\n\t\t// GIVEN\n\t\tSymbol from = new Symbol(\"FROM\", \"from\", \"fcountry\", null);\n\t\tSymbol to = new Symbol(\"TO\", \"to\", \"tcountry\", null);\n\n\t\tRatesUpdatedEvent event = new RatesUpdatedEvent()\n\t\t\t\t.setRates(List.of(new Rate(from, to, new BigDecimal(\"25.5\"), parse(\"2017-09-23T19:11:01+02:00\"))));\n\n\t\t\n\t\t// WHEN\n\t\tjmsConfig.receiveMessage(event);\n\t\t\n\t\t// THEN\n\t\tverify(ratesStompHandler).send(any());\n\t}", "signature": "void testReceiveMessage()", "full_signature": "@Test public void testReceiveMessage()", "class_method_signature": "JmsConfigTest.testReceiveMessage()", "testcase": true, "constructor": false, "invocations": ["setRates", "of", "parse", "receiveMessage", "send", "verify", "any"]}, "focal_class": {"identifier": "JmsConfig", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Autowired\n\tprivate ApplicationEventPublisher bus;", "modifier": "@Autowired\n\tprivate", "type": "ApplicationEventPublisher", "declarator": "bus", "var_name": "bus"}], "methods": [{"identifier": "jacksonJmsMessageConverter", "parameters": "(ObjectMapper mapper)", "modifiers": "@Bean // Serialize message content to json using TextMessage public", "return": "MessageConverter", "signature": "MessageConverter jacksonJmsMessageConverter(ObjectMapper mapper)", "full_signature": "@Bean // Serialize message content to json using TextMessage public MessageConverter jacksonJmsMessageConverter(ObjectMapper mapper)", "class_method_signature": "JmsConfig.jacksonJmsMessageConverter(ObjectMapper mapper)", "testcase": false, "constructor": false}, {"identifier": "myFactory", "parameters": "(DefaultJmsListenerContainerFactory factory)", "modifiers": "@Bean public", "return": "JmsListenerContainerFactory<?>", "signature": "JmsListenerContainerFactory<?> myFactory(DefaultJmsListenerContainerFactory factory)", "full_signature": "@Bean public JmsListenerContainerFactory<?> myFactory(DefaultJmsListenerContainerFactory factory)", "class_method_signature": "JmsConfig.myFactory(DefaultJmsListenerContainerFactory factory)", "testcase": false, "constructor": false}, {"identifier": "receiveMessage", "parameters": "(RatesUpdatedEvent event)", "modifiers": "@JmsListener(destination = \"trading.rate.latest?consumer.retroactive=true\") public", "return": "void", "signature": "void receiveMessage(RatesUpdatedEvent event)", "full_signature": "@JmsListener(destination = \"trading.rate.latest?consumer.retroactive=true\") public void receiveMessage(RatesUpdatedEvent event)", "class_method_signature": "JmsConfig.receiveMessage(RatesUpdatedEvent event)", "testcase": false, "constructor": false}], "file": "trading-webapp/src/main/java/fr/ymanvieu/trading/webapp/config/JmsConfig.java"}, "focal_method": {"identifier": "receiveMessage", "parameters": "(RatesUpdatedEvent event)", "modifiers": "@JmsListener(destination = \"trading.rate.latest?consumer.retroactive=true\") public", "return": "void", "body": "@JmsListener(destination = \"trading.rate.latest?consumer.retroactive=true\")\n\tpublic void receiveMessage(RatesUpdatedEvent event) {\n\t\tlog.debug(\"Received: {}\", event);\n\t\t\n\t\tbus.publishEvent(event);\n\t}", "signature": "void receiveMessage(RatesUpdatedEvent event)", "full_signature": "@JmsListener(destination = \"trading.rate.latest?consumer.retroactive=true\") public void receiveMessage(RatesUpdatedEvent event)", "class_method_signature": "JmsConfig.receiveMessage(RatesUpdatedEvent event)", "testcase": false, "constructor": false, "invocations": ["debug", "publishEvent"]}, "repository": {"repo_id": 51700398, "url": "https://github.com/ymanvieu/trading", "language": "Java", "is_fork": false, "fork_count": 0, "stargazer_count": 5, "size": 988, "license": "licensed"}}