{"test_class": {"identifier": "WikibaseDataEditorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "MockBasicApiConnection con;", "modifier": "", "type": "MockBasicApiConnection", "declarator": "con", "var_name": "con"}, {"original_string": "ItemIdValue Q5 = Datamodel.makeWikidataItemIdValue(\"Q5\");", "modifier": "", "type": "ItemIdValue", "declarator": "Q5 = Datamodel.makeWikidataItemIdValue(\"Q5\")", "var_name": "Q5"}, {"original_string": "PropertyIdValue P31 = Datamodel.makeWikidataPropertyIdValue(\"P31\");", "modifier": "", "type": "PropertyIdValue", "declarator": "P31 = Datamodel.makeWikidataPropertyIdValue(\"P31\")", "var_name": "P31"}], "file": "wdtk-wikibaseapi/src/test/java/org/wikidata/wdtk/wikibaseapi/WikibaseDataEditorTest.java"}, "test_case": {"identifier": "testCreateItemMissingEntityDocumentJson", "parameters": "()", "modifiers": "@Test(expected = IOException.class) public", "return": "void", "body": "@Test(expected = IOException.class)\n\tpublic void testCreateItemMissingEntityDocumentJson() throws IOException,\n\t\t\tMediaWikiApiErrorException {\n\t\tWikibaseDataEditor wde = new WikibaseDataEditor(this.con,\n\t\t\t\tDatamodel.SITE_WIKIDATA);\n\n\t\tItemDocument itemDocument = ItemDocumentBuilder.forItemId(\n\t\t\t\tItemIdValue.NULL).build();\n\t\tString expectedResult = \"{\\\"success\\\":1}\";\n\n\t\tMap<String, String> params = new HashMap<>();\n\t\tparams.put(\"action\", \"wbeditentity\");\n\t\tparams.put(\"summary\", \"My summary\");\n\t\tparams.put(\"new\", \"item\");\n\t\tparams.put(\"token\", \"42307b93c79b0cb558d2dfb4c3c92e0955e06041+\\\\\");\n\t\tparams.put(\"format\", \"json\");\n\t\tparams.put(\"maxlag\", \"5\");\n\t\tString data = JsonSerializer.getJsonString(itemDocument);\n\t\tparams.put(\"data\", data);\n\t\tcon.setWebResource(params, expectedResult);\n\n\t\twde.createItemDocument(itemDocument, \"My summary\", null);\n\t}", "signature": "void testCreateItemMissingEntityDocumentJson()", "full_signature": "@Test(expected = IOException.class) public void testCreateItemMissingEntityDocumentJson()", "class_method_signature": "WikibaseDataEditorTest.testCreateItemMissingEntityDocumentJson()", "testcase": true, "constructor": false, "invocations": ["build", "forItemId", "put", "put", "put", "put", "put", "put", "getJsonString", "put", "setWebResource", "createItemDocument"]}, "focal_class": {"identifier": "WikibaseDataEditor", "superclass": "", "interfaces": "", "fields": [{"original_string": "final WbEditingAction wbEditingAction;", "modifier": "final", "type": "WbEditingAction", "declarator": "wbEditingAction", "var_name": "wbEditingAction"}, {"original_string": "final WikibaseDataFetcher wikibaseDataFetcher;", "modifier": "final", "type": "WikibaseDataFetcher", "declarator": "wikibaseDataFetcher", "var_name": "wikibaseDataFetcher"}, {"original_string": "final GuidGenerator guidGenerator;", "modifier": "final", "type": "GuidGenerator", "declarator": "guidGenerator", "var_name": "guidGenerator"}, {"original_string": "final String siteIri;", "modifier": "final", "type": "String", "declarator": "siteIri", "var_name": "siteIri"}, {"original_string": "boolean editAsBot = false;", "modifier": "", "type": "boolean", "declarator": "editAsBot = false", "var_name": "editAsBot"}], "methods": [{"identifier": "WikibaseDataEditor", "parameters": "(ApiConnection connection, String siteUri)", "modifiers": "public", "return": "", "signature": " WikibaseDataEditor(ApiConnection connection, String siteUri)", "full_signature": "public  WikibaseDataEditor(ApiConnection connection, String siteUri)", "class_method_signature": "WikibaseDataEditor.WikibaseDataEditor(ApiConnection connection, String siteUri)", "testcase": false, "constructor": true}, {"identifier": "WikibaseDataEditor", "parameters": "(ApiConnection connection, String siteUri, GuidGenerator generator)", "modifiers": "public", "return": "", "signature": " WikibaseDataEditor(ApiConnection connection, String siteUri, GuidGenerator generator)", "full_signature": "public  WikibaseDataEditor(ApiConnection connection, String siteUri, GuidGenerator generator)", "class_method_signature": "WikibaseDataEditor.WikibaseDataEditor(ApiConnection connection, String siteUri, GuidGenerator generator)", "testcase": false, "constructor": true}, {"identifier": "editAsBot", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean editAsBot()", "full_signature": "public boolean editAsBot()", "class_method_signature": "WikibaseDataEditor.editAsBot()", "testcase": false, "constructor": false}, {"identifier": "setEditAsBot", "parameters": "(boolean editAsBot)", "modifiers": "public", "return": "void", "signature": "void setEditAsBot(boolean editAsBot)", "full_signature": "public void setEditAsBot(boolean editAsBot)", "class_method_signature": "WikibaseDataEditor.setEditAsBot(boolean editAsBot)", "testcase": false, "constructor": false}, {"identifier": "getMaxLag", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getMaxLag()", "full_signature": "public int getMaxLag()", "class_method_signature": "WikibaseDataEditor.getMaxLag()", "testcase": false, "constructor": false}, {"identifier": "setMaxLag", "parameters": "(int maxLag)", "modifiers": "public", "return": "void", "signature": "void setMaxLag(int maxLag)", "full_signature": "public void setMaxLag(int maxLag)", "class_method_signature": "WikibaseDataEditor.setMaxLag(int maxLag)", "testcase": false, "constructor": false}, {"identifier": "getMaxLagMaxRetries", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getMaxLagMaxRetries()", "full_signature": "public int getMaxLagMaxRetries()", "class_method_signature": "WikibaseDataEditor.getMaxLagMaxRetries()", "testcase": false, "constructor": false}, {"identifier": "setMaxLagMaxRetries", "parameters": "(int retries)", "modifiers": "public", "return": "void", "signature": "void setMaxLagMaxRetries(int retries)", "full_signature": "public void setMaxLagMaxRetries(int retries)", "class_method_signature": "WikibaseDataEditor.setMaxLagMaxRetries(int retries)", "testcase": false, "constructor": false}, {"identifier": "getMaxLagFirstWaitTime", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getMaxLagFirstWaitTime()", "full_signature": "public int getMaxLagFirstWaitTime()", "class_method_signature": "WikibaseDataEditor.getMaxLagFirstWaitTime()", "testcase": false, "constructor": false}, {"identifier": "setMaxLagFirstWaitTime", "parameters": "(int time)", "modifiers": "public", "return": "void", "signature": "void setMaxLagFirstWaitTime(int time)", "full_signature": "public void setMaxLagFirstWaitTime(int time)", "class_method_signature": "WikibaseDataEditor.setMaxLagFirstWaitTime(int time)", "testcase": false, "constructor": false}, {"identifier": "getMaxLagBackOffFactor", "parameters": "()", "modifiers": "public", "return": "double", "signature": "double getMaxLagBackOffFactor()", "full_signature": "public double getMaxLagBackOffFactor()", "class_method_signature": "WikibaseDataEditor.getMaxLagBackOffFactor()", "testcase": false, "constructor": false}, {"identifier": "setMaxLagBackOffFactor", "parameters": "(double value)", "modifiers": "public", "return": "void", "signature": "void setMaxLagBackOffFactor(double value)", "full_signature": "public void setMaxLagBackOffFactor(double value)", "class_method_signature": "WikibaseDataEditor.setMaxLagBackOffFactor(double value)", "testcase": false, "constructor": false}, {"identifier": "getAverageTimePerEdit", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getAverageTimePerEdit()", "full_signature": "public int getAverageTimePerEdit()", "class_method_signature": "WikibaseDataEditor.getAverageTimePerEdit()", "testcase": false, "constructor": false}, {"identifier": "setAverageTimePerEdit", "parameters": "(int milliseconds)", "modifiers": "public", "return": "void", "signature": "void setAverageTimePerEdit(int milliseconds)", "full_signature": "public void setAverageTimePerEdit(int milliseconds)", "class_method_signature": "WikibaseDataEditor.setAverageTimePerEdit(int milliseconds)", "testcase": false, "constructor": false}, {"identifier": "getRemainingEdits", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getRemainingEdits()", "full_signature": "public int getRemainingEdits()", "class_method_signature": "WikibaseDataEditor.getRemainingEdits()", "testcase": false, "constructor": false}, {"identifier": "setRemainingEdits", "parameters": "(int remainingEdits)", "modifiers": "public", "return": "void", "signature": "void setRemainingEdits(int remainingEdits)", "full_signature": "public void setRemainingEdits(int remainingEdits)", "class_method_signature": "WikibaseDataEditor.setRemainingEdits(int remainingEdits)", "testcase": false, "constructor": false}, {"identifier": "disableEditing", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void disableEditing()", "full_signature": "public void disableEditing()", "class_method_signature": "WikibaseDataEditor.disableEditing()", "testcase": false, "constructor": false}, {"identifier": "createItemDocument", "parameters": "(ItemDocument itemDocument,\n\t\t\tString summary, List<String> tags)", "modifiers": "public", "return": "ItemDocument", "signature": "ItemDocument createItemDocument(ItemDocument itemDocument,\n\t\t\tString summary, List<String> tags)", "full_signature": "public ItemDocument createItemDocument(ItemDocument itemDocument,\n\t\t\tString summary, List<String> tags)", "class_method_signature": "WikibaseDataEditor.createItemDocument(ItemDocument itemDocument,\n\t\t\tString summary, List<String> tags)", "testcase": false, "constructor": false}, {"identifier": "createPropertyDocument", "parameters": "(\n\t\t\tPropertyDocument propertyDocument, String summary, List<String> tags)", "modifiers": "public", "return": "PropertyDocument", "signature": "PropertyDocument createPropertyDocument(\n\t\t\tPropertyDocument propertyDocument, String summary, List<String> tags)", "full_signature": "public PropertyDocument createPropertyDocument(\n\t\t\tPropertyDocument propertyDocument, String summary, List<String> tags)", "class_method_signature": "WikibaseDataEditor.createPropertyDocument(\n\t\t\tPropertyDocument propertyDocument, String summary, List<String> tags)", "testcase": false, "constructor": false}, {"identifier": "editItemDocument", "parameters": "(ItemDocument itemDocument,\n\t\t\tboolean clear, String summary, List<String> tags)", "modifiers": "public", "return": "ItemDocument", "signature": "ItemDocument editItemDocument(ItemDocument itemDocument,\n\t\t\tboolean clear, String summary, List<String> tags)", "full_signature": "public ItemDocument editItemDocument(ItemDocument itemDocument,\n\t\t\tboolean clear, String summary, List<String> tags)", "class_method_signature": "WikibaseDataEditor.editItemDocument(ItemDocument itemDocument,\n\t\t\tboolean clear, String summary, List<String> tags)", "testcase": false, "constructor": false}, {"identifier": "editPropertyDocument", "parameters": "(\n\t\t\tPropertyDocument propertyDocument, boolean clear, String summary,\n\t\t\tList<String> tags)", "modifiers": "public", "return": "PropertyDocument", "signature": "PropertyDocument editPropertyDocument(\n\t\t\tPropertyDocument propertyDocument, boolean clear, String summary,\n\t\t\tList<String> tags)", "full_signature": "public PropertyDocument editPropertyDocument(\n\t\t\tPropertyDocument propertyDocument, boolean clear, String summary,\n\t\t\tList<String> tags)", "class_method_signature": "WikibaseDataEditor.editPropertyDocument(\n\t\t\tPropertyDocument propertyDocument, boolean clear, String summary,\n\t\t\tList<String> tags)", "testcase": false, "constructor": false}, {"identifier": "editMediaInfoDocument", "parameters": "(\n\t\t\tMediaInfoDocument mediaInfoDocument, boolean clear, String summary,\n\t\t\tList<String> tags)", "modifiers": "public", "return": "MediaInfoDocument", "signature": "MediaInfoDocument editMediaInfoDocument(\n\t\t\tMediaInfoDocument mediaInfoDocument, boolean clear, String summary,\n\t\t\tList<String> tags)", "full_signature": "public MediaInfoDocument editMediaInfoDocument(\n\t\t\tMediaInfoDocument mediaInfoDocument, boolean clear, String summary,\n\t\t\tList<String> tags)", "class_method_signature": "WikibaseDataEditor.editMediaInfoDocument(\n\t\t\tMediaInfoDocument mediaInfoDocument, boolean clear, String summary,\n\t\t\tList<String> tags)", "testcase": false, "constructor": false}, {"identifier": "updateStatements", "parameters": "(ItemIdValue itemIdValue,\n\t\t\tList<Statement> addStatements, List<Statement> deleteStatements,\n\t\t\tString summary, List<String> tags)", "modifiers": "public", "return": "ItemDocument", "signature": "ItemDocument updateStatements(ItemIdValue itemIdValue,\n\t\t\tList<Statement> addStatements, List<Statement> deleteStatements,\n\t\t\tString summary, List<String> tags)", "full_signature": "public ItemDocument updateStatements(ItemIdValue itemIdValue,\n\t\t\tList<Statement> addStatements, List<Statement> deleteStatements,\n\t\t\tString summary, List<String> tags)", "class_method_signature": "WikibaseDataEditor.updateStatements(ItemIdValue itemIdValue,\n\t\t\tList<Statement> addStatements, List<Statement> deleteStatements,\n\t\t\tString summary, List<String> tags)", "testcase": false, "constructor": false}, {"identifier": "updateTermsStatements", "parameters": "(ItemIdValue itemIdValue,\n\t\t\tList<MonolingualTextValue> addLabels,\n\t\t\tList<MonolingualTextValue> addDescriptions,\n\t\t\tList<MonolingualTextValue> addAliases,\n\t\t\tList<MonolingualTextValue> deleteAliases,\n\t\t\tList<Statement> addStatements,\n\t\t\tList<Statement> deleteStatements,\n\t\t\tString summary,\n\t\t\tList<String> tags)", "modifiers": "public", "return": "ItemDocument", "signature": "ItemDocument updateTermsStatements(ItemIdValue itemIdValue,\n\t\t\tList<MonolingualTextValue> addLabels,\n\t\t\tList<MonolingualTextValue> addDescriptions,\n\t\t\tList<MonolingualTextValue> addAliases,\n\t\t\tList<MonolingualTextValue> deleteAliases,\n\t\t\tList<Statement> addStatements,\n\t\t\tList<Statement> deleteStatements,\n\t\t\tString summary,\n\t\t\tList<String> tags)", "full_signature": "public ItemDocument updateTermsStatements(ItemIdValue itemIdValue,\n\t\t\tList<MonolingualTextValue> addLabels,\n\t\t\tList<MonolingualTextValue> addDescriptions,\n\t\t\tList<MonolingualTextValue> addAliases,\n\t\t\tList<MonolingualTextValue> deleteAliases,\n\t\t\tList<Statement> addStatements,\n\t\t\tList<Statement> deleteStatements,\n\t\t\tString summary,\n\t\t\tList<String> tags)", "class_method_signature": "WikibaseDataEditor.updateTermsStatements(ItemIdValue itemIdValue,\n\t\t\tList<MonolingualTextValue> addLabels,\n\t\t\tList<MonolingualTextValue> addDescriptions,\n\t\t\tList<MonolingualTextValue> addAliases,\n\t\t\tList<MonolingualTextValue> deleteAliases,\n\t\t\tList<Statement> addStatements,\n\t\t\tList<Statement> deleteStatements,\n\t\t\tString summary,\n\t\t\tList<String> tags)", "testcase": false, "constructor": false}, {"identifier": "updateStatements", "parameters": "(PropertyIdValue propertyIdValue,\n\t\t\tList<Statement> addStatements, List<Statement> deleteStatements,\n\t\t\tString summary, List<String> tags)", "modifiers": "public", "return": "PropertyDocument", "signature": "PropertyDocument updateStatements(PropertyIdValue propertyIdValue,\n\t\t\tList<Statement> addStatements, List<Statement> deleteStatements,\n\t\t\tString summary, List<String> tags)", "full_signature": "public PropertyDocument updateStatements(PropertyIdValue propertyIdValue,\n\t\t\tList<Statement> addStatements, List<Statement> deleteStatements,\n\t\t\tString summary, List<String> tags)", "class_method_signature": "WikibaseDataEditor.updateStatements(PropertyIdValue propertyIdValue,\n\t\t\tList<Statement> addStatements, List<Statement> deleteStatements,\n\t\t\tString summary, List<String> tags)", "testcase": false, "constructor": false}, {"identifier": "updateStatements", "parameters": "(T currentDocument,\n\t\t\tList<Statement> addStatements, List<Statement> deleteStatements,\n\t\t\tString summary, List<String> tags)", "modifiers": "@SuppressWarnings(\"unchecked\") public", "return": "T", "signature": "T updateStatements(T currentDocument,\n\t\t\tList<Statement> addStatements, List<Statement> deleteStatements,\n\t\t\tString summary, List<String> tags)", "full_signature": "@SuppressWarnings(\"unchecked\") public T updateStatements(T currentDocument,\n\t\t\tList<Statement> addStatements, List<Statement> deleteStatements,\n\t\t\tString summary, List<String> tags)", "class_method_signature": "WikibaseDataEditor.updateStatements(T currentDocument,\n\t\t\tList<Statement> addStatements, List<Statement> deleteStatements,\n\t\t\tString summary, List<String> tags)", "testcase": false, "constructor": false}, {"identifier": "updateTermsStatements", "parameters": "(T currentDocument,\n\t\t\tList<MonolingualTextValue> addLabels,\n\t\t\tList<MonolingualTextValue> addDescriptions,\n\t\t\tList<MonolingualTextValue> addAliases,\n\t\t\tList<MonolingualTextValue> deleteAliases,\n\t\t\tList<Statement> addStatements, List<Statement> deleteStatements,\n\t\t\tString summary, List<String> tags)", "modifiers": "@SuppressWarnings(\"unchecked\") public", "return": "T", "signature": "T updateTermsStatements(T currentDocument,\n\t\t\tList<MonolingualTextValue> addLabels,\n\t\t\tList<MonolingualTextValue> addDescriptions,\n\t\t\tList<MonolingualTextValue> addAliases,\n\t\t\tList<MonolingualTextValue> deleteAliases,\n\t\t\tList<Statement> addStatements, List<Statement> deleteStatements,\n\t\t\tString summary, List<String> tags)", "full_signature": "@SuppressWarnings(\"unchecked\") public T updateTermsStatements(T currentDocument,\n\t\t\tList<MonolingualTextValue> addLabels,\n\t\t\tList<MonolingualTextValue> addDescriptions,\n\t\t\tList<MonolingualTextValue> addAliases,\n\t\t\tList<MonolingualTextValue> deleteAliases,\n\t\t\tList<Statement> addStatements, List<Statement> deleteStatements,\n\t\t\tString summary, List<String> tags)", "class_method_signature": "WikibaseDataEditor.updateTermsStatements(T currentDocument,\n\t\t\tList<MonolingualTextValue> addLabels,\n\t\t\tList<MonolingualTextValue> addDescriptions,\n\t\t\tList<MonolingualTextValue> addAliases,\n\t\t\tList<MonolingualTextValue> deleteAliases,\n\t\t\tList<Statement> addStatements, List<Statement> deleteStatements,\n\t\t\tString summary, List<String> tags)", "testcase": false, "constructor": false}, {"identifier": "nullEdit", "parameters": "(ItemIdValue itemId)", "modifiers": "public", "return": "void", "signature": "void nullEdit(ItemIdValue itemId)", "full_signature": "public void nullEdit(ItemIdValue itemId)", "class_method_signature": "WikibaseDataEditor.nullEdit(ItemIdValue itemId)", "testcase": false, "constructor": false}, {"identifier": "nullEdit", "parameters": "(PropertyIdValue propertyId)", "modifiers": "public", "return": "void", "signature": "void nullEdit(PropertyIdValue propertyId)", "full_signature": "public void nullEdit(PropertyIdValue propertyId)", "class_method_signature": "WikibaseDataEditor.nullEdit(PropertyIdValue propertyId)", "testcase": false, "constructor": false}, {"identifier": "nullEdit", "parameters": "(T currentDocument)", "modifiers": "@SuppressWarnings(\"unchecked\") public", "return": "T", "signature": "T nullEdit(T currentDocument)", "full_signature": "@SuppressWarnings(\"unchecked\") public T nullEdit(T currentDocument)", "class_method_signature": "WikibaseDataEditor.nullEdit(T currentDocument)", "testcase": false, "constructor": false}], "file": "wdtk-wikibaseapi/src/main/java/org/wikidata/wdtk/wikibaseapi/WikibaseDataEditor.java"}, "focal_method": {"identifier": "createItemDocument", "parameters": "(ItemDocument itemDocument,\n\t\t\tString summary, List<String> tags)", "modifiers": "public", "return": "ItemDocument", "body": "public ItemDocument createItemDocument(ItemDocument itemDocument,\n\t\t\tString summary, List<String> tags) throws IOException, MediaWikiApiErrorException {\n\t\tString data = JsonSerializer.getJsonString(itemDocument);\n\t\treturn (ItemDocument) this.wbEditingAction.wbEditEntity(null, null,\n\t\t\t\tnull, \"item\", data, false, this.editAsBot, 0, summary, tags);\n\t}", "signature": "ItemDocument createItemDocument(ItemDocument itemDocument,\n\t\t\tString summary, List<String> tags)", "full_signature": "public ItemDocument createItemDocument(ItemDocument itemDocument,\n\t\t\tString summary, List<String> tags)", "class_method_signature": "WikibaseDataEditor.createItemDocument(ItemDocument itemDocument,\n\t\t\tString summary, List<String> tags)", "testcase": false, "constructor": false, "invocations": ["getJsonString", "wbEditEntity"]}, "repository": {"repo_id": 16144428, "url": "https://github.com/Wikidata/Wikidata-Toolkit", "language": "Java", "is_fork": false, "fork_count": 80, "stargazer_count": 264, "size": 11241, "license": "licensed"}}