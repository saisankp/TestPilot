{"test_class": {"identifier": "AgentResourceCacheFunctionsTest", "superclass": "", "interfaces": "", "fields": [], "file": "titus-server-master/src/test/java/com/netflix/titus/master/scheduler/resourcecache/AgentResourceCacheFunctionsTest.java"}, "test_case": {"identifier": "testCreateNewNetworkInterface", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testCreateNewNetworkInterface() {\n        TestClock clock = Clocks.test();\n        long timestamp = clock.wallTime();\n        AgentResourceCacheNetworkInterface networkInterface = AgentResourceCacheFunctions.createNetworkInterface(1,\n                Collections.singletonMap(\"192.168.1.1\", Collections.singleton(\"sg-1234\")), Collections.emptySet(),\n                false, timestamp);\n\n        Assertions.assertThat(networkInterface).isNotNull();\n    }", "signature": "void testCreateNewNetworkInterface()", "full_signature": "@Test public void testCreateNewNetworkInterface()", "class_method_signature": "AgentResourceCacheFunctionsTest.testCreateNewNetworkInterface()", "testcase": true, "constructor": false, "invocations": ["test", "wallTime", "createNetworkInterface", "singletonMap", "singleton", "emptySet", "isNotNull", "assertThat"]}, "focal_class": {"identifier": "AgentResourceCacheFunctions", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final String SECURITY_GROUP_ID_DELIMITER = \":\";", "modifier": "public static final", "type": "String", "declarator": "SECURITY_GROUP_ID_DELIMITER = \":\"", "var_name": "SECURITY_GROUP_ID_DELIMITER"}, {"original_string": "public static final String EMPTY_JOINED_SECURITY_GROUP_IDS = \"\";", "modifier": "public static final", "type": "String", "declarator": "EMPTY_JOINED_SECURITY_GROUP_IDS = \"\"", "var_name": "EMPTY_JOINED_SECURITY_GROUP_IDS"}, {"original_string": "public static final String EMPTY_IP_ADDRESS = \"\";", "modifier": "public static final", "type": "String", "declarator": "EMPTY_IP_ADDRESS = \"\"", "var_name": "EMPTY_IP_ADDRESS"}], "methods": [{"identifier": "createNetworkInterface", "parameters": "(int eniIndex, Map<String, Set<String>> ipAddresses,\n                                                                            Set<String> securityGroupIds, boolean hasAvailableIps, long timestamp)", "modifiers": "public static", "return": "AgentResourceCacheNetworkInterface", "signature": "AgentResourceCacheNetworkInterface createNetworkInterface(int eniIndex, Map<String, Set<String>> ipAddresses,\n                                                                            Set<String> securityGroupIds, boolean hasAvailableIps, long timestamp)", "full_signature": "public static AgentResourceCacheNetworkInterface createNetworkInterface(int eniIndex, Map<String, Set<String>> ipAddresses,\n                                                                            Set<String> securityGroupIds, boolean hasAvailableIps, long timestamp)", "class_method_signature": "AgentResourceCacheFunctions.createNetworkInterface(int eniIndex, Map<String, Set<String>> ipAddresses,\n                                                                            Set<String> securityGroupIds, boolean hasAvailableIps, long timestamp)", "testcase": false, "constructor": false}, {"identifier": "updateNetworkInterface", "parameters": "(AgentResourceCacheNetworkInterface original,\n                                                                            AgentResourceCacheNetworkInterface updated)", "modifiers": "public static", "return": "AgentResourceCacheNetworkInterface", "signature": "AgentResourceCacheNetworkInterface updateNetworkInterface(AgentResourceCacheNetworkInterface original,\n                                                                            AgentResourceCacheNetworkInterface updated)", "full_signature": "public static AgentResourceCacheNetworkInterface updateNetworkInterface(AgentResourceCacheNetworkInterface original,\n                                                                            AgentResourceCacheNetworkInterface updated)", "class_method_signature": "AgentResourceCacheFunctions.updateNetworkInterface(AgentResourceCacheNetworkInterface original,\n                                                                            AgentResourceCacheNetworkInterface updated)", "testcase": false, "constructor": false}, {"identifier": "updateNetworkInterface", "parameters": "(Map<Integer, AgentResourceCacheNetworkInterface> original,\n                                                                                          Map<Integer, AgentResourceCacheNetworkInterface> updated)", "modifiers": "public static", "return": "Map<Integer, AgentResourceCacheNetworkInterface>", "signature": "Map<Integer, AgentResourceCacheNetworkInterface> updateNetworkInterface(Map<Integer, AgentResourceCacheNetworkInterface> original,\n                                                                                          Map<Integer, AgentResourceCacheNetworkInterface> updated)", "full_signature": "public static Map<Integer, AgentResourceCacheNetworkInterface> updateNetworkInterface(Map<Integer, AgentResourceCacheNetworkInterface> original,\n                                                                                          Map<Integer, AgentResourceCacheNetworkInterface> updated)", "class_method_signature": "AgentResourceCacheFunctions.updateNetworkInterface(Map<Integer, AgentResourceCacheNetworkInterface> original,\n                                                                                          Map<Integer, AgentResourceCacheNetworkInterface> updated)", "testcase": false, "constructor": false}, {"identifier": "createImage", "parameters": "(String imageName, String imageDigest, String imageTag)", "modifiers": "public static", "return": "AgentResourceCacheImage", "signature": "AgentResourceCacheImage createImage(String imageName, String imageDigest, String imageTag)", "full_signature": "public static AgentResourceCacheImage createImage(String imageName, String imageDigest, String imageTag)", "class_method_signature": "AgentResourceCacheFunctions.createImage(String imageName, String imageDigest, String imageTag)", "testcase": false, "constructor": false}, {"identifier": "createInstance", "parameters": "(String hostname,\n                                                            Set<AgentResourceCacheImage> images,\n                                                            Map<Integer, AgentResourceCacheNetworkInterface> networkInterfaces)", "modifiers": "public static", "return": "AgentResourceCacheInstance", "signature": "AgentResourceCacheInstance createInstance(String hostname,\n                                                            Set<AgentResourceCacheImage> images,\n                                                            Map<Integer, AgentResourceCacheNetworkInterface> networkInterfaces)", "full_signature": "public static AgentResourceCacheInstance createInstance(String hostname,\n                                                            Set<AgentResourceCacheImage> images,\n                                                            Map<Integer, AgentResourceCacheNetworkInterface> networkInterfaces)", "class_method_signature": "AgentResourceCacheFunctions.createInstance(String hostname,\n                                                            Set<AgentResourceCacheImage> images,\n                                                            Map<Integer, AgentResourceCacheNetworkInterface> networkInterfaces)", "testcase": false, "constructor": false}, {"identifier": "getImage", "parameters": "(TaskRequest taskRequest)", "modifiers": "public static", "return": "AgentResourceCacheImage", "signature": "AgentResourceCacheImage getImage(TaskRequest taskRequest)", "full_signature": "public static AgentResourceCacheImage getImage(TaskRequest taskRequest)", "class_method_signature": "AgentResourceCacheFunctions.getImage(TaskRequest taskRequest)", "testcase": false, "constructor": false}, {"identifier": "createInstance", "parameters": "(String hostname,\n                                                            TaskRequest request,\n                                                            ConsumeResult consumeResult,\n                                                            long timestamp)", "modifiers": "public static", "return": "AgentResourceCacheInstance", "signature": "AgentResourceCacheInstance createInstance(String hostname,\n                                                            TaskRequest request,\n                                                            ConsumeResult consumeResult,\n                                                            long timestamp)", "full_signature": "public static AgentResourceCacheInstance createInstance(String hostname,\n                                                            TaskRequest request,\n                                                            ConsumeResult consumeResult,\n                                                            long timestamp)", "class_method_signature": "AgentResourceCacheFunctions.createInstance(String hostname,\n                                                            TaskRequest request,\n                                                            ConsumeResult consumeResult,\n                                                            long timestamp)", "testcase": false, "constructor": false}, {"identifier": "createInstance", "parameters": "(String hostname, Job job, Task task, long timestamp)", "modifiers": "public static", "return": "AgentResourceCacheInstance", "signature": "AgentResourceCacheInstance createInstance(String hostname, Job job, Task task, long timestamp)", "full_signature": "public static AgentResourceCacheInstance createInstance(String hostname, Job job, Task task, long timestamp)", "class_method_signature": "AgentResourceCacheFunctions.createInstance(String hostname, Job job, Task task, long timestamp)", "testcase": false, "constructor": false}, {"identifier": "createImage", "parameters": "(Job job)", "modifiers": "public static", "return": "AgentResourceCacheImage", "signature": "AgentResourceCacheImage createImage(Job job)", "full_signature": "public static AgentResourceCacheImage createImage(Job job)", "class_method_signature": "AgentResourceCacheFunctions.createImage(Job job)", "testcase": false, "constructor": false}, {"identifier": "createNetworkInterface", "parameters": "(Job job, Task task, int eniIndex, long timestamp)", "modifiers": "public static", "return": "AgentResourceCacheNetworkInterface", "signature": "AgentResourceCacheNetworkInterface createNetworkInterface(Job job, Task task, int eniIndex, long timestamp)", "full_signature": "public static AgentResourceCacheNetworkInterface createNetworkInterface(Job job, Task task, int eniIndex, long timestamp)", "class_method_signature": "AgentResourceCacheFunctions.createNetworkInterface(Job job, Task task, int eniIndex, long timestamp)", "testcase": false, "constructor": false}, {"identifier": "updateInstance", "parameters": "(AgentResourceCacheInstance original, AgentResourceCacheInstance updated)", "modifiers": "public static", "return": "AgentResourceCacheInstance", "signature": "AgentResourceCacheInstance updateInstance(AgentResourceCacheInstance original, AgentResourceCacheInstance updated)", "full_signature": "public static AgentResourceCacheInstance updateInstance(AgentResourceCacheInstance original, AgentResourceCacheInstance updated)", "class_method_signature": "AgentResourceCacheFunctions.updateInstance(AgentResourceCacheInstance original, AgentResourceCacheInstance updated)", "testcase": false, "constructor": false}, {"identifier": "removeTaskFromInstance", "parameters": "(AgentResourceCacheInstance instance, Task task, long timestamp)", "modifiers": "public static", "return": "AgentResourceCacheInstance", "signature": "AgentResourceCacheInstance removeTaskFromInstance(AgentResourceCacheInstance instance, Task task, long timestamp)", "full_signature": "public static AgentResourceCacheInstance removeTaskFromInstance(AgentResourceCacheInstance instance, Task task, long timestamp)", "class_method_signature": "AgentResourceCacheFunctions.removeTaskFromInstance(AgentResourceCacheInstance instance, Task task, long timestamp)", "testcase": false, "constructor": false}, {"identifier": "removeTaskIdFromNetworkInterface", "parameters": "(String taskId,\n                                                                                      String ipAddress,\n                                                                                      AgentResourceCacheNetworkInterface networkInterface,\n                                                                                      long timestamp)", "modifiers": "public static", "return": "AgentResourceCacheNetworkInterface", "signature": "AgentResourceCacheNetworkInterface removeTaskIdFromNetworkInterface(String taskId,\n                                                                                      String ipAddress,\n                                                                                      AgentResourceCacheNetworkInterface networkInterface,\n                                                                                      long timestamp)", "full_signature": "public static AgentResourceCacheNetworkInterface removeTaskIdFromNetworkInterface(String taskId,\n                                                                                      String ipAddress,\n                                                                                      AgentResourceCacheNetworkInterface networkInterface,\n                                                                                      long timestamp)", "class_method_signature": "AgentResourceCacheFunctions.removeTaskIdFromNetworkInterface(String taskId,\n                                                                                      String ipAddress,\n                                                                                      AgentResourceCacheNetworkInterface networkInterface,\n                                                                                      long timestamp)", "testcase": false, "constructor": false}], "file": "titus-server-master/src/main/java/com/netflix/titus/master/scheduler/resourcecache/AgentResourceCacheFunctions.java"}, "focal_method": {"identifier": "createNetworkInterface", "parameters": "(int eniIndex, Map<String, Set<String>> ipAddresses,\n                                                                            Set<String> securityGroupIds, boolean hasAvailableIps, long timestamp)", "modifiers": "public static", "return": "AgentResourceCacheNetworkInterface", "body": "public static AgentResourceCacheNetworkInterface createNetworkInterface(int eniIndex, Map<String, Set<String>> ipAddresses,\n                                                                            Set<String> securityGroupIds, boolean hasAvailableIps, long timestamp) {\n        String joinedSecurityGroupIds = StringExt.concatenate(securityGroupIds, SECURITY_GROUP_ID_DELIMITER);\n        return AgentResourceCacheNetworkInterface.newBuilder()\n                .withEniIndex(eniIndex)\n                .withIpAddresses(ipAddresses)\n                .withSecurityGroupIds(securityGroupIds)\n                .withHasAvailableIps(hasAvailableIps)\n                .withTimestamp(timestamp)\n                .build();\n    }", "signature": "AgentResourceCacheNetworkInterface createNetworkInterface(int eniIndex, Map<String, Set<String>> ipAddresses,\n                                                                            Set<String> securityGroupIds, boolean hasAvailableIps, long timestamp)", "full_signature": "public static AgentResourceCacheNetworkInterface createNetworkInterface(int eniIndex, Map<String, Set<String>> ipAddresses,\n                                                                            Set<String> securityGroupIds, boolean hasAvailableIps, long timestamp)", "class_method_signature": "AgentResourceCacheFunctions.createNetworkInterface(int eniIndex, Map<String, Set<String>> ipAddresses,\n                                                                            Set<String> securityGroupIds, boolean hasAvailableIps, long timestamp)", "testcase": false, "constructor": false, "invocations": ["concatenate", "build", "withTimestamp", "withHasAvailableIps", "withSecurityGroupIds", "withIpAddresses", "withEniIndex", "newBuilder"]}, "repository": {"repo_id": 107330274, "url": "https://github.com/Netflix/titus-control-plane", "stars": 241, "created": "10/17/2017 10:20:55 PM +00:00", "updates": "2020-01-25T13:01:05+00:00", "fork": "False", "license": "licensed"}}