{"test_class": {"identifier": "LightstreamerDetectorTest", "superclass": "extends BaseDetectorTest", "interfaces": "", "fields": [{"original_string": "LightstreamerDetector detector = new LightstreamerDetector();", "modifier": "", "type": "LightstreamerDetector", "declarator": "detector = new LightstreamerDetector()", "var_name": "detector"}], "file": "agent/core/src/test/java/org/jolokia/detector/LightstreamerDetectorTest.java"}, "test_case": {"identifier": "testIsLightStreamer_NotFound", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testIsLightStreamer_NotFound() {\n        Instrumentation mockInstrumentation = createMock(Instrumentation.class);\n        expect(mockInstrumentation.getAllLoadedClasses()).andReturn(new Class[0]);\n        replay(mockInstrumentation);\n        assertFalse(detector.isLightStreamer(mockInstrumentation));\n    }", "signature": "void testIsLightStreamer_NotFound()", "full_signature": "@Test public void testIsLightStreamer_NotFound()", "class_method_signature": "LightstreamerDetectorTest.testIsLightStreamer_NotFound()", "testcase": true, "constructor": false, "invocations": ["createMock", "andReturn", "expect", "getAllLoadedClasses", "replay", "assertFalse", "isLightStreamer"]}, "focal_class": {"identifier": "LightstreamerDetector", "superclass": "extends AbstractServerDetector", "interfaces": "", "fields": [{"original_string": "private static final String[] SYSTEM_PROERTY_NAMES = new String[]{\n        \"com.lightstreamer.internal_lib_path\",\n        \"com.lightstreamer.kernel_lib_path\",\n        \"com.lightstreamer.logging_lib_path\",\n        \"com.lightstreamer.database_lib_path\"};", "modifier": "private static final", "type": "String[]", "declarator": "SYSTEM_PROERTY_NAMES = new String[]{\n        \"com.lightstreamer.internal_lib_path\",\n        \"com.lightstreamer.kernel_lib_path\",\n        \"com.lightstreamer.logging_lib_path\",\n        \"com.lightstreamer.database_lib_path\"}", "var_name": "SYSTEM_PROERTY_NAMES"}, {"original_string": "private static final int LIGHTSTREAMER_DETECT_TIMEOUT = 5 * 60 * 1000;", "modifier": "private static final", "type": "int", "declarator": "LIGHTSTREAMER_DETECT_TIMEOUT = 5 * 60 * 1000", "var_name": "LIGHTSTREAMER_DETECT_TIMEOUT"}, {"original_string": "private static final int LIGHTSTREAMER_DETECT_INTERVAL = 200;", "modifier": "private static final", "type": "int", "declarator": "LIGHTSTREAMER_DETECT_INTERVAL = 200", "var_name": "LIGHTSTREAMER_DETECT_INTERVAL"}, {"original_string": "private static final int LIGHTSTREAMER_DETECT_FINAL_DELAY = 500;", "modifier": "private static final", "type": "int", "declarator": "LIGHTSTREAMER_DETECT_FINAL_DELAY = 500", "var_name": "LIGHTSTREAMER_DETECT_FINAL_DELAY"}, {"original_string": "private static final String LIGHTSTREAMER_MBEAN_CLASS = \"com.lightstreamer.jmx.ServerMBean\";", "modifier": "private static final", "type": "String", "declarator": "LIGHTSTREAMER_MBEAN_CLASS = \"com.lightstreamer.jmx.ServerMBean\"", "var_name": "LIGHTSTREAMER_MBEAN_CLASS"}], "methods": [{"identifier": "detect", "parameters": "(MBeanServerExecutor pMBeanServerExecutor)", "modifiers": "public", "return": "ServerHandle", "signature": "ServerHandle detect(MBeanServerExecutor pMBeanServerExecutor)", "full_signature": "public ServerHandle detect(MBeanServerExecutor pMBeanServerExecutor)", "class_method_signature": "LightstreamerDetector.detect(MBeanServerExecutor pMBeanServerExecutor)", "testcase": false, "constructor": false}, {"identifier": "jvmAgentStartup", "parameters": "(Instrumentation instrumentation)", "modifiers": "@Override public", "return": "void", "signature": "void jvmAgentStartup(Instrumentation instrumentation)", "full_signature": "@Override public void jvmAgentStartup(Instrumentation instrumentation)", "class_method_signature": "LightstreamerDetector.jvmAgentStartup(Instrumentation instrumentation)", "testcase": false, "constructor": false}, {"identifier": "isLightStreamer", "parameters": "(Instrumentation instrumentation)", "modifiers": "protected", "return": "boolean", "signature": "boolean isLightStreamer(Instrumentation instrumentation)", "full_signature": "protected boolean isLightStreamer(Instrumentation instrumentation)", "class_method_signature": "LightstreamerDetector.isLightStreamer(Instrumentation instrumentation)", "testcase": false, "constructor": false}, {"identifier": "awaitLightstreamerMBeans", "parameters": "(Instrumentation instrumentation)", "modifiers": "private", "return": "void", "signature": "void awaitLightstreamerMBeans(Instrumentation instrumentation)", "full_signature": "private void awaitLightstreamerMBeans(Instrumentation instrumentation)", "class_method_signature": "LightstreamerDetector.awaitLightstreamerMBeans(Instrumentation instrumentation)", "testcase": false, "constructor": false}], "file": "agent/core/src/main/java/org/jolokia/detector/LightstreamerDetector.java"}, "focal_method": {"identifier": "isLightStreamer", "parameters": "(Instrumentation instrumentation)", "modifiers": "protected", "return": "boolean", "body": "protected boolean isLightStreamer(Instrumentation instrumentation) {\n        Properties systemProperties = System.getProperties();\n        for (String expectedPropertyName : SYSTEM_PROERTY_NAMES) {\n            if (systemProperties.containsKey(expectedPropertyName)) {\n                return true;\n            }\n        }\n        return false;\n    }", "signature": "boolean isLightStreamer(Instrumentation instrumentation)", "full_signature": "protected boolean isLightStreamer(Instrumentation instrumentation)", "class_method_signature": "LightstreamerDetector.isLightStreamer(Instrumentation instrumentation)", "testcase": false, "constructor": false, "invocations": ["getProperties", "containsKey"]}, "repository": {"repo_id": 777444, "url": "https://github.com/rhuss/jolokia", "language": "Java", "is_fork": false, "fork_count": 187, "stargazer_count": 682, "size": 20451, "license": "licensed"}}