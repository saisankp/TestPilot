{"test_class": {"identifier": "PropertiesExtTest", "superclass": "", "interfaces": "", "fields": [], "file": "titus-common/src/test/java/com/netflix/titus/common/util/PropertiesExtTest.java"}, "test_case": {"identifier": "testFullSplit", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testFullSplit() throws Exception {\n        PropertiesExt.PropertyNode<Boolean> result = PropertiesExt.fullSplit(asList(\"top1\", \"top2.nested2\"));\n        assertThat(result.getChildren()).containsKeys(\"top1\", \"top2\");\n        assertThat(result.getChildren().get(\"top1\").getValue()).contains(true);\n        assertThat(result.getChildren().get(\"top2\").getValue()).isEmpty();\n        assertThat(result.getChildren().get(\"top2\").getChildren()).containsKeys(\"nested2\");\n        assertThat(result.getChildren().get(\"top2\").getChildren().get(\"nested2\").getValue()).contains(true);\n    }", "signature": "void testFullSplit()", "full_signature": "@Test public void testFullSplit()", "class_method_signature": "PropertiesExtTest.testFullSplit()", "testcase": true, "constructor": false, "invocations": ["fullSplit", "asList", "containsKeys", "assertThat", "getChildren", "contains", "assertThat", "getValue", "get", "getChildren", "isEmpty", "assertThat", "getValue", "get", "getChildren", "containsKeys", "assertThat", "getChildren", "get", "getChildren", "contains", "assertThat", "getValue", "get", "getChildren", "get", "getChildren"]}, "focal_class": {"identifier": "PropertiesExt", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "PropertiesExt", "parameters": "()", "modifiers": "private", "return": "", "signature": " PropertiesExt()", "full_signature": "private  PropertiesExt()", "class_method_signature": "PropertiesExt.PropertiesExt()", "testcase": false, "constructor": true}, {"identifier": "loadFromClassPath", "parameters": "(String resourceName)", "modifiers": "public static", "return": "Optional<Map<String, String>>", "signature": "Optional<Map<String, String>> loadFromClassPath(String resourceName)", "full_signature": "public static Optional<Map<String, String>> loadFromClassPath(String resourceName)", "class_method_signature": "PropertiesExt.loadFromClassPath(String resourceName)", "testcase": false, "constructor": false}, {"identifier": "groupByRootName", "parameters": "(Map<String, String> properties, int rootParts)", "modifiers": "public static", "return": "Map<String, Map<String, String>>", "signature": "Map<String, Map<String, String>> groupByRootName(Map<String, String> properties, int rootParts)", "full_signature": "public static Map<String, Map<String, String>> groupByRootName(Map<String, String> properties, int rootParts)", "class_method_signature": "PropertiesExt.groupByRootName(Map<String, String> properties, int rootParts)", "testcase": false, "constructor": false}, {"identifier": "getPropertiesOf", "parameters": "(String namePrefix, Map<String, String> properties)", "modifiers": "public static", "return": "Map<String, String>", "signature": "Map<String, String> getPropertiesOf(String namePrefix, Map<String, String> properties)", "full_signature": "public static Map<String, String> getPropertiesOf(String namePrefix, Map<String, String> properties)", "class_method_signature": "PropertiesExt.getPropertiesOf(String namePrefix, Map<String, String> properties)", "testcase": false, "constructor": false}, {"identifier": "verifyRootNames", "parameters": "(Map<String, String> properties, Set<String> expectedRootNames)", "modifiers": "public static", "return": "List<String>", "signature": "List<String> verifyRootNames(Map<String, String> properties, Set<String> expectedRootNames)", "full_signature": "public static List<String> verifyRootNames(Map<String, String> properties, Set<String> expectedRootNames)", "class_method_signature": "PropertiesExt.verifyRootNames(Map<String, String> properties, Set<String> expectedRootNames)", "testcase": false, "constructor": false}, {"identifier": "getRootNames", "parameters": "(Collection<String> names, int rootSegments)", "modifiers": "public static", "return": "Set<String>", "signature": "Set<String> getRootNames(Collection<String> names, int rootSegments)", "full_signature": "public static Set<String> getRootNames(Collection<String> names, int rootSegments)", "class_method_signature": "PropertiesExt.getRootNames(Collection<String> names, int rootSegments)", "testcase": false, "constructor": false}, {"identifier": "splitNames", "parameters": "(Collection<String> names, int rootSegments)", "modifiers": "public static", "return": "Map<String, Set<String>>", "signature": "Map<String, Set<String>> splitNames(Collection<String> names, int rootSegments)", "full_signature": "public static Map<String, Set<String>> splitNames(Collection<String> names, int rootSegments)", "class_method_signature": "PropertiesExt.splitNames(Collection<String> names, int rootSegments)", "testcase": false, "constructor": false}, {"identifier": "split", "parameters": "(String name, int rootParts)", "modifiers": "public static", "return": "Pair<String, String>", "signature": "Pair<String, String> split(String name, int rootParts)", "full_signature": "public static Pair<String, String> split(String name, int rootParts)", "class_method_signature": "PropertiesExt.split(String name, int rootParts)", "testcase": false, "constructor": false}, {"identifier": "fullSplit", "parameters": "(Collection<String> names)", "modifiers": "public static", "return": "PropertyNode<Boolean>", "signature": "PropertyNode<Boolean> fullSplit(Collection<String> names)", "full_signature": "public static PropertyNode<Boolean> fullSplit(Collection<String> names)", "class_method_signature": "PropertiesExt.fullSplit(Collection<String> names)", "testcase": false, "constructor": false}], "file": "titus-common/src/main/java/com/netflix/titus/common/util/PropertiesExt.java"}, "focal_method": {"identifier": "fullSplit", "parameters": "(Collection<String> names)", "modifiers": "public static", "return": "PropertyNode<Boolean>", "body": "public static PropertyNode<Boolean> fullSplit(Collection<String> names) {\n        PropertyNode<Boolean> root = new PropertyNode<>(\"ROOT\", Optional.empty(), new HashMap<>());\n        names.forEach(n -> {\n            List<String> parts = StringExt.splitByDot(n);\n            PropertyNode<Boolean> current = root;\n            int lastIdx = parts.size() - 1;\n            for (int i = 0; i < parts.size(); i++) {\n                String name = parts.get(i);\n\n                PropertyNode<Boolean> next = current.getChildren().get(name);\n                if (next == null) {\n                    next = new PropertyNode<>(name, Optional.empty(), new HashMap<>());\n                    current.getChildren().put(name, next);\n                }\n\n                if (i == lastIdx) {\n                    next.value = Optional.of(Boolean.TRUE);\n                }\n                current = next;\n            }\n        });\n        return root;\n    }", "signature": "PropertyNode<Boolean> fullSplit(Collection<String> names)", "full_signature": "public static PropertyNode<Boolean> fullSplit(Collection<String> names)", "class_method_signature": "PropertiesExt.fullSplit(Collection<String> names)", "testcase": false, "constructor": false, "invocations": ["empty", "forEach", "splitByDot", "size", "size", "get", "get", "getChildren", "empty", "put", "getChildren", "of"]}, "repository": {"repo_id": 107330274, "url": "https://github.com/Netflix/titus-control-plane", "stars": 241, "created": "10/17/2017 10:20:55 PM +00:00", "updates": "2020-01-25T13:01:05+00:00", "fork": "False", "license": "licensed"}}