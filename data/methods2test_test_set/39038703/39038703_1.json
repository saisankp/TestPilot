{"test_class": {"identifier": "EmailServiceImplTest", "superclass": "extends DSpaceAbstractKernelTest", "interfaces": "", "fields": [{"original_string": "private static final String USERNAME = \"auser\";", "modifier": "private static final", "type": "String", "declarator": "USERNAME = \"auser\"", "var_name": "USERNAME"}, {"original_string": "private static final String PASSWORD = \"apassword\";", "modifier": "private static final", "type": "String", "declarator": "PASSWORD = \"apassword\"", "var_name": "PASSWORD"}, {"original_string": "private static final String CFG_USERNAME = \"mail.server.username\";", "modifier": "private static final", "type": "String", "declarator": "CFG_USERNAME = \"mail.server.username\"", "var_name": "CFG_USERNAME"}, {"original_string": "private static final String CFG_PASSWORD = \"mail.server.password\";", "modifier": "private static final", "type": "String", "declarator": "CFG_PASSWORD = \"mail.server.password\"", "var_name": "CFG_PASSWORD"}], "file": "dspace-services/src/test/java/org/dspace/services/email/EmailServiceImplTest.java"}, "test_case": {"identifier": "testGetPasswordAuthentication", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetPasswordAuthentication()\n    {\n        System.out.println(\"getPasswordAuthentication\");\n        ConfigurationService cfg = getKernel().getConfigurationService();\n\n        // Save existing values.\n        String oldUsername = cfg.getProperty(CFG_USERNAME);\n        String oldPassword = cfg.getProperty(CFG_PASSWORD);\n\n        // Set known values.\n        cfg.setProperty(CFG_USERNAME, USERNAME);\n        cfg.setProperty(CFG_PASSWORD, PASSWORD);\n\n        EmailServiceImpl instance = (EmailServiceImpl) getService(EmailServiceImpl.class);\n\n        PasswordAuthentication result = instance.getPasswordAuthentication();\n        assertNotNull(\" null returned\", result);\n        assertEquals(\" username does not match configuration\", result.getUserName(), USERNAME);\n        assertEquals(\" password does not match configuration\", result.getPassword(), PASSWORD);\n\n        // Restore old values, if any.\n        cfg.setProperty(CFG_USERNAME, oldUsername);\n        cfg.setProperty(CFG_PASSWORD, oldPassword);\n    }", "signature": "void testGetPasswordAuthentication()", "full_signature": "@Test public void testGetPasswordAuthentication()", "class_method_signature": "EmailServiceImplTest.testGetPasswordAuthentication()", "testcase": true, "constructor": false, "invocations": ["println", "getConfigurationService", "getKernel", "getProperty", "getProperty", "setProperty", "setProperty", "getService", "getPasswordAuthentication", "assertNotNull", "assertEquals", "getUserName", "assertEquals", "getPassword", "setProperty", "setProperty"]}, "focal_class": {"identifier": "EmailServiceImpl", "superclass": "extends Authenticator", "interfaces": "implements EmailService, InitializedService", "fields": [{"original_string": "private static final Logger logger = (Logger) LoggerFactory.getLogger(EmailServiceImpl.class);", "modifier": "private static final", "type": "Logger", "declarator": "logger = (Logger) LoggerFactory.getLogger(EmailServiceImpl.class)", "var_name": "logger"}, {"original_string": "private Session session = null;", "modifier": "private", "type": "Session", "declarator": "session = null", "var_name": "session"}, {"original_string": "private ConfigurationService cfg = null;", "modifier": "private", "type": "ConfigurationService", "declarator": "cfg = null", "var_name": "cfg"}], "methods": [{"identifier": "setCfg", "parameters": "(ConfigurationService cfg)", "modifiers": "@Autowired @Required public", "return": "void", "signature": "void setCfg(ConfigurationService cfg)", "full_signature": "@Autowired @Required public void setCfg(ConfigurationService cfg)", "class_method_signature": "EmailServiceImpl.setCfg(ConfigurationService cfg)", "testcase": false, "constructor": false}, {"identifier": "getSession", "parameters": "()", "modifiers": "@Override public", "return": "Session", "signature": "Session getSession()", "full_signature": "@Override public Session getSession()", "class_method_signature": "EmailServiceImpl.getSession()", "testcase": false, "constructor": false}, {"identifier": "init", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void init()", "full_signature": "@Override public void init()", "class_method_signature": "EmailServiceImpl.init()", "testcase": false, "constructor": false}, {"identifier": "getPasswordAuthentication", "parameters": "()", "modifiers": "@Override protected", "return": "PasswordAuthentication", "signature": "PasswordAuthentication getPasswordAuthentication()", "full_signature": "@Override protected PasswordAuthentication getPasswordAuthentication()", "class_method_signature": "EmailServiceImpl.getPasswordAuthentication()", "testcase": false, "constructor": false}], "file": "dspace-services/src/main/java/org/dspace/services/email/EmailServiceImpl.java"}, "focal_method": {"identifier": "getPasswordAuthentication", "parameters": "()", "modifiers": "@Override protected", "return": "PasswordAuthentication", "body": "@Override\n    protected PasswordAuthentication getPasswordAuthentication()\n    {\n        if (null == cfg)\n        {\n            cfg = DSpaceServicesFactory.getInstance().getConfigurationService();\n        }\n\n        return new PasswordAuthentication(\n                cfg.getProperty(\"mail.server.username\"),\n                cfg.getProperty(\"mail.server.password\"));\n    }", "signature": "PasswordAuthentication getPasswordAuthentication()", "full_signature": "@Override protected PasswordAuthentication getPasswordAuthentication()", "class_method_signature": "EmailServiceImpl.getPasswordAuthentication()", "testcase": false, "constructor": false, "invocations": ["getConfigurationService", "getInstance", "getProperty", "getProperty"]}, "repository": {"repo_id": 39038703, "url": "https://github.com/VTUL/vtechworks", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 6, "size": 112021, "license": "licensed"}}