{"test_class": {"identifier": "MetadataRetryContextTest", "superclass": "extends DhisSpringTest", "interfaces": "", "fields": [{"original_string": "@Mock\n    RetryContext retryContext;", "modifier": "@Mock", "type": "RetryContext", "declarator": "retryContext", "var_name": "retryContext"}, {"original_string": "@InjectMocks\n    MetadataRetryContext metadataRetryContext;", "modifier": "@InjectMocks", "type": "MetadataRetryContext", "declarator": "metadataRetryContext", "var_name": "metadataRetryContext"}, {"original_string": "private MetadataVersion mockVersion;", "modifier": "private", "type": "MetadataVersion", "declarator": "mockVersion", "var_name": "mockVersion"}, {"original_string": "private String testKey = \"testKey\";", "modifier": "private", "type": "String", "declarator": "testKey = \"testKey\"", "var_name": "testKey"}, {"original_string": "private String testMessage = \"testMessage\";", "modifier": "private", "type": "String", "declarator": "testMessage = \"testMessage\"", "var_name": "testMessage"}], "file": "dhis-2/dhis-services/dhis-service-dxf2/src/test/java/org/hisp/dhis/dxf2/metadata/jobs/MetadataRetryContextTest.java"}, "test_case": {"identifier": "testIfVersionIsNull", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testIfVersionIsNull() throws Exception\n    {\n        metadataRetryContext.updateRetryContext( testKey, testMessage, null );\n\n        verify( retryContext ).setAttribute( testKey, testMessage );\n        verify( retryContext, never() ).setAttribute( MetadataSyncJob.VERSION_KEY, null );\n    }", "signature": "void testIfVersionIsNull()", "full_signature": "@Test public void testIfVersionIsNull()", "class_method_signature": "MetadataRetryContextTest.testIfVersionIsNull()", "testcase": true, "constructor": false, "invocations": ["updateRetryContext", "setAttribute", "verify", "setAttribute", "verify", "never"]}, "focal_class": {"identifier": "MetadataRetryContext", "superclass": "", "interfaces": "", "fields": [{"original_string": "private RetryContext retryContext;", "modifier": "private", "type": "RetryContext", "declarator": "retryContext", "var_name": "retryContext"}], "methods": [{"identifier": "getRetryContext", "parameters": "()", "modifiers": "public", "return": "RetryContext", "signature": "RetryContext getRetryContext()", "full_signature": "public RetryContext getRetryContext()", "class_method_signature": "MetadataRetryContext.getRetryContext()", "testcase": false, "constructor": false}, {"identifier": "setRetryContext", "parameters": "( RetryContext retryContext )", "modifiers": "public", "return": "void", "signature": "void setRetryContext( RetryContext retryContext )", "full_signature": "public void setRetryContext( RetryContext retryContext )", "class_method_signature": "MetadataRetryContext.setRetryContext( RetryContext retryContext )", "testcase": false, "constructor": false}, {"identifier": "updateRetryContext", "parameters": "( String stepKey,\n        String message, MetadataVersion version )", "modifiers": "public", "return": "void", "signature": "void updateRetryContext( String stepKey,\n        String message, MetadataVersion version )", "full_signature": "public void updateRetryContext( String stepKey,\n        String message, MetadataVersion version )", "class_method_signature": "MetadataRetryContext.updateRetryContext( String stepKey,\n        String message, MetadataVersion version )", "testcase": false, "constructor": false}, {"identifier": "updateRetryContext", "parameters": "( String stepKey, String message, MetadataVersion version, MetadataSyncSummary summary )", "modifiers": "public", "return": "void", "signature": "void updateRetryContext( String stepKey, String message, MetadataVersion version, MetadataSyncSummary summary )", "full_signature": "public void updateRetryContext( String stepKey, String message, MetadataVersion version, MetadataSyncSummary summary )", "class_method_signature": "MetadataRetryContext.updateRetryContext( String stepKey, String message, MetadataVersion version, MetadataSyncSummary summary )", "testcase": false, "constructor": false}, {"identifier": "setupImportReport", "parameters": "( ImportReport importReport )", "modifiers": "private", "return": "void", "signature": "void setupImportReport( ImportReport importReport )", "full_signature": "private void setupImportReport( ImportReport importReport )", "class_method_signature": "MetadataRetryContext.setupImportReport( ImportReport importReport )", "testcase": false, "constructor": false}], "file": "dhis-2/dhis-services/dhis-service-dxf2/src/main/java/org/hisp/dhis/dxf2/metadata/jobs/MetadataRetryContext.java"}, "focal_method": {"identifier": "updateRetryContext", "parameters": "( String stepKey,\n        String message, MetadataVersion version )", "modifiers": "public", "return": "void", "body": "public void updateRetryContext( String stepKey,\n        String message, MetadataVersion version )\n    {\n        retryContext.setAttribute( stepKey, message );\n\n        if ( version != null )\n        {\n            retryContext.setAttribute( MetadataSyncJob.VERSION_KEY, version );\n        }\n    }", "signature": "void updateRetryContext( String stepKey,\n        String message, MetadataVersion version )", "full_signature": "public void updateRetryContext( String stepKey,\n        String message, MetadataVersion version )", "class_method_signature": "MetadataRetryContext.updateRetryContext( String stepKey,\n        String message, MetadataVersion version )", "testcase": false, "constructor": false, "invocations": ["setAttribute", "setAttribute"]}, "repository": {"repo_id": 66940520, "url": "https://github.com/dhis2/dhis2-core", "stars": 151, "created": "8/30/2016 12:57:05 PM +00:00", "updates": "2020-01-24T18:06:36+00:00", "fork": "False", "license": "licensed"}}