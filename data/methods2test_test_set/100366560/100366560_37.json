{"test_class": {"identifier": "DefaultFixturesStoreTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "DefaultFixturesStore fixtureStore;", "modifier": "", "type": "DefaultFixturesStore", "declarator": "fixtureStore", "var_name": "fixtureStore"}], "file": "beanmother-core/src/test/java/io/beanmother/core/loader/store/DefaultFixturesStoreTest.java"}, "test_case": {"identifier": "testAddLocation", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testAddLocation() throws IOException {\n        String fixturePath = \"fixtures/animals/pets\";\n        fixtureStore.addLocation(new Location(fixturePath));\n\n        assertTrue(fixtureStore.getFixtureLocations().contains(new Location(fixturePath)));\n\n        List<String> fileNames = new ArrayList<>();\n        for(File file : fixtureStore.getFixtureFiles()) {\n            fileNames.add(file.getName());\n        }\n\n        assertTrue(fileNames.contains(\"cat.yml\"));\n        assertTrue(fileNames.contains(\"dog.yml\"));\n    }", "signature": "void testAddLocation()", "full_signature": "@Test public void testAddLocation()", "class_method_signature": "DefaultFixturesStoreTest.testAddLocation()", "testcase": true, "constructor": false, "invocations": ["addLocation", "assertTrue", "contains", "getFixtureLocations", "getFixtureFiles", "add", "getName", "assertTrue", "contains", "assertTrue", "contains"]}, "focal_class": {"identifier": "DefaultFixturesStore", "superclass": "", "interfaces": "implements FixturesStore", "fields": [{"original_string": "private final static Logger logger = LoggerFactory.getLogger(DefaultFixtureMapper.class);", "modifier": "private final static", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(DefaultFixtureMapper.class)", "var_name": "logger"}, {"original_string": "private FixtureScanner fixtureScanner;", "modifier": "private", "type": "FixtureScanner", "declarator": "fixtureScanner", "var_name": "fixtureScanner"}, {"original_string": "private FixtureParser fixtureParser;", "modifier": "private", "type": "FixtureParser", "declarator": "fixtureParser", "var_name": "fixtureParser"}, {"original_string": "private Set<Location> fixtureLocations;", "modifier": "private", "type": "Set<Location>", "declarator": "fixtureLocations", "var_name": "fixtureLocations"}, {"original_string": "private Set<File> fixtureFiles;", "modifier": "private", "type": "Set<File>", "declarator": "fixtureFiles", "var_name": "fixtureFiles"}, {"original_string": "private Map<String, FixtureMap> fixtureMaps;", "modifier": "private", "type": "Map<String, FixtureMap>", "declarator": "fixtureMaps", "var_name": "fixtureMaps"}], "methods": [{"identifier": "DefaultFixturesStore", "parameters": "()", "modifiers": "public", "return": "", "signature": " DefaultFixturesStore()", "full_signature": "public  DefaultFixturesStore()", "class_method_signature": "DefaultFixturesStore.DefaultFixturesStore()", "testcase": false, "constructor": true}, {"identifier": "DefaultFixturesStore", "parameters": "(FixtureScanner fixtureScanner, FixtureParser fixtureParser)", "modifiers": "public", "return": "", "signature": " DefaultFixturesStore(FixtureScanner fixtureScanner, FixtureParser fixtureParser)", "full_signature": "public  DefaultFixturesStore(FixtureScanner fixtureScanner, FixtureParser fixtureParser)", "class_method_signature": "DefaultFixturesStore.DefaultFixturesStore(FixtureScanner fixtureScanner, FixtureParser fixtureParser)", "testcase": false, "constructor": true}, {"identifier": "get", "parameters": "(String fixtureKey)", "modifiers": "@Override public", "return": "FixtureMap", "signature": "FixtureMap get(String fixtureKey)", "full_signature": "@Override public FixtureMap get(String fixtureKey)", "class_method_signature": "DefaultFixturesStore.get(String fixtureKey)", "testcase": false, "constructor": false}, {"identifier": "reproduce", "parameters": "(String fixtureKey)", "modifiers": "@Override public", "return": "FixtureMap", "signature": "FixtureMap reproduce(String fixtureKey)", "full_signature": "@Override public FixtureMap reproduce(String fixtureKey)", "class_method_signature": "DefaultFixturesStore.reproduce(String fixtureKey)", "testcase": false, "constructor": false}, {"identifier": "exists", "parameters": "(String fixtureKey)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean exists(String fixtureKey)", "full_signature": "@Override public boolean exists(String fixtureKey)", "class_method_signature": "DefaultFixturesStore.exists(String fixtureKey)", "testcase": false, "constructor": false}, {"identifier": "addLocation", "parameters": "(Location location)", "modifiers": "@Override public", "return": "void", "signature": "void addLocation(Location location)", "full_signature": "@Override public void addLocation(Location location)", "class_method_signature": "DefaultFixturesStore.addLocation(Location location)", "testcase": false, "constructor": false}, {"identifier": "reset", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void reset()", "full_signature": "@Override public void reset()", "class_method_signature": "DefaultFixturesStore.reset()", "testcase": false, "constructor": false}, {"identifier": "getFixtureLocations", "parameters": "()", "modifiers": "public", "return": "Set<Location>", "signature": "Set<Location> getFixtureLocations()", "full_signature": "public Set<Location> getFixtureLocations()", "class_method_signature": "DefaultFixturesStore.getFixtureLocations()", "testcase": false, "constructor": false}, {"identifier": "getFixtureFiles", "parameters": "()", "modifiers": "public", "return": "Set<File>", "signature": "Set<File> getFixtureFiles()", "full_signature": "public Set<File> getFixtureFiles()", "class_method_signature": "DefaultFixturesStore.getFixtureFiles()", "testcase": false, "constructor": false}, {"identifier": "getFixtureMaps", "parameters": "()", "modifiers": "public", "return": "Map<String, FixtureMap>", "signature": "Map<String, FixtureMap> getFixtureMaps()", "full_signature": "public Map<String, FixtureMap> getFixtureMaps()", "class_method_signature": "DefaultFixturesStore.getFixtureMaps()", "testcase": false, "constructor": false}], "file": "beanmother-core/src/main/java/io/beanmother/core/loader/store/DefaultFixturesStore.java"}, "focal_method": {"identifier": "addLocation", "parameters": "(Location location)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void addLocation(Location location) {\n        if (fixtureLocations.contains(location)) {\n            logger.debug(location.getDescriptor() + \" is already added.\");\n            return;\n        }\n\n        List<File> files = fixtureScanner.scan(location);\n\n        if (files.size() == 0) {\n            logger.warn(\"can not find any fixture file in \" + location.getDescriptor());\n            return;\n        }\n\n        Map<String, FixtureMap> parsed = new HashMap<>();\n        for (File file : files) {\n            if (fixtureFiles.contains(file)) continue;\n            String fixtureStr;\n            try {\n                fixtureStr = new String(Files.readAllBytes(Paths.get(file.getAbsolutePath())));\n            } catch (IOException e) {\n                throw new RuntimeException(\"can not read \" + file.getAbsolutePath(), e);\n            }\n            parsed.putAll(fixtureParser.parse(fixtureStr));\n        }\n\n        fixtureFiles.addAll(files);\n        fixtureLocations.add(location);\n        fixtureMaps.putAll(parsed);\n    }", "signature": "void addLocation(Location location)", "full_signature": "@Override public void addLocation(Location location)", "class_method_signature": "DefaultFixturesStore.addLocation(Location location)", "testcase": false, "constructor": false, "invocations": ["contains", "debug", "getDescriptor", "scan", "size", "warn", "getDescriptor", "contains", "readAllBytes", "get", "getAbsolutePath", "getAbsolutePath", "putAll", "parse", "addAll", "add", "putAll"]}, "repository": {"repo_id": 100366560, "url": "https://github.com/keepcosmos/beanmother", "language": "Java", "is_fork": false, "fork_count": 19, "stargazer_count": 95, "size": 688, "license": "licensed"}}