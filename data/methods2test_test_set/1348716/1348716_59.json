{"test_class": {"identifier": "LatenessDormancyControllerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String FORM_VIEW = \"editLatenessDormancy\";", "modifier": "private static final", "type": "String", "declarator": "FORM_VIEW = \"editLatenessDormancy\"", "var_name": "FORM_VIEW"}, {"original_string": "private static final String ADMIN_VIEW = \"redirect:/AdminAction.do?method=load\";", "modifier": "private static final", "type": "String", "declarator": "ADMIN_VIEW = \"redirect:/AdminAction.do?method=load\"", "var_name": "ADMIN_VIEW"}, {"original_string": "private LatenessDormancyController latenessDormancyController;", "modifier": "private", "type": "LatenessDormancyController", "declarator": "latenessDormancyController", "var_name": "latenessDormancyController"}, {"original_string": "@Mock\n    private AdminServiceFacade adminServiceFacade;", "modifier": "@Mock\n    private", "type": "AdminServiceFacade", "declarator": "adminServiceFacade", "var_name": "adminServiceFacade"}, {"original_string": "@Mock\n    private BindingResult bindingResult;", "modifier": "@Mock\n    private", "type": "BindingResult", "declarator": "bindingResult", "var_name": "bindingResult"}, {"original_string": "@Mock\n    private SessionStatus sessionStatus;", "modifier": "@Mock\n    private", "type": "SessionStatus", "declarator": "sessionStatus", "var_name": "sessionStatus"}], "file": "userInterface/src/test/java/org/mifos/ui/core/controller/LatenessDormancyControllerTest.java"}, "test_case": {"identifier": "bindingErrorsShouldCauseReturnToFormView", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void bindingErrorsShouldCauseReturnToFormView() throws Exception {\n\n        // setup\n        LatenessDormancyFormBean expectedFormBean = new LatenessDormancyFormBean();\n        expectedFormBean.setLatenessDays(1);\n        expectedFormBean.setDormancyDays(1);\n\n        // stubbing\n        when(bindingResult.hasErrors()).thenReturn(true);\n\n        // exercise test\n        String returnedView = latenessDormancyController.processFormSubmit(\"\", expectedFormBean, bindingResult, sessionStatus);\n\n        // verification\n        Assert.assertThat(returnedView, is(FORM_VIEW));\n        Mockito.verify(sessionStatus, times(0)).setComplete();\n    }", "signature": "void bindingErrorsShouldCauseReturnToFormView()", "full_signature": "@Test public void bindingErrorsShouldCauseReturnToFormView()", "class_method_signature": "LatenessDormancyControllerTest.bindingErrorsShouldCauseReturnToFormView()", "testcase": true, "constructor": false, "invocations": ["setLatenessDays", "setDormancyDays", "thenReturn", "when", "hasErrors", "processFormSubmit", "assertThat", "is", "setComplete", "verify", "times"]}, "focal_class": {"identifier": "LatenessDormancyController", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String REDIRECT_TO_ADMIN_SCREEN = \"redirect:/AdminAction.do?method=load\";", "modifier": "private static final", "type": "String", "declarator": "REDIRECT_TO_ADMIN_SCREEN = \"redirect:/AdminAction.do?method=load\"", "var_name": "REDIRECT_TO_ADMIN_SCREEN"}, {"original_string": "private static final String CANCEL_PARAM = \"CANCEL\";", "modifier": "private static final", "type": "String", "declarator": "CANCEL_PARAM = \"CANCEL\"", "var_name": "CANCEL_PARAM"}, {"original_string": "@Autowired\n    private AdminServiceFacade adminServiceFacade;", "modifier": "@Autowired\n    private", "type": "AdminServiceFacade", "declarator": "adminServiceFacade", "var_name": "adminServiceFacade"}], "methods": [{"identifier": "LatenessDormancyController", "parameters": "()", "modifiers": "protected", "return": "", "signature": " LatenessDormancyController()", "full_signature": "protected  LatenessDormancyController()", "class_method_signature": "LatenessDormancyController.LatenessDormancyController()", "testcase": false, "constructor": true}, {"identifier": "LatenessDormancyController", "parameters": "(final AdminServiceFacade adminServiceFacade)", "modifiers": "public", "return": "", "signature": " LatenessDormancyController(final AdminServiceFacade adminServiceFacade)", "full_signature": "public  LatenessDormancyController(final AdminServiceFacade adminServiceFacade)", "class_method_signature": "LatenessDormancyController.LatenessDormancyController(final AdminServiceFacade adminServiceFacade)", "testcase": false, "constructor": true}, {"identifier": "initBinder", "parameters": "(WebDataBinder binder)", "modifiers": "@InitBinder protected", "return": "void", "signature": "void initBinder(WebDataBinder binder)", "full_signature": "@InitBinder protected void initBinder(WebDataBinder binder)", "class_method_signature": "LatenessDormancyController.initBinder(WebDataBinder binder)", "testcase": false, "constructor": false}, {"identifier": "showBreadCrumbs", "parameters": "()", "modifiers": "@ModelAttribute(\"breadcrumbs\") public", "return": "List<BreadCrumbsLinks>", "signature": "List<BreadCrumbsLinks> showBreadCrumbs()", "full_signature": "@ModelAttribute(\"breadcrumbs\") public List<BreadCrumbsLinks> showBreadCrumbs()", "class_method_signature": "LatenessDormancyController.showBreadCrumbs()", "testcase": false, "constructor": false}, {"identifier": "showPopulatedForm", "parameters": "()", "modifiers": "@RequestMapping(method = RequestMethod.GET) @ModelAttribute(\"formBean\") public", "return": "LatenessDormancyFormBean", "signature": "LatenessDormancyFormBean showPopulatedForm()", "full_signature": "@RequestMapping(method = RequestMethod.GET) @ModelAttribute(\"formBean\") public LatenessDormancyFormBean showPopulatedForm()", "class_method_signature": "LatenessDormancyController.showPopulatedForm()", "testcase": false, "constructor": false}, {"identifier": "processFormSubmit", "parameters": "(@RequestParam(value = CANCEL_PARAM, required = false) String cancel,\n                                    @Valid @ModelAttribute(\"formBean\") LatenessDormancyFormBean formBean,\n                                    BindingResult result,\n                                    SessionStatus status)", "modifiers": "@RequestMapping(method = RequestMethod.POST) public", "return": "String", "signature": "String processFormSubmit(@RequestParam(value = CANCEL_PARAM, required = false) String cancel,\n                                    @Valid @ModelAttribute(\"formBean\") LatenessDormancyFormBean formBean,\n                                    BindingResult result,\n                                    SessionStatus status)", "full_signature": "@RequestMapping(method = RequestMethod.POST) public String processFormSubmit(@RequestParam(value = CANCEL_PARAM, required = false) String cancel,\n                                    @Valid @ModelAttribute(\"formBean\") LatenessDormancyFormBean formBean,\n                                    BindingResult result,\n                                    SessionStatus status)", "class_method_signature": "LatenessDormancyController.processFormSubmit(@RequestParam(value = CANCEL_PARAM, required = false) String cancel,\n                                    @Valid @ModelAttribute(\"formBean\") LatenessDormancyFormBean formBean,\n                                    BindingResult result,\n                                    SessionStatus status)", "testcase": false, "constructor": false}], "file": "userInterface/src/main/java/org/mifos/ui/core/controller/LatenessDormancyController.java"}, "focal_method": {"identifier": "processFormSubmit", "parameters": "(@RequestParam(value = CANCEL_PARAM, required = false) String cancel,\n                                    @Valid @ModelAttribute(\"formBean\") LatenessDormancyFormBean formBean,\n                                    BindingResult result,\n                                    SessionStatus status)", "modifiers": "@RequestMapping(method = RequestMethod.POST) public", "return": "String", "body": "@RequestMapping(method = RequestMethod.POST)\n    public String processFormSubmit(@RequestParam(value = CANCEL_PARAM, required = false) String cancel,\n                                    @Valid @ModelAttribute(\"formBean\") LatenessDormancyFormBean formBean,\n                                    BindingResult result,\n                                    SessionStatus status) {\n\n        String viewName = REDIRECT_TO_ADMIN_SCREEN;\n\n        if (StringUtils.isNotBlank(cancel)) {\n            viewName = REDIRECT_TO_ADMIN_SCREEN;\n            status.setComplete();\n        } else if (result.hasErrors()) {\n            viewName = \"editLatenessDormancy\";\n        } else {\n            ProductConfigurationDto productConfigurationDto = new ProductConfigurationDto(formBean.getLatenessDays(), formBean.getDormancyDays());\n            this.adminServiceFacade.updateProductConfiguration(productConfigurationDto);\n            status.setComplete();\n        }\n\n        return viewName;\n    }", "signature": "String processFormSubmit(@RequestParam(value = CANCEL_PARAM, required = false) String cancel,\n                                    @Valid @ModelAttribute(\"formBean\") LatenessDormancyFormBean formBean,\n                                    BindingResult result,\n                                    SessionStatus status)", "full_signature": "@RequestMapping(method = RequestMethod.POST) public String processFormSubmit(@RequestParam(value = CANCEL_PARAM, required = false) String cancel,\n                                    @Valid @ModelAttribute(\"formBean\") LatenessDormancyFormBean formBean,\n                                    BindingResult result,\n                                    SessionStatus status)", "class_method_signature": "LatenessDormancyController.processFormSubmit(@RequestParam(value = CANCEL_PARAM, required = false) String cancel,\n                                    @Valid @ModelAttribute(\"formBean\") LatenessDormancyFormBean formBean,\n                                    BindingResult result,\n                                    SessionStatus status)", "testcase": false, "constructor": false, "invocations": ["isNotBlank", "setComplete", "hasErrors", "getLatenessDays", "getDormancyDays", "updateProductConfiguration", "setComplete"]}, "repository": {"repo_id": 1348716, "url": "https://github.com/mifos/head", "language": "Java", "is_fork": false, "fork_count": 91, "stargazer_count": 55, "size": 532732, "license": "licensed"}}