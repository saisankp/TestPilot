{"test_class": {"identifier": "CookbookLoaderTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private CookbookLoader loader;", "modifier": "private", "type": "CookbookLoader", "declarator": "loader", "var_name": "loader"}], "file": "recipe-generator/src/test/java/ca/derekcormier/recipe/cookbook/CookbookLoaderTest.java"}, "test_case": {"identifier": "testLoad_sampleIngredient", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testLoad_sampleIngredient() {\n    String ingredients =\n        String.join(\n            \"\\n\",\n            \"domain: 'test'\",\n            \"ingredients:\",\n            \"  - name: 'fooIngredient'\",\n            \"    constants: {KEY_A: 'KEY_A', KEY_B: 'KEY_B'}\",\n            \"    keyed: true\",\n            \"    required:\",\n            \"      - name: 'requiredField'\",\n            \"        type: 'string'\",\n            \"        default: 'foobar'\",\n            \"    initializers:\",\n            \"      - params: []\",\n            \"      - params:\",\n            \"        - 'requiredField'\",\n            \"    optionals:\",\n            \"      - name: 'optionalField'\",\n            \"        type: 'boolean'\",\n            \"      - name: 'repeatableOptionalField'\",\n            \"        type: 'string'\",\n            \"        repeatable: true\",\n            \"      - name: 'compoundOptionalField'\",\n            \"        params:\",\n            \"          - name: 'compoundOptionalParam1'\",\n            \"            type: 'string'\",\n            \"          - name: 'compoundOptionalParam2'\",\n            \"            type: 'boolean'\",\n            \"      - name: 'repeatableCompoundOptionalField'\",\n            \"        params:\",\n            \"          - name: 'compoundOptionalParam1'\",\n            \"            type: 'string'\",\n            \"          - name: 'compoundOptionalParam2'\",\n            \"            type: 'string'\",\n            \"        repeatable: true\");\n\n    Cookbook cookbook = loader.load(toStream(ingredients));\n\n    assertEquals(1, cookbook.getIngredients().size());\n    assertEquals(\"fooIngredient\", cookbook.getIngredients().get(0).getName());\n    assertEquals(2, cookbook.getIngredients().get(0).getConstants().size());\n    assertEquals(\"KEY_A\", cookbook.getIngredients().get(0).getConstants().get(\"KEY_A\"));\n    assertEquals(\"KEY_B\", cookbook.getIngredients().get(0).getConstants().get(\"KEY_B\"));\n    assertTrue(cookbook.getIngredients().get(0).isKeyed());\n    assertEquals(1, cookbook.getIngredients().get(0).getRequired().size());\n    assertEquals(\"requiredField\", cookbook.getIngredients().get(0).getRequired().get(0).getName());\n    assertEquals(\"foobar\", cookbook.getIngredients().get(0).getRequired().get(0).getDefault());\n    assertEquals(\"string\", cookbook.getIngredients().get(0).getRequired().get(0).getType());\n    assertEquals(2, cookbook.getIngredients().get(0).getInitializers().size());\n    assertEquals(0, cookbook.getIngredients().get(0).getInitializers().get(0).getParams().size());\n    assertEquals(1, cookbook.getIngredients().get(0).getInitializers().get(1).getParams().size());\n    assertEquals(\n        \"requiredField\",\n        cookbook.getIngredients().get(0).getInitializers().get(1).getParams().get(0));\n    assertEquals(4, cookbook.getIngredients().get(0).getOptionals().size());\n    assertEquals(\"optionalField\", cookbook.getIngredients().get(0).getOptionals().get(0).getName());\n    assertEquals(\"boolean\", cookbook.getIngredients().get(0).getOptionals().get(0).getType());\n    assertFalse(cookbook.getIngredients().get(0).getOptionals().get(0).isRepeatable());\n    assertEquals(\n        \"repeatableOptionalField\",\n        cookbook.getIngredients().get(0).getOptionals().get(1).getName());\n    assertEquals(\"string\", cookbook.getIngredients().get(0).getOptionals().get(1).getType());\n    assertTrue(cookbook.getIngredients().get(0).getOptionals().get(1).isRepeatable());\n    assertEquals(\n        \"compoundOptionalField\", cookbook.getIngredients().get(0).getOptionals().get(2).getName());\n    assertEquals(2, cookbook.getIngredients().get(0).getOptionals().get(2).getParams().size());\n    assertEquals(\n        \"compoundOptionalParam1\",\n        cookbook.getIngredients().get(0).getOptionals().get(2).getParams().get(0).getName());\n    assertEquals(\n        \"string\",\n        cookbook.getIngredients().get(0).getOptionals().get(2).getParams().get(0).getType());\n    assertEquals(\n        \"compoundOptionalParam2\",\n        cookbook.getIngredients().get(0).getOptionals().get(2).getParams().get(1).getName());\n    assertEquals(\n        \"boolean\",\n        cookbook.getIngredients().get(0).getOptionals().get(2).getParams().get(1).getType());\n    assertFalse(cookbook.getIngredients().get(0).getOptionals().get(2).isRepeatable());\n    assertEquals(\n        \"repeatableCompoundOptionalField\",\n        cookbook.getIngredients().get(0).getOptionals().get(3).getName());\n    assertEquals(2, cookbook.getIngredients().get(0).getOptionals().get(3).getParams().size());\n    assertEquals(\n        \"compoundOptionalParam1\",\n        cookbook.getIngredients().get(0).getOptionals().get(3).getParams().get(0).getName());\n    assertEquals(\n        \"string\",\n        cookbook.getIngredients().get(0).getOptionals().get(3).getParams().get(0).getType());\n    assertEquals(\n        \"compoundOptionalParam2\",\n        cookbook.getIngredients().get(0).getOptionals().get(3).getParams().get(1).getName());\n    assertEquals(\n        \"string\",\n        cookbook.getIngredients().get(0).getOptionals().get(3).getParams().get(1).getType());\n    assertTrue(cookbook.getIngredients().get(0).getOptionals().get(3).isRepeatable());\n  }", "signature": "void testLoad_sampleIngredient()", "full_signature": "@Test public void testLoad_sampleIngredient()", "class_method_signature": "CookbookLoaderTest.testLoad_sampleIngredient()", "testcase": true, "constructor": false, "invocations": ["join", "load", "toStream", "assertEquals", "size", "getIngredients", "assertEquals", "getName", "get", "getIngredients", "assertEquals", "size", "getConstants", "get", "getIngredients", "assertEquals", "get", "getConstants", "get", "getIngredients", "assertEquals", "get", "getConstants", "get", "getIngredients", "assertTrue", "isKeyed", "get", "getIngredients", "assertEquals", "size", "getRequired", "get", "getIngredients", "assertEquals", "getName", "get", "getRequired", "get", "getIngredients", "assertEquals", "getDefault", "get", "getRequired", "get", "getIngredients", "assertEquals", "getType", "get", "getRequired", "get", "getIngredients", "assertEquals", "size", "getInitializers", "get", "getIngredients", "assertEquals", "size", "getParams", "get", "getInitializers", "get", "getIngredients", "assertEquals", "size", "getParams", "get", "getInitializers", "get", "getIngredients", "assertEquals", "get", "getParams", "get", "getInitializers", "get", "getIngredients", "assertEquals", "size", "getOptionals", "get", "getIngredients", "assertEquals", "getName", "get", "getOptionals", "get", "getIngredients", "assertEquals", "getType", "get", "getOptionals", "get", "getIngredients", "assertFalse", "isRepeatable", "get", "getOptionals", "get", "getIngredients", "assertEquals", "getName", "get", "getOptionals", "get", "getIngredients", "assertEquals", "getType", "get", "getOptionals", "get", "getIngredients", "assertTrue", "isRepeatable", "get", "getOptionals", "get", "getIngredients", "assertEquals", "getName", "get", "getOptionals", "get", "getIngredients", "assertEquals", "size", "getParams", "get", "getOptionals", "get", "getIngredients", "assertEquals", "getName", "get", "getParams", "get", "getOptionals", "get", "getIngredients", "assertEquals", "getType", "get", "getParams", "get", "getOptionals", "get", "getIngredients", "assertEquals", "getName", "get", "getParams", "get", "getOptionals", "get", "getIngredients", "assertEquals", "getType", "get", "getParams", "get", "getOptionals", "get", "getIngredients", "assertFalse", "isRepeatable", "get", "getOptionals", "get", "getIngredients", "assertEquals", "getName", "get", "getOptionals", "get", "getIngredients", "assertEquals", "size", "getParams", "get", "getOptionals", "get", "getIngredients", "assertEquals", "getName", "get", "getParams", "get", "getOptionals", "get", "getIngredients", "assertEquals", "getType", "get", "getParams", "get", "getOptionals", "get", "getIngredients", "assertEquals", "getName", "get", "getParams", "get", "getOptionals", "get", "getIngredients", "assertEquals", "getType", "get", "getParams", "get", "getOptionals", "get", "getIngredients", "assertTrue", "isRepeatable", "get", "getOptionals", "get", "getIngredients"]}, "focal_class": {"identifier": "CookbookLoader", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "load", "parameters": "(InputStream ingredients)", "modifiers": "public", "return": "Cookbook", "signature": "Cookbook load(InputStream ingredients)", "full_signature": "public Cookbook load(InputStream ingredients)", "class_method_signature": "CookbookLoader.load(InputStream ingredients)", "testcase": false, "constructor": false}, {"identifier": "validate", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validate(Cookbook cookbook)", "full_signature": "private void validate(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validate(Cookbook cookbook)", "testcase": false, "constructor": false}, {"identifier": "validateDomain", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validateDomain(Cookbook cookbook)", "full_signature": "private void validateDomain(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validateDomain(Cookbook cookbook)", "testcase": false, "constructor": false}, {"identifier": "validateIngredients", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validateIngredients(Cookbook cookbook)", "full_signature": "private void validateIngredients(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validateIngredients(Cookbook cookbook)", "testcase": false, "constructor": false}, {"identifier": "validateEnums", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validateEnums(Cookbook cookbook)", "full_signature": "private void validateEnums(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validateEnums(Cookbook cookbook)", "testcase": false, "constructor": false}, {"identifier": "validateInitializersContainRequiredFields", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validateInitializersContainRequiredFields(Cookbook cookbook)", "full_signature": "private void validateInitializersContainRequiredFields(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validateInitializersContainRequiredFields(Cookbook cookbook)", "testcase": false, "constructor": false}, {"identifier": "validateNoDuplicateIngredientNames", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validateNoDuplicateIngredientNames(Cookbook cookbook)", "full_signature": "private void validateNoDuplicateIngredientNames(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validateNoDuplicateIngredientNames(Cookbook cookbook)", "testcase": false, "constructor": false}, {"identifier": "validateParamTypes", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validateParamTypes(Cookbook cookbook)", "full_signature": "private void validateParamTypes(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validateParamTypes(Cookbook cookbook)", "testcase": false, "constructor": false}, {"identifier": "validateNoDuplicateFieldNames", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validateNoDuplicateFieldNames(Cookbook cookbook)", "full_signature": "private void validateNoDuplicateFieldNames(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validateNoDuplicateFieldNames(Cookbook cookbook)", "testcase": false, "constructor": false}, {"identifier": "validateInitializerSignaturesUnique", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validateInitializerSignaturesUnique(Cookbook cookbook)", "full_signature": "private void validateInitializerSignaturesUnique(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validateInitializerSignaturesUnique(Cookbook cookbook)", "testcase": false, "constructor": false}, {"identifier": "validateRequiredHaveDefaultOrAppearInAllInitializers", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validateRequiredHaveDefaultOrAppearInAllInitializers(Cookbook cookbook)", "full_signature": "private void validateRequiredHaveDefaultOrAppearInAllInitializers(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validateRequiredHaveDefaultOrAppearInAllInitializers(Cookbook cookbook)", "testcase": false, "constructor": false}, {"identifier": "validateVaragParamsAppearLastInParamLists", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validateVaragParamsAppearLastInParamLists(Cookbook cookbook)", "full_signature": "private void validateVaragParamsAppearLastInParamLists(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validateVaragParamsAppearLastInParamLists(Cookbook cookbook)", "testcase": false, "constructor": false}, {"identifier": "validateConstantNames", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validateConstantNames(Cookbook cookbook)", "full_signature": "private void validateConstantNames(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validateConstantNames(Cookbook cookbook)", "testcase": false, "constructor": false}, {"identifier": "validateNoDuplicateConstantNames", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validateNoDuplicateConstantNames(Cookbook cookbook)", "full_signature": "private void validateNoDuplicateConstantNames(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validateNoDuplicateConstantNames(Cookbook cookbook)", "testcase": false, "constructor": false}, {"identifier": "validateDefaultKey", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validateDefaultKey(Cookbook cookbook)", "full_signature": "private void validateDefaultKey(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validateDefaultKey(Cookbook cookbook)", "testcase": false, "constructor": false}, {"identifier": "validateNoDuplicateEnumNames", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validateNoDuplicateEnumNames(Cookbook cookbook)", "full_signature": "private void validateNoDuplicateEnumNames(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validateNoDuplicateEnumNames(Cookbook cookbook)", "testcase": false, "constructor": false}, {"identifier": "validateNoEmptyEnumValues", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validateNoEmptyEnumValues(Cookbook cookbook)", "full_signature": "private void validateNoEmptyEnumValues(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validateNoEmptyEnumValues(Cookbook cookbook)", "testcase": false, "constructor": false}, {"identifier": "validateNoDuplicateEnumValues", "parameters": "(Cookbook cookbook)", "modifiers": "private", "return": "void", "signature": "void validateNoDuplicateEnumValues(Cookbook cookbook)", "full_signature": "private void validateNoDuplicateEnumValues(Cookbook cookbook)", "class_method_signature": "CookbookLoader.validateNoDuplicateEnumValues(Cookbook cookbook)", "testcase": false, "constructor": false}], "file": "recipe-generator/src/main/java/ca/derekcormier/recipe/cookbook/CookbookLoader.java"}, "focal_method": {"identifier": "load", "parameters": "(InputStream ingredients)", "modifiers": "public", "return": "Cookbook", "body": "public Cookbook load(InputStream ingredients) {\n    ObjectMapper mapper = new ObjectMapper(new YAMLFactory());\n    Cookbook cookbook = null;\n    try {\n      cookbook = mapper.readValue(ingredients, Cookbook.class);\n    } catch (IOException e) {\n      throw new RuntimeException(\"could not load recipe cookbook from input stream\", e);\n    }\n    validate(cookbook);\n    return cookbook;\n  }", "signature": "Cookbook load(InputStream ingredients)", "full_signature": "public Cookbook load(InputStream ingredients)", "class_method_signature": "CookbookLoader.load(InputStream ingredients)", "testcase": false, "constructor": false, "invocations": ["readValue", "validate"]}, "repository": {"repo_id": 97669395, "url": "https://github.com/kormide/recipe", "language": "Java", "is_fork": false, "fork_count": 1, "stargazer_count": 5, "size": 727, "license": "licensed"}}