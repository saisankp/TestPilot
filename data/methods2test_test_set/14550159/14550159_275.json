{"test_class": {"identifier": "DefaultExceptionMapperTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private DefaultExceptionMapper exceptionMapper;", "modifier": "private", "type": "DefaultExceptionMapper", "declarator": "exceptionMapper", "var_name": "exceptionMapper"}], "file": "everrest-core/src/test/java/org/everrest/core/impl/provider/DefaultExceptionMapperTest.java"}, "test_case": {"identifier": "createsResponseWithStatus500AndUsesExceptionMessageAsEntity", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void createsResponseWithStatus500AndUsesExceptionMessageAsEntity() {\n        Exception exception = new Exception(\"<error message>\");\n\n        Response response = exceptionMapper.toResponse(exception);\n\n        assertEquals(500, response.getStatus());\n        assertEquals(TEXT_PLAIN_TYPE, response.getMediaType());\n        assertEquals(exception.getMessage(), response.getEntity());\n    }", "signature": "void createsResponseWithStatus500AndUsesExceptionMessageAsEntity()", "full_signature": "@Test public void createsResponseWithStatus500AndUsesExceptionMessageAsEntity()", "class_method_signature": "DefaultExceptionMapperTest.createsResponseWithStatus500AndUsesExceptionMessageAsEntity()", "testcase": true, "constructor": false, "invocations": ["toResponse", "assertEquals", "getStatus", "assertEquals", "getMediaType", "assertEquals", "getMessage", "getEntity"]}, "focal_class": {"identifier": "DefaultExceptionMapper", "superclass": "", "interfaces": "implements ExceptionMapper<Exception>", "fields": [], "methods": [{"identifier": "toResponse", "parameters": "(Exception exception)", "modifiers": "@Override public", "return": "Response", "signature": "Response toResponse(Exception exception)", "full_signature": "@Override public Response toResponse(Exception exception)", "class_method_signature": "DefaultExceptionMapper.toResponse(Exception exception)", "testcase": false, "constructor": false}], "file": "everrest-core/src/main/java/org/everrest/core/impl/provider/DefaultExceptionMapper.java"}, "focal_method": {"identifier": "toResponse", "parameters": "(Exception exception)", "modifiers": "@Override public", "return": "Response", "body": "@Override\n    public Response toResponse(Exception exception) {\n        String message = exception.getMessage();\n        if (message == null) {\n            message = exception.getClass().getName();\n        }\n        return Response\n                .status(500)\n                .entity(message)\n                .type(MediaType.TEXT_PLAIN)\n                .header(ExtHttpHeaders.JAXRS_BODY_PROVIDED, \"Error-Message\")\n                .build();\n    }", "signature": "Response toResponse(Exception exception)", "full_signature": "@Override public Response toResponse(Exception exception)", "class_method_signature": "DefaultExceptionMapper.toResponse(Exception exception)", "testcase": false, "constructor": false, "invocations": ["getMessage", "getName", "getClass", "build", "header", "type", "entity", "status"]}, "repository": {"repo_id": 14550159, "url": "https://github.com/codenvy/everrest", "language": "Java", "is_fork": false, "fork_count": 14, "stargazer_count": 24, "size": 4563, "license": "licensed"}}