{"test_class": {"identifier": "LocalOcrScansTrackerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "LocalOcrScansTracker localOcrScansTracker;", "modifier": "", "type": "LocalOcrScansTracker", "declarator": "localOcrScansTracker", "var_name": "localOcrScansTracker"}, {"original_string": "SharedPreferences preferences;", "modifier": "", "type": "SharedPreferences", "declarator": "preferences", "var_name": "preferences"}, {"original_string": "@Mock\n    Lazy<SharedPreferences> lazy;", "modifier": "@Mock", "type": "Lazy<SharedPreferences>", "declarator": "lazy", "var_name": "lazy"}], "file": "app/src/test/java/co/smartreceipts/android/ocr/purchases/LocalOcrScansTrackerTest.java"}, "test_case": {"identifier": "setRemainingScans", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void setRemainingScans() {\n        TestObserver<Integer> testObserver = localOcrScansTracker.getRemainingScansStream().test();\n\n        localOcrScansTracker.setRemainingScans(50);\n        assertEquals(50, localOcrScansTracker.getRemainingScans());\n\n        testObserver.assertValues(0, 50);\n        testObserver.assertNotComplete();\n        testObserver.assertNoErrors();\n    }", "signature": "void setRemainingScans()", "full_signature": "@Test public void setRemainingScans()", "class_method_signature": "LocalOcrScansTrackerTest.setRemainingScans()", "testcase": true, "constructor": false, "invocations": ["test", "getRemainingScansStream", "setRemainingScans", "assertEquals", "getRemainingScans", "assertValues", "assertNotComplete", "assertNoErrors"]}, "focal_class": {"identifier": "LocalOcrScansTracker", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String KEY_AVAILABLE_SCANS = \"key_int_available_ocr_scans\";", "modifier": "private static final", "type": "String", "declarator": "KEY_AVAILABLE_SCANS = \"key_int_available_ocr_scans\"", "var_name": "KEY_AVAILABLE_SCANS"}, {"original_string": "private final Lazy<SharedPreferences> sharedPreferences;", "modifier": "private final", "type": "Lazy<SharedPreferences>", "declarator": "sharedPreferences", "var_name": "sharedPreferences"}, {"original_string": "private final Scheduler firstLocalScanReadScheduler;", "modifier": "private final", "type": "Scheduler", "declarator": "firstLocalScanReadScheduler", "var_name": "firstLocalScanReadScheduler"}, {"original_string": "private final BehaviorSubject<Integer> remainingScansSubject = BehaviorSubject.create();", "modifier": "private final", "type": "BehaviorSubject<Integer>", "declarator": "remainingScansSubject = BehaviorSubject.create()", "var_name": "remainingScansSubject"}, {"original_string": "private final AtomicBoolean haveWeCalledTheLocalScansStreamYet = new AtomicBoolean(false);", "modifier": "private final", "type": "AtomicBoolean", "declarator": "haveWeCalledTheLocalScansStreamYet = new AtomicBoolean(false)", "var_name": "haveWeCalledTheLocalScansStreamYet"}], "methods": [{"identifier": "LocalOcrScansTracker", "parameters": "(@NonNull Lazy<SharedPreferences> sharedPreferences)", "modifiers": "@Inject public", "return": "", "signature": " LocalOcrScansTracker(@NonNull Lazy<SharedPreferences> sharedPreferences)", "full_signature": "@Inject public  LocalOcrScansTracker(@NonNull Lazy<SharedPreferences> sharedPreferences)", "class_method_signature": "LocalOcrScansTracker.LocalOcrScansTracker(@NonNull Lazy<SharedPreferences> sharedPreferences)", "testcase": false, "constructor": true}, {"identifier": "LocalOcrScansTracker", "parameters": "(@NonNull Lazy<SharedPreferences> sharedPreferences,\n                         @NonNull Scheduler firstLocalScanReadScheduler)", "modifiers": "@VisibleForTesting", "return": "", "signature": " LocalOcrScansTracker(@NonNull Lazy<SharedPreferences> sharedPreferences,\n                         @NonNull Scheduler firstLocalScanReadScheduler)", "full_signature": "@VisibleForTesting  LocalOcrScansTracker(@NonNull Lazy<SharedPreferences> sharedPreferences,\n                         @NonNull Scheduler firstLocalScanReadScheduler)", "class_method_signature": "LocalOcrScansTracker.LocalOcrScansTracker(@NonNull Lazy<SharedPreferences> sharedPreferences,\n                         @NonNull Scheduler firstLocalScanReadScheduler)", "testcase": false, "constructor": true}, {"identifier": "getRemainingScansStream", "parameters": "()", "modifiers": "@NonNull public", "return": "Observable<Integer>", "signature": "Observable<Integer> getRemainingScansStream()", "full_signature": "@NonNull public Observable<Integer> getRemainingScansStream()", "class_method_signature": "LocalOcrScansTracker.getRemainingScansStream()", "testcase": false, "constructor": false}, {"identifier": "getRemainingScans", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getRemainingScans()", "full_signature": "public int getRemainingScans()", "class_method_signature": "LocalOcrScansTracker.getRemainingScans()", "testcase": false, "constructor": false}, {"identifier": "setRemainingScans", "parameters": "(int remainingScans)", "modifiers": "public", "return": "void", "signature": "void setRemainingScans(int remainingScans)", "full_signature": "public void setRemainingScans(int remainingScans)", "class_method_signature": "LocalOcrScansTracker.setRemainingScans(int remainingScans)", "testcase": false, "constructor": false}, {"identifier": "decrementRemainingScans", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void decrementRemainingScans()", "full_signature": "public void decrementRemainingScans()", "class_method_signature": "LocalOcrScansTracker.decrementRemainingScans()", "testcase": false, "constructor": false}], "file": "app/src/main/java/co/smartreceipts/android/ocr/purchases/LocalOcrScansTracker.java"}, "focal_method": {"identifier": "setRemainingScans", "parameters": "(int remainingScans)", "modifiers": "public", "return": "void", "body": "public void setRemainingScans(int remainingScans) {\n        Logger.info(this, \"Setting scans remaining as {}.\", remainingScans);\n        sharedPreferences.get().edit().putInt(KEY_AVAILABLE_SCANS, remainingScans).apply();\n        remainingScansSubject.onNext(remainingScans);\n    }", "signature": "void setRemainingScans(int remainingScans)", "full_signature": "public void setRemainingScans(int remainingScans)", "class_method_signature": "LocalOcrScansTracker.setRemainingScans(int remainingScans)", "testcase": false, "constructor": false, "invocations": ["info", "apply", "putInt", "edit", "get", "onNext"]}, "repository": {"repo_id": 2684727, "url": "https://github.com/wbaumann/SmartReceiptsLibrary", "stars": 166, "created": "11/1/2011 12:32:39 AM +00:00", "updates": "2020-01-26T22:04:24+00:00", "fork": "False", "license": "licensed"}}