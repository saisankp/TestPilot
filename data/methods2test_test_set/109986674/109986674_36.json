{"test_class": {"identifier": "StepVisitorTest", "superclass": "extends VisitorTest", "interfaces": "", "fields": [{"original_string": "private StepVisitor stepVisitor;", "modifier": "private", "type": "StepVisitor", "declarator": "stepVisitor", "var_name": "stepVisitor"}, {"original_string": "private AllStepsPageRenderer allStepsPageRenderer;", "modifier": "private", "type": "AllStepsPageRenderer", "declarator": "allStepsPageRenderer", "var_name": "allStepsPageRenderer"}], "file": "plugin-code/src/test/java/com/trivago/cluecumber/rendering/pages/visitors/StepVisitorTest.java"}, "test_case": {"identifier": "visitTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void visitTest() throws CluecumberPluginException {\n        when(allStepsPageRenderer.getRenderedContent(any(), any())).thenReturn(\"MyRenderedSteps\");\n        when(allScenariosPageRenderer.getRenderedContentByStepFilter(any(), any(), any())).thenReturn(\"MyRenderedScenarios\");\n        stepVisitor.visit(getAllScenarioPageCollection());\n        verify(fileIo, times(1))\n                .writeContentToFile(\"MyRenderedSteps\", \"dummyPath/pages/step-summary.html\");\n        verify(fileIo, times(1))\n                .writeContentToFile(\"MyRenderedScenarios\", \"dummyPath/pages/step-scenarios/step_31.html\");\n    }", "signature": "void visitTest()", "full_signature": "@Test public void visitTest()", "class_method_signature": "StepVisitorTest.visitTest()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "getRenderedContent", "any", "any", "thenReturn", "when", "getRenderedContentByStepFilter", "any", "any", "any", "visit", "getAllScenarioPageCollection", "writeContentToFile", "verify", "times", "writeContentToFile", "verify", "times"]}, "focal_class": {"identifier": "StepVisitor", "superclass": "", "interfaces": "implements PageVisitor", "fields": [{"original_string": "private final FileIO fileIO;", "modifier": "private final", "type": "FileIO", "declarator": "fileIO", "var_name": "fileIO"}, {"original_string": "private final TemplateEngine templateEngine;", "modifier": "private final", "type": "TemplateEngine", "declarator": "templateEngine", "var_name": "templateEngine"}, {"original_string": "private final PropertyManager propertyManager;", "modifier": "private final", "type": "PropertyManager", "declarator": "propertyManager", "var_name": "propertyManager"}, {"original_string": "private final AllStepsPageRenderer allStepsPageRenderer;", "modifier": "private final", "type": "AllStepsPageRenderer", "declarator": "allStepsPageRenderer", "var_name": "allStepsPageRenderer"}, {"original_string": "private final AllScenariosPageRenderer allScenariosPageRenderer;", "modifier": "private final", "type": "AllScenariosPageRenderer", "declarator": "allScenariosPageRenderer", "var_name": "allScenariosPageRenderer"}], "methods": [{"identifier": "StepVisitor", "parameters": "(\n            final FileIO fileIO,\n            final TemplateEngine templateEngine,\n            final PropertyManager propertyManager,\n            final AllStepsPageRenderer allStepsPageRenderer,\n            final AllScenariosPageRenderer allScenariosPageRenderer\n    )", "modifiers": "@Inject public", "return": "", "signature": " StepVisitor(\n            final FileIO fileIO,\n            final TemplateEngine templateEngine,\n            final PropertyManager propertyManager,\n            final AllStepsPageRenderer allStepsPageRenderer,\n            final AllScenariosPageRenderer allScenariosPageRenderer\n    )", "full_signature": "@Inject public  StepVisitor(\n            final FileIO fileIO,\n            final TemplateEngine templateEngine,\n            final PropertyManager propertyManager,\n            final AllStepsPageRenderer allStepsPageRenderer,\n            final AllScenariosPageRenderer allScenariosPageRenderer\n    )", "class_method_signature": "StepVisitor.StepVisitor(\n            final FileIO fileIO,\n            final TemplateEngine templateEngine,\n            final PropertyManager propertyManager,\n            final AllStepsPageRenderer allStepsPageRenderer,\n            final AllScenariosPageRenderer allScenariosPageRenderer\n    )", "testcase": false, "constructor": true}, {"identifier": "visit", "parameters": "(final AllScenariosPageCollection allScenariosPageCollection)", "modifiers": "@Override public", "return": "void", "signature": "void visit(final AllScenariosPageCollection allScenariosPageCollection)", "full_signature": "@Override public void visit(final AllScenariosPageCollection allScenariosPageCollection)", "class_method_signature": "StepVisitor.visit(final AllScenariosPageCollection allScenariosPageCollection)", "testcase": false, "constructor": false}], "file": "plugin-code/src/main/java/com/trivago/cluecumber/rendering/pages/visitors/StepVisitor.java"}, "focal_method": {"identifier": "visit", "parameters": "(final AllScenariosPageCollection allScenariosPageCollection)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void visit(final AllScenariosPageCollection allScenariosPageCollection) throws CluecumberPluginException {\n        AllStepsPageCollection allStepsPageCollection = new AllStepsPageCollection(\n                allScenariosPageCollection.getReports(), propertyManager.getCustomPageTitle()\n        );\n\n        // All steps page\n        fileIO.writeContentToFile(\n                allStepsPageRenderer.getRenderedContent(\n                        allStepsPageCollection,\n                        templateEngine.getTemplate(ALL_STEPS)\n                ),\n                propertyManager.getGeneratedHtmlReportDirectory() + \"/\" + PluginSettings.PAGES_DIRECTORY + \"/\" +\n                        PluginSettings.STEP_SUMMARY_PAGE_PATH + PluginSettings.HTML_FILE_EXTENSION);\n\n        // Scenarios by step pages\n        for (Step step : allStepsPageCollection.getSteps()) {\n            fileIO.writeContentToFile(\n                    allScenariosPageRenderer.getRenderedContentByStepFilter(\n                            allScenariosPageCollection, templateEngine.getTemplate(ALL_SCENARIOS), step),\n                    propertyManager.getGeneratedHtmlReportDirectory() + \"/\" +\n                            PluginSettings.PAGES_DIRECTORY + PluginSettings.STEP_SCENARIO_PAGE_FRAGMENT +\n                            step.getUrlFriendlyName() + PluginSettings.HTML_FILE_EXTENSION);\n        }\n    }", "signature": "void visit(final AllScenariosPageCollection allScenariosPageCollection)", "full_signature": "@Override public void visit(final AllScenariosPageCollection allScenariosPageCollection)", "class_method_signature": "StepVisitor.visit(final AllScenariosPageCollection allScenariosPageCollection)", "testcase": false, "constructor": false, "invocations": ["getReports", "getCustomPageTitle", "writeContentToFile", "getRenderedContent", "getTemplate", "getGeneratedHtmlReportDirectory", "getSteps", "writeContentToFile", "getRenderedContentByStepFilter", "getTemplate", "getGeneratedHtmlReportDirectory", "getUrlFriendlyName"]}, "repository": {"repo_id": 109986674, "url": "https://github.com/trivago/cluecumber-report-plugin", "stars": 124, "created": "11/8/2017 2:30:19 PM +00:00", "updates": "2020-01-27T12:00:16+00:00", "fork": "False", "license": "licensed"}}