{"test_class": {"identifier": "DeviceChannelsHelperTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final DlmsHelper dlmsHelper = new DlmsHelper();", "modifier": "private final", "type": "DlmsHelper", "declarator": "dlmsHelper = new DlmsHelper()", "var_name": "dlmsHelper"}, {"original_string": "private final DeviceChannelsHelper deviceChannelsHelper = new DeviceChannelsHelper(this.dlmsHelper);", "modifier": "private final", "type": "DeviceChannelsHelper", "declarator": "deviceChannelsHelper = new DeviceChannelsHelper(this.dlmsHelper)", "var_name": "deviceChannelsHelper"}, {"original_string": "private static final short PRIMARY_ADDRESS = 1;", "modifier": "private static final", "type": "short", "declarator": "PRIMARY_ADDRESS = 1", "var_name": "PRIMARY_ADDRESS"}, {"original_string": "private static final long IDENTIFICATION_NUMBER = 16137489L;", "modifier": "private static final", "type": "long", "declarator": "IDENTIFICATION_NUMBER = 16137489L", "var_name": "IDENTIFICATION_NUMBER"}, {"original_string": "private static final int MANUFACTURER_IDENTIFICATION = 1057;", "modifier": "private static final", "type": "int", "declarator": "MANUFACTURER_IDENTIFICATION = 1057", "var_name": "MANUFACTURER_IDENTIFICATION"}, {"original_string": "private static final String MANUFACTURER_IDENTIFICATION_AS_TEXT = \"AAA\";", "modifier": "private static final", "type": "String", "declarator": "MANUFACTURER_IDENTIFICATION_AS_TEXT = \"AAA\"", "var_name": "MANUFACTURER_IDENTIFICATION_AS_TEXT"}, {"original_string": "private static final short VERSION = 2;", "modifier": "private static final", "type": "short", "declarator": "VERSION = 2", "var_name": "VERSION"}, {"original_string": "private static final short DEVICE_TYPE = 3;", "modifier": "private static final", "type": "short", "declarator": "DEVICE_TYPE = 3", "var_name": "DEVICE_TYPE"}, {"original_string": "private final GetResult primaryAddress = new GetResultImpl(DataObject.newUInteger8Data(PRIMARY_ADDRESS));", "modifier": "private final", "type": "GetResult", "declarator": "primaryAddress = new GetResultImpl(DataObject.newUInteger8Data(PRIMARY_ADDRESS))", "var_name": "primaryAddress"}, {"original_string": "private final GetResult identificationNumber = new GetResultImpl(\n            DataObject.newUInteger32Data(IDENTIFICATION_NUMBER));", "modifier": "private final", "type": "GetResult", "declarator": "identificationNumber = new GetResultImpl(\n            DataObject.newUInteger32Data(IDENTIFICATION_NUMBER))", "var_name": "identificationNumber"}, {"original_string": "private final GetResult manufacturerIdentification = new GetResultImpl(\n            DataObject.newUInteger16Data(MANUFACTURER_IDENTIFICATION));", "modifier": "private final", "type": "GetResult", "declarator": "manufacturerIdentification = new GetResultImpl(\n            DataObject.newUInteger16Data(MANUFACTURER_IDENTIFICATION))", "var_name": "manufacturerIdentification"}, {"original_string": "private final GetResult version = new GetResultImpl(DataObject.newUInteger8Data(VERSION));", "modifier": "private final", "type": "GetResult", "declarator": "version = new GetResultImpl(DataObject.newUInteger8Data(VERSION))", "var_name": "version"}, {"original_string": "private final GetResult deviceType = new GetResultImpl(DataObject.newUInteger8Data(DEVICE_TYPE));", "modifier": "private final", "type": "GetResult", "declarator": "deviceType = new GetResultImpl(DataObject.newUInteger8Data(DEVICE_TYPE))", "var_name": "deviceType"}], "file": "osgp/protocol-adapter-dlms/osgp-protocol-adapter-dlms/src/test/java/org/opensmartgridplatform/adapter/protocol/dlms/domain/commands/mbus/DeviceChannelsHelperTest.java"}, "test_case": {"identifier": "testMakeChannelElementValuesIdenfiticationNumberNull", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testMakeChannelElementValuesIdenfiticationNumberNull() throws Exception {\n\n        final GetResult identificationNumberNull = new GetResultImpl(null);\n\n        final List<GetResult> resultList = new ArrayList<>(Arrays.asList(this.primaryAddress, identificationNumberNull,\n                this.manufacturerIdentification, this.version, this.deviceType));\n\n        final ChannelElementValuesDto values = this.deviceChannelsHelper.makeChannelElementValues((short) 1,\n                resultList);\n\n        assertThat(values.getIdentificationNumber()).isEqualTo(null);\n    }", "signature": "void testMakeChannelElementValuesIdenfiticationNumberNull()", "full_signature": "@Test public void testMakeChannelElementValuesIdenfiticationNumberNull()", "class_method_signature": "DeviceChannelsHelperTest.testMakeChannelElementValuesIdenfiticationNumberNull()", "testcase": true, "constructor": false, "invocations": ["asList", "makeChannelElementValues", "isEqualTo", "assertThat", "getIdentificationNumber"]}, "focal_class": {"identifier": "DeviceChannelsHelper", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOGGER = LoggerFactory.getLogger(DeviceChannelsHelper.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(DeviceChannelsHelper.class)", "var_name": "LOGGER"}, {"original_string": "private static final int CLASS_ID = InterfaceClass.MBUS_CLIENT.id();", "modifier": "private static final", "type": "int", "declarator": "CLASS_ID = InterfaceClass.MBUS_CLIENT.id()", "var_name": "CLASS_ID"}, {"original_string": "private static final String OBIS_CODE_TEMPLATE = \"0.%d.24.1.0.255\";", "modifier": "private static final", "type": "String", "declarator": "OBIS_CODE_TEMPLATE = \"0.%d.24.1.0.255\"", "var_name": "OBIS_CODE_TEMPLATE"}, {"original_string": "private static final int NUMBER_OF_ATTRIBUTES_MBUS_CLIENT = 5;", "modifier": "private static final", "type": "int", "declarator": "NUMBER_OF_ATTRIBUTES_MBUS_CLIENT = 5", "var_name": "NUMBER_OF_ATTRIBUTES_MBUS_CLIENT"}, {"original_string": "private static final int INDEX_PRIMARY_ADDRESS = 0;", "modifier": "private static final", "type": "int", "declarator": "INDEX_PRIMARY_ADDRESS = 0", "var_name": "INDEX_PRIMARY_ADDRESS"}, {"original_string": "private static final int INDEX_IDENTIFICATION_NUMBER = 1;", "modifier": "private static final", "type": "int", "declarator": "INDEX_IDENTIFICATION_NUMBER = 1", "var_name": "INDEX_IDENTIFICATION_NUMBER"}, {"original_string": "private static final int INDEX_MANUFACTURER_ID = 2;", "modifier": "private static final", "type": "int", "declarator": "INDEX_MANUFACTURER_ID = 2", "var_name": "INDEX_MANUFACTURER_ID"}, {"original_string": "private static final int INDEX_VERSION = 3;", "modifier": "private static final", "type": "int", "declarator": "INDEX_VERSION = 3", "var_name": "INDEX_VERSION"}, {"original_string": "private static final int INDEX_DEVICE_TYPE = 4;", "modifier": "private static final", "type": "int", "declarator": "INDEX_DEVICE_TYPE = 4", "var_name": "INDEX_DEVICE_TYPE"}, {"original_string": "private static final short FIRST_CHANNEL = 1;", "modifier": "private static final", "type": "short", "declarator": "FIRST_CHANNEL = 1", "var_name": "FIRST_CHANNEL"}, {"original_string": "private static final short NR_OF_CHANNELS = 4;", "modifier": "private static final", "type": "short", "declarator": "NR_OF_CHANNELS = 4", "var_name": "NR_OF_CHANNELS"}, {"original_string": "private final DlmsHelper dlmsHelper;", "modifier": "private final", "type": "DlmsHelper", "declarator": "dlmsHelper", "var_name": "dlmsHelper"}], "methods": [{"identifier": "DeviceChannelsHelper", "parameters": "(final DlmsHelper dlmsHelper)", "modifiers": "@Autowired public", "return": "", "signature": " DeviceChannelsHelper(final DlmsHelper dlmsHelper)", "full_signature": "@Autowired public  DeviceChannelsHelper(final DlmsHelper dlmsHelper)", "class_method_signature": "DeviceChannelsHelper.DeviceChannelsHelper(final DlmsHelper dlmsHelper)", "testcase": false, "constructor": true}, {"identifier": "findCandidateChannelsForDevice", "parameters": "(final DlmsConnectionManager conn,\n            final DlmsDevice device, final MbusChannelElementsDto requestDto)", "modifiers": "public", "return": "List<ChannelElementValuesDto>", "signature": "List<ChannelElementValuesDto> findCandidateChannelsForDevice(final DlmsConnectionManager conn,\n            final DlmsDevice device, final MbusChannelElementsDto requestDto)", "full_signature": "public List<ChannelElementValuesDto> findCandidateChannelsForDevice(final DlmsConnectionManager conn,\n            final DlmsDevice device, final MbusChannelElementsDto requestDto)", "class_method_signature": "DeviceChannelsHelper.findCandidateChannelsForDevice(final DlmsConnectionManager conn,\n            final DlmsDevice device, final MbusChannelElementsDto requestDto)", "testcase": false, "constructor": false}, {"identifier": "getMBusClientAttributeValues", "parameters": "(final DlmsConnectionManager conn, final DlmsDevice device,\n            final short channel)", "modifiers": "protected", "return": "List<GetResult>", "signature": "List<GetResult> getMBusClientAttributeValues(final DlmsConnectionManager conn, final DlmsDevice device,\n            final short channel)", "full_signature": "protected List<GetResult> getMBusClientAttributeValues(final DlmsConnectionManager conn, final DlmsDevice device,\n            final short channel)", "class_method_signature": "DeviceChannelsHelper.getMBusClientAttributeValues(final DlmsConnectionManager conn, final DlmsDevice device,\n            final short channel)", "testcase": false, "constructor": false}, {"identifier": "makeChannelElementValues", "parameters": "(final short channel, final List<GetResult> resultList)", "modifiers": "protected", "return": "ChannelElementValuesDto", "signature": "ChannelElementValuesDto makeChannelElementValues(final short channel, final List<GetResult> resultList)", "full_signature": "protected ChannelElementValuesDto makeChannelElementValues(final short channel, final List<GetResult> resultList)", "class_method_signature": "DeviceChannelsHelper.makeChannelElementValues(final short channel, final List<GetResult> resultList)", "testcase": false, "constructor": false}, {"identifier": "readIdentificationNumber", "parameters": "(final List<GetResult> resultList, final int index, final String description)", "modifiers": "private", "return": "String", "signature": "String readIdentificationNumber(final List<GetResult> resultList, final int index, final String description)", "full_signature": "private String readIdentificationNumber(final List<GetResult> resultList, final int index, final String description)", "class_method_signature": "DeviceChannelsHelper.readIdentificationNumber(final List<GetResult> resultList, final int index, final String description)", "testcase": false, "constructor": false}, {"identifier": "readManufacturerIdentification", "parameters": "(final List<GetResult> resultList, final int index,\n            final String description)", "modifiers": "private", "return": "String", "signature": "String readManufacturerIdentification(final List<GetResult> resultList, final int index,\n            final String description)", "full_signature": "private String readManufacturerIdentification(final List<GetResult> resultList, final int index,\n            final String description)", "class_method_signature": "DeviceChannelsHelper.readManufacturerIdentification(final List<GetResult> resultList, final int index,\n            final String description)", "testcase": false, "constructor": false}, {"identifier": "readInt", "parameters": "(final List<GetResult> resultList, final int index, final String description)", "modifiers": "private", "return": "int", "signature": "int readInt(final List<GetResult> resultList, final int index, final String description)", "full_signature": "private int readInt(final List<GetResult> resultList, final int index, final String description)", "class_method_signature": "DeviceChannelsHelper.readInt(final List<GetResult> resultList, final int index, final String description)", "testcase": false, "constructor": false}, {"identifier": "readShort", "parameters": "(final List<GetResult> resultList, final int index, final String description)", "modifiers": "private", "return": "short", "signature": "short readShort(final List<GetResult> resultList, final int index, final String description)", "full_signature": "private short readShort(final List<GetResult> resultList, final int index, final String description)", "class_method_signature": "DeviceChannelsHelper.readShort(final List<GetResult> resultList, final int index, final String description)", "testcase": false, "constructor": false}, {"identifier": "makeAttributeAddresses", "parameters": "(final int channel)", "modifiers": "private", "return": "AttributeAddress[]", "signature": "AttributeAddress[] makeAttributeAddresses(final int channel)", "full_signature": "private AttributeAddress[] makeAttributeAddresses(final int channel)", "class_method_signature": "DeviceChannelsHelper.makeAttributeAddresses(final int channel)", "testcase": false, "constructor": false}, {"identifier": "writeUpdatedMbus", "parameters": "(final DlmsConnectionManager conn,\n            final MbusChannelElementsDto requestDto, final short channel, Protocol protocol)", "modifiers": "protected", "return": "ChannelElementValuesDto", "signature": "ChannelElementValuesDto writeUpdatedMbus(final DlmsConnectionManager conn,\n            final MbusChannelElementsDto requestDto, final short channel, Protocol protocol)", "full_signature": "protected ChannelElementValuesDto writeUpdatedMbus(final DlmsConnectionManager conn,\n            final MbusChannelElementsDto requestDto, final short channel, Protocol protocol)", "class_method_signature": "DeviceChannelsHelper.writeUpdatedMbus(final DlmsConnectionManager conn,\n            final MbusChannelElementsDto requestDto, final short channel, Protocol protocol)", "testcase": false, "constructor": false}, {"identifier": "getMbusAttributeExecutor", "parameters": "(final MbusClientAttribute attribute, final DataObject value,\n            final short channel)", "modifiers": "private", "return": "DataObjectAttrExecutor", "signature": "DataObjectAttrExecutor getMbusAttributeExecutor(final MbusClientAttribute attribute, final DataObject value,\n            final short channel)", "full_signature": "private DataObjectAttrExecutor getMbusAttributeExecutor(final MbusClientAttribute attribute, final DataObject value,\n            final short channel)", "class_method_signature": "DeviceChannelsHelper.getMbusAttributeExecutor(final MbusClientAttribute attribute, final DataObject value,\n            final short channel)", "testcase": false, "constructor": false}, {"identifier": "findEmptyChannel", "parameters": "(final List<ChannelElementValuesDto> channelElementValuesList)", "modifiers": "protected", "return": "ChannelElementValuesDto", "signature": "ChannelElementValuesDto findEmptyChannel(final List<ChannelElementValuesDto> channelElementValuesList)", "full_signature": "protected ChannelElementValuesDto findEmptyChannel(final List<ChannelElementValuesDto> channelElementValuesList)", "class_method_signature": "DeviceChannelsHelper.findEmptyChannel(final List<ChannelElementValuesDto> channelElementValuesList)", "testcase": false, "constructor": false}, {"identifier": "checkChannelConfigurationValues", "parameters": "(final ChannelElementValuesDto channelElementValues)", "modifiers": "private", "return": "boolean", "signature": "boolean checkChannelConfigurationValues(final ChannelElementValuesDto channelElementValues)", "full_signature": "private boolean checkChannelConfigurationValues(final ChannelElementValuesDto channelElementValues)", "class_method_signature": "DeviceChannelsHelper.checkChannelConfigurationValues(final ChannelElementValuesDto channelElementValues)", "testcase": false, "constructor": false}, {"identifier": "checkChannelIdentificationValues", "parameters": "(final ChannelElementValuesDto channelElementValues)", "modifiers": "private", "return": "boolean", "signature": "boolean checkChannelIdentificationValues(final ChannelElementValuesDto channelElementValues)", "full_signature": "private boolean checkChannelIdentificationValues(final ChannelElementValuesDto channelElementValues)", "class_method_signature": "DeviceChannelsHelper.checkChannelIdentificationValues(final ChannelElementValuesDto channelElementValues)", "testcase": false, "constructor": false}, {"identifier": "correctFirstChannelOffset", "parameters": "(final ChannelElementValuesDto channelElementValues)", "modifiers": "protected", "return": "short", "signature": "short correctFirstChannelOffset(final ChannelElementValuesDto channelElementValues)", "full_signature": "protected short correctFirstChannelOffset(final ChannelElementValuesDto channelElementValues)", "class_method_signature": "DeviceChannelsHelper.correctFirstChannelOffset(final ChannelElementValuesDto channelElementValues)", "testcase": false, "constructor": false}], "file": "osgp/protocol-adapter-dlms/osgp-protocol-adapter-dlms/src/main/java/org/opensmartgridplatform/adapter/protocol/dlms/domain/commands/mbus/DeviceChannelsHelper.java"}, "focal_method": {"identifier": "makeChannelElementValues", "parameters": "(final short channel, final List<GetResult> resultList)", "modifiers": "protected", "return": "ChannelElementValuesDto", "body": "protected ChannelElementValuesDto makeChannelElementValues(final short channel, final List<GetResult> resultList)\n            throws ProtocolAdapterException {\n        final short primaryAddress = this.readShort(resultList, INDEX_PRIMARY_ADDRESS, \"primaryAddress\");\n        final String identificationNumber = this.readIdentificationNumber(resultList, INDEX_IDENTIFICATION_NUMBER,\n                \"identificationNumber\");\n        final String manufacturerIdentification = this.readManufacturerIdentification(resultList, INDEX_MANUFACTURER_ID,\n                \"manufacturerIdentification\");\n        final short version = this.readShort(resultList, INDEX_VERSION, \"version\");\n        final short deviceTypeIdentification = this.readShort(resultList, INDEX_DEVICE_TYPE,\n                \"deviceTypeIdentification\");\n        return new ChannelElementValuesDto(channel, primaryAddress, identificationNumber, manufacturerIdentification,\n                version, deviceTypeIdentification);\n    }", "signature": "ChannelElementValuesDto makeChannelElementValues(final short channel, final List<GetResult> resultList)", "full_signature": "protected ChannelElementValuesDto makeChannelElementValues(final short channel, final List<GetResult> resultList)", "class_method_signature": "DeviceChannelsHelper.makeChannelElementValues(final short channel, final List<GetResult> resultList)", "testcase": false, "constructor": false, "invocations": ["readShort", "readIdentificationNumber", "readManufacturerIdentification", "readShort", "readShort"]}, "repository": {"repo_id": 154302277, "url": "https://github.com/OSGP/open-smart-grid-platform", "stars": 30, "created": "10/23/2018 9:41:12 AM +00:00", "updates": "2020-01-26T20:15:09+00:00", "fork": "False", "license": "licensed"}}