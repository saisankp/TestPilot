{"test_class": {"identifier": "DatadogTransportSerializerTest", "superclass": "", "interfaces": "", "fields": [], "file": "transporters/src/test/java/com/nextdoor/bender/ipc/datadog/DatadogTransportSerializerTest.java"}, "test_case": {"identifier": "shouldSerialize", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void shouldSerialize() {\n    StringValueConfig apiKey = new StringValueConfig(\"foo\");\n    DatadogTransportSerializer serializer = new DatadogTransportSerializer(apiKey);\n    InternalEvent record = new InternalEvent(\"\", null, 0);\n    record.setEventTime(1521645289128L);\n    record.setSerialized(\"bar\");\n    String actual = new String(serializer.serialize(record), StandardCharsets.UTF_8);\n    assertEquals(\"foo bar\\n\", actual);\n  }", "signature": "void shouldSerialize()", "full_signature": "@Test public void shouldSerialize()", "class_method_signature": "DatadogTransportSerializerTest.shouldSerialize()", "testcase": true, "constructor": false, "invocations": ["setEventTime", "setSerialized", "serialize", "assertEquals"]}, "focal_class": {"identifier": "DatadogTransportSerializer", "superclass": "", "interfaces": "implements TransportSerializer", "fields": [{"original_string": "private final ValueConfig<?> apiKey;", "modifier": "private final", "type": "ValueConfig<?>", "declarator": "apiKey", "var_name": "apiKey"}], "methods": [{"identifier": "DatadogTransportSerializer", "parameters": "(ValueConfig<?> apiKey)", "modifiers": "", "return": "", "signature": " DatadogTransportSerializer(ValueConfig<?> apiKey)", "full_signature": "  DatadogTransportSerializer(ValueConfig<?> apiKey)", "class_method_signature": "DatadogTransportSerializer.DatadogTransportSerializer(ValueConfig<?> apiKey)", "testcase": false, "constructor": true}, {"identifier": "serialize", "parameters": "(InternalEvent event)", "modifiers": "@Override public", "return": "byte[]", "signature": "byte[] serialize(InternalEvent event)", "full_signature": "@Override public byte[] serialize(InternalEvent event)", "class_method_signature": "DatadogTransportSerializer.serialize(InternalEvent event)", "testcase": false, "constructor": false}], "file": "transporters/src/main/java/com/nextdoor/bender/ipc/datadog/DatadogTransportSerializer.java"}, "focal_method": {"identifier": "serialize", "parameters": "(InternalEvent event)", "modifiers": "@Override public", "return": "byte[]", "body": "@Override\n  public byte[] serialize(InternalEvent event) {\n    StringBuilder payload = new StringBuilder();\n    payload.append(apiKey);\n    payload.append(' ');\n    payload.append(event.getSerialized());\n    payload.append('\\n');\n    return payload.toString().getBytes();\n  }", "signature": "byte[] serialize(InternalEvent event)", "full_signature": "@Override public byte[] serialize(InternalEvent event)", "class_method_signature": "DatadogTransportSerializer.serialize(InternalEvent event)", "testcase": false, "constructor": false, "invocations": ["append", "append", "append", "getSerialized", "append", "getBytes", "toString"]}, "repository": {"repo_id": 75955378, "url": "https://github.com/Nextdoor/bender", "language": "Java", "is_fork": false, "fork_count": 15, "stargazer_count": 163, "size": 1503, "license": "licensed"}}