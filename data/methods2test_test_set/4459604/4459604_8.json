{"test_class": {"identifier": "GuavaCachedTemplateLoaderTest", "superclass": "", "interfaces": "", "fields": [], "file": "handlebars-guava-cache/src/test/java/com/github/jknack/handlebars/io/GuavaCachedTemplateLoaderTest.java"}, "test_case": {"identifier": "testCacheWithExpiration", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testCacheWithExpiration() throws Exception {\n    TemplateLoader loader = new FileTemplateLoader(new File(\n        \"src/test/resources\"));\n    TemplateLoader cachedLoader = GuavaCachedTemplateLoader\n        .cacheWithExpiration(loader, 200, TimeUnit.MILLISECONDS);\n\n    assertNotNull(loader.sourceAt(\"template\"));\n    assertNotNull(cachedLoader.sourceAt(\"template\"));\n\n    final int TOTAL = 1000;\n\n    Stopwatch sw = Stopwatch.createStarted();\n    for (int i = 0; i < TOTAL; i++) {\n      loader.sourceAt(\"template\");\n    }\n    sw.stop();\n    out.println(\"Loader took: \" + sw);\n    sw.reset().start();\n    for (int i = 0; i < TOTAL; i++) {\n      cachedLoader.sourceAt(\"template\");\n    }\n    out.println(\"Cached took: \" + sw);\n\n  }", "signature": "void testCacheWithExpiration()", "full_signature": "@Test public void testCacheWithExpiration()", "class_method_signature": "GuavaCachedTemplateLoaderTest.testCacheWithExpiration()", "testcase": true, "constructor": false, "invocations": ["cacheWithExpiration", "assertNotNull", "sourceAt", "assertNotNull", "sourceAt", "createStarted", "sourceAt", "stop", "println", "start", "reset", "sourceAt", "println"]}, "focal_class": {"identifier": "GuavaCachedTemplateLoader", "superclass": "", "interfaces": "implements TemplateLoader", "fields": [{"original_string": "private final TemplateLoader delegate;", "modifier": "private final", "type": "TemplateLoader", "declarator": "delegate", "var_name": "delegate"}, {"original_string": "private final Cache<String, TemplateSource> cache;", "modifier": "private final", "type": "Cache<String, TemplateSource>", "declarator": "cache", "var_name": "cache"}], "methods": [{"identifier": "GuavaCachedTemplateLoader", "parameters": "(final TemplateLoader delegate,\n      final Cache<String, TemplateSource> cache)", "modifiers": "public", "return": "", "signature": " GuavaCachedTemplateLoader(final TemplateLoader delegate,\n      final Cache<String, TemplateSource> cache)", "full_signature": "public  GuavaCachedTemplateLoader(final TemplateLoader delegate,\n      final Cache<String, TemplateSource> cache)", "class_method_signature": "GuavaCachedTemplateLoader.GuavaCachedTemplateLoader(final TemplateLoader delegate,\n      final Cache<String, TemplateSource> cache)", "testcase": false, "constructor": true}, {"identifier": "cacheWithExpiration", "parameters": "(\n      final TemplateLoader delegate, final long duration, final TimeUnit unit)", "modifiers": "public static", "return": "GuavaCachedTemplateLoader", "signature": "GuavaCachedTemplateLoader cacheWithExpiration(\n      final TemplateLoader delegate, final long duration, final TimeUnit unit)", "full_signature": "public static GuavaCachedTemplateLoader cacheWithExpiration(\n      final TemplateLoader delegate, final long duration, final TimeUnit unit)", "class_method_signature": "GuavaCachedTemplateLoader.cacheWithExpiration(\n      final TemplateLoader delegate, final long duration, final TimeUnit unit)", "testcase": false, "constructor": false}, {"identifier": "sourceAt", "parameters": "(final String location)", "modifiers": "public", "return": "TemplateSource", "signature": "TemplateSource sourceAt(final String location)", "full_signature": "public TemplateSource sourceAt(final String location)", "class_method_signature": "GuavaCachedTemplateLoader.sourceAt(final String location)", "testcase": false, "constructor": false}, {"identifier": "resolve", "parameters": "(final String location)", "modifiers": "public", "return": "String", "signature": "String resolve(final String location)", "full_signature": "public String resolve(final String location)", "class_method_signature": "GuavaCachedTemplateLoader.resolve(final String location)", "testcase": false, "constructor": false}, {"identifier": "getPrefix", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getPrefix()", "full_signature": "public String getPrefix()", "class_method_signature": "GuavaCachedTemplateLoader.getPrefix()", "testcase": false, "constructor": false}, {"identifier": "getSuffix", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getSuffix()", "full_signature": "public String getSuffix()", "class_method_signature": "GuavaCachedTemplateLoader.getSuffix()", "testcase": false, "constructor": false}, {"identifier": "setPrefix", "parameters": "(final String prefix)", "modifiers": "public", "return": "void", "signature": "void setPrefix(final String prefix)", "full_signature": "public void setPrefix(final String prefix)", "class_method_signature": "GuavaCachedTemplateLoader.setPrefix(final String prefix)", "testcase": false, "constructor": false}, {"identifier": "setSuffix", "parameters": "(final String suffix)", "modifiers": "public", "return": "void", "signature": "void setSuffix(final String suffix)", "full_signature": "public void setSuffix(final String suffix)", "class_method_signature": "GuavaCachedTemplateLoader.setSuffix(final String suffix)", "testcase": false, "constructor": false}, {"identifier": "setCharset", "parameters": "(final Charset charset)", "modifiers": "@Override public", "return": "void", "signature": "void setCharset(final Charset charset)", "full_signature": "@Override public void setCharset(final Charset charset)", "class_method_signature": "GuavaCachedTemplateLoader.setCharset(final Charset charset)", "testcase": false, "constructor": false}, {"identifier": "getCharset", "parameters": "()", "modifiers": "@Override public", "return": "Charset", "signature": "Charset getCharset()", "full_signature": "@Override public Charset getCharset()", "class_method_signature": "GuavaCachedTemplateLoader.getCharset()", "testcase": false, "constructor": false}], "file": "handlebars-guava-cache/src/main/java/com/github/jknack/handlebars/io/GuavaCachedTemplateLoader.java"}, "focal_method": {"identifier": "cacheWithExpiration", "parameters": "(\n      final TemplateLoader delegate, final long duration, final TimeUnit unit)", "modifiers": "public static", "return": "GuavaCachedTemplateLoader", "body": "public static GuavaCachedTemplateLoader cacheWithExpiration(\n      final TemplateLoader delegate, final long duration, final TimeUnit unit) {\n    Cache<String, TemplateSource> cache = CacheBuilder.newBuilder()\n        .expireAfterAccess(duration, unit).build();\n    return new GuavaCachedTemplateLoader(delegate, cache);\n  }", "signature": "GuavaCachedTemplateLoader cacheWithExpiration(\n      final TemplateLoader delegate, final long duration, final TimeUnit unit)", "full_signature": "public static GuavaCachedTemplateLoader cacheWithExpiration(\n      final TemplateLoader delegate, final long duration, final TimeUnit unit)", "class_method_signature": "GuavaCachedTemplateLoader.cacheWithExpiration(\n      final TemplateLoader delegate, final long duration, final TimeUnit unit)", "testcase": false, "constructor": false, "invocations": ["build", "expireAfterAccess", "newBuilder"]}, "repository": {"repo_id": 4459604, "url": "https://github.com/jknack/handlebars.java", "stars": 1107, "created": "5/27/2012 3:22:22 AM +00:00", "updates": "2020-01-24T06:58:31+00:00", "fork": "False", "license": "licensed"}}