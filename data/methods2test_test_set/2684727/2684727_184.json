{"test_class": {"identifier": "TripDatabaseAdapterTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final int ID = 15;", "modifier": "private static final", "type": "int", "declarator": "ID = 15", "var_name": "ID"}, {"original_string": "private static final UUID TRIP_UUID = UUID.randomUUID();", "modifier": "private static final", "type": "UUID", "declarator": "TRIP_UUID = UUID.randomUUID()", "var_name": "TRIP_UUID"}, {"original_string": "private static final String NAME = \"Trip\";", "modifier": "private static final", "type": "String", "declarator": "NAME = \"Trip\"", "var_name": "NAME"}, {"original_string": "private static final long START_DATE = 1409703721000L;", "modifier": "private static final", "type": "long", "declarator": "START_DATE = 1409703721000L", "var_name": "START_DATE"}, {"original_string": "private static final long END_DATE = 1409703794000L;", "modifier": "private static final", "type": "long", "declarator": "END_DATE = 1409703794000L", "var_name": "END_DATE"}, {"original_string": "private static final String START_TIMEZONE = TimeZone.getAvailableIDs()[0];", "modifier": "private static final", "type": "String", "declarator": "START_TIMEZONE = TimeZone.getAvailableIDs()[0]", "var_name": "START_TIMEZONE"}, {"original_string": "private static final String END_TIMEZONE = TimeZone.getAvailableIDs()[1];", "modifier": "private static final", "type": "String", "declarator": "END_TIMEZONE = TimeZone.getAvailableIDs()[1]", "var_name": "END_TIMEZONE"}, {"original_string": "private static final String COMMENT = \"Comment\";", "modifier": "private static final", "type": "String", "declarator": "COMMENT = \"Comment\"", "var_name": "COMMENT"}, {"original_string": "private static final String COST_CENTER = \"Cost Center\";", "modifier": "private static final", "type": "String", "declarator": "COST_CENTER = \"Cost Center\"", "var_name": "COST_CENTER"}, {"original_string": "private static final String CURRENCY_CODE = \"USD\";", "modifier": "private static final", "type": "String", "declarator": "CURRENCY_CODE = \"USD\"", "var_name": "CURRENCY_CODE"}, {"original_string": "private static final String USER_PREFERENCES_CURRENCY_CODE = \"EUR\";", "modifier": "private static final", "type": "String", "declarator": "USER_PREFERENCES_CURRENCY_CODE = \"EUR\"", "var_name": "USER_PREFERENCES_CURRENCY_CODE"}, {"original_string": "private static final boolean NAME_HIDDEN_FROM_AUTO_COMPLETE = false;", "modifier": "private static final", "type": "boolean", "declarator": "NAME_HIDDEN_FROM_AUTO_COMPLETE = false", "var_name": "NAME_HIDDEN_FROM_AUTO_COMPLETE"}, {"original_string": "private static final boolean COMMENT_HIDDEN_FROM_AUTO_COMPLETE = false;", "modifier": "private static final", "type": "boolean", "declarator": "COMMENT_HIDDEN_FROM_AUTO_COMPLETE = false", "var_name": "COMMENT_HIDDEN_FROM_AUTO_COMPLETE"}, {"original_string": "private static final boolean COST_CENTER_HIDDEN_FROM_AUTO_COMPLETE = false;", "modifier": "private static final", "type": "boolean", "declarator": "COST_CENTER_HIDDEN_FROM_AUTO_COMPLETE = false", "var_name": "COST_CENTER_HIDDEN_FROM_AUTO_COMPLETE"}, {"original_string": "TripDatabaseAdapter mTripDatabaseAdapter;", "modifier": "", "type": "TripDatabaseAdapter", "declarator": "mTripDatabaseAdapter", "var_name": "mTripDatabaseAdapter"}, {"original_string": "@Mock\n    Trip mTrip;", "modifier": "@Mock", "type": "Trip", "declarator": "mTrip", "var_name": "mTrip"}, {"original_string": "@Mock\n    Cursor mCursor;", "modifier": "@Mock", "type": "Cursor", "declarator": "mCursor", "var_name": "mCursor"}, {"original_string": "@Mock\n    StorageManager mStorageManager;", "modifier": "@Mock", "type": "StorageManager", "declarator": "mStorageManager", "var_name": "mStorageManager"}, {"original_string": "@Mock\n    UserPreferenceManager mPreferences;", "modifier": "@Mock", "type": "UserPreferenceManager", "declarator": "mPreferences", "var_name": "mPreferences"}, {"original_string": "@Mock\n    SyncStateAdapter mSyncStateAdapter;", "modifier": "@Mock", "type": "SyncStateAdapter", "declarator": "mSyncStateAdapter", "var_name": "mSyncStateAdapter"}, {"original_string": "@Mock\n    SyncState mSyncState, mGetSyncState;", "modifier": "@Mock", "type": "SyncState", "declarator": "mSyncState", "var_name": "mSyncState"}, {"original_string": "@Mock\n    AutoCompleteMetadata mAutoCompleteMetadata;", "modifier": "@Mock", "type": "AutoCompleteMetadata", "declarator": "mAutoCompleteMetadata", "var_name": "mAutoCompleteMetadata"}], "file": "app/src/test/java/co/smartreceipts/android/persistence/database/tables/adapters/TripDatabaseAdapterTest.java"}, "test_case": {"identifier": "read", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void read() throws Exception {\n        final Trip trip = new TripBuilderFactory()\n                .setId(ID)\n                .setUuid(TRIP_UUID)\n                .setDirectory(mStorageManager.getFile(NAME))\n                .setStartDate(START_DATE)\n                .setEndDate(END_DATE)\n                .setStartTimeZone(START_TIMEZONE)\n                .setEndTimeZone(END_TIMEZONE)\n                .setComment(COMMENT)\n                .setCostCenter(COST_CENTER)\n                .setDefaultCurrency(CURRENCY_CODE, mPreferences.get(UserPreference.General.DefaultCurrency))\n                .setSyncState(mSyncState)\n                .setNameHiddenFromAutoComplete(NAME_HIDDEN_FROM_AUTO_COMPLETE)\n                .setCommentHiddenFromAutoComplete(COMMENT_HIDDEN_FROM_AUTO_COMPLETE)\n                .setCostCenterHiddenFromAutoComplete(COST_CENTER_HIDDEN_FROM_AUTO_COMPLETE)\n                .build();\n        assertEquals(trip, mTripDatabaseAdapter.read(mCursor));\n    }", "signature": "void read()", "full_signature": "@Test public void read()", "class_method_signature": "TripDatabaseAdapterTest.read()", "testcase": true, "constructor": false, "invocations": ["build", "setCostCenterHiddenFromAutoComplete", "setCommentHiddenFromAutoComplete", "setNameHiddenFromAutoComplete", "setSyncState", "setDefaultCurrency", "setCostCenter", "setComment", "setEndTimeZone", "setStartTimeZone", "setEndDate", "setStartDate", "setDirectory", "setUuid", "setId", "getFile", "get", "assertEquals", "read"]}, "focal_class": {"identifier": "TripDatabaseAdapter", "superclass": "", "interfaces": "implements DatabaseAdapter<Trip>", "fields": [{"original_string": "private final StorageManager storageManager;", "modifier": "private final", "type": "StorageManager", "declarator": "storageManager", "var_name": "storageManager"}, {"original_string": "private final UserPreferenceManager preferences;", "modifier": "private final", "type": "UserPreferenceManager", "declarator": "preferences", "var_name": "preferences"}, {"original_string": "private final SyncStateAdapter syncStateAdapter;", "modifier": "private final", "type": "SyncStateAdapter", "declarator": "syncStateAdapter", "var_name": "syncStateAdapter"}], "methods": [{"identifier": "TripDatabaseAdapter", "parameters": "(@NonNull StorageManager storageManager, @NonNull UserPreferenceManager preferences, @NonNull SyncStateAdapter syncStateAdapter)", "modifiers": "public", "return": "", "signature": " TripDatabaseAdapter(@NonNull StorageManager storageManager, @NonNull UserPreferenceManager preferences, @NonNull SyncStateAdapter syncStateAdapter)", "full_signature": "public  TripDatabaseAdapter(@NonNull StorageManager storageManager, @NonNull UserPreferenceManager preferences, @NonNull SyncStateAdapter syncStateAdapter)", "class_method_signature": "TripDatabaseAdapter.TripDatabaseAdapter(@NonNull StorageManager storageManager, @NonNull UserPreferenceManager preferences, @NonNull SyncStateAdapter syncStateAdapter)", "testcase": false, "constructor": true}, {"identifier": "read", "parameters": "(@NonNull Cursor cursor)", "modifiers": "@Override @NonNull public", "return": "Trip", "signature": "Trip read(@NonNull Cursor cursor)", "full_signature": "@Override @NonNull public Trip read(@NonNull Cursor cursor)", "class_method_signature": "TripDatabaseAdapter.read(@NonNull Cursor cursor)", "testcase": false, "constructor": false}, {"identifier": "write", "parameters": "(@NonNull Trip trip, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "modifiers": "@Override @NonNull public", "return": "ContentValues", "signature": "ContentValues write(@NonNull Trip trip, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "full_signature": "@Override @NonNull public ContentValues write(@NonNull Trip trip, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "class_method_signature": "TripDatabaseAdapter.write(@NonNull Trip trip, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "testcase": false, "constructor": false}, {"identifier": "build", "parameters": "(@NonNull Trip trip, int primaryKey, @NonNull UUID uuid, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "modifiers": "@Override @NonNull public", "return": "Trip", "signature": "Trip build(@NonNull Trip trip, int primaryKey, @NonNull UUID uuid, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "full_signature": "@Override @NonNull public Trip build(@NonNull Trip trip, int primaryKey, @NonNull UUID uuid, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "class_method_signature": "TripDatabaseAdapter.build(@NonNull Trip trip, int primaryKey, @NonNull UUID uuid, @NonNull DatabaseOperationMetadata databaseOperationMetadata)", "testcase": false, "constructor": false}], "file": "app/src/main/java/co/smartreceipts/android/persistence/database/tables/adapters/TripDatabaseAdapter.java"}, "focal_method": {"identifier": "read", "parameters": "(@NonNull Cursor cursor)", "modifiers": "@Override @NonNull public", "return": "Trip", "body": "@Override\n    @NonNull\n    public Trip read(@NonNull Cursor cursor) {\n        final int idIndex = cursor.getColumnIndex(CategoriesTable.COLUMN_ID);\n        final int uuidIndex = cursor.getColumnIndex(CategoriesTable.COLUMN_UUID);\n        final int nameIndex = cursor.getColumnIndex(TripsTable.COLUMN_NAME);\n        final int fromIndex = cursor.getColumnIndex(TripsTable.COLUMN_FROM);\n        final int toIndex = cursor.getColumnIndex(TripsTable.COLUMN_TO);\n        final int fromTimeZoneIndex = cursor.getColumnIndex(TripsTable.COLUMN_FROM_TIMEZONE);\n        final int toTimeZoneIndex = cursor.getColumnIndex(TripsTable.COLUMN_TO_TIMEZONE);\n        final int commentIndex = cursor.getColumnIndex(TripsTable.COLUMN_COMMENT);\n        final int costCenterIndex = cursor.getColumnIndex(TripsTable.COLUMN_COST_CENTER);\n        final int defaultCurrencyIndex = cursor.getColumnIndex(TripsTable.COLUMN_DEFAULT_CURRENCY);\n        final int nameHiddenFromAutoCompleteIndex = cursor.getColumnIndex(TripsTable.COLUMN_NAME_HIDDEN_AUTO_COMPLETE);\n        final int commentHiddenFromAutoCompleteIndex = cursor.getColumnIndex(TripsTable.COLUMN_COMMENT_HIDDEN_AUTO_COMPLETE);\n        final int costCenterHiddenFromAutoCompleteIndex = cursor.getColumnIndex(TripsTable.COLUMN_COSTCENTER_HIDDEN_AUTO_COMPLETE);\n\n        final int id = cursor.getInt(idIndex);\n        final UUID uuid = UUID.fromString(cursor.getString(uuidIndex));\n        final String name = cursor.getString(nameIndex);\n        final long from = cursor.getLong(fromIndex);\n        final long to = cursor.getLong(toIndex);\n        final String fromTimeZone = cursor.getString(fromTimeZoneIndex);\n        final String toTimeZone = cursor.getString(toTimeZoneIndex);\n        final String comment = cursor.getString(commentIndex);\n        final String costCenter = cursor.getString(costCenterIndex);\n        final String defaultCurrency = cursor.getString(defaultCurrencyIndex);\n        final boolean isNameHiddenFromAutoComplete = cursor.getInt(nameHiddenFromAutoCompleteIndex) > 0;\n        final boolean isCommentHiddenFromAutoComplete = cursor.getInt(commentHiddenFromAutoCompleteIndex) > 0;\n        final boolean isCostCenterHiddenFromAutoComplete = cursor.getInt(costCenterHiddenFromAutoCompleteIndex) > 0;\n        final SyncState syncState = syncStateAdapter.read(cursor);\n\n        return new TripBuilderFactory()\n                .setId(id)\n                .setUuid(uuid)\n                .setDirectory(storageManager.mkdir(name))\n                .setStartDate(from)\n                .setEndDate(to)\n                .setStartTimeZone(fromTimeZone)\n                .setEndTimeZone(toTimeZone)\n                .setComment(comment)\n                .setCostCenter(costCenter)\n                .setDefaultCurrency(defaultCurrency, preferences.get(UserPreference.General.DefaultCurrency))\n                .setNameHiddenFromAutoComplete(isNameHiddenFromAutoComplete)\n                .setCommentHiddenFromAutoComplete(isCommentHiddenFromAutoComplete)\n                .setCostCenterHiddenFromAutoComplete(isCostCenterHiddenFromAutoComplete)\n                .setSyncState(syncState)\n                .build();\n    }", "signature": "Trip read(@NonNull Cursor cursor)", "full_signature": "@Override @NonNull public Trip read(@NonNull Cursor cursor)", "class_method_signature": "TripDatabaseAdapter.read(@NonNull Cursor cursor)", "testcase": false, "constructor": false, "invocations": ["getColumnIndex", "getColumnIndex", "getColumnIndex", "getColumnIndex", "getColumnIndex", "getColumnIndex", "getColumnIndex", "getColumnIndex", "getColumnIndex", "getColumnIndex", "getColumnIndex", "getColumnIndex", "getColumnIndex", "getInt", "fromString", "getString", "getString", "getLong", "getLong", "getString", "getString", "getString", "getString", "getString", "getInt", "getInt", "getInt", "read", "build", "setSyncState", "setCostCenterHiddenFromAutoComplete", "setCommentHiddenFromAutoComplete", "setNameHiddenFromAutoComplete", "setDefaultCurrency", "setCostCenter", "setComment", "setEndTimeZone", "setStartTimeZone", "setEndDate", "setStartDate", "setDirectory", "setUuid", "setId", "mkdir", "get"]}, "repository": {"repo_id": 2684727, "url": "https://github.com/wbaumann/SmartReceiptsLibrary", "stars": 166, "created": "11/1/2011 12:32:39 AM +00:00", "updates": "2020-01-26T22:04:24+00:00", "fork": "False", "license": "licensed"}}