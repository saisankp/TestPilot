{"test_class": {"identifier": "CommandTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Rule\n\tpublic ExpectedException expectedEx = ExpectedException.none();", "modifier": "@Rule\n\tpublic", "type": "ExpectedException", "declarator": "expectedEx = ExpectedException.none()", "var_name": "expectedEx"}], "file": "nimbus-core/src/test/java/com/antheminc/oss/nimbus/domain/cmd/CommandTest.java"}, "test_case": {"identifier": "testInvalidCommandMissingBehavior", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testInvalidCommandMissingBehavior() throws Exception {\n\t\texpectedEx.expect(InvalidConfigException.class);\n\t\texpectedEx.expectMessage(\"Command with URI: /anthem/org/fep/p/umcase_view:100/_get cannot have null Behavior.\");\n\t\tCommand cmd = CommandBuilder.withUri(\"/anthem/org/fep/p/umcase_view:100/_get\").getCommand();\n\t\tcmd.setBehaviors(null);\n\t\tcmd.validate();\n\t}", "signature": "void testInvalidCommandMissingBehavior()", "full_signature": "@Test public void testInvalidCommandMissingBehavior()", "class_method_signature": "CommandTest.testInvalidCommandMissingBehavior()", "testcase": true, "constructor": false, "invocations": ["expect", "expectMessage", "getCommand", "withUri", "setBehaviors", "validate"]}, "focal_class": {"identifier": "Command", "superclass": "", "interfaces": "implements Serializable", "fields": [{"original_string": "private static final long serialVersionUID = 1L;", "modifier": "private static final", "type": "long", "declarator": "serialVersionUID = 1L", "var_name": "serialVersionUID"}, {"original_string": "private static final String MISSING_COMMAND_ARGUMENTS_MSG = \"Command with URI: %s cannot have null %s.\";", "modifier": "private static final", "type": "String", "declarator": "MISSING_COMMAND_ARGUMENTS_MSG = \"Command with URI: %s cannot have null %s.\"", "var_name": "MISSING_COMMAND_ARGUMENTS_MSG"}, {"original_string": "private final String absoluteUri;", "modifier": "private final", "type": "String", "declarator": "absoluteUri", "var_name": "absoluteUri"}, {"original_string": "private String clientUserId;", "modifier": "private", "type": "String", "declarator": "clientUserId", "var_name": "clientUserId"}, {"original_string": "@Getter(value=AccessLevel.PROTECTED)\n\tprivate CommandElementLinked root;", "modifier": "@Getter(value=AccessLevel.PROTECTED)\n\tprivate", "type": "CommandElementLinked", "declarator": "root", "var_name": "root"}, {"original_string": "private Action action;", "modifier": "private", "type": "Action", "declarator": "action", "var_name": "action"}, {"original_string": "private String event;", "modifier": "private", "type": "String", "declarator": "event", "var_name": "event"}, {"original_string": "private List<Behavior> behaviors;", "modifier": "private", "type": "List<Behavior>", "declarator": "behaviors", "var_name": "behaviors"}, {"original_string": "private Map<String, String[]> requestParams;", "modifier": "private", "type": "Map<String, String[]>", "declarator": "requestParams", "var_name": "requestParams"}, {"original_string": "@JsonIgnore\n\tprivate final Instant createdInstant = Instant.now();", "modifier": "@JsonIgnore\n\tprivate final", "type": "Instant", "declarator": "createdInstant = Instant.now()", "var_name": "createdInstant"}, {"original_string": "@JsonIgnore @Getter(value=AccessLevel.PRIVATE)\n\tprivate final transient CollectionsTemplate<List<Behavior>, Behavior> templateBehaviors = CollectionsTemplate.linked(()->getBehaviors(), s->setBehaviors(s));", "modifier": "@JsonIgnore @Getter(value=AccessLevel.PRIVATE)\n\tprivate final transient", "type": "CollectionsTemplate<List<Behavior>, Behavior>", "declarator": "templateBehaviors = CollectionsTemplate.linked(()->getBehaviors(), s->setBehaviors(s))", "var_name": "templateBehaviors"}], "methods": [{"identifier": "Command", "parameters": "(String absoluteUri)", "modifiers": "public", "return": "", "signature": " Command(String absoluteUri)", "full_signature": "public  Command(String absoluteUri)", "class_method_signature": "Command.Command(String absoluteUri)", "testcase": false, "constructor": true}, {"identifier": "Command", "parameters": "(Command source)", "modifiers": "public", "return": "", "signature": " Command(Command source)", "full_signature": "public  Command(Command source)", "class_method_signature": "Command.Command(Command source)", "testcase": false, "constructor": true}, {"identifier": "templateBehaviors", "parameters": "()", "modifiers": "public", "return": "CollectionsTemplate<List<Behavior>, Behavior>", "signature": "CollectionsTemplate<List<Behavior>, Behavior> templateBehaviors()", "full_signature": "public CollectionsTemplate<List<Behavior>, Behavior> templateBehaviors()", "class_method_signature": "Command.templateBehaviors()", "testcase": false, "constructor": false}, {"identifier": "validate", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void validate()", "full_signature": "public void validate()", "class_method_signature": "Command.validate()", "testcase": false, "constructor": false}, {"identifier": "validateCommandArgument", "parameters": "(Type type)", "modifiers": "private", "return": "void", "signature": "void validateCommandArgument(Type type)", "full_signature": "private void validateCommandArgument(Type type)", "class_method_signature": "Command.validateCommandArgument(Type type)", "testcase": false, "constructor": false}, {"identifier": "getMissingArgumentErrorMsg", "parameters": "(Type type)", "modifiers": "private", "return": "String", "signature": "String getMissingArgumentErrorMsg(Type type)", "full_signature": "private String getMissingArgumentErrorMsg(Type type)", "class_method_signature": "Command.getMissingArgumentErrorMsg(Type type)", "testcase": false, "constructor": false}, {"identifier": "isRootDomainOnly", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isRootDomainOnly()", "full_signature": "public boolean isRootDomainOnly()", "class_method_signature": "Command.isRootDomainOnly()", "testcase": false, "constructor": false}, {"identifier": "root", "parameters": "()", "modifiers": "public", "return": "CommandElementLinked", "signature": "CommandElementLinked root()", "full_signature": "public CommandElementLinked root()", "class_method_signature": "Command.root()", "testcase": false, "constructor": false}, {"identifier": "isEvent", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isEvent()", "full_signature": "public boolean isEvent()", "class_method_signature": "Command.isEvent()", "testcase": false, "constructor": false}, {"identifier": "createRootDomainCommand", "parameters": "()", "modifiers": "public", "return": "Command", "signature": "Command createRootDomainCommand()", "full_signature": "public Command createRootDomainCommand()", "class_method_signature": "Command.createRootDomainCommand()", "testcase": false, "constructor": false}, {"identifier": "getAliasUri", "parameters": "(Type type)", "modifiers": "public", "return": "String", "signature": "String getAliasUri(Type type)", "full_signature": "public String getAliasUri(Type type)", "class_method_signature": "Command.getAliasUri(Type type)", "testcase": false, "constructor": false}, {"identifier": "getRefId", "parameters": "(Type type)", "modifiers": "public", "return": "RefId<?>", "signature": "RefId<?> getRefId(Type type)", "full_signature": "public RefId<?> getRefId(Type type)", "class_method_signature": "Command.getRefId(Type type)", "testcase": false, "constructor": false}, {"identifier": "getAbsoluteUri", "parameters": "(Type type)", "modifiers": "public", "return": "String", "signature": "String getAbsoluteUri(Type type)", "full_signature": "public String getAbsoluteUri(Type type)", "class_method_signature": "Command.getAbsoluteUri(Type type)", "testcase": false, "constructor": false}, {"identifier": "getAlias", "parameters": "(Type type)", "modifiers": "public", "return": "String", "signature": "String getAlias(Type type)", "full_signature": "public String getAlias(Type type)", "class_method_signature": "Command.getAlias(Type type)", "testcase": false, "constructor": false}, {"identifier": "getElement", "parameters": "(Type type)", "modifiers": "public", "return": "Optional<CommandElementLinked>", "signature": "Optional<CommandElementLinked> getElement(Type type)", "full_signature": "public Optional<CommandElementLinked> getElement(Type type)", "class_method_signature": "Command.getElement(Type type)", "testcase": false, "constructor": false}, {"identifier": "getElementSafely", "parameters": "(Type type)", "modifiers": "public", "return": "CommandElementLinked", "signature": "CommandElementLinked getElementSafely(Type type)", "full_signature": "public CommandElementLinked getElementSafely(Type type)", "class_method_signature": "Command.getElementSafely(Type type)", "testcase": false, "constructor": false}, {"identifier": "getRelativeUri", "parameters": "(String input)", "modifiers": "public", "return": "String", "signature": "String getRelativeUri(String input)", "full_signature": "public String getRelativeUri(String input)", "class_method_signature": "Command.getRelativeUri(String input)", "testcase": false, "constructor": false}, {"identifier": "isView", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isView()", "full_signature": "public boolean isView()", "class_method_signature": "Command.isView()", "testcase": false, "constructor": false}, {"identifier": "getAppAlias", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getAppAlias()", "full_signature": "public String getAppAlias()", "class_method_signature": "Command.getAppAlias()", "testcase": false, "constructor": false}, {"identifier": "getRootClientAlias", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getRootClientAlias()", "full_signature": "public String getRootClientAlias()", "class_method_signature": "Command.getRootClientAlias()", "testcase": false, "constructor": false}, {"identifier": "getRootDomainElement", "parameters": "()", "modifiers": "public", "return": "CommandElement", "signature": "CommandElement getRootDomainElement()", "full_signature": "public CommandElement getRootDomainElement()", "class_method_signature": "Command.getRootDomainElement()", "testcase": false, "constructor": false}, {"identifier": "getRootDomainAlias", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getRootDomainAlias()", "full_signature": "public String getRootDomainAlias()", "class_method_signature": "Command.getRootDomainAlias()", "testcase": false, "constructor": false}, {"identifier": "getRootDomainUri", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getRootDomainUri()", "full_signature": "public String getRootDomainUri()", "class_method_signature": "Command.getRootDomainUri()", "testcase": false, "constructor": false}, {"identifier": "getAbsoluteDomainAlias", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getAbsoluteDomainAlias()", "full_signature": "public String getAbsoluteDomainAlias()", "class_method_signature": "Command.getAbsoluteDomainAlias()", "testcase": false, "constructor": false}, {"identifier": "getAbsoluteDomainUri", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getAbsoluteDomainUri()", "full_signature": "public String getAbsoluteDomainUri()", "class_method_signature": "Command.getAbsoluteDomainUri()", "testcase": false, "constructor": false}, {"identifier": "getProcessAlias", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getProcessAlias()", "full_signature": "public String getProcessAlias()", "class_method_signature": "Command.getProcessAlias()", "testcase": false, "constructor": false}, {"identifier": "getProcessUri", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getProcessUri()", "full_signature": "public String getProcessUri()", "class_method_signature": "Command.getProcessUri()", "testcase": false, "constructor": false}, {"identifier": "getAbsoluteAlias", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getAbsoluteAlias()", "full_signature": "public String getAbsoluteAlias()", "class_method_signature": "Command.getAbsoluteAlias()", "testcase": false, "constructor": false}, {"identifier": "getAbsoluteAliasWithAction", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getAbsoluteAliasWithAction()", "full_signature": "public String getAbsoluteAliasWithAction()", "class_method_signature": "Command.getAbsoluteAliasWithAction()", "testcase": false, "constructor": false}, {"identifier": "getAbsoluteAliasTillRootDomain", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getAbsoluteAliasTillRootDomain()", "full_signature": "public String getAbsoluteAliasTillRootDomain()", "class_method_signature": "Command.getAbsoluteAliasTillRootDomain()", "testcase": false, "constructor": false}, {"identifier": "buildAlias", "parameters": "(CommandElementLinked startElem)", "modifiers": "public", "return": "String", "signature": "String buildAlias(CommandElementLinked startElem)", "full_signature": "public String buildAlias(CommandElementLinked startElem)", "class_method_signature": "Command.buildAlias(CommandElementLinked startElem)", "testcase": false, "constructor": false}, {"identifier": "buildAlias", "parameters": "(Type endWhentype)", "modifiers": "public", "return": "String", "signature": "String buildAlias(Type endWhentype)", "full_signature": "public String buildAlias(Type endWhentype)", "class_method_signature": "Command.buildAlias(Type endWhentype)", "testcase": false, "constructor": false}, {"identifier": "buildAlias", "parameters": "(CommandElementLinked startElem, Type endWhentype)", "modifiers": "public", "return": "String", "signature": "String buildAlias(CommandElementLinked startElem, Type endWhentype)", "full_signature": "public String buildAlias(CommandElementLinked startElem, Type endWhentype)", "class_method_signature": "Command.buildAlias(CommandElementLinked startElem, Type endWhentype)", "testcase": false, "constructor": false}, {"identifier": "buildUri", "parameters": "(CommandElementLinked startElem)", "modifiers": "public", "return": "String", "signature": "String buildUri(CommandElementLinked startElem)", "full_signature": "public String buildUri(CommandElementLinked startElem)", "class_method_signature": "Command.buildUri(CommandElementLinked startElem)", "testcase": false, "constructor": false}, {"identifier": "buildUri", "parameters": "(Type endWhenType)", "modifiers": "public", "return": "String", "signature": "String buildUri(Type endWhenType)", "full_signature": "public String buildUri(Type endWhenType)", "class_method_signature": "Command.buildUri(Type endWhenType)", "testcase": false, "constructor": false}, {"identifier": "buildUri", "parameters": "(CommandElementLinked startElem, Type endWhenType)", "modifiers": "public", "return": "String", "signature": "String buildUri(CommandElementLinked startElem, Type endWhenType)", "full_signature": "public String buildUri(CommandElementLinked startElem, Type endWhenType)", "class_method_signature": "Command.buildUri(CommandElementLinked startElem, Type endWhenType)", "testcase": false, "constructor": false}, {"identifier": "traverseElements", "parameters": "(CommandElementLinked startElem, BiConsumer<CommandElement, StringBuilder> cb)", "modifiers": "public", "return": "String", "signature": "String traverseElements(CommandElementLinked startElem, BiConsumer<CommandElement, StringBuilder> cb)", "full_signature": "public String traverseElements(CommandElementLinked startElem, BiConsumer<CommandElement, StringBuilder> cb)", "class_method_signature": "Command.traverseElements(CommandElementLinked startElem, BiConsumer<CommandElement, StringBuilder> cb)", "testcase": false, "constructor": false}, {"identifier": "traverseElements", "parameters": "(CommandElementLinked startElem, Consumer<CommandElement> cb)", "modifiers": "public", "return": "void", "signature": "void traverseElements(CommandElementLinked startElem, Consumer<CommandElement> cb)", "full_signature": "public void traverseElements(CommandElementLinked startElem, Consumer<CommandElement> cb)", "class_method_signature": "Command.traverseElements(CommandElementLinked startElem, Consumer<CommandElement> cb)", "testcase": false, "constructor": false}, {"identifier": "traverseElements", "parameters": "(CommandElementLinked startElem, Type type, BiConsumer<CommandElement, StringBuilder> cb)", "modifiers": "public", "return": "String", "signature": "String traverseElements(CommandElementLinked startElem, Type type, BiConsumer<CommandElement, StringBuilder> cb)", "full_signature": "public String traverseElements(CommandElementLinked startElem, Type type, BiConsumer<CommandElement, StringBuilder> cb)", "class_method_signature": "Command.traverseElements(CommandElementLinked startElem, Type type, BiConsumer<CommandElement, StringBuilder> cb)", "testcase": false, "constructor": false}, {"identifier": "traverseElements", "parameters": "(CommandElementLinked startElem, Type type, Consumer<CommandElement> cb)", "modifiers": "public", "return": "void", "signature": "void traverseElements(CommandElementLinked startElem, Type type, Consumer<CommandElement> cb)", "full_signature": "public void traverseElements(CommandElementLinked startElem, Type type, Consumer<CommandElement> cb)", "class_method_signature": "Command.traverseElements(CommandElementLinked startElem, Type type, Consumer<CommandElement> cb)", "testcase": false, "constructor": false}, {"identifier": "createRoot", "parameters": "(Type type, String uri)", "modifiers": "public", "return": "CommandElementLinked", "signature": "CommandElementLinked createRoot(Type type, String uri)", "full_signature": "public CommandElementLinked createRoot(Type type, String uri)", "class_method_signature": "Command.createRoot(Type type, String uri)", "testcase": false, "constructor": false}, {"identifier": "toUri", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String toUri()", "full_signature": "public String toUri()", "class_method_signature": "Command.toUri()", "testcase": false, "constructor": false}, {"identifier": "toRemoteUri", "parameters": "(Type endWhenType, Action withAction, Behavior withBehavior)", "modifiers": "public", "return": "String", "signature": "String toRemoteUri(Type endWhenType, Action withAction, Behavior withBehavior)", "full_signature": "public String toRemoteUri(Type endWhenType, Action withAction, Behavior withBehavior)", "class_method_signature": "Command.toRemoteUri(Type endWhenType, Action withAction, Behavior withBehavior)", "testcase": false, "constructor": false}, {"identifier": "addRequestParamsToUri", "parameters": "(StringBuilder sb)", "modifiers": "private", "return": "void", "signature": "void addRequestParamsToUri(StringBuilder sb)", "full_signature": "private void addRequestParamsToUri(StringBuilder sb)", "class_method_signature": "Command.addRequestParamsToUri(StringBuilder sb)", "testcase": false, "constructor": false}, {"identifier": "getParameterValue", "parameters": "(String requestParameter)", "modifiers": "public", "return": "String[]", "signature": "String[] getParameterValue(String requestParameter)", "full_signature": "public String[] getParameterValue(String requestParameter)", "class_method_signature": "Command.getParameterValue(String requestParameter)", "testcase": false, "constructor": false}, {"identifier": "getFirstParameterValue", "parameters": "(String requestParameter)", "modifiers": "public", "return": "String", "signature": "String getFirstParameterValue(String requestParameter)", "full_signature": "public String getFirstParameterValue(String requestParameter)", "class_method_signature": "Command.getFirstParameterValue(String requestParameter)", "testcase": false, "constructor": false}, {"identifier": "hasRawPayload", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean hasRawPayload()", "full_signature": "public boolean hasRawPayload()", "class_method_signature": "Command.hasRawPayload()", "testcase": false, "constructor": false}, {"identifier": "getRawPayload", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getRawPayload()", "full_signature": "public String getRawPayload()", "class_method_signature": "Command.getRawPayload()", "testcase": false, "constructor": false}, {"identifier": "containsFunction", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean containsFunction()", "full_signature": "public boolean containsFunction()", "class_method_signature": "Command.containsFunction()", "testcase": false, "constructor": false}], "file": "nimbus-core/src/main/java/com/antheminc/oss/nimbus/domain/cmd/Command.java"}, "focal_method": {"identifier": "validate", "parameters": "()", "modifiers": "public", "return": "void", "body": "public void validate() {\n\t\tOptional.ofNullable(getAction())\n\t\t\t.orElseThrow(()->new InvalidConfigException(String.format(MISSING_COMMAND_ARGUMENTS_MSG, getAbsoluteUri(), \"Action\")));\n\t\t\n\t\tif(CollectionUtils.isEmpty(getBehaviors()))\n\t\t\tthrow new InvalidConfigException(String.format(MISSING_COMMAND_ARGUMENTS_MSG, getAbsoluteUri(), \"Behavior\"));\n\t\t\n\t\tvalidateCommandArgument(Type.ClientAlias);\n\t\tvalidateCommandArgument(Type.AppAlias);\n\t\tvalidateCommandArgument(Type.PlatformMarker);\n\t\tvalidateCommandArgument(Type.DomainAlias);\n\t}", "signature": "void validate()", "full_signature": "public void validate()", "class_method_signature": "Command.validate()", "testcase": false, "constructor": false, "invocations": ["orElseThrow", "ofNullable", "getAction", "format", "getAbsoluteUri", "isEmpty", "getBehaviors", "format", "getAbsoluteUri", "validateCommandArgument", "validateCommandArgument", "validateCommandArgument", "validateCommandArgument"]}, "repository": {"repo_id": 96120606, "url": "https://github.com/openanthem/nimbus-core", "language": "Java", "is_fork": false, "fork_count": 48, "stargazer_count": 9, "size": 55787, "license": "licensed"}}