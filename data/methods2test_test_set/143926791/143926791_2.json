{"test_class": {"identifier": "QuoteServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "MockMvc mockMvc;", "modifier": "", "type": "MockMvc", "declarator": "mockMvc", "var_name": "mockMvc"}, {"original_string": "@InjectMocks\n    @Autowired\n    QuoteService service;", "modifier": "@InjectMocks\n    @Autowired", "type": "QuoteService", "declarator": "service", "var_name": "service"}, {"original_string": "@Mock\n    RestTemplate restTemplate;", "modifier": "@Mock", "type": "RestTemplate", "declarator": "restTemplate", "var_name": "restTemplate"}, {"original_string": "@Rule\n    public ExpectedException thrown = ExpectedException.none();", "modifier": "@Rule\n    public", "type": "ExpectedException", "declarator": "thrown = ExpectedException.none()", "var_name": "thrown"}], "file": "quotes-service/src/test/java/io/pivotal/quotes/service/QuoteServiceTest.java"}, "test_case": {"identifier": "getCompanyInfo", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getCompanyInfo() throws Exception {\n        List<CompanyInfo> comps = service.getCompanyInfo(TestConfiguration.QUOTE_SYMBOL);\n        assertFalse(comps.isEmpty());\n        boolean pass = false;\n        for (CompanyInfo info : comps) {\n            if (info.getSymbol().equals(TestConfiguration.QUOTE_SYMBOL)) {\n                pass = true;\n            }\n        }\n        assertTrue(pass);\n    }", "signature": "void getCompanyInfo()", "full_signature": "@Test public void getCompanyInfo()", "class_method_signature": "QuoteServiceTest.getCompanyInfo()", "testcase": true, "constructor": false, "invocations": ["getCompanyInfo", "assertFalse", "isEmpty", "equals", "getSymbol", "assertTrue"]}, "focal_class": {"identifier": "QuoteService", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Value(\"${pivotal.quotes.quote_url}\")\n\tprotected String quote_url;", "modifier": "@Value(\"${pivotal.quotes.quote_url}\")\n\tprotected", "type": "String", "declarator": "quote_url", "var_name": "quote_url"}, {"original_string": "@Value(\"${pivotal.quotes.quotes_url}\")\n\tprotected String quotes_url;", "modifier": "@Value(\"${pivotal.quotes.quotes_url}\")\n\tprotected", "type": "String", "declarator": "quotes_url", "var_name": "quotes_url"}, {"original_string": "@Value(\"${pivotal.quotes.companies_url}\")\n\tprotected String company_url;", "modifier": "@Value(\"${pivotal.quotes.companies_url}\")\n\tprotected", "type": "String", "declarator": "company_url", "var_name": "company_url"}, {"original_string": "public static final String FMT = \"json\";", "modifier": "public static final", "type": "String", "declarator": "FMT = \"json\"", "var_name": "FMT"}, {"original_string": "private RestTemplate restTemplate = new RestTemplate();", "modifier": "private", "type": "RestTemplate", "declarator": "restTemplate = new RestTemplate()", "var_name": "restTemplate"}], "methods": [{"identifier": "getQuote", "parameters": "(String symbol)", "modifiers": "@HystrixCommand(fallbackMethod = \"getQuoteFallback\") public", "return": "Quote", "signature": "Quote getQuote(String symbol)", "full_signature": "@HystrixCommand(fallbackMethod = \"getQuoteFallback\") public Quote getQuote(String symbol)", "class_method_signature": "QuoteService.getQuote(String symbol)", "testcase": false, "constructor": false}, {"identifier": "getQuoteFallback", "parameters": "(String symbol)", "modifiers": "@SuppressWarnings(\"unused\") private", "return": "Quote", "signature": "Quote getQuoteFallback(String symbol)", "full_signature": "@SuppressWarnings(\"unused\") private Quote getQuoteFallback(String symbol)", "class_method_signature": "QuoteService.getQuoteFallback(String symbol)", "testcase": false, "constructor": false}, {"identifier": "getCompanyInfo", "parameters": "(String name)", "modifiers": "@HystrixCommand(fallbackMethod = \"getCompanyInfoFallback\", commandProperties = { @HystrixProperty(name=\"execution.timeout.enabled\", value=\"false\") }) public", "return": "List<CompanyInfo>", "signature": "List<CompanyInfo> getCompanyInfo(String name)", "full_signature": "@HystrixCommand(fallbackMethod = \"getCompanyInfoFallback\", commandProperties = { @HystrixProperty(name=\"execution.timeout.enabled\", value=\"false\") }) public List<CompanyInfo> getCompanyInfo(String name)", "class_method_signature": "QuoteService.getCompanyInfo(String name)", "testcase": false, "constructor": false}, {"identifier": "getQuotes", "parameters": "(String symbols)", "modifiers": "public", "return": "List<Quote>", "signature": "List<Quote> getQuotes(String symbols)", "full_signature": "public List<Quote> getQuotes(String symbols)", "class_method_signature": "QuoteService.getQuotes(String symbols)", "testcase": false, "constructor": false}, {"identifier": "getCompanyInfoFallback", "parameters": "(String symbol)", "modifiers": "@SuppressWarnings(\"unused\") private", "return": "List<CompanyInfo>", "signature": "List<CompanyInfo> getCompanyInfoFallback(String symbol)", "full_signature": "@SuppressWarnings(\"unused\") private List<CompanyInfo> getCompanyInfoFallback(String symbol)", "class_method_signature": "QuoteService.getCompanyInfoFallback(String symbol)", "testcase": false, "constructor": false}], "file": "quotes-service/src/main/java/io/pivotal/quotes/service/QuoteService.java"}, "focal_method": {"identifier": "getCompanyInfo", "parameters": "(String name)", "modifiers": "@HystrixCommand(fallbackMethod = \"getCompanyInfoFallback\", commandProperties = { @HystrixProperty(name=\"execution.timeout.enabled\", value=\"false\") }) public", "return": "List<CompanyInfo>", "body": "@HystrixCommand(fallbackMethod = \"getCompanyInfoFallback\",\n\t\t    commandProperties = {\n\t\t      @HystrixProperty(name=\"execution.timeout.enabled\", value=\"false\")\n\t\t    })\n\tpublic List<CompanyInfo> getCompanyInfo(String name) {\n\t\tlog.debug(\"QuoteService.getCompanyInfo: retrieving info for: \"\n\t\t\t\t+ name);\n\t\tMap<String, String> params = new HashMap<String, String>();\n\t\tparams.put(\"name\", name);\n\t\tCompanyInfo[] companies = restTemplate.getForObject(company_url,\n\t\t\t\tCompanyInfo[].class, params);\n\t\tlog.debug(\"QuoteService.getCompanyInfo: retrieved info: \"\n\t\t\t\t+ companies);\n\t\treturn Arrays.asList(companies);\n\t}", "signature": "List<CompanyInfo> getCompanyInfo(String name)", "full_signature": "@HystrixCommand(fallbackMethod = \"getCompanyInfoFallback\", commandProperties = { @HystrixProperty(name=\"execution.timeout.enabled\", value=\"false\") }) public List<CompanyInfo> getCompanyInfo(String name)", "class_method_signature": "QuoteService.getCompanyInfo(String name)", "testcase": false, "constructor": false, "invocations": ["debug", "put", "getForObject", "debug", "asList"]}, "repository": {"repo_id": 143926791, "url": "https://github.com/Pivotal-Field-Engineering/pivotal-bank-demo", "language": "Java", "is_fork": false, "fork_count": 48, "stargazer_count": 35, "size": 45556, "license": "licensed"}}