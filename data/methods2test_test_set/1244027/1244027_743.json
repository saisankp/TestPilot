{"test_class": {"identifier": "NamedLocksTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private NamedLocks namedLocks;", "modifier": "private", "type": "NamedLocks", "declarator": "namedLocks", "var_name": "namedLocks"}], "file": "modeshape-jcr/src/test/java/org/modeshape/jcr/value/binary/NamedLocksTest.java"}, "test_case": {"identifier": "shouldHaveNoLocksToStart", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void shouldHaveNoLocksToStart() {\n        assertThat(namedLocks.size(), is(0));\n    }", "signature": "void shouldHaveNoLocksToStart()", "full_signature": "@Test public void shouldHaveNoLocksToStart()", "class_method_signature": "NamedLocksTest.shouldHaveNoLocksToStart()", "testcase": true, "constructor": false, "invocations": ["assertThat", "size", "is"]}, "focal_class": {"identifier": "NamedLocks", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final Lock masterLock = new ReentrantLock();", "modifier": "private final", "type": "Lock", "declarator": "masterLock = new ReentrantLock()", "var_name": "masterLock"}, {"original_string": "private final Map<String, NamedLock> locks = new HashMap<String, NamedLock>();", "modifier": "private final", "type": "Map<String, NamedLock>", "declarator": "locks = new HashMap<String, NamedLock>()", "var_name": "locks"}], "methods": [{"identifier": "writeLock", "parameters": "( String name )", "modifiers": "public", "return": "Lock", "signature": "Lock writeLock( String name )", "full_signature": "public Lock writeLock( String name )", "class_method_signature": "NamedLocks.writeLock( String name )", "testcase": false, "constructor": false}, {"identifier": "readLock", "parameters": "( String name )", "modifiers": "public", "return": "Lock", "signature": "Lock readLock( String name )", "full_signature": "public Lock readLock( String name )", "class_method_signature": "NamedLocks.readLock( String name )", "testcase": false, "constructor": false}, {"identifier": "lock", "parameters": "( String name,\n                               boolean writeLock )", "modifiers": "protected final", "return": "Lock", "signature": "Lock lock( String name,\n                               boolean writeLock )", "full_signature": "protected final Lock lock( String name,\n                               boolean writeLock )", "class_method_signature": "NamedLocks.lock( String name,\n                               boolean writeLock )", "testcase": false, "constructor": false}, {"identifier": "unlock", "parameters": "( NamedLock namedLock,\n                           Lock rawLock )", "modifiers": "protected", "return": "void", "signature": "void unlock( NamedLock namedLock,\n                           Lock rawLock )", "full_signature": "protected void unlock( NamedLock namedLock,\n                           Lock rawLock )", "class_method_signature": "NamedLocks.unlock( NamedLock namedLock,\n                           Lock rawLock )", "testcase": false, "constructor": false}, {"identifier": "size", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int size()", "full_signature": "public int size()", "class_method_signature": "NamedLocks.size()", "testcase": false, "constructor": false}], "file": "modeshape-jcr/src/main/java/org/modeshape/jcr/value/binary/NamedLocks.java"}, "focal_method": {"identifier": "size", "parameters": "()", "modifiers": "public", "return": "int", "body": "public int size() {\n        try {\n            masterLock.lock();\n            return locks.size();\n        } finally {\n            masterLock.unlock();\n        }\n    }", "signature": "int size()", "full_signature": "public int size()", "class_method_signature": "NamedLocks.size()", "testcase": false, "constructor": false, "invocations": ["lock", "size", "unlock"]}, "repository": {"repo_id": 1244027, "url": "https://github.com/ModeShape/modeshape", "language": "Java", "is_fork": false, "fork_count": 213, "stargazer_count": 208, "size": 134266, "license": "licensed"}}