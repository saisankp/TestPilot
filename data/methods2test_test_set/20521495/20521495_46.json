{"test_class": {"identifier": "ClusterSyncManagerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private ClusterSyncManager clusterSyncManager;", "modifier": "private", "type": "ClusterSyncManager", "declarator": "clusterSyncManager", "var_name": "clusterSyncManager"}, {"original_string": "@Mock\n    private ConfigurationContext configurationContext;", "modifier": "@Mock\n    private", "type": "ConfigurationContext", "declarator": "configurationContext", "var_name": "configurationContext"}, {"original_string": "@Mock\n    private ZKUtils zkUtils;", "modifier": "@Mock\n    private", "type": "ZKUtils", "declarator": "zkUtils", "var_name": "zkUtils"}, {"original_string": "@Mock\n    private FailOverTask failOverTask;", "modifier": "@Mock\n    private", "type": "FailOverTask", "declarator": "failOverTask", "var_name": "failOverTask"}, {"original_string": "@Mock\n    private CuratorFrameworkImpl curatorFramework;", "modifier": "@Mock\n    private", "type": "CuratorFrameworkImpl", "declarator": "curatorFramework", "var_name": "curatorFramework"}, {"original_string": "@Mock\n    private ClusterBarrierManager clusterBarrierManager;", "modifier": "@Mock\n    private", "type": "ClusterBarrierManager", "declarator": "clusterBarrierManager", "var_name": "clusterBarrierManager"}, {"original_string": "@Mock\n    private StratioStreamingMessage message;", "modifier": "@Mock\n    private", "type": "StratioStreamingMessage", "declarator": "message", "var_name": "message"}, {"original_string": "@Mock\n    private ActionCallbackDto nodeReply;", "modifier": "@Mock\n    private", "type": "ActionCallbackDto", "declarator": "nodeReply", "var_name": "nodeReply"}], "file": "engine/src/test/java/com/stratio/decision/clustering/ClusterSyncManagerTest.java"}, "test_case": {"identifier": "testGetNode", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetNode() throws Exception {\n\n        ClusterSyncManager.getClusterSyncManager(configurationContext,\n                failOverTask);\n\n        ClusterSyncManager clusterSyncManager = ClusterSyncManager.getNode();\n\n        assertNotNull(clusterSyncManager);\n        assertThat(clusterSyncManager, instanceOf(ClusterSyncManager.class));\n\n    }", "signature": "void testGetNode()", "full_signature": "@Test public void testGetNode()", "class_method_signature": "ClusterSyncManagerTest.testGetNode()", "testcase": true, "constructor": false, "invocations": ["getClusterSyncManager", "getNode", "assertNotNull", "assertThat", "instanceOf"]}, "focal_class": {"identifier": "ClusterSyncManager", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static Logger logger = LoggerFactory.getLogger(ClusterSyncManager.class);", "modifier": "private static", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(ClusterSyncManager.class)", "var_name": "logger"}, {"original_string": "private static final String BARRIER_RELATIVE_PATH = \"barrier\";", "modifier": "private static final", "type": "String", "declarator": "BARRIER_RELATIVE_PATH = \"barrier\"", "var_name": "BARRIER_RELATIVE_PATH"}, {"original_string": "private static ClusterSyncManager self;", "modifier": "private static", "type": "ClusterSyncManager", "declarator": "self", "var_name": "self"}, {"original_string": "private CuratorFramework client;", "modifier": "private", "type": "CuratorFramework", "declarator": "client", "var_name": "client"}, {"original_string": "private String latchpath;", "modifier": "private", "type": "String", "declarator": "latchpath", "var_name": "latchpath"}, {"original_string": "private String id;", "modifier": "private", "type": "String", "declarator": "id", "var_name": "id"}, {"original_string": "private LeaderLatch leaderLatch;", "modifier": "private", "type": "LeaderLatch", "declarator": "leaderLatch", "var_name": "leaderLatch"}, {"original_string": "private Boolean clusteringEnabled;", "modifier": "private", "type": "Boolean", "declarator": "clusteringEnabled", "var_name": "clusteringEnabled"}, {"original_string": "private List<String> clusterNodes;", "modifier": "private", "type": "List<String>", "declarator": "clusterNodes", "var_name": "clusterNodes"}, {"original_string": "private List<String> nodesToCheck;", "modifier": "private", "type": "List<String>", "declarator": "nodesToCheck", "var_name": "nodesToCheck"}, {"original_string": "private Map<NODE_STATUS, List<String>> clusterNodesStatus;", "modifier": "private", "type": "Map<NODE_STATUS, List<String>>", "declarator": "clusterNodesStatus", "var_name": "clusterNodesStatus"}, {"original_string": "private String groupId;", "modifier": "private", "type": "String", "declarator": "groupId", "var_name": "groupId"}, {"original_string": "private FailOverTask failOverTask;", "modifier": "private", "type": "FailOverTask", "declarator": "failOverTask", "var_name": "failOverTask"}, {"original_string": "private Boolean allAckEnabled;", "modifier": "private", "type": "Boolean", "declarator": "allAckEnabled", "var_name": "allAckEnabled"}, {"original_string": "private int ackTimeout;", "modifier": "private", "type": "int", "declarator": "ackTimeout", "var_name": "ackTimeout"}, {"original_string": "private String zookeeperHost;", "modifier": "private", "type": "String", "declarator": "zookeeperHost", "var_name": "zookeeperHost"}, {"original_string": "private ZKUtils zkUtils;", "modifier": "private", "type": "ZKUtils", "declarator": "zkUtils", "var_name": "zkUtils"}, {"original_string": "private ClusterBarrierManager clusterBarrierManager;", "modifier": "private", "type": "ClusterBarrierManager", "declarator": "clusterBarrierManager", "var_name": "clusterBarrierManager"}], "methods": [{"identifier": "ClusterSyncManager", "parameters": "(String latchpath, String id, ConfigurationContext\n            configurationContext, FailOverTask failOverTask, CuratorFramework curatorClient, ZKUtils zkUtils,\n            ClusterBarrierManager clusterBarrierManager)", "modifiers": "public", "return": "", "signature": " ClusterSyncManager(String latchpath, String id, ConfigurationContext\n            configurationContext, FailOverTask failOverTask, CuratorFramework curatorClient, ZKUtils zkUtils,\n            ClusterBarrierManager clusterBarrierManager)", "full_signature": "public  ClusterSyncManager(String latchpath, String id, ConfigurationContext\n            configurationContext, FailOverTask failOverTask, CuratorFramework curatorClient, ZKUtils zkUtils,\n            ClusterBarrierManager clusterBarrierManager)", "class_method_signature": "ClusterSyncManager.ClusterSyncManager(String latchpath, String id, ConfigurationContext\n            configurationContext, FailOverTask failOverTask, CuratorFramework curatorClient, ZKUtils zkUtils,\n            ClusterBarrierManager clusterBarrierManager)", "testcase": false, "constructor": true}, {"identifier": "ClusterSyncManager", "parameters": "(String latchpath, String id, ConfigurationContext\n            configurationContext, FailOverTask failOverTask)", "modifiers": "public", "return": "", "signature": " ClusterSyncManager(String latchpath, String id, ConfigurationContext\n            configurationContext, FailOverTask failOverTask)", "full_signature": "public  ClusterSyncManager(String latchpath, String id, ConfigurationContext\n            configurationContext, FailOverTask failOverTask)", "class_method_signature": "ClusterSyncManager.ClusterSyncManager(String latchpath, String id, ConfigurationContext\n            configurationContext, FailOverTask failOverTask)", "testcase": false, "constructor": true}, {"identifier": "getClusterSyncManager", "parameters": "(ConfigurationContext configurationContext,\n            FailOverTask failOverTask)", "modifiers": "public static", "return": "ClusterSyncManager", "signature": "ClusterSyncManager getClusterSyncManager(ConfigurationContext configurationContext,\n            FailOverTask failOverTask)", "full_signature": "public static ClusterSyncManager getClusterSyncManager(ConfigurationContext configurationContext,\n            FailOverTask failOverTask)", "class_method_signature": "ClusterSyncManager.getClusterSyncManager(ConfigurationContext configurationContext,\n            FailOverTask failOverTask)", "testcase": false, "constructor": false}, {"identifier": "getNode", "parameters": "()", "modifiers": "public static", "return": "ClusterSyncManager", "signature": "ClusterSyncManager getNode()", "full_signature": "public static ClusterSyncManager getNode()", "class_method_signature": "ClusterSyncManager.getNode()", "testcase": false, "constructor": false}, {"identifier": "start", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void start()", "full_signature": "public void start()", "class_method_signature": "ClusterSyncManager.start()", "testcase": false, "constructor": false}, {"identifier": "isStarted", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isStarted()", "full_signature": "public boolean isStarted()", "class_method_signature": "ClusterSyncManager.isStarted()", "testcase": false, "constructor": false}, {"identifier": "manageAckStreamingOperation", "parameters": "(StratioStreamingMessage message, ActionCallbackDto reply)", "modifiers": "public", "return": "ActionCallbackDto", "signature": "ActionCallbackDto manageAckStreamingOperation(StratioStreamingMessage message, ActionCallbackDto reply)", "full_signature": "public ActionCallbackDto manageAckStreamingOperation(StratioStreamingMessage message, ActionCallbackDto reply)", "class_method_signature": "ClusterSyncManager.manageAckStreamingOperation(StratioStreamingMessage message, ActionCallbackDto reply)", "testcase": false, "constructor": false}, {"identifier": "manageBarrierResults", "parameters": "(StratioStreamingMessage message, ActionCallbackDto reply, String path, Boolean\n            success)", "modifiers": "private", "return": "ActionCallbackDto", "signature": "ActionCallbackDto manageBarrierResults(StratioStreamingMessage message, ActionCallbackDto reply, String path, Boolean\n            success)", "full_signature": "private ActionCallbackDto manageBarrierResults(StratioStreamingMessage message, ActionCallbackDto reply, String path, Boolean\n            success)", "class_method_signature": "ClusterSyncManager.manageBarrierResults(StratioStreamingMessage message, ActionCallbackDto reply, String path, Boolean\n            success)", "testcase": false, "constructor": false}, {"identifier": "initializedNodeStatus", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String initializedNodeStatus()", "full_signature": "public String initializedNodeStatus()", "class_method_signature": "ClusterSyncManager.initializedNodeStatus()", "testcase": false, "constructor": false}, {"identifier": "initializedGroupStatus", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String initializedGroupStatus()", "full_signature": "public String initializedGroupStatus()", "class_method_signature": "ClusterSyncManager.initializedGroupStatus()", "testcase": false, "constructor": false}, {"identifier": "initClusterNodeStatus", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void initClusterNodeStatus()", "full_signature": "private void initClusterNodeStatus()", "class_method_signature": "ClusterSyncManager.initClusterNodeStatus()", "testcase": false, "constructor": false}, {"identifier": "updateNodeStatus", "parameters": "(String nodeId, PathChildrenCacheEvent.Type eventType)", "modifiers": "public", "return": "String", "signature": "String updateNodeStatus(String nodeId, PathChildrenCacheEvent.Type eventType)", "full_signature": "public String updateNodeStatus(String nodeId, PathChildrenCacheEvent.Type eventType)", "class_method_signature": "ClusterSyncManager.updateNodeStatus(String nodeId, PathChildrenCacheEvent.Type eventType)", "testcase": false, "constructor": false}, {"identifier": "updateNodeStatus", "parameters": "()", "modifiers": "private", "return": "String", "signature": "String updateNodeStatus()", "full_signature": "private String updateNodeStatus()", "class_method_signature": "ClusterSyncManager.updateNodeStatus()", "testcase": false, "constructor": false}, {"identifier": "isLeader", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isLeader()", "full_signature": "public boolean isLeader()", "class_method_signature": "ClusterSyncManager.isLeader()", "testcase": false, "constructor": false}, {"identifier": "getClient", "parameters": "()", "modifiers": "public", "return": "CuratorFramework", "signature": "CuratorFramework getClient()", "full_signature": "public CuratorFramework getClient()", "class_method_signature": "ClusterSyncManager.getClient()", "testcase": false, "constructor": false}, {"identifier": "getGroupId", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getGroupId()", "full_signature": "public String getGroupId()", "class_method_signature": "ClusterSyncManager.getGroupId()", "testcase": false, "constructor": false}], "file": "engine/src/main/java/com/stratio/decision/clustering/ClusterSyncManager.java"}, "focal_method": {"identifier": "getNode", "parameters": "()", "modifiers": "public static", "return": "ClusterSyncManager", "body": "public static ClusterSyncManager getNode() throws Exception {\n        return self;\n    }", "signature": "ClusterSyncManager getNode()", "full_signature": "public static ClusterSyncManager getNode()", "class_method_signature": "ClusterSyncManager.getNode()", "testcase": false, "constructor": false, "invocations": []}, "repository": {"repo_id": 20521495, "url": "https://github.com/Stratio/Decision", "language": "Java", "is_fork": false, "fork_count": 85, "stargazer_count": 305, "size": 41858, "license": "licensed"}}