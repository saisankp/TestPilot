{"test_class": {"identifier": "TestCheckpoint", "superclass": "", "interfaces": "", "fields": [], "file": "databus-core/databus-core-impl/src/test/java/com/linkedin/databus/core/TestCheckpoint.java"}, "test_case": {"identifier": "testEqualsHashCodeForV3BootstrapBackwardCompat", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testEqualsHashCodeForV3BootstrapBackwardCompat()\n  throws JsonParseException, JsonMappingException, IOException\n  {\n    Checkpoint cp = null;\n\n    cp = new Checkpoint(\"{\\\"consumption_mode\\\":\\\"BOOTSTRAP_CATCHUP\\\", \\\"bootstrap_since_scn\\\":0,\" +\n        \"\\\"bootstrap_start_scn\\\":1000,\\\"bootstrap_target_scn\\\":2000,\\\"bootstrap_catchup_source_index\\\":1,\" +\n        \"\\\"bootstrap_snapshot_source_index\\\":1,\"+\"\\\"storage_cluster_name\\\":\\\"\\\",\"+\n        \"\\\"bootstrap_snapshot_file_record_offset\\\":-1}\");\n\n    Checkpoint cp2 = new Checkpoint(\"{\\\"consumption_mode\\\":\\\"BOOTSTRAP_CATCHUP\\\", \\\"bootstrap_since_scn\\\":0,\" +\n        \"\\\"bootstrap_start_scn\\\":1000,\\\"bootstrap_target_scn\\\":2000,\\\"bootstrap_catchup_source_index\\\":1,\" +\n        \"\\\"bootstrap_snapshot_source_index\\\":1}\");\n    Assert.assertTrue(cp2.equals(cp));\n\n    // The new checkpoint with default values and the old checkpoint without these fields are different.\n    // But because we are not using the V3 checkpoints for bootstrap this is ok.\n    Assert.assertFalse(cp.equals(cp2));\n  }", "signature": "void testEqualsHashCodeForV3BootstrapBackwardCompat()", "full_signature": "@Test public void testEqualsHashCodeForV3BootstrapBackwardCompat()", "class_method_signature": "TestCheckpoint.testEqualsHashCodeForV3BootstrapBackwardCompat()", "testcase": true, "constructor": false, "invocations": ["assertTrue", "equals", "assertFalse", "equals"]}, "focal_class": {"identifier": "Checkpoint", "superclass": "extends InternalDatabusEventsListenerAbstract", "interfaces": "implements Serializable, Cloneable", "fields": [{"original_string": "private static final long serialVersionUID = 1L;", "modifier": "private static final", "type": "long", "declarator": "serialVersionUID = 1L", "var_name": "serialVersionUID"}, {"original_string": "public static final String  MODULE               = Checkpoint.class.getName();", "modifier": "public static final", "type": "String", "declarator": "MODULE               = Checkpoint.class.getName()", "var_name": "MODULE"}, {"original_string": "public static final Logger  LOG                  = Logger.getLogger(MODULE);", "modifier": "public static final", "type": "Logger", "declarator": "LOG                  = Logger.getLogger(MODULE)", "var_name": "LOG"}, {"original_string": "public static final long UNSET_BOOTSTRAP_START_NSECS = -1;", "modifier": "public static final", "type": "long", "declarator": "UNSET_BOOTSTRAP_START_NSECS = -1", "var_name": "UNSET_BOOTSTRAP_START_NSECS"}, {"original_string": "public static final long UNSET_TS_NSECS = -1;", "modifier": "public static final", "type": "long", "declarator": "UNSET_TS_NSECS = -1", "var_name": "UNSET_TS_NSECS"}, {"original_string": "public static final long UNSET_BOOTSTRAP_START_SCN = -1;", "modifier": "public static final", "type": "long", "declarator": "UNSET_BOOTSTRAP_START_SCN = -1", "var_name": "UNSET_BOOTSTRAP_START_SCN"}, {"original_string": "public static final long UNSET_BOOTSTRAP_SINCE_SCN = -1;", "modifier": "public static final", "type": "long", "declarator": "UNSET_BOOTSTRAP_SINCE_SCN = -1", "var_name": "UNSET_BOOTSTRAP_SINCE_SCN"}, {"original_string": "public static final long UNSET_BOOTSTRAP_TARGET_SCN = -1;", "modifier": "public static final", "type": "long", "declarator": "UNSET_BOOTSTRAP_TARGET_SCN = -1", "var_name": "UNSET_BOOTSTRAP_TARGET_SCN"}, {"original_string": "public static final int UNSET_BOOTSTRAP_INDEX = 0;", "modifier": "public static final", "type": "int", "declarator": "UNSET_BOOTSTRAP_INDEX = 0", "var_name": "UNSET_BOOTSTRAP_INDEX"}, {"original_string": "public static final long UNSET_ONLINE_PREVSCN = -1;", "modifier": "public static final", "type": "long", "declarator": "UNSET_ONLINE_PREVSCN = -1", "var_name": "UNSET_ONLINE_PREVSCN"}, {"original_string": "public static final long WINDOW_SCN_FOR_PURE_TIMEBASED_CKPT = 0;", "modifier": "public static final", "type": "long", "declarator": "WINDOW_SCN_FOR_PURE_TIMEBASED_CKPT = 0", "var_name": "WINDOW_SCN_FOR_PURE_TIMEBASED_CKPT"}, {"original_string": "public static final String NO_SOURCE_NAME = \"\";", "modifier": "public static final", "type": "String", "declarator": "NO_SOURCE_NAME = \"\"", "var_name": "NO_SOURCE_NAME"}, {"original_string": "public static final Long FULLY_CONSUMED_WINDOW_OFFSET = -1L;", "modifier": "public static final", "type": "Long", "declarator": "FULLY_CONSUMED_WINDOW_OFFSET = -1L", "var_name": "FULLY_CONSUMED_WINDOW_OFFSET"}, {"original_string": "public static final Long DEFAULT_SNAPSHOT_FILE_RECORD_OFFSET = -1L;", "modifier": "public static final", "type": "Long", "declarator": "DEFAULT_SNAPSHOT_FILE_RECORD_OFFSET = -1L", "var_name": "DEFAULT_SNAPSHOT_FILE_RECORD_OFFSET"}, {"original_string": "private static final String TS_NSECS             = \"tsNsecs\";", "modifier": "private static final", "type": "String", "declarator": "TS_NSECS             = \"tsNsecs\"", "var_name": "TS_NSECS"}, {"original_string": "private static final String WINDOW_SCN           = \"windowScn\";", "modifier": "private static final", "type": "String", "declarator": "WINDOW_SCN           = \"windowScn\"", "var_name": "WINDOW_SCN"}, {"original_string": "private static final String WINDOW_OFFSET        = \"windowOffset\";", "modifier": "private static final", "type": "String", "declarator": "WINDOW_OFFSET        = \"windowOffset\"", "var_name": "WINDOW_OFFSET"}, {"original_string": "private static final String PREV_SCN           = \"prevScn\";", "modifier": "private static final", "type": "String", "declarator": "PREV_SCN           = \"prevScn\"", "var_name": "PREV_SCN"}, {"original_string": "private static final String CONSUMPTION_MODE     = \"consumption_mode\";", "modifier": "private static final", "type": "String", "declarator": "CONSUMPTION_MODE     = \"consumption_mode\"", "var_name": "CONSUMPTION_MODE"}, {"original_string": "private static final String BOOTSTRAP_START_SCN  = \"bootstrap_start_scn\";", "modifier": "private static final", "type": "String", "declarator": "BOOTSTRAP_START_SCN  = \"bootstrap_start_scn\"", "var_name": "BOOTSTRAP_START_SCN"}, {"original_string": "private static final String SNAPSHOT_SOURCE      = \"snapshot_source\";", "modifier": "private static final", "type": "String", "declarator": "SNAPSHOT_SOURCE      = \"snapshot_source\"", "var_name": "SNAPSHOT_SOURCE"}, {"original_string": "private static final String SNAPSHOT_OFFSET      = \"snapshot_offset\";", "modifier": "private static final", "type": "String", "declarator": "SNAPSHOT_OFFSET      = \"snapshot_offset\"", "var_name": "SNAPSHOT_OFFSET"}, {"original_string": "private static final String CATCHUP_SOURCE       = \"catchup_source\";", "modifier": "private static final", "type": "String", "declarator": "CATCHUP_SOURCE       = \"catchup_source\"", "var_name": "CATCHUP_SOURCE"}, {"original_string": "private static final String BOOTSTRAP_TARGET_SCN = \"bootstrap_target_scn\";", "modifier": "private static final", "type": "String", "declarator": "BOOTSTRAP_TARGET_SCN = \"bootstrap_target_scn\"", "var_name": "BOOTSTRAP_TARGET_SCN"}, {"original_string": "private static final String BOOTSTRAP_SINCE_SCN  = \"bootstrap_since_scn\";", "modifier": "private static final", "type": "String", "declarator": "BOOTSTRAP_SINCE_SCN  = \"bootstrap_since_scn\"", "var_name": "BOOTSTRAP_SINCE_SCN"}, {"original_string": "private static final String BOOTSTRAP_SNAPSHOT_SOURCE_INDEX = \"bootstrap_snapshot_source_index\";", "modifier": "private static final", "type": "String", "declarator": "BOOTSTRAP_SNAPSHOT_SOURCE_INDEX = \"bootstrap_snapshot_source_index\"", "var_name": "BOOTSTRAP_SNAPSHOT_SOURCE_INDEX"}, {"original_string": "private static final String BOOTSTRAP_CATCHUP_SOURCE_INDEX = \"bootstrap_catchup_source_index\";", "modifier": "private static final", "type": "String", "declarator": "BOOTSTRAP_CATCHUP_SOURCE_INDEX = \"bootstrap_catchup_source_index\"", "var_name": "BOOTSTRAP_CATCHUP_SOURCE_INDEX"}, {"original_string": "public static final String BOOTSTRAP_SERVER_INFO = \"bootstrap_server_info\";", "modifier": "public static final", "type": "String", "declarator": "BOOTSTRAP_SERVER_INFO = \"bootstrap_server_info\"", "var_name": "BOOTSTRAP_SERVER_INFO"}, {"original_string": "public static final String SNAPSHOT_FILE_RECORD_OFFSET = \"bootstrap_snapshot_file_record_offset\";", "modifier": "public static final", "type": "String", "declarator": "SNAPSHOT_FILE_RECORD_OFFSET = \"bootstrap_snapshot_file_record_offset\"", "var_name": "SNAPSHOT_FILE_RECORD_OFFSET"}, {"original_string": "public static final String STORAGE_CLUSTER_NAME = \"storage_cluster_name\";", "modifier": "public static final", "type": "String", "declarator": "STORAGE_CLUSTER_NAME = \"storage_cluster_name\"", "var_name": "STORAGE_CLUSTER_NAME"}, {"original_string": "public static final String BOOTSTRAP_START_TSNSECS = \"bootstrap_start_tsnsecs\";", "modifier": "public static final", "type": "String", "declarator": "BOOTSTRAP_START_TSNSECS = \"bootstrap_start_tsnsecs\"", "var_name": "BOOTSTRAP_START_TSNSECS"}, {"original_string": "private static final ObjectMapper mapper               = new ObjectMapper();", "modifier": "private static final", "type": "ObjectMapper", "declarator": "mapper               = new ObjectMapper()", "var_name": "mapper"}, {"original_string": "private final Map<String, Object> internalData;", "modifier": "private final", "type": "Map<String, Object>", "declarator": "internalData", "var_name": "internalData"}, {"original_string": "private long                currentWindowScn;", "modifier": "private", "type": "long", "declarator": "currentWindowScn", "var_name": "currentWindowScn"}, {"original_string": "private long                prevWindowScn;", "modifier": "private", "type": "long", "declarator": "prevWindowScn", "var_name": "prevWindowScn"}, {"original_string": "private long                currentWindowOffset;", "modifier": "private", "type": "long", "declarator": "currentWindowOffset", "var_name": "currentWindowOffset"}, {"original_string": "private long                snapShotOffset;", "modifier": "private", "type": "long", "declarator": "snapShotOffset", "var_name": "snapShotOffset"}], "methods": [{"identifier": "Checkpoint", "parameters": "(String serializedCheckpoint)", "modifiers": "@SuppressWarnings(\"unchecked\") public", "return": "", "signature": " Checkpoint(String serializedCheckpoint)", "full_signature": "@SuppressWarnings(\"unchecked\") public  Checkpoint(String serializedCheckpoint)", "class_method_signature": "Checkpoint.Checkpoint(String serializedCheckpoint)", "testcase": false, "constructor": true}, {"identifier": "mapToInternalState", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void mapToInternalState()", "full_signature": "private void mapToInternalState()", "class_method_signature": "Checkpoint.mapToInternalState()", "testcase": false, "constructor": false}, {"identifier": "internalStateToMap", "parameters": "( )", "modifiers": "private", "return": "void", "signature": "void internalStateToMap( )", "full_signature": "private void internalStateToMap( )", "class_method_signature": "Checkpoint.internalStateToMap( )", "testcase": false, "constructor": false}, {"identifier": "Checkpoint", "parameters": "()", "modifiers": "public", "return": "", "signature": " Checkpoint()", "full_signature": "public  Checkpoint()", "class_method_signature": "Checkpoint.Checkpoint()", "testcase": false, "constructor": true}, {"identifier": "init", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void init()", "full_signature": "public void init()", "class_method_signature": "Checkpoint.init()", "testcase": false, "constructor": false}, {"identifier": "setTsNsecs", "parameters": "(long nsecs)", "modifiers": "public", "return": "void", "signature": "void setTsNsecs(long nsecs)", "full_signature": "public void setTsNsecs(long nsecs)", "class_method_signature": "Checkpoint.setTsNsecs(long nsecs)", "testcase": false, "constructor": false}, {"identifier": "getTsNsecs", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getTsNsecs()", "full_signature": "public long getTsNsecs()", "class_method_signature": "Checkpoint.getTsNsecs()", "testcase": false, "constructor": false}, {"identifier": "setBootstrapStartNsecs", "parameters": "(long nsecs)", "modifiers": "public", "return": "void", "signature": "void setBootstrapStartNsecs(long nsecs)", "full_signature": "public void setBootstrapStartNsecs(long nsecs)", "class_method_signature": "Checkpoint.setBootstrapStartNsecs(long nsecs)", "testcase": false, "constructor": false}, {"identifier": "getBootstrapStartNsecs", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getBootstrapStartNsecs()", "full_signature": "public long getBootstrapStartNsecs()", "class_method_signature": "Checkpoint.getBootstrapStartNsecs()", "testcase": false, "constructor": false}, {"identifier": "setBootstrapSnapshotSourceIndex", "parameters": "(int index)", "modifiers": "public", "return": "void", "signature": "void setBootstrapSnapshotSourceIndex(int index)", "full_signature": "public void setBootstrapSnapshotSourceIndex(int index)", "class_method_signature": "Checkpoint.setBootstrapSnapshotSourceIndex(int index)", "testcase": false, "constructor": false}, {"identifier": "setBootstrapCatchupSourceIndex", "parameters": "(int index)", "modifiers": "public", "return": "void", "signature": "void setBootstrapCatchupSourceIndex(int index)", "full_signature": "public void setBootstrapCatchupSourceIndex(int index)", "class_method_signature": "Checkpoint.setBootstrapCatchupSourceIndex(int index)", "testcase": false, "constructor": false}, {"identifier": "nextBootstrapSnapshotSourceIndex", "parameters": "()", "modifiers": "", "return": "int", "signature": "int nextBootstrapSnapshotSourceIndex()", "full_signature": " int nextBootstrapSnapshotSourceIndex()", "class_method_signature": "Checkpoint.nextBootstrapSnapshotSourceIndex()", "testcase": false, "constructor": false}, {"identifier": "nextBootstrapCatchupSourceIndex", "parameters": "()", "modifiers": "", "return": "int", "signature": "int nextBootstrapCatchupSourceIndex()", "full_signature": " int nextBootstrapCatchupSourceIndex()", "class_method_signature": "Checkpoint.nextBootstrapCatchupSourceIndex()", "testcase": false, "constructor": false}, {"identifier": "setBootstrapServerInfo", "parameters": "(String serverInfoStr)", "modifiers": "public", "return": "void", "signature": "void setBootstrapServerInfo(String serverInfoStr)", "full_signature": "public void setBootstrapServerInfo(String serverInfoStr)", "class_method_signature": "Checkpoint.setBootstrapServerInfo(String serverInfoStr)", "testcase": false, "constructor": false}, {"identifier": "getBootstrapServerInfo", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getBootstrapServerInfo()", "full_signature": "public String getBootstrapServerInfo()", "class_method_signature": "Checkpoint.getBootstrapServerInfo()", "testcase": false, "constructor": false}, {"identifier": "setWindowScn", "parameters": "(Long windowScn)", "modifiers": "public", "return": "void", "signature": "void setWindowScn(Long windowScn)", "full_signature": "public void setWindowScn(Long windowScn)", "class_method_signature": "Checkpoint.setWindowScn(Long windowScn)", "testcase": false, "constructor": false}, {"identifier": "setPrevScn", "parameters": "(Long windowScn)", "modifiers": "public", "return": "void", "signature": "void setPrevScn(Long windowScn)", "full_signature": "public void setPrevScn(Long windowScn)", "class_method_signature": "Checkpoint.setPrevScn(Long windowScn)", "testcase": false, "constructor": false}, {"identifier": "getPrevScn", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getPrevScn()", "full_signature": "public long getPrevScn()", "class_method_signature": "Checkpoint.getPrevScn()", "testcase": false, "constructor": false}, {"identifier": "setWindowOffset", "parameters": "(long windowOffset)", "modifiers": "public", "return": "void", "signature": "void setWindowOffset(long windowOffset)", "full_signature": "public void setWindowOffset(long windowOffset)", "class_method_signature": "Checkpoint.setWindowOffset(long windowOffset)", "testcase": false, "constructor": false}, {"identifier": "setWindowOffset", "parameters": "(Integer windowOffset)", "modifiers": "@Deprecated /** @deprecated Please use {@link #setWindowOffset(long)} */ public", "return": "void", "signature": "void setWindowOffset(Integer windowOffset)", "full_signature": "@Deprecated /** @deprecated Please use {@link #setWindowOffset(long)} */ public void setWindowOffset(Integer windowOffset)", "class_method_signature": "Checkpoint.setWindowOffset(Integer windowOffset)", "testcase": false, "constructor": false}, {"identifier": "setConsumptionMode", "parameters": "(DbusClientMode mode)", "modifiers": "public", "return": "void", "signature": "void setConsumptionMode(DbusClientMode mode)", "full_signature": "public void setConsumptionMode(DbusClientMode mode)", "class_method_signature": "Checkpoint.setConsumptionMode(DbusClientMode mode)", "testcase": false, "constructor": false}, {"identifier": "setBootstrapStartScn", "parameters": "(Long bootstrapStartScn)", "modifiers": "public", "return": "void", "signature": "void setBootstrapStartScn(Long bootstrapStartScn)", "full_signature": "public void setBootstrapStartScn(Long bootstrapStartScn)", "class_method_signature": "Checkpoint.setBootstrapStartScn(Long bootstrapStartScn)", "testcase": false, "constructor": false}, {"identifier": "setSnapshotSource", "parameters": "(int sourceIndex, String sourceName)", "modifiers": "public", "return": "void", "signature": "void setSnapshotSource(int sourceIndex, String sourceName)", "full_signature": "public void setSnapshotSource(int sourceIndex, String sourceName)", "class_method_signature": "Checkpoint.setSnapshotSource(int sourceIndex, String sourceName)", "testcase": false, "constructor": false}, {"identifier": "setSnapshotOffset", "parameters": "(long snapshotOffset)", "modifiers": "public", "return": "void", "signature": "void setSnapshotOffset(long snapshotOffset)", "full_signature": "public void setSnapshotOffset(long snapshotOffset)", "class_method_signature": "Checkpoint.setSnapshotOffset(long snapshotOffset)", "testcase": false, "constructor": false}, {"identifier": "clearSnapshotOffset", "parameters": "()", "modifiers": "protected", "return": "void", "signature": "void clearSnapshotOffset()", "full_signature": "protected void clearSnapshotOffset()", "class_method_signature": "Checkpoint.clearSnapshotOffset()", "testcase": false, "constructor": false}, {"identifier": "setSnapshotOffset", "parameters": "(Integer snapshotOffset)", "modifiers": "@Deprecated /** @deprecated Please use #setSnapshotOffset(long) */ public", "return": "void", "signature": "void setSnapshotOffset(Integer snapshotOffset)", "full_signature": "@Deprecated /** @deprecated Please use #setSnapshotOffset(long) */ public void setSnapshotOffset(Integer snapshotOffset)", "class_method_signature": "Checkpoint.setSnapshotOffset(Integer snapshotOffset)", "testcase": false, "constructor": false}, {"identifier": "setCatchupSource", "parameters": "(int sourceIndex, String sourceName)", "modifiers": "protected", "return": "void", "signature": "void setCatchupSource(int sourceIndex, String sourceName)", "full_signature": "protected void setCatchupSource(int sourceIndex, String sourceName)", "class_method_signature": "Checkpoint.setCatchupSource(int sourceIndex, String sourceName)", "testcase": false, "constructor": false}, {"identifier": "setCatchupOffset", "parameters": "(Integer catchupOffset)", "modifiers": "public", "return": "void", "signature": "void setCatchupOffset(Integer catchupOffset)", "full_signature": "public void setCatchupOffset(Integer catchupOffset)", "class_method_signature": "Checkpoint.setCatchupOffset(Integer catchupOffset)", "testcase": false, "constructor": false}, {"identifier": "setBootstrapTargetScn", "parameters": "(Long targetScn)", "modifiers": "public", "return": "void", "signature": "void setBootstrapTargetScn(Long targetScn)", "full_signature": "public void setBootstrapTargetScn(Long targetScn)", "class_method_signature": "Checkpoint.setBootstrapTargetScn(Long targetScn)", "testcase": false, "constructor": false}, {"identifier": "setBootstrapSinceScn", "parameters": "(Long sinceScn)", "modifiers": "public", "return": "void", "signature": "void setBootstrapSinceScn(Long sinceScn)", "full_signature": "public void setBootstrapSinceScn(Long sinceScn)", "class_method_signature": "Checkpoint.setBootstrapSinceScn(Long sinceScn)", "testcase": false, "constructor": false}, {"identifier": "getWindowScn", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getWindowScn()", "full_signature": "public long getWindowScn()", "class_method_signature": "Checkpoint.getWindowScn()", "testcase": false, "constructor": false}, {"identifier": "getWindowOffset", "parameters": "()", "modifiers": "public", "return": "Long", "signature": "Long getWindowOffset()", "full_signature": "public Long getWindowOffset()", "class_method_signature": "Checkpoint.getWindowOffset()", "testcase": false, "constructor": false}, {"identifier": "getConsumptionMode", "parameters": "()", "modifiers": "public", "return": "DbusClientMode", "signature": "DbusClientMode getConsumptionMode()", "full_signature": "public DbusClientMode getConsumptionMode()", "class_method_signature": "Checkpoint.getConsumptionMode()", "testcase": false, "constructor": false}, {"identifier": "getSnapshotSource", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getSnapshotSource()", "full_signature": "public String getSnapshotSource()", "class_method_signature": "Checkpoint.getSnapshotSource()", "testcase": false, "constructor": false}, {"identifier": "getSnapshotFileRecordOffset", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getSnapshotFileRecordOffset()", "full_signature": "public long getSnapshotFileRecordOffset()", "class_method_signature": "Checkpoint.getSnapshotFileRecordOffset()", "testcase": false, "constructor": false}, {"identifier": "setSnapshotFileRecordOffset", "parameters": "(long snapshotFileRecordOffset)", "modifiers": "public", "return": "void", "signature": "void setSnapshotFileRecordOffset(long snapshotFileRecordOffset)", "full_signature": "public void setSnapshotFileRecordOffset(long snapshotFileRecordOffset)", "class_method_signature": "Checkpoint.setSnapshotFileRecordOffset(long snapshotFileRecordOffset)", "testcase": false, "constructor": false}, {"identifier": "getStorageClusterName", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getStorageClusterName()", "full_signature": "public String getStorageClusterName()", "class_method_signature": "Checkpoint.getStorageClusterName()", "testcase": false, "constructor": false}, {"identifier": "setStorageClusterName", "parameters": "(String storageClusterName)", "modifiers": "public", "return": "void", "signature": "void setStorageClusterName(String storageClusterName)", "full_signature": "public void setStorageClusterName(String storageClusterName)", "class_method_signature": "Checkpoint.setStorageClusterName(String storageClusterName)", "testcase": false, "constructor": false}, {"identifier": "number2Long", "parameters": "(Number n, Long nullValue)", "modifiers": "private static", "return": "Long", "signature": "Long number2Long(Number n, Long nullValue)", "full_signature": "private static Long number2Long(Number n, Long nullValue)", "class_method_signature": "Checkpoint.number2Long(Number n, Long nullValue)", "testcase": false, "constructor": false}, {"identifier": "number2Integer", "parameters": "(Number n, Integer nullValue)", "modifiers": "private static", "return": "Integer", "signature": "Integer number2Integer(Number n, Integer nullValue)", "full_signature": "private static Integer number2Integer(Number n, Integer nullValue)", "class_method_signature": "Checkpoint.number2Integer(Number n, Integer nullValue)", "testcase": false, "constructor": false}, {"identifier": "getSnapshotOffset", "parameters": "()", "modifiers": "public", "return": "Long", "signature": "Long getSnapshotOffset()", "full_signature": "public Long getSnapshotOffset()", "class_method_signature": "Checkpoint.getSnapshotOffset()", "testcase": false, "constructor": false}, {"identifier": "getCatchupSource", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getCatchupSource()", "full_signature": "public String getCatchupSource()", "class_method_signature": "Checkpoint.getCatchupSource()", "testcase": false, "constructor": false}, {"identifier": "getBootstrapStartScn", "parameters": "()", "modifiers": "public", "return": "Long", "signature": "Long getBootstrapStartScn()", "full_signature": "public Long getBootstrapStartScn()", "class_method_signature": "Checkpoint.getBootstrapStartScn()", "testcase": false, "constructor": false}, {"identifier": "getBootstrapTargetScn", "parameters": "()", "modifiers": "public", "return": "Long", "signature": "Long getBootstrapTargetScn()", "full_signature": "public Long getBootstrapTargetScn()", "class_method_signature": "Checkpoint.getBootstrapTargetScn()", "testcase": false, "constructor": false}, {"identifier": "getBootstrapSnapshotSourceIndex", "parameters": "()", "modifiers": "public", "return": "Integer", "signature": "Integer getBootstrapSnapshotSourceIndex()", "full_signature": "public Integer getBootstrapSnapshotSourceIndex()", "class_method_signature": "Checkpoint.getBootstrapSnapshotSourceIndex()", "testcase": false, "constructor": false}, {"identifier": "getBootstrapCatchupSourceIndex", "parameters": "()", "modifiers": "public", "return": "Integer", "signature": "Integer getBootstrapCatchupSourceIndex()", "full_signature": "public Integer getBootstrapCatchupSourceIndex()", "class_method_signature": "Checkpoint.getBootstrapCatchupSourceIndex()", "testcase": false, "constructor": false}, {"identifier": "getBootstrapSinceScn", "parameters": "()", "modifiers": "public", "return": "Long", "signature": "Long getBootstrapSinceScn()", "full_signature": "public Long getBootstrapSinceScn()", "class_method_signature": "Checkpoint.getBootstrapSinceScn()", "testcase": false, "constructor": false}, {"identifier": "serialize", "parameters": "(OutputStream outStream)", "modifiers": "public", "return": "void", "signature": "void serialize(OutputStream outStream)", "full_signature": "public void serialize(OutputStream outStream)", "class_method_signature": "Checkpoint.serialize(OutputStream outStream)", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String toString()", "full_signature": "@Override public String toString()", "class_method_signature": "Checkpoint.toString()", "testcase": false, "constructor": false}, {"identifier": "startEvent", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void startEvent()", "full_signature": "public void startEvent()", "class_method_signature": "Checkpoint.startEvent()", "testcase": false, "constructor": false}, {"identifier": "onEvent", "parameters": "(DbusEvent e, long offset, int size)", "modifiers": "@Override public", "return": "void", "signature": "void onEvent(DbusEvent e, long offset, int size)", "full_signature": "@Override public void onEvent(DbusEvent e, long offset, int size)", "class_method_signature": "Checkpoint.onEvent(DbusEvent e, long offset, int size)", "testcase": false, "constructor": false}, {"identifier": "onEvent", "parameters": "(DbusEvent e)", "modifiers": "public", "return": "void", "signature": "void onEvent(DbusEvent e)", "full_signature": "public void onEvent(DbusEvent e)", "class_method_signature": "Checkpoint.onEvent(DbusEvent e)", "testcase": false, "constructor": false}, {"identifier": "copyBootstrapCatchupCheckpoint", "parameters": "(Checkpoint ckpt)", "modifiers": "protected", "return": "void", "signature": "void copyBootstrapCatchupCheckpoint(Checkpoint ckpt)", "full_signature": "protected void copyBootstrapCatchupCheckpoint(Checkpoint ckpt)", "class_method_signature": "Checkpoint.copyBootstrapCatchupCheckpoint(Checkpoint ckpt)", "testcase": false, "constructor": false}, {"identifier": "copyBootstrapSnapshotCheckpoint", "parameters": "(Checkpoint ckpt)", "modifiers": "protected", "return": "void", "signature": "void copyBootstrapSnapshotCheckpoint(Checkpoint ckpt)", "full_signature": "protected void copyBootstrapSnapshotCheckpoint(Checkpoint ckpt)", "class_method_signature": "Checkpoint.copyBootstrapSnapshotCheckpoint(Checkpoint ckpt)", "testcase": false, "constructor": false}, {"identifier": "copyOnlineCheckpoint", "parameters": "(Checkpoint fromCkpt)", "modifiers": "private", "return": "void", "signature": "void copyOnlineCheckpoint(Checkpoint fromCkpt)", "full_signature": "private void copyOnlineCheckpoint(Checkpoint fromCkpt)", "class_method_signature": "Checkpoint.copyOnlineCheckpoint(Checkpoint fromCkpt)", "testcase": false, "constructor": false}, {"identifier": "endEvents", "parameters": "(long endWindowScn, long nsecs)", "modifiers": "private", "return": "void", "signature": "void endEvents(long endWindowScn, long nsecs)", "full_signature": "private void endEvents(long endWindowScn, long nsecs)", "class_method_signature": "Checkpoint.endEvents(long endWindowScn, long nsecs)", "testcase": false, "constructor": false}, {"identifier": "setFullyConsumed", "parameters": "(long endWindowScn)", "modifiers": "private", "return": "void", "signature": "void setFullyConsumed(long endWindowScn)", "full_signature": "private void setFullyConsumed(long endWindowScn)", "class_method_signature": "Checkpoint.setFullyConsumed(long endWindowScn)", "testcase": false, "constructor": false}, {"identifier": "onSnapshotEvent", "parameters": "(long snapshotOffset)", "modifiers": "public", "return": "void", "signature": "void onSnapshotEvent(long snapshotOffset)", "full_signature": "public void onSnapshotEvent(long snapshotOffset)", "class_method_signature": "Checkpoint.onSnapshotEvent(long snapshotOffset)", "testcase": false, "constructor": false}, {"identifier": "onCatchupEvent", "parameters": "(long eventWindowScn, long catchupOffset)", "modifiers": "public", "return": "void", "signature": "void onCatchupEvent(long eventWindowScn, long catchupOffset)", "full_signature": "public void onCatchupEvent(long eventWindowScn, long catchupOffset)", "class_method_signature": "Checkpoint.onCatchupEvent(long eventWindowScn, long catchupOffset)", "testcase": false, "constructor": false}, {"identifier": "startSnapShotSource", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void startSnapShotSource()", "full_signature": "public void startSnapShotSource()", "class_method_signature": "Checkpoint.startSnapShotSource()", "testcase": false, "constructor": false}, {"identifier": "endSnapShotSource", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void endSnapShotSource()", "full_signature": "public void endSnapShotSource()", "class_method_signature": "Checkpoint.endSnapShotSource()", "testcase": false, "constructor": false}, {"identifier": "isSnapShotSourceCompleted", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isSnapShotSourceCompleted()", "full_signature": "public boolean isSnapShotSourceCompleted()", "class_method_signature": "Checkpoint.isSnapShotSourceCompleted()", "testcase": false, "constructor": false}, {"identifier": "startCatchupSource", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void startCatchupSource()", "full_signature": "public void startCatchupSource()", "class_method_signature": "Checkpoint.startCatchupSource()", "testcase": false, "constructor": false}, {"identifier": "endCatchupSource", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void endCatchupSource()", "full_signature": "public void endCatchupSource()", "class_method_signature": "Checkpoint.endCatchupSource()", "testcase": false, "constructor": false}, {"identifier": "isCatchupSourceCompleted", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isCatchupSourceCompleted()", "full_signature": "public boolean isCatchupSourceCompleted()", "class_method_signature": "Checkpoint.isCatchupSourceCompleted()", "testcase": false, "constructor": false}, {"identifier": "bootstrapCheckPoint", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void bootstrapCheckPoint()", "full_signature": "public void bootstrapCheckPoint()", "class_method_signature": "Checkpoint.bootstrapCheckPoint()", "testcase": false, "constructor": false}, {"identifier": "clearWindowOffset", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void clearWindowOffset()", "full_signature": "private void clearWindowOffset()", "class_method_signature": "Checkpoint.clearWindowOffset()", "testcase": false, "constructor": false}, {"identifier": "checkPoint", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void checkPoint()", "full_signature": "public void checkPoint()", "class_method_signature": "Checkpoint.checkPoint()", "testcase": false, "constructor": false}, {"identifier": "isPartialWindow", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isPartialWindow()", "full_signature": "public boolean isPartialWindow()", "class_method_signature": "Checkpoint.isPartialWindow()", "testcase": false, "constructor": false}, {"identifier": "setInit", "parameters": "()", "modifiers": "@Deprecated public", "return": "void", "signature": "void setInit()", "full_signature": "@Deprecated public void setInit()", "class_method_signature": "Checkpoint.setInit()", "testcase": false, "constructor": false}, {"identifier": "getInit", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean getInit()", "full_signature": "public boolean getInit()", "class_method_signature": "Checkpoint.getInit()", "testcase": false, "constructor": false}, {"identifier": "setFlexible", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void setFlexible()", "full_signature": "public void setFlexible()", "class_method_signature": "Checkpoint.setFlexible()", "testcase": false, "constructor": false}, {"identifier": "getFlexible", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean getFlexible()", "full_signature": "public boolean getFlexible()", "class_method_signature": "Checkpoint.getFlexible()", "testcase": false, "constructor": false}, {"identifier": "clearBootstrapStartTsNsecs", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void clearBootstrapStartTsNsecs()", "full_signature": "public void clearBootstrapStartTsNsecs()", "class_method_signature": "Checkpoint.clearBootstrapStartTsNsecs()", "testcase": false, "constructor": false}, {"identifier": "clearBootstrapSinceScn", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void clearBootstrapSinceScn()", "full_signature": "public void clearBootstrapSinceScn()", "class_method_signature": "Checkpoint.clearBootstrapSinceScn()", "testcase": false, "constructor": false}, {"identifier": "clearBootstrapStartScn", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void clearBootstrapStartScn()", "full_signature": "public void clearBootstrapStartScn()", "class_method_signature": "Checkpoint.clearBootstrapStartScn()", "testcase": false, "constructor": false}, {"identifier": "clearBootstrapTargetScn", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void clearBootstrapTargetScn()", "full_signature": "public void clearBootstrapTargetScn()", "class_method_signature": "Checkpoint.clearBootstrapTargetScn()", "testcase": false, "constructor": false}, {"identifier": "isBootstrapStartScnSet", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isBootstrapStartScnSet()", "full_signature": "public boolean isBootstrapStartScnSet()", "class_method_signature": "Checkpoint.isBootstrapStartScnSet()", "testcase": false, "constructor": false}, {"identifier": "isBootstrapTargetScnSet", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isBootstrapTargetScnSet()", "full_signature": "public boolean isBootstrapTargetScnSet()", "class_method_signature": "Checkpoint.isBootstrapTargetScnSet()", "testcase": false, "constructor": false}, {"identifier": "isBootstrapSinceScnSet", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isBootstrapSinceScnSet()", "full_signature": "public boolean isBootstrapSinceScnSet()", "class_method_signature": "Checkpoint.isBootstrapSinceScnSet()", "testcase": false, "constructor": false}, {"identifier": "resetBootstrap", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void resetBootstrap()", "full_signature": "public void resetBootstrap()", "class_method_signature": "Checkpoint.resetBootstrap()", "testcase": false, "constructor": false}, {"identifier": "resetForServerChange", "parameters": "()", "modifiers": "protected", "return": "void", "signature": "void resetForServerChange()", "full_signature": "protected void resetForServerChange()", "class_method_signature": "Checkpoint.resetForServerChange()", "testcase": false, "constructor": false}, {"identifier": "close", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void close()", "full_signature": "@Override public void close()", "class_method_signature": "Checkpoint.close()", "testcase": false, "constructor": false}, {"identifier": "clone", "parameters": "()", "modifiers": "@Override public", "return": "Checkpoint", "signature": "Checkpoint clone()", "full_signature": "@Override public Checkpoint clone()", "class_method_signature": "Checkpoint.clone()", "testcase": false, "constructor": false}, {"identifier": "createFlexibleCheckpoint", "parameters": "()", "modifiers": "public static", "return": "Checkpoint", "signature": "Checkpoint createFlexibleCheckpoint()", "full_signature": "public static Checkpoint createFlexibleCheckpoint()", "class_method_signature": "Checkpoint.createFlexibleCheckpoint()", "testcase": false, "constructor": false}, {"identifier": "createOnlineConsumptionCheckpoint", "parameters": "(long lastConsumedScn)", "modifiers": "public static", "return": "Checkpoint", "signature": "Checkpoint createOnlineConsumptionCheckpoint(long lastConsumedScn)", "full_signature": "public static Checkpoint createOnlineConsumptionCheckpoint(long lastConsumedScn)", "class_method_signature": "Checkpoint.createOnlineConsumptionCheckpoint(long lastConsumedScn)", "testcase": false, "constructor": false}, {"identifier": "createOnlineConsumptionCheckpoint", "parameters": "(long lastConsumedScn, long tsNanos)", "modifiers": "public static", "return": "Checkpoint", "signature": "Checkpoint createOnlineConsumptionCheckpoint(long lastConsumedScn, long tsNanos)", "full_signature": "public static Checkpoint createOnlineConsumptionCheckpoint(long lastConsumedScn, long tsNanos)", "class_method_signature": "Checkpoint.createOnlineConsumptionCheckpoint(long lastConsumedScn, long tsNanos)", "testcase": false, "constructor": false}, {"identifier": "equals", "parameters": "(Object other)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean equals(Object other)", "full_signature": "@Override public boolean equals(Object other)", "class_method_signature": "Checkpoint.equals(Object other)", "testcase": false, "constructor": false}, {"identifier": "hashCode", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int hashCode()", "full_signature": "@Override public int hashCode()", "class_method_signature": "Checkpoint.hashCode()", "testcase": false, "constructor": false}, {"identifier": "assertCheckpoint", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean assertCheckpoint()", "full_signature": "public boolean assertCheckpoint()", "class_method_signature": "Checkpoint.assertCheckpoint()", "testcase": false, "constructor": false}, {"identifier": "assertCatchupCheckpoint", "parameters": "()", "modifiers": "private", "return": "boolean", "signature": "boolean assertCatchupCheckpoint()", "full_signature": "private boolean assertCatchupCheckpoint()", "class_method_signature": "Checkpoint.assertCatchupCheckpoint()", "testcase": false, "constructor": false}, {"identifier": "assertSnapshotCheckpoint", "parameters": "()", "modifiers": "private", "return": "boolean", "signature": "boolean assertSnapshotCheckpoint()", "full_signature": "private boolean assertSnapshotCheckpoint()", "class_method_signature": "Checkpoint.assertSnapshotCheckpoint()", "testcase": false, "constructor": false}, {"identifier": "assertOnlineCheckpoint", "parameters": "()", "modifiers": "private", "return": "boolean", "signature": "boolean assertOnlineCheckpoint()", "full_signature": "private boolean assertOnlineCheckpoint()", "class_method_signature": "Checkpoint.assertOnlineCheckpoint()", "testcase": false, "constructor": false}, {"identifier": "assertCatchupSourceIndex", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void assertCatchupSourceIndex()", "full_signature": "private void assertCatchupSourceIndex()", "class_method_signature": "Checkpoint.assertCatchupSourceIndex()", "testcase": false, "constructor": false}], "file": "databus-core/databus-core-impl/src/main/java/com/linkedin/databus/core/Checkpoint.java"}, "focal_method": {"identifier": "equals", "parameters": "(Object other)", "modifiers": "@Override public", "return": "boolean", "body": "@Override\n  public boolean equals(Object other)\n  {\n    if (null == other) return false;\n    if (this == other) return true;\n    if (!(other instanceof Checkpoint)) return false;\n    Checkpoint otherCp = (Checkpoint)other;\n\n    boolean success = (currentWindowScn == otherCp.currentWindowScn &&\n                       prevWindowScn == otherCp.prevWindowScn &&\n                       currentWindowOffset == otherCp.currentWindowOffset &&\n                       snapShotOffset == otherCp.getSnapshotOffset());\n    if (success)\n    {\n      //Unfortunately, we cannot use the the Map.equals() method.\n      //If a checkpoint is deserialized from a string, the ObjectMapper may create Integer objects for some fields while\n      //the other checkpoint may have Longs. For java, Integer(-1) != Long(-1). Go figure.\n      for (Map.Entry<String, Object> e: internalData.entrySet())\n      {\n        String k = e.getKey();\n        Object v = e.getValue();\n        Object otherV = otherCp.internalData.get(k);\n        if (v instanceof Number)\n        {\n          success = (otherV instanceof Number) && (((Number) v).longValue() == ((Number)otherV).longValue());\n        }\n        else\n        {\n          success = v.equals(otherV);\n        }\n        if (!success) break;\n      }\n    }\n    return success;\n  }", "signature": "boolean equals(Object other)", "full_signature": "@Override public boolean equals(Object other)", "class_method_signature": "Checkpoint.equals(Object other)", "testcase": false, "constructor": false, "invocations": ["getSnapshotOffset", "entrySet", "getKey", "getValue", "get", "longValue", "longValue", "equals"]}, "repository": {"repo_id": 7209229, "url": "https://github.com/linkedin/databus", "language": "Java", "is_fork": false, "fork_count": 653, "stargazer_count": 2899, "size": 51191, "license": "licensed"}}