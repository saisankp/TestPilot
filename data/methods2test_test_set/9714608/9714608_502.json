{"test_class": {"identifier": "MapElementTreeSetTest", "superclass": "extends AbstractGisTest", "interfaces": "", "fields": [{"original_string": "private static final String SHP_RESOURCE = MapElementTreeSetTest.class.getPackage().getName().replaceAll(\"\\\\.\", \"/\") //$NON-NLS-1$ //$NON-NLS-2$\n\t\t\t+ \"/test.shp\";", "modifier": "private static final", "type": "String", "declarator": "SHP_RESOURCE = MapElementTreeSetTest.class.getPackage().getName().replaceAll(\"\\\\.\", \"/\") //$NON-NLS-1$ //$NON-NLS-2$\n\t\t\t+ \"/test.shp\"", "var_name": "SHP_RESOURCE"}, {"original_string": "private ArrayList<MapPolyline> reference = null;", "modifier": "private", "type": "ArrayList<MapPolyline>", "declarator": "reference = null", "var_name": "reference"}, {"original_string": "private Rectangle2d bounds = null;", "modifier": "private", "type": "Rectangle2d", "declarator": "bounds = null", "var_name": "bounds"}], "file": "advanced/gis/giscore/src/test/java/org/arakhne/afc/gis/tree/MapElementTreeSetTest.java"}, "test_case": {"identifier": "testGetNearest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testGetNearest() {\n\t\tgetLogger().info(\"Preparing the benchmark...\"); //$NON-NLS-1$\n\t\tMapElementTreeSet<MapPolyline> test;\n\t\tif (this.bounds!=null)\n\t\t\ttest = new MapElementTreeSet<>(this.bounds);\n\t\telse\n\t\t\ttest = new MapElementTreeSet<>();\n        test.addAll(this.reference);\n        assertEpsilonEquals(this.reference.size(), test.size());\n\n        getLogger().info(\"Run test...\"); //$NON-NLS-1$\n\n    \tRandom rnd = new Random();\n    \tMapPolyline nearestData;\n    \tdouble minDistance, distance, x, y;\n    \tPoint2d p;\n    \tfinal ArrayList<MapPolyline> nearest = new ArrayList<>();\n\n    \tx = rnd.nextDouble()*this.bounds.getWidth()+this.bounds.getMinX();\n    \ty = rnd.nextDouble()*this.bounds.getHeight()+this.bounds.getMinY();\n    \tp = new Point2d(x,y);\n\n    \tminDistance = Double.MAX_VALUE;\n    \tnearest.clear();\n    \tfor (MapPolyline line : this.reference) {\n    \t\tdistance = line.getDistance(p);\n    \t\tif (isEpsilonEquals(minDistance, distance)) {\n    \t\t\tnearest.add(line);\n    \t\t}\n    \t\telse if (distance<minDistance) {\n    \t\t\tminDistance = distance;\n    \t\t\tnearest.clear();\n    \t\t\tnearest.add(line);\n    \t\t}\n    \t}\n\n    \tnearestData = test.getNearest(x, y);\n    \tassertNotNull(nearestData);\n\n    \t//TODO: assertEpsilonEquals(minDistance, nearestData.distance(p));\n    \tassertTrue(nearest.contains(nearestData));\n\t}", "signature": "void testGetNearest()", "full_signature": "@Test public void testGetNearest()", "class_method_signature": "MapElementTreeSetTest.testGetNearest()", "testcase": true, "constructor": false, "invocations": ["info", "getLogger", "addAll", "assertEpsilonEquals", "size", "size", "info", "getLogger", "nextDouble", "getWidth", "getMinX", "nextDouble", "getHeight", "getMinY", "clear", "getDistance", "isEpsilonEquals", "add", "clear", "add", "getNearest", "assertNotNull", "assertTrue", "contains"]}, "focal_class": {"identifier": "MapElementTreeSet", "superclass": "extends StandardGISTreeSet<P>", "interfaces": "implements GISElementSet<P>", "fields": [], "methods": [{"identifier": "MapElementTreeSet", "parameters": "()", "modifiers": "public", "return": "", "signature": " MapElementTreeSet()", "full_signature": "public  MapElementTreeSet()", "class_method_signature": "MapElementTreeSet.MapElementTreeSet()", "testcase": false, "constructor": true}, {"identifier": "MapElementTreeSet", "parameters": "(double boundsX, double boundsY, double boundsWidth, double boundsHeight)", "modifiers": "public", "return": "", "signature": " MapElementTreeSet(double boundsX, double boundsY, double boundsWidth, double boundsHeight)", "full_signature": "public  MapElementTreeSet(double boundsX, double boundsY, double boundsWidth, double boundsHeight)", "class_method_signature": "MapElementTreeSet.MapElementTreeSet(double boundsX, double boundsY, double boundsWidth, double boundsHeight)", "testcase": false, "constructor": true}, {"identifier": "MapElementTreeSet", "parameters": "(Rectangle2afp<?, ?, ?, ?, ?, ?> bounds)", "modifiers": "public", "return": "", "signature": " MapElementTreeSet(Rectangle2afp<?, ?, ?, ?, ?, ?> bounds)", "full_signature": "public  MapElementTreeSet(Rectangle2afp<?, ?, ?, ?, ?, ?> bounds)", "class_method_signature": "MapElementTreeSet.MapElementTreeSet(Rectangle2afp<?, ?, ?, ?, ?, ?> bounds)", "testcase": false, "constructor": true}, {"identifier": "getNearest", "parameters": "(Point2D<?, ?> position)", "modifiers": "@Override @Pure public final", "return": "P", "signature": "P getNearest(Point2D<?, ?> position)", "full_signature": "@Override @Pure public final P getNearest(Point2D<?, ?> position)", "class_method_signature": "MapElementTreeSet.getNearest(Point2D<?, ?> position)", "testcase": false, "constructor": false}, {"identifier": "getNearest", "parameters": "(double x, double y)", "modifiers": "@Override @Pure public final", "return": "P", "signature": "P getNearest(double x, double y)", "full_signature": "@Override @Pure public final P getNearest(double x, double y)", "class_method_signature": "MapElementTreeSet.getNearest(double x, double y)", "testcase": false, "constructor": false}, {"identifier": "getNearestData", "parameters": "(Point2D<?, ?> position)", "modifiers": "@Override @Pure public final", "return": "Pair<P, Double>", "signature": "Pair<P, Double> getNearestData(Point2D<?, ?> position)", "full_signature": "@Override @Pure public final Pair<P, Double> getNearestData(Point2D<?, ?> position)", "class_method_signature": "MapElementTreeSet.getNearestData(Point2D<?, ?> position)", "testcase": false, "constructor": false}, {"identifier": "getNearestData", "parameters": "(double x, double y)", "modifiers": "@Override @Pure public", "return": "Pair<P, Double>", "signature": "Pair<P, Double> getNearestData(double x, double y)", "full_signature": "@Override @Pure public Pair<P, Double> getNearestData(double x, double y)", "class_method_signature": "MapElementTreeSet.getNearestData(double x, double y)", "testcase": false, "constructor": false}], "file": "advanced/gis/giscore/src/main/java/org/arakhne/afc/gis/tree/MapElementTreeSet.java"}, "focal_method": {"identifier": "getNearest", "parameters": "(Point2D<?, ?> position)", "modifiers": "@Override @Pure public final", "return": "P", "body": "@Override\n\t@Pure\n\tpublic final P getNearest(Point2D<?, ?> position) {\n\t\tfinal Pair<P, Double> data = getNearestData(position.getX(), position.getY());\n\t\tif (data != null) {\n\t\t\treturn data.getKey();\n\t\t}\n\t\treturn null;\n\t}", "signature": "P getNearest(Point2D<?, ?> position)", "full_signature": "@Override @Pure public final P getNearest(Point2D<?, ?> position)", "class_method_signature": "MapElementTreeSet.getNearest(Point2D<?, ?> position)", "testcase": false, "constructor": false, "invocations": ["getNearestData", "getX", "getY", "getKey"]}, "repository": {"repo_id": 9714608, "url": "https://github.com/gallandarakhneorg/afc", "language": "Java", "is_fork": false, "fork_count": 8, "stargazer_count": 12, "size": 19091, "license": "licensed"}}