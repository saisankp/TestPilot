{"test_class": {"identifier": "JsonValueToDbEntityMapperTest", "superclass": "", "interfaces": "", "fields": [], "file": "services/utils/persistence/src/test/java/org/eclipse/ditto/services/utils/persistence/mongo/JsonValueToDbEntityMapperTest.java"}, "test_case": {"identifier": "mapJsonObjectReturnsExpectedBsonDocument", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void mapJsonObjectReturnsExpectedBsonDocument() {\n        final JsonObject jsonObject = JsonFactory.newObjectBuilder()\n                .set(\"foo\", JsonFactory.newObjectBuilder()\n                    .set(\"org.eclipse.ditto\", 42)\n                    .build())\n                .set(\"something$\", JsonFactory.newArrayBuilder()\n                    .add(23.42)\n                    .add(true)\n                    .add(\"bar\")\n                    .build())\n                .set(JsonFactory.newKey(\"/with/slash\"), 12345491014314L)\n                .set(\"nada\", JsonFactory.nullObject())\n                .build();\n\n        final BsonDocument expectedBsonDocument = BsonDocument.parse(jsonObject.toString());\n        final Function<String, String> jsonKeyNameReviser = s -> s;\n        final Function<JsonObject, BsonDocument> underTest =\n                JsonValueToDbEntityMapper.forJsonObject(jsonKeyNameReviser);\n\n        final BsonDocument actualBasicDocument = underTest.apply(jsonObject);\n\n        assertThat(actualBasicDocument).isEqualTo(expectedBsonDocument);\n    }", "signature": "void mapJsonObjectReturnsExpectedBsonDocument()", "full_signature": "@Test public void mapJsonObjectReturnsExpectedBsonDocument()", "class_method_signature": "JsonValueToDbEntityMapperTest.mapJsonObjectReturnsExpectedBsonDocument()", "testcase": true, "constructor": false, "invocations": ["build", "set", "set", "set", "set", "newObjectBuilder", "build", "set", "newObjectBuilder", "build", "add", "add", "add", "newArrayBuilder", "newKey", "nullObject", "parse", "toString", "forJsonObject", "apply", "isEqualTo", "assertThat"]}, "focal_class": {"identifier": "JsonValueToDbEntityMapper", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final Function<String, String> jsonKeyNameReviser;", "modifier": "private final", "type": "Function<String, String>", "declarator": "jsonKeyNameReviser", "var_name": "jsonKeyNameReviser"}], "methods": [{"identifier": "JsonValueToDbEntityMapper", "parameters": "(final Function<String, String> theJsonKeyNameReviser)", "modifiers": "private", "return": "", "signature": " JsonValueToDbEntityMapper(final Function<String, String> theJsonKeyNameReviser)", "full_signature": "private  JsonValueToDbEntityMapper(final Function<String, String> theJsonKeyNameReviser)", "class_method_signature": "JsonValueToDbEntityMapper.JsonValueToDbEntityMapper(final Function<String, String> theJsonKeyNameReviser)", "testcase": false, "constructor": true}, {"identifier": "forJsonObject", "parameters": "(final Function<String, String> jsonKeyNameReviser)", "modifiers": "public static", "return": "Function<JsonObject, BsonDocument>", "signature": "Function<JsonObject, BsonDocument> forJsonObject(final Function<String, String> jsonKeyNameReviser)", "full_signature": "public static Function<JsonObject, BsonDocument> forJsonObject(final Function<String, String> jsonKeyNameReviser)", "class_method_signature": "JsonValueToDbEntityMapper.forJsonObject(final Function<String, String> jsonKeyNameReviser)", "testcase": false, "constructor": false}, {"identifier": "forJsonArray", "parameters": "(final Function<String, String> jsonKeyNameReviser)", "modifiers": "public static", "return": "Function<JsonArray, BsonArray>", "signature": "Function<JsonArray, BsonArray> forJsonArray(final Function<String, String> jsonKeyNameReviser)", "full_signature": "public static Function<JsonArray, BsonArray> forJsonArray(final Function<String, String> jsonKeyNameReviser)", "class_method_signature": "JsonValueToDbEntityMapper.forJsonArray(final Function<String, String> jsonKeyNameReviser)", "testcase": false, "constructor": false}, {"identifier": "reviseKeyName", "parameters": "(final JsonKey jsonKey)", "modifiers": "private", "return": "String", "signature": "String reviseKeyName(final JsonKey jsonKey)", "full_signature": "private String reviseKeyName(final JsonKey jsonKey)", "class_method_signature": "JsonValueToDbEntityMapper.reviseKeyName(final JsonKey jsonKey)", "testcase": false, "constructor": false}, {"identifier": "mapJsonObjectToBsonDocument", "parameters": "(final JsonObject jsonObject)", "modifiers": "private", "return": "BsonDocument", "signature": "BsonDocument mapJsonObjectToBsonDocument(final JsonObject jsonObject)", "full_signature": "private BsonDocument mapJsonObjectToBsonDocument(final JsonObject jsonObject)", "class_method_signature": "JsonValueToDbEntityMapper.mapJsonObjectToBsonDocument(final JsonObject jsonObject)", "testcase": false, "constructor": false}, {"identifier": "mapJsonArrayToBsonArray", "parameters": "(final JsonArray jsonArray)", "modifiers": "private", "return": "BsonArray", "signature": "BsonArray mapJsonArrayToBsonArray(final JsonArray jsonArray)", "full_signature": "private BsonArray mapJsonArrayToBsonArray(final JsonArray jsonArray)", "class_method_signature": "JsonValueToDbEntityMapper.mapJsonArrayToBsonArray(final JsonArray jsonArray)", "testcase": false, "constructor": false}, {"identifier": "mapJsonValueToJavaObject", "parameters": "(final JsonValue jsonValue)", "modifiers": "@Nullable private", "return": "Object", "signature": "Object mapJsonValueToJavaObject(final JsonValue jsonValue)", "full_signature": "@Nullable private Object mapJsonValueToJavaObject(final JsonValue jsonValue)", "class_method_signature": "JsonValueToDbEntityMapper.mapJsonValueToJavaObject(final JsonValue jsonValue)", "testcase": false, "constructor": false}, {"identifier": "mapJsonValueToBsonValue", "parameters": "(final JsonValue jsonValue)", "modifiers": "@Nullable private", "return": "BsonValue", "signature": "BsonValue mapJsonValueToBsonValue(final JsonValue jsonValue)", "full_signature": "@Nullable private BsonValue mapJsonValueToBsonValue(final JsonValue jsonValue)", "class_method_signature": "JsonValueToDbEntityMapper.mapJsonValueToBsonValue(final JsonValue jsonValue)", "testcase": false, "constructor": false}, {"identifier": "mapJsonNumberToJavaNumber", "parameters": "(final JsonValue jsonNumberValue)", "modifiers": "private static", "return": "Number", "signature": "Number mapJsonNumberToJavaNumber(final JsonValue jsonNumberValue)", "full_signature": "private static Number mapJsonNumberToJavaNumber(final JsonValue jsonNumberValue)", "class_method_signature": "JsonValueToDbEntityMapper.mapJsonNumberToJavaNumber(final JsonValue jsonNumberValue)", "testcase": false, "constructor": false}, {"identifier": "mapJsonNumberToBsonNumber", "parameters": "(final JsonValue jsonNumberValue)", "modifiers": "private static", "return": "BsonNumber", "signature": "BsonNumber mapJsonNumberToBsonNumber(final JsonValue jsonNumberValue)", "full_signature": "private static BsonNumber mapJsonNumberToBsonNumber(final JsonValue jsonNumberValue)", "class_method_signature": "JsonValueToDbEntityMapper.mapJsonNumberToBsonNumber(final JsonValue jsonNumberValue)", "testcase": false, "constructor": false}], "file": "services/utils/persistence/src/main/java/org/eclipse/ditto/services/utils/persistence/mongo/JsonValueToDbEntityMapper.java"}, "focal_method": {"identifier": "forJsonObject", "parameters": "(final Function<String, String> jsonKeyNameReviser)", "modifiers": "public static", "return": "Function<JsonObject, BsonDocument>", "body": "public static Function<JsonObject, BsonDocument> forJsonObject(final Function<String, String> jsonKeyNameReviser) {\n        final JsonValueToDbEntityMapper mapper = new JsonValueToDbEntityMapper(jsonKeyNameReviser);\n        return mapper::mapJsonObjectToBsonDocument;\n    }", "signature": "Function<JsonObject, BsonDocument> forJsonObject(final Function<String, String> jsonKeyNameReviser)", "full_signature": "public static Function<JsonObject, BsonDocument> forJsonObject(final Function<String, String> jsonKeyNameReviser)", "class_method_signature": "JsonValueToDbEntityMapper.forJsonObject(final Function<String, String> jsonKeyNameReviser)", "testcase": false, "constructor": false, "invocations": []}, "repository": {"repo_id": 87849739, "url": "https://github.com/eclipse/ditto", "stars": 139, "created": "4/10/2017 7:29:57 PM +00:00", "updates": "2020-01-27T14:02:39+00:00", "fork": "False", "license": "licensed"}}