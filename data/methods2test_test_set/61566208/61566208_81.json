{"test_class": {"identifier": "InventoryUtilTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static String nodeId;", "modifier": "private static", "type": "String", "declarator": "nodeId", "var_name": "nodeId"}, {"original_string": "private Map<String, ServerNode> nodeMap;", "modifier": "private", "type": "Map<String, ServerNode>", "declarator": "nodeMap", "var_name": "nodeMap"}], "file": "modules/hms-aggregator/src/test/java/com/vmware/vrack/hms/aggregator/util/InventoryUtilTest.java"}, "test_case": {"identifier": "getInventoryOOB_OOBUnavailable", "parameters": "()", "modifiers": "@Test( expected = HmsException.class ) public", "return": "void", "body": "@Test( expected = HmsException.class )\n    public void getInventoryOOB_OOBUnavailable()\n        throws HMSRestException\n    {\n        ResponseEntity<HashMap<String, Object[]>> inventory =\n            InventoryUtil.getInventoryOOB( \"/samplePath\", \"application/json\" );\n        assertNull( inventory );\n    }", "signature": "void getInventoryOOB_OOBUnavailable()", "full_signature": "@Test( expected = HmsException.class ) public void getInventoryOOB_OOBUnavailable()", "class_method_signature": "InventoryUtilTest.getInventoryOOB_OOBUnavailable()", "testcase": true, "constructor": false, "invocations": ["getInventoryOOB", "assertNull"]}, "focal_class": {"identifier": "InventoryUtil", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static Logger logger = LoggerFactory.getLogger( InventoryUtil.class );", "modifier": "private static", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger( InventoryUtil.class )", "var_name": "logger"}, {"original_string": "public static final String NODE_ID = \"nodeID\";", "modifier": "public static final", "type": "String", "declarator": "NODE_ID = \"nodeID\"", "var_name": "NODE_ID"}, {"original_string": "public static final String IB_IP_ADDRESS = \"ibIpAddress\";", "modifier": "public static final", "type": "String", "declarator": "IB_IP_ADDRESS = \"ibIpAddress\"", "var_name": "IB_IP_ADDRESS"}, {"original_string": "public static final String USERNAME = \"osUserName\";", "modifier": "public static final", "type": "String", "declarator": "USERNAME = \"osUserName\"", "var_name": "USERNAME"}, {"original_string": "public static final String PASSWORD = \"osPassword\";", "modifier": "public static final", "type": "String", "declarator": "PASSWORD = \"osPassword\"", "var_name": "PASSWORD"}, {"original_string": "private static boolean inventoryLoaded = false;", "modifier": "private static", "type": "boolean", "declarator": "inventoryLoaded = false", "var_name": "inventoryLoaded"}], "methods": [{"identifier": "initializeInventory", "parameters": "( String inventoryFilePath, String path )", "modifiers": "public static", "return": "boolean", "signature": "boolean initializeInventory( String inventoryFilePath, String path )", "full_signature": "public static boolean initializeInventory( String inventoryFilePath, String path )", "class_method_signature": "InventoryUtil.initializeInventory( String inventoryFilePath, String path )", "testcase": false, "constructor": false}, {"identifier": "initializeInventory", "parameters": "( String inventoryFilePath )", "modifiers": "public static", "return": "Map<String, Object[]>", "signature": "Map<String, Object[]> initializeInventory( String inventoryFilePath )", "full_signature": "public static Map<String, Object[]> initializeInventory( String inventoryFilePath )", "class_method_signature": "InventoryUtil.initializeInventory( String inventoryFilePath )", "testcase": false, "constructor": false}, {"identifier": "getInventoryOOB", "parameters": "( String path, String contentType )", "modifiers": "public static", "return": "ResponseEntity<HashMap<String, Object[]>>", "signature": "ResponseEntity<HashMap<String, Object[]>> getInventoryOOB( String path, String contentType )", "full_signature": "public static ResponseEntity<HashMap<String, Object[]>> getInventoryOOB( String path, String contentType )", "class_method_signature": "InventoryUtil.getInventoryOOB( String path, String contentType )", "testcase": false, "constructor": false}, {"identifier": "putInventoryOOB", "parameters": "( String path, String contentType, HmsInventoryConfiguration conf )", "modifiers": "public static", "return": "void", "signature": "void putInventoryOOB( String path, String contentType, HmsInventoryConfiguration conf )", "full_signature": "public static void putInventoryOOB( String path, String contentType, HmsInventoryConfiguration conf )", "class_method_signature": "InventoryUtil.putInventoryOOB( String path, String contentType, HmsInventoryConfiguration conf )", "testcase": false, "constructor": false}, {"identifier": "getOOBSupportedOperations", "parameters": "( String path, String contentType )", "modifiers": "public static", "return": "HashMap<String, List<HmsApi>>", "signature": "HashMap<String, List<HmsApi>> getOOBSupportedOperations( String path, String contentType )", "full_signature": "public static HashMap<String, List<HmsApi>> getOOBSupportedOperations( String path, String contentType )", "class_method_signature": "InventoryUtil.getOOBSupportedOperations( String path, String contentType )", "testcase": false, "constructor": false}, {"identifier": "getUpdatedServerInfos", "parameters": "( Object[] hostsToBeUpdated,\n                                                             List<ServerInfo> requestServerInfoList )", "modifiers": "@SuppressWarnings( \"unchecked\" ) public static", "return": "Map<String, Object>", "signature": "Map<String, Object> getUpdatedServerInfos( Object[] hostsToBeUpdated,\n                                                             List<ServerInfo> requestServerInfoList )", "full_signature": "@SuppressWarnings( \"unchecked\" ) public static Map<String, Object> getUpdatedServerInfos( Object[] hostsToBeUpdated,\n                                                             List<ServerInfo> requestServerInfoList )", "class_method_signature": "InventoryUtil.getUpdatedServerInfos( Object[] hostsToBeUpdated,\n                                                             List<ServerInfo> requestServerInfoList )", "testcase": false, "constructor": false}, {"identifier": "getInvalidHostsinRequest", "parameters": "( Object[] inventoryHosts,\n                                                         List<ServerInfo> requestServerInfoList )", "modifiers": "@SuppressWarnings( \"unchecked\" ) public static", "return": "List<String>", "signature": "List<String> getInvalidHostsinRequest( Object[] inventoryHosts,\n                                                         List<ServerInfo> requestServerInfoList )", "full_signature": "@SuppressWarnings( \"unchecked\" ) public static List<String> getInvalidHostsinRequest( Object[] inventoryHosts,\n                                                         List<ServerInfo> requestServerInfoList )", "class_method_signature": "InventoryUtil.getInvalidHostsinRequest( Object[] inventoryHosts,\n                                                         List<ServerInfo> requestServerInfoList )", "testcase": false, "constructor": false}, {"identifier": "createOrUpdateInventoryFile", "parameters": "( final String inventoryFilePath,\n                                                       final String inventoryFileContent )", "modifiers": "public static", "return": "boolean", "signature": "boolean createOrUpdateInventoryFile( final String inventoryFilePath,\n                                                       final String inventoryFileContent )", "full_signature": "public static boolean createOrUpdateInventoryFile( final String inventoryFilePath,\n                                                       final String inventoryFileContent )", "class_method_signature": "InventoryUtil.createOrUpdateInventoryFile( final String inventoryFilePath,\n                                                       final String inventoryFileContent )", "testcase": false, "constructor": false}, {"identifier": "createOrUpdateInventoryFile", "parameters": "( final String inventoryFilePath,\n                                                       final String inventoryFileContent, final boolean createBackup )", "modifiers": "public static", "return": "boolean", "signature": "boolean createOrUpdateInventoryFile( final String inventoryFilePath,\n                                                       final String inventoryFileContent, final boolean createBackup )", "full_signature": "public static boolean createOrUpdateInventoryFile( final String inventoryFilePath,\n                                                       final String inventoryFileContent, final boolean createBackup )", "class_method_signature": "InventoryUtil.createOrUpdateInventoryFile( final String inventoryFilePath,\n                                                       final String inventoryFileContent, final boolean createBackup )", "testcase": false, "constructor": false}, {"identifier": "removeServer", "parameters": "( final String inventoryFilePath, final String hostId )", "modifiers": "public static", "return": "boolean", "signature": "boolean removeServer( final String inventoryFilePath, final String hostId )", "full_signature": "public static boolean removeServer( final String inventoryFilePath, final String hostId )", "class_method_signature": "InventoryUtil.removeServer( final String inventoryFilePath, final String hostId )", "testcase": false, "constructor": false}, {"identifier": "updateInventoryNodeMap", "parameters": "( final String inventoryFileAbsPath )", "modifiers": "public static", "return": "boolean", "signature": "boolean updateInventoryNodeMap( final String inventoryFileAbsPath )", "full_signature": "public static boolean updateInventoryNodeMap( final String inventoryFileAbsPath )", "class_method_signature": "InventoryUtil.updateInventoryNodeMap( final String inventoryFileAbsPath )", "testcase": false, "constructor": false}, {"identifier": "isOobAgentInventoryLoaded", "parameters": "()", "modifiers": "public static", "return": "boolean", "signature": "boolean isOobAgentInventoryLoaded()", "full_signature": "public static boolean isOobAgentInventoryLoaded()", "class_method_signature": "InventoryUtil.isOobAgentInventoryLoaded()", "testcase": false, "constructor": false}, {"identifier": "isInventoryLoaded", "parameters": "()", "modifiers": "public static", "return": "boolean", "signature": "boolean isInventoryLoaded()", "full_signature": "public static boolean isInventoryLoaded()", "class_method_signature": "InventoryUtil.isInventoryLoaded()", "testcase": false, "constructor": false}, {"identifier": "refreshInventoryOnOutOfBand", "parameters": "()", "modifiers": "public static", "return": "boolean", "signature": "boolean refreshInventoryOnOutOfBand()", "full_signature": "public static boolean refreshInventoryOnOutOfBand()", "class_method_signature": "InventoryUtil.refreshInventoryOnOutOfBand()", "testcase": false, "constructor": false}], "file": "modules/hms-aggregator/src/main/java/com/vmware/vrack/hms/aggregator/util/InventoryUtil.java"}, "focal_method": {"identifier": "getInventoryOOB", "parameters": "( String path, String contentType )", "modifiers": "public static", "return": "ResponseEntity<HashMap<String, Object[]>>", "body": "public static ResponseEntity<HashMap<String, Object[]>> getInventoryOOB( String path, String contentType )\n        throws HMSRestException\n    {\n        logger.debug( String.format( \"Trying to get inventory OOB. Url fo r OOB operation is Path: %s, Content Type: %s \",\n                                     path, contentType ) );\n\n        ResponseEntity<HashMap<String, Object[]>> oobResponse = null;\n\n        if ( path != null )\n        {\n            try\n            {\n                HmsOobAgentRestTemplate<Object> restTemplate = new HmsOobAgentRestTemplate<Object>( null, contentType );\n                ParameterizedTypeReference<HashMap<String, Object[]>> typeRef =\n                    new ParameterizedTypeReference<HashMap<String, Object[]>>()\n                    {\n                    };\n                oobResponse = restTemplate.exchange( HttpMethod.GET, path, typeRef );\n            }\n            catch ( HttpStatusCodeException e )\n            {\n                HttpHeaders headers = new HttpHeaders();\n                headers.setContentType( MediaType.APPLICATION_JSON );\n                logger.error( \"Http Status Code Exception when trying to get hms/nodes: \" + e );\n            }\n            catch ( Exception e )\n            {\n                logger.error( \"Error while trying to get nodes: \" + e );\n                throw new HMSRestException( HttpStatus.INTERNAL_SERVER_ERROR.value(), \"Server Error\",\n                                            \"Exception while connecting to hms.\" + ( ( path != null ) ? path : \"\" ) );\n            }\n        }\n        else\n        {\n            logger.error( String.format( \"Unable to get inventory from OOB because some Final OOB Url cannot be constructed. \"\n                + \"Url for OOB operation is Path: %s, Content Type: %s \", path, contentType ) );\n            throw new HMSRestException( HttpStatus.INTERNAL_SERVER_ERROR.value(), \"Server Error\",\n                                        \"Exception while connecting to hms. Unable to create Url\" );\n        }\n        return oobResponse;\n    }", "signature": "ResponseEntity<HashMap<String, Object[]>> getInventoryOOB( String path, String contentType )", "full_signature": "public static ResponseEntity<HashMap<String, Object[]>> getInventoryOOB( String path, String contentType )", "class_method_signature": "InventoryUtil.getInventoryOOB( String path, String contentType )", "testcase": false, "constructor": false, "invocations": ["debug", "format", "exchange", "setContentType", "error", "error", "value", "error", "format", "value"]}, "repository": {"repo_id": 61566208, "url": "https://github.com/vmware-archive/OHMS", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 14, "size": 16092, "license": "licensed"}}