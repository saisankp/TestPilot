{"test_class": {"identifier": "RetentionExpirationDestroyerControllerTest", "superclass": "extends AbstractRetentionExpirationDestroyerTest", "interfaces": "", "fields": [], "file": "herd-code/herd-tools/herd-retention-expiration-destroyer/src/test/java/org/finra/herd/tools/retention/destroyer/RetentionExpirationDestroyerControllerTest.java"}, "test_case": {"identifier": "testGetBusinessObjectDataKeyInvalidBusinessObjectDataVersion", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetBusinessObjectDataKeyInvalidBusinessObjectDataVersion()\n    {\n        // Try to get business object data key when business object data version is not a valid integer.\n        try\n        {\n            String[] line = {NAMESPACE, BUSINESS_OBJECT_DEFINITION_NAME, BUSINESS_OBJECT_FORMAT_USAGE, BUSINESS_OBJECT_FORMAT_FILE_TYPE,\n                BUSINESS_OBJECT_FORMAT_VERSION.toString(), PRIMARY_PARTITION_VALUE, SUB_PARTITION_VALUES.get(0), SUB_PARTITION_VALUES.get(1),\n                SUB_PARTITION_VALUES.get(2), SUB_PARTITION_VALUES.get(3), INVALID_INTEGER_VALUE, BUSINESS_OBJECT_DEFINITION_DISPLAY_NAME,\n                BUSINESS_OBJECT_DEFINITION_URI};\n            retentionExpirationDestroyerController.getBusinessObjectDataKey(line, LINE_NUMBER, new File(LOCAL_FILE));\n            fail();\n        }\n        catch (IllegalArgumentException e)\n        {\n            assertEquals(String\n                .format(\"Line number %d of input file \\\"%s\\\" does not match the expected format. Business object data version must be an integer.\", LINE_NUMBER,\n                    LOCAL_FILE), e.getMessage());\n        }\n    }", "signature": "void testGetBusinessObjectDataKeyInvalidBusinessObjectDataVersion()", "full_signature": "@Test public void testGetBusinessObjectDataKeyInvalidBusinessObjectDataVersion()", "class_method_signature": "RetentionExpirationDestroyerControllerTest.testGetBusinessObjectDataKeyInvalidBusinessObjectDataVersion()", "testcase": true, "constructor": false, "invocations": ["toString", "get", "get", "get", "get", "getBusinessObjectDataKey", "fail", "assertEquals", "format", "getMessage"]}, "focal_class": {"identifier": "RetentionExpirationDestroyerController", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String[] CSV_FILE_HEADER_COLUMNS =\n        {\"Namespace\", \"Business Object Definition Name\", \"Business Object Format Usage\", \"Business Object Format File Type\", \"Business Object Format Version\",\n            \"Primary Partition Value\", \"Sub-Partition Value 1\", \"Sub-Partition Value 2\", \"Sub-Partition Value 3\", \"Sub-Partition Value 4\",\n            \"Business Object Data Version\", \"Business Object Definition Display Name\", \"Business Object Definition URI\"};", "modifier": "private static final", "type": "String[]", "declarator": "CSV_FILE_HEADER_COLUMNS =\n        {\"Namespace\", \"Business Object Definition Name\", \"Business Object Format Usage\", \"Business Object Format File Type\", \"Business Object Format Version\",\n            \"Primary Partition Value\", \"Sub-Partition Value 1\", \"Sub-Partition Value 2\", \"Sub-Partition Value 3\", \"Sub-Partition Value 4\",\n            \"Business Object Data Version\", \"Business Object Definition Display Name\", \"Business Object Definition URI\"}", "var_name": "CSV_FILE_HEADER_COLUMNS"}, {"original_string": "private static final Logger LOGGER = LoggerFactory.getLogger(RetentionExpirationDestroyerController.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(RetentionExpirationDestroyerController.class)", "var_name": "LOGGER"}, {"original_string": "@Autowired\n    private JsonHelper jsonHelper;", "modifier": "@Autowired\n    private", "type": "JsonHelper", "declarator": "jsonHelper", "var_name": "jsonHelper"}, {"original_string": "@Autowired\n    private RetentionExpirationDestroyerWebClient retentionExpirationDestroyerWebClient;", "modifier": "@Autowired\n    private", "type": "RetentionExpirationDestroyerWebClient", "declarator": "retentionExpirationDestroyerWebClient", "var_name": "retentionExpirationDestroyerWebClient"}], "methods": [{"identifier": "performRetentionExpirationDestruction", "parameters": "(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto)", "modifiers": "public", "return": "void", "signature": "void performRetentionExpirationDestruction(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto)", "full_signature": "public void performRetentionExpirationDestruction(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto)", "class_method_signature": "RetentionExpirationDestroyerController.performRetentionExpirationDestruction(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto)", "testcase": false, "constructor": false}, {"identifier": "getBusinessObjectDataKey", "parameters": "(String[] line, int lineNumber, File inputCsvFile)", "modifiers": "protected", "return": "BusinessObjectDataKey", "signature": "BusinessObjectDataKey getBusinessObjectDataKey(String[] line, int lineNumber, File inputCsvFile)", "full_signature": "protected BusinessObjectDataKey getBusinessObjectDataKey(String[] line, int lineNumber, File inputCsvFile)", "class_method_signature": "RetentionExpirationDestroyerController.getBusinessObjectDataKey(String[] line, int lineNumber, File inputCsvFile)", "testcase": false, "constructor": false}, {"identifier": "getBusinessObjectDataKeys", "parameters": "(File inputCsvFile)", "modifiers": "protected", "return": "List<BusinessObjectDataKey>", "signature": "List<BusinessObjectDataKey> getBusinessObjectDataKeys(File inputCsvFile)", "full_signature": "protected List<BusinessObjectDataKey> getBusinessObjectDataKeys(File inputCsvFile)", "class_method_signature": "RetentionExpirationDestroyerController.getBusinessObjectDataKeys(File inputCsvFile)", "testcase": false, "constructor": false}], "file": "herd-code/herd-tools/herd-retention-expiration-destroyer/src/main/java/org/finra/herd/tools/retention/destroyer/RetentionExpirationDestroyerController.java"}, "focal_method": {"identifier": "getBusinessObjectDataKey", "parameters": "(String[] line, int lineNumber, File inputCsvFile)", "modifiers": "protected", "return": "BusinessObjectDataKey", "body": "protected BusinessObjectDataKey getBusinessObjectDataKey(String[] line, int lineNumber, File inputCsvFile)\n    {\n        if (line.length != CSV_FILE_HEADER_COLUMNS.length)\n        {\n            throw new IllegalArgumentException(\n                String.format(\"Line number %d of input file \\\"%s\\\" does not match the expected format.\", lineNumber, inputCsvFile.toString()));\n        }\n\n        Integer businessObjectFormatVersion;\n        Integer businessObjectDataVersion;\n\n        try\n        {\n            businessObjectFormatVersion = Integer.valueOf(line[4]);\n        }\n        catch (NumberFormatException e)\n        {\n            throw new IllegalArgumentException(String\n                .format(\"Line number %d of input file \\\"%s\\\" does not match the expected format. Business object format version must be an integer.\",\n                    lineNumber, inputCsvFile.toString()), e);\n        }\n\n        try\n        {\n            businessObjectDataVersion = Integer.valueOf(line[10]);\n        }\n        catch (NumberFormatException e)\n        {\n            throw new IllegalArgumentException(String\n                .format(\"Line number %d of input file \\\"%s\\\" does not match the expected format. Business object data version must be an integer.\", lineNumber,\n                    inputCsvFile.toString()), e);\n        }\n\n        // Build a list of optional sub-partition values.\n        List<String> subPartitionValues = new ArrayList<>();\n        for (String subPartitionValue : Arrays.asList(line[6], line[7], line[8], line[9]))\n        {\n            if (StringUtils.isNotBlank(subPartitionValue))\n            {\n                subPartitionValues.add(subPartitionValue);\n            }\n            else\n            {\n                break;\n            }\n        }\n\n        return new BusinessObjectDataKey(line[0], line[1], line[2], line[3], businessObjectFormatVersion, line[5], subPartitionValues,\n            businessObjectDataVersion);\n    }", "signature": "BusinessObjectDataKey getBusinessObjectDataKey(String[] line, int lineNumber, File inputCsvFile)", "full_signature": "protected BusinessObjectDataKey getBusinessObjectDataKey(String[] line, int lineNumber, File inputCsvFile)", "class_method_signature": "RetentionExpirationDestroyerController.getBusinessObjectDataKey(String[] line, int lineNumber, File inputCsvFile)", "testcase": false, "constructor": false, "invocations": ["format", "toString", "valueOf", "format", "toString", "valueOf", "format", "toString", "asList", "isNotBlank", "add"]}, "repository": {"repo_id": 42949039, "url": "https://github.com/FINRAOS/herd", "language": "Java", "is_fork": false, "fork_count": 36, "stargazer_count": 120, "size": 205797, "license": "licensed"}}