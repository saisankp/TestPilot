{"test_class": {"identifier": "GrpcServerRequestTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "Key<String> b3Key = Key.of(\"b3\", Metadata.ASCII_STRING_MARSHALLER);", "modifier": "", "type": "Key<String>", "declarator": "b3Key = Key.of(\"b3\", Metadata.ASCII_STRING_MARSHALLER)", "var_name": "b3Key"}, {"original_string": "MethodDescriptor<?, ?> methodDescriptor = TestObjects.METHOD_DESCRIPTOR;", "modifier": "", "type": "MethodDescriptor<?, ?>", "declarator": "methodDescriptor = TestObjects.METHOD_DESCRIPTOR", "var_name": "methodDescriptor"}, {"original_string": "ServerCall call = mock(ServerCall.class);", "modifier": "", "type": "ServerCall", "declarator": "call = mock(ServerCall.class)", "var_name": "call"}, {"original_string": "Metadata headers = new Metadata();", "modifier": "", "type": "Metadata", "declarator": "headers = new Metadata()", "var_name": "headers"}, {"original_string": "GrpcServerRequest request =\n    new GrpcServerRequest(singletonMap(\"b3\", b3Key), call, headers);", "modifier": "", "type": "GrpcServerRequest", "declarator": "request =\n    new GrpcServerRequest(singletonMap(\"b3\", b3Key), call, headers)", "var_name": "request"}], "file": "instrumentation/grpc/src/test/java/brave/grpc/GrpcServerRequestTest.java"}, "test_case": {"identifier": "propagationField_null", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test public void propagationField_null() {\n    assertThat(request.propagationField(\"b3\")).isNull();\n  }", "signature": "void propagationField_null()", "full_signature": "@Test public void propagationField_null()", "class_method_signature": "GrpcServerRequestTest.propagationField_null()", "testcase": true, "constructor": false, "invocations": ["isNull", "assertThat", "propagationField"]}, "focal_class": {"identifier": "GrpcServerRequest", "superclass": "extends RpcServerRequest", "interfaces": "implements GrpcRequest", "fields": [{"original_string": "final Map<String, Key<String>> nameToKey;", "modifier": "final", "type": "Map<String, Key<String>>", "declarator": "nameToKey", "var_name": "nameToKey"}, {"original_string": "final ServerCall<?, ?> call;", "modifier": "final", "type": "ServerCall<?, ?>", "declarator": "call", "var_name": "call"}, {"original_string": "final Metadata headers;", "modifier": "final", "type": "Metadata", "declarator": "headers", "var_name": "headers"}], "methods": [{"identifier": "GrpcServerRequest", "parameters": "(Map<String, Key<String>> nameToKey, ServerCall<?, ?> call, Metadata headers)", "modifiers": "", "return": "", "signature": " GrpcServerRequest(Map<String, Key<String>> nameToKey, ServerCall<?, ?> call, Metadata headers)", "full_signature": "  GrpcServerRequest(Map<String, Key<String>> nameToKey, ServerCall<?, ?> call, Metadata headers)", "class_method_signature": "GrpcServerRequest.GrpcServerRequest(Map<String, Key<String>> nameToKey, ServerCall<?, ?> call, Metadata headers)", "testcase": false, "constructor": true}, {"identifier": "unwrap", "parameters": "()", "modifiers": "@Override public", "return": "Object", "signature": "Object unwrap()", "full_signature": "@Override public Object unwrap()", "class_method_signature": "GrpcServerRequest.unwrap()", "testcase": false, "constructor": false}, {"identifier": "method", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String method()", "full_signature": "@Override public String method()", "class_method_signature": "GrpcServerRequest.method()", "testcase": false, "constructor": false}, {"identifier": "service", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String service()", "full_signature": "@Override public String service()", "class_method_signature": "GrpcServerRequest.service()", "testcase": false, "constructor": false}, {"identifier": "call", "parameters": "()", "modifiers": "public", "return": "ServerCall<?, ?>", "signature": "ServerCall<?, ?> call()", "full_signature": "public ServerCall<?, ?> call()", "class_method_signature": "GrpcServerRequest.call()", "testcase": false, "constructor": false}, {"identifier": "methodDescriptor", "parameters": "()", "modifiers": "@Override public", "return": "MethodDescriptor<?, ?>", "signature": "MethodDescriptor<?, ?> methodDescriptor()", "full_signature": "@Override public MethodDescriptor<?, ?> methodDescriptor()", "class_method_signature": "GrpcServerRequest.methodDescriptor()", "testcase": false, "constructor": false}, {"identifier": "headers", "parameters": "()", "modifiers": "@Override public", "return": "Metadata", "signature": "Metadata headers()", "full_signature": "@Override public Metadata headers()", "class_method_signature": "GrpcServerRequest.headers()", "testcase": false, "constructor": false}, {"identifier": "propagationField", "parameters": "(String keyName)", "modifiers": "@Override protected", "return": "String", "signature": "String propagationField(String keyName)", "full_signature": "@Override protected String propagationField(String keyName)", "class_method_signature": "GrpcServerRequest.propagationField(String keyName)", "testcase": false, "constructor": false}], "file": "instrumentation/grpc/src/main/java/brave/grpc/GrpcServerRequest.java"}, "focal_method": {"identifier": "propagationField", "parameters": "(String keyName)", "modifiers": "@Override protected", "return": "String", "body": "@Override protected String propagationField(String keyName) {\n    if (keyName == null) throw new NullPointerException(\"keyName == null\");\n    Key<String> key = nameToKey.get(keyName);\n    if (key == null) {\n      assert false : \"We currently don't support getting headers except propagation fields\";\n      return null;\n    }\n    return headers.get(key);\n  }", "signature": "String propagationField(String keyName)", "full_signature": "@Override protected String propagationField(String keyName)", "class_method_signature": "GrpcServerRequest.propagationField(String keyName)", "testcase": false, "constructor": false, "invocations": ["get", "get"]}, "repository": {"repo_id": 9278888, "url": "https://github.com/openzipkin/brave", "stars": 1754, "created": "4/7/2013 3:48:18 PM +00:00", "updates": "2020-01-26T11:52:41+00:00", "fork": "False", "license": "licensed"}}