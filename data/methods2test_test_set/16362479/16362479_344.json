{"test_class": {"identifier": "ClientLocalHistoryTest", "superclass": "extends AbstractClientHistoryTest<ClientLocalHistory>", "interfaces": "", "fields": [{"original_string": "private ActorSystem system;", "modifier": "private", "type": "ActorSystem", "declarator": "system", "var_name": "system"}, {"original_string": "private AbstractDataStoreClientBehavior behavior;", "modifier": "private", "type": "AbstractDataStoreClientBehavior", "declarator": "behavior", "var_name": "behavior"}, {"original_string": "private ClientActorContext clientActorContext;", "modifier": "private", "type": "ClientActorContext", "declarator": "clientActorContext", "var_name": "clientActorContext"}, {"original_string": "private ClientLocalHistory object;", "modifier": "private", "type": "ClientLocalHistory", "declarator": "object", "var_name": "object"}, {"original_string": "@Mock\n    private AbstractTransactionCommitCohort cohort;", "modifier": "@Mock\n    private", "type": "AbstractTransactionCommitCohort", "declarator": "cohort", "var_name": "cohort"}, {"original_string": "@Mock\n    private ClientTransaction transaction;", "modifier": "@Mock\n    private", "type": "ClientTransaction", "declarator": "transaction", "var_name": "transaction"}], "file": "opendaylight/md-sal/sal-distributed-datastore/src/test/java/org/opendaylight/controller/cluster/databroker/actors/dds/ClientLocalHistoryTest.java"}, "test_case": {"identifier": "testOnTransactionAbort", "parameters": "()", "modifiers": "@Override @Test public", "return": "void", "body": "@Override\n    @Test\n    public void testOnTransactionAbort() {\n        final ClientSnapshot clientSnapshot = object().doCreateSnapshot();\n        Assert.assertTrue(clientSnapshot.abort());\n    }", "signature": "void testOnTransactionAbort()", "full_signature": "@Override @Test public void testOnTransactionAbort()", "class_method_signature": "ClientLocalHistoryTest.testOnTransactionAbort()", "testcase": true, "constructor": false, "invocations": ["doCreateSnapshot", "object", "assertTrue", "abort"]}, "focal_class": {"identifier": "ClientLocalHistory", "superclass": "extends AbstractClientHistory", "interfaces": "implements AutoCloseable", "fields": [], "methods": [{"identifier": "ClientLocalHistory", "parameters": "(final AbstractDataStoreClientBehavior client, final LocalHistoryIdentifier historyId)", "modifiers": "", "return": "", "signature": " ClientLocalHistory(final AbstractDataStoreClientBehavior client, final LocalHistoryIdentifier historyId)", "full_signature": "  ClientLocalHistory(final AbstractDataStoreClientBehavior client, final LocalHistoryIdentifier historyId)", "class_method_signature": "ClientLocalHistory.ClientLocalHistory(final AbstractDataStoreClientBehavior client, final LocalHistoryIdentifier historyId)", "testcase": false, "constructor": true}, {"identifier": "close", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void close()", "full_signature": "@Override public void close()", "class_method_signature": "ClientLocalHistory.close()", "testcase": false, "constructor": false}, {"identifier": "ensureIdleState", "parameters": "()", "modifiers": "private", "return": "State", "signature": "State ensureIdleState()", "full_signature": "private State ensureIdleState()", "class_method_signature": "ClientLocalHistory.ensureIdleState()", "testcase": false, "constructor": false}, {"identifier": "doCreateSnapshot", "parameters": "()", "modifiers": "@Override", "return": "ClientSnapshot", "signature": "ClientSnapshot doCreateSnapshot()", "full_signature": "@Override ClientSnapshot doCreateSnapshot()", "class_method_signature": "ClientLocalHistory.doCreateSnapshot()", "testcase": false, "constructor": false}, {"identifier": "doCreateTransaction", "parameters": "()", "modifiers": "@Override", "return": "ClientTransaction", "signature": "ClientTransaction doCreateTransaction()", "full_signature": "@Override ClientTransaction doCreateTransaction()", "class_method_signature": "ClientLocalHistory.doCreateTransaction()", "testcase": false, "constructor": false}, {"identifier": "onTransactionAbort", "parameters": "(final AbstractClientHandle<?> snap)", "modifiers": "@Override", "return": "void", "signature": "void onTransactionAbort(final AbstractClientHandle<?> snap)", "full_signature": "@Override void onTransactionAbort(final AbstractClientHandle<?> snap)", "class_method_signature": "ClientLocalHistory.onTransactionAbort(final AbstractClientHandle<?> snap)", "testcase": false, "constructor": false}, {"identifier": "onTransactionReady", "parameters": "(final ClientTransaction tx,\n            final AbstractTransactionCommitCohort cohort)", "modifiers": "@Override", "return": "AbstractTransactionCommitCohort", "signature": "AbstractTransactionCommitCohort onTransactionReady(final ClientTransaction tx,\n            final AbstractTransactionCommitCohort cohort)", "full_signature": "@Override AbstractTransactionCommitCohort onTransactionReady(final ClientTransaction tx,\n            final AbstractTransactionCommitCohort cohort)", "class_method_signature": "ClientLocalHistory.onTransactionReady(final ClientTransaction tx,\n            final AbstractTransactionCommitCohort cohort)", "testcase": false, "constructor": false}, {"identifier": "createHistoryProxy", "parameters": "(final LocalHistoryIdentifier historyId,\n            final AbstractClientConnection<ShardBackendInfo> connection)", "modifiers": "@Override", "return": "ProxyHistory", "signature": "ProxyHistory createHistoryProxy(final LocalHistoryIdentifier historyId,\n            final AbstractClientConnection<ShardBackendInfo> connection)", "full_signature": "@Override ProxyHistory createHistoryProxy(final LocalHistoryIdentifier historyId,\n            final AbstractClientConnection<ShardBackendInfo> connection)", "class_method_signature": "ClientLocalHistory.createHistoryProxy(final LocalHistoryIdentifier historyId,\n            final AbstractClientConnection<ShardBackendInfo> connection)", "testcase": false, "constructor": false}], "file": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/databroker/actors/dds/ClientLocalHistory.java"}, "focal_method": {"identifier": "onTransactionAbort", "parameters": "(final AbstractClientHandle<?> snap)", "modifiers": "@Override", "return": "void", "body": "@Override\n    void onTransactionAbort(final AbstractClientHandle<?> snap) {\n        if (snap instanceof ClientTransaction) {\n            final State local = state();\n            if (local == State.TX_OPEN) {\n                updateState(local, State.IDLE);\n            }\n        }\n\n        super.onTransactionAbort(snap);\n    }", "signature": "void onTransactionAbort(final AbstractClientHandle<?> snap)", "full_signature": "@Override void onTransactionAbort(final AbstractClientHandle<?> snap)", "class_method_signature": "ClientLocalHistory.onTransactionAbort(final AbstractClientHandle<?> snap)", "testcase": false, "constructor": false, "invocations": ["state", "updateState", "onTransactionAbort"]}, "repository": {"repo_id": 16362479, "url": "https://github.com/opendaylight/controller", "stars": 313, "created": "1/29/2014 11:10:45 PM +00:00", "updates": "2020-01-20T11:02:36+00:00", "fork": "False", "license": "licensed"}}