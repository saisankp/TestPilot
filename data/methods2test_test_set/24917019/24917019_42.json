{"test_class": {"identifier": "DynamoDBWorkerUtilsTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String table = \"table\";", "modifier": "private static final", "type": "String", "declarator": "table = \"table\"", "var_name": "table"}, {"original_string": "private static final String resource = \"resource\";", "modifier": "private static final", "type": "String", "declarator": "resource = \"resource\"", "var_name": "resource"}, {"original_string": "private static final String eTag = \"eTag\";", "modifier": "private static final", "type": "String", "declarator": "eTag = \"eTag\"", "var_name": "eTag"}], "file": "ingester/src/test/java/com/amazonaws/services/dynamodbv2/json/demo/mars/worker/DynamoDBWorkerUtilsTest.java"}, "test_case": {"identifier": "testGetStoredETagDoesNotExist", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetStoredETagDoesNotExist() {\n        AmazonDynamoDB dynamoDB = PowerMock.createMock(AmazonDynamoDB.class);\n        Map<String, AttributeValue> resourceKey = new HashMap<String, AttributeValue>();\n        resourceKey.put(MarsDynamoDBManager.RESOURCE_TABLE_HASH_KEY, new AttributeValue(resource));\n        // Get item\n        dynamoDB.getItem(table, resourceKey);\n        GetItemResult result = new GetItemResult();\n        PowerMock.expectLastCall().andReturn(result);\n        PowerMock.replayAll();\n        String resultETag = DynamoDBWorkerUtils.getStoredETag(dynamoDB, table, resource);\n        assertEquals(null, resultETag);\n        PowerMock.verifyAll();\n    }", "signature": "void testGetStoredETagDoesNotExist()", "full_signature": "@Test public void testGetStoredETagDoesNotExist()", "class_method_signature": "DynamoDBWorkerUtilsTest.testGetStoredETagDoesNotExist()", "testcase": true, "constructor": false, "invocations": ["createMock", "put", "getItem", "andReturn", "expectLastCall", "replayAll", "getStoredETag", "assertEquals", "verifyAll"]}, "focal_class": {"identifier": "DynamoDBWorkerUtils", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final String ETAG_KEY = \"ETag\";", "modifier": "public static final", "type": "String", "declarator": "ETAG_KEY = \"ETag\"", "var_name": "ETAG_KEY"}], "methods": [{"identifier": "getStoredETag", "parameters": "(final AmazonDynamoDB dynamoDB, final String table, final String resource)", "modifiers": "public static", "return": "String", "signature": "String getStoredETag(final AmazonDynamoDB dynamoDB, final String table, final String resource)", "full_signature": "public static String getStoredETag(final AmazonDynamoDB dynamoDB, final String table, final String resource)", "class_method_signature": "DynamoDBWorkerUtils.getStoredETag(final AmazonDynamoDB dynamoDB, final String table, final String resource)", "testcase": false, "constructor": false}, {"identifier": "updateETag", "parameters": "(final AmazonDynamoDB dynamoDB, final String table, final String resource,\n        final String eTag)", "modifiers": "public static", "return": "void", "signature": "void updateETag(final AmazonDynamoDB dynamoDB, final String table, final String resource,\n        final String eTag)", "full_signature": "public static void updateETag(final AmazonDynamoDB dynamoDB, final String table, final String resource,\n        final String eTag)", "class_method_signature": "DynamoDBWorkerUtils.updateETag(final AmazonDynamoDB dynamoDB, final String table, final String resource,\n        final String eTag)", "testcase": false, "constructor": false}, {"identifier": "DynamoDBWorkerUtils", "parameters": "()", "modifiers": "private", "return": "", "signature": " DynamoDBWorkerUtils()", "full_signature": "private  DynamoDBWorkerUtils()", "class_method_signature": "DynamoDBWorkerUtils.DynamoDBWorkerUtils()", "testcase": false, "constructor": true}], "file": "ingester/src/main/java/com/amazonaws/services/dynamodbv2/json/demo/mars/worker/DynamoDBWorkerUtils.java"}, "focal_method": {"identifier": "getStoredETag", "parameters": "(final AmazonDynamoDB dynamoDB, final String table, final String resource)", "modifiers": "public static", "return": "String", "body": "public static String getStoredETag(final AmazonDynamoDB dynamoDB, final String table, final String resource) {\n        String oldETag;\n        // Build key to retrieve item\n        final Map<String, AttributeValue> resourceKey = new HashMap<String, AttributeValue>();\n        resourceKey.put(MarsDynamoDBManager.RESOURCE_TABLE_HASH_KEY, new AttributeValue(resource));\n        // Get item\n        final GetItemResult result = dynamoDB.getItem(table, resourceKey);\n        final Map<String, AttributeValue> item = result.getItem();\n        if (item != null && item.containsKey(ETAG_KEY)) {\n            // Item was found and contains ETag\n            oldETag = item.get(ETAG_KEY).getS();\n        } else {\n            // Item was not found or did not contain ETag\n            oldETag = null;\n        }\n        return oldETag;\n    }", "signature": "String getStoredETag(final AmazonDynamoDB dynamoDB, final String table, final String resource)", "full_signature": "public static String getStoredETag(final AmazonDynamoDB dynamoDB, final String table, final String resource)", "class_method_signature": "DynamoDBWorkerUtils.getStoredETag(final AmazonDynamoDB dynamoDB, final String table, final String resource)", "testcase": false, "constructor": false, "invocations": ["put", "getItem", "getItem", "containsKey", "getS", "get"]}, "repository": {"repo_id": 24917019, "url": "https://github.com/aws-samples/aws-dynamodb-mars-json-demo", "language": "Java", "is_fork": false, "fork_count": 19, "stargazer_count": 48, "size": 1648, "license": "licensed"}}