{"test_class": {"identifier": "StorageFileDaoHelperTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Captor\n    private ArgumentCaptor<List<StorageFileEntity>> argumentCaptor;", "modifier": "@Captor\n    private", "type": "ArgumentCaptor<List<StorageFileEntity>>", "declarator": "argumentCaptor", "var_name": "argumentCaptor"}, {"original_string": "@Mock\n    private BusinessObjectDataHelper businessObjectDataHelper;", "modifier": "@Mock\n    private", "type": "BusinessObjectDataHelper", "declarator": "businessObjectDataHelper", "var_name": "businessObjectDataHelper"}, {"original_string": "@Mock\n    private StorageFileDao storageFileDao;", "modifier": "@Mock\n    private", "type": "StorageFileDao", "declarator": "storageFileDao", "var_name": "storageFileDao"}, {"original_string": "@InjectMocks\n    private StorageFileDaoHelper storageFileDaoHelper;", "modifier": "@InjectMocks\n    private", "type": "StorageFileDaoHelper", "declarator": "storageFileDaoHelper", "var_name": "storageFileDaoHelper"}], "file": "herd-code/herd-service/src/test/java/org/finra/herd/service/helper/StorageFileDaoHelperTest.java"}, "test_case": {"identifier": "testCreateStorageFileEntitiesFromStorageFiles", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testCreateStorageFileEntitiesFromStorageFiles()\n    {\n        // Create a storage unit entity.\n        StorageUnitEntity storageUnitEntity = new StorageUnitEntity();\n\n        // Create a list of storage files\n        List<StorageFile> storageFiles =\n            Lists.newArrayList(new StorageFile(FILE_NAME, FILE_SIZE, ROW_COUNT), new StorageFile(FILE_NAME_2, FILE_SIZE_2, ROW_COUNT_2));\n\n        // Call the method under test.\n        List<StorageFileEntity> result = storageFileDaoHelper.createStorageFileEntitiesFromStorageFiles(storageUnitEntity, storageFiles);\n\n        // Validate the results.\n        assertThat(\"Result size not equal to two.\", result.size(), is(2));\n        assertThat(\"File size not equal.\", result.get(0).getFileSizeBytes(), is(FILE_SIZE));\n        assertThat(\"Row count not equal.\", result.get(0).getRowCount(), is(ROW_COUNT));\n        assertThat(\"File size not equal.\", result.get(1).getFileSizeBytes(), is(FILE_SIZE_2));\n        assertThat(\"Row count not equal.\", result.get(1).getRowCount(), is(ROW_COUNT_2));\n\n        // Verify the external calls.\n        verify(storageFileDao).saveStorageFiles(argumentCaptor.capture());\n        verifyNoMoreInteractionsHelper();\n    }", "signature": "void testCreateStorageFileEntitiesFromStorageFiles()", "full_signature": "@Test public void testCreateStorageFileEntitiesFromStorageFiles()", "class_method_signature": "StorageFileDaoHelperTest.testCreateStorageFileEntitiesFromStorageFiles()", "testcase": true, "constructor": false, "invocations": ["newArrayList", "createStorageFileEntitiesFromStorageFiles", "assertThat", "size", "is", "assertThat", "getFileSizeBytes", "get", "is", "assertThat", "getRowCount", "get", "is", "assertThat", "getFileSizeBytes", "get", "is", "assertThat", "getRowCount", "get", "is", "saveStorageFiles", "verify", "capture", "verifyNoMoreInteractionsHelper"]}, "focal_class": {"identifier": "StorageFileDaoHelper", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Autowired\n    private BusinessObjectDataHelper businessObjectDataHelper;", "modifier": "@Autowired\n    private", "type": "BusinessObjectDataHelper", "declarator": "businessObjectDataHelper", "var_name": "businessObjectDataHelper"}, {"original_string": "@Autowired\n    private StorageFileDao storageFileDao;", "modifier": "@Autowired\n    private", "type": "StorageFileDao", "declarator": "storageFileDao", "var_name": "storageFileDao"}], "methods": [{"identifier": "createStorageFileEntitiesFromStorageFiles", "parameters": "(StorageUnitEntity storageUnitEntity, List<StorageFile> storageFiles)", "modifiers": "public", "return": "List<StorageFileEntity>", "signature": "List<StorageFileEntity> createStorageFileEntitiesFromStorageFiles(StorageUnitEntity storageUnitEntity, List<StorageFile> storageFiles)", "full_signature": "public List<StorageFileEntity> createStorageFileEntitiesFromStorageFiles(StorageUnitEntity storageUnitEntity, List<StorageFile> storageFiles)", "class_method_signature": "StorageFileDaoHelper.createStorageFileEntitiesFromStorageFiles(StorageUnitEntity storageUnitEntity, List<StorageFile> storageFiles)", "testcase": false, "constructor": false}, {"identifier": "getStorageFileEntity", "parameters": "(String storageName, String filePath)", "modifiers": "public", "return": "StorageFileEntity", "signature": "StorageFileEntity getStorageFileEntity(String storageName, String filePath)", "full_signature": "public StorageFileEntity getStorageFileEntity(String storageName, String filePath)", "class_method_signature": "StorageFileDaoHelper.getStorageFileEntity(String storageName, String filePath)", "testcase": false, "constructor": false}, {"identifier": "getStorageFileEntity", "parameters": "(StorageUnitEntity storageUnitEntity, String filePath, BusinessObjectDataKey businessObjectDataKey)", "modifiers": "public", "return": "StorageFileEntity", "signature": "StorageFileEntity getStorageFileEntity(StorageUnitEntity storageUnitEntity, String filePath, BusinessObjectDataKey businessObjectDataKey)", "full_signature": "public StorageFileEntity getStorageFileEntity(StorageUnitEntity storageUnitEntity, String filePath, BusinessObjectDataKey businessObjectDataKey)", "class_method_signature": "StorageFileDaoHelper.getStorageFileEntity(StorageUnitEntity storageUnitEntity, String filePath, BusinessObjectDataKey businessObjectDataKey)", "testcase": false, "constructor": false}], "file": "herd-code/herd-service/src/main/java/org/finra/herd/service/helper/StorageFileDaoHelper.java"}, "focal_method": {"identifier": "createStorageFileEntitiesFromStorageFiles", "parameters": "(StorageUnitEntity storageUnitEntity, List<StorageFile> storageFiles)", "modifiers": "public", "return": "List<StorageFileEntity>", "body": "public List<StorageFileEntity> createStorageFileEntitiesFromStorageFiles(StorageUnitEntity storageUnitEntity, List<StorageFile> storageFiles)\n    {\n        List<StorageFileEntity> storageFileEntities = new ArrayList<>();\n\n        for (StorageFile storageFile : storageFiles)\n        {\n            StorageFileEntity storageFileEntity = new StorageFileEntity();\n            storageFileEntities.add(storageFileEntity);\n            storageFileEntity.setStorageUnit(storageUnitEntity);\n            storageFileEntity.setPath(storageFile.getFilePath());\n            storageFileEntity.setFileSizeBytes(storageFile.getFileSizeBytes());\n            storageFileEntity.setRowCount(storageFile.getRowCount());\n        }\n\n        storageFileDao.saveStorageFiles(storageFileEntities);\n\n        return storageFileEntities;\n    }", "signature": "List<StorageFileEntity> createStorageFileEntitiesFromStorageFiles(StorageUnitEntity storageUnitEntity, List<StorageFile> storageFiles)", "full_signature": "public List<StorageFileEntity> createStorageFileEntitiesFromStorageFiles(StorageUnitEntity storageUnitEntity, List<StorageFile> storageFiles)", "class_method_signature": "StorageFileDaoHelper.createStorageFileEntitiesFromStorageFiles(StorageUnitEntity storageUnitEntity, List<StorageFile> storageFiles)", "testcase": false, "constructor": false, "invocations": ["add", "setStorageUnit", "setPath", "getFilePath", "setFileSizeBytes", "getFileSizeBytes", "setRowCount", "getRowCount", "saveStorageFiles"]}, "repository": {"repo_id": 42949039, "url": "https://github.com/FINRAOS/herd", "language": "Java", "is_fork": false, "fork_count": 36, "stargazer_count": 120, "size": 205797, "license": "licensed"}}