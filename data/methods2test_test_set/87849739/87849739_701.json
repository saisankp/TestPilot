{"test_class": {"identifier": "ThingsAggregatorProxyActorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final DittoHeaders DITTO_HEADERS =\n            DittoHeaders.newBuilder().correlationId(UUID.randomUUID().toString()).build();", "modifier": "private static final", "type": "DittoHeaders", "declarator": "DITTO_HEADERS =\n            DittoHeaders.newBuilder().correlationId(UUID.randomUUID().toString()).build()", "var_name": "DITTO_HEADERS"}, {"original_string": "private static final DittoRuntimeException DITTO_RUNTIME_EXCEPTION =\n            DittoRuntimeException.newBuilder(\"test.error\", HttpStatusCode.BAD_REQUEST)\n                    .dittoHeaders(DITTO_HEADERS)\n                    .build();", "modifier": "private static final", "type": "DittoRuntimeException", "declarator": "DITTO_RUNTIME_EXCEPTION =\n            DittoRuntimeException.newBuilder(\"test.error\", HttpStatusCode.BAD_REQUEST)\n                    .dittoHeaders(DITTO_HEADERS)\n                    .build()", "var_name": "DITTO_RUNTIME_EXCEPTION"}, {"original_string": "private static final GatewayInternalErrorException GATEWAY_INTERNAL_ERROR_EXCEPTION =\n            GatewayInternalErrorException.newBuilder().dittoHeaders(DITTO_HEADERS).build();", "modifier": "private static final", "type": "GatewayInternalErrorException", "declarator": "GATEWAY_INTERNAL_ERROR_EXCEPTION =\n            GatewayInternalErrorException.newBuilder().dittoHeaders(DITTO_HEADERS).build()", "var_name": "GATEWAY_INTERNAL_ERROR_EXCEPTION"}, {"original_string": "private static final RetrieveThings RETRIEVE_THINGS_COMMAND =\n            RetrieveThings.getBuilder(ThingId.of(\"ditto\", \"thing\"))\n                    .dittoHeaders(DITTO_HEADERS)\n                    .build();", "modifier": "private static final", "type": "RetrieveThings", "declarator": "RETRIEVE_THINGS_COMMAND =\n            RetrieveThings.getBuilder(ThingId.of(\"ditto\", \"thing\"))\n                    .dittoHeaders(DITTO_HEADERS)\n                    .build()", "var_name": "RETRIEVE_THINGS_COMMAND"}, {"original_string": "private static ActorSystem actorSystem;", "modifier": "private static", "type": "ActorSystem", "declarator": "actorSystem", "var_name": "actorSystem"}], "file": "services/utils/aggregator/src/test/java/org/eclipse/ditto/services/utils/aggregator/ThingsAggregatorProxyActorTest.java"}, "test_case": {"identifier": "testHandleGenericException", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testHandleGenericException() {\n        new TestKit(actorSystem) {{\n            final TestProbe targetActor = new TestProbe(actorSystem);\n            targetActor.setAutoPilot(new AutoPilotAnsweringWithException(GATEWAY_INTERNAL_ERROR_EXCEPTION));\n\n            final Props props = ThingsAggregatorProxyActor.props(targetActor.ref());\n            final ActorRef proxyActor = actorSystem.actorOf(props);\n\n            proxyActor.tell(RETRIEVE_THINGS_COMMAND, getRef());\n            expectMsg(GATEWAY_INTERNAL_ERROR_EXCEPTION);\n        }};\n    }", "signature": "void testHandleGenericException()", "full_signature": "@Test public void testHandleGenericException()", "class_method_signature": "ThingsAggregatorProxyActorTest.testHandleGenericException()", "testcase": true, "constructor": false, "invocations": ["setAutoPilot", "props", "ref", "actorOf", "tell", "getRef", "expectMsg"]}, "focal_class": {"identifier": "ThingsAggregatorProxyActor", "superclass": "extends AbstractActor", "interfaces": "", "fields": [{"original_string": "public static final String ACTOR_NAME = \"aggregatorProxy\";", "modifier": "public static final", "type": "String", "declarator": "ACTOR_NAME = \"aggregatorProxy\"", "var_name": "ACTOR_NAME"}, {"original_string": "private static final String TRACE_AGGREGATOR_RETRIEVE_THINGS = \"aggregatorproxy_retrievethings\";", "modifier": "private static final", "type": "String", "declarator": "TRACE_AGGREGATOR_RETRIEVE_THINGS = \"aggregatorproxy_retrievethings\"", "var_name": "TRACE_AGGREGATOR_RETRIEVE_THINGS"}, {"original_string": "private static final int ASK_TIMEOUT = 60;", "modifier": "private static final", "type": "int", "declarator": "ASK_TIMEOUT = 60", "var_name": "ASK_TIMEOUT"}, {"original_string": "private final DiagnosticLoggingAdapter log = LogUtil.obtain(this);", "modifier": "private final", "type": "DiagnosticLoggingAdapter", "declarator": "log = LogUtil.obtain(this)", "var_name": "log"}, {"original_string": "private final ActorRef targetActor;", "modifier": "private final", "type": "ActorRef", "declarator": "targetActor", "var_name": "targetActor"}, {"original_string": "private final Materializer materializer;", "modifier": "private final", "type": "Materializer", "declarator": "materializer", "var_name": "materializer"}], "methods": [{"identifier": "ThingsAggregatorProxyActor", "parameters": "(final ActorRef targetActor)", "modifiers": "@SuppressWarnings(\"unused\") private", "return": "", "signature": " ThingsAggregatorProxyActor(final ActorRef targetActor)", "full_signature": "@SuppressWarnings(\"unused\") private  ThingsAggregatorProxyActor(final ActorRef targetActor)", "class_method_signature": "ThingsAggregatorProxyActor.ThingsAggregatorProxyActor(final ActorRef targetActor)", "testcase": false, "constructor": true}, {"identifier": "props", "parameters": "(final ActorRef targetActor)", "modifiers": "public static", "return": "Props", "signature": "Props props(final ActorRef targetActor)", "full_signature": "public static Props props(final ActorRef targetActor)", "class_method_signature": "ThingsAggregatorProxyActor.props(final ActorRef targetActor)", "testcase": false, "constructor": false}, {"identifier": "stopTimer", "parameters": "(final StartedTimer timer)", "modifiers": "private static", "return": "void", "signature": "void stopTimer(final StartedTimer timer)", "full_signature": "private static void stopTimer(final StartedTimer timer)", "class_method_signature": "ThingsAggregatorProxyActor.stopTimer(final StartedTimer timer)", "testcase": false, "constructor": false}, {"identifier": "createReceive", "parameters": "()", "modifiers": "@Override public", "return": "Receive", "signature": "Receive createReceive()", "full_signature": "@Override public Receive createReceive()", "class_method_signature": "ThingsAggregatorProxyActor.createReceive()", "testcase": false, "constructor": false}, {"identifier": "handleRetrieveThings", "parameters": "(final RetrieveThings rt, final Object msgToAsk)", "modifiers": "private", "return": "void", "signature": "void handleRetrieveThings(final RetrieveThings rt, final Object msgToAsk)", "full_signature": "private void handleRetrieveThings(final RetrieveThings rt, final Object msgToAsk)", "class_method_signature": "ThingsAggregatorProxyActor.handleRetrieveThings(final RetrieveThings rt, final Object msgToAsk)", "testcase": false, "constructor": false}, {"identifier": "handleSudoRetrieveThings", "parameters": "(final SudoRetrieveThings srt, final Object msgToAsk)", "modifiers": "private", "return": "void", "signature": "void handleSudoRetrieveThings(final SudoRetrieveThings srt, final Object msgToAsk)", "full_signature": "private void handleSudoRetrieveThings(final SudoRetrieveThings srt, final Object msgToAsk)", "class_method_signature": "ThingsAggregatorProxyActor.handleSudoRetrieveThings(final SudoRetrieveThings srt, final Object msgToAsk)", "testcase": false, "constructor": false}, {"identifier": "askTargetActor", "parameters": "(final Command<?> command, final List<ThingId> thingIds,\n            final Object msgToAsk, final ActorRef sender)", "modifiers": "private", "return": "void", "signature": "void askTargetActor(final Command<?> command, final List<ThingId> thingIds,\n            final Object msgToAsk, final ActorRef sender)", "full_signature": "private void askTargetActor(final Command<?> command, final List<ThingId> thingIds,\n            final Object msgToAsk, final ActorRef sender)", "class_method_signature": "ThingsAggregatorProxyActor.askTargetActor(final Command<?> command, final List<ThingId> thingIds,\n            final Object msgToAsk, final ActorRef sender)", "testcase": false, "constructor": false}, {"identifier": "handleSourceRef", "parameters": "(final SourceRef<?> sourceRef, final List<ThingId> thingIds,\n            final Command<?> originatingCommand, final ActorRef originatingSender)", "modifiers": "private", "return": "void", "signature": "void handleSourceRef(final SourceRef<?> sourceRef, final List<ThingId> thingIds,\n            final Command<?> originatingCommand, final ActorRef originatingSender)", "full_signature": "private void handleSourceRef(final SourceRef<?> sourceRef, final List<ThingId> thingIds,\n            final Command<?> originatingCommand, final ActorRef originatingSender)", "class_method_signature": "ThingsAggregatorProxyActor.handleSourceRef(final SourceRef<?> sourceRef, final List<ThingId> thingIds,\n            final Command<?> originatingCommand, final ActorRef originatingSender)", "testcase": false, "constructor": false}, {"identifier": "supplyPlainJsonFromRetrieveThingResponse", "parameters": "()", "modifiers": "private", "return": "Function<Jsonifiable<?>, PlainJson>", "signature": "Function<Jsonifiable<?>, PlainJson> supplyPlainJsonFromRetrieveThingResponse()", "full_signature": "private Function<Jsonifiable<?>, PlainJson> supplyPlainJsonFromRetrieveThingResponse()", "class_method_signature": "ThingsAggregatorProxyActor.supplyPlainJsonFromRetrieveThingResponse()", "testcase": false, "constructor": false}, {"identifier": "supplyPlainJsonFromSudoRetrieveThingResponse", "parameters": "()", "modifiers": "private", "return": "Function<Jsonifiable<?>, PlainJson>", "signature": "Function<Jsonifiable<?>, PlainJson> supplyPlainJsonFromSudoRetrieveThingResponse()", "full_signature": "private Function<Jsonifiable<?>, PlainJson> supplyPlainJsonFromSudoRetrieveThingResponse()", "class_method_signature": "ThingsAggregatorProxyActor.supplyPlainJsonFromSudoRetrieveThingResponse()", "testcase": false, "constructor": false}, {"identifier": "supplyPlainJsonSorter", "parameters": "(final List<ThingId> thingIds)", "modifiers": "private", "return": "Function<List<PlainJson>, List<PlainJson>>", "signature": "Function<List<PlainJson>, List<PlainJson>> supplyPlainJsonSorter(final List<ThingId> thingIds)", "full_signature": "private Function<List<PlainJson>, List<PlainJson>> supplyPlainJsonSorter(final List<ThingId> thingIds)", "class_method_signature": "ThingsAggregatorProxyActor.supplyPlainJsonSorter(final List<ThingId> thingIds)", "testcase": false, "constructor": false}, {"identifier": "supplyRetrieveThingsResponse", "parameters": "(\n            final DittoHeaders dittoHeaders,\n            @Nullable final String namespace)", "modifiers": "private", "return": "Function<List<PlainJson>, CommandResponse<?>>", "signature": "Function<List<PlainJson>, CommandResponse<?>> supplyRetrieveThingsResponse(\n            final DittoHeaders dittoHeaders,\n            @Nullable final String namespace)", "full_signature": "private Function<List<PlainJson>, CommandResponse<?>> supplyRetrieveThingsResponse(\n            final DittoHeaders dittoHeaders,\n            @Nullable final String namespace)", "class_method_signature": "ThingsAggregatorProxyActor.supplyRetrieveThingsResponse(\n            final DittoHeaders dittoHeaders,\n            @Nullable final String namespace)", "testcase": false, "constructor": false}, {"identifier": "supplySudoRetrieveThingsResponse", "parameters": "(\n            final DittoHeaders dittoHeaders)", "modifiers": "private", "return": "Function<List<PlainJson>, CommandResponse<?>>", "signature": "Function<List<PlainJson>, CommandResponse<?>> supplySudoRetrieveThingsResponse(\n            final DittoHeaders dittoHeaders)", "full_signature": "private Function<List<PlainJson>, CommandResponse<?>> supplySudoRetrieveThingsResponse(\n            final DittoHeaders dittoHeaders)", "class_method_signature": "ThingsAggregatorProxyActor.supplySudoRetrieveThingsResponse(\n            final DittoHeaders dittoHeaders)", "testcase": false, "constructor": false}], "file": "services/utils/aggregator/src/main/java/org/eclipse/ditto/services/utils/aggregator/ThingsAggregatorProxyActor.java"}, "focal_method": {"identifier": "props", "parameters": "(final ActorRef targetActor)", "modifiers": "public static", "return": "Props", "body": "public static Props props(final ActorRef targetActor) {\n\n        return Props.create(ThingsAggregatorProxyActor.class, targetActor);\n    }", "signature": "Props props(final ActorRef targetActor)", "full_signature": "public static Props props(final ActorRef targetActor)", "class_method_signature": "ThingsAggregatorProxyActor.props(final ActorRef targetActor)", "testcase": false, "constructor": false, "invocations": ["create"]}, "repository": {"repo_id": 87849739, "url": "https://github.com/eclipse/ditto", "stars": 139, "created": "4/10/2017 7:29:57 PM +00:00", "updates": "2020-01-27T14:02:39+00:00", "fork": "False", "license": "licensed"}}