{"test_class": {"identifier": "XPathFinderTest", "superclass": "", "interfaces": "", "fields": [], "file": "mycontainer-components/mycontainer-commons/src/test/java/com/googlecode/mycontainer/commons/httpclient/XPathFinderTest.java"}, "test_case": {"identifier": "testQueryTexts", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testQueryTexts() throws Exception {\n\t\tDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n\t\tDocumentBuilder builder = factory.newDocumentBuilder();\n\t\tByteArrayInputStream in = new ByteArrayInputStream(\n\t\t\t\t\"<a><b>2</b><b>4</b></a>\".getBytes());\n\t\tDocument doc = builder.parse(in);\n\t\tXPathFinder finder = new XPathFinder();\n\t\tfinder.setDoc(doc);\n\n\t\tList<String> ret = finder.queryTexts(\"//b\");\n\t\tassertEquals(\"2\", ret.get(0));\n\t\tassertEquals(\"4\", ret.get(1));\n\t\tassertEquals(2, ret.size());\n\t}", "signature": "void testQueryTexts()", "full_signature": "@Test public void testQueryTexts()", "class_method_signature": "XPathFinderTest.testQueryTexts()", "testcase": true, "constructor": false, "invocations": ["newInstance", "newDocumentBuilder", "getBytes", "parse", "setDoc", "queryTexts", "assertEquals", "get", "assertEquals", "get", "assertEquals", "size"]}, "focal_class": {"identifier": "XPathFinder", "superclass": "", "interfaces": "", "fields": [{"original_string": "private Document doc;", "modifier": "private", "type": "Document", "declarator": "doc", "var_name": "doc"}], "methods": [{"identifier": "getDoc", "parameters": "()", "modifiers": "public", "return": "Document", "signature": "Document getDoc()", "full_signature": "public Document getDoc()", "class_method_signature": "XPathFinder.getDoc()", "testcase": false, "constructor": false}, {"identifier": "setDoc", "parameters": "(Document doc)", "modifiers": "public", "return": "void", "signature": "void setDoc(Document doc)", "full_signature": "public void setDoc(Document doc)", "class_method_signature": "XPathFinder.setDoc(Document doc)", "testcase": false, "constructor": false}, {"identifier": "config", "parameters": "(WebResponse response)", "modifiers": "public", "return": "void", "signature": "void config(WebResponse response)", "full_signature": "public void config(WebResponse response)", "class_method_signature": "XPathFinder.config(WebResponse response)", "testcase": false, "constructor": false}, {"identifier": "query", "parameters": "(String query)", "modifiers": "public", "return": "NodeList", "signature": "NodeList query(String query)", "full_signature": "public NodeList query(String query)", "class_method_signature": "XPathFinder.query(String query)", "testcase": false, "constructor": false}, {"identifier": "queryTexts", "parameters": "(String query)", "modifiers": "public", "return": "List<String>", "signature": "List<String> queryTexts(String query)", "full_signature": "public List<String> queryTexts(String query)", "class_method_signature": "XPathFinder.queryTexts(String query)", "testcase": false, "constructor": false}, {"identifier": "queryLongs", "parameters": "(String query)", "modifiers": "public", "return": "List<Long>", "signature": "List<Long> queryLongs(String query)", "full_signature": "public List<Long> queryLongs(String query)", "class_method_signature": "XPathFinder.queryLongs(String query)", "testcase": false, "constructor": false}], "file": "mycontainer-components/mycontainer-commons/src/main/java/com/googlecode/mycontainer/commons/httpclient/XPathFinder.java"}, "focal_method": {"identifier": "queryTexts", "parameters": "(String query)", "modifiers": "public", "return": "List<String>", "body": "public List<String> queryTexts(String query) {\n\t\ttry {\n\t\t\tXPathFactory factory = XPathFactory.newInstance();\n\t\t\tXPath xpath = factory.newXPath();\n\t\t\tXPathExpression expr = xpath.compile(query);\n\t\t\tNodeList result = (NodeList) expr.evaluate(doc,\n\t\t\t\t\tXPathConstants.NODESET);\n\t\t\tint length = result.getLength();\n\t\t\tList<String> ret = new ArrayList<String>(length);\n\t\t\tfor (int i = 0; i < length; i++) {\n\t\t\t\tNode item = result.item(i);\n\t\t\t\tString text = item.getNodeValue();\n\t\t\t\tif (text == null && item.getChildNodes().getLength() > 0) {\n\t\t\t\t\ttext = item.getFirstChild().getNodeValue();\n\t\t\t\t}\n\t\t\t\tret.add(text);\n\t\t\t}\n\t\t\treturn ret;\n\t\t} catch (XPathExpressionException e) {\n\t\t\tthrow new RuntimeException(e);\n\t\t}\n\t}", "signature": "List<String> queryTexts(String query)", "full_signature": "public List<String> queryTexts(String query)", "class_method_signature": "XPathFinder.queryTexts(String query)", "testcase": false, "constructor": false, "invocations": ["newInstance", "newXPath", "compile", "evaluate", "getLength", "item", "getNodeValue", "getLength", "getChildNodes", "getNodeValue", "getFirstChild", "add"]}, "repository": {"repo_id": 9149127, "url": "https://github.com/murer/mycontainer", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 13, "size": 1353, "license": "licensed"}}