{"test_class": {"identifier": "ProtobufOutputMarshallerTest", "superclass": "", "interfaces": "", "fields": [], "file": "drools-serialization-protobuf/src/test/java/org/drools/serialization/protobuf/ProtobufOutputMarshallerTest.java"}, "test_case": {"identifier": "testOrderFacts", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testOrderFacts() throws Exception {\n        List<InternalFactHandle> list = new ArrayList<InternalFactHandle>();\n        List<Integer> ids = Arrays.asList(0, 1, 2, 3, 4, 5, 6, 30, 31, 32, -2147483640,  7, 8, 9, 10, 11, 12, 13,14, 15, 28,  17, 18, 19, 20, 21, 22, 23, 24,  25, 26, 27);\n        for(Integer i : ids) {\n            list.add(new DefaultFactHandle(i.intValue(), i));\n        }\n        InternalFactHandle first = ProtobufOutputMarshaller.orderFacts(list)[0];        \n        assertEquals(-2147483640, first.getId());        \n    }", "signature": "void testOrderFacts()", "full_signature": "@Test public void testOrderFacts()", "class_method_signature": "ProtobufOutputMarshallerTest.testOrderFacts()", "testcase": true, "constructor": false, "invocations": ["asList", "add", "intValue", "orderFacts", "assertEquals", "getId"]}, "focal_class": {"identifier": "ProtobufOutputMarshaller", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static ProcessMarshaller processMarshaller = createProcessMarshaller();", "modifier": "private static", "type": "ProcessMarshaller", "declarator": "processMarshaller = createProcessMarshaller()", "var_name": "processMarshaller"}], "methods": [{"identifier": "createProcessMarshaller", "parameters": "()", "modifiers": "private static", "return": "ProcessMarshaller", "signature": "ProcessMarshaller createProcessMarshaller()", "full_signature": "private static ProcessMarshaller createProcessMarshaller()", "class_method_signature": "ProtobufOutputMarshaller.createProcessMarshaller()", "testcase": false, "constructor": false}, {"identifier": "writeSession", "parameters": "( ProtobufMarshallerWriteContext context)", "modifiers": "public static", "return": "void", "signature": "void writeSession( ProtobufMarshallerWriteContext context)", "full_signature": "public static void writeSession( ProtobufMarshallerWriteContext context)", "class_method_signature": "ProtobufOutputMarshaller.writeSession( ProtobufMarshallerWriteContext context)", "testcase": false, "constructor": false}, {"identifier": "serializeSession", "parameters": "( MarshallerWriteContext context)", "modifiers": "private static", "return": "ProtobufMessages.KnowledgeSession", "signature": "ProtobufMessages.KnowledgeSession serializeSession( MarshallerWriteContext context)", "full_signature": "private static ProtobufMessages.KnowledgeSession serializeSession( MarshallerWriteContext context)", "class_method_signature": "ProtobufOutputMarshaller.serializeSession( MarshallerWriteContext context)", "testcase": false, "constructor": false}, {"identifier": "writeObjectTypeConfiguration", "parameters": "( MarshallerWriteContext context,\n    \t\t                                          ObjectTypeConfigurationRegistry otcr,\n    \t\t                                          ProtobufMessages.EntryPoint.Builder _epb)", "modifiers": "private static", "return": "void", "signature": "void writeObjectTypeConfiguration( MarshallerWriteContext context,\n    \t\t                                          ObjectTypeConfigurationRegistry otcr,\n    \t\t                                          ProtobufMessages.EntryPoint.Builder _epb)", "full_signature": "private static void writeObjectTypeConfiguration( MarshallerWriteContext context,\n    \t\t                                          ObjectTypeConfigurationRegistry otcr,\n    \t\t                                          ProtobufMessages.EntryPoint.Builder _epb)", "class_method_signature": "ProtobufOutputMarshaller.writeObjectTypeConfiguration( MarshallerWriteContext context,\n    \t\t                                          ObjectTypeConfigurationRegistry otcr,\n    \t\t                                          ProtobufMessages.EntryPoint.Builder _epb)", "testcase": false, "constructor": false}, {"identifier": "evaluateRuleActivations", "parameters": "(StatefulKnowledgeSessionImpl wm)", "modifiers": "private static", "return": "void", "signature": "void evaluateRuleActivations(StatefulKnowledgeSessionImpl wm)", "full_signature": "private static void evaluateRuleActivations(StatefulKnowledgeSessionImpl wm)", "class_method_signature": "ProtobufOutputMarshaller.evaluateRuleActivations(StatefulKnowledgeSessionImpl wm)", "testcase": false, "constructor": false}, {"identifier": "writeAgenda", "parameters": "( MarshallerWriteContext context,\n                                     ProtobufMessages.RuleData.Builder _ksb)", "modifiers": "private static", "return": "void", "signature": "void writeAgenda( MarshallerWriteContext context,\n                                     ProtobufMessages.RuleData.Builder _ksb)", "full_signature": "private static void writeAgenda( MarshallerWriteContext context,\n                                     ProtobufMessages.RuleData.Builder _ksb)", "class_method_signature": "ProtobufOutputMarshaller.writeAgenda( MarshallerWriteContext context,\n                                     ProtobufMessages.RuleData.Builder _ksb)", "testcase": false, "constructor": false}, {"identifier": "writeNodeMemories", "parameters": "( MarshallerWriteContext context,\n                                           ProtobufMessages.RuleData.Builder _ksb)", "modifiers": "private static", "return": "void", "signature": "void writeNodeMemories( MarshallerWriteContext context,\n                                           ProtobufMessages.RuleData.Builder _ksb)", "full_signature": "private static void writeNodeMemories( MarshallerWriteContext context,\n                                           ProtobufMessages.RuleData.Builder _ksb)", "class_method_signature": "ProtobufOutputMarshaller.writeNodeMemories( MarshallerWriteContext context,\n                                           ProtobufMessages.RuleData.Builder _ksb)", "testcase": false, "constructor": false}, {"identifier": "serializeObject", "parameters": "( MarshallerWriteContext context, ObjectMarshallingStrategy strategy, Object object)", "modifiers": "private static", "return": "ByteString", "signature": "ByteString serializeObject( MarshallerWriteContext context, ObjectMarshallingStrategy strategy, Object object)", "full_signature": "private static ByteString serializeObject( MarshallerWriteContext context, ObjectMarshallingStrategy strategy, Object object)", "class_method_signature": "ProtobufOutputMarshaller.serializeObject( MarshallerWriteContext context, ObjectMarshallingStrategy strategy, Object object)", "testcase": false, "constructor": false}, {"identifier": "writeQueryElementNodeMemory", "parameters": "(final int nodeId,\n                                                                           final Memory memory,\n                                                                           final InternalWorkingMemory wm)", "modifiers": "private static", "return": "ProtobufMessages.NodeMemory", "signature": "ProtobufMessages.NodeMemory writeQueryElementNodeMemory(final int nodeId,\n                                                                           final Memory memory,\n                                                                           final InternalWorkingMemory wm)", "full_signature": "private static ProtobufMessages.NodeMemory writeQueryElementNodeMemory(final int nodeId,\n                                                                           final Memory memory,\n                                                                           final InternalWorkingMemory wm)", "class_method_signature": "ProtobufOutputMarshaller.writeQueryElementNodeMemory(final int nodeId,\n                                                                           final Memory memory,\n                                                                           final InternalWorkingMemory wm)", "testcase": false, "constructor": false}, {"identifier": "writeActionQueue", "parameters": "( MarshallerWriteContext context,\n                                         ProtobufMessages.RuleData.Builder _session)", "modifiers": "public static", "return": "void", "signature": "void writeActionQueue( MarshallerWriteContext context,\n                                         ProtobufMessages.RuleData.Builder _session)", "full_signature": "public static void writeActionQueue( MarshallerWriteContext context,\n                                         ProtobufMessages.RuleData.Builder _session)", "class_method_signature": "ProtobufOutputMarshaller.writeActionQueue( MarshallerWriteContext context,\n                                         ProtobufMessages.RuleData.Builder _session)", "testcase": false, "constructor": false}, {"identifier": "writeTruthMaintenanceSystem", "parameters": "( MarshallerWriteContext context,\n                                                    EntryPoint wmep,\n                                                    ProtobufMessages.EntryPoint.Builder _epb)", "modifiers": "public static", "return": "void", "signature": "void writeTruthMaintenanceSystem( MarshallerWriteContext context,\n                                                    EntryPoint wmep,\n                                                    ProtobufMessages.EntryPoint.Builder _epb)", "full_signature": "public static void writeTruthMaintenanceSystem( MarshallerWriteContext context,\n                                                    EntryPoint wmep,\n                                                    ProtobufMessages.EntryPoint.Builder _epb)", "class_method_signature": "ProtobufOutputMarshaller.writeTruthMaintenanceSystem( MarshallerWriteContext context,\n                                                    EntryPoint wmep,\n                                                    ProtobufMessages.EntryPoint.Builder _epb)", "testcase": false, "constructor": false}, {"identifier": "writeBeliefSet", "parameters": "( MarshallerWriteContext context,\n                                        BeliefSet beliefSet,\n                                        ProtobufMessages.EqualityKey.Builder _key)", "modifiers": "private static", "return": "void", "signature": "void writeBeliefSet( MarshallerWriteContext context,\n                                        BeliefSet beliefSet,\n                                        ProtobufMessages.EqualityKey.Builder _key)", "full_signature": "private static void writeBeliefSet( MarshallerWriteContext context,\n                                        BeliefSet beliefSet,\n                                        ProtobufMessages.EqualityKey.Builder _key)", "class_method_signature": "ProtobufOutputMarshaller.writeBeliefSet( MarshallerWriteContext context,\n                                        BeliefSet beliefSet,\n                                        ProtobufMessages.EqualityKey.Builder _key)", "testcase": false, "constructor": false}, {"identifier": "writeFactHandles", "parameters": "( MarshallerWriteContext context,\n                                          ProtobufMessages.EntryPoint.Builder _epb,\n                                          ObjectStore objectStore)", "modifiers": "private static", "return": "void", "signature": "void writeFactHandles( MarshallerWriteContext context,\n                                          ProtobufMessages.EntryPoint.Builder _epb,\n                                          ObjectStore objectStore)", "full_signature": "private static void writeFactHandles( MarshallerWriteContext context,\n                                          ProtobufMessages.EntryPoint.Builder _epb,\n                                          ObjectStore objectStore)", "class_method_signature": "ProtobufOutputMarshaller.writeFactHandles( MarshallerWriteContext context,\n                                          ProtobufMessages.EntryPoint.Builder _epb,\n                                          ObjectStore objectStore)", "testcase": false, "constructor": false}, {"identifier": "writeFactHandle", "parameters": "( MarshallerWriteContext context,\n                                                                ObjectMarshallingStrategyStore objectMarshallingStrategyStore,\n                                                                InternalFactHandle handle)", "modifiers": "private static", "return": "ProtobufMessages.FactHandle", "signature": "ProtobufMessages.FactHandle writeFactHandle( MarshallerWriteContext context,\n                                                                ObjectMarshallingStrategyStore objectMarshallingStrategyStore,\n                                                                InternalFactHandle handle)", "full_signature": "private static ProtobufMessages.FactHandle writeFactHandle( MarshallerWriteContext context,\n                                                                ObjectMarshallingStrategyStore objectMarshallingStrategyStore,\n                                                                InternalFactHandle handle)", "class_method_signature": "ProtobufOutputMarshaller.writeFactHandle( MarshallerWriteContext context,\n                                                                ObjectMarshallingStrategyStore objectMarshallingStrategyStore,\n                                                                InternalFactHandle handle)", "testcase": false, "constructor": false}, {"identifier": "getHandleType", "parameters": "(InternalFactHandle handle)", "modifiers": "private static", "return": "ProtobufMessages.FactHandle.HandleType", "signature": "ProtobufMessages.FactHandle.HandleType getHandleType(InternalFactHandle handle)", "full_signature": "private static ProtobufMessages.FactHandle.HandleType getHandleType(InternalFactHandle handle)", "class_method_signature": "ProtobufOutputMarshaller.getHandleType(InternalFactHandle handle)", "testcase": false, "constructor": false}, {"identifier": "orderFacts", "parameters": "(ObjectStore objectStore)", "modifiers": "public static", "return": "InternalFactHandle[]", "signature": "InternalFactHandle[] orderFacts(ObjectStore objectStore)", "full_signature": "public static InternalFactHandle[] orderFacts(ObjectStore objectStore)", "class_method_signature": "ProtobufOutputMarshaller.orderFacts(ObjectStore objectStore)", "testcase": false, "constructor": false}, {"identifier": "orderFacts", "parameters": "(List<InternalFactHandle> handlesList)", "modifiers": "public static", "return": "InternalFactHandle[]", "signature": "InternalFactHandle[] orderFacts(List<InternalFactHandle> handlesList)", "full_signature": "public static InternalFactHandle[] orderFacts(List<InternalFactHandle> handlesList)", "class_method_signature": "ProtobufOutputMarshaller.orderFacts(List<InternalFactHandle> handlesList)", "testcase": false, "constructor": false}, {"identifier": "writeActivation", "parameters": "( MarshallerWriteContext context,\n                                                                                             AgendaItem<M> agendaItem,\n                                                                                             boolean isDormient)", "modifiers": "public static", "return": "ProtobufMessages.Activation", "signature": "ProtobufMessages.Activation writeActivation( MarshallerWriteContext context,\n                                                                                             AgendaItem<M> agendaItem,\n                                                                                             boolean isDormient)", "full_signature": "public static ProtobufMessages.Activation writeActivation( MarshallerWriteContext context,\n                                                                                             AgendaItem<M> agendaItem,\n                                                                                             boolean isDormient)", "class_method_signature": "ProtobufOutputMarshaller.writeActivation( MarshallerWriteContext context,\n                                                                                             AgendaItem<M> agendaItem,\n                                                                                             boolean isDormient)", "testcase": false, "constructor": false}, {"identifier": "writeTuple", "parameters": "( MarshallerWriteContext context, AgendaItem<?> agendaItem, boolean isDormient)", "modifiers": "public static", "return": "Tuple", "signature": "Tuple writeTuple( MarshallerWriteContext context, AgendaItem<?> agendaItem, boolean isDormient)", "full_signature": "public static Tuple writeTuple( MarshallerWriteContext context, AgendaItem<?> agendaItem, boolean isDormient)", "class_method_signature": "ProtobufOutputMarshaller.writeTuple( MarshallerWriteContext context, AgendaItem<?> agendaItem, boolean isDormient)", "testcase": false, "constructor": false}, {"identifier": "hasNodeMemory", "parameters": "(BaseTuple agendaItem)", "modifiers": "private static", "return": "boolean", "signature": "boolean hasNodeMemory(BaseTuple agendaItem)", "full_signature": "private static boolean hasNodeMemory(BaseTuple agendaItem)", "class_method_signature": "ProtobufOutputMarshaller.hasNodeMemory(BaseTuple agendaItem)", "testcase": false, "constructor": false}, {"identifier": "writeTimers", "parameters": "(Collection<TimerJobInstance> timers,\n                                                       MarshallerWriteContext outCtx)", "modifiers": "private static", "return": "ProtobufMessages.Timers", "signature": "ProtobufMessages.Timers writeTimers(Collection<TimerJobInstance> timers,\n                                                       MarshallerWriteContext outCtx)", "full_signature": "private static ProtobufMessages.Timers writeTimers(Collection<TimerJobInstance> timers,\n                                                       MarshallerWriteContext outCtx)", "class_method_signature": "ProtobufOutputMarshaller.writeTimers(Collection<TimerJobInstance> timers,\n                                                       MarshallerWriteContext outCtx)", "testcase": false, "constructor": false}, {"identifier": "writeTrigger", "parameters": "(Trigger trigger, MarshallerWriteContext outCtx)", "modifiers": "public static", "return": "ProtobufMessages.Trigger", "signature": "ProtobufMessages.Trigger writeTrigger(Trigger trigger, MarshallerWriteContext outCtx)", "full_signature": "public static ProtobufMessages.Trigger writeTrigger(Trigger trigger, MarshallerWriteContext outCtx)", "class_method_signature": "ProtobufOutputMarshaller.writeTrigger(Trigger trigger, MarshallerWriteContext outCtx)", "testcase": false, "constructor": false}, {"identifier": "writeWorkItem", "parameters": "( MarshallerWriteContext context, WorkItem workItem )", "modifiers": "public static", "return": "void", "signature": "void writeWorkItem( MarshallerWriteContext context, WorkItem workItem )", "full_signature": "public static void writeWorkItem( MarshallerWriteContext context, WorkItem workItem )", "class_method_signature": "ProtobufOutputMarshaller.writeWorkItem( MarshallerWriteContext context, WorkItem workItem )", "testcase": false, "constructor": false}], "file": "drools-serialization-protobuf/src/main/java/org/drools/serialization/protobuf/ProtobufOutputMarshaller.java"}, "focal_method": {"identifier": "orderFacts", "parameters": "(ObjectStore objectStore)", "modifiers": "public static", "return": "InternalFactHandle[]", "body": "public static InternalFactHandle[] orderFacts(ObjectStore objectStore) {\n        // this method is just needed for testing purposes, to allow round tripping\n        int size = objectStore.size();\n        InternalFactHandle[] handles = new InternalFactHandle[size];\n        int i = 0;\n        for ( Iterator<InternalFactHandle> it = objectStore.iterateFactHandles(); it.hasNext(); ) {\n            handles[i++] = it.next();\n        }\n\n        Arrays.sort( handles,\n                     new HandleSorter() );\n\n        return handles;\n    }", "signature": "InternalFactHandle[] orderFacts(ObjectStore objectStore)", "full_signature": "public static InternalFactHandle[] orderFacts(ObjectStore objectStore)", "class_method_signature": "ProtobufOutputMarshaller.orderFacts(ObjectStore objectStore)", "testcase": false, "constructor": false, "invocations": ["size", "iterateFactHandles", "hasNext", "next", "sort"]}, "repository": {"repo_id": 1381673, "url": "https://github.com/kiegroup/drools", "stars": 2733, "created": "2/18/2011 8:37:05 AM +00:00", "updates": "2020-01-27T13:12:15+00:00", "fork": "False", "license": "licensed"}}