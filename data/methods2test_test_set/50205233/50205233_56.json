{"test_class": {"identifier": "DebeziumServerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final int MESSAGE_COUNT = 5;", "modifier": "private static final", "type": "int", "declarator": "MESSAGE_COUNT = 5", "var_name": "MESSAGE_COUNT"}, {"original_string": "@Inject\n    DebeziumServer server;", "modifier": "@Inject", "type": "DebeziumServer", "declarator": "server", "var_name": "server"}], "file": "debezium-server/debezium-server-core/src/test/java/io/debezium/server/DebeziumServerTest.java"}, "test_case": {"identifier": "testJson", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testJson() throws Exception {\n        final TestConsumer testConsumer = (TestConsumer) server.getConsumer();\n        Awaitility.await().atMost(Duration.ofSeconds(TestConfigSource.waitForSeconds())).until(() -> (testConsumer.getValues().size() >= MESSAGE_COUNT));\n        Assertions.assertThat(testConsumer.getValues().size()).isEqualTo(MESSAGE_COUNT);\n        Assertions.assertThat(testConsumer.getValues().get(MESSAGE_COUNT - 1)).isEqualTo(\"{\\\"line\\\":\\\"\" + MESSAGE_COUNT + \"\\\"}\");\n    }", "signature": "void testJson()", "full_signature": "@Test public void testJson()", "class_method_signature": "DebeziumServerTest.testJson()", "testcase": true, "constructor": false, "invocations": ["getConsumer", "until", "atMost", "await", "ofSeconds", "waitForSeconds", "size", "getValues", "isEqualTo", "assertThat", "size", "getValues", "isEqualTo", "assertThat", "get", "getValues"]}, "focal_class": {"identifier": "DebeziumServer", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOGGER = LoggerFactory.getLogger(DebeziumServer.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(DebeziumServer.class)", "var_name": "LOGGER"}, {"original_string": "private static final String PROP_PREFIX = \"debezium.\";", "modifier": "private static final", "type": "String", "declarator": "PROP_PREFIX = \"debezium.\"", "var_name": "PROP_PREFIX"}, {"original_string": "private static final String PROP_SOURCE_PREFIX = PROP_PREFIX + \"source.\";", "modifier": "private static final", "type": "String", "declarator": "PROP_SOURCE_PREFIX = PROP_PREFIX + \"source.\"", "var_name": "PROP_SOURCE_PREFIX"}, {"original_string": "private static final String PROP_SINK_PREFIX = PROP_PREFIX + \"sink.\";", "modifier": "private static final", "type": "String", "declarator": "PROP_SINK_PREFIX = PROP_PREFIX + \"sink.\"", "var_name": "PROP_SINK_PREFIX"}, {"original_string": "private static final String PROP_FORMAT_PREFIX = PROP_PREFIX + \"format.\";", "modifier": "private static final", "type": "String", "declarator": "PROP_FORMAT_PREFIX = PROP_PREFIX + \"format.\"", "var_name": "PROP_FORMAT_PREFIX"}, {"original_string": "private static final String PROP_TRANSFORMS_PREFIX = PROP_PREFIX + \"transforms.\";", "modifier": "private static final", "type": "String", "declarator": "PROP_TRANSFORMS_PREFIX = PROP_PREFIX + \"transforms.\"", "var_name": "PROP_TRANSFORMS_PREFIX"}, {"original_string": "private static final String PROP_KEY_FORMAT_PREFIX = PROP_FORMAT_PREFIX + \"key.\";", "modifier": "private static final", "type": "String", "declarator": "PROP_KEY_FORMAT_PREFIX = PROP_FORMAT_PREFIX + \"key.\"", "var_name": "PROP_KEY_FORMAT_PREFIX"}, {"original_string": "private static final String PROP_VALUE_FORMAT_PREFIX = PROP_FORMAT_PREFIX + \"value.\";", "modifier": "private static final", "type": "String", "declarator": "PROP_VALUE_FORMAT_PREFIX = PROP_FORMAT_PREFIX + \"value.\"", "var_name": "PROP_VALUE_FORMAT_PREFIX"}, {"original_string": "private static final String PROP_TRANSFORMS = PROP_PREFIX + \"transforms\";", "modifier": "private static final", "type": "String", "declarator": "PROP_TRANSFORMS = PROP_PREFIX + \"transforms\"", "var_name": "PROP_TRANSFORMS"}, {"original_string": "private static final String PROP_SINK_TYPE = PROP_SINK_PREFIX + \"type\";", "modifier": "private static final", "type": "String", "declarator": "PROP_SINK_TYPE = PROP_SINK_PREFIX + \"type\"", "var_name": "PROP_SINK_TYPE"}, {"original_string": "private static final String PROP_KEY_FORMAT = PROP_FORMAT_PREFIX + \"key\";", "modifier": "private static final", "type": "String", "declarator": "PROP_KEY_FORMAT = PROP_FORMAT_PREFIX + \"key\"", "var_name": "PROP_KEY_FORMAT"}, {"original_string": "private static final String PROP_VALUE_FORMAT = PROP_FORMAT_PREFIX + \"value\";", "modifier": "private static final", "type": "String", "declarator": "PROP_VALUE_FORMAT = PROP_FORMAT_PREFIX + \"value\"", "var_name": "PROP_VALUE_FORMAT"}, {"original_string": "private static final String PROP_TERMINATION_WAIT = PROP_PREFIX + \"termination.wait\";", "modifier": "private static final", "type": "String", "declarator": "PROP_TERMINATION_WAIT = PROP_PREFIX + \"termination.wait\"", "var_name": "PROP_TERMINATION_WAIT"}, {"original_string": "private static final String FORMAT_JSON = Json.class.getSimpleName().toLowerCase();", "modifier": "private static final", "type": "String", "declarator": "FORMAT_JSON = Json.class.getSimpleName().toLowerCase()", "var_name": "FORMAT_JSON"}, {"original_string": "private static final String FORMAT_AVRO = Avro.class.getSimpleName().toLowerCase();", "modifier": "private static final", "type": "String", "declarator": "FORMAT_AVRO = Avro.class.getSimpleName().toLowerCase()", "var_name": "FORMAT_AVRO"}, {"original_string": "private static final String FORMAT_PROTOBUF = Protobuf.class.getSimpleName().toLowerCase();", "modifier": "private static final", "type": "String", "declarator": "FORMAT_PROTOBUF = Protobuf.class.getSimpleName().toLowerCase()", "var_name": "FORMAT_PROTOBUF"}, {"original_string": "private ExecutorService executor = Executors.newSingleThreadExecutor();", "modifier": "private", "type": "ExecutorService", "declarator": "executor = Executors.newSingleThreadExecutor()", "var_name": "executor"}, {"original_string": "@Inject\n    BeanManager beanManager;", "modifier": "@Inject", "type": "BeanManager", "declarator": "beanManager", "var_name": "beanManager"}, {"original_string": "@Inject\n    @Liveness\n    ConnectorLifecycle health;", "modifier": "@Inject\n    @Liveness", "type": "ConnectorLifecycle", "declarator": "health", "var_name": "health"}, {"original_string": "private Bean<DebeziumEngine.ChangeConsumer<ChangeEvent<Object, Object>>> consumerBean;", "modifier": "private", "type": "Bean<DebeziumEngine.ChangeConsumer<ChangeEvent<Object, Object>>>", "declarator": "consumerBean", "var_name": "consumerBean"}, {"original_string": "private CreationalContext<ChangeConsumer<ChangeEvent<Object, Object>>> consumerBeanCreationalContext;", "modifier": "private", "type": "CreationalContext<ChangeConsumer<ChangeEvent<Object, Object>>>", "declarator": "consumerBeanCreationalContext", "var_name": "consumerBeanCreationalContext"}, {"original_string": "private DebeziumEngine.ChangeConsumer<ChangeEvent<Object, Object>> consumer;", "modifier": "private", "type": "DebeziumEngine.ChangeConsumer<ChangeEvent<Object, Object>>", "declarator": "consumer", "var_name": "consumer"}, {"original_string": "private DebeziumEngine<?> engine;", "modifier": "private", "type": "DebeziumEngine<?>", "declarator": "engine", "var_name": "engine"}], "methods": [{"identifier": "start", "parameters": "()", "modifiers": "@SuppressWarnings(\"unchecked\") @PostConstruct public", "return": "void", "signature": "void start()", "full_signature": "@SuppressWarnings(\"unchecked\") @PostConstruct public void start()", "class_method_signature": "DebeziumServer.start()", "testcase": false, "constructor": false}, {"identifier": "configToProperties", "parameters": "(Config config, Properties props, String oldPrefix, String newPrefix)", "modifiers": "private", "return": "void", "signature": "void configToProperties(Config config, Properties props, String oldPrefix, String newPrefix)", "full_signature": "private void configToProperties(Config config, Properties props, String oldPrefix, String newPrefix)", "class_method_signature": "DebeziumServer.configToProperties(Config config, Properties props, String oldPrefix, String newPrefix)", "testcase": false, "constructor": false}, {"identifier": "getFormat", "parameters": "(Config config, String property)", "modifiers": "private", "return": "Class<?>", "signature": "Class<?> getFormat(Config config, String property)", "full_signature": "private Class<?> getFormat(Config config, String property)", "class_method_signature": "DebeziumServer.getFormat(Config config, String property)", "testcase": false, "constructor": false}, {"identifier": "stop", "parameters": "(@Observes ShutdownEvent event)", "modifiers": "public", "return": "void", "signature": "void stop(@Observes ShutdownEvent event)", "full_signature": "public void stop(@Observes ShutdownEvent event)", "class_method_signature": "DebeziumServer.stop(@Observes ShutdownEvent event)", "testcase": false, "constructor": false}, {"identifier": "getConsumer", "parameters": "()", "modifiers": "", "return": "DebeziumEngine.ChangeConsumer<?>", "signature": "DebeziumEngine.ChangeConsumer<?> getConsumer()", "full_signature": " DebeziumEngine.ChangeConsumer<?> getConsumer()", "class_method_signature": "DebeziumServer.getConsumer()", "testcase": false, "constructor": false}], "file": "debezium-server/debezium-server-core/src/main/java/io/debezium/server/DebeziumServer.java"}, "focal_method": {"identifier": "getConsumer", "parameters": "()", "modifiers": "", "return": "DebeziumEngine.ChangeConsumer<?>", "body": "DebeziumEngine.ChangeConsumer<?> getConsumer() {\n        return consumer;\n    }", "signature": "DebeziumEngine.ChangeConsumer<?> getConsumer()", "full_signature": " DebeziumEngine.ChangeConsumer<?> getConsumer()", "class_method_signature": "DebeziumServer.getConsumer()", "testcase": false, "constructor": false, "invocations": []}, "repository": {"repo_id": 50205233, "url": "https://github.com/debezium/debezium", "stars": 2686, "created": "1/22/2016 8:17:05 PM +00:00", "updates": "2020-01-27T20:48:54+00:00", "fork": "False", "license": "licensed"}}