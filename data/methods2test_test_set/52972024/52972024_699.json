{"test_class": {"identifier": "DefaultDeletionCheckStrategyTest", "superclass": "extends PluginsLoadingTestBase", "interfaces": "", "fields": [], "file": "SystemActors/SystemActorPack/ActorCollectionReceiver/src/test/java/info/smart_tools/smartactors/system_actors_pack/actor_collection_receiver/strategies/DefaultDeletionCheckStrategyTest.java"}, "test_case": {"identifier": "Should_checkDeletionFlag", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void Should_checkDeletionFlag()\n            throws Exception {\n        IChildDeletionCheckStrategy strategy = new DefaultDeletionCheckStrategy();\n\n        IObject ctx = IOC.resolve(Keys.getOrAdd(IObject.class.getCanonicalName()));\n        IObject env = IOC.resolve(Keys.getOrAdd(IObject.class.getCanonicalName()),\n                \"{'context':{'deleteChild':true}}\".replace('\\'','\"'));\n\n        assertTrue(strategy.checkDelete(ctx, env));\n\n        env = IOC.resolve(Keys.getOrAdd(IObject.class.getCanonicalName()),\n                \"{'context':{'deleteChild':false}}\".replace('\\'','\"'));\n\n        assertFalse(strategy.checkDelete(ctx, env));\n\n        env = IOC.resolve(Keys.getOrAdd(IObject.class.getCanonicalName()),\n                \"{'context':{}}\".replace('\\'','\"'));\n\n        assertFalse(strategy.checkDelete(ctx, env));\n    }", "signature": "void Should_checkDeletionFlag()", "full_signature": "@Test public void Should_checkDeletionFlag()", "class_method_signature": "DefaultDeletionCheckStrategyTest.Should_checkDeletionFlag()", "testcase": true, "constructor": false, "invocations": ["resolve", "getOrAdd", "getCanonicalName", "resolve", "getOrAdd", "getCanonicalName", "replace", "assertTrue", "checkDelete", "resolve", "getOrAdd", "getCanonicalName", "replace", "assertFalse", "checkDelete", "resolve", "getOrAdd", "getCanonicalName", "replace", "assertFalse", "checkDelete"]}, "focal_class": {"identifier": "DefaultDeletionCheckStrategy", "superclass": "", "interfaces": "implements IChildDeletionCheckStrategy", "fields": [{"original_string": "private final IFieldName contextFN, deleteFN;", "modifier": "private final", "type": "IFieldName", "declarator": "contextFN", "var_name": "contextFN"}], "methods": [{"identifier": "DefaultDeletionCheckStrategy", "parameters": "()", "modifiers": "public", "return": "", "signature": " DefaultDeletionCheckStrategy()", "full_signature": "public  DefaultDeletionCheckStrategy()", "class_method_signature": "DefaultDeletionCheckStrategy.DefaultDeletionCheckStrategy()", "testcase": false, "constructor": true}, {"identifier": "checkDelete", "parameters": "(final IObject creationContext, final IObject messageEnvironment)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean checkDelete(final IObject creationContext, final IObject messageEnvironment)", "full_signature": "@Override public boolean checkDelete(final IObject creationContext, final IObject messageEnvironment)", "class_method_signature": "DefaultDeletionCheckStrategy.checkDelete(final IObject creationContext, final IObject messageEnvironment)", "testcase": false, "constructor": false}], "file": "SystemActors/SystemActorPack/ActorCollectionReceiver/src/main/java/info/smart_tools/smartactors/system_actors_pack/actor_collection_receiver/strategies/DefaultDeletionCheckStrategy.java"}, "focal_method": {"identifier": "checkDelete", "parameters": "(final IObject creationContext, final IObject messageEnvironment)", "modifiers": "@Override public", "return": "boolean", "body": "@Override\n    public boolean checkDelete(final IObject creationContext, final IObject messageEnvironment)\n            throws DeletionCheckException {\n        try {\n            IObject messageContext = (IObject) messageEnvironment.getValue(contextFN);\n            Object deletionFlag = messageContext.getValue(deleteFN);\n            messageContext.deleteField(deleteFN);\n\n            return Boolean.TRUE == deletionFlag;\n        } catch (ClassCastException | ReadValueException | DeleteValueException | InvalidArgumentException e) {\n            throw new DeletionCheckException(e);\n        }\n    }", "signature": "boolean checkDelete(final IObject creationContext, final IObject messageEnvironment)", "full_signature": "@Override public boolean checkDelete(final IObject creationContext, final IObject messageEnvironment)", "class_method_signature": "DefaultDeletionCheckStrategy.checkDelete(final IObject creationContext, final IObject messageEnvironment)", "testcase": false, "constructor": false, "invocations": ["getValue", "getValue", "deleteField"]}, "repository": {"repo_id": 52972024, "url": "https://github.com/SmartTools/smartactors-core", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 17, "size": 58816, "license": "licensed"}}