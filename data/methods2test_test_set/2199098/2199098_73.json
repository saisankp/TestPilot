{"test_class": {"identifier": "UserAndGroupReferenceResolverTest", "superclass": "extends AbstractComponentTestCase", "interfaces": "", "fields": [], "file": "xwiki-security-rightservice/src/test/java/org/xwiki/security/internal/UserAndGroupReferenceResolverTest.java"}, "test_case": {"identifier": "testResolver", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testResolver()\n    {\n        try {\n            DocumentReferenceResolver<String> resolver = getComponentManager().lookup(DocumentReferenceResolver.class, \"user\");\n            DocumentReferenceResolver<String> defaultResolver = getComponentManager().lookup(DocumentReferenceResolver.class, \"user\");\n            assertTrue(resolver.resolve(\"Bosse\")                          .equals(defaultResolver.resolve(\"xwiki:XWiki.Bosse\")));\n            assertTrue(resolver.resolve(\"bossesSpace.Bosse\")              .equals(defaultResolver.resolve(\"xwiki:bossesSpace.Bosse\")));\n            assertTrue(resolver.resolve(\"Bosse\", \"bossesWiki\")            .equals(defaultResolver.resolve(\"bossesWiki:XWiki.Bosse\")));\n            assertTrue(resolver.resolve(\"bossesSpace.Bosse\", \"bossesWiki\").equals(defaultResolver.resolve(\"bossesWiki:bossesSpace.Bosse\")));\n            assertTrue(resolver.resolve(\"bossesWiki:bossesSpace.Bosse\")   .equals(defaultResolver.resolve(\"bossesWiki:bossesSpace.Bosse\")));\n        } catch(Exception e) {\n            System.out.println(\"Caught exception: \" + e);\n            e.printStackTrace(System.out);\n            assert false;\n        }\n\n\n    }", "signature": "void testResolver()", "full_signature": "@Test public void testResolver()", "class_method_signature": "UserAndGroupReferenceResolverTest.testResolver()", "testcase": true, "constructor": false, "invocations": ["lookup", "getComponentManager", "lookup", "getComponentManager", "assertTrue", "equals", "resolve", "resolve", "assertTrue", "equals", "resolve", "resolve", "assertTrue", "equals", "resolve", "resolve", "assertTrue", "equals", "resolve", "resolve", "assertTrue", "equals", "resolve", "resolve", "println", "printStackTrace"]}, "focal_class": {"identifier": "UserAndGroupReferenceResolver", "superclass": "", "interfaces": "implements DocumentReferenceResolver<String>", "fields": [{"original_string": "private static final String DEFAULT_USER_SPACE = \"XWiki\";", "modifier": "private static final", "type": "String", "declarator": "DEFAULT_USER_SPACE = \"XWiki\"", "var_name": "DEFAULT_USER_SPACE"}, {"original_string": "@Requirement private EntityReferenceResolver<String> resolver;", "modifier": "@Requirement private", "type": "EntityReferenceResolver<String>", "declarator": "resolver", "var_name": "resolver"}], "methods": [{"identifier": "resolve", "parameters": "(String documentReferenceRepresentation, Object... parameters)", "modifiers": "public", "return": "DocumentReference", "signature": "DocumentReference resolve(String documentReferenceRepresentation, Object... parameters)", "full_signature": "public DocumentReference resolve(String documentReferenceRepresentation, Object... parameters)", "class_method_signature": "UserAndGroupReferenceResolver.resolve(String documentReferenceRepresentation, Object... parameters)", "testcase": false, "constructor": false}], "file": "xwiki-security-rightservice/src/main/java/org/xwiki/security/internal/UserAndGroupReferenceResolver.java"}, "focal_method": {"identifier": "resolve", "parameters": "(String documentReferenceRepresentation, Object... parameters)", "modifiers": "public", "return": "DocumentReference", "body": "public DocumentReference resolve(String documentReferenceRepresentation, Object... parameters)\n    {\n        if (parameters.length == 1 && !(parameters[0] instanceof String)) {\n            throw new IllegalArgumentException(\"The resolver parameter is not a String.\");\n        }\n        EntityReference defaultSpace;\n        if (parameters.length == 1) {\n            EntityReference defaultWiki = new EntityReference((String) parameters[0], EntityType.WIKI, null);\n            defaultSpace = new EntityReference(DEFAULT_USER_SPACE, EntityType.SPACE, defaultWiki);\n        } else {\n            defaultSpace = resolver.resolve(DEFAULT_USER_SPACE, EntityType.SPACE);\n        }\n        return new DocumentReference(resolver.resolve(documentReferenceRepresentation,\n                                                      EntityType.DOCUMENT,\n                                                      defaultSpace));\n    }", "signature": "DocumentReference resolve(String documentReferenceRepresentation, Object... parameters)", "full_signature": "public DocumentReference resolve(String documentReferenceRepresentation, Object... parameters)", "class_method_signature": "UserAndGroupReferenceResolver.resolve(String documentReferenceRepresentation, Object... parameters)", "testcase": false, "constructor": false, "invocations": ["resolve", "resolve"]}, "repository": {"repo_id": 2199098, "url": "https://github.com/xwiki-contrib/sandbox", "language": "Java", "is_fork": false, "fork_count": 8, "stargazer_count": 8, "size": 14798, "license": "licensed"}}