{"test_class": {"identifier": "ObservableFromCallableTest", "superclass": "", "interfaces": "", "fields": [], "file": "rxjava/src/test/java/io/reactivex/internal/operators/observable/ObservableFromCallableTest.java"}, "test_case": {"identifier": "shouldNotDeliverResultIfSubscriberUnsubscribedBeforeEmission", "parameters": "()", "modifiers": "@SuppressWarnings(\"unchecked\") @Test public", "return": "void", "body": "@SuppressWarnings(\"unchecked\")\n    @Test\n    public void shouldNotDeliverResultIfSubscriberUnsubscribedBeforeEmission() throws Exception {\n        Callable<String> func = mock(Callable.class);\n\n        final CountDownLatch funcLatch = new CountDownLatch(1);\n        final CountDownLatch observerLatch = new CountDownLatch(1);\n\n        when(func.call()).thenAnswer(new Answer<String>() {\n            @Override\n            public String answer(InvocationOnMock invocation) throws Throwable {\n                observerLatch.countDown();\n\n                try {\n                    funcLatch.await();\n                } catch (InterruptedException e) {\n                    // It's okay, unsubscription causes Thread interruption\n\n                    // Restoring interruption status of the Thread\n                    Thread.currentThread().interrupt();\n                }\n\n                return \"should_not_be_delivered\";\n            }\n        });\n\n        Observable<String> fromCallableObservable = Observable.fromCallable(func);\n\n        Observer<Object> observer = TestHelper.mockObserver();\n\n        TestObserver<String> outer = new TestObserver<String>(observer);\n\n        fromCallableObservable\n                .subscribeOn(Schedulers.computation())\n                .subscribe(outer);\n\n        // Wait until func will be invoked\n        observerLatch.await();\n\n        // Unsubscribing before emission\n        outer.cancel();\n\n        // Emitting result\n        funcLatch.countDown();\n\n        // func must be invoked\n        verify(func).call();\n\n        // Observer must not be notified at all\n        verify(observer).onSubscribe(any(Disposable.class));\n        verifyNoMoreInteractions(observer);\n    }", "signature": "void shouldNotDeliverResultIfSubscriberUnsubscribedBeforeEmission()", "full_signature": "@SuppressWarnings(\"unchecked\") @Test public void shouldNotDeliverResultIfSubscriberUnsubscribedBeforeEmission()", "class_method_signature": "ObservableFromCallableTest.shouldNotDeliverResultIfSubscriberUnsubscribedBeforeEmission()", "testcase": true, "constructor": false, "invocations": ["mock", "thenAnswer", "when", "call", "countDown", "await", "interrupt", "currentThread", "fromCallable", "mockObserver", "subscribe", "subscribeOn", "computation", "await", "cancel", "countDown", "call", "verify", "onSubscribe", "verify", "any", "verifyNoMoreInteractions"]}, "focal_class": {"identifier": "ObservableFromCallable", "superclass": "extends Observable<T>", "interfaces": "implements Callable<T>", "fields": [{"original_string": "final Callable<? extends T> callable;", "modifier": "final", "type": "Callable<? extends T>", "declarator": "callable", "var_name": "callable"}], "methods": [{"identifier": "ObservableFromCallable", "parameters": "(Callable<? extends T> callable)", "modifiers": "public", "return": "", "signature": " ObservableFromCallable(Callable<? extends T> callable)", "full_signature": "public  ObservableFromCallable(Callable<? extends T> callable)", "class_method_signature": "ObservableFromCallable.ObservableFromCallable(Callable<? extends T> callable)", "testcase": false, "constructor": true}, {"identifier": "subscribeActual", "parameters": "(Observer<? super T> s)", "modifiers": "@Override public", "return": "void", "signature": "void subscribeActual(Observer<? super T> s)", "full_signature": "@Override public void subscribeActual(Observer<? super T> s)", "class_method_signature": "ObservableFromCallable.subscribeActual(Observer<? super T> s)", "testcase": false, "constructor": false}, {"identifier": "call", "parameters": "()", "modifiers": "@Override public", "return": "T", "signature": "T call()", "full_signature": "@Override public T call()", "class_method_signature": "ObservableFromCallable.call()", "testcase": false, "constructor": false}], "file": "rxjava/src/main/java/io/reactivex/internal/operators/observable/ObservableFromCallable.java"}, "focal_method": {"identifier": "call", "parameters": "()", "modifiers": "@Override public", "return": "T", "body": "@Override\n    public T call() throws Exception {\n        return ObjectHelper.requireNonNull(callable.call(), \"The callable returned a null value\");\n    }", "signature": "T call()", "full_signature": "@Override public T call()", "class_method_signature": "ObservableFromCallable.call()", "testcase": false, "constructor": false, "invocations": ["requireNonNull", "call"]}, "repository": {"repo_id": 128274093, "url": "https://github.com/artem-zinnatullin/error-prone-performance", "language": "Java", "is_fork": false, "fork_count": 1, "stargazer_count": 13, "size": 22484, "license": "licensed"}}