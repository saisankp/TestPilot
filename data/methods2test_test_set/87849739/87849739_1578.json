{"test_class": {"identifier": "PermissionSubjectsMapTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static String subjectId;", "modifier": "private static", "type": "String", "declarator": "subjectId", "var_name": "subjectId"}, {"original_string": "private static String anotherSubjectId;", "modifier": "private static", "type": "String", "declarator": "anotherSubjectId", "var_name": "anotherSubjectId"}, {"original_string": "private static Set<String> subjectIds;", "modifier": "private static", "type": "Set<String>", "declarator": "subjectIds", "var_name": "subjectIds"}, {"original_string": "private static Set<String> permissions;", "modifier": "private static", "type": "Set<String>", "declarator": "permissions", "var_name": "permissions"}, {"original_string": "private PermissionSubjectsMap underTest = null;", "modifier": "private", "type": "PermissionSubjectsMap", "declarator": "underTest = null", "var_name": "underTest"}], "file": "model/enforcers/src/test/java/org/eclipse/ditto/model/enforcers/trie/PermissionSubjectsMapTest.java"}, "test_case": {"identifier": "addTotalRelationOfWeightZeroWorksAsExpected", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void addTotalRelationOfWeightZeroWorksAsExpected() {\n        final Map<String, Integer> weightedSubjectIds = weighSubjectIds(0);\n\n        underTest.addTotalRelationOfWeightZero(permissions, subjectIds);\n\n        assertThat(underTest)\n                .hasSameSizeAs(permissions)\n                .containsEntry(\"READ\", weightedSubjectIds)\n                .containsEntry(\"WRITE\", weightedSubjectIds);\n    }", "signature": "void addTotalRelationOfWeightZeroWorksAsExpected()", "full_signature": "@Test public void addTotalRelationOfWeightZeroWorksAsExpected()", "class_method_signature": "PermissionSubjectsMapTest.addTotalRelationOfWeightZeroWorksAsExpected()", "testcase": true, "constructor": false, "invocations": ["weighSubjectIds", "addTotalRelationOfWeightZero", "containsEntry", "containsEntry", "hasSameSizeAs", "assertThat"]}, "focal_class": {"identifier": "PermissionSubjectsMap", "superclass": "extends AbstractMap<String, Map<String, Integer>>", "interfaces": "", "fields": [{"original_string": "private final Map<String, Map<String, Integer>> data;", "modifier": "private final", "type": "Map<String, Map<String, Integer>>", "declarator": "data", "var_name": "data"}], "methods": [{"identifier": "PermissionSubjectsMap", "parameters": "()", "modifiers": "", "return": "", "signature": " PermissionSubjectsMap()", "full_signature": "  PermissionSubjectsMap()", "class_method_signature": "PermissionSubjectsMap.PermissionSubjectsMap()", "testcase": false, "constructor": true}, {"identifier": "entrySet", "parameters": "()", "modifiers": "@Override public", "return": "Set<Entry<String, Map<String, Integer>>>", "signature": "Set<Entry<String, Map<String, Integer>>> entrySet()", "full_signature": "@Override public Set<Entry<String, Map<String, Integer>>> entrySet()", "class_method_signature": "PermissionSubjectsMap.entrySet()", "testcase": false, "constructor": false}, {"identifier": "put", "parameters": "(final String key, final Map<String, Integer> value)", "modifiers": "@Override public", "return": "Map<String, Integer>", "signature": "Map<String, Integer> put(final String key, final Map<String, Integer> value)", "full_signature": "@Override public Map<String, Integer> put(final String key, final Map<String, Integer> value)", "class_method_signature": "PermissionSubjectsMap.put(final String key, final Map<String, Integer> value)", "testcase": false, "constructor": false}, {"identifier": "addTotalRelationOfWeightZero", "parameters": "(final Iterable<String> permissions, final Collection<String> subjectIds)", "modifiers": "", "return": "void", "signature": "void addTotalRelationOfWeightZero(final Iterable<String> permissions, final Collection<String> subjectIds)", "full_signature": " void addTotalRelationOfWeightZero(final Iterable<String> permissions, final Collection<String> subjectIds)", "class_method_signature": "PermissionSubjectsMap.addTotalRelationOfWeightZero(final Iterable<String> permissions, final Collection<String> subjectIds)", "testcase": false, "constructor": false}, {"identifier": "getMaxWeightForAllPermissions", "parameters": "(final Collection<String> subjectIds,\n            final Collection<String> permissions)", "modifiers": "", "return": "Optional<Integer>", "signature": "Optional<Integer> getMaxWeightForAllPermissions(final Collection<String> subjectIds,\n            final Collection<String> permissions)", "full_signature": " Optional<Integer> getMaxWeightForAllPermissions(final Collection<String> subjectIds,\n            final Collection<String> permissions)", "class_method_signature": "PermissionSubjectsMap.getMaxWeightForAllPermissions(final Collection<String> subjectIds,\n            final Collection<String> permissions)", "testcase": false, "constructor": false}, {"identifier": "getMaxNonemptyWeightForAllPermissions", "parameters": "(final Collection<String> subjectIds,\n            final Collection<String> permissions)", "modifiers": "", "return": "Optional<Integer>", "signature": "Optional<Integer> getMaxNonemptyWeightForAllPermissions(final Collection<String> subjectIds,\n            final Collection<String> permissions)", "full_signature": " Optional<Integer> getMaxNonemptyWeightForAllPermissions(final Collection<String> subjectIds,\n            final Collection<String> permissions)", "class_method_signature": "PermissionSubjectsMap.getMaxNonemptyWeightForAllPermissions(final Collection<String> subjectIds,\n            final Collection<String> permissions)", "testcase": false, "constructor": false}, {"identifier": "getSubjectUnion", "parameters": "(final Set<String> permissions)", "modifiers": "", "return": "Map<String, Integer>", "signature": "Map<String, Integer> getSubjectUnion(final Set<String> permissions)", "full_signature": " Map<String, Integer> getSubjectUnion(final Set<String> permissions)", "class_method_signature": "PermissionSubjectsMap.getSubjectUnion(final Set<String> permissions)", "testcase": false, "constructor": false}, {"identifier": "getSubjectIntersect", "parameters": "(final Set<String> permissions)", "modifiers": "", "return": "Map<String, Integer>", "signature": "Map<String, Integer> getSubjectIntersect(final Set<String> permissions)", "full_signature": " Map<String, Integer> getSubjectIntersect(final Set<String> permissions)", "class_method_signature": "PermissionSubjectsMap.getSubjectIntersect(final Set<String> permissions)", "testcase": false, "constructor": false}, {"identifier": "copy", "parameters": "()", "modifiers": "", "return": "PermissionSubjectsMap", "signature": "PermissionSubjectsMap copy()", "full_signature": " PermissionSubjectsMap copy()", "class_method_signature": "PermissionSubjectsMap.copy()", "testcase": false, "constructor": false}, {"identifier": "copyWithIncrementedWeight", "parameters": "()", "modifiers": "", "return": "PermissionSubjectsMap", "signature": "PermissionSubjectsMap copyWithIncrementedWeight()", "full_signature": " PermissionSubjectsMap copyWithIncrementedWeight()", "class_method_signature": "PermissionSubjectsMap.copyWithIncrementedWeight()", "testcase": false, "constructor": false}, {"identifier": "copyWithDecrementedWeight", "parameters": "()", "modifiers": "", "return": "PermissionSubjectsMap", "signature": "PermissionSubjectsMap copyWithDecrementedWeight()", "full_signature": " PermissionSubjectsMap copyWithDecrementedWeight()", "class_method_signature": "PermissionSubjectsMap.copyWithDecrementedWeight()", "testcase": false, "constructor": false}, {"identifier": "removeAllEntriesFrom", "parameters": "(final PermissionSubjectsMap update)", "modifiers": "", "return": "PermissionSubjectsMap", "signature": "PermissionSubjectsMap removeAllEntriesFrom(final PermissionSubjectsMap update)", "full_signature": " PermissionSubjectsMap removeAllEntriesFrom(final PermissionSubjectsMap update)", "class_method_signature": "PermissionSubjectsMap.removeAllEntriesFrom(final PermissionSubjectsMap update)", "testcase": false, "constructor": false}, {"identifier": "removePermissionSubjects", "parameters": "(final String permission, final Iterable<String> subjectIds)", "modifiers": "private", "return": "void", "signature": "void removePermissionSubjects(final String permission, final Iterable<String> subjectIds)", "full_signature": "private void removePermissionSubjects(final String permission, final Iterable<String> subjectIds)", "class_method_signature": "PermissionSubjectsMap.removePermissionSubjects(final String permission, final Iterable<String> subjectIds)", "testcase": false, "constructor": false}, {"identifier": "addAllEntriesFrom", "parameters": "(final PermissionSubjectsMap other)", "modifiers": "", "return": "PermissionSubjectsMap", "signature": "PermissionSubjectsMap addAllEntriesFrom(final PermissionSubjectsMap other)", "full_signature": " PermissionSubjectsMap addAllEntriesFrom(final PermissionSubjectsMap other)", "class_method_signature": "PermissionSubjectsMap.addAllEntriesFrom(final PermissionSubjectsMap other)", "testcase": false, "constructor": false}, {"identifier": "equals", "parameters": "(final Object o)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean equals(final Object o)", "full_signature": "@Override public boolean equals(final Object o)", "class_method_signature": "PermissionSubjectsMap.equals(final Object o)", "testcase": false, "constructor": false}, {"identifier": "hashCode", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int hashCode()", "full_signature": "@Override public int hashCode()", "class_method_signature": "PermissionSubjectsMap.hashCode()", "testcase": false, "constructor": false}, {"identifier": "validateSubjectIds", "parameters": "(final Collection<String> subjectIds)", "modifiers": "private static", "return": "void", "signature": "void validateSubjectIds(final Collection<String> subjectIds)", "full_signature": "private static void validateSubjectIds(final Collection<String> subjectIds)", "class_method_signature": "PermissionSubjectsMap.validateSubjectIds(final Collection<String> subjectIds)", "testcase": false, "constructor": false}, {"identifier": "validatePermissions", "parameters": "(final Object permissions)", "modifiers": "private static", "return": "void", "signature": "void validatePermissions(final Object permissions)", "full_signature": "private static void validatePermissions(final Object permissions)", "class_method_signature": "PermissionSubjectsMap.validatePermissions(final Object permissions)", "testcase": false, "constructor": false}, {"identifier": "addPermissionSubjects", "parameters": "(final String permission, final Map<String, Integer> subjects)", "modifiers": "private", "return": "void", "signature": "void addPermissionSubjects(final String permission, final Map<String, Integer> subjects)", "full_signature": "private void addPermissionSubjects(final String permission, final Map<String, Integer> subjects)", "class_method_signature": "PermissionSubjectsMap.addPermissionSubjects(final String permission, final Map<String, Integer> subjects)", "testcase": false, "constructor": false}, {"identifier": "intersect", "parameters": "(final Collection<T> set1, final Collection<T> set2)", "modifiers": "private static", "return": "Stream<T>", "signature": "Stream<T> intersect(final Collection<T> set1, final Collection<T> set2)", "full_signature": "private static Stream<T> intersect(final Collection<T> set1, final Collection<T> set2)", "class_method_signature": "PermissionSubjectsMap.intersect(final Collection<T> set1, final Collection<T> set2)", "testcase": false, "constructor": false}, {"identifier": "copyWithWeightAdjustment", "parameters": "(final int adjustment)", "modifiers": "private", "return": "PermissionSubjectsMap", "signature": "PermissionSubjectsMap copyWithWeightAdjustment(final int adjustment)", "full_signature": "private PermissionSubjectsMap copyWithWeightAdjustment(final int adjustment)", "class_method_signature": "PermissionSubjectsMap.copyWithWeightAdjustment(final int adjustment)", "testcase": false, "constructor": false}], "file": "model/enforcers/src/main/java/org/eclipse/ditto/model/enforcers/trie/PermissionSubjectsMap.java"}, "focal_method": {"identifier": "addTotalRelationOfWeightZero", "parameters": "(final Iterable<String> permissions, final Collection<String> subjectIds)", "modifiers": "", "return": "void", "body": "void addTotalRelationOfWeightZero(final Iterable<String> permissions, final Collection<String> subjectIds) {\n        validatePermissions(permissions);\n        validateSubjectIds(subjectIds);\n\n        final Map<String, Integer> subjectsWithDefaultWeight = subjectIds.stream()\n                .collect(Collectors.toMap(Function.identity(), subject -> 0));\n        permissions.forEach(permission -> addPermissionSubjects(permission, subjectsWithDefaultWeight));\n    }", "signature": "void addTotalRelationOfWeightZero(final Iterable<String> permissions, final Collection<String> subjectIds)", "full_signature": " void addTotalRelationOfWeightZero(final Iterable<String> permissions, final Collection<String> subjectIds)", "class_method_signature": "PermissionSubjectsMap.addTotalRelationOfWeightZero(final Iterable<String> permissions, final Collection<String> subjectIds)", "testcase": false, "constructor": false, "invocations": ["validatePermissions", "validateSubjectIds", "collect", "stream", "toMap", "identity", "forEach", "addPermissionSubjects"]}, "repository": {"repo_id": 87849739, "url": "https://github.com/eclipse/ditto", "stars": 139, "created": "4/10/2017 7:29:57 PM +00:00", "updates": "2020-01-27T14:02:39+00:00", "fork": "False", "license": "licensed"}}