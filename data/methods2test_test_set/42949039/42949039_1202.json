{"test_class": {"identifier": "EmrRestControllerTest", "superclass": "extends AbstractRestTest", "interfaces": "", "fields": [{"original_string": "@InjectMocks\n    private EmrRestController emrRestController;", "modifier": "@InjectMocks\n    private", "type": "EmrRestController", "declarator": "emrRestController", "var_name": "emrRestController"}, {"original_string": "@Mock\n    private EmrService emrService;", "modifier": "@Mock\n    private", "type": "EmrService", "declarator": "emrService", "var_name": "emrService"}], "file": "herd-code/herd-rest/src/test/java/org/finra/herd/rest/EmrRestControllerTest.java"}, "test_case": {"identifier": "testAddShellStepToEmrCluster", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testAddShellStepToEmrCluster() throws Exception\n    {\n        // Create an add step request.\n        EmrShellStepAddRequest emrShellStepAddRequest =\n            new EmrShellStepAddRequest(NAMESPACE, EMR_CLUSTER_DEFINITION_NAME, EMR_CLUSTER_NAME, EMR_STEP_NAME, EMR_STEP_SCRIPT_LOCATION,\n                Arrays.asList(ATTRIBUTE_NAME_1_MIXED_CASE), CONTINUE_ON_ERROR, EMR_CLUSTER_ID, AWS_ACCOUNT_ID);\n\n        // Create an add step response.\n        EmrShellStep emrShellStep =\n            new EmrShellStep(EMR_STEP_ID, NAMESPACE, EMR_CLUSTER_DEFINITION_NAME, EMR_CLUSTER_NAME, EMR_STEP_NAME, EMR_STEP_SCRIPT_LOCATION,\n                Arrays.asList(ATTRIBUTE_NAME_1_MIXED_CASE), CONTINUE_ON_ERROR, EMR_CLUSTER_ID);\n\n        // Mock the external calls.\n        when(emrService.addStepToCluster(emrShellStepAddRequest)).thenReturn(emrShellStep);\n\n        // Call the method under test.\n        EmrShellStep result = emrRestController.addShellStepToEmrCluster(emrShellStepAddRequest);\n\n        // Verify the external calls.\n        verify(emrService).addStepToCluster(emrShellStepAddRequest);\n        verifyNoMoreInteractionsHelper();\n\n        // Validate the results.\n        assertEquals(emrShellStep, result);\n    }", "signature": "void testAddShellStepToEmrCluster()", "full_signature": "@Test public void testAddShellStepToEmrCluster()", "class_method_signature": "EmrRestControllerTest.testAddShellStepToEmrCluster()", "testcase": true, "constructor": false, "invocations": ["asList", "asList", "thenReturn", "when", "addStepToCluster", "addShellStepToEmrCluster", "addStepToCluster", "verify", "verifyNoMoreInteractionsHelper", "assertEquals"]}, "focal_class": {"identifier": "EmrRestController", "superclass": "extends HerdBaseController", "interfaces": "", "fields": [{"original_string": "@Autowired\n    private EmrService emrService;", "modifier": "@Autowired\n    private", "type": "EmrService", "declarator": "emrService", "var_name": "emrService"}], "methods": [{"identifier": "addHadoopJarStepToEmrCluster", "parameters": "(@RequestBody EmrHadoopJarStepAddRequest request)", "modifiers": "@RequestMapping(value = \"/emrHadoopJarSteps\", method = RequestMethod.POST, consumes = {\"application/xml\", \"application/json\"}) @Secured(SecurityFunctions.FN_EMR_HADOOP_JAR_STEPS_POST) public", "return": "EmrHadoopJarStep", "signature": "EmrHadoopJarStep addHadoopJarStepToEmrCluster(@RequestBody EmrHadoopJarStepAddRequest request)", "full_signature": "@RequestMapping(value = \"/emrHadoopJarSteps\", method = RequestMethod.POST, consumes = {\"application/xml\", \"application/json\"}) @Secured(SecurityFunctions.FN_EMR_HADOOP_JAR_STEPS_POST) public EmrHadoopJarStep addHadoopJarStepToEmrCluster(@RequestBody EmrHadoopJarStepAddRequest request)", "class_method_signature": "EmrRestController.addHadoopJarStepToEmrCluster(@RequestBody EmrHadoopJarStepAddRequest request)", "testcase": false, "constructor": false}, {"identifier": "addHiveStepToEmrCluster", "parameters": "(@RequestBody EmrHiveStepAddRequest request)", "modifiers": "@RequestMapping(value = \"/emrHiveSteps\", method = RequestMethod.POST, consumes = {\"application/xml\", \"application/json\"}) @Secured(SecurityFunctions.FN_EMR_HIVE_STEPS_POST) public", "return": "EmrHiveStep", "signature": "EmrHiveStep addHiveStepToEmrCluster(@RequestBody EmrHiveStepAddRequest request)", "full_signature": "@RequestMapping(value = \"/emrHiveSteps\", method = RequestMethod.POST, consumes = {\"application/xml\", \"application/json\"}) @Secured(SecurityFunctions.FN_EMR_HIVE_STEPS_POST) public EmrHiveStep addHiveStepToEmrCluster(@RequestBody EmrHiveStepAddRequest request)", "class_method_signature": "EmrRestController.addHiveStepToEmrCluster(@RequestBody EmrHiveStepAddRequest request)", "testcase": false, "constructor": false}, {"identifier": "addPigStepToEmrCluster", "parameters": "(@RequestBody EmrPigStepAddRequest request)", "modifiers": "@RequestMapping(value = \"/emrPigSteps\", method = RequestMethod.POST, consumes = {\"application/xml\", \"application/json\"}) @Secured(SecurityFunctions.FN_EMR_PIG_STEPS_POST) public", "return": "EmrPigStep", "signature": "EmrPigStep addPigStepToEmrCluster(@RequestBody EmrPigStepAddRequest request)", "full_signature": "@RequestMapping(value = \"/emrPigSteps\", method = RequestMethod.POST, consumes = {\"application/xml\", \"application/json\"}) @Secured(SecurityFunctions.FN_EMR_PIG_STEPS_POST) public EmrPigStep addPigStepToEmrCluster(@RequestBody EmrPigStepAddRequest request)", "class_method_signature": "EmrRestController.addPigStepToEmrCluster(@RequestBody EmrPigStepAddRequest request)", "testcase": false, "constructor": false}, {"identifier": "addShellStepToEmrCluster", "parameters": "(@RequestBody EmrShellStepAddRequest request)", "modifiers": "@RequestMapping(value = \"/emrShellSteps\", method = RequestMethod.POST, consumes = {\"application/xml\", \"application/json\"}) @Secured(SecurityFunctions.FN_EMR_SHELL_STEPS_POST) public", "return": "EmrShellStep", "signature": "EmrShellStep addShellStepToEmrCluster(@RequestBody EmrShellStepAddRequest request)", "full_signature": "@RequestMapping(value = \"/emrShellSteps\", method = RequestMethod.POST, consumes = {\"application/xml\", \"application/json\"}) @Secured(SecurityFunctions.FN_EMR_SHELL_STEPS_POST) public EmrShellStep addShellStepToEmrCluster(@RequestBody EmrShellStepAddRequest request)", "class_method_signature": "EmrRestController.addShellStepToEmrCluster(@RequestBody EmrShellStepAddRequest request)", "testcase": false, "constructor": false}, {"identifier": "createEmrCluster", "parameters": "(@RequestBody EmrClusterCreateRequest request)", "modifiers": "@RequestMapping(value = \"/emrClusters\", method = RequestMethod.POST, consumes = {\"application/xml\", \"application/json\"}) @Secured(SecurityFunctions.FN_EMR_CLUSTERS_POST) public", "return": "EmrCluster", "signature": "EmrCluster createEmrCluster(@RequestBody EmrClusterCreateRequest request)", "full_signature": "@RequestMapping(value = \"/emrClusters\", method = RequestMethod.POST, consumes = {\"application/xml\", \"application/json\"}) @Secured(SecurityFunctions.FN_EMR_CLUSTERS_POST) public EmrCluster createEmrCluster(@RequestBody EmrClusterCreateRequest request)", "class_method_signature": "EmrRestController.createEmrCluster(@RequestBody EmrClusterCreateRequest request)", "testcase": false, "constructor": false}, {"identifier": "getEmrCluster", "parameters": "(@PathVariable(\"namespace\") String namespace, @PathVariable(\"emrClusterDefinitionName\") String emrClusterDefinitionName,\n        @PathVariable(\"emrClusterName\") String emrClusterName, @RequestParam(value = \"emrClusterId\", required = false) String emrClusterId,\n        @RequestParam(value = \"emrStepId\", required = false) String emrStepId,\n        @RequestParam(value = \"verbose\", required = false, defaultValue = \"false\") Boolean verbose,\n        @RequestParam(value = \"accountId\", required = false) String accountId,\n        @RequestParam(value = \"retrieveInstanceFleets\", required = false, defaultValue = \"false\") Boolean retrieveInstanceFleets)", "modifiers": "@RequestMapping(value = \"/emrClusters/namespaces/{namespace}/emrClusterDefinitionNames/{emrClusterDefinitionName}/emrClusterNames/{emrClusterName}\", method = RequestMethod.GET) @Secured(SecurityFunctions.FN_EMR_CLUSTERS_GET) public", "return": "EmrCluster", "signature": "EmrCluster getEmrCluster(@PathVariable(\"namespace\") String namespace, @PathVariable(\"emrClusterDefinitionName\") String emrClusterDefinitionName,\n        @PathVariable(\"emrClusterName\") String emrClusterName, @RequestParam(value = \"emrClusterId\", required = false) String emrClusterId,\n        @RequestParam(value = \"emrStepId\", required = false) String emrStepId,\n        @RequestParam(value = \"verbose\", required = false, defaultValue = \"false\") Boolean verbose,\n        @RequestParam(value = \"accountId\", required = false) String accountId,\n        @RequestParam(value = \"retrieveInstanceFleets\", required = false, defaultValue = \"false\") Boolean retrieveInstanceFleets)", "full_signature": "@RequestMapping(value = \"/emrClusters/namespaces/{namespace}/emrClusterDefinitionNames/{emrClusterDefinitionName}/emrClusterNames/{emrClusterName}\", method = RequestMethod.GET) @Secured(SecurityFunctions.FN_EMR_CLUSTERS_GET) public EmrCluster getEmrCluster(@PathVariable(\"namespace\") String namespace, @PathVariable(\"emrClusterDefinitionName\") String emrClusterDefinitionName,\n        @PathVariable(\"emrClusterName\") String emrClusterName, @RequestParam(value = \"emrClusterId\", required = false) String emrClusterId,\n        @RequestParam(value = \"emrStepId\", required = false) String emrStepId,\n        @RequestParam(value = \"verbose\", required = false, defaultValue = \"false\") Boolean verbose,\n        @RequestParam(value = \"accountId\", required = false) String accountId,\n        @RequestParam(value = \"retrieveInstanceFleets\", required = false, defaultValue = \"false\") Boolean retrieveInstanceFleets)", "class_method_signature": "EmrRestController.getEmrCluster(@PathVariable(\"namespace\") String namespace, @PathVariable(\"emrClusterDefinitionName\") String emrClusterDefinitionName,\n        @PathVariable(\"emrClusterName\") String emrClusterName, @RequestParam(value = \"emrClusterId\", required = false) String emrClusterId,\n        @RequestParam(value = \"emrStepId\", required = false) String emrStepId,\n        @RequestParam(value = \"verbose\", required = false, defaultValue = \"false\") Boolean verbose,\n        @RequestParam(value = \"accountId\", required = false) String accountId,\n        @RequestParam(value = \"retrieveInstanceFleets\", required = false, defaultValue = \"false\") Boolean retrieveInstanceFleets)", "testcase": false, "constructor": false}, {"identifier": "terminateEmrCluster", "parameters": "(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"emrClusterDefinitionName\") String emrClusterDefinitionName, @PathVariable(\"emrClusterName\") String emrClusterName,\n        @RequestParam(value = \"overrideTerminationProtection\", required = false, defaultValue = \"false\") Boolean overrideTerminationProtection,\n        @RequestParam(value = \"emrClusterId\", required = false) String emrClusterId, @RequestParam(value = \"accountId\", required = false) String accountId)", "modifiers": "@RequestMapping(value = \"/emrClusters/namespaces/{namespace}/emrClusterDefinitionNames/{emrClusterDefinitionName}/emrClusterNames/{emrClusterName}\", method = RequestMethod.DELETE) @Secured(SecurityFunctions.FN_EMR_CLUSTERS_DELETE) public", "return": "EmrCluster", "signature": "EmrCluster terminateEmrCluster(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"emrClusterDefinitionName\") String emrClusterDefinitionName, @PathVariable(\"emrClusterName\") String emrClusterName,\n        @RequestParam(value = \"overrideTerminationProtection\", required = false, defaultValue = \"false\") Boolean overrideTerminationProtection,\n        @RequestParam(value = \"emrClusterId\", required = false) String emrClusterId, @RequestParam(value = \"accountId\", required = false) String accountId)", "full_signature": "@RequestMapping(value = \"/emrClusters/namespaces/{namespace}/emrClusterDefinitionNames/{emrClusterDefinitionName}/emrClusterNames/{emrClusterName}\", method = RequestMethod.DELETE) @Secured(SecurityFunctions.FN_EMR_CLUSTERS_DELETE) public EmrCluster terminateEmrCluster(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"emrClusterDefinitionName\") String emrClusterDefinitionName, @PathVariable(\"emrClusterName\") String emrClusterName,\n        @RequestParam(value = \"overrideTerminationProtection\", required = false, defaultValue = \"false\") Boolean overrideTerminationProtection,\n        @RequestParam(value = \"emrClusterId\", required = false) String emrClusterId, @RequestParam(value = \"accountId\", required = false) String accountId)", "class_method_signature": "EmrRestController.terminateEmrCluster(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"emrClusterDefinitionName\") String emrClusterDefinitionName, @PathVariable(\"emrClusterName\") String emrClusterName,\n        @RequestParam(value = \"overrideTerminationProtection\", required = false, defaultValue = \"false\") Boolean overrideTerminationProtection,\n        @RequestParam(value = \"emrClusterId\", required = false) String emrClusterId, @RequestParam(value = \"accountId\", required = false) String accountId)", "testcase": false, "constructor": false}], "file": "herd-code/herd-rest/src/main/java/org/finra/herd/rest/EmrRestController.java"}, "focal_method": {"identifier": "addShellStepToEmrCluster", "parameters": "(@RequestBody EmrShellStepAddRequest request)", "modifiers": "@RequestMapping(value = \"/emrShellSteps\", method = RequestMethod.POST, consumes = {\"application/xml\", \"application/json\"}) @Secured(SecurityFunctions.FN_EMR_SHELL_STEPS_POST) public", "return": "EmrShellStep", "body": "@RequestMapping(value = \"/emrShellSteps\", method = RequestMethod.POST, consumes = {\"application/xml\", \"application/json\"})\n    @Secured(SecurityFunctions.FN_EMR_SHELL_STEPS_POST)\n    public EmrShellStep addShellStepToEmrCluster(@RequestBody EmrShellStepAddRequest request) throws Exception\n    {\n        return (EmrShellStep) emrService.addStepToCluster(request);\n    }", "signature": "EmrShellStep addShellStepToEmrCluster(@RequestBody EmrShellStepAddRequest request)", "full_signature": "@RequestMapping(value = \"/emrShellSteps\", method = RequestMethod.POST, consumes = {\"application/xml\", \"application/json\"}) @Secured(SecurityFunctions.FN_EMR_SHELL_STEPS_POST) public EmrShellStep addShellStepToEmrCluster(@RequestBody EmrShellStepAddRequest request)", "class_method_signature": "EmrRestController.addShellStepToEmrCluster(@RequestBody EmrShellStepAddRequest request)", "testcase": false, "constructor": false, "invocations": ["addStepToCluster"]}, "repository": {"repo_id": 42949039, "url": "https://github.com/FINRAOS/herd", "language": "Java", "is_fork": false, "fork_count": 36, "stargazer_count": 120, "size": 205797, "license": "licensed"}}