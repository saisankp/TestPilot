{"test_class": {"identifier": "TestSyslogTcpSource", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final org.slf4j.Logger logger =\n      LoggerFactory.getLogger(TestSyslogTcpSource.class);", "modifier": "private static final", "type": "org.slf4j.Logger", "declarator": "logger =\n      LoggerFactory.getLogger(TestSyslogTcpSource.class)", "var_name": "logger"}, {"original_string": "private SyslogTcpSource source;", "modifier": "private", "type": "SyslogTcpSource", "declarator": "source", "var_name": "source"}, {"original_string": "private Channel channel;", "modifier": "private", "type": "Channel", "declarator": "channel", "var_name": "channel"}, {"original_string": "private static final int TEST_SYSLOG_PORT = 0;", "modifier": "private static final", "type": "int", "declarator": "TEST_SYSLOG_PORT = 0", "var_name": "TEST_SYSLOG_PORT"}, {"original_string": "private final DateTime time = new DateTime();", "modifier": "private final", "type": "DateTime", "declarator": "time = new DateTime()", "var_name": "time"}, {"original_string": "private final String stamp1 = time.toString();", "modifier": "private final", "type": "String", "declarator": "stamp1 = time.toString()", "var_name": "stamp1"}, {"original_string": "private final String host1 = \"localhost.localdomain\";", "modifier": "private final", "type": "String", "declarator": "host1 = \"localhost.localdomain\"", "var_name": "host1"}, {"original_string": "private final String data1 = \"test syslog data\";", "modifier": "private final", "type": "String", "declarator": "data1 = \"test syslog data\"", "var_name": "data1"}, {"original_string": "private final String bodyWithHostname = host1 + \" \" +\n      data1;", "modifier": "private final", "type": "String", "declarator": "bodyWithHostname = host1 + \" \" +\n      data1", "var_name": "bodyWithHostname"}, {"original_string": "private final String bodyWithTimestamp = stamp1 + \" \" +\n      data1;", "modifier": "private final", "type": "String", "declarator": "bodyWithTimestamp = stamp1 + \" \" +\n      data1", "var_name": "bodyWithTimestamp"}, {"original_string": "private final String bodyWithTandH = \"<10>\" + stamp1 + \" \" + host1 + \" \" +\n      data1 + \"\\n\";", "modifier": "private final", "type": "String", "declarator": "bodyWithTandH = \"<10>\" + stamp1 + \" \" + host1 + \" \" +\n      data1 + \"\\n\"", "var_name": "bodyWithTandH"}], "file": "flume-ng-core/src/test/java/org/apache/flume/source/TestSyslogTcpSource.java"}, "test_case": {"identifier": "testSourceCounterChannelFail", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testSourceCounterChannelFail() throws Exception {\n    init(\"true\");\n\n    errorCounterCommon(new ChannelException(\"dummy\"));\n\n    for (int i = 0; i < 10 && source.getSourceCounter().getChannelWriteFail() == 0; i++) {\n      Thread.sleep(100);\n    }\n    assertEquals(1, source.getSourceCounter().getChannelWriteFail());\n  }", "signature": "void testSourceCounterChannelFail()", "full_signature": "@Test public void testSourceCounterChannelFail()", "class_method_signature": "TestSyslogTcpSource.testSourceCounterChannelFail()", "testcase": true, "constructor": false, "invocations": ["init", "errorCounterCommon", "getChannelWriteFail", "getSourceCounter", "sleep", "assertEquals", "getChannelWriteFail", "getSourceCounter"]}, "focal_class": {"identifier": "SyslogTcpSource", "superclass": "extends SslContextAwareAbstractSource", "interfaces": "implements EventDrivenSource, Configurable", "fields": [{"original_string": "private static final Logger logger = LoggerFactory.getLogger(SyslogTcpSource.class);", "modifier": "private static final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(SyslogTcpSource.class)", "var_name": "logger"}, {"original_string": "private int port;", "modifier": "private", "type": "int", "declarator": "port", "var_name": "port"}, {"original_string": "private String host = null;", "modifier": "private", "type": "String", "declarator": "host = null", "var_name": "host"}, {"original_string": "private Channel nettyChannel;", "modifier": "private", "type": "Channel", "declarator": "nettyChannel", "var_name": "nettyChannel"}, {"original_string": "private Integer eventSize;", "modifier": "private", "type": "Integer", "declarator": "eventSize", "var_name": "eventSize"}, {"original_string": "private Map<String, String> formaterProp;", "modifier": "private", "type": "Map<String, String>", "declarator": "formaterProp", "var_name": "formaterProp"}, {"original_string": "private SourceCounter sourceCounter;", "modifier": "private", "type": "SourceCounter", "declarator": "sourceCounter", "var_name": "sourceCounter"}, {"original_string": "private Set<String> keepFields;", "modifier": "private", "type": "Set<String>", "declarator": "keepFields", "var_name": "keepFields"}, {"original_string": "private String clientIPHeader;", "modifier": "private", "type": "String", "declarator": "clientIPHeader", "var_name": "clientIPHeader"}, {"original_string": "private String clientHostnameHeader;", "modifier": "private", "type": "String", "declarator": "clientHostnameHeader", "var_name": "clientHostnameHeader"}], "methods": [{"identifier": "start", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void start()", "full_signature": "@Override public void start()", "class_method_signature": "SyslogTcpSource.start()", "testcase": false, "constructor": false}, {"identifier": "stop", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void stop()", "full_signature": "@Override public void stop()", "class_method_signature": "SyslogTcpSource.stop()", "testcase": false, "constructor": false}, {"identifier": "configure", "parameters": "(Context context)", "modifiers": "@Override public", "return": "void", "signature": "void configure(Context context)", "full_signature": "@Override public void configure(Context context)", "class_method_signature": "SyslogTcpSource.configure(Context context)", "testcase": false, "constructor": false}, {"identifier": "getBoundAddress", "parameters": "()", "modifiers": "@VisibleForTesting", "return": "InetSocketAddress", "signature": "InetSocketAddress getBoundAddress()", "full_signature": "@VisibleForTesting InetSocketAddress getBoundAddress()", "class_method_signature": "SyslogTcpSource.getBoundAddress()", "testcase": false, "constructor": false}, {"identifier": "getSourceCounter", "parameters": "()", "modifiers": "@VisibleForTesting", "return": "SourceCounter", "signature": "SourceCounter getSourceCounter()", "full_signature": "@VisibleForTesting SourceCounter getSourceCounter()", "class_method_signature": "SyslogTcpSource.getSourceCounter()", "testcase": false, "constructor": false}], "file": "flume-ng-core/src/main/java/org/apache/flume/source/SyslogTcpSource.java"}, "focal_method": {"identifier": "getSourceCounter", "parameters": "()", "modifiers": "@VisibleForTesting", "return": "SourceCounter", "body": "@VisibleForTesting\n  SourceCounter getSourceCounter() {\n    return sourceCounter;\n  }", "signature": "SourceCounter getSourceCounter()", "full_signature": "@VisibleForTesting SourceCounter getSourceCounter()", "class_method_signature": "SyslogTcpSource.getSourceCounter()", "testcase": false, "constructor": false, "invocations": []}, "repository": {"repo_id": 2198510, "url": "https://github.com/apache/flume", "language": "Java", "is_fork": false, "fork_count": 1372, "stargazer_count": 1971, "size": 44377, "license": "licensed"}}