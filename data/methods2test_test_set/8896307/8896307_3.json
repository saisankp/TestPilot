{"test_class": {"identifier": "WorkspaceSnapshotTest", "superclass": "extends DatabaseTest", "interfaces": "", "fields": [], "file": "animations/src/test/java/com/chiralbehaviors/CoRE/workspace/WorkspaceSnapshotTest.java"}, "test_case": {"identifier": "testSerializeSnapshot", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testSerializeSnapshot() throws Exception {\n        Agency pseudoScientist = RECORDS.newAgency(\"Behold the Pseudo Scientist!\");\n        pseudoScientist.insert();\n        Product definingProduct = RECORDS.newProduct(\"zee product\");\n        definingProduct.insert();\n\n        StateSnapshot retrieved = new StateSnapshot(RECORDS.create(),\n                                                    Collections.emptyList());\n        assertEquals(2, retrieved.getInserts()\n                                 .size());\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new CoREModule());\n        File temp = File.createTempFile(\"snaptest\", \"wsp\");\n        temp.deleteOnExit();\n        try (FileOutputStream os = new FileOutputStream(temp)) {\n            mapper.writeValue(os, retrieved);\n        }\n        StateSnapshot deserialized;\n        try (FileInputStream is = new FileInputStream(temp)) {\n            deserialized = mapper.readValue(is, StateSnapshot.class);\n        }\n        assertEquals(2, deserialized.getInserts()\n                                    .size());\n\n        assertTrue(deserialized.getInserts()\n                               .stream()\n                               .anyMatch(r -> pseudoScientist.equals(r)));\n    }", "signature": "void testSerializeSnapshot()", "full_signature": "@Test public void testSerializeSnapshot()", "class_method_signature": "WorkspaceSnapshotTest.testSerializeSnapshot()", "testcase": true, "constructor": false, "invocations": ["newAgency", "insert", "newProduct", "insert", "create", "emptyList", "assertEquals", "size", "getInserts", "registerModule", "createTempFile", "deleteOnExit", "writeValue", "readValue", "assertEquals", "size", "getInserts", "assertTrue", "anyMatch", "stream", "getInserts", "equals"]}, "focal_class": {"identifier": "WorkspaceSnapshot", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger log = LoggerFactory.getLogger(WorkspaceSnapshot.class);", "modifier": "private static final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(WorkspaceSnapshot.class)", "var_name": "log"}, {"original_string": "protected Product                                                                        definingProduct;", "modifier": "protected", "type": "Product", "declarator": "definingProduct", "var_name": "definingProduct"}, {"original_string": "protected List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>> inserts = new ArrayList<>();", "modifier": "protected", "type": "List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>>", "declarator": "inserts = new ArrayList<>()", "var_name": "inserts"}, {"original_string": "protected List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>> updates = new ArrayList<>();", "modifier": "protected", "type": "List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>>", "declarator": "updates = new ArrayList<>()", "var_name": "updates"}], "methods": [{"identifier": "load", "parameters": "(DSLContext create,\n                            List<URL> resources)", "modifiers": "public static", "return": "void", "signature": "void load(DSLContext create,\n                            List<URL> resources)", "full_signature": "public static void load(DSLContext create,\n                            List<URL> resources)", "class_method_signature": "WorkspaceSnapshot.load(DSLContext create,\n                            List<URL> resources)", "testcase": false, "constructor": false}, {"identifier": "load", "parameters": "(DSLContext create, URL resource)", "modifiers": "public static", "return": "void", "signature": "void load(DSLContext create, URL resource)", "full_signature": "public static void load(DSLContext create, URL resource)", "class_method_signature": "WorkspaceSnapshot.load(DSLContext create, URL resource)", "testcase": false, "constructor": false}, {"identifier": "selectForDelete", "parameters": "(DSLContext create,\n                                                                                                                 Product definingProduct)", "modifiers": "@SuppressWarnings(\"unchecked\") public static", "return": "List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>>", "signature": "List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>> selectForDelete(DSLContext create,\n                                                                                                                 Product definingProduct)", "full_signature": "@SuppressWarnings(\"unchecked\") public static List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>> selectForDelete(DSLContext create,\n                                                                                                                 Product definingProduct)", "class_method_signature": "WorkspaceSnapshot.selectForDelete(DSLContext create,\n                                                                                                                 Product definingProduct)", "testcase": false, "constructor": false}, {"identifier": "selectWorkspaceClosure", "parameters": "(DSLContext create,\n                                                                                                                        Product definingProduct)", "modifiers": "@SuppressWarnings(\"unchecked\") public static", "return": "List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>>", "signature": "List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>> selectWorkspaceClosure(DSLContext create,\n                                                                                                                        Product definingProduct)", "full_signature": "@SuppressWarnings(\"unchecked\") public static List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>> selectWorkspaceClosure(DSLContext create,\n                                                                                                                        Product definingProduct)", "class_method_signature": "WorkspaceSnapshot.selectWorkspaceClosure(DSLContext create,\n                                                                                                                        Product definingProduct)", "testcase": false, "constructor": false}, {"identifier": "WorkspaceSnapshot", "parameters": "()", "modifiers": "public", "return": "", "signature": " WorkspaceSnapshot()", "full_signature": "public  WorkspaceSnapshot()", "class_method_signature": "WorkspaceSnapshot.WorkspaceSnapshot()", "testcase": false, "constructor": true}, {"identifier": "WorkspaceSnapshot", "parameters": "(Product definingProduct, DSLContext create)", "modifiers": "public", "return": "", "signature": " WorkspaceSnapshot(Product definingProduct, DSLContext create)", "full_signature": "public  WorkspaceSnapshot(Product definingProduct, DSLContext create)", "class_method_signature": "WorkspaceSnapshot.WorkspaceSnapshot(Product definingProduct, DSLContext create)", "testcase": false, "constructor": true}, {"identifier": "deltaFrom", "parameters": "(DSLContext create,\n                                       WorkspaceSnapshot otherVersion)", "modifiers": "public", "return": "WorkspaceSnapshot", "signature": "WorkspaceSnapshot deltaFrom(DSLContext create,\n                                       WorkspaceSnapshot otherVersion)", "full_signature": "public WorkspaceSnapshot deltaFrom(DSLContext create,\n                                       WorkspaceSnapshot otherVersion)", "class_method_signature": "WorkspaceSnapshot.deltaFrom(DSLContext create,\n                                       WorkspaceSnapshot otherVersion)", "testcase": false, "constructor": false}, {"identifier": "getDefiningProduct", "parameters": "()", "modifiers": "public", "return": "Product", "signature": "Product getDefiningProduct()", "full_signature": "public Product getDefiningProduct()", "class_method_signature": "WorkspaceSnapshot.getDefiningProduct()", "testcase": false, "constructor": false}, {"identifier": "getInserts", "parameters": "()", "modifiers": "public", "return": "List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>>", "signature": "List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>> getInserts()", "full_signature": "public List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>> getInserts()", "class_method_signature": "WorkspaceSnapshot.getInserts()", "testcase": false, "constructor": false}, {"identifier": "getUpdates", "parameters": "()", "modifiers": "public", "return": "List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>>", "signature": "List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>> getUpdates()", "full_signature": "public List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>> getUpdates()", "class_method_signature": "WorkspaceSnapshot.getUpdates()", "testcase": false, "constructor": false}, {"identifier": "getVersion", "parameters": "()", "modifiers": "@JsonIgnore public", "return": "int", "signature": "int getVersion()", "full_signature": "@JsonIgnore public int getVersion()", "class_method_signature": "WorkspaceSnapshot.getVersion()", "testcase": false, "constructor": false}, {"identifier": "load", "parameters": "(DSLContext create)", "modifiers": "public", "return": "void", "signature": "void load(DSLContext create)", "full_signature": "public void load(DSLContext create)", "class_method_signature": "WorkspaceSnapshot.load(DSLContext create)", "testcase": false, "constructor": false}, {"identifier": "serializeTo", "parameters": "(OutputStream os)", "modifiers": "public", "return": "void", "signature": "void serializeTo(OutputStream os)", "full_signature": "public void serializeTo(OutputStream os)", "class_method_signature": "WorkspaceSnapshot.serializeTo(OutputStream os)", "testcase": false, "constructor": false}, {"identifier": "loadDefiningProduct", "parameters": "(DSLContext create)", "modifiers": "protected", "return": "void", "signature": "void loadDefiningProduct(DSLContext create)", "full_signature": "protected void loadDefiningProduct(DSLContext create)", "class_method_signature": "WorkspaceSnapshot.loadDefiningProduct(DSLContext create)", "testcase": false, "constructor": false}, {"identifier": "changed", "parameters": "(UpdatableRecord<? extends UpdatableRecord<?>> existing,\n                            UpdatableRecord<? extends UpdatableRecord<?>> test)", "modifiers": "private", "return": "boolean", "signature": "boolean changed(UpdatableRecord<? extends UpdatableRecord<?>> existing,\n                            UpdatableRecord<? extends UpdatableRecord<?>> test)", "full_signature": "private boolean changed(UpdatableRecord<? extends UpdatableRecord<?>> existing,\n                            UpdatableRecord<? extends UpdatableRecord<?>> test)", "class_method_signature": "WorkspaceSnapshot.changed(UpdatableRecord<? extends UpdatableRecord<?>> existing,\n                            UpdatableRecord<? extends UpdatableRecord<?>> test)", "testcase": false, "constructor": false}], "file": "animations/src/main/java/com/chiralbehaviors/CoRE/workspace/WorkspaceSnapshot.java"}, "focal_method": {"identifier": "getInserts", "parameters": "()", "modifiers": "public", "return": "List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>>", "body": "public List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>> getInserts() {\n        return inserts;\n    }", "signature": "List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>> getInserts()", "full_signature": "public List<UpdatableRecord<? extends UpdatableRecord<? extends UpdatableRecord<?>>>> getInserts()", "class_method_signature": "WorkspaceSnapshot.getInserts()", "testcase": false, "constructor": false, "invocations": []}, "repository": {"repo_id": 8896307, "url": "https://github.com/ChiralBehaviors/Ultrastructure", "language": "Java", "is_fork": false, "fork_count": 1, "stargazer_count": 5, "size": 22985, "license": "licensed"}}