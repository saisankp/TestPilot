{"test_class": {"identifier": "EsIndexBoltTest", "superclass": "extends AbstractEsBoltIntegrationTest<EsIndexBolt>", "interfaces": "", "fields": [], "file": "storm/storm-elasticsearch/src/test/java/org/apache/storm/elasticsearch/bolt/EsIndexBoltTest.java"}, "test_case": {"identifier": "testEsIndexBolt", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testEsIndexBolt()\n            throws Exception {\n        String index = \"index1\";\n        String type = \"type1\";\n\n        Tuple tuple = createTestTuple(index, type);\n\n        bolt.execute(tuple);\n\n        verify(outputCollector).ack(tuple);\n\n        node.client().admin().indices().prepareRefresh(index).execute().actionGet();\n        CountResponse resp = node.client().prepareCount(index)\n                .setQuery(new TermQueryBuilder(\"_type\", type))\n                .execute().actionGet();\n\n        Assert.assertEquals(1, resp.getCount());\n    }", "signature": "void testEsIndexBolt()", "full_signature": "@Test public void testEsIndexBolt()", "class_method_signature": "EsIndexBoltTest.testEsIndexBolt()", "testcase": true, "constructor": false, "invocations": ["createTestTuple", "execute", "ack", "verify", "actionGet", "execute", "prepareRefresh", "indices", "admin", "client", "actionGet", "execute", "setQuery", "prepareCount", "client", "assertEquals", "getCount"]}, "focal_class": {"identifier": "EsIndexBolt", "superclass": "extends AbstractEsBolt", "interfaces": "", "fields": [{"original_string": "private final EsTupleMapper tupleMapper;", "modifier": "private final", "type": "EsTupleMapper", "declarator": "tupleMapper", "var_name": "tupleMapper"}], "methods": [{"identifier": "EsIndexBolt", "parameters": "(EsConfig esConfig, EsTupleMapper tupleMapper)", "modifiers": "public", "return": "", "signature": " EsIndexBolt(EsConfig esConfig, EsTupleMapper tupleMapper)", "full_signature": "public  EsIndexBolt(EsConfig esConfig, EsTupleMapper tupleMapper)", "class_method_signature": "EsIndexBolt.EsIndexBolt(EsConfig esConfig, EsTupleMapper tupleMapper)", "testcase": false, "constructor": true}, {"identifier": "prepare", "parameters": "(Map map, TopologyContext topologyContext, OutputCollector outputCollector)", "modifiers": "@Override public", "return": "void", "signature": "void prepare(Map map, TopologyContext topologyContext, OutputCollector outputCollector)", "full_signature": "@Override public void prepare(Map map, TopologyContext topologyContext, OutputCollector outputCollector)", "class_method_signature": "EsIndexBolt.prepare(Map map, TopologyContext topologyContext, OutputCollector outputCollector)", "testcase": false, "constructor": false}, {"identifier": "execute", "parameters": "(Tuple tuple)", "modifiers": "@Override public", "return": "void", "signature": "void execute(Tuple tuple)", "full_signature": "@Override public void execute(Tuple tuple)", "class_method_signature": "EsIndexBolt.execute(Tuple tuple)", "testcase": false, "constructor": false}, {"identifier": "declareOutputFields", "parameters": "(OutputFieldsDeclarer outputFieldsDeclarer)", "modifiers": "@Override public", "return": "void", "signature": "void declareOutputFields(OutputFieldsDeclarer outputFieldsDeclarer)", "full_signature": "@Override public void declareOutputFields(OutputFieldsDeclarer outputFieldsDeclarer)", "class_method_signature": "EsIndexBolt.declareOutputFields(OutputFieldsDeclarer outputFieldsDeclarer)", "testcase": false, "constructor": false}], "file": "storm/storm-elasticsearch/src/main/java/org/apache/storm/elasticsearch/bolt/EsIndexBolt.java"}, "focal_method": {"identifier": "EsIndexBolt", "parameters": "(EsConfig esConfig, EsTupleMapper tupleMapper)", "modifiers": "public", "return": "", "body": "public EsIndexBolt(EsConfig esConfig, EsTupleMapper tupleMapper) {\n        super(esConfig);\n        this.tupleMapper = checkNotNull(tupleMapper);\n    }", "signature": " EsIndexBolt(EsConfig esConfig, EsTupleMapper tupleMapper)", "full_signature": "public  EsIndexBolt(EsConfig esConfig, EsTupleMapper tupleMapper)", "class_method_signature": "EsIndexBolt.EsIndexBolt(EsConfig esConfig, EsTupleMapper tupleMapper)", "testcase": false, "constructor": true, "invocations": []}, "repository": {"repo_id": 44512524, "url": "https://github.com/zqhxuyuan/bigdata", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 8, "size": 91550, "license": "licensed"}}