{"test_class": {"identifier": "OcdsControllerTest", "superclass": "extends AbstractEndPointControllerTest", "interfaces": "", "fields": [{"original_string": "@Autowired\n    private OcdsController ocdsController;", "modifier": "@Autowired\n    private", "type": "OcdsController", "declarator": "ocdsController", "var_name": "ocdsController"}], "file": "web/src/test/java/org/devgateway/ocds/web/rest/controller/OcdsControllerTest.java"}, "test_case": {"identifier": "ocdsPackages", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void ocdsPackages() throws Exception {\n        final List<ReleasePackage> releasePackages = ocdsController.ocdsPackages(new YearFilterPagingRequest());\n\n        Assert.assertEquals(3, releasePackages.size());\n    }", "signature": "void ocdsPackages()", "full_signature": "@Test public void ocdsPackages()", "class_method_signature": "OcdsControllerTest.ocdsPackages()", "testcase": true, "constructor": false, "invocations": ["ocdsPackages", "assertEquals", "size"]}, "focal_class": {"identifier": "OcdsController", "superclass": "extends GenericOCDSController", "interfaces": "", "fields": [{"original_string": "private static final String SERVER_DOMAIN = \"http://ocexplorer.dgstg.org\";", "modifier": "private static final", "type": "String", "declarator": "SERVER_DOMAIN = \"http://ocexplorer.dgstg.org\"", "var_name": "SERVER_DOMAIN"}, {"original_string": "@Autowired\n    private ReleaseRepository releaseRepository;", "modifier": "@Autowired\n    private", "type": "ReleaseRepository", "declarator": "releaseRepository", "var_name": "releaseRepository"}, {"original_string": "@Autowired\n    private FlaggedReleaseRepository flaggedReleaseRepository;", "modifier": "@Autowired\n    private", "type": "FlaggedReleaseRepository", "declarator": "flaggedReleaseRepository", "var_name": "flaggedReleaseRepository"}], "methods": [{"identifier": "ocdsByProjectId", "parameters": "(@PathVariable final String projectId)", "modifiers": "@ApiOperation(value = \"Returns a release entity for the given project id. \" + \"The project id is read from planning.budget.projectID\") @RequestMapping(value = \"/api/ocds/release/budgetProjectId/{projectId:^[a-zA-Z0-9]*$}\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Public.class) public", "return": "Release", "signature": "Release ocdsByProjectId(@PathVariable final String projectId)", "full_signature": "@ApiOperation(value = \"Returns a release entity for the given project id. \" + \"The project id is read from planning.budget.projectID\") @RequestMapping(value = \"/api/ocds/release/budgetProjectId/{projectId:^[a-zA-Z0-9]*$}\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Public.class) public Release ocdsByProjectId(@PathVariable final String projectId)", "class_method_signature": "OcdsController.ocdsByProjectId(@PathVariable final String projectId)", "testcase": false, "constructor": false}, {"identifier": "ocdsByOcid", "parameters": "(@PathVariable final String ocid)", "modifiers": "@ApiOperation(value = \"Returns a release entity for the given open contracting id (OCID).\") @RequestMapping(value = \"/api/ocds/release/ocid/{ocid}\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Public.class) public", "return": "Release", "signature": "Release ocdsByOcid(@PathVariable final String ocid)", "full_signature": "@ApiOperation(value = \"Returns a release entity for the given open contracting id (OCID).\") @RequestMapping(value = \"/api/ocds/release/ocid/{ocid}\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Public.class) public Release ocdsByOcid(@PathVariable final String ocid)", "class_method_signature": "OcdsController.ocdsByOcid(@PathVariable final String ocid)", "testcase": false, "constructor": false}, {"identifier": "ocdsPackageByOcid", "parameters": "(@PathVariable final String ocid)", "modifiers": "@ApiOperation(value = \"Returns a release package for the given open contracting id (OCID).\" + \"This will contain the OCDS package information (metadata about publisher) plus the release itself.\") @RequestMapping(value = \"/api/ocds/package/ocid/{ocid}\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Public.class) public", "return": "ReleasePackage", "signature": "ReleasePackage ocdsPackageByOcid(@PathVariable final String ocid)", "full_signature": "@ApiOperation(value = \"Returns a release package for the given open contracting id (OCID).\" + \"This will contain the OCDS package information (metadata about publisher) plus the release itself.\") @RequestMapping(value = \"/api/ocds/package/ocid/{ocid}\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Public.class) public ReleasePackage ocdsPackageByOcid(@PathVariable final String ocid)", "class_method_signature": "OcdsController.ocdsPackageByOcid(@PathVariable final String ocid)", "testcase": false, "constructor": false}, {"identifier": "createReleasePackage", "parameters": "(final Release release)", "modifiers": "public", "return": "ReleasePackage", "signature": "ReleasePackage createReleasePackage(final Release release)", "full_signature": "public ReleasePackage createReleasePackage(final Release release)", "class_method_signature": "OcdsController.createReleasePackage(final Release release)", "testcase": false, "constructor": false}, {"identifier": "packagedReleaseByProjectId", "parameters": "(@PathVariable final String projectId)", "modifiers": "@ApiOperation(value = \"Returns a release package for the given project id. \" + \"The project id is read from planning.budget.projectID.\" + \"This will contain the OCDS package information (metadata about publisher) plus the release itself.\") @RequestMapping(value = \"/api/ocds/package/budgetProjectId/{projectId:^[a-zA-Z0-9]*$}\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Public.class) public", "return": "ReleasePackage", "signature": "ReleasePackage packagedReleaseByProjectId(@PathVariable final String projectId)", "full_signature": "@ApiOperation(value = \"Returns a release package for the given project id. \" + \"The project id is read from planning.budget.projectID.\" + \"This will contain the OCDS package information (metadata about publisher) plus the release itself.\") @RequestMapping(value = \"/api/ocds/package/budgetProjectId/{projectId:^[a-zA-Z0-9]*$}\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Public.class) public ReleasePackage packagedReleaseByProjectId(@PathVariable final String projectId)", "class_method_signature": "OcdsController.packagedReleaseByProjectId(@PathVariable final String projectId)", "testcase": false, "constructor": false}, {"identifier": "ocdsReleases", "parameters": "(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "modifiers": "@ApiOperation(value = \"Resturns all available releases, filtered by the given criteria.\") @RequestMapping(value = \"/api/ocds/release/all\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Public.class) public", "return": "List<Release>", "signature": "List<Release> ocdsReleases(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "full_signature": "@ApiOperation(value = \"Resturns all available releases, filtered by the given criteria.\") @RequestMapping(value = \"/api/ocds/release/all\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Public.class) public List<Release> ocdsReleases(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "class_method_signature": "OcdsController.ocdsReleases(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "testcase": false, "constructor": false}, {"identifier": "ocdsReleasesCount", "parameters": "(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "modifiers": "@ApiOperation(value = \"Counts releases, filter by given criteria\") @RequestMapping(value = \"/api/ocds/release/count\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Public.class) @Cacheable public", "return": "Long", "signature": "Long ocdsReleasesCount(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "full_signature": "@ApiOperation(value = \"Counts releases, filter by given criteria\") @RequestMapping(value = \"/api/ocds/release/count\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Public.class) @Cacheable public Long ocdsReleasesCount(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "class_method_signature": "OcdsController.ocdsReleasesCount(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "testcase": false, "constructor": false}, {"identifier": "flaggedOcdsReleases", "parameters": "(\n            @ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "modifiers": "@ApiOperation(value = \"Resturns all available releases with flags, filtered by the given criteria.\") @RequestMapping(value = \"/api/flaggedRelease/all\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Internal.class) public", "return": "List<FlaggedRelease>", "signature": "List<FlaggedRelease> flaggedOcdsReleases(\n            @ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "full_signature": "@ApiOperation(value = \"Resturns all available releases with flags, filtered by the given criteria.\") @RequestMapping(value = \"/api/flaggedRelease/all\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Internal.class) public List<FlaggedRelease> flaggedOcdsReleases(\n            @ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "class_method_signature": "OcdsController.flaggedOcdsReleases(\n            @ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "testcase": false, "constructor": false}, {"identifier": "countFlaggedOcdsReleases", "parameters": "(\n            @ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "modifiers": "@ApiOperation(value = \"Counts all available releases with flags, filtered by the given criteria.\") @RequestMapping(value = \"/api/flaggedRelease/count\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Internal.class) @Cacheable public", "return": "Long", "signature": "Long countFlaggedOcdsReleases(\n            @ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "full_signature": "@ApiOperation(value = \"Counts all available releases with flags, filtered by the given criteria.\") @RequestMapping(value = \"/api/flaggedRelease/count\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Internal.class) @Cacheable public Long countFlaggedOcdsReleases(\n            @ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "class_method_signature": "OcdsController.countFlaggedOcdsReleases(\n            @ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "testcase": false, "constructor": false}, {"identifier": "flaggedReleaseByOcid", "parameters": "(@PathVariable final String ocid)", "modifiers": "@ApiOperation(value = \"Returns a release entity for the given open contracting id (OCID).\") @RequestMapping(value = \"/api/flaggedRelease/ocid/{ocid}\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Internal.class) public", "return": "FlaggedRelease", "signature": "FlaggedRelease flaggedReleaseByOcid(@PathVariable final String ocid)", "full_signature": "@ApiOperation(value = \"Returns a release entity for the given open contracting id (OCID).\") @RequestMapping(value = \"/api/flaggedRelease/ocid/{ocid}\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Internal.class) public FlaggedRelease flaggedReleaseByOcid(@PathVariable final String ocid)", "class_method_signature": "OcdsController.flaggedReleaseByOcid(@PathVariable final String ocid)", "testcase": false, "constructor": false}, {"identifier": "ocdsPackages", "parameters": "(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "modifiers": "@ApiOperation(value = \"Returns all available packages, filtered by the given criteria.\" + \"This will contain the OCDS package information (metadata about publisher) plus the release itself.\") @RequestMapping(value = \"/api/ocds/package/all\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Public.class) public", "return": "List<ReleasePackage>", "signature": "List<ReleasePackage> ocdsPackages(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "full_signature": "@ApiOperation(value = \"Returns all available packages, filtered by the given criteria.\" + \"This will contain the OCDS package information (metadata about publisher) plus the release itself.\") @RequestMapping(value = \"/api/ocds/package/all\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Public.class) public List<ReleasePackage> ocdsPackages(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "class_method_signature": "OcdsController.ocdsPackages(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "testcase": false, "constructor": false}], "file": "web/src/main/java/org/devgateway/ocds/web/rest/controller/OcdsController.java"}, "focal_method": {"identifier": "ocdsPackages", "parameters": "(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "modifiers": "@ApiOperation(value = \"Returns all available packages, filtered by the given criteria.\" + \"This will contain the OCDS package information (metadata about publisher) plus the release itself.\") @RequestMapping(value = \"/api/ocds/package/all\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Public.class) public", "return": "List<ReleasePackage>", "body": "@ApiOperation(value = \"Returns all available packages, filtered by the given criteria.\"\n            + \"This will contain the OCDS package information (metadata about publisher) plus the release itself.\")\n    @RequestMapping(value = \"/api/ocds/package/all\", method = {RequestMethod.POST, RequestMethod.GET},\n            produces = \"application/json\")\n    @JsonView(Views.Public.class)\n    public List<ReleasePackage> ocdsPackages(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest) {\n        List<Release> ocdsReleases = ocdsReleases(releaseRequest);\n        List<ReleasePackage> releasePackages = new ArrayList<>(ocdsReleases.size());\n        for (Release release : ocdsReleases) {\n            releasePackages.add(createReleasePackage(release));\n        }\n\n        return releasePackages;\n    }", "signature": "List<ReleasePackage> ocdsPackages(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "full_signature": "@ApiOperation(value = \"Returns all available packages, filtered by the given criteria.\" + \"This will contain the OCDS package information (metadata about publisher) plus the release itself.\") @RequestMapping(value = \"/api/ocds/package/all\", method = {RequestMethod.POST, RequestMethod.GET}, produces = \"application/json\") @JsonView(Views.Public.class) public List<ReleasePackage> ocdsPackages(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "class_method_signature": "OcdsController.ocdsPackages(@ModelAttribute @Valid final YearFilterPagingRequest releaseRequest)", "testcase": false, "constructor": false, "invocations": ["ocdsReleases", "size", "add", "createReleasePackage"]}, "repository": {"repo_id": 59118773, "url": "https://github.com/devgateway/oc-explorer", "language": "Java", "is_fork": false, "fork_count": 2, "stargazer_count": 5, "size": 9004, "license": "licensed"}}