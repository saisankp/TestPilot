{"test_class": {"identifier": "AbstractMBeanServerExecutorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "TestExecutor executor;", "modifier": "", "type": "TestExecutor", "declarator": "executor", "var_name": "executor"}], "file": "agent/core/src/test/java/org/jolokia/backend/executor/AbstractMBeanServerExecutorTest.java"}, "test_case": {"identifier": "destroyWithoutPriorRegistration", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void destroyWithoutPriorRegistration() throws NoSuchFieldException, IllegalAccessException {\n        // Should always work, even when no registration has happened. Non exisiting listeners will be simplu ignored, since we didnt do any registration before\n        executor.unregisterFromMBeanNotifications();\n    }", "signature": "void destroyWithoutPriorRegistration()", "full_signature": "@Test public void destroyWithoutPriorRegistration()", "class_method_signature": "AbstractMBeanServerExecutorTest.destroyWithoutPriorRegistration()", "testcase": true, "constructor": false, "invocations": ["unregisterFromMBeanNotifications"]}, "focal_class": {"identifier": "AbstractMBeanServerExecutor", "superclass": "", "interfaces": "implements MBeanServerExecutor, NotificationListener", "fields": [{"original_string": "private long lastMBeanRegistrationChange;", "modifier": "private", "type": "long", "declarator": "lastMBeanRegistrationChange", "var_name": "lastMBeanRegistrationChange"}], "methods": [{"identifier": "getMBeanServers", "parameters": "()", "modifiers": "protected abstract", "return": "Set<MBeanServerConnection>", "signature": "Set<MBeanServerConnection> getMBeanServers()", "full_signature": "protected abstract Set<MBeanServerConnection> getMBeanServers()", "class_method_signature": "AbstractMBeanServerExecutor.getMBeanServers()", "testcase": false, "constructor": false}, {"identifier": "getJolokiaMBeanServer", "parameters": "()", "modifiers": "protected", "return": "MBeanServerConnection", "signature": "MBeanServerConnection getJolokiaMBeanServer()", "full_signature": "protected MBeanServerConnection getJolokiaMBeanServer()", "class_method_signature": "AbstractMBeanServerExecutor.getJolokiaMBeanServer()", "testcase": false, "constructor": false}, {"identifier": "each", "parameters": "(ObjectName pObjectName, MBeanEachCallback pCallback)", "modifiers": "public", "return": "void", "signature": "void each(ObjectName pObjectName, MBeanEachCallback pCallback)", "full_signature": "public void each(ObjectName pObjectName, MBeanEachCallback pCallback)", "class_method_signature": "AbstractMBeanServerExecutor.each(ObjectName pObjectName, MBeanEachCallback pCallback)", "testcase": false, "constructor": false}, {"identifier": "call", "parameters": "(ObjectName pObjectName, MBeanAction<T> pMBeanAction, Object ... pExtraArgs)", "modifiers": "public", "return": "T", "signature": "T call(ObjectName pObjectName, MBeanAction<T> pMBeanAction, Object ... pExtraArgs)", "full_signature": "public T call(ObjectName pObjectName, MBeanAction<T> pMBeanAction, Object ... pExtraArgs)", "class_method_signature": "AbstractMBeanServerExecutor.call(ObjectName pObjectName, MBeanAction<T> pMBeanAction, Object ... pExtraArgs)", "testcase": false, "constructor": false}, {"identifier": "queryNames", "parameters": "(ObjectName pObjectName)", "modifiers": "public", "return": "Set<ObjectName>", "signature": "Set<ObjectName> queryNames(ObjectName pObjectName)", "full_signature": "public Set<ObjectName> queryNames(ObjectName pObjectName)", "class_method_signature": "AbstractMBeanServerExecutor.queryNames(ObjectName pObjectName)", "testcase": false, "constructor": false}, {"identifier": "registerForMBeanNotifications", "parameters": "()", "modifiers": "protected", "return": "void", "signature": "void registerForMBeanNotifications()", "full_signature": "protected void registerForMBeanNotifications()", "class_method_signature": "AbstractMBeanServerExecutor.registerForMBeanNotifications()", "testcase": false, "constructor": false}, {"identifier": "unregisterFromMBeanNotifications", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void unregisterFromMBeanNotifications()", "full_signature": "public void unregisterFromMBeanNotifications()", "class_method_signature": "AbstractMBeanServerExecutor.unregisterFromMBeanNotifications()", "testcase": false, "constructor": false}, {"identifier": "handleNotification", "parameters": "(Notification pNotification, Object pHandback)", "modifiers": "public", "return": "void", "signature": "void handleNotification(Notification pNotification, Object pHandback)", "full_signature": "public void handleNotification(Notification pNotification, Object pHandback)", "class_method_signature": "AbstractMBeanServerExecutor.handleNotification(Notification pNotification, Object pHandback)", "testcase": false, "constructor": false}, {"identifier": "hasMBeansListChangedSince", "parameters": "(long pTimestamp)", "modifiers": "public", "return": "boolean", "signature": "boolean hasMBeansListChangedSince(long pTimestamp)", "full_signature": "public boolean hasMBeansListChangedSince(long pTimestamp)", "class_method_signature": "AbstractMBeanServerExecutor.hasMBeansListChangedSince(long pTimestamp)", "testcase": false, "constructor": false}, {"identifier": "updateErrorMsg", "parameters": "(StringBuilder pErrors, Exception exp)", "modifiers": "private", "return": "Exception", "signature": "Exception updateErrorMsg(StringBuilder pErrors, Exception exp)", "full_signature": "private Exception updateErrorMsg(StringBuilder pErrors, Exception exp)", "class_method_signature": "AbstractMBeanServerExecutor.updateErrorMsg(StringBuilder pErrors, Exception exp)", "testcase": false, "constructor": false}], "file": "agent/core/src/main/java/org/jolokia/backend/executor/AbstractMBeanServerExecutor.java"}, "focal_method": {"identifier": "unregisterFromMBeanNotifications", "parameters": "()", "modifiers": "public", "return": "void", "body": "public void unregisterFromMBeanNotifications() {\n        Set<MBeanServerConnection> servers = getMBeanServers();\n        Exception lastExp = null;\n        StringBuilder errors = new StringBuilder();\n        for (MBeanServerConnection server : servers) {\n            try {\n                JmxUtil.removeMBeanRegistrationListener(server,this);\n            } catch (IllegalStateException e) {\n                lastExp = updateErrorMsg(errors, e);\n            }\n        }\n        if (lastExp != null) {\n            throw new IllegalStateException(errors.substring(0,errors.length()-1),lastExp);\n        }\n    }", "signature": "void unregisterFromMBeanNotifications()", "full_signature": "public void unregisterFromMBeanNotifications()", "class_method_signature": "AbstractMBeanServerExecutor.unregisterFromMBeanNotifications()", "testcase": false, "constructor": false, "invocations": ["getMBeanServers", "removeMBeanRegistrationListener", "updateErrorMsg", "substring", "length"]}, "repository": {"repo_id": 777444, "url": "https://github.com/rhuss/jolokia", "language": "Java", "is_fork": false, "fork_count": 187, "stargazer_count": 682, "size": 20451, "license": "licensed"}}