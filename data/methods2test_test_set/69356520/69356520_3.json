{"test_class": {"identifier": "UPSTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String PATCH_CORRUPTED = \"The patch file is corrupted.\";", "modifier": "private static final", "type": "String", "declarator": "PATCH_CORRUPTED = \"The patch file is corrupted.\"", "var_name": "PATCH_CORRUPTED"}, {"original_string": "@Rule\n    public TemporaryFolder folder = new TemporaryFolder();", "modifier": "@Rule\n    public", "type": "TemporaryFolder", "declarator": "folder = new TemporaryFolder()", "var_name": "folder"}, {"original_string": "@Mock\n    Context mockContext;", "modifier": "@Mock", "type": "Context", "declarator": "mockContext", "var_name": "mockContext"}], "file": "app/src/test/java/org/emunix/unipatcher/patcher/UPSTest.java"}, "test_case": {"identifier": "testCheckMagic", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testCheckMagic() throws Exception {\n        File patch = new File(this.getClass().getResource(\"/ups/readUpsCrc.ups\").getPath());\n        assertTrue(UPS.checkMagic(patch));\n        File noPatch = new File(this.getClass().getResource(\"/ups/readUpsCrc.bin\").getPath());\n        assertFalse(UPS.checkMagic(noPatch));\n    }", "signature": "void testCheckMagic()", "full_signature": "@Test public void testCheckMagic()", "class_method_signature": "UPSTest.testCheckMagic()", "testcase": true, "constructor": false, "invocations": ["getPath", "getResource", "getClass", "assertTrue", "checkMagic", "getPath", "getResource", "getClass", "assertFalse", "checkMagic"]}, "focal_class": {"identifier": "UPS", "superclass": "extends Patcher", "interfaces": "", "fields": [{"original_string": "private static final byte[] MAGIC_NUMBER = {0x55, 0x50, 0x53, 0x31};", "modifier": "private static final", "type": "byte[]", "declarator": "MAGIC_NUMBER = {0x55, 0x50, 0x53, 0x31}", "var_name": "MAGIC_NUMBER"}], "methods": [{"identifier": "UPS", "parameters": "(Context context, File patch, File rom, File output)", "modifiers": "public", "return": "", "signature": " UPS(Context context, File patch, File rom, File output)", "full_signature": "public  UPS(Context context, File patch, File rom, File output)", "class_method_signature": "UPS.UPS(Context context, File patch, File rom, File output)", "testcase": false, "constructor": true}, {"identifier": "apply", "parameters": "(boolean ignoreChecksum)", "modifiers": "@Override public", "return": "void", "signature": "void apply(boolean ignoreChecksum)", "full_signature": "@Override public void apply(boolean ignoreChecksum)", "class_method_signature": "UPS.apply(boolean ignoreChecksum)", "testcase": false, "constructor": false}, {"identifier": "decode", "parameters": "(BufferedInputStream stream)", "modifiers": "private", "return": "Pair", "signature": "Pair decode(BufferedInputStream stream)", "full_signature": "private Pair decode(BufferedInputStream stream)", "class_method_signature": "UPS.decode(BufferedInputStream stream)", "testcase": false, "constructor": false}, {"identifier": "checkMagic", "parameters": "(File f)", "modifiers": "public static", "return": "boolean", "signature": "boolean checkMagic(File f)", "full_signature": "public static boolean checkMagic(File f)", "class_method_signature": "UPS.checkMagic(File f)", "testcase": false, "constructor": false}, {"identifier": "readUpsCrc", "parameters": "(Context context, File f)", "modifiers": "public static", "return": "UpsCrc", "signature": "UpsCrc readUpsCrc(Context context, File f)", "full_signature": "public static UpsCrc readUpsCrc(Context context, File f)", "class_method_signature": "UPS.readUpsCrc(Context context, File f)", "testcase": false, "constructor": false}, {"identifier": "readLong", "parameters": "(BufferedInputStream stream)", "modifiers": "private static", "return": "long", "signature": "long readLong(BufferedInputStream stream)", "full_signature": "private static long readLong(BufferedInputStream stream)", "class_method_signature": "UPS.readLong(BufferedInputStream stream)", "testcase": false, "constructor": false}], "file": "app/src/main/java/org/emunix/unipatcher/patcher/UPS.java"}, "focal_method": {"identifier": "checkMagic", "parameters": "(File f)", "modifiers": "public static", "return": "boolean", "body": "public static boolean checkMagic(File f) throws IOException {\n        FileInputStream stream = null;\n        try {\n            stream = new FileInputStream(f);\n            byte[] buffer = new byte[4];\n            stream.read(buffer);\n            return Arrays.equals(buffer, MAGIC_NUMBER);\n        } finally {\n            IOUtils.closeQuietly(stream);\n        }\n    }", "signature": "boolean checkMagic(File f)", "full_signature": "public static boolean checkMagic(File f)", "class_method_signature": "UPS.checkMagic(File f)", "testcase": false, "constructor": false, "invocations": ["read", "equals", "closeQuietly"]}, "repository": {"repo_id": 69356520, "url": "https://github.com/btimofeev/UniPatcher", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 34, "size": 1720, "license": "licensed"}}