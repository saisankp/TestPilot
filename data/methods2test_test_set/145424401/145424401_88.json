{"test_class": {"identifier": "ClassVisitorTest", "superclass": "extends AbstractGoalTest", "interfaces": "", "fields": [], "file": "lang-java/src/test/java/org/eclipse/steady/java/monitor/ClassVisitorTest.java"}, "test_case": {"identifier": "testFixQName", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testFixQName() {\n    assertTrue(ClassVisitor.removeParameterQualification(\"a.b.c.Class()\").equals(\"a.b.c.Class()\"));\n    assertTrue(\n        ClassVisitor.removeParameterQualification(\"a.b.c.Class(int)\").equals(\"a.b.c.Class(int)\"));\n    assertTrue(\n        ClassVisitor.removeParameterQualification(\"a.b.c.Class(int,a.b.C)\")\n            .equals(\"a.b.c.Class(int,C)\"));\n    assertTrue(\n        ClassVisitor.removeParameterQualification(\"a.b.c.Class(int,C,boolean,a.b.c.ddd.Test)\")\n            .equals(\"a.b.c.Class(int,C,boolean,Test)\"));\n  }", "signature": "void testFixQName()", "full_signature": "@Test public void testFixQName()", "class_method_signature": "ClassVisitorTest.testFixQName()", "testcase": true, "constructor": false, "invocations": ["assertTrue", "equals", "removeParameterQualification", "assertTrue", "equals", "removeParameterQualification", "assertTrue", "equals", "removeParameterQualification", "assertTrue", "equals", "removeParameterQualification"]}, "focal_class": {"identifier": "ClassVisitor", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static Logger log = null;", "modifier": "private static", "type": "Logger", "declarator": "log = null", "var_name": "log"}, {"original_string": "private JavaId javaId = null;", "modifier": "private", "type": "JavaId", "declarator": "javaId = null", "var_name": "javaId"}, {"original_string": "private String qname = null;", "modifier": "private", "type": "String", "declarator": "qname = null", "var_name": "qname"}, {"original_string": "private CtClass c = null;", "modifier": "private", "type": "CtClass", "declarator": "c = null", "var_name": "c"}, {"original_string": "private CtClass declaringClass = null;", "modifier": "private", "type": "CtClass", "declarator": "declaringClass = null", "var_name": "declaringClass"}, {"original_string": "private Boolean isInstrumented = null;", "modifier": "private", "type": "Boolean", "declarator": "isInstrumented = null", "var_name": "isInstrumented"}, {"original_string": "private String originalArchiveDigest = null;", "modifier": "private", "type": "String", "declarator": "originalArchiveDigest = null", "var_name": "originalArchiveDigest"}, {"original_string": "private Application appContext = null;", "modifier": "private", "type": "Application", "declarator": "appContext = null", "var_name": "appContext"}, {"original_string": "private byte[] bytes = null;", "modifier": "private", "type": "byte[]", "declarator": "bytes = null", "var_name": "bytes"}, {"original_string": "private int major = 0;", "modifier": "private", "type": "int", "declarator": "major = 0", "var_name": "major"}, {"original_string": "private int minor = 0;", "modifier": "private", "type": "int", "declarator": "minor = 0", "var_name": "minor"}, {"original_string": "private Set<ConstructId> constructs = null;", "modifier": "private", "type": "Set<ConstructId>", "declarator": "constructs = null", "var_name": "constructs"}, {"original_string": "private boolean writeCodeToTmp = false;", "modifier": "private", "type": "boolean", "declarator": "writeCodeToTmp = false", "var_name": "writeCodeToTmp"}, {"original_string": "private String[] fieldAnnotations = null;", "modifier": "private", "type": "String[]", "declarator": "fieldAnnotations = null", "var_name": "fieldAnnotations"}, {"original_string": "private static Pattern QUALIFIED_TYPE_PATTERN = null;", "modifier": "private static", "type": "Pattern", "declarator": "QUALIFIED_TYPE_PATTERN = null", "var_name": "QUALIFIED_TYPE_PATTERN"}, {"original_string": "private static Pattern NESTED_CLASS_PATTERN = null;", "modifier": "private static", "type": "Pattern", "declarator": "NESTED_CLASS_PATTERN = null", "var_name": "NESTED_CLASS_PATTERN"}], "methods": [{"identifier": "getLog", "parameters": "()", "modifiers": "private static final", "return": "Logger", "signature": "Logger getLog()", "full_signature": "private static final Logger getLog()", "class_method_signature": "ClassVisitor.getLog()", "testcase": false, "constructor": false}, {"identifier": "ClassVisitor", "parameters": "(CtClass _c)", "modifiers": "public", "return": "", "signature": " ClassVisitor(CtClass _c)", "full_signature": "public  ClassVisitor(CtClass _c)", "class_method_signature": "ClassVisitor.ClassVisitor(CtClass _c)", "testcase": false, "constructor": true}, {"identifier": "getConstructs", "parameters": "()", "modifiers": "public", "return": "Set<ConstructId>", "signature": "Set<ConstructId> getConstructs()", "full_signature": "public Set<ConstructId> getConstructs()", "class_method_signature": "ClassVisitor.getConstructs()", "testcase": false, "constructor": false}, {"identifier": "isInstrumented", "parameters": "()", "modifiers": "public synchronized", "return": "boolean", "signature": "boolean isInstrumented()", "full_signature": "public synchronized boolean isInstrumented()", "class_method_signature": "ClassVisitor.isInstrumented()", "testcase": false, "constructor": false}, {"identifier": "visitMethods", "parameters": "(boolean _instrument)", "modifiers": "public synchronized", "return": "Set<ConstructId>", "signature": "Set<ConstructId> visitMethods(boolean _instrument)", "full_signature": "public synchronized Set<ConstructId> visitMethods(boolean _instrument)", "class_method_signature": "ClassVisitor.visitMethods(boolean _instrument)", "testcase": false, "constructor": false}, {"identifier": "visitConstructors", "parameters": "(boolean _instrument)", "modifiers": "public synchronized", "return": "Set<ConstructId>", "signature": "Set<ConstructId> visitConstructors(boolean _instrument)", "full_signature": "public synchronized Set<ConstructId> visitConstructors(boolean _instrument)", "class_method_signature": "ClassVisitor.visitConstructors(boolean _instrument)", "testcase": false, "constructor": false}, {"identifier": "instrument", "parameters": "(JavaId _jid, CtBehavior _behavior)", "modifiers": "private", "return": "void", "signature": "void instrument(JavaId _jid, CtBehavior _behavior)", "full_signature": "private void instrument(JavaId _jid, CtBehavior _behavior)", "class_method_signature": "ClassVisitor.instrument(JavaId _jid, CtBehavior _behavior)", "testcase": false, "constructor": false}, {"identifier": "setOriginalArchiveDigest", "parameters": "(String _sha1)", "modifiers": "public synchronized", "return": "void", "signature": "void setOriginalArchiveDigest(String _sha1)", "full_signature": "public synchronized void setOriginalArchiveDigest(String _sha1)", "class_method_signature": "ClassVisitor.setOriginalArchiveDigest(String _sha1)", "testcase": false, "constructor": false}, {"identifier": "setAppContext", "parameters": "(Application _ctx)", "modifiers": "public synchronized", "return": "void", "signature": "void setAppContext(Application _ctx)", "full_signature": "public synchronized void setAppContext(Application _ctx)", "class_method_signature": "ClassVisitor.setAppContext(Application _ctx)", "testcase": false, "constructor": false}, {"identifier": "finalizeInstrumentation", "parameters": "()", "modifiers": "public synchronized", "return": "void", "signature": "void finalizeInstrumentation()", "full_signature": "public synchronized void finalizeInstrumentation()", "class_method_signature": "ClassVisitor.finalizeInstrumentation()", "testcase": false, "constructor": false}, {"identifier": "getBytecode", "parameters": "()", "modifiers": "public", "return": "byte[]", "signature": "byte[] getBytecode()", "full_signature": "public byte[] getBytecode()", "class_method_signature": "ClassVisitor.getBytecode()", "testcase": false, "constructor": false}, {"identifier": "addBooleanMember", "parameters": "(String _field_name, boolean _value, boolean _final)", "modifiers": "public synchronized", "return": "void", "signature": "void addBooleanMember(String _field_name, boolean _value, boolean _final)", "full_signature": "public synchronized void addBooleanMember(String _field_name, boolean _value, boolean _final)", "class_method_signature": "ClassVisitor.addBooleanMember(String _field_name, boolean _value, boolean _final)", "testcase": false, "constructor": false}, {"identifier": "addFieldAnnotations", "parameters": "(CtField _fld, String[] _annotations)", "modifiers": "private", "return": "void", "signature": "void addFieldAnnotations(CtField _fld, String[] _annotations)", "full_signature": "private void addFieldAnnotations(CtField _fld, String[] _annotations)", "class_method_signature": "ClassVisitor.addFieldAnnotations(CtField _fld, String[] _annotations)", "testcase": false, "constructor": false}, {"identifier": "addIntMember", "parameters": "(String _field_name, boolean _final)", "modifiers": "public synchronized", "return": "void", "signature": "void addIntMember(String _field_name, boolean _final)", "full_signature": "public synchronized void addIntMember(String _field_name, boolean _final)", "class_method_signature": "ClassVisitor.addIntMember(String _field_name, boolean _final)", "testcase": false, "constructor": false}, {"identifier": "getUniqueMemberName", "parameters": "(String _prefix, String _construct_name, boolean _random_part)", "modifiers": "public", "return": "String", "signature": "String getUniqueMemberName(String _prefix, String _construct_name, boolean _random_part)", "full_signature": "public String getUniqueMemberName(String _prefix, String _construct_name, boolean _random_part)", "class_method_signature": "ClassVisitor.getUniqueMemberName(String _prefix, String _construct_name, boolean _random_part)", "testcase": false, "constructor": false}, {"identifier": "getClassPattern", "parameters": "()", "modifiers": "private static synchronized", "return": "Pattern", "signature": "Pattern getClassPattern()", "full_signature": "private static synchronized Pattern getClassPattern()", "class_method_signature": "ClassVisitor.getClassPattern()", "testcase": false, "constructor": false}, {"identifier": "getNestedClassPattern", "parameters": "()", "modifiers": "private static synchronized", "return": "Pattern", "signature": "Pattern getNestedClassPattern()", "full_signature": "private static synchronized Pattern getNestedClassPattern()", "class_method_signature": "ClassVisitor.getNestedClassPattern()", "testcase": false, "constructor": false}, {"identifier": "removeParameterQualification", "parameters": "(String _string)", "modifiers": "public static", "return": "String", "signature": "String removeParameterQualification(String _string)", "full_signature": "public static String removeParameterQualification(String _string)", "class_method_signature": "ClassVisitor.removeParameterQualification(String _string)", "testcase": false, "constructor": false}, {"identifier": "removePackageContext", "parameters": "(String _string)", "modifiers": "public static", "return": "String", "signature": "String removePackageContext(String _string)", "full_signature": "public static String removePackageContext(String _string)", "class_method_signature": "ClassVisitor.removePackageContext(String _string)", "testcase": false, "constructor": false}, {"identifier": "getJavaId", "parameters": "()", "modifiers": "public", "return": "JavaId", "signature": "JavaId getJavaId()", "full_signature": "public JavaId getJavaId()", "class_method_signature": "ClassVisitor.getJavaId()", "testcase": false, "constructor": false}, {"identifier": "getCtClass", "parameters": "()", "modifiers": "public", "return": "CtClass", "signature": "CtClass getCtClass()", "full_signature": "public CtClass getCtClass()", "class_method_signature": "ClassVisitor.getCtClass()", "testcase": false, "constructor": false}, {"identifier": "getArchiveDigest", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getArchiveDigest()", "full_signature": "public String getArchiveDigest()", "class_method_signature": "ClassVisitor.getArchiveDigest()", "testcase": false, "constructor": false}, {"identifier": "getAppContext", "parameters": "()", "modifiers": "public synchronized", "return": "Application", "signature": "Application getAppContext()", "full_signature": "public synchronized Application getAppContext()", "class_method_signature": "ClassVisitor.getAppContext()", "testcase": false, "constructor": false}, {"identifier": "getQname", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getQname()", "full_signature": "public String getQname()", "class_method_signature": "ClassVisitor.getQname()", "testcase": false, "constructor": false}, {"identifier": "getOriginalArchiveDigest", "parameters": "()", "modifiers": "public synchronized", "return": "String", "signature": "String getOriginalArchiveDigest()", "full_signature": "public synchronized String getOriginalArchiveDigest()", "class_method_signature": "ClassVisitor.getOriginalArchiveDigest()", "testcase": false, "constructor": false}, {"identifier": "prettyPrint", "parameters": "(String _src)", "modifiers": "public static final", "return": "String", "signature": "String prettyPrint(String _src)", "full_signature": "public static final String prettyPrint(String _src)", "class_method_signature": "ClassVisitor.prettyPrint(String _src)", "testcase": false, "constructor": false}, {"identifier": "getIndent", "parameters": "(String _c, int _i)", "modifiers": "private static", "return": "String", "signature": "String getIndent(String _c, int _i)", "full_signature": "private static String getIndent(String _c, int _i)", "class_method_signature": "ClassVisitor.getIndent(String _c, int _i)", "testcase": false, "constructor": false}], "file": "lang-java/src/main/java/org/eclipse/steady/java/monitor/ClassVisitor.java"}, "focal_method": {"identifier": "removeParameterQualification", "parameters": "(String _string)", "modifiers": "public static", "return": "String", "body": "public static String removeParameterQualification(String _string) {\n    final StringBuilder b = new StringBuilder();\n\n    // Get everything between the brackets\n    final int i = _string.indexOf(\"(\");\n    final int j = _string.lastIndexOf(\")\");\n    if (i == -1 || j == -1)\n      throw new IllegalArgumentException(\"Method has no round brackets: [\" + _string + \"]\");\n\n    b.append(_string.substring(0, i + 1));\n    b.append(ClassVisitor.removePackageContext(_string.substring(i + 1, j)));\n    b.append(_string.substring(j));\n    return b.toString();\n  }", "signature": "String removeParameterQualification(String _string)", "full_signature": "public static String removeParameterQualification(String _string)", "class_method_signature": "ClassVisitor.removeParameterQualification(String _string)", "testcase": false, "constructor": false, "invocations": ["indexOf", "lastIndexOf", "append", "substring", "append", "removePackageContext", "substring", "append", "substring", "toString"]}, "repository": {"repo_id": 145424401, "url": "https://github.com/eclipse/steady", "stars": 353, "created": "8/20/2018 1:54:15 PM +00:00", "updates": "2020-01-25T08:37:00+00:00", "fork": "False", "license": "licensed"}}