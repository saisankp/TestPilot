{"test_class": {"identifier": "TanimotoTest", "superclass": "extends CDKTestCase", "interfaces": "", "fields": [{"original_string": "boolean standAlone = false;", "modifier": "", "type": "boolean", "declarator": "standAlone = false", "var_name": "standAlone"}], "file": "descriptor/fingerprint/src/test/java/org/openscience/cdk/similarity/TanimotoTest.java"}, "test_case": {"identifier": "method2", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void method2() throws CDKException {\n        ICountFingerprint fp1 = new IntArrayCountFingerprint(new HashMap<String, Integer>() {\n\n            {\n                put(\"A\", 3);\n            }\n        });\n        ICountFingerprint fp2 = new IntArrayCountFingerprint(new HashMap<String, Integer>() {\n\n            {\n                put(\"A\", 4);\n            }\n        });\n        Assert.assertEquals(0.75, Tanimoto.method2(fp1, fp2), 0.001);\n    }", "signature": "void method2()", "full_signature": "@Test public void method2()", "class_method_signature": "TanimotoTest.method2()", "testcase": true, "constructor": false, "invocations": ["put", "put", "assertEquals", "method2"]}, "focal_class": {"identifier": "Tanimoto", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "Tanimoto", "parameters": "()", "modifiers": "private", "return": "", "signature": " Tanimoto()", "full_signature": "private  Tanimoto()", "class_method_signature": "Tanimoto.Tanimoto()", "testcase": false, "constructor": true}, {"identifier": "calculate", "parameters": "(BitSet bitset1, BitSet bitset2)", "modifiers": "public static", "return": "float", "signature": "float calculate(BitSet bitset1, BitSet bitset2)", "full_signature": "public static float calculate(BitSet bitset1, BitSet bitset2)", "class_method_signature": "Tanimoto.calculate(BitSet bitset1, BitSet bitset2)", "testcase": false, "constructor": false}, {"identifier": "calculate", "parameters": "(IBitFingerprint fingerprint1, IBitFingerprint fingerprint2)", "modifiers": "public static", "return": "double", "signature": "double calculate(IBitFingerprint fingerprint1, IBitFingerprint fingerprint2)", "full_signature": "public static double calculate(IBitFingerprint fingerprint1, IBitFingerprint fingerprint2)", "class_method_signature": "Tanimoto.calculate(IBitFingerprint fingerprint1, IBitFingerprint fingerprint2)", "testcase": false, "constructor": false}, {"identifier": "calculate", "parameters": "(double[] features1, double[] features2)", "modifiers": "public static", "return": "float", "signature": "float calculate(double[] features1, double[] features2)", "full_signature": "public static float calculate(double[] features1, double[] features2)", "class_method_signature": "Tanimoto.calculate(double[] features1, double[] features2)", "testcase": false, "constructor": false}, {"identifier": "calculate", "parameters": "(Map<String, Integer> features1, Map<String, Integer> features2)", "modifiers": "public static", "return": "float", "signature": "float calculate(Map<String, Integer> features1, Map<String, Integer> features2)", "full_signature": "public static float calculate(Map<String, Integer> features1, Map<String, Integer> features2)", "class_method_signature": "Tanimoto.calculate(Map<String, Integer> features1, Map<String, Integer> features2)", "testcase": false, "constructor": false}, {"identifier": "calculate", "parameters": "(ICountFingerprint fp1, ICountFingerprint fp2)", "modifiers": "public static", "return": "double", "signature": "double calculate(ICountFingerprint fp1, ICountFingerprint fp2)", "full_signature": "public static double calculate(ICountFingerprint fp1, ICountFingerprint fp2)", "class_method_signature": "Tanimoto.calculate(ICountFingerprint fp1, ICountFingerprint fp2)", "testcase": false, "constructor": false}, {"identifier": "method1", "parameters": "(ICountFingerprint fp1, ICountFingerprint fp2)", "modifiers": "public static", "return": "double", "signature": "double method1(ICountFingerprint fp1, ICountFingerprint fp2)", "full_signature": "public static double method1(ICountFingerprint fp1, ICountFingerprint fp2)", "class_method_signature": "Tanimoto.method1(ICountFingerprint fp1, ICountFingerprint fp2)", "testcase": false, "constructor": false}, {"identifier": "method2", "parameters": "(ICountFingerprint fp1, ICountFingerprint fp2)", "modifiers": "public static", "return": "double", "signature": "double method2(ICountFingerprint fp1, ICountFingerprint fp2)", "full_signature": "public static double method2(ICountFingerprint fp1, ICountFingerprint fp2)", "class_method_signature": "Tanimoto.method2(ICountFingerprint fp1, ICountFingerprint fp2)", "testcase": false, "constructor": false}], "file": "descriptor/fingerprint/src/main/java/org/openscience/cdk/similarity/Tanimoto.java"}, "focal_method": {"identifier": "method2", "parameters": "(ICountFingerprint fp1, ICountFingerprint fp2)", "modifiers": "public static", "return": "double", "body": "public static double method2(ICountFingerprint fp1, ICountFingerprint fp2) {\n\n        long maxSum = 0, minSum = 0;\n        int i = 0, j = 0;\n        while (i < fp1.numOfPopulatedbins() || j < fp2.numOfPopulatedbins()) {\n            Integer hash1 = i < fp1.numOfPopulatedbins() ? fp1.getHash(i) : null;\n            Integer hash2 = j < fp2.numOfPopulatedbins() ? fp2.getHash(j) : null;\n            Integer count1 = i < fp1.numOfPopulatedbins() ? fp1.getCount(i) : null;\n            Integer count2 = j < fp2.numOfPopulatedbins() ? fp2.getCount(j) : null;\n\n            if (count2 == null || (hash1 != null && hash1 < hash2)) {\n                maxSum += count1;\n                i++;\n                continue;\n            }\n            if (count1 == null || (hash2 != null && hash1 > hash2)) {\n                maxSum += count2;\n                j++;\n                continue;\n            }\n\n            if (hash1.equals(hash2)) {\n                maxSum += Math.max(count1, count2);\n                minSum += Math.min(count1, count2);\n                i++;\n                j++;\n            }\n        }\n        return ((double) minSum) / maxSum;\n    }", "signature": "double method2(ICountFingerprint fp1, ICountFingerprint fp2)", "full_signature": "public static double method2(ICountFingerprint fp1, ICountFingerprint fp2)", "class_method_signature": "Tanimoto.method2(ICountFingerprint fp1, ICountFingerprint fp2)", "testcase": false, "constructor": false, "invocations": ["numOfPopulatedbins", "numOfPopulatedbins", "numOfPopulatedbins", "getHash", "numOfPopulatedbins", "getHash", "numOfPopulatedbins", "getCount", "numOfPopulatedbins", "getCount", "equals", "max", "min"]}, "repository": {"repo_id": 660443, "url": "https://github.com/cdk/cdk", "stars": 220, "created": "5/11/2010 8:30:07 AM +00:00", "updates": "2020-01-27T19:04:04+00:00", "fork": "False", "license": "licensed"}}