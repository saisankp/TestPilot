{"test_class": {"identifier": "TransformationOperationTest", "superclass": "extends TestHelper", "interfaces": "", "fields": [], "file": "butterfly-extensions-api/src/test/java/com/paypal/butterfly/extensions/api/TransformationOperationTest.java"}, "test_case": {"identifier": "nonexistentReadFileTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void nonexistentReadFileTest() {\n        try {\n            TransformationOperation transformationOperation = getNewTestTransformationOperation().relative(\"foo\");\n            transformationOperation.getOrCreateReadFile(transformedAppFolder, transformationContext);\n            fail(\"transformationOperation.getOrCreateReadFile was supposed to have thrown an exception\");\n        } catch (IOException e) {\n            assertEquals(e.getMessage(), \"Specified file does not exist: \" + new File(transformedAppFolder, \"foo\").getAbsolutePath());\n        }\n    }", "signature": "void nonexistentReadFileTest()", "full_signature": "@Test public void nonexistentReadFileTest()", "class_method_signature": "TransformationOperationTest.nonexistentReadFileTest()", "testcase": true, "constructor": false, "invocations": ["relative", "getNewTestTransformationOperation", "getOrCreateReadFile", "fail", "assertEquals", "getMessage", "getAbsolutePath"]}, "focal_class": {"identifier": "TransformationOperation", "superclass": "extends TransformationUtility<T>", "interfaces": "", "fields": [{"original_string": "private File readFile;", "modifier": "private", "type": "File", "declarator": "readFile", "var_name": "readFile"}, {"original_string": "private static final String READ_FILE_PREFIX = \"butterfly_\";", "modifier": "private static final", "type": "String", "declarator": "READ_FILE_PREFIX = \"butterfly_\"", "var_name": "READ_FILE_PREFIX"}], "methods": [{"identifier": "TransformationOperation", "parameters": "()", "modifiers": "public", "return": "", "signature": " TransformationOperation()", "full_signature": "public  TransformationOperation()", "class_method_signature": "TransformationOperation.TransformationOperation()", "testcase": false, "constructor": true}, {"identifier": "setSaveResult", "parameters": "(boolean saveResult)", "modifiers": "@Override protected final", "return": "T", "signature": "T setSaveResult(boolean saveResult)", "full_signature": "@Override protected final T setSaveResult(boolean saveResult)", "class_method_signature": "TransformationOperation.setSaveResult(boolean saveResult)", "testcase": false, "constructor": false}, {"identifier": "getOrCreateReadFile", "parameters": "(File transformedAppFolder, TransformationContext transformationContext)", "modifiers": "protected final", "return": "File", "signature": "File getOrCreateReadFile(File transformedAppFolder, TransformationContext transformationContext)", "full_signature": "protected final File getOrCreateReadFile(File transformedAppFolder, TransformationContext transformationContext)", "class_method_signature": "TransformationOperation.getOrCreateReadFile(File transformedAppFolder, TransformationContext transformationContext)", "testcase": false, "constructor": false}, {"identifier": "perform", "parameters": "(File transformedAppFolder, TransformationContext transformationContext)", "modifiers": "@Override public final", "return": "PerformResult", "signature": "PerformResult perform(File transformedAppFolder, TransformationContext transformationContext)", "full_signature": "@Override public final PerformResult perform(File transformedAppFolder, TransformationContext transformationContext)", "class_method_signature": "TransformationOperation.perform(File transformedAppFolder, TransformationContext transformationContext)", "testcase": false, "constructor": false}], "file": "butterfly-extensions-api/src/main/java/com/paypal/butterfly/extensions/api/TransformationOperation.java"}, "focal_method": {"identifier": "getOrCreateReadFile", "parameters": "(File transformedAppFolder, TransformationContext transformationContext)", "modifiers": "protected final", "return": "File", "body": "protected final File getOrCreateReadFile(File transformedAppFolder, TransformationContext transformationContext) throws IOException {\n        if (readFile == null) {\n            File originalFile = getAbsoluteFile(transformedAppFolder, transformationContext);\n            if (!originalFile.exists()) {\n                throw new IOException(\"Specified file does not exist: \" + originalFile.getAbsolutePath());\n            }\n            if (originalFile.isDirectory()) {\n                throw new IOException(\"Specified file is a directory: \" + originalFile.getAbsolutePath());\n            }\n            readFile = File.createTempFile(READ_FILE_PREFIX, null);\n            FileUtils.copyFile(originalFile, readFile);\n            readFile.setReadOnly();\n        }\n\n        return readFile;\n    }", "signature": "File getOrCreateReadFile(File transformedAppFolder, TransformationContext transformationContext)", "full_signature": "protected final File getOrCreateReadFile(File transformedAppFolder, TransformationContext transformationContext)", "class_method_signature": "TransformationOperation.getOrCreateReadFile(File transformedAppFolder, TransformationContext transformationContext)", "testcase": false, "constructor": false, "invocations": ["getAbsoluteFile", "exists", "getAbsolutePath", "isDirectory", "getAbsolutePath", "createTempFile", "copyFile", "setReadOnly"]}, "repository": {"repo_id": 104398040, "url": "https://github.com/paypal/butterfly", "language": "Java", "is_fork": false, "fork_count": 42, "stargazer_count": 26, "size": 6906, "license": "licensed"}}