{"test_class": {"identifier": "ServerViewControllerTest", "superclass": "", "interfaces": "", "fields": [], "file": "bft-smart/src/test/java/bftsmart/reconfiguration/ServerViewControllerTest.java"}, "test_case": {"identifier": "testExecuteUpdates", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testExecuteUpdates() {\n\t\tfail(\"Not yet implemented\");\n\t}", "signature": "void testExecuteUpdates()", "full_signature": "@Test public void testExecuteUpdates()", "class_method_signature": "ServerViewControllerTest.testExecuteUpdates()", "testcase": true, "constructor": false, "invocations": ["fail"]}, "focal_class": {"identifier": "ServerViewController", "superclass": "extends ViewController", "interfaces": "", "fields": [{"original_string": "public static final int ADD_SERVER = 0;", "modifier": "public static final", "type": "int", "declarator": "ADD_SERVER = 0", "var_name": "ADD_SERVER"}, {"original_string": "public static final int REMOVE_SERVER = 1;", "modifier": "public static final", "type": "int", "declarator": "REMOVE_SERVER = 1", "var_name": "REMOVE_SERVER"}, {"original_string": "public static final int CHANGE_F = 2;", "modifier": "public static final", "type": "int", "declarator": "CHANGE_F = 2", "var_name": "CHANGE_F"}, {"original_string": "private int quorumBFT;", "modifier": "private", "type": "int", "declarator": "quorumBFT", "var_name": "quorumBFT"}, {"original_string": "private int quorumCFT;", "modifier": "private", "type": "int", "declarator": "quorumCFT", "var_name": "quorumCFT"}, {"original_string": "private int[] otherProcesses;", "modifier": "private", "type": "int[]", "declarator": "otherProcesses", "var_name": "otherProcesses"}, {"original_string": "private int[] lastJoinStet;", "modifier": "private", "type": "int[]", "declarator": "lastJoinStet", "var_name": "lastJoinStet"}, {"original_string": "private List<TOMMessage> updates = new LinkedList<TOMMessage>();", "modifier": "private", "type": "List<TOMMessage>", "declarator": "updates = new LinkedList<TOMMessage>()", "var_name": "updates"}, {"original_string": "private TOMLayer tomLayer;", "modifier": "private", "type": "TOMLayer", "declarator": "tomLayer", "var_name": "tomLayer"}], "methods": [{"identifier": "ServerViewController", "parameters": "(int procId)", "modifiers": "public", "return": "", "signature": " ServerViewController(int procId)", "full_signature": "public  ServerViewController(int procId)", "class_method_signature": "ServerViewController.ServerViewController(int procId)", "testcase": false, "constructor": true}, {"identifier": "ServerViewController", "parameters": "(int procId, String configHome)", "modifiers": "public", "return": "", "signature": " ServerViewController(int procId, String configHome)", "full_signature": "public  ServerViewController(int procId, String configHome)", "class_method_signature": "ServerViewController.ServerViewController(int procId, String configHome)", "testcase": false, "constructor": true}, {"identifier": "getInitAdddresses", "parameters": "()", "modifiers": "private", "return": "InetSocketAddress[]", "signature": "InetSocketAddress[] getInitAdddresses()", "full_signature": "private InetSocketAddress[] getInitAdddresses()", "class_method_signature": "ServerViewController.getInitAdddresses()", "testcase": false, "constructor": false}, {"identifier": "setTomLayer", "parameters": "(TOMLayer tomLayer)", "modifiers": "public", "return": "void", "signature": "void setTomLayer(TOMLayer tomLayer)", "full_signature": "public void setTomLayer(TOMLayer tomLayer)", "class_method_signature": "ServerViewController.setTomLayer(TOMLayer tomLayer)", "testcase": false, "constructor": false}, {"identifier": "isInCurrentView", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isInCurrentView()", "full_signature": "public boolean isInCurrentView()", "class_method_signature": "ServerViewController.isInCurrentView()", "testcase": false, "constructor": false}, {"identifier": "getCurrentViewOtherAcceptors", "parameters": "()", "modifiers": "public", "return": "int[]", "signature": "int[] getCurrentViewOtherAcceptors()", "full_signature": "public int[] getCurrentViewOtherAcceptors()", "class_method_signature": "ServerViewController.getCurrentViewOtherAcceptors()", "testcase": false, "constructor": false}, {"identifier": "getCurrentViewAcceptors", "parameters": "()", "modifiers": "public", "return": "int[]", "signature": "int[] getCurrentViewAcceptors()", "full_signature": "public int[] getCurrentViewAcceptors()", "class_method_signature": "ServerViewController.getCurrentViewAcceptors()", "testcase": false, "constructor": false}, {"identifier": "hasUpdates", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean hasUpdates()", "full_signature": "public boolean hasUpdates()", "class_method_signature": "ServerViewController.hasUpdates()", "testcase": false, "constructor": false}, {"identifier": "enqueueUpdate", "parameters": "(TOMMessage up)", "modifiers": "public", "return": "void", "signature": "void enqueueUpdate(TOMMessage up)", "full_signature": "public void enqueueUpdate(TOMMessage up)", "class_method_signature": "ServerViewController.enqueueUpdate(TOMMessage up)", "testcase": false, "constructor": false}, {"identifier": "executeUpdates", "parameters": "(int cid)", "modifiers": "public", "return": "byte[]", "signature": "byte[] executeUpdates(int cid)", "full_signature": "public byte[] executeUpdates(int cid)", "class_method_signature": "ServerViewController.executeUpdates(int cid)", "testcase": false, "constructor": false}, {"identifier": "contains", "parameters": "(int id, List<Integer> list)", "modifiers": "private", "return": "boolean", "signature": "boolean contains(int id, List<Integer> list)", "full_signature": "private boolean contains(int id, List<Integer> list)", "class_method_signature": "ServerViewController.contains(int id, List<Integer> list)", "testcase": false, "constructor": false}, {"identifier": "reconfigure", "parameters": "(List<String> jSetInfo, List<Integer> jSet, List<Integer> rSet, int f, int cid)", "modifiers": "private", "return": "byte[]", "signature": "byte[] reconfigure(List<String> jSetInfo, List<Integer> jSet, List<Integer> rSet, int f, int cid)", "full_signature": "private byte[] reconfigure(List<String> jSetInfo, List<Integer> jSet, List<Integer> rSet, int f, int cid)", "class_method_signature": "ServerViewController.reconfigure(List<String> jSetInfo, List<Integer> jSet, List<Integer> rSet, int f, int cid)", "testcase": false, "constructor": false}, {"identifier": "clearUpdates", "parameters": "()", "modifiers": "public", "return": "TOMMessage[]", "signature": "TOMMessage[] clearUpdates()", "full_signature": "public TOMMessage[] clearUpdates()", "class_method_signature": "ServerViewController.clearUpdates()", "testcase": false, "constructor": false}, {"identifier": "isInLastJoinSet", "parameters": "(int id)", "modifiers": "public", "return": "boolean", "signature": "boolean isInLastJoinSet(int id)", "full_signature": "public boolean isInLastJoinSet(int id)", "class_method_signature": "ServerViewController.isInLastJoinSet(int id)", "testcase": false, "constructor": false}, {"identifier": "processJoinResult", "parameters": "(ReconfigureReply r)", "modifiers": "public", "return": "void", "signature": "void processJoinResult(ReconfigureReply r)", "full_signature": "public void processJoinResult(ReconfigureReply r)", "class_method_signature": "ServerViewController.processJoinResult(ReconfigureReply r)", "testcase": false, "constructor": false}, {"identifier": "reconfigureTo", "parameters": "(View newView)", "modifiers": "@Override public final", "return": "void", "signature": "void reconfigureTo(View newView)", "full_signature": "@Override public final void reconfigureTo(View newView)", "class_method_signature": "ServerViewController.reconfigureTo(View newView)", "testcase": false, "constructor": false}, {"identifier": "getQuorum", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getQuorum()", "full_signature": "public int getQuorum()", "class_method_signature": "ServerViewController.getQuorum()", "testcase": false, "constructor": false}], "file": "bft-smart/src/main/java/bftsmart/reconfiguration/ServerViewController.java"}, "focal_method": {"identifier": "executeUpdates", "parameters": "(int cid)", "modifiers": "public", "return": "byte[]", "body": "public byte[] executeUpdates(int cid) {\n\n\t\tList<Integer> jSet = new LinkedList<>();\n\t\tList<Integer> rSet = new LinkedList<>();\n\t\tint f = -1;\n\n\t\tList<String> jSetInfo = new LinkedList<>();\n\n\t\tfor (int i = 0; i < updates.size(); i++) {\n\t\t\tReconfigureRequest request = (ReconfigureRequest) TOMUtil.getObject(updates.get(i).getContent());\n\t\t\tIterator<Integer> it = request.getProperties().keySet().iterator();\n\n\t\t\twhile (it.hasNext()) {\n\t\t\t\tint key = it.next();\n\t\t\t\tString value = request.getProperties().get(key);\n\n\t\t\t\tif (key == ADD_SERVER) {\n\t\t\t\t\tStringTokenizer str = new StringTokenizer(value, \":\");\n\t\t\t\t\tif (str.countTokens() > 2) {\n\t\t\t\t\t\tint id = Integer.parseInt(str.nextToken());\n\t\t\t\t\t\tif (!isCurrentViewMember(id) && !contains(id, jSet)) {\n\t\t\t\t\t\t\tjSetInfo.add(value);\n\t\t\t\t\t\t\tjSet.add(id);\n\t\t\t\t\t\t\tString host = str.nextToken();\n\t\t\t\t\t\t\tint port = Integer.valueOf(str.nextToken());\n\t\t\t\t\t\t\tthis.getStaticConf().addHostInfo(id, host, port);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (key == REMOVE_SERVER) {\n\t\t\t\t\tif (isCurrentViewMember(Integer.parseInt(value))) {\n\t\t\t\t\t\trSet.add(Integer.parseInt(value));\n\t\t\t\t\t}\n\t\t\t\t} else if (key == CHANGE_F) {\n\t\t\t\t\tf = Integer.parseInt(value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\t// ret = reconfigure(updates.get(i).getContent());\n\t\treturn reconfigure(jSetInfo, jSet, rSet, f, cid);\n\t}", "signature": "byte[] executeUpdates(int cid)", "full_signature": "public byte[] executeUpdates(int cid)", "class_method_signature": "ServerViewController.executeUpdates(int cid)", "testcase": false, "constructor": false, "invocations": ["size", "getObject", "getContent", "get", "iterator", "keySet", "getProperties", "hasNext", "next", "get", "getProperties", "countTokens", "parseInt", "nextToken", "isCurrentViewMember", "contains", "add", "add", "nextToken", "valueOf", "nextToken", "addHostInfo", "getStaticConf", "isCurrentViewMember", "parseInt", "add", "parseInt", "parseInt", "reconfigure"]}, "repository": {"repo_id": 144309611, "url": "https://github.com/jasonkresch/protect", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 38, "size": 1932, "license": "licensed"}}