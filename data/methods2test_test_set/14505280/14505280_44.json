{"test_class": {"identifier": "RasterDirectLayerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Autowired\n\tprivate RasterLayerFactory layerFactory;", "modifier": "@Autowired\n\tprivate", "type": "RasterLayerFactory", "declarator": "layerFactory", "var_name": "layerFactory"}, {"original_string": "@Autowired\n\t@Qualifier(\"bluemarble\")\n\tprivate RasterLayer layerBluemarble;", "modifier": "@Autowired\n\t@Qualifier(\"bluemarble\")\n\tprivate", "type": "RasterLayer", "declarator": "layerBluemarble", "var_name": "layerBluemarble"}, {"original_string": "private boolean writeImages = false;", "modifier": "private", "type": "boolean", "declarator": "writeImages = false", "var_name": "writeImages"}, {"original_string": "private static final double DELTA = 0.04;", "modifier": "private static final", "type": "double", "declarator": "DELTA = 0.04", "var_name": "DELTA"}, {"original_string": "private static final String IMAGE_CLASS_PATH = \"org/geomajas/plugin/rasterizing/images/rasterlayer\";", "modifier": "private static final", "type": "String", "declarator": "IMAGE_CLASS_PATH = \"org/geomajas/plugin/rasterizing/images/rasterlayer\"", "var_name": "IMAGE_CLASS_PATH"}, {"original_string": "@Autowired\n\tprivate SecurityManager securityManager;", "modifier": "@Autowired\n\tprivate", "type": "SecurityManager", "declarator": "securityManager", "var_name": "securityManager"}], "file": "plugin/rasterizing/rasterizing/src/test/java/org/geomajas/plugin/rasterizing/layer/RasterDirectLayerTest.java"}, "test_case": {"identifier": "testWMS", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testWMS() throws Exception {\n\t\tClientRasterLayerInfo cl1 = new ClientRasterLayerInfo();\n\t\tcl1.setServerLayerId(layerBluemarble.getId());\n\t\tRasterLayerRasterizingInfo rr1 = new RasterLayerRasterizingInfo();\n\t\trr1.setCssStyle(\"opacity:0.75\");\n\t\tcl1.getWidgetInfo().put(RasterLayerRasterizingInfo.WIDGET_KEY, rr1);\n\n\t\tDefaultMapContext mapContext = new DefaultMapContext();\n\t\tmapContext.setCoordinateReferenceSystem(layerBluemarble.getCrs());\n\t\tmapContext.getViewport().setCoordinateReferenceSystem(mapContext.getCoordinateReferenceSystem());\n\t\tmapContext.getViewport().setScreenArea(new Rectangle(1024, 512));\n\t\tmapContext.getViewport().setBounds(new ReferencedEnvelope(-180, 180, -90, 90, layerBluemarble.getCrs()));\n\t\tRasterDirectLayer layer = (RasterDirectLayer) layerFactory.createLayer(mapContext, cl1);\n\t\tnew DirectLayerAssert(layer, mapContext).assertEqualImage(\"wms.png\", writeImages, DELTA);\n\t\tmapContext.dispose();\n\t}", "signature": "void testWMS()", "full_signature": "@Test public void testWMS()", "class_method_signature": "RasterDirectLayerTest.testWMS()", "testcase": true, "constructor": false, "invocations": ["setServerLayerId", "getId", "setCssStyle", "put", "getWidgetInfo", "setCoordinateReferenceSystem", "getCrs", "setCoordinateReferenceSystem", "getViewport", "getCoordinateReferenceSystem", "setScreenArea", "getViewport", "setBounds", "getViewport", "getCrs", "createLayer", "assertEqualImage", "dispose"]}, "focal_class": {"identifier": "RasterDirectLayer", "superclass": "extends DirectLayer", "interfaces": "", "fields": [{"original_string": "protected static final int DOWNLOAD_MAX_ATTEMPTS = 2;", "modifier": "protected static final", "type": "int", "declarator": "DOWNLOAD_MAX_ATTEMPTS = 2", "var_name": "DOWNLOAD_MAX_ATTEMPTS"}, {"original_string": "protected static final int DOWNLOAD_MAX_THREADS = 5;", "modifier": "protected static final", "type": "int", "declarator": "DOWNLOAD_MAX_THREADS = 5", "var_name": "DOWNLOAD_MAX_THREADS"}, {"original_string": "protected static final long DOWNLOAD_TIMEOUT = 120000;", "modifier": "protected static final", "type": "long", "declarator": "DOWNLOAD_TIMEOUT = 120000", "var_name": "DOWNLOAD_TIMEOUT"}, {"original_string": "protected static final long DOWNLOAD_TIMEOUT_ONE_TILE = 100;", "modifier": "protected static final", "type": "long", "declarator": "DOWNLOAD_TIMEOUT_ONE_TILE = 100", "var_name": "DOWNLOAD_TIMEOUT_ONE_TILE"}, {"original_string": "protected static final int RETRY_WAIT = 100;", "modifier": "protected static final", "type": "int", "declarator": "RETRY_WAIT = 100", "var_name": "RETRY_WAIT"}, {"original_string": "private static final String BUNDLE_NAME = \"org/geomajas/plugin/rasterizing/rasterizing\";", "modifier": "private static final", "type": "String", "declarator": "BUNDLE_NAME = \"org/geomajas/plugin/rasterizing/rasterizing\"", "var_name": "BUNDLE_NAME"}, {"original_string": "private static final String MISSING_TILE_IN_MOSAIC = \"missing tile in mosaic \";", "modifier": "private static final", "type": "String", "declarator": "MISSING_TILE_IN_MOSAIC = \"missing tile in mosaic \"", "var_name": "MISSING_TILE_IN_MOSAIC"}, {"original_string": "private static final String OPACITY = \"opacity:\";", "modifier": "private static final", "type": "String", "declarator": "OPACITY = \"opacity:\"", "var_name": "OPACITY"}, {"original_string": "private static final int DEFAULT_IMAGE_BUFFER_SIZE = 1024;", "modifier": "private static final", "type": "int", "declarator": "DEFAULT_IMAGE_BUFFER_SIZE = 1024", "var_name": "DEFAULT_IMAGE_BUFFER_SIZE"}, {"original_string": "private static ExecutorService staticPool;", "modifier": "private static", "type": "ExecutorService", "declarator": "staticPool", "var_name": "staticPool"}, {"original_string": "private final List<RasterTile> tiles;", "modifier": "private final", "type": "List<RasterTile>", "declarator": "tiles", "var_name": "tiles"}, {"original_string": "private final ResourceBundle resourceBundle = ResourceBundle.getBundle(BUNDLE_NAME);", "modifier": "private final", "type": "ResourceBundle", "declarator": "resourceBundle = ResourceBundle.getBundle(BUNDLE_NAME)", "var_name": "resourceBundle"}, {"original_string": "private final Logger log = LoggerFactory.getLogger(RasterDirectLayer.class);", "modifier": "private final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(RasterDirectLayer.class)", "var_name": "log"}, {"original_string": "private final int tileWidth;", "modifier": "private final", "type": "int", "declarator": "tileWidth", "var_name": "tileWidth"}, {"original_string": "private final int tileHeight;", "modifier": "private final", "type": "int", "declarator": "tileHeight", "var_name": "tileHeight"}, {"original_string": "private final String style;", "modifier": "private final", "type": "String", "declarator": "style", "var_name": "style"}, {"original_string": "private double tileScale = -1;", "modifier": "private", "type": "double", "declarator": "tileScale = -1", "var_name": "tileScale"}, {"original_string": "private UrlDownLoader urlDownLoader;", "modifier": "private", "type": "UrlDownLoader", "declarator": "urlDownLoader", "var_name": "urlDownLoader"}, {"original_string": "private ExecutorService imageThreadPool;", "modifier": "private", "type": "ExecutorService", "declarator": "imageThreadPool", "var_name": "imageThreadPool"}], "methods": [{"identifier": "RasterDirectLayer", "parameters": "(UrlDownLoader urlDownLoader, List<RasterTile> tiles, int tileWidth, int tileHeight,\n\t\t\tString style)", "modifiers": "@Deprecated public", "return": "", "signature": " RasterDirectLayer(UrlDownLoader urlDownLoader, List<RasterTile> tiles, int tileWidth, int tileHeight,\n\t\t\tString style)", "full_signature": "@Deprecated public  RasterDirectLayer(UrlDownLoader urlDownLoader, List<RasterTile> tiles, int tileWidth, int tileHeight,\n\t\t\tString style)", "class_method_signature": "RasterDirectLayer.RasterDirectLayer(UrlDownLoader urlDownLoader, List<RasterTile> tiles, int tileWidth, int tileHeight,\n\t\t\tString style)", "testcase": false, "constructor": true}, {"identifier": "RasterDirectLayer", "parameters": "(UrlDownLoader urlDownLoader, List<RasterTile> tiles, int tileWidth, int tileHeight,\n\t\t\tdouble tileScale, String style)", "modifiers": "@Deprecated public", "return": "", "signature": " RasterDirectLayer(UrlDownLoader urlDownLoader, List<RasterTile> tiles, int tileWidth, int tileHeight,\n\t\t\tdouble tileScale, String style)", "full_signature": "@Deprecated public  RasterDirectLayer(UrlDownLoader urlDownLoader, List<RasterTile> tiles, int tileWidth, int tileHeight,\n\t\t\tdouble tileScale, String style)", "class_method_signature": "RasterDirectLayer.RasterDirectLayer(UrlDownLoader urlDownLoader, List<RasterTile> tiles, int tileWidth, int tileHeight,\n\t\t\tdouble tileScale, String style)", "testcase": false, "constructor": true}, {"identifier": "RasterDirectLayer", "parameters": "(ExecutorService imageThreadPool, UrlDownLoader urlDownLoader, List<RasterTile> tiles,\n\t\t\tint tileWidth, int tileHeight, String style)", "modifiers": "public", "return": "", "signature": " RasterDirectLayer(ExecutorService imageThreadPool, UrlDownLoader urlDownLoader, List<RasterTile> tiles,\n\t\t\tint tileWidth, int tileHeight, String style)", "full_signature": "public  RasterDirectLayer(ExecutorService imageThreadPool, UrlDownLoader urlDownLoader, List<RasterTile> tiles,\n\t\t\tint tileWidth, int tileHeight, String style)", "class_method_signature": "RasterDirectLayer.RasterDirectLayer(ExecutorService imageThreadPool, UrlDownLoader urlDownLoader, List<RasterTile> tiles,\n\t\t\tint tileWidth, int tileHeight, String style)", "testcase": false, "constructor": true}, {"identifier": "RasterDirectLayer", "parameters": "(ExecutorService imageThreadPool, UrlDownLoader urlDownLoader, List<RasterTile> tiles,\n\t\t\tint tileWidth, int tileHeight, double tileScale, String style)", "modifiers": "public", "return": "", "signature": " RasterDirectLayer(ExecutorService imageThreadPool, UrlDownLoader urlDownLoader, List<RasterTile> tiles,\n\t\t\tint tileWidth, int tileHeight, double tileScale, String style)", "full_signature": "public  RasterDirectLayer(ExecutorService imageThreadPool, UrlDownLoader urlDownLoader, List<RasterTile> tiles,\n\t\t\tint tileWidth, int tileHeight, double tileScale, String style)", "class_method_signature": "RasterDirectLayer.RasterDirectLayer(ExecutorService imageThreadPool, UrlDownLoader urlDownLoader, List<RasterTile> tiles,\n\t\t\tint tileWidth, int tileHeight, double tileScale, String style)", "testcase": false, "constructor": true}, {"identifier": "draw", "parameters": "(Graphics2D graphics, MapContent map, MapViewport viewport)", "modifiers": "@Override public", "return": "void", "signature": "void draw(Graphics2D graphics, MapContent map, MapViewport viewport)", "full_signature": "@Override public void draw(Graphics2D graphics, MapContent map, MapViewport viewport)", "class_method_signature": "RasterDirectLayer.draw(Graphics2D graphics, MapContent map, MapViewport viewport)", "testcase": false, "constructor": false}, {"identifier": "addImage", "parameters": "(Graphics2D graphics, ImageResult imageResult, MapViewport viewport)", "modifiers": "protected", "return": "void", "signature": "void addImage(Graphics2D graphics, ImageResult imageResult, MapViewport viewport)", "full_signature": "protected void addImage(Graphics2D graphics, ImageResult imageResult, MapViewport viewport)", "class_method_signature": "RasterDirectLayer.addImage(Graphics2D graphics, ImageResult imageResult, MapViewport viewport)", "testcase": false, "constructor": false}, {"identifier": "makeOpaque", "parameters": "(BufferedImage image)", "modifiers": "private", "return": "BufferedImage", "signature": "BufferedImage makeOpaque(BufferedImage image)", "full_signature": "private BufferedImage makeOpaque(BufferedImage image)", "class_method_signature": "RasterDirectLayer.makeOpaque(BufferedImage image)", "testcase": false, "constructor": false}, {"identifier": "getOpacity", "parameters": "()", "modifiers": "private", "return": "float", "signature": "float getOpacity()", "full_signature": "private float getOpacity()", "class_method_signature": "RasterDirectLayer.getOpacity()", "testcase": false, "constructor": false}, {"identifier": "addLoadError", "parameters": "(Graphics2D graphics, ImageException imageResult, MapViewport viewport)", "modifiers": "protected", "return": "void", "signature": "void addLoadError(Graphics2D graphics, ImageException imageResult, MapViewport viewport)", "full_signature": "protected void addLoadError(Graphics2D graphics, ImageException imageResult, MapViewport viewport)", "class_method_signature": "RasterDirectLayer.addLoadError(Graphics2D graphics, ImageException imageResult, MapViewport viewport)", "testcase": false, "constructor": false}, {"identifier": "getBounds", "parameters": "()", "modifiers": "@Override public", "return": "ReferencedEnvelope", "signature": "ReferencedEnvelope getBounds()", "full_signature": "@Override public ReferencedEnvelope getBounds()", "class_method_signature": "RasterDirectLayer.getBounds()", "testcase": false, "constructor": false}, {"identifier": "isYIndexUp", "parameters": "(List<RasterTile> tiles)", "modifiers": "private", "return": "boolean", "signature": "boolean isYIndexUp(List<RasterTile> tiles)", "full_signature": "private boolean isYIndexUp(List<RasterTile> tiles)", "class_method_signature": "RasterDirectLayer.isYIndexUp(List<RasterTile> tiles)", "testcase": false, "constructor": false}, {"identifier": "getPixelBounds", "parameters": "(List<RasterTile> tiles)", "modifiers": "private", "return": "Bbox", "signature": "Bbox getPixelBounds(List<RasterTile> tiles)", "full_signature": "private Bbox getPixelBounds(List<RasterTile> tiles)", "class_method_signature": "RasterDirectLayer.getPixelBounds(List<RasterTile> tiles)", "testcase": false, "constructor": false}, {"identifier": "getWorldBounds", "parameters": "(List<RasterTile> tiles)", "modifiers": "private", "return": "Bbox", "signature": "Bbox getWorldBounds(List<RasterTile> tiles)", "full_signature": "private Bbox getWorldBounds(List<RasterTile> tiles)", "class_method_signature": "RasterDirectLayer.getWorldBounds(List<RasterTile> tiles)", "testcase": false, "constructor": false}, {"identifier": "getNlsString", "parameters": "(String key)", "modifiers": "public", "return": "String", "signature": "String getNlsString(String key)", "full_signature": "public String getNlsString(String key)", "class_method_signature": "RasterDirectLayer.getNlsString(String key)", "testcase": false, "constructor": false}, {"identifier": "toDirectColorModel", "parameters": "(RenderedImage img)", "modifiers": "public", "return": "PlanarImage", "signature": "PlanarImage toDirectColorModel(RenderedImage img)", "full_signature": "public PlanarImage toDirectColorModel(RenderedImage img)", "class_method_signature": "RasterDirectLayer.toDirectColorModel(RenderedImage img)", "testcase": false, "constructor": false}, {"identifier": "dispose", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void dispose()", "full_signature": "@Override public void dispose()", "class_method_signature": "RasterDirectLayer.dispose()", "testcase": false, "constructor": false}, {"identifier": "getStaticPool", "parameters": "()", "modifiers": "private static", "return": "ExecutorService", "signature": "ExecutorService getStaticPool()", "full_signature": "private static ExecutorService getStaticPool()", "class_method_signature": "RasterDirectLayer.getStaticPool()", "testcase": false, "constructor": false}], "file": "plugin/rasterizing/rasterizing/src/main/java/org/geomajas/plugin/rasterizing/layer/RasterDirectLayer.java"}, "focal_method": {"identifier": "dispose", "parameters": "()", "modifiers": "@Override public", "return": "void", "body": "@Override\n\tpublic void dispose() {\n\t\tpreDispose();\n\t\tsuper.dispose();\n\t}", "signature": "void dispose()", "full_signature": "@Override public void dispose()", "class_method_signature": "RasterDirectLayer.dispose()", "testcase": false, "constructor": false, "invocations": ["preDispose", "dispose"]}, "repository": {"repo_id": 14505280, "url": "https://github.com/geomajas/geomajas-project-server", "language": "Java", "is_fork": false, "fork_count": 15, "stargazer_count": 13, "size": 124882, "license": "licensed"}}