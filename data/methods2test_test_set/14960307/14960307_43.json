{"test_class": {"identifier": "MobileTextUtilTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger logger = LoggerFactory.getLogger(MobileTextUtilTest.class);", "modifier": "private static final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(MobileTextUtilTest.class)", "var_name": "logger"}], "file": "ch-commons-charset/src/test/java/com/cloudhopper/commons/charset/MobileTextUtilTest.java"}, "test_case": {"identifier": "replaceSafeUnicodeChars", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void replaceSafeUnicodeChars() throws Exception {\n        String source = null;\n        StringBuilder buffer = null;\n        int replaced = -1;\n\n        source = \"hello\";\n        buffer = new StringBuilder(source);\n        replaced = MobileTextUtil.replaceSafeUnicodeChars(buffer);\n        Assert.assertEquals(0, replaced);\n        Assert.assertEquals(source, buffer.toString());\n\n\n        source = \"\\u201chello\\u201d \\u201cworld\\u201d \\u201cthis\\u201d\";\n        buffer = new StringBuilder(source);\n        replaced = MobileTextUtil.replaceSafeUnicodeChars(buffer);\n        Assert.assertEquals(6, replaced);\n        Assert.assertEquals(\"\\\"hello\\\" \\\"world\\\" \\\"this\\\"\", buffer.toString());\n\n\n        source = \"\\u201chello\\u201d \\u201cworld\\u201d \\u201cthis\\u201d\";\n        buffer = new StringBuilder(source);\n        replaced = MobileTextUtil.replaceSafeUnicodeChars(buffer);\n        Assert.assertEquals(6, replaced);\n        Assert.assertEquals(\"\\\"hello\\\" \\\"world\\\" \\\"this\\\"\", buffer.toString());\n\n\n        source = \"\\u2018hello\\u2019 \\u2018world\\u2019 don\\u2019t\";\n        buffer = new StringBuilder(source);\n        replaced = MobileTextUtil.replaceSafeUnicodeChars(buffer);\n        Assert.assertEquals(5, replaced);\n        Assert.assertEquals(\"\\'hello\\' \\'world\\' don\\'t\", buffer.toString());\n    }", "signature": "void replaceSafeUnicodeChars()", "full_signature": "@Test public void replaceSafeUnicodeChars()", "class_method_signature": "MobileTextUtilTest.replaceSafeUnicodeChars()", "testcase": true, "constructor": false, "invocations": ["replaceSafeUnicodeChars", "assertEquals", "assertEquals", "toString", "replaceSafeUnicodeChars", "assertEquals", "assertEquals", "toString", "replaceSafeUnicodeChars", "assertEquals", "assertEquals", "toString", "replaceSafeUnicodeChars", "assertEquals", "assertEquals", "toString"]}, "focal_class": {"identifier": "MobileTextUtil", "superclass": "", "interfaces": "", "fields": [{"original_string": "static public final char[][] CHAR_TABLE = {\n        { '\\u2013', '-' },\n        { '\\u2014', '-' },\n        { '\\u2018', '\\'' },\n        { '\\u2019', '\\'' },\n        { '\\u201A', '\\'' },\n        { '\\u201B', '\\'' }, // U+201B \u201b\u200b single high-reversed-9 quotation mark (HTML: &#8219; ), also called single reversed comma, quotation mark \n        { '\\u201C', '\"' },\n        { '\\u201D', '\"' },\n        { '\\u201E', '\"' },\n        { '\\u201F', '\"' }, // U+201F \u201f\u200b double high-reversed-9 quotation mark (HTML: &#8223; ), also called double reversed comma, quotation mark\n        { '\\u2020', '+' },\n        { '\\u2022', '.' },\n        { '\\u2026', '.' }, // actually \"...\", but just replacing with \".\"\n        { '\\u2039', '<' },\n        { '\\u203A', '>' },\n        /** deprecated at recommendation by Turkcell - these replacements changed meaning too much */\n        //{ '\\u0131', '1' }, // U+0131 is a lower case letter dotless i (\u0131)\n        //{ '\\u0130', 'i' }, // U+0130 (\u0130) is capital i with dot\n    };", "modifier": "static public final", "type": "char[][]", "declarator": "CHAR_TABLE = {\n        { '\\u2013', '-' },\n        { '\\u2014', '-' },\n        { '\\u2018', '\\'' },\n        { '\\u2019', '\\'' },\n        { '\\u201A', '\\'' },\n        { '\\u201B', '\\'' }, // U+201B \u201b\u200b single high-reversed-9 quotation mark (HTML: &#8219; ), also called single reversed comma, quotation mark \n        { '\\u201C', '\"' },\n        { '\\u201D', '\"' },\n        { '\\u201E', '\"' },\n        { '\\u201F', '\"' }, // U+201F \u201f\u200b double high-reversed-9 quotation mark (HTML: &#8223; ), also called double reversed comma, quotation mark\n        { '\\u2020', '+' },\n        { '\\u2022', '.' },\n        { '\\u2026', '.' }, // actually \"...\", but just replacing with \".\"\n        { '\\u2039', '<' },\n        { '\\u203A', '>' },\n        /** deprecated at recommendation by Turkcell - these replacements changed meaning too much */\n        //{ '\\u0131', '1' }, // U+0131 is a lower case letter dotless i (\u0131)\n        //{ '\\u0130', 'i' }, // U+0130 (\u0130) is capital i with dot\n    }", "var_name": "CHAR_TABLE"}], "methods": [{"identifier": "replaceSafeUnicodeChars", "parameters": "(StringBuilder buffer)", "modifiers": "static public", "return": "int", "signature": "int replaceSafeUnicodeChars(StringBuilder buffer)", "full_signature": "static public int replaceSafeUnicodeChars(StringBuilder buffer)", "class_method_signature": "MobileTextUtil.replaceSafeUnicodeChars(StringBuilder buffer)", "testcase": false, "constructor": false}, {"identifier": "replaceAccentedChars", "parameters": "(StringBuilder buffer)", "modifiers": "public static", "return": "int", "signature": "int replaceAccentedChars(StringBuilder buffer)", "full_signature": "public static int replaceAccentedChars(StringBuilder buffer)", "class_method_signature": "MobileTextUtil.replaceAccentedChars(StringBuilder buffer)", "testcase": false, "constructor": false}], "file": "ch-commons-charset/src/main/java/com/cloudhopper/commons/charset/MobileTextUtil.java"}, "focal_method": {"identifier": "replaceSafeUnicodeChars", "parameters": "(StringBuilder buffer)", "modifiers": "static public", "return": "int", "body": "static public int replaceSafeUnicodeChars(StringBuilder buffer) {\n        int replaced = 0;\n        for (int i = 0; i < buffer.length(); i++) {\n            char c = buffer.charAt(i);\n            for (int j = 0; j < CHAR_TABLE.length; j++) {\n                if (c == CHAR_TABLE[j][0]) {\n                    replaced++;\n                    buffer.setCharAt(i, CHAR_TABLE[j][1]);\n                }\n            }\n        }\n        return replaced;\n    }", "signature": "int replaceSafeUnicodeChars(StringBuilder buffer)", "full_signature": "static public int replaceSafeUnicodeChars(StringBuilder buffer)", "class_method_signature": "MobileTextUtil.replaceSafeUnicodeChars(StringBuilder buffer)", "testcase": false, "constructor": false, "invocations": ["length", "charAt", "setCharAt"]}, "repository": {"repo_id": 14960307, "url": "https://github.com/twitter/cloudhopper-commons", "language": "Java", "is_fork": false, "fork_count": 40, "stargazer_count": 36, "size": 6452, "license": "licensed"}}