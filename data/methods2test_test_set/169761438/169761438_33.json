{"test_class": {"identifier": "VenRequestCountServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Resource\n    private VenRequestCountService venRequestCountService;", "modifier": "@Resource\n    private", "type": "VenRequestCountService", "declarator": "venRequestCountService", "var_name": "venRequestCountService"}], "file": "OpenADRServerVTNCommon/src/test/java/com/avob/openadr/server/common/vtn/service/VenRequestCountServiceTest.java"}, "test_case": {"identifier": "getAndIncreaseTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getAndIncreaseTest() {\n        String venId = \"ven1\";\n        Long andIncrease = venRequestCountService.getAndIncrease(venId);\n        assertEquals(new Long(0), andIncrease);\n        andIncrease = venRequestCountService.getAndIncrease(venId);\n        assertEquals(new Long(1), andIncrease);\n        andIncrease = venRequestCountService.getAndIncrease(venId);\n        assertEquals(new Long(2), andIncrease);\n\n    }", "signature": "void getAndIncreaseTest()", "full_signature": "@Test public void getAndIncreaseTest()", "class_method_signature": "VenRequestCountServiceTest.getAndIncreaseTest()", "testcase": true, "constructor": false, "invocations": ["getAndIncrease", "assertEquals", "getAndIncrease", "assertEquals", "getAndIncrease", "assertEquals"]}, "focal_class": {"identifier": "VenRequestCountService", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Resource\n    private VenRequestCountDao dao;", "modifier": "@Resource\n    private", "type": "VenRequestCountDao", "declarator": "dao", "var_name": "dao"}], "methods": [{"identifier": "getAndIncrease", "parameters": "(String venId)", "modifiers": "@Transactional public", "return": "Long", "signature": "Long getAndIncrease(String venId)", "full_signature": "@Transactional public Long getAndIncrease(String venId)", "class_method_signature": "VenRequestCountService.getAndIncrease(String venId)", "testcase": false, "constructor": false}], "file": "OpenADRServerVTNCommon/src/main/java/com/avob/openadr/server/common/vtn/service/VenRequestCountService.java"}, "focal_method": {"identifier": "getAndIncrease", "parameters": "(String venId)", "modifiers": "@Transactional public", "return": "Long", "body": "@Transactional\n    public Long getAndIncrease(String venId) {\n        VenRequestCount findOneAndLock = dao.findOneAndLock(venId);\n        long count = 0L;\n        if (findOneAndLock == null) {\n            findOneAndLock = new VenRequestCount(venId);\n        } else {\n            count = findOneAndLock.getRequestCount();\n        }\n        findOneAndLock.setRequestCount(count + 1);\n        dao.save(findOneAndLock);\n        return count;\n    }", "signature": "Long getAndIncrease(String venId)", "full_signature": "@Transactional public Long getAndIncrease(String venId)", "class_method_signature": "VenRequestCountService.getAndIncrease(String venId)", "testcase": false, "constructor": false, "invocations": ["findOneAndLock", "getRequestCount", "setRequestCount", "save"]}, "repository": {"repo_id": 169761438, "url": "https://github.com/avob/OpenADR", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 8, "size": 55915, "license": "licensed"}}