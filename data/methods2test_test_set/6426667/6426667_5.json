{"test_class": {"identifier": "PrintStreamMessageLoggerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final int TIMEOUT = 1000;", "modifier": "private static final", "type": "int", "declarator": "TIMEOUT = 1000", "var_name": "TIMEOUT"}, {"original_string": "private final ByteArrayOutputStream output = new ByteArrayOutputStream();", "modifier": "private final", "type": "ByteArrayOutputStream", "declarator": "output = new ByteArrayOutputStream()", "var_name": "output"}, {"original_string": "private final PrintStreamMessageLogger logger = new PrintStreamMessageLogger(new PrintStream(output));", "modifier": "private final", "type": "PrintStreamMessageLogger", "declarator": "logger = new PrintStreamMessageLogger(new PrintStream(output))", "var_name": "logger"}], "file": "jumi-actors/src/test/java/fi/jumi/actors/listeners/PrintStreamMessageLoggerTest.java"}, "test_case": {"identifier": "timestamps_are_shown_as_seconds_since_start_with_microsecond_precision", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void timestamps_are_shown_as_seconds_since_start_with_microsecond_precision() {\n        final Queue<Long> fakeNanoTime = new LinkedList<>();\n        fakeNanoTime.add(1000000L);\n        fakeNanoTime.add(1234567L);\n        PrintStreamMessageLogger logger = new PrintStreamMessageLogger(new PrintStream(output)) {\n            @Override\n            protected long nanoTime() {\n                return fakeNanoTime.poll();\n            }\n        };\n\n        logger.onMessageSent(\"message1\");\n\n        assertThat(output.toString(), containsString(\"[   0.000235]\"));\n    }", "signature": "void timestamps_are_shown_as_seconds_since_start_with_microsecond_precision()", "full_signature": "@Test public void timestamps_are_shown_as_seconds_since_start_with_microsecond_precision()", "class_method_signature": "PrintStreamMessageLoggerTest.timestamps_are_shown_as_seconds_since_start_with_microsecond_precision()", "testcase": true, "constructor": false, "invocations": ["add", "add", "poll", "onMessageSent", "assertThat", "toString", "containsString"]}, "focal_class": {"identifier": "PrintStreamMessageLogger", "superclass": "", "interfaces": "implements MessageListener", "fields": [{"original_string": "private static final String OUTGOING_MESSAGE = \"->\";", "modifier": "private static final", "type": "String", "declarator": "OUTGOING_MESSAGE = \"->\"", "var_name": "OUTGOING_MESSAGE"}, {"original_string": "private static final String INCOMING_MESSAGE = \"<-\";", "modifier": "private static final", "type": "String", "declarator": "INCOMING_MESSAGE = \"<-\"", "var_name": "INCOMING_MESSAGE"}, {"original_string": "private final PrintStream out;", "modifier": "private final", "type": "PrintStream", "declarator": "out", "var_name": "out"}, {"original_string": "private final ThreadLocal<Object> currentActor = new ThreadLocal<>();", "modifier": "private final", "type": "ThreadLocal<Object>", "declarator": "currentActor = new ThreadLocal<>()", "var_name": "currentActor"}, {"original_string": "private final long startTime;", "modifier": "private final", "type": "long", "declarator": "startTime", "var_name": "startTime"}], "methods": [{"identifier": "PrintStreamMessageLogger", "parameters": "(PrintStream out)", "modifiers": "public", "return": "", "signature": " PrintStreamMessageLogger(PrintStream out)", "full_signature": "public  PrintStreamMessageLogger(PrintStream out)", "class_method_signature": "PrintStreamMessageLogger.PrintStreamMessageLogger(PrintStream out)", "testcase": false, "constructor": true}, {"identifier": "onMessageSent", "parameters": "(Object message)", "modifiers": "@Override public", "return": "void", "signature": "void onMessageSent(Object message)", "full_signature": "@Override public void onMessageSent(Object message)", "class_method_signature": "PrintStreamMessageLogger.onMessageSent(Object message)", "testcase": false, "constructor": false}, {"identifier": "onProcessingStarted", "parameters": "(Object actor, Object message)", "modifiers": "@Override public", "return": "void", "signature": "void onProcessingStarted(Object actor, Object message)", "full_signature": "@Override public void onProcessingStarted(Object actor, Object message)", "class_method_signature": "PrintStreamMessageLogger.onProcessingStarted(Object actor, Object message)", "testcase": false, "constructor": false}, {"identifier": "logMessage", "parameters": "(String messageDirection, Object message)", "modifiers": "private", "return": "void", "signature": "void logMessage(String messageDirection, Object message)", "full_signature": "private void logMessage(String messageDirection, Object message)", "class_method_signature": "PrintStreamMessageLogger.logMessage(String messageDirection, Object message)", "testcase": false, "constructor": false}, {"identifier": "secondsSinceStart", "parameters": "()", "modifiers": "private", "return": "double", "signature": "double secondsSinceStart()", "full_signature": "private double secondsSinceStart()", "class_method_signature": "PrintStreamMessageLogger.secondsSinceStart()", "testcase": false, "constructor": false}, {"identifier": "nanoTime", "parameters": "()", "modifiers": "protected", "return": "long", "signature": "long nanoTime()", "full_signature": "protected long nanoTime()", "class_method_signature": "PrintStreamMessageLogger.nanoTime()", "testcase": false, "constructor": false}, {"identifier": "currentActorFormatted", "parameters": "()", "modifiers": "private", "return": "String", "signature": "String currentActorFormatted()", "full_signature": "private String currentActorFormatted()", "class_method_signature": "PrintStreamMessageLogger.currentActorFormatted()", "testcase": false, "constructor": false}, {"identifier": "onProcessingFinished", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void onProcessingFinished()", "full_signature": "@Override public void onProcessingFinished()", "class_method_signature": "PrintStreamMessageLogger.onProcessingFinished()", "testcase": false, "constructor": false}, {"identifier": "getListenedExecutor", "parameters": "(Executor realExecutor)", "modifiers": "@Override public", "return": "Executor", "signature": "Executor getListenedExecutor(Executor realExecutor)", "full_signature": "@Override public Executor getListenedExecutor(Executor realExecutor)", "class_method_signature": "PrintStreamMessageLogger.getListenedExecutor(Executor realExecutor)", "testcase": false, "constructor": false}], "file": "jumi-actors/src/main/java/fi/jumi/actors/listeners/PrintStreamMessageLogger.java"}, "focal_method": {"identifier": "onMessageSent", "parameters": "(Object message)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void onMessageSent(Object message) {\n        logMessage(OUTGOING_MESSAGE, message);\n    }", "signature": "void onMessageSent(Object message)", "full_signature": "@Override public void onMessageSent(Object message)", "class_method_signature": "PrintStreamMessageLogger.onMessageSent(Object message)", "testcase": false, "constructor": false, "invocations": ["logMessage"]}, "repository": {"repo_id": 6426667, "url": "https://github.com/luontola/jumi-actors", "language": "Java", "is_fork": false, "fork_count": 15, "stargazer_count": 78, "size": 2989, "license": "licensed"}}