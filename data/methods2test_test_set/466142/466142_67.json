{"test_class": {"identifier": "TestConnectionPartition", "superclass": "", "interfaces": "", "fields": [{"original_string": "private BoneCP mockPool = createNiceMock(BoneCP.class);", "modifier": "private", "type": "BoneCP", "declarator": "mockPool = createNiceMock(BoneCP.class)", "var_name": "mockPool"}, {"original_string": "private Logger mockLogger;", "modifier": "private", "type": "Logger", "declarator": "mockLogger", "var_name": "mockLogger"}, {"original_string": "private BoneCPConfig mockConfig;", "modifier": "private", "type": "BoneCPConfig", "declarator": "mockConfig", "var_name": "mockConfig"}, {"original_string": "private ConnectionPartition testClass;", "modifier": "private", "type": "ConnectionPartition", "declarator": "testClass", "var_name": "testClass"}], "file": "bonecp/src/test/java/com/jolbox/bonecp/TestConnectionPartition.java"}, "test_case": {"identifier": "testUpdateCreatedConnections", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testUpdateCreatedConnections() throws SecurityException, NoSuchFieldException, IllegalArgumentException, IllegalAccessException {\n\t\tint count = testClass.getCreatedConnections();\n\t\ttestClass.updateCreatedConnections(5);\n\t\tassertEquals(count+5, testClass.getCreatedConnections());\n\t}", "signature": "void testUpdateCreatedConnections()", "full_signature": "@Test public void testUpdateCreatedConnections()", "class_method_signature": "TestConnectionPartition.testUpdateCreatedConnections()", "testcase": true, "constructor": false, "invocations": ["getCreatedConnections", "updateCreatedConnections", "assertEquals", "getCreatedConnections"]}, "focal_class": {"identifier": "ConnectionPartition", "superclass": "", "interfaces": "implements Serializable", "fields": [{"original_string": "private static final long serialVersionUID = -7864443421028454573L;", "modifier": "private static final", "type": "long", "declarator": "serialVersionUID = -7864443421028454573L", "var_name": "serialVersionUID"}, {"original_string": "private static final Logger logger = LoggerFactory.getLogger(ConnectionPartition.class);", "modifier": "private static final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(ConnectionPartition.class)", "var_name": "logger"}, {"original_string": "private BlockingQueue<ConnectionHandle> freeConnections;", "modifier": "private", "type": "BlockingQueue<ConnectionHandle>", "declarator": "freeConnections", "var_name": "freeConnections"}, {"original_string": "private final int acquireIncrement;", "modifier": "private final", "type": "int", "declarator": "acquireIncrement", "var_name": "acquireIncrement"}, {"original_string": "private final int minConnections;", "modifier": "private final", "type": "int", "declarator": "minConnections", "var_name": "minConnections"}, {"original_string": "private final int maxConnections;", "modifier": "private final", "type": "int", "declarator": "maxConnections", "var_name": "maxConnections"}, {"original_string": "protected ReentrantReadWriteLock statsLock = new ReentrantReadWriteLock();", "modifier": "protected", "type": "ReentrantReadWriteLock", "declarator": "statsLock = new ReentrantReadWriteLock()", "var_name": "statsLock"}, {"original_string": "private int createdConnections=0;", "modifier": "private", "type": "int", "declarator": "createdConnections=0", "var_name": "createdConnections"}, {"original_string": "private final String url;", "modifier": "private final", "type": "String", "declarator": "url", "var_name": "url"}, {"original_string": "private final String username;", "modifier": "private final", "type": "String", "declarator": "username", "var_name": "username"}, {"original_string": "private final String password;", "modifier": "private final", "type": "String", "declarator": "password", "var_name": "password"}, {"original_string": "private volatile boolean unableToCreateMoreTransactions=false;", "modifier": "private volatile", "type": "boolean", "declarator": "unableToCreateMoreTransactions=false", "var_name": "unableToCreateMoreTransactions"}, {"original_string": "private boolean disableTracking;", "modifier": "private", "type": "boolean", "declarator": "disableTracking", "var_name": "disableTracking"}, {"original_string": "private BlockingQueue<Object> poolWatchThreadSignalQueue = new ArrayBlockingQueue<Object>(1);", "modifier": "private", "type": "BlockingQueue<Object>", "declarator": "poolWatchThreadSignalQueue = new ArrayBlockingQueue<Object>(1)", "var_name": "poolWatchThreadSignalQueue"}, {"original_string": "private long queryExecuteTimeLimitInNanoSeconds;", "modifier": "private", "type": "long", "declarator": "queryExecuteTimeLimitInNanoSeconds", "var_name": "queryExecuteTimeLimitInNanoSeconds"}, {"original_string": "private String poolName;", "modifier": "private", "type": "String", "declarator": "poolName", "var_name": "poolName"}, {"original_string": "protected BoneCP pool;", "modifier": "protected", "type": "BoneCP", "declarator": "pool", "var_name": "pool"}], "methods": [{"identifier": "getPoolWatchThreadSignalQueue", "parameters": "()", "modifiers": "protected", "return": "BlockingQueue<Object>", "signature": "BlockingQueue<Object> getPoolWatchThreadSignalQueue()", "full_signature": "protected BlockingQueue<Object> getPoolWatchThreadSignalQueue()", "class_method_signature": "ConnectionPartition.getPoolWatchThreadSignalQueue()", "testcase": false, "constructor": false}, {"identifier": "updateCreatedConnections", "parameters": "(int increment)", "modifiers": "protected", "return": "void", "signature": "void updateCreatedConnections(int increment)", "full_signature": "protected void updateCreatedConnections(int increment)", "class_method_signature": "ConnectionPartition.updateCreatedConnections(int increment)", "testcase": false, "constructor": false}, {"identifier": "addFreeConnection", "parameters": "(ConnectionHandle connectionHandle)", "modifiers": "protected", "return": "void", "signature": "void addFreeConnection(ConnectionHandle connectionHandle)", "full_signature": "protected void addFreeConnection(ConnectionHandle connectionHandle)", "class_method_signature": "ConnectionPartition.addFreeConnection(ConnectionHandle connectionHandle)", "testcase": false, "constructor": false}, {"identifier": "trackConnectionFinalizer", "parameters": "(ConnectionHandle connectionHandle)", "modifiers": "protected", "return": "void", "signature": "void trackConnectionFinalizer(ConnectionHandle connectionHandle)", "full_signature": "protected void trackConnectionFinalizer(ConnectionHandle connectionHandle)", "class_method_signature": "ConnectionPartition.trackConnectionFinalizer(ConnectionHandle connectionHandle)", "testcase": false, "constructor": false}, {"identifier": "getFreeConnections", "parameters": "()", "modifiers": "protected", "return": "BlockingQueue<ConnectionHandle>", "signature": "BlockingQueue<ConnectionHandle> getFreeConnections()", "full_signature": "protected BlockingQueue<ConnectionHandle> getFreeConnections()", "class_method_signature": "ConnectionPartition.getFreeConnections()", "testcase": false, "constructor": false}, {"identifier": "setFreeConnections", "parameters": "(BlockingQueue<ConnectionHandle> freeConnections)", "modifiers": "protected", "return": "void", "signature": "void setFreeConnections(BlockingQueue<ConnectionHandle> freeConnections)", "full_signature": "protected void setFreeConnections(BlockingQueue<ConnectionHandle> freeConnections)", "class_method_signature": "ConnectionPartition.setFreeConnections(BlockingQueue<ConnectionHandle> freeConnections)", "testcase": false, "constructor": false}, {"identifier": "ConnectionPartition", "parameters": "(BoneCP pool)", "modifiers": "public", "return": "", "signature": " ConnectionPartition(BoneCP pool)", "full_signature": "public  ConnectionPartition(BoneCP pool)", "class_method_signature": "ConnectionPartition.ConnectionPartition(BoneCP pool)", "testcase": false, "constructor": true}, {"identifier": "getAcquireIncrement", "parameters": "()", "modifiers": "protected", "return": "int", "signature": "int getAcquireIncrement()", "full_signature": "protected int getAcquireIncrement()", "class_method_signature": "ConnectionPartition.getAcquireIncrement()", "testcase": false, "constructor": false}, {"identifier": "getMinConnections", "parameters": "()", "modifiers": "protected", "return": "int", "signature": "int getMinConnections()", "full_signature": "protected int getMinConnections()", "class_method_signature": "ConnectionPartition.getMinConnections()", "testcase": false, "constructor": false}, {"identifier": "getMaxConnections", "parameters": "()", "modifiers": "protected", "return": "int", "signature": "int getMaxConnections()", "full_signature": "protected int getMaxConnections()", "class_method_signature": "ConnectionPartition.getMaxConnections()", "testcase": false, "constructor": false}, {"identifier": "getCreatedConnections", "parameters": "()", "modifiers": "protected", "return": "int", "signature": "int getCreatedConnections()", "full_signature": "protected int getCreatedConnections()", "class_method_signature": "ConnectionPartition.getCreatedConnections()", "testcase": false, "constructor": false}, {"identifier": "getUrl", "parameters": "()", "modifiers": "protected", "return": "String", "signature": "String getUrl()", "full_signature": "protected String getUrl()", "class_method_signature": "ConnectionPartition.getUrl()", "testcase": false, "constructor": false}, {"identifier": "getUsername", "parameters": "()", "modifiers": "protected", "return": "String", "signature": "String getUsername()", "full_signature": "protected String getUsername()", "class_method_signature": "ConnectionPartition.getUsername()", "testcase": false, "constructor": false}, {"identifier": "getPassword", "parameters": "()", "modifiers": "protected", "return": "String", "signature": "String getPassword()", "full_signature": "protected String getPassword()", "class_method_signature": "ConnectionPartition.getPassword()", "testcase": false, "constructor": false}, {"identifier": "isUnableToCreateMoreTransactions", "parameters": "()", "modifiers": "protected", "return": "boolean", "signature": "boolean isUnableToCreateMoreTransactions()", "full_signature": "protected boolean isUnableToCreateMoreTransactions()", "class_method_signature": "ConnectionPartition.isUnableToCreateMoreTransactions()", "testcase": false, "constructor": false}, {"identifier": "setUnableToCreateMoreTransactions", "parameters": "(boolean unableToCreateMoreTransactions)", "modifiers": "protected", "return": "void", "signature": "void setUnableToCreateMoreTransactions(boolean unableToCreateMoreTransactions)", "full_signature": "protected void setUnableToCreateMoreTransactions(boolean unableToCreateMoreTransactions)", "class_method_signature": "ConnectionPartition.setUnableToCreateMoreTransactions(boolean unableToCreateMoreTransactions)", "testcase": false, "constructor": false}, {"identifier": "getAvailableConnections", "parameters": "()", "modifiers": "protected", "return": "int", "signature": "int getAvailableConnections()", "full_signature": "protected int getAvailableConnections()", "class_method_signature": "ConnectionPartition.getAvailableConnections()", "testcase": false, "constructor": false}, {"identifier": "getRemainingCapacity", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getRemainingCapacity()", "full_signature": "public int getRemainingCapacity()", "class_method_signature": "ConnectionPartition.getRemainingCapacity()", "testcase": false, "constructor": false}, {"identifier": "getQueryExecuteTimeLimitinNanoSeconds", "parameters": "()", "modifiers": "protected", "return": "long", "signature": "long getQueryExecuteTimeLimitinNanoSeconds()", "full_signature": "protected long getQueryExecuteTimeLimitinNanoSeconds()", "class_method_signature": "ConnectionPartition.getQueryExecuteTimeLimitinNanoSeconds()", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String toString()", "full_signature": "@Override public String toString()", "class_method_signature": "ConnectionPartition.toString()", "testcase": false, "constructor": false}], "file": "bonecp/src/main/java/com/jolbox/bonecp/ConnectionPartition.java"}, "focal_method": {"identifier": "updateCreatedConnections", "parameters": "(int increment)", "modifiers": "protected", "return": "void", "body": "protected void updateCreatedConnections(int increment) {\n\n\t\ttry{\n\t\t\tthis.statsLock.writeLock().lock();\n\t\t\tthis.createdConnections+=increment;\n\t//\t\tassert this.createdConnections >= 0 : \"Created connections < 0!\";\n\t\t\t\n\t\t} finally { \n\t\t\tthis.statsLock.writeLock().unlock();\n\t\t}\n\t}", "signature": "void updateCreatedConnections(int increment)", "full_signature": "protected void updateCreatedConnections(int increment)", "class_method_signature": "ConnectionPartition.updateCreatedConnections(int increment)", "testcase": false, "constructor": false, "invocations": ["lock", "writeLock", "unlock", "writeLock"]}, "repository": {"repo_id": 466142, "url": "https://github.com/wwadge/bonecp", "language": "Java", "is_fork": false, "fork_count": 161, "stargazer_count": 544, "size": 3833, "license": "licensed"}}