{"test_class": {"identifier": "MoPubActivityTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String EXPECTED_HTML_DATA = \"htmlData\";", "modifier": "private static final", "type": "String", "declarator": "EXPECTED_HTML_DATA = \"htmlData\"", "var_name": "EXPECTED_HTML_DATA"}, {"original_string": "private static final boolean EXPECTED_IS_SCROLLABLE = true;", "modifier": "private static final", "type": "boolean", "declarator": "EXPECTED_IS_SCROLLABLE = true", "var_name": "EXPECTED_IS_SCROLLABLE"}, {"original_string": "private static final String EXPECTED_REDIRECT_URL = \"redirectUrl\";", "modifier": "private static final", "type": "String", "declarator": "EXPECTED_REDIRECT_URL = \"redirectUrl\"", "var_name": "EXPECTED_REDIRECT_URL"}, {"original_string": "private static final String EXPECTED_CLICKTHROUGH_URL = \"http://expected_url\";", "modifier": "private static final", "type": "String", "declarator": "EXPECTED_CLICKTHROUGH_URL = \"http://expected_url\"", "var_name": "EXPECTED_CLICKTHROUGH_URL"}, {"original_string": "@Mock private BroadcastReceiver broadcastReceiver;", "modifier": "@Mock private", "type": "BroadcastReceiver", "declarator": "broadcastReceiver", "var_name": "broadcastReceiver"}, {"original_string": "private AdConfiguration adConfiguration;", "modifier": "private", "type": "AdConfiguration", "declarator": "adConfiguration", "var_name": "adConfiguration"}, {"original_string": "private long testBroadcastIdentifier = 2222;", "modifier": "private", "type": "long", "declarator": "testBroadcastIdentifier = 2222", "var_name": "testBroadcastIdentifier"}, {"original_string": "private HtmlInterstitialWebView htmlInterstitialWebView;", "modifier": "private", "type": "HtmlInterstitialWebView", "declarator": "htmlInterstitialWebView", "var_name": "htmlInterstitialWebView"}, {"original_string": "private CustomEventInterstitialListener customEventInterstitialListener;", "modifier": "private", "type": "CustomEventInterstitialListener", "declarator": "customEventInterstitialListener", "var_name": "customEventInterstitialListener"}, {"original_string": "private MoPubActivity subject;", "modifier": "private", "type": "MoPubActivity", "declarator": "subject", "var_name": "subject"}], "file": "MoPubAd/mopub-sdk/src/test/java/com/mopub/mobileads/MoPubActivityTest.java"}, "test_case": {"identifier": "preRenderHtml_shouldHaveAWebViewClientThatForwardsFinishLoad", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void preRenderHtml_shouldHaveAWebViewClientThatForwardsFinishLoad() throws Exception {\n        MoPubActivity.preRenderHtml(subject, customEventInterstitialListener, null);\n\n        ArgumentCaptor<WebViewClient> webViewClientCaptor = ArgumentCaptor.forClass(WebViewClient.class);\n        verify(htmlInterstitialWebView).setWebViewClient(webViewClientCaptor.capture());\n        WebViewClient webViewClient = webViewClientCaptor.getValue();\n\n        webViewClient.shouldOverrideUrlLoading(null, \"mopub://finishLoad\");\n\n        verify(customEventInterstitialListener).onInterstitialLoaded();\n        verify(customEventInterstitialListener, never()).onInterstitialFailed(any(MoPubErrorCode.class));\n    }", "signature": "void preRenderHtml_shouldHaveAWebViewClientThatForwardsFinishLoad()", "full_signature": "@Test public void preRenderHtml_shouldHaveAWebViewClientThatForwardsFinishLoad()", "class_method_signature": "MoPubActivityTest.preRenderHtml_shouldHaveAWebViewClientThatForwardsFinishLoad()", "testcase": true, "constructor": false, "invocations": ["preRenderHtml", "forClass", "setWebViewClient", "verify", "capture", "getValue", "shouldOverrideUrlLoading", "onInterstitialLoaded", "verify", "onInterstitialFailed", "verify", "never", "any"]}, "focal_class": {"identifier": "MoPubActivity", "superclass": "extends BaseInterstitialActivity", "interfaces": "", "fields": [{"original_string": "private HtmlInterstitialWebView mHtmlInterstitialWebView;", "modifier": "private", "type": "HtmlInterstitialWebView", "declarator": "mHtmlInterstitialWebView", "var_name": "mHtmlInterstitialWebView"}], "methods": [{"identifier": "start", "parameters": "(Context context, String htmlData, boolean isScrollable, String redirectUrl, String clickthroughUrl, AdConfiguration adConfiguration)", "modifiers": "public static", "return": "void", "signature": "void start(Context context, String htmlData, boolean isScrollable, String redirectUrl, String clickthroughUrl, AdConfiguration adConfiguration)", "full_signature": "public static void start(Context context, String htmlData, boolean isScrollable, String redirectUrl, String clickthroughUrl, AdConfiguration adConfiguration)", "class_method_signature": "MoPubActivity.start(Context context, String htmlData, boolean isScrollable, String redirectUrl, String clickthroughUrl, AdConfiguration adConfiguration)", "testcase": false, "constructor": false}, {"identifier": "createIntent", "parameters": "(Context context, String htmlData, boolean isScrollable, String redirectUrl, String clickthroughUrl, AdConfiguration adConfiguration)", "modifiers": "static", "return": "Intent", "signature": "Intent createIntent(Context context, String htmlData, boolean isScrollable, String redirectUrl, String clickthroughUrl, AdConfiguration adConfiguration)", "full_signature": "static Intent createIntent(Context context, String htmlData, boolean isScrollable, String redirectUrl, String clickthroughUrl, AdConfiguration adConfiguration)", "class_method_signature": "MoPubActivity.createIntent(Context context, String htmlData, boolean isScrollable, String redirectUrl, String clickthroughUrl, AdConfiguration adConfiguration)", "testcase": false, "constructor": false}, {"identifier": "preRenderHtml", "parameters": "(final Context context, final CustomEventInterstitialListener customEventInterstitialListener, String htmlData)", "modifiers": "static", "return": "void", "signature": "void preRenderHtml(final Context context, final CustomEventInterstitialListener customEventInterstitialListener, String htmlData)", "full_signature": "static void preRenderHtml(final Context context, final CustomEventInterstitialListener customEventInterstitialListener, String htmlData)", "class_method_signature": "MoPubActivity.preRenderHtml(final Context context, final CustomEventInterstitialListener customEventInterstitialListener, String htmlData)", "testcase": false, "constructor": false}, {"identifier": "getAdView", "parameters": "()", "modifiers": "@Override public", "return": "View", "signature": "View getAdView()", "full_signature": "@Override public View getAdView()", "class_method_signature": "MoPubActivity.getAdView()", "testcase": false, "constructor": false}, {"identifier": "onCreate", "parameters": "(Bundle savedInstanceState)", "modifiers": "@Override protected", "return": "void", "signature": "void onCreate(Bundle savedInstanceState)", "full_signature": "@Override protected void onCreate(Bundle savedInstanceState)", "class_method_signature": "MoPubActivity.onCreate(Bundle savedInstanceState)", "testcase": false, "constructor": false}, {"identifier": "onDestroy", "parameters": "()", "modifiers": "@Override protected", "return": "void", "signature": "void onDestroy()", "full_signature": "@Override protected void onDestroy()", "class_method_signature": "MoPubActivity.onDestroy()", "testcase": false, "constructor": false}], "file": "MoPubAd/mopub-sdk/src/main/java/com/mopub/mobileads/MoPubActivity.java"}, "focal_method": {"identifier": "preRenderHtml", "parameters": "(final Context context, final CustomEventInterstitialListener customEventInterstitialListener, String htmlData)", "modifiers": "static", "return": "void", "body": "static void preRenderHtml(final Context context, final CustomEventInterstitialListener customEventInterstitialListener, String htmlData) {\n        HtmlInterstitialWebView dummyWebView = HtmlInterstitialWebViewFactory.create(context, customEventInterstitialListener, false, null, null, null);\n        dummyWebView.enablePlugins(false);\n\n        dummyWebView.addMoPubUriJavascriptInterface(new HtmlInterstitialWebView.MoPubUriJavascriptFireFinishLoadListener() {\n            @Override\n            public void onInterstitialLoaded() {\n                customEventInterstitialListener.onInterstitialLoaded();\n            }\n        });\n        dummyWebView.setWebViewClient(new WebViewClient() {\n            @Override\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                if (url.equals(MOPUB_FINISH_LOAD)) {\n                    customEventInterstitialListener.onInterstitialLoaded();\n                } else if (url.equals(MOPUB_FAIL_LOAD)) {\n                    customEventInterstitialListener.onInterstitialFailed(null);\n                }\n\n                return true;\n            }\n        });\n        dummyWebView.loadHtmlResponse(htmlData);\n    }", "signature": "void preRenderHtml(final Context context, final CustomEventInterstitialListener customEventInterstitialListener, String htmlData)", "full_signature": "static void preRenderHtml(final Context context, final CustomEventInterstitialListener customEventInterstitialListener, String htmlData)", "class_method_signature": "MoPubActivity.preRenderHtml(final Context context, final CustomEventInterstitialListener customEventInterstitialListener, String htmlData)", "testcase": false, "constructor": false, "invocations": ["create", "enablePlugins", "addMoPubUriJavascriptInterface", "onInterstitialLoaded", "setWebViewClient", "equals", "onInterstitialLoaded", "equals", "onInterstitialFailed", "loadHtmlResponse"]}, "repository": {"repo_id": 38092182, "url": "https://github.com/harshalbenake/hbworkspace2-100", "language": "Java", "is_fork": false, "fork_count": 160, "stargazer_count": 191, "size": 307516, "license": "licensed"}}