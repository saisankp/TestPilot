{"test_class": {"identifier": "SingleLineFormatterTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger log = Logger.getLogger(SingleLineFormatterTest.class.getName());", "modifier": "private static final", "type": "Logger", "declarator": "log = Logger.getLogger(SingleLineFormatterTest.class.getName())", "var_name": "log"}, {"original_string": "private static final String eventString\n        = \"1000.000\\texample.com\\t0/1\\tmyservice\\torg.cloudname.log.format.SingleLineFormatter\\tT\\tINFO\\tBESTEFFORT\\tmsg: this is a test\";", "modifier": "private static final", "type": "String", "declarator": "eventString\n        = \"1000.000\\texample.com\\t0/1\\tmyservice\\torg.cloudname.log.format.SingleLineFormatter\\tT\\tINFO\\tBESTEFFORT\\tmsg: this is a test\"", "var_name": "eventString"}, {"original_string": "private static Timber.LogEvent event;", "modifier": "private static", "type": "Timber.LogEvent", "declarator": "event", "var_name": "event"}, {"original_string": "private static Timber.LogEvent eventWithException;", "modifier": "private static", "type": "Timber.LogEvent", "declarator": "eventWithException", "var_name": "eventWithException"}], "file": "log/src/test/java/org/cloudname/log/format/SingleLineFormatterTest.java"}, "test_case": {"identifier": "microBenchmarkWithExceptionTest", "parameters": "()", "modifiers": "@Test (timeout = 1000) public", "return": "void", "body": "@Test (timeout = 1000)\n    public void microBenchmarkWithExceptionTest() {\n        LogEventFormatter form = new SingleLineFormatter();\n        int numIterations = 1000;\n\n        long start = System.currentTimeMillis();\n        for (int i = 0; i < numIterations; i++) {\n            form.format(eventWithException);\n        }\n        long duration = System.currentTimeMillis() - start;\n        double formatsPerSecond = numIterations / ((double) duration / 1000.0);\n\n        log.info(\"event + exception formats per second: \" + formatsPerSecond\n                 + \" (\" + numIterations + \" iterations took \" + duration + \" milliseconds)\");\n    }", "signature": "void microBenchmarkWithExceptionTest()", "full_signature": "@Test (timeout = 1000) public void microBenchmarkWithExceptionTest()", "class_method_signature": "SingleLineFormatterTest.microBenchmarkWithExceptionTest()", "testcase": true, "constructor": false, "invocations": ["currentTimeMillis", "format", "currentTimeMillis", "info"]}, "focal_class": {"identifier": "SingleLineFormatter", "superclass": "", "interfaces": "implements LogEventFormatter", "fields": [], "methods": [{"identifier": "format", "parameters": "(Timber.LogEvent logEvent)", "modifiers": "@Override public", "return": "String", "signature": "String format(Timber.LogEvent logEvent)", "full_signature": "@Override public String format(Timber.LogEvent logEvent)", "class_method_signature": "SingleLineFormatter.format(Timber.LogEvent logEvent)", "testcase": false, "constructor": false}], "file": "log/src/main/java/org/cloudname/log/format/SingleLineFormatter.java"}, "focal_method": {"identifier": "format", "parameters": "(Timber.LogEvent logEvent)", "modifiers": "@Override public", "return": "String", "body": "@Override\n    public String format(Timber.LogEvent logEvent) {\n        StringBuilder buff = new StringBuilder(200);\n\n        // Format the timestamp and append it to the buffer\n        Util.formatTimeSecondsSinceEpoch(logEvent.getTimestamp(), buff);\n\n        buff.append('\\t')\n            .append(logEvent.getHost())\n            .append('\\t')\n\n            // Add process- and thread id if applicable\n            .append((logEvent.hasPid() ? logEvent.getPid() : \"-\"))\n            .append(\"/\")\n            .append((logEvent.hasTid() ? logEvent.getTid() : \"-\"))\n            .append('\\t')\n\n            // Add service name\n            .append(logEvent.getServiceName())\n            .append('\\t')\n\n            // Add source\n            .append(logEvent.getSource())\n            .append('\\t')\n\n            // Type of log message\n            .append(logEvent.getType())\n            .append('\\t')\n\n            // Level of log message\n            .append(Util.logLevelNameForValue(logEvent.getLevel()))\n            .append('\\t')\n\n            // Add consistency level\n            .append(logEvent.getConsistencyLevel())\n            .append('\\t');\n\n        // Add the payloads\n        boolean first = true;\n        for (Timber.Payload payload : logEvent.getPayloadList()) {\n            buff.append((first?\"\":\" | \"))\n                .append(payload.getName())\n                .append(\": \")\n                .append(Util.escape(payload.getPayload().toStringUtf8()));\n\n            first = false;\n        }\n\n\n        return buff.toString();\n    }", "signature": "String format(Timber.LogEvent logEvent)", "full_signature": "@Override public String format(Timber.LogEvent logEvent)", "class_method_signature": "SingleLineFormatter.format(Timber.LogEvent logEvent)", "testcase": false, "constructor": false, "invocations": ["formatTimeSecondsSinceEpoch", "getTimestamp", "append", "append", "append", "append", "append", "append", "append", "append", "append", "append", "append", "append", "append", "append", "append", "append", "append", "getHost", "hasPid", "getPid", "hasTid", "getTid", "getServiceName", "getSource", "getType", "logLevelNameForValue", "getLevel", "getConsistencyLevel", "getPayloadList", "append", "append", "append", "append", "getName", "escape", "toStringUtf8", "getPayload", "toString"]}, "repository": {"repo_id": 2329961, "url": "https://github.com/Cloudname/cloudname", "language": "Java", "is_fork": false, "fork_count": 23, "stargazer_count": 21, "size": 26031, "license": "licensed"}}