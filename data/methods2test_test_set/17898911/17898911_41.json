{"test_class": {"identifier": "SourceCodeEditorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n    SourceCodeEditor.View view;", "modifier": "@Mock", "type": "SourceCodeEditor.View", "declarator": "view", "var_name": "view"}, {"original_string": "@Mock\n    Command onChange;", "modifier": "@Mock", "type": "Command", "declarator": "onChange", "var_name": "onChange"}, {"original_string": "@Mock\n    HtmlValidator htmlValidator;", "modifier": "@Mock", "type": "HtmlValidator", "declarator": "htmlValidator", "var_name": "htmlValidator"}, {"original_string": "@Mock\n    JsValidator jsValidator;", "modifier": "@Mock", "type": "JsValidator", "declarator": "jsValidator", "var_name": "jsValidator"}, {"original_string": "SourceCodeEditor presenter;", "modifier": "", "type": "SourceCodeEditor", "declarator": "presenter", "var_name": "presenter"}], "file": "dashbuilder-client/dashbuilder-displayer-client/src/test/java/org/dashbuilder/displayer/client/widgets/sourcecode/SourceCodeEditorTest.java"}, "test_case": {"identifier": "testEmpty", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testEmpty() {\n        reset(htmlValidator);\n        presenter.init(SourceCodeType.HTML, null, new HashMap<>(), onChange);\n        verify(htmlValidator, never()).validate(any());\n\n        reset(htmlValidator);\n        presenter.init(SourceCodeType.HTML, \"\", new HashMap<>(), onChange);\n        verify(htmlValidator, never()).validate(any());\n\n        reset(jsValidator);\n        presenter.init(SourceCodeType.JAVASCRIPT, null, new HashMap<>(), onChange);\n        verify(jsValidator, never()).validate(any(), anyCollection());\n\n        reset(jsValidator);\n        presenter.init(SourceCodeType.JAVASCRIPT, \"\", new HashMap<>(), onChange);\n        verify(jsValidator, never()).validate(any(), anyCollection());\n    }", "signature": "void testEmpty()", "full_signature": "@Test public void testEmpty()", "class_method_signature": "SourceCodeEditorTest.testEmpty()", "testcase": true, "constructor": false, "invocations": ["reset", "init", "validate", "verify", "never", "any", "reset", "init", "validate", "verify", "never", "any", "reset", "init", "validate", "verify", "never", "any", "anyCollection", "reset", "init", "validate", "verify", "never", "any", "anyCollection"]}, "focal_class": {"identifier": "SourceCodeEditor", "superclass": "", "interfaces": "implements IsWidget", "fields": [{"original_string": "View view;", "modifier": "", "type": "View", "declarator": "view", "var_name": "view"}, {"original_string": "SourceCodeType type;", "modifier": "", "type": "SourceCodeType", "declarator": "type", "var_name": "type"}, {"original_string": "String code;", "modifier": "", "type": "String", "declarator": "code", "var_name": "code"}, {"original_string": "Command onSourceCodeChanged;", "modifier": "", "type": "Command", "declarator": "onSourceCodeChanged", "var_name": "onSourceCodeChanged"}, {"original_string": "HtmlValidator htmlValidator;", "modifier": "", "type": "HtmlValidator", "declarator": "htmlValidator", "var_name": "htmlValidator"}, {"original_string": "JsValidator jsValidator;", "modifier": "", "type": "JsValidator", "declarator": "jsValidator", "var_name": "jsValidator"}, {"original_string": "boolean hasErrors = false;", "modifier": "", "type": "boolean", "declarator": "hasErrors = false", "var_name": "hasErrors"}, {"original_string": "Map<String,String> varMap;", "modifier": "", "type": "Map<String,String>", "declarator": "varMap", "var_name": "varMap"}], "methods": [{"identifier": "SourceCodeEditor", "parameters": "(View view, HtmlValidator htmlValidator, JsValidator jsValidator)", "modifiers": "@Inject public", "return": "", "signature": " SourceCodeEditor(View view, HtmlValidator htmlValidator, JsValidator jsValidator)", "full_signature": "@Inject public  SourceCodeEditor(View view, HtmlValidator htmlValidator, JsValidator jsValidator)", "class_method_signature": "SourceCodeEditor.SourceCodeEditor(View view, HtmlValidator htmlValidator, JsValidator jsValidator)", "testcase": false, "constructor": true}, {"identifier": "asWidget", "parameters": "()", "modifiers": "@Override public", "return": "Widget", "signature": "Widget asWidget()", "full_signature": "@Override public Widget asWidget()", "class_method_signature": "SourceCodeEditor.asWidget()", "testcase": false, "constructor": false}, {"identifier": "getCode", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getCode()", "full_signature": "public String getCode()", "class_method_signature": "SourceCodeEditor.getCode()", "testcase": false, "constructor": false}, {"identifier": "hasErrors", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean hasErrors()", "full_signature": "public boolean hasErrors()", "class_method_signature": "SourceCodeEditor.hasErrors()", "testcase": false, "constructor": false}, {"identifier": "init", "parameters": "(SourceCodeType type, String code, Map<String,String> varMap, Command onSourceCodeChanged)", "modifiers": "public", "return": "void", "signature": "void init(SourceCodeType type, String code, Map<String,String> varMap, Command onSourceCodeChanged)", "full_signature": "public void init(SourceCodeType type, String code, Map<String,String> varMap, Command onSourceCodeChanged)", "class_method_signature": "SourceCodeEditor.init(SourceCodeType type, String code, Map<String,String> varMap, Command onSourceCodeChanged)", "testcase": false, "constructor": false}, {"identifier": "focus", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void focus()", "full_signature": "public void focus()", "class_method_signature": "SourceCodeEditor.focus()", "testcase": false, "constructor": false}, {"identifier": "validateSourceCode", "parameters": "(String newCode)", "modifiers": "public", "return": "String", "signature": "String validateSourceCode(String newCode)", "full_signature": "public String validateSourceCode(String newCode)", "class_method_signature": "SourceCodeEditor.validateSourceCode(String newCode)", "testcase": false, "constructor": false}, {"identifier": "onVariableSelected", "parameters": "(String var)", "modifiers": "public", "return": "void", "signature": "void onVariableSelected(String var)", "full_signature": "public void onVariableSelected(String var)", "class_method_signature": "SourceCodeEditor.onVariableSelected(String var)", "testcase": false, "constructor": false}, {"identifier": "onSourceCodeChanged", "parameters": "(String newCode)", "modifiers": "public", "return": "boolean", "signature": "boolean onSourceCodeChanged(String newCode)", "full_signature": "public boolean onSourceCodeChanged(String newCode)", "class_method_signature": "SourceCodeEditor.onSourceCodeChanged(String newCode)", "testcase": false, "constructor": false}], "file": "dashbuilder-client/dashbuilder-displayer-client/src/main/java/org/dashbuilder/displayer/client/widgets/sourcecode/SourceCodeEditor.java"}, "focal_method": {"identifier": "init", "parameters": "(SourceCodeType type, String code, Map<String,String> varMap, Command onSourceCodeChanged)", "modifiers": "public", "return": "void", "body": "public void init(SourceCodeType type, String code, Map<String,String> varMap, Command onSourceCodeChanged) {\n        this.type = type;\n        this.code = code;\n        this.varMap = varMap == null ? new HashMap<>() : varMap;\n        this.hasErrors = false;\n        this.onSourceCodeChanged = onSourceCodeChanged;\n\n        view.clearAll();\n        view.edit(type, code);\n        view.focus();\n\n        for (String var : varMap.keySet()) {\n            view.declareVariable(var, varMap.get(var));\n        }\n\n        String error = validateSourceCode(code);\n        if (error != null) {\n            hasErrors = true;\n            view.error(error);\n        }\n    }", "signature": "void init(SourceCodeType type, String code, Map<String,String> varMap, Command onSourceCodeChanged)", "full_signature": "public void init(SourceCodeType type, String code, Map<String,String> varMap, Command onSourceCodeChanged)", "class_method_signature": "SourceCodeEditor.init(SourceCodeType type, String code, Map<String,String> varMap, Command onSourceCodeChanged)", "testcase": false, "constructor": false, "invocations": ["clearAll", "edit", "focus", "keySet", "declareVariable", "get", "validateSourceCode", "error"]}, "repository": {"repo_id": 17898911, "url": "https://github.com/dashbuilder/dashbuilder", "language": "Java", "is_fork": false, "fork_count": 119, "stargazer_count": 160, "size": 10456, "license": "licensed"}}