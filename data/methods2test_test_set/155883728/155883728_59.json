{"test_class": {"identifier": "JsonConverterTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final File testInputBaseDir = new File(\"src/test/resources/JsonConverterTest\");", "modifier": "private final", "type": "File", "declarator": "testInputBaseDir = new File(\"src/test/resources/JsonConverterTest\")", "var_name": "testInputBaseDir"}, {"original_string": "private final File testOutputBaseDir = new File(\"target/test-out/JsonConverterTest\");", "modifier": "private final", "type": "File", "declarator": "testOutputBaseDir = new File(\"target/test-out/JsonConverterTest\")", "var_name": "testOutputBaseDir"}], "file": "maven/src/test/java/net/adamcin/oakpal/maven/component/JsonConverterTest.java"}, "test_case": {"identifier": "testConvertChild_expectNull", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testConvertChild_expectNull() throws Exception {\n        ExpressionEvaluator eval = mock(ExpressionEvaluator.class);\n        when(eval.evaluate(anyString())).thenAnswer(call -> null);\n        assertSame(\"expect json null for null\", JsonValue.NULL,\n                converter().convertChild(xml(\"fooBar.xml\"), eval));\n    }", "signature": "void testConvertChild_expectNull()", "full_signature": "@Test public void testConvertChild_expectNull()", "class_method_signature": "JsonConverterTest.testConvertChild_expectNull()", "testcase": true, "constructor": false, "invocations": ["mock", "thenAnswer", "when", "evaluate", "anyString", "assertSame", "convertChild", "converter", "xml"]}, "focal_class": {"identifier": "JsonConverter", "superclass": "extends AbstractConfigurationConverter", "interfaces": "", "fields": [{"original_string": "static final String HINT_LIST = \"list\";", "modifier": "static final", "type": "String", "declarator": "HINT_LIST = \"list\"", "var_name": "HINT_LIST"}, {"original_string": "static final String HINT_MAP = \"map\";", "modifier": "static final", "type": "String", "declarator": "HINT_MAP = \"map\"", "var_name": "HINT_MAP"}, {"original_string": "static final String HINT_STRING = \"string\";", "modifier": "static final", "type": "String", "declarator": "HINT_STRING = \"string\"", "var_name": "HINT_STRING"}, {"original_string": "static final String HINT_NUMBER = \"number\";", "modifier": "static final", "type": "String", "declarator": "HINT_NUMBER = \"number\"", "var_name": "HINT_NUMBER"}, {"original_string": "static final String HINT_BOOLEAN = \"boolean\";", "modifier": "static final", "type": "String", "declarator": "HINT_BOOLEAN = \"boolean\"", "var_name": "HINT_BOOLEAN"}, {"original_string": "static final String HINT_VALUE_LITERAL = \"json\";", "modifier": "static final", "type": "String", "declarator": "HINT_VALUE_LITERAL = \"json\"", "var_name": "HINT_VALUE_LITERAL"}, {"original_string": "static final String HINT_OBJECT_LITERAL = \"jsonobject\";", "modifier": "static final", "type": "String", "declarator": "HINT_OBJECT_LITERAL = \"jsonobject\"", "var_name": "HINT_OBJECT_LITERAL"}, {"original_string": "static final String HINT_ARRAY_LITERAL = \"jsonarray\";", "modifier": "static final", "type": "String", "declarator": "HINT_ARRAY_LITERAL = \"jsonarray\"", "var_name": "HINT_ARRAY_LITERAL"}, {"original_string": "private static final Pattern KEY_DELIM = Pattern.compile(\"(_|\\\\W|(?=[A-Z]))\");", "modifier": "private static final", "type": "Pattern", "declarator": "KEY_DELIM = Pattern.compile(\"(_|\\\\W|(?=[A-Z]))\")", "var_name": "KEY_DELIM"}, {"original_string": "private static final Pattern DOUBLE_ESS_E_ESS_TO_DOUBLE_ESS = Pattern.compile(\"sses$\");", "modifier": "private static final", "type": "Pattern", "declarator": "DOUBLE_ESS_E_ESS_TO_DOUBLE_ESS = Pattern.compile(\"sses$\")", "var_name": "DOUBLE_ESS_E_ESS_TO_DOUBLE_ESS"}, {"original_string": "private static final Pattern I_E_ESS_TO_I = Pattern.compile(\"(?<=[a-z]{2})ies$\");", "modifier": "private static final", "type": "Pattern", "declarator": "I_E_ESS_TO_I = Pattern.compile(\"(?<=[a-z]{2})ies$\")", "var_name": "I_E_ESS_TO_I"}, {"original_string": "private static final Pattern I_E_ESS_TO_IE = Pattern.compile(\"ies$\");", "modifier": "private static final", "type": "Pattern", "declarator": "I_E_ESS_TO_IE = Pattern.compile(\"ies$\")", "var_name": "I_E_ESS_TO_IE"}, {"original_string": "private static final Pattern PRECEDING_VOWEL_NOT_DOUBLE_ESS = Pattern.compile(\"^.*[aeiouwy].*[^s]s$\");", "modifier": "private static final", "type": "Pattern", "declarator": "PRECEDING_VOWEL_NOT_DOUBLE_ESS = Pattern.compile(\"^.*[aeiouwy].*[^s]s$\")", "var_name": "PRECEDING_VOWEL_NOT_DOUBLE_ESS"}, {"original_string": "private static final Pattern ESS_SUFFIX_TO_DROP = Pattern.compile(\"s$\");", "modifier": "private static final", "type": "Pattern", "declarator": "ESS_SUFFIX_TO_DROP = Pattern.compile(\"s$\")", "var_name": "ESS_SUFFIX_TO_DROP"}, {"original_string": "private static final Pattern REPLACEABLE_WHY_TO_I = Pattern.compile(\"(?<=[a-z][^aeiou])y$\");", "modifier": "private static final", "type": "Pattern", "declarator": "REPLACEABLE_WHY_TO_I = Pattern.compile(\"(?<=[a-z][^aeiou])y$\")", "var_name": "REPLACEABLE_WHY_TO_I"}], "methods": [{"identifier": "plexusPluralStem", "parameters": "(final String key)", "modifiers": "public static", "return": "String", "signature": "String plexusPluralStem(final String key)", "full_signature": "public static String plexusPluralStem(final String key)", "class_method_signature": "JsonConverter.plexusPluralStem(final String key)", "testcase": false, "constructor": false}, {"identifier": "canConvert", "parameters": "(final Class<?> type)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean canConvert(final Class<?> type)", "full_signature": "@Override public boolean canConvert(final Class<?> type)", "class_method_signature": "JsonConverter.canConvert(final Class<?> type)", "testcase": false, "constructor": false}, {"identifier": "fromConfiguration", "parameters": "(final ConverterLookup lookup,\n                                    final PlexusConfiguration configuration,\n                                    final Class<?> type,\n                                    final Class<?> enclosingType,\n                                    final ClassLoader loader,\n                                    final ExpressionEvaluator evaluator,\n                                    final ConfigurationListener listener)", "modifiers": "@Override public", "return": "Object", "signature": "Object fromConfiguration(final ConverterLookup lookup,\n                                    final PlexusConfiguration configuration,\n                                    final Class<?> type,\n                                    final Class<?> enclosingType,\n                                    final ClassLoader loader,\n                                    final ExpressionEvaluator evaluator,\n                                    final ConfigurationListener listener)", "full_signature": "@Override public Object fromConfiguration(final ConverterLookup lookup,\n                                    final PlexusConfiguration configuration,\n                                    final Class<?> type,\n                                    final Class<?> enclosingType,\n                                    final ClassLoader loader,\n                                    final ExpressionEvaluator evaluator,\n                                    final ConfigurationListener listener)", "class_method_signature": "JsonConverter.fromConfiguration(final ConverterLookup lookup,\n                                    final PlexusConfiguration configuration,\n                                    final Class<?> type,\n                                    final Class<?> enclosingType,\n                                    final ClassLoader loader,\n                                    final ExpressionEvaluator evaluator,\n                                    final ConfigurationListener listener)", "testcase": false, "constructor": false}, {"identifier": "convertChild", "parameters": "(final @NotNull PlexusConfiguration child, final ExpressionEvaluator evaluator)", "modifiers": "public", "return": "JsonValue", "signature": "JsonValue convertChild(final @NotNull PlexusConfiguration child, final ExpressionEvaluator evaluator)", "full_signature": "public JsonValue convertChild(final @NotNull PlexusConfiguration child, final ExpressionEvaluator evaluator)", "class_method_signature": "JsonConverter.convertChild(final @NotNull PlexusConfiguration child, final ExpressionEvaluator evaluator)", "testcase": false, "constructor": false}, {"identifier": "mightBeList", "parameters": "(final @NotNull PlexusConfiguration config)", "modifiers": "", "return": "boolean", "signature": "boolean mightBeList(final @NotNull PlexusConfiguration config)", "full_signature": " boolean mightBeList(final @NotNull PlexusConfiguration config)", "class_method_signature": "JsonConverter.mightBeList(final @NotNull PlexusConfiguration config)", "testcase": false, "constructor": false}, {"identifier": "readJsonObjectFromConfig", "parameters": "(final @NotNull PlexusConfiguration config,\n                                        final ExpressionEvaluator evaluator)", "modifiers": "", "return": "JsonObject", "signature": "JsonObject readJsonObjectFromConfig(final @NotNull PlexusConfiguration config,\n                                        final ExpressionEvaluator evaluator)", "full_signature": " JsonObject readJsonObjectFromConfig(final @NotNull PlexusConfiguration config,\n                                        final ExpressionEvaluator evaluator)", "class_method_signature": "JsonConverter.readJsonObjectFromConfig(final @NotNull PlexusConfiguration config,\n                                        final ExpressionEvaluator evaluator)", "testcase": false, "constructor": false}, {"identifier": "readJsonArrayFromConfig", "parameters": "(final @NotNull PlexusConfiguration config,\n                                      final ExpressionEvaluator evaluator)", "modifiers": "", "return": "JsonArray", "signature": "JsonArray readJsonArrayFromConfig(final @NotNull PlexusConfiguration config,\n                                      final ExpressionEvaluator evaluator)", "full_signature": " JsonArray readJsonArrayFromConfig(final @NotNull PlexusConfiguration config,\n                                      final ExpressionEvaluator evaluator)", "class_method_signature": "JsonConverter.readJsonArrayFromConfig(final @NotNull PlexusConfiguration config,\n                                      final ExpressionEvaluator evaluator)", "testcase": false, "constructor": false}, {"identifier": "readJsonObjectFromValue", "parameters": "(final String key, final @Nullable Object value)", "modifiers": "", "return": "JsonValue", "signature": "JsonValue readJsonObjectFromValue(final String key, final @Nullable Object value)", "full_signature": " JsonValue readJsonObjectFromValue(final String key, final @Nullable Object value)", "class_method_signature": "JsonConverter.readJsonObjectFromValue(final String key, final @Nullable Object value)", "testcase": false, "constructor": false}, {"identifier": "readJsonArrayFromValue", "parameters": "(final String key, final @Nullable Object value)", "modifiers": "", "return": "JsonValue", "signature": "JsonValue readJsonArrayFromValue(final String key, final @Nullable Object value)", "full_signature": " JsonValue readJsonArrayFromValue(final String key, final @Nullable Object value)", "class_method_signature": "JsonConverter.readJsonArrayFromValue(final String key, final @Nullable Object value)", "testcase": false, "constructor": false}, {"identifier": "readJsonValueFromValue", "parameters": "(final String key, final @Nullable Object value)", "modifiers": "", "return": "JsonValue", "signature": "JsonValue readJsonValueFromValue(final String key, final @Nullable Object value)", "full_signature": " JsonValue readJsonValueFromValue(final String key, final @Nullable Object value)", "class_method_signature": "JsonConverter.readJsonValueFromValue(final String key, final @Nullable Object value)", "testcase": false, "constructor": false}, {"identifier": "readNumberFromValue", "parameters": "(final String key, final @Nullable Object value)", "modifiers": "", "return": "Number", "signature": "Number readNumberFromValue(final String key, final @Nullable Object value)", "full_signature": " Number readNumberFromValue(final String key, final @Nullable Object value)", "class_method_signature": "JsonConverter.readNumberFromValue(final String key, final @Nullable Object value)", "testcase": false, "constructor": false}, {"identifier": "isBlankish", "parameters": "(final Object value)", "modifiers": "", "return": "boolean", "signature": "boolean isBlankish(final Object value)", "full_signature": " boolean isBlankish(final Object value)", "class_method_signature": "JsonConverter.isBlankish(final Object value)", "testcase": false, "constructor": false}, {"identifier": "readBooleanFromValue", "parameters": "(final String key, final @Nullable Object value)", "modifiers": "", "return": "Boolean", "signature": "Boolean readBooleanFromValue(final String key, final @Nullable Object value)", "full_signature": " Boolean readBooleanFromValue(final String key, final @Nullable Object value)", "class_method_signature": "JsonConverter.readBooleanFromValue(final String key, final @Nullable Object value)", "testcase": false, "constructor": false}, {"identifier": "stringToValue", "parameters": "(String string)", "modifiers": "public static", "return": "Object", "signature": "Object stringToValue(String string)", "full_signature": "public static Object stringToValue(String string)", "class_method_signature": "JsonConverter.stringToValue(String string)", "testcase": false, "constructor": false}], "file": "maven/src/main/java/net/adamcin/oakpal/maven/component/JsonConverter.java"}, "focal_method": {"identifier": "convertChild", "parameters": "(final @NotNull PlexusConfiguration child, final ExpressionEvaluator evaluator)", "modifiers": "public", "return": "JsonValue", "body": "public JsonValue convertChild(final @NotNull PlexusConfiguration child, final ExpressionEvaluator evaluator)\n            throws ComponentConfigurationException {\n        final Object value = fromExpression(child, evaluator);\n        final String hint = child.getAttribute(\"hint\");\n        if (hint != null) {\n            switch (hint.toLowerCase()) {\n                case HINT_MAP:\n                    return readJsonObjectFromConfig(child, evaluator);\n                case HINT_LIST:\n                    return readJsonArrayFromConfig(child, evaluator);\n                case HINT_STRING:\n                    return JavaxJson.wrap(String.valueOf(value));\n                case HINT_NUMBER:\n                    return JavaxJson.wrap(readNumberFromValue(child.getName(), value));\n                case HINT_BOOLEAN:\n                    return JavaxJson.wrap(readBooleanFromValue(child.getName(), value));\n                case HINT_VALUE_LITERAL:\n                    return readJsonValueFromValue(child.getName(), value);\n                case HINT_OBJECT_LITERAL:\n                    return readJsonObjectFromValue(child.getName(), value);\n                case HINT_ARRAY_LITERAL:\n                    return readJsonArrayFromValue(child.getName(), value);\n                default:\n                    throw new ComponentConfigurationException(\"Unsupported JSON config hint type for key: \" +\n                            child.getName() + \", hint=\" + hint);\n            }\n        } else if (child.getChildCount() > 0) {\n            if (mightBeList(child)) {\n                return readJsonArrayFromConfig(child, evaluator);\n            } else {\n                return readJsonObjectFromConfig(child, evaluator);\n            }\n        }\n        if (value instanceof String) {\n            return JavaxJson.val(stringToValue((String) value)).get();\n        }\n        return JavaxJson.val(value).get();\n    }", "signature": "JsonValue convertChild(final @NotNull PlexusConfiguration child, final ExpressionEvaluator evaluator)", "full_signature": "public JsonValue convertChild(final @NotNull PlexusConfiguration child, final ExpressionEvaluator evaluator)", "class_method_signature": "JsonConverter.convertChild(final @NotNull PlexusConfiguration child, final ExpressionEvaluator evaluator)", "testcase": false, "constructor": false, "invocations": ["fromExpression", "getAttribute", "toLowerCase", "readJsonObjectFromConfig", "readJsonArrayFromConfig", "wrap", "valueOf", "wrap", "readNumberFromValue", "getName", "wrap", "readBooleanFromValue", "getName", "readJsonValueFromValue", "getName", "readJsonObjectFromValue", "getName", "readJsonArrayFromValue", "getName", "getName", "getChildCount", "mightBeList", "readJsonArrayFromConfig", "readJsonObjectFromConfig", "get", "val", "stringToValue", "get", "val"]}, "repository": {"repo_id": 155883728, "url": "https://github.com/adamcin/oakpal", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 6, "size": 13349, "license": "licensed"}}