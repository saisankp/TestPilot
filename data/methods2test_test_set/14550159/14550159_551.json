{"test_class": {"identifier": "CacheControlHeaderDelegateTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private CacheControlHeaderDelegate cacheControlHeaderDelegate;", "modifier": "private", "type": "CacheControlHeaderDelegate", "declarator": "cacheControlHeaderDelegate", "var_name": "cacheControlHeaderDelegate"}], "file": "everrest-core/src/test/java/org/everrest/core/impl/header/CacheControlHeaderDelegateTest.java"}, "test_case": {"identifier": "testToStringCacheControlWithAllArguments", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testToStringCacheControlWithAllArguments() throws Exception {\n        CacheControl cacheControl = aCacheControl()\n                .withMaxAge(60)\n                .withMustRevalidate(true)\n                .withNoCache(true)\n                .withNoStore(true)\n                .withNoTransform(true)\n                .withPrivate(true)\n                .withProxyRevalidate(true)\n                .withSMaxAge(60)\n                .withPrivateFields(newArrayList(\"aaa\"))\n                .withNoCacheFields(newArrayList(\"bbb\"))\n                .withCacheExtension(ImmutableMap.of(\"foo\", \"bar\"))\n                .build();\n\n        assertEquals(\"private=\\\"aaa\\\", no-cache=\\\"bbb\\\", no-store, no-transform, must-revalidate, proxy-revalidate, 60, 60, foo=bar\",\n                     cacheControlHeaderDelegate.toString(cacheControl));\n    }", "signature": "void testToStringCacheControlWithAllArguments()", "full_signature": "@Test public void testToStringCacheControlWithAllArguments()", "class_method_signature": "CacheControlHeaderDelegateTest.testToStringCacheControlWithAllArguments()", "testcase": true, "constructor": false, "invocations": ["build", "withCacheExtension", "withNoCacheFields", "withPrivateFields", "withSMaxAge", "withProxyRevalidate", "withPrivate", "withNoTransform", "withNoStore", "withNoCache", "withMustRevalidate", "withMaxAge", "aCacheControl", "newArrayList", "newArrayList", "of", "assertEquals", "toString"]}, "focal_class": {"identifier": "CacheControlHeaderDelegate", "superclass": "", "interfaces": "implements RuntimeDelegate.HeaderDelegate<CacheControl>", "fields": [], "methods": [{"identifier": "fromString", "parameters": "(String header)", "modifiers": "@Override public", "return": "CacheControl", "signature": "CacheControl fromString(String header)", "full_signature": "@Override public CacheControl fromString(String header)", "class_method_signature": "CacheControlHeaderDelegate.fromString(String header)", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "(CacheControl header)", "modifiers": "@Override public", "return": "String", "signature": "String toString(CacheControl header)", "full_signature": "@Override public String toString(CacheControl header)", "class_method_signature": "CacheControlHeaderDelegate.toString(CacheControl header)", "testcase": false, "constructor": false}, {"identifier": "appendString", "parameters": "(StringBuilder buff, String s)", "modifiers": "private", "return": "void", "signature": "void appendString(StringBuilder buff, String s)", "full_signature": "private void appendString(StringBuilder buff, String s)", "class_method_signature": "CacheControlHeaderDelegate.appendString(StringBuilder buff, String s)", "testcase": false, "constructor": false}, {"identifier": "appendWithSingleParameter", "parameters": "(StringBuilder buff, String key, String value)", "modifiers": "private", "return": "void", "signature": "void appendWithSingleParameter(StringBuilder buff, String key, String value)", "full_signature": "private void appendWithSingleParameter(StringBuilder buff, String key, String value)", "class_method_signature": "CacheControlHeaderDelegate.appendWithSingleParameter(StringBuilder buff, String key, String value)", "testcase": false, "constructor": false}, {"identifier": "appendWithParameters", "parameters": "(StringBuilder buff, String key, List<String> values)", "modifiers": "private", "return": "void", "signature": "void appendWithParameters(StringBuilder buff, String key, List<String> values)", "full_signature": "private void appendWithParameters(StringBuilder buff, String key, List<String> values)", "class_method_signature": "CacheControlHeaderDelegate.appendWithParameters(StringBuilder buff, String key, List<String> values)", "testcase": false, "constructor": false}], "file": "everrest-core/src/main/java/org/everrest/core/impl/header/CacheControlHeaderDelegate.java"}, "focal_method": {"identifier": "toString", "parameters": "(CacheControl header)", "modifiers": "@Override public", "return": "String", "body": "@Override\n    public String toString(CacheControl header) {\n        StringBuilder buff = new StringBuilder();\n        if (!header.isPrivate()) {\n            appendString(buff, \"public\");\n        }\n        if (header.isPrivate()) {\n            appendWithParameters(buff, \"private\", header.getPrivateFields());\n        }\n        if (header.isNoCache()) {\n            appendWithParameters(buff, \"no-cache\", header.getNoCacheFields());\n        }\n        if (header.isNoStore()) {\n            appendString(buff, \"no-store\");\n        }\n        if (header.isNoTransform()) {\n            appendString(buff, \"no-transform\");\n        }\n        if (header.isMustRevalidate()) {\n            appendString(buff, \"must-revalidate\");\n        }\n        if (header.isProxyRevalidate()) {\n            appendString(buff, \"proxy-revalidate\");\n        }\n        if (header.getMaxAge() >= 0) {\n            appendString(buff, Integer.toString(header.getMaxAge()));\n        }\n        if (header.getSMaxAge() >= 0) {\n            appendString(buff, Integer.toString(header.getSMaxAge()));\n        }\n        for (Map.Entry<String, String> entry : header.getCacheExtension().entrySet()) {\n            appendWithSingleParameter(buff, entry.getKey(), entry.getValue());\n        }\n        return buff.toString();\n    }", "signature": "String toString(CacheControl header)", "full_signature": "@Override public String toString(CacheControl header)", "class_method_signature": "CacheControlHeaderDelegate.toString(CacheControl header)", "testcase": false, "constructor": false, "invocations": ["isPrivate", "appendString", "isPrivate", "appendWithParameters", "getPrivateFields", "isNoCache", "appendWithParameters", "getNoCacheFields", "isNoStore", "appendString", "isNoTransform", "appendString", "isMustRevalidate", "appendString", "isProxyRevalidate", "appendString", "getMaxAge", "appendString", "toString", "getMaxAge", "getSMaxAge", "appendString", "toString", "getSMaxAge", "entrySet", "getCacheExtension", "appendWithSingleParameter", "getKey", "getValue", "toString"]}, "repository": {"repo_id": 14550159, "url": "https://github.com/codenvy/everrest", "language": "Java", "is_fork": false, "fork_count": 14, "stargazer_count": 24, "size": 4563, "license": "licensed"}}