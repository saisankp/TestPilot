{"test_class": {"identifier": "TestPrimaryLock", "superclass": "extends TestThemisLock", "interfaces": "", "fields": [], "file": "themis-coprocessor/src/test/java/org/apache/hadoop/hbase/themis/lock/TestPrimaryLock.java"}, "test_case": {"identifier": "testAddSecondaryColumn", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testAddSecondaryColumn() throws IOException {\n    PrimaryLock lock = new PrimaryLock();\n    lock.addSecondaryColumn(COLUMN, Type.Put);\n    Assert.assertEquals(Type.Put, lock.getSecondaryColumn(COLUMN));\n    lock.addSecondaryColumn(COLUMN, Type.DeleteColumn);\n    Assert.assertEquals(Type.DeleteColumn, lock.getSecondaryColumn(COLUMN));\n    lock.addSecondaryColumn(COLUMN_WITH_ANOTHER_TABLE, Type.Put);\n    Assert.assertEquals(2, lock.getSecondaryColumns().size());\n  }", "signature": "void testAddSecondaryColumn()", "full_signature": "@Test public void testAddSecondaryColumn()", "class_method_signature": "TestPrimaryLock.testAddSecondaryColumn()", "testcase": true, "constructor": false, "invocations": ["addSecondaryColumn", "assertEquals", "getSecondaryColumn", "addSecondaryColumn", "assertEquals", "getSecondaryColumn", "addSecondaryColumn", "assertEquals", "size", "getSecondaryColumns"]}, "focal_class": {"identifier": "PrimaryLock", "superclass": "extends ThemisLock", "interfaces": "", "fields": [{"original_string": "private static final ColumnCoordinateComparator COLUMN_COORDINATE_COMPARATOR = new ColumnCoordinateComparator();", "modifier": "private static final", "type": "ColumnCoordinateComparator", "declarator": "COLUMN_COORDINATE_COMPARATOR = new ColumnCoordinateComparator()", "var_name": "COLUMN_COORDINATE_COMPARATOR"}, {"original_string": "protected Map<ColumnCoordinate, Type> secondaryColumns = new TreeMap<ColumnCoordinate, Type>(\n      COLUMN_COORDINATE_COMPARATOR);", "modifier": "protected", "type": "Map<ColumnCoordinate, Type>", "declarator": "secondaryColumns = new TreeMap<ColumnCoordinate, Type>(\n      COLUMN_COORDINATE_COMPARATOR)", "var_name": "secondaryColumns"}], "methods": [{"identifier": "PrimaryLock", "parameters": "()", "modifiers": "public", "return": "", "signature": " PrimaryLock()", "full_signature": "public  PrimaryLock()", "class_method_signature": "PrimaryLock.PrimaryLock()", "testcase": false, "constructor": true}, {"identifier": "PrimaryLock", "parameters": "(Type type)", "modifiers": "public", "return": "", "signature": " PrimaryLock(Type type)", "full_signature": "public  PrimaryLock(Type type)", "class_method_signature": "PrimaryLock.PrimaryLock(Type type)", "testcase": false, "constructor": true}, {"identifier": "getSecondaryColumn", "parameters": "(ColumnCoordinate columnCoordinate)", "modifiers": "public", "return": "Type", "signature": "Type getSecondaryColumn(ColumnCoordinate columnCoordinate)", "full_signature": "public Type getSecondaryColumn(ColumnCoordinate columnCoordinate)", "class_method_signature": "PrimaryLock.getSecondaryColumn(ColumnCoordinate columnCoordinate)", "testcase": false, "constructor": false}, {"identifier": "getSecondaryColumns", "parameters": "()", "modifiers": "public", "return": "Map<ColumnCoordinate, Type>", "signature": "Map<ColumnCoordinate, Type> getSecondaryColumns()", "full_signature": "public Map<ColumnCoordinate, Type> getSecondaryColumns()", "class_method_signature": "PrimaryLock.getSecondaryColumns()", "testcase": false, "constructor": false}, {"identifier": "addSecondaryColumn", "parameters": "(ColumnCoordinate columnCoordinate, Type put)", "modifiers": "public", "return": "void", "signature": "void addSecondaryColumn(ColumnCoordinate columnCoordinate, Type put)", "full_signature": "public void addSecondaryColumn(ColumnCoordinate columnCoordinate, Type put)", "class_method_signature": "PrimaryLock.addSecondaryColumn(ColumnCoordinate columnCoordinate, Type put)", "testcase": false, "constructor": false}, {"identifier": "write", "parameters": "(DataOutput out)", "modifiers": "@Override public", "return": "void", "signature": "void write(DataOutput out)", "full_signature": "@Override public void write(DataOutput out)", "class_method_signature": "PrimaryLock.write(DataOutput out)", "testcase": false, "constructor": false}, {"identifier": "readFields", "parameters": "(DataInput in)", "modifiers": "@Override public", "return": "void", "signature": "void readFields(DataInput in)", "full_signature": "@Override public void readFields(DataInput in)", "class_method_signature": "PrimaryLock.readFields(DataInput in)", "testcase": false, "constructor": false}, {"identifier": "equals", "parameters": "(Object object)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean equals(Object object)", "full_signature": "@Override public boolean equals(Object object)", "class_method_signature": "PrimaryLock.equals(Object object)", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String toString()", "full_signature": "@Override public String toString()", "class_method_signature": "PrimaryLock.toString()", "testcase": false, "constructor": false}, {"identifier": "isPrimary", "parameters": "()", "modifiers": "@Override public", "return": "boolean", "signature": "boolean isPrimary()", "full_signature": "@Override public boolean isPrimary()", "class_method_signature": "PrimaryLock.isPrimary()", "testcase": false, "constructor": false}], "file": "themis-coprocessor/src/main/java/org/apache/hadoop/hbase/themis/lock/PrimaryLock.java"}, "focal_method": {"identifier": "addSecondaryColumn", "parameters": "(ColumnCoordinate columnCoordinate, Type put)", "modifiers": "public", "return": "void", "body": "public void addSecondaryColumn(ColumnCoordinate columnCoordinate, Type put) {\n    this.secondaryColumns.put(columnCoordinate, put);\n  }", "signature": "void addSecondaryColumn(ColumnCoordinate columnCoordinate, Type put)", "full_signature": "public void addSecondaryColumn(ColumnCoordinate columnCoordinate, Type put)", "class_method_signature": "PrimaryLock.addSecondaryColumn(ColumnCoordinate columnCoordinate, Type put)", "testcase": false, "constructor": false, "invocations": ["put"]}, "repository": {"repo_id": 19147361, "url": "https://github.com/XiaoMi/themis", "language": "Java", "is_fork": false, "fork_count": 57, "stargazer_count": 212, "size": 1400, "license": "Apache License 2.0"}}