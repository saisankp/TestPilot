{"test_class": {"identifier": "CategorizedCircularBufferTest", "superclass": "extends TestCase", "interfaces": "", "fields": [], "file": "src/core/services-impl/src/test/java/it/geosolutions/geostore/util/CategorizedCircularBufferTest.java"}, "test_case": {"identifier": "testSubListByKey", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testSubListByKey() {\n        CategorizedCircularBuffer<String, Long> ccb = new CategorizedCircularBuffer<String, Long>(6);\n\n        ccb.add(1L, \"e0\"); // 5 ibk2\n        ccb.add(2L, \"e1\"); // 4\n        ccb.add(1L, \"e2\"); // 3 ibk1\n        ccb.add(2L, \"e3\"); // 2\n        ccb.add(1L, \"e4\"); // 1 ibk0\n        ccb.add(2L, \"e5\"); // 0\n\n        List<String> l = ccb.subListByKey(1L, 1, 3);\n        assertEquals(2, l.size());\n        assertEquals(\"e2\", l.get(0));\n        assertEquals(\"e0\", l.get(1));\n    }", "signature": "void testSubListByKey()", "full_signature": "@Test public void testSubListByKey()", "class_method_signature": "CategorizedCircularBufferTest.testSubListByKey()", "testcase": true, "constructor": false, "invocations": ["add", "add", "add", "add", "add", "add", "subListByKey", "assertEquals", "size", "assertEquals", "get", "assertEquals", "get"]}, "focal_class": {"identifier": "CategorizedCircularBuffer", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final int maxSize;", "modifier": "private final", "type": "int", "declarator": "maxSize", "var_name": "maxSize"}, {"original_string": "LinkedList<Pair<T, K>> mainList;", "modifier": "", "type": "LinkedList<Pair<T, K>>", "declarator": "mainList", "var_name": "mainList"}, {"original_string": "private Map<K, LinkedList<T>> typedLists = new HashMap<K, LinkedList<T>>();", "modifier": "private", "type": "Map<K, LinkedList<T>>", "declarator": "typedLists = new HashMap<K, LinkedList<T>>()", "var_name": "typedLists"}], "methods": [{"identifier": "CategorizedCircularBuffer", "parameters": "(int maxCount)", "modifiers": "public", "return": "", "signature": " CategorizedCircularBuffer(int maxCount)", "full_signature": "public  CategorizedCircularBuffer(int maxCount)", "class_method_signature": "CategorizedCircularBuffer.CategorizedCircularBuffer(int maxCount)", "testcase": false, "constructor": true}, {"identifier": "add", "parameters": "(K key, T value)", "modifiers": "public", "return": "void", "signature": "void add(K key, T value)", "full_signature": "public void add(K key, T value)", "class_method_signature": "CategorizedCircularBuffer.add(K key, T value)", "testcase": false, "constructor": false}, {"identifier": "removeLastEntry", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void removeLastEntry()", "full_signature": "private void removeLastEntry()", "class_method_signature": "CategorizedCircularBuffer.removeLastEntry()", "testcase": false, "constructor": false}, {"identifier": "subList", "parameters": "(int fromIndex, int toIndex)", "modifiers": "public", "return": "List<T>", "signature": "List<T> subList(int fromIndex, int toIndex)", "full_signature": "public List<T> subList(int fromIndex, int toIndex)", "class_method_signature": "CategorizedCircularBuffer.subList(int fromIndex, int toIndex)", "testcase": false, "constructor": false}, {"identifier": "size", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int size()", "full_signature": "public int size()", "class_method_signature": "CategorizedCircularBuffer.size()", "testcase": false, "constructor": false}, {"identifier": "subListByKey", "parameters": "(K key, int fromIndex, int toIndex)", "modifiers": "@SuppressWarnings(\"unchecked\") public", "return": "List<T>", "signature": "List<T> subListByKey(K key, int fromIndex, int toIndex)", "full_signature": "@SuppressWarnings(\"unchecked\") public List<T> subListByKey(K key, int fromIndex, int toIndex)", "class_method_signature": "CategorizedCircularBuffer.subListByKey(K key, int fromIndex, int toIndex)", "testcase": false, "constructor": false}, {"identifier": "sizeByKey", "parameters": "(K key)", "modifiers": "public", "return": "int", "signature": "int sizeByKey(K key)", "full_signature": "public int sizeByKey(K key)", "class_method_signature": "CategorizedCircularBuffer.sizeByKey(K key)", "testcase": false, "constructor": false}], "file": "src/core/services-impl/src/main/java/it/geosolutions/geostore/util/CategorizedCircularBuffer.java"}, "focal_method": {"identifier": "subListByKey", "parameters": "(K key, int fromIndex, int toIndex)", "modifiers": "@SuppressWarnings(\"unchecked\") public", "return": "List<T>", "body": "@SuppressWarnings(\"unchecked\")\n    public List<T> subListByKey(K key, int fromIndex, int toIndex) {\n        LinkedList<T> typedList = typedLists.get(key);\n        if (typedList == null) {\n            return Collections.EMPTY_LIST;\n        }\n\n        return typedList.subList(fromIndex, toIndex);\n    }", "signature": "List<T> subListByKey(K key, int fromIndex, int toIndex)", "full_signature": "@SuppressWarnings(\"unchecked\") public List<T> subListByKey(K key, int fromIndex, int toIndex)", "class_method_signature": "CategorizedCircularBuffer.subListByKey(K key, int fromIndex, int toIndex)", "testcase": false, "constructor": false, "invocations": ["get", "subList"]}, "repository": {"repo_id": 4157021, "url": "https://github.com/geosolutions-it/geostore", "language": "Java", "is_fork": false, "fork_count": 35, "stargazer_count": 19, "size": 1798, "license": "licensed"}}