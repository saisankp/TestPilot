{"test_class": {"identifier": "InstanceUploaderListActivityTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "Analytics analytics;", "modifier": "", "type": "Analytics", "declarator": "analytics", "var_name": "analytics"}], "file": "collect_app/src/test/java/org/odk/collect/android/activities/InstanceUploaderListActivityTest.java"}, "test_case": {"identifier": "clickingChangeView_thenClickingShowAll_sendsAnalyticsEvent", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void clickingChangeView_thenClickingShowAll_sendsAnalyticsEvent() {\n        InstanceUploaderListActivity activity = Robolectric.setupActivity(InstanceUploaderListActivity.class);\n\n        activity.onOptionsItemSelected(new RoboMenuItem(R.id.menu_change_view));\n        AlertDialog dialog = ShadowAlertDialog.getLatestAlertDialog();\n        shadowOf(dialog).clickOnItem(1);\n\n        verify(analytics).logEvent(\"FilterSendForms\", \"SentAndUnsent\");\n    }", "signature": "void clickingChangeView_thenClickingShowAll_sendsAnalyticsEvent()", "full_signature": "@Test public void clickingChangeView_thenClickingShowAll_sendsAnalyticsEvent()", "class_method_signature": "InstanceUploaderListActivityTest.clickingChangeView_thenClickingShowAll_sendsAnalyticsEvent()", "testcase": true, "constructor": false, "invocations": ["setupActivity", "onOptionsItemSelected", "getLatestAlertDialog", "clickOnItem", "shadowOf", "logEvent", "verify"]}, "focal_class": {"identifier": "InstanceUploaderListActivity", "superclass": "extends InstanceListActivity", "interfaces": "implements\n        OnLongClickListener, DiskSyncListener, AdapterView.OnItemClickListener, LoaderManager.LoaderCallbacks<Cursor>", "fields": [{"original_string": "private static final String SHOW_ALL_MODE = \"showAllMode\";", "modifier": "private static final", "type": "String", "declarator": "SHOW_ALL_MODE = \"showAllMode\"", "var_name": "SHOW_ALL_MODE"}, {"original_string": "private static final String INSTANCE_UPLOADER_LIST_SORTING_ORDER = \"instanceUploaderListSortingOrder\";", "modifier": "private static final", "type": "String", "declarator": "INSTANCE_UPLOADER_LIST_SORTING_ORDER = \"instanceUploaderListSortingOrder\"", "var_name": "INSTANCE_UPLOADER_LIST_SORTING_ORDER"}, {"original_string": "public static final int INSTANCE_UPLOADER = 0;", "modifier": "public static final", "type": "int", "declarator": "INSTANCE_UPLOADER = 0", "var_name": "INSTANCE_UPLOADER"}, {"original_string": "@BindView(R.id.upload_button)\n    Button uploadButton;", "modifier": "@BindView(R.id.upload_button)", "type": "Button", "declarator": "uploadButton", "var_name": "uploadButton"}, {"original_string": "@BindView(R.id.sms_upload_button)\n    Button smsUploadButton;", "modifier": "@BindView(R.id.sms_upload_button)", "type": "Button", "declarator": "smsUploadButton", "var_name": "smsUploadButton"}, {"original_string": "@BindView(R.id.toggle_button)\n    Button toggleSelsButton;", "modifier": "@BindView(R.id.toggle_button)", "type": "Button", "declarator": "toggleSelsButton", "var_name": "toggleSelsButton"}, {"original_string": "private InstancesDao instancesDao;", "modifier": "private", "type": "InstancesDao", "declarator": "instancesDao", "var_name": "instancesDao"}, {"original_string": "private InstanceSyncTask instanceSyncTask;", "modifier": "private", "type": "InstanceSyncTask", "declarator": "instanceSyncTask", "var_name": "instanceSyncTask"}, {"original_string": "public boolean showAllMode;", "modifier": "public", "type": "boolean", "declarator": "showAllMode", "var_name": "showAllMode"}, {"original_string": "private boolean autoSendOngoing = true;", "modifier": "private", "type": "boolean", "declarator": "autoSendOngoing = true", "var_name": "autoSendOngoing"}, {"original_string": "private final BroadcastReceiver smsForegroundReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            //Stops the notification from being sent to others that are listening for this broadcast.\n            abortBroadcast();\n\n            //deletes submission since the app is in the foreground and the NotificationReceiver won't be triggered.\n            if (intent.hasExtra(SMS_INSTANCE_ID)) {\n                deleteIfSubmissionCompleted(intent.getStringExtra(SMS_INSTANCE_ID));\n            }\n        }\n    };", "modifier": "private final", "type": "BroadcastReceiver", "declarator": "smsForegroundReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            //Stops the notification from being sent to others that are listening for this broadcast.\n            abortBroadcast();\n\n            //deletes submission since the app is in the foreground and the NotificationReceiver won't be triggered.\n            if (intent.hasExtra(SMS_INSTANCE_ID)) {\n                deleteIfSubmissionCompleted(intent.getStringExtra(SMS_INSTANCE_ID));\n            }\n        }\n    }", "var_name": "smsForegroundReceiver"}, {"original_string": "@Inject\n    SmsService smsService;", "modifier": "@Inject", "type": "SmsService", "declarator": "smsService", "var_name": "smsService"}, {"original_string": "@Inject\n    SmsSubmissionManagerContract smsSubmissionManager;", "modifier": "@Inject", "type": "SmsSubmissionManagerContract", "declarator": "smsSubmissionManager", "var_name": "smsSubmissionManager"}, {"original_string": "@Inject\n    Analytics analytics;", "modifier": "@Inject", "type": "Analytics", "declarator": "analytics", "var_name": "analytics"}, {"original_string": "@Inject\n    PermissionUtils permissionUtils;", "modifier": "@Inject", "type": "PermissionUtils", "declarator": "permissionUtils", "var_name": "permissionUtils"}], "methods": [{"identifier": "onCreate", "parameters": "(Bundle savedInstanceState)", "modifiers": "@Override public", "return": "void", "signature": "void onCreate(Bundle savedInstanceState)", "full_signature": "@Override public void onCreate(Bundle savedInstanceState)", "class_method_signature": "InstanceUploaderListActivity.onCreate(Bundle savedInstanceState)", "testcase": false, "constructor": false}, {"identifier": "onUploadButtonsClicked", "parameters": "(Button button)", "modifiers": "@OnClick({R.id.upload_button, R.id.sms_upload_button}) public", "return": "void", "signature": "void onUploadButtonsClicked(Button button)", "full_signature": "@OnClick({R.id.upload_button, R.id.sms_upload_button}) public void onUploadButtonsClicked(Button button)", "class_method_signature": "InstanceUploaderListActivity.onUploadButtonsClicked(Button button)", "testcase": false, "constructor": false}, {"identifier": "setupUploadButtons", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void setupUploadButtons()", "full_signature": "private void setupUploadButtons()", "class_method_signature": "InstanceUploaderListActivity.setupUploadButtons()", "testcase": false, "constructor": false}, {"identifier": "init", "parameters": "()", "modifiers": "", "return": "void", "signature": "void init()", "full_signature": " void init()", "class_method_signature": "InstanceUploaderListActivity.init()", "testcase": false, "constructor": false}, {"identifier": "updateAutoSendStatus", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void updateAutoSendStatus()", "full_signature": "private void updateAutoSendStatus()", "class_method_signature": "InstanceUploaderListActivity.updateAutoSendStatus()", "testcase": false, "constructor": false}, {"identifier": "onResume", "parameters": "()", "modifiers": "@Override protected", "return": "void", "signature": "void onResume()", "full_signature": "@Override protected void onResume()", "class_method_signature": "InstanceUploaderListActivity.onResume()", "testcase": false, "constructor": false}, {"identifier": "onPause", "parameters": "()", "modifiers": "@Override protected", "return": "void", "signature": "void onPause()", "full_signature": "@Override protected void onPause()", "class_method_signature": "InstanceUploaderListActivity.onPause()", "testcase": false, "constructor": false}, {"identifier": "syncComplete", "parameters": "(@NonNull String result)", "modifiers": "@Override public", "return": "void", "signature": "void syncComplete(@NonNull String result)", "full_signature": "@Override public void syncComplete(@NonNull String result)", "class_method_signature": "InstanceUploaderListActivity.syncComplete(@NonNull String result)", "testcase": false, "constructor": false}, {"identifier": "uploadSelectedFiles", "parameters": "(int buttonId)", "modifiers": "private", "return": "void", "signature": "void uploadSelectedFiles(int buttonId)", "full_signature": "private void uploadSelectedFiles(int buttonId)", "class_method_signature": "InstanceUploaderListActivity.uploadSelectedFiles(int buttonId)", "testcase": false, "constructor": false}, {"identifier": "onCreateOptionsMenu", "parameters": "(Menu menu)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean onCreateOptionsMenu(Menu menu)", "full_signature": "@Override public boolean onCreateOptionsMenu(Menu menu)", "class_method_signature": "InstanceUploaderListActivity.onCreateOptionsMenu(Menu menu)", "testcase": false, "constructor": false}, {"identifier": "onOptionsItemSelected", "parameters": "(MenuItem item)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean onOptionsItemSelected(MenuItem item)", "full_signature": "@Override public boolean onOptionsItemSelected(MenuItem item)", "class_method_signature": "InstanceUploaderListActivity.onOptionsItemSelected(MenuItem item)", "testcase": false, "constructor": false}, {"identifier": "createPreferencesMenu", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void createPreferencesMenu()", "full_signature": "private void createPreferencesMenu()", "class_method_signature": "InstanceUploaderListActivity.createPreferencesMenu()", "testcase": false, "constructor": false}, {"identifier": "onItemClick", "parameters": "(AdapterView<?> parent, View view, int position, long rowId)", "modifiers": "@Override public", "return": "void", "signature": "void onItemClick(AdapterView<?> parent, View view, int position, long rowId)", "full_signature": "@Override public void onItemClick(AdapterView<?> parent, View view, int position, long rowId)", "class_method_signature": "InstanceUploaderListActivity.onItemClick(AdapterView<?> parent, View view, int position, long rowId)", "testcase": false, "constructor": false}, {"identifier": "onSaveInstanceState", "parameters": "(Bundle outState)", "modifiers": "@Override protected", "return": "void", "signature": "void onSaveInstanceState(Bundle outState)", "full_signature": "@Override protected void onSaveInstanceState(Bundle outState)", "class_method_signature": "InstanceUploaderListActivity.onSaveInstanceState(Bundle outState)", "testcase": false, "constructor": false}, {"identifier": "onActivityResult", "parameters": "(int requestCode, int resultCode, Intent intent)", "modifiers": "@Override protected", "return": "void", "signature": "void onActivityResult(int requestCode, int resultCode, Intent intent)", "full_signature": "@Override protected void onActivityResult(int requestCode, int resultCode, Intent intent)", "class_method_signature": "InstanceUploaderListActivity.onActivityResult(int requestCode, int resultCode, Intent intent)", "testcase": false, "constructor": false}, {"identifier": "setupAdapter", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void setupAdapter()", "full_signature": "private void setupAdapter()", "class_method_signature": "InstanceUploaderListActivity.setupAdapter()", "testcase": false, "constructor": false}, {"identifier": "getSortingOrderKey", "parameters": "()", "modifiers": "@Override protected", "return": "String", "signature": "String getSortingOrderKey()", "full_signature": "@Override protected String getSortingOrderKey()", "class_method_signature": "InstanceUploaderListActivity.getSortingOrderKey()", "testcase": false, "constructor": false}, {"identifier": "updateAdapter", "parameters": "()", "modifiers": "@Override protected", "return": "void", "signature": "void updateAdapter()", "full_signature": "@Override protected void updateAdapter()", "class_method_signature": "InstanceUploaderListActivity.updateAdapter()", "testcase": false, "constructor": false}, {"identifier": "onCreateLoader", "parameters": "(int id, Bundle args)", "modifiers": "@NonNull @Override public", "return": "Loader<Cursor>", "signature": "Loader<Cursor> onCreateLoader(int id, Bundle args)", "full_signature": "@NonNull @Override public Loader<Cursor> onCreateLoader(int id, Bundle args)", "class_method_signature": "InstanceUploaderListActivity.onCreateLoader(int id, Bundle args)", "testcase": false, "constructor": false}, {"identifier": "onLoadFinished", "parameters": "(@NonNull Loader<Cursor> loader, Cursor cursor)", "modifiers": "@Override public", "return": "void", "signature": "void onLoadFinished(@NonNull Loader<Cursor> loader, Cursor cursor)", "full_signature": "@Override public void onLoadFinished(@NonNull Loader<Cursor> loader, Cursor cursor)", "class_method_signature": "InstanceUploaderListActivity.onLoadFinished(@NonNull Loader<Cursor> loader, Cursor cursor)", "testcase": false, "constructor": false}, {"identifier": "onLoaderReset", "parameters": "(@NonNull Loader<Cursor> loader)", "modifiers": "@Override public", "return": "void", "signature": "void onLoaderReset(@NonNull Loader<Cursor> loader)", "full_signature": "@Override public void onLoaderReset(@NonNull Loader<Cursor> loader)", "class_method_signature": "InstanceUploaderListActivity.onLoaderReset(@NonNull Loader<Cursor> loader)", "testcase": false, "constructor": false}, {"identifier": "onLongClick", "parameters": "(View v)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean onLongClick(View v)", "full_signature": "@Override public boolean onLongClick(View v)", "class_method_signature": "InstanceUploaderListActivity.onLongClick(View v)", "testcase": false, "constructor": false}, {"identifier": "showSentAndUnsentChoices", "parameters": "()", "modifiers": "private", "return": "boolean", "signature": "boolean showSentAndUnsentChoices()", "full_signature": "private boolean showSentAndUnsentChoices()", "class_method_signature": "InstanceUploaderListActivity.showSentAndUnsentChoices()", "testcase": false, "constructor": false}, {"identifier": "onDestroy", "parameters": "()", "modifiers": "@Override protected", "return": "void", "signature": "void onDestroy()", "full_signature": "@Override protected void onDestroy()", "class_method_signature": "InstanceUploaderListActivity.onDestroy()", "testcase": false, "constructor": false}, {"identifier": "deleteIfSubmissionCompleted", "parameters": "(String instanceId)", "modifiers": "private", "return": "void", "signature": "void deleteIfSubmissionCompleted(String instanceId)", "full_signature": "private void deleteIfSubmissionCompleted(String instanceId)", "class_method_signature": "InstanceUploaderListActivity.deleteIfSubmissionCompleted(String instanceId)", "testcase": false, "constructor": false}], "file": "collect_app/src/main/java/org/odk/collect/android/activities/InstanceUploaderListActivity.java"}, "focal_method": {"identifier": "onOptionsItemSelected", "parameters": "(MenuItem item)", "modifiers": "@Override public", "return": "boolean", "body": "@Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.menu_preferences:\n                createPreferencesMenu();\n                return true;\n            case R.id.menu_change_view:\n                showSentAndUnsentChoices();\n                return true;\n            case R.id.menu_filter:\n\n                return true;\n            case android.R.id.home:\n                super.onBackPressed();\n                break;\n        }\n        return super.onOptionsItemSelected(item);\n    }", "signature": "boolean onOptionsItemSelected(MenuItem item)", "full_signature": "@Override public boolean onOptionsItemSelected(MenuItem item)", "class_method_signature": "InstanceUploaderListActivity.onOptionsItemSelected(MenuItem item)", "testcase": false, "constructor": false, "invocations": ["getItemId", "createPreferencesMenu", "showSentAndUnsentChoices", "onBackPressed", "onOptionsItemSelected"]}, "repository": {"repo_id": 166636413, "url": "https://github.com/fieldsight/fieldsight-mobile", "language": "Java", "is_fork": false, "fork_count": 4, "stargazer_count": 14, "size": 41030, "license": "licensed"}}