{"test_class": {"identifier": "DataSetBasicAttributesWorkflowTest", "superclass": "extends AbstractDataSetWorkflowTest", "interfaces": "", "fields": [{"original_string": "@Mock\n    SyncBeanManager beanManager;", "modifier": "@Mock", "type": "SyncBeanManager", "declarator": "beanManager", "var_name": "beanManager"}, {"original_string": "@Mock\n    EventSourceMock<SaveRequestEvent> saveRequestEvent;", "modifier": "@Mock", "type": "EventSourceMock<SaveRequestEvent>", "declarator": "saveRequestEvent", "var_name": "saveRequestEvent"}, {"original_string": "@Mock\n    EventSourceMock<TestDataSetRequestEvent> testDataSetEvent;", "modifier": "@Mock", "type": "EventSourceMock<TestDataSetRequestEvent>", "declarator": "testDataSetEvent", "var_name": "testDataSetEvent"}, {"original_string": "@Mock\n    EventSourceMock<CancelRequestEvent> cancelRequestEvent;", "modifier": "@Mock", "type": "EventSourceMock<CancelRequestEvent>", "declarator": "cancelRequestEvent", "var_name": "cancelRequestEvent"}, {"original_string": "@Mock\n    DataSetClientServices clientServices;", "modifier": "@Mock", "type": "DataSetClientServices", "declarator": "clientServices", "var_name": "clientServices"}, {"original_string": "@Mock\n    DataSetDefBasicAttributesEditor basicAttributesEditor;", "modifier": "@Mock", "type": "DataSetDefBasicAttributesEditor", "declarator": "basicAttributesEditor", "var_name": "basicAttributesEditor"}, {"original_string": "@Mock\n    DataSetDefBasicAttributesDriver dataSetDefBasicAttributesDriver;", "modifier": "@Mock", "type": "DataSetDefBasicAttributesDriver", "declarator": "dataSetDefBasicAttributesDriver", "var_name": "dataSetDefBasicAttributesDriver"}, {"original_string": "@Mock\n    SyncBeanDef<DataSetDefBasicAttributesDriver> simpleBeanEditorDriverSyncBeanDef;", "modifier": "@Mock", "type": "SyncBeanDef<DataSetDefBasicAttributesDriver>", "declarator": "simpleBeanEditorDriverSyncBeanDef", "var_name": "simpleBeanEditorDriverSyncBeanDef"}, {"original_string": "@Mock\n    SyncBeanDef<DataSetDefBasicAttributesEditor> simpleEditorSyncBeanDef;", "modifier": "@Mock", "type": "SyncBeanDef<DataSetDefBasicAttributesEditor>", "declarator": "simpleEditorSyncBeanDef", "var_name": "simpleEditorSyncBeanDef"}, {"original_string": "@Mock\n    DataSetEditorWorkflow.View view;", "modifier": "@Mock", "type": "DataSetEditorWorkflow.View", "declarator": "view", "var_name": "view"}, {"original_string": "private DataSetBasicAttributesWorkflow presenter;", "modifier": "private", "type": "DataSetBasicAttributesWorkflow", "declarator": "presenter", "var_name": "presenter"}], "file": "dashbuilder-client/dashbuilder-widgets/src/test/java/org/dashbuilder/client/widgets/dataset/editor/workflow/create/DataSetBasicAttributesWorkflowTest.java"}, "test_case": {"identifier": "testBasicAttributesEdition", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testBasicAttributesEdition() {\n        DataSetDef def = mock( DataSetDef.class );\n        presenter.edit( def ).basicAttributesEdition();\n        verify( beanManager, times( 2 ) ).lookupBean( DataSetDefBasicAttributesDriver.class );\n        verify( dataSetDefBasicAttributesDriver, times( 2 ) ).initialize( basicAttributesEditor );\n        verify( dataSetDefBasicAttributesDriver, times( 2 ) ).edit( def );\n        verify( view, times( 2 ) ).clearView();\n        verify( view, times( 2 ) ).add( any( IsWidget.class ) );\n        verify( view, times( 0 ) ).init( presenter );\n        verify( view, times( 0 ) ).addButton( anyString(), anyString(), anyBoolean(), any( Command.class ) );\n        verify( view, times( 0 ) ).clearButtons();\n    }", "signature": "void testBasicAttributesEdition()", "full_signature": "@Test public void testBasicAttributesEdition()", "class_method_signature": "DataSetBasicAttributesWorkflowTest.testBasicAttributesEdition()", "testcase": true, "constructor": false, "invocations": ["mock", "basicAttributesEdition", "edit", "lookupBean", "verify", "times", "initialize", "verify", "times", "edit", "verify", "times", "clearView", "verify", "times", "add", "verify", "times", "any", "init", "verify", "times", "addButton", "verify", "times", "anyString", "anyString", "anyBoolean", "any", "clearButtons", "verify", "times"]}, "focal_class": {"identifier": "DataSetBasicAttributesWorkflow", "superclass": "extends DataSetEditorWorkflow<T>", "interfaces": "", "fields": [{"original_string": "DataSetDefBasicAttributesEditor basicAttributesEditor;", "modifier": "", "type": "DataSetDefBasicAttributesEditor", "declarator": "basicAttributesEditor", "var_name": "basicAttributesEditor"}, {"original_string": "DataSetDefBasicAttributesDriver dataSetDefBasicAttributesDriver;", "modifier": "", "type": "DataSetDefBasicAttributesDriver", "declarator": "dataSetDefBasicAttributesDriver", "var_name": "dataSetDefBasicAttributesDriver"}, {"original_string": "SimpleBeanEditorDriver<T, E> driver;", "modifier": "", "type": "SimpleBeanEditorDriver<T, E>", "declarator": "driver", "var_name": "driver"}, {"original_string": "E editor;", "modifier": "", "type": "E", "declarator": "editor", "var_name": "editor"}], "methods": [{"identifier": "DataSetBasicAttributesWorkflow", "parameters": "(final DataSetClientServices clientServices,\n                                          final DataSetValidatorProvider validatorProvider,\n                                          final SyncBeanManager beanManager,\n                                          final DataSetDefBasicAttributesEditor basicAttributesEditor,\n                                          final Event<SaveRequestEvent> saveRequestEvent,\n                                          final Event<TestDataSetRequestEvent> testDataSetEvent,\n                                          final Event<CancelRequestEvent> cancelRequestEvent,\n                                          final View view)", "modifiers": "@Inject public", "return": "", "signature": " DataSetBasicAttributesWorkflow(final DataSetClientServices clientServices,\n                                          final DataSetValidatorProvider validatorProvider,\n                                          final SyncBeanManager beanManager,\n                                          final DataSetDefBasicAttributesEditor basicAttributesEditor,\n                                          final Event<SaveRequestEvent> saveRequestEvent,\n                                          final Event<TestDataSetRequestEvent> testDataSetEvent,\n                                          final Event<CancelRequestEvent> cancelRequestEvent,\n                                          final View view)", "full_signature": "@Inject public  DataSetBasicAttributesWorkflow(final DataSetClientServices clientServices,\n                                          final DataSetValidatorProvider validatorProvider,\n                                          final SyncBeanManager beanManager,\n                                          final DataSetDefBasicAttributesEditor basicAttributesEditor,\n                                          final Event<SaveRequestEvent> saveRequestEvent,\n                                          final Event<TestDataSetRequestEvent> testDataSetEvent,\n                                          final Event<CancelRequestEvent> cancelRequestEvent,\n                                          final View view)", "class_method_signature": "DataSetBasicAttributesWorkflow.DataSetBasicAttributesWorkflow(final DataSetClientServices clientServices,\n                                          final DataSetValidatorProvider validatorProvider,\n                                          final SyncBeanManager beanManager,\n                                          final DataSetDefBasicAttributesEditor basicAttributesEditor,\n                                          final Event<SaveRequestEvent> saveRequestEvent,\n                                          final Event<TestDataSetRequestEvent> testDataSetEvent,\n                                          final Event<CancelRequestEvent> cancelRequestEvent,\n                                          final View view)", "testcase": false, "constructor": true}, {"identifier": "init", "parameters": "()", "modifiers": "@PostConstruct public", "return": "void", "signature": "void init()", "full_signature": "@PostConstruct public void init()", "class_method_signature": "DataSetBasicAttributesWorkflow.init()", "testcase": false, "constructor": false}, {"identifier": "getDriverClass", "parameters": "()", "modifiers": "protected abstract", "return": "Class<? extends SimpleBeanEditorDriver<T, E>>", "signature": "Class<? extends SimpleBeanEditorDriver<T, E>> getDriverClass()", "full_signature": "protected abstract Class<? extends SimpleBeanEditorDriver<T, E>> getDriverClass()", "class_method_signature": "DataSetBasicAttributesWorkflow.getDriverClass()", "testcase": false, "constructor": false}, {"identifier": "getEditorClass", "parameters": "()", "modifiers": "protected abstract", "return": "Class<? extends E>", "signature": "Class<? extends E> getEditorClass()", "full_signature": "protected abstract Class<? extends E> getEditorClass()", "class_method_signature": "DataSetBasicAttributesWorkflow.getEditorClass()", "testcase": false, "constructor": false}, {"identifier": "validate", "parameters": "()", "modifiers": "protected", "return": "Iterable<ConstraintViolation<?>>", "signature": "Iterable<ConstraintViolation<?>> validate()", "full_signature": "protected Iterable<ConstraintViolation<?>> validate()", "class_method_signature": "DataSetBasicAttributesWorkflow.validate()", "testcase": false, "constructor": false}, {"identifier": "edit", "parameters": "(final T def)", "modifiers": "public", "return": "DataSetBasicAttributesWorkflow", "signature": "DataSetBasicAttributesWorkflow edit(final T def)", "full_signature": "public DataSetBasicAttributesWorkflow edit(final T def)", "class_method_signature": "DataSetBasicAttributesWorkflow.edit(final T def)", "testcase": false, "constructor": false}, {"identifier": "basicAttributesEdition", "parameters": "()", "modifiers": "public", "return": "DataSetEditorWorkflow", "signature": "DataSetEditorWorkflow basicAttributesEdition()", "full_signature": "public DataSetEditorWorkflow basicAttributesEdition()", "class_method_signature": "DataSetBasicAttributesWorkflow.basicAttributesEdition()", "testcase": false, "constructor": false}, {"identifier": "_setDataSetDef", "parameters": "(final T def)", "modifiers": "", "return": "void", "signature": "void _setDataSetDef(final T def)", "full_signature": " void _setDataSetDef(final T def)", "class_method_signature": "DataSetBasicAttributesWorkflow._setDataSetDef(final T def)", "testcase": false, "constructor": false}], "file": "dashbuilder-client/dashbuilder-widgets/src/main/java/org/dashbuilder/client/widgets/dataset/editor/workflow/create/DataSetBasicAttributesWorkflow.java"}, "focal_method": {"identifier": "basicAttributesEdition", "parameters": "()", "modifiers": "public", "return": "DataSetEditorWorkflow", "body": "public DataSetEditorWorkflow basicAttributesEdition() {\n        checkDataSetDefNotNull();\n\n        dataSetDefBasicAttributesDriver = beanManager.lookupBean(DataSetDefBasicAttributesDriver.class).newInstance();\n        dataSetDefBasicAttributesDriver.initialize(basicAttributesEditor);\n        dataSetDefBasicAttributesDriver.edit(getDataSetDef());\n\n        driver = beanManager.lookupBean( getDriverClass() ).newInstance();\n        editor = beanManager.lookupBean( getEditorClass() ).newInstance();\n        driver.initialize(editor);\n        driver.edit(getDataSetDef());\n\n        this.flushCommand = new Command() {\n            @Override\n            public void execute() {\n                flush(dataSetDefBasicAttributesDriver);\n                flush(driver);\n            }\n        };\n\n        this.stepValidator = new Command() {\n            @Override\n            public void execute() {\n\n                // Data set definition basic attributes validation.\n                Iterable<ConstraintViolation<?>> basicAttsViolations = validatorProvider.validateBasicAttributes(getDataSetDef());\n                dataSetDefBasicAttributesDriver.setConstraintViolations(basicAttsViolations);\n                addViolations(basicAttsViolations);\n\n                Iterable<ConstraintViolation<?>> violations = validate();\n                driver.setConstraintViolations(violations);\n                addViolations(violations);\n            }\n        };\n\n        // Show the view.\n        view.clearView();\n        view.add(basicAttributesEditor.asWidget());\n        view.add(((IsWidget) editor));\n\n        return this;\n    }", "signature": "DataSetEditorWorkflow basicAttributesEdition()", "full_signature": "public DataSetEditorWorkflow basicAttributesEdition()", "class_method_signature": "DataSetBasicAttributesWorkflow.basicAttributesEdition()", "testcase": false, "constructor": false, "invocations": ["checkDataSetDefNotNull", "newInstance", "lookupBean", "initialize", "edit", "getDataSetDef", "newInstance", "lookupBean", "getDriverClass", "newInstance", "lookupBean", "getEditorClass", "initialize", "edit", "getDataSetDef", "flush", "flush", "validateBasicAttributes", "getDataSetDef", "setConstraintViolations", "addViolations", "validate", "setConstraintViolations", "addViolations", "clearView", "add", "asWidget", "add"]}, "repository": {"repo_id": 17898911, "url": "https://github.com/dashbuilder/dashbuilder", "language": "Java", "is_fork": false, "fork_count": 119, "stargazer_count": 160, "size": 10456, "license": "licensed"}}