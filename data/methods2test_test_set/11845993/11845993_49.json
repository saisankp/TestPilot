{"test_class": {"identifier": "StagemonitorCacheUsageListenerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final Metric2Registry registry = new Metric2Registry();", "modifier": "private final", "type": "Metric2Registry", "declarator": "registry = new Metric2Registry()", "var_name": "registry"}, {"original_string": "private StagemonitorCacheUsageListener cacheUsageListener = new StagemonitorCacheUsageListener(\"cache\", registry, true);", "modifier": "private", "type": "StagemonitorCacheUsageListener", "declarator": "cacheUsageListener = new StagemonitorCacheUsageListener(\"cache\", registry, true)", "var_name": "cacheUsageListener"}], "file": "stagemonitor-ehcache/src/test/java/org/stagemonitor/ehcache/StagemonitorCacheUsageListenerTest.java"}, "test_case": {"identifier": "testGet", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testGet() {\n\t\tcacheUsageListener.notifyGetTimeNanos(1);\n\t\tassertNotNull(registry.getTimers().get(name(\"cache_get\").tag(\"cache_name\", \"cache\").tier(\"All\").build()));\n\t}", "signature": "void testGet()", "full_signature": "@Test public void testGet()", "class_method_signature": "StagemonitorCacheUsageListenerTest.testGet()", "testcase": true, "constructor": false, "invocations": ["notifyGetTimeNanos", "assertNotNull", "get", "getTimers", "build", "tier", "tag", "name"]}, "focal_class": {"identifier": "StagemonitorCacheUsageListener", "superclass": "", "interfaces": "implements CacheUsageListener", "fields": [{"original_string": "private final Metric2Registry registry;", "modifier": "private final", "type": "Metric2Registry", "declarator": "registry", "var_name": "registry"}, {"original_string": "private final boolean timeGet;", "modifier": "private final", "type": "boolean", "declarator": "timeGet", "var_name": "timeGet"}, {"original_string": "private final MetricName allCacheHitsMetricName;", "modifier": "private final", "type": "MetricName", "declarator": "allCacheHitsMetricName", "var_name": "allCacheHitsMetricName"}, {"original_string": "private final MetricName allCacheMissesMetricName;", "modifier": "private final", "type": "MetricName", "declarator": "allCacheMissesMetricName", "var_name": "allCacheMissesMetricName"}, {"original_string": "private final MetricName getMetricName;", "modifier": "private final", "type": "MetricName", "declarator": "getMetricName", "var_name": "getMetricName"}, {"original_string": "private final MetricName deleteEvictionMetricName;", "modifier": "private final", "type": "MetricName", "declarator": "deleteEvictionMetricName", "var_name": "deleteEvictionMetricName"}, {"original_string": "private final MetricName deleteExpireMetricName;", "modifier": "private final", "type": "MetricName", "declarator": "deleteExpireMetricName", "var_name": "deleteExpireMetricName"}, {"original_string": "private final MetricName deleteRemovedMetricName;", "modifier": "private final", "type": "MetricName", "declarator": "deleteRemovedMetricName", "var_name": "deleteRemovedMetricName"}], "methods": [{"identifier": "StagemonitorCacheUsageListener", "parameters": "(String cacheName, Metric2Registry registry, boolean timeGet)", "modifiers": "public", "return": "", "signature": " StagemonitorCacheUsageListener(String cacheName, Metric2Registry registry, boolean timeGet)", "full_signature": "public  StagemonitorCacheUsageListener(String cacheName, Metric2Registry registry, boolean timeGet)", "class_method_signature": "StagemonitorCacheUsageListener.StagemonitorCacheUsageListener(String cacheName, Metric2Registry registry, boolean timeGet)", "testcase": false, "constructor": true}, {"identifier": "notifyStatisticsEnabledChanged", "parameters": "(boolean enableStatistics)", "modifiers": "@Override public", "return": "void", "signature": "void notifyStatisticsEnabledChanged(boolean enableStatistics)", "full_signature": "@Override public void notifyStatisticsEnabledChanged(boolean enableStatistics)", "class_method_signature": "StagemonitorCacheUsageListener.notifyStatisticsEnabledChanged(boolean enableStatistics)", "testcase": false, "constructor": false}, {"identifier": "notifyStatisticsCleared", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyStatisticsCleared()", "full_signature": "@Override public void notifyStatisticsCleared()", "class_method_signature": "StagemonitorCacheUsageListener.notifyStatisticsCleared()", "testcase": false, "constructor": false}, {"identifier": "notifyCacheHitInMemory", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyCacheHitInMemory()", "full_signature": "@Override public void notifyCacheHitInMemory()", "class_method_signature": "StagemonitorCacheUsageListener.notifyCacheHitInMemory()", "testcase": false, "constructor": false}, {"identifier": "notifyCacheHitOffHeap", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyCacheHitOffHeap()", "full_signature": "@Override public void notifyCacheHitOffHeap()", "class_method_signature": "StagemonitorCacheUsageListener.notifyCacheHitOffHeap()", "testcase": false, "constructor": false}, {"identifier": "notifyCacheHitOnDisk", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyCacheHitOnDisk()", "full_signature": "@Override public void notifyCacheHitOnDisk()", "class_method_signature": "StagemonitorCacheUsageListener.notifyCacheHitOnDisk()", "testcase": false, "constructor": false}, {"identifier": "notifyCacheElementPut", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyCacheElementPut()", "full_signature": "@Override public void notifyCacheElementPut()", "class_method_signature": "StagemonitorCacheUsageListener.notifyCacheElementPut()", "testcase": false, "constructor": false}, {"identifier": "notifyCacheElementUpdated", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyCacheElementUpdated()", "full_signature": "@Override public void notifyCacheElementUpdated()", "class_method_signature": "StagemonitorCacheUsageListener.notifyCacheElementUpdated()", "testcase": false, "constructor": false}, {"identifier": "notifyCacheMissedWithNotFound", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyCacheMissedWithNotFound()", "full_signature": "@Override public void notifyCacheMissedWithNotFound()", "class_method_signature": "StagemonitorCacheUsageListener.notifyCacheMissedWithNotFound()", "testcase": false, "constructor": false}, {"identifier": "notifyCacheMissedWithExpired", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyCacheMissedWithExpired()", "full_signature": "@Override public void notifyCacheMissedWithExpired()", "class_method_signature": "StagemonitorCacheUsageListener.notifyCacheMissedWithExpired()", "testcase": false, "constructor": false}, {"identifier": "notifyAllCacheHits", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void notifyAllCacheHits()", "full_signature": "private void notifyAllCacheHits()", "class_method_signature": "StagemonitorCacheUsageListener.notifyAllCacheHits()", "testcase": false, "constructor": false}, {"identifier": "notifyAllCacheMisses", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void notifyAllCacheMisses()", "full_signature": "private void notifyAllCacheMisses()", "class_method_signature": "StagemonitorCacheUsageListener.notifyAllCacheMisses()", "testcase": false, "constructor": false}, {"identifier": "getHitRatio1Min", "parameters": "()", "modifiers": "public", "return": "Ratio", "signature": "Ratio getHitRatio1Min()", "full_signature": "public Ratio getHitRatio1Min()", "class_method_signature": "StagemonitorCacheUsageListener.getHitRatio1Min()", "testcase": false, "constructor": false}, {"identifier": "notifyCacheMissInMemory", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyCacheMissInMemory()", "full_signature": "@Override public void notifyCacheMissInMemory()", "class_method_signature": "StagemonitorCacheUsageListener.notifyCacheMissInMemory()", "testcase": false, "constructor": false}, {"identifier": "notifyCacheMissOffHeap", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyCacheMissOffHeap()", "full_signature": "@Override public void notifyCacheMissOffHeap()", "class_method_signature": "StagemonitorCacheUsageListener.notifyCacheMissOffHeap()", "testcase": false, "constructor": false}, {"identifier": "notifyCacheMissOnDisk", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyCacheMissOnDisk()", "full_signature": "@Override public void notifyCacheMissOnDisk()", "class_method_signature": "StagemonitorCacheUsageListener.notifyCacheMissOnDisk()", "testcase": false, "constructor": false}, {"identifier": "notifyTimeTakenForGet", "parameters": "(long millis)", "modifiers": "@Override @Deprecated public", "return": "void", "signature": "void notifyTimeTakenForGet(long millis)", "full_signature": "@Override @Deprecated public void notifyTimeTakenForGet(long millis)", "class_method_signature": "StagemonitorCacheUsageListener.notifyTimeTakenForGet(long millis)", "testcase": false, "constructor": false}, {"identifier": "notifyGetTimeNanos", "parameters": "(long nanos)", "modifiers": "@Override public", "return": "void", "signature": "void notifyGetTimeNanos(long nanos)", "full_signature": "@Override public void notifyGetTimeNanos(long nanos)", "class_method_signature": "StagemonitorCacheUsageListener.notifyGetTimeNanos(long nanos)", "testcase": false, "constructor": false}, {"identifier": "notifyCacheElementEvicted", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyCacheElementEvicted()", "full_signature": "@Override public void notifyCacheElementEvicted()", "class_method_signature": "StagemonitorCacheUsageListener.notifyCacheElementEvicted()", "testcase": false, "constructor": false}, {"identifier": "notifyCacheElementExpired", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyCacheElementExpired()", "full_signature": "@Override public void notifyCacheElementExpired()", "class_method_signature": "StagemonitorCacheUsageListener.notifyCacheElementExpired()", "testcase": false, "constructor": false}, {"identifier": "notifyCacheElementRemoved", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyCacheElementRemoved()", "full_signature": "@Override public void notifyCacheElementRemoved()", "class_method_signature": "StagemonitorCacheUsageListener.notifyCacheElementRemoved()", "testcase": false, "constructor": false}, {"identifier": "notifyRemoveAll", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyRemoveAll()", "full_signature": "@Override public void notifyRemoveAll()", "class_method_signature": "StagemonitorCacheUsageListener.notifyRemoveAll()", "testcase": false, "constructor": false}, {"identifier": "notifyStatisticsAccuracyChanged", "parameters": "(int statisticsAccuracy)", "modifiers": "@Override public", "return": "void", "signature": "void notifyStatisticsAccuracyChanged(int statisticsAccuracy)", "full_signature": "@Override public void notifyStatisticsAccuracyChanged(int statisticsAccuracy)", "class_method_signature": "StagemonitorCacheUsageListener.notifyStatisticsAccuracyChanged(int statisticsAccuracy)", "testcase": false, "constructor": false}, {"identifier": "dispose", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void dispose()", "full_signature": "@Override public void dispose()", "class_method_signature": "StagemonitorCacheUsageListener.dispose()", "testcase": false, "constructor": false}, {"identifier": "notifyCacheSearch", "parameters": "(long executeTime)", "modifiers": "@Override public", "return": "void", "signature": "void notifyCacheSearch(long executeTime)", "full_signature": "@Override public void notifyCacheSearch(long executeTime)", "class_method_signature": "StagemonitorCacheUsageListener.notifyCacheSearch(long executeTime)", "testcase": false, "constructor": false}, {"identifier": "notifyXaCommit", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyXaCommit()", "full_signature": "@Override public void notifyXaCommit()", "class_method_signature": "StagemonitorCacheUsageListener.notifyXaCommit()", "testcase": false, "constructor": false}, {"identifier": "notifyXaRollback", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void notifyXaRollback()", "full_signature": "@Override public void notifyXaRollback()", "class_method_signature": "StagemonitorCacheUsageListener.notifyXaRollback()", "testcase": false, "constructor": false}], "file": "stagemonitor-ehcache/src/main/java/org/stagemonitor/ehcache/StagemonitorCacheUsageListener.java"}, "focal_method": {"identifier": "notifyGetTimeNanos", "parameters": "(long nanos)", "modifiers": "@Override public", "return": "void", "body": "@Override\n\tpublic void notifyGetTimeNanos(long nanos) {\n\t\tif (timeGet) {\n\t\t\tregistry.timer(getMetricName).update(nanos, TimeUnit.NANOSECONDS);\n\t\t} else {\n\t\t\tregistry.meter(getMetricName).mark();\n\t\t}\n\t}", "signature": "void notifyGetTimeNanos(long nanos)", "full_signature": "@Override public void notifyGetTimeNanos(long nanos)", "class_method_signature": "StagemonitorCacheUsageListener.notifyGetTimeNanos(long nanos)", "testcase": false, "constructor": false, "invocations": ["update", "timer", "mark", "meter"]}, "repository": {"repo_id": 11845993, "url": "https://github.com/stagemonitor/stagemonitor", "language": "Java", "is_fork": false, "fork_count": 268, "stargazer_count": 1585, "size": 10342, "license": "licensed"}}