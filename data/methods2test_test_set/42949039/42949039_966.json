{"test_class": {"identifier": "RetentionExpirationDestroyerControllerTest", "superclass": "extends AbstractRetentionExpirationDestroyerTest", "interfaces": "", "fields": [], "file": "herd-code/herd-tools/herd-retention-expiration-destroyer/src/test/java/org/finra/herd/tools/retention/destroyer/RetentionExpirationDestroyerControllerTest.java"}, "test_case": {"identifier": "testPerformRetentionExpirationDestruction", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testPerformRetentionExpirationDestruction() throws Exception\n    {\n        // Create a local input CSV file.\n        File inputCsvFile = createLocalInputCsvFile();\n\n        // Create and initialize the registration server DTO.\n        RegServerAccessParamsDto regServerAccessParamsDto =\n            RegServerAccessParamsDto.builder().withRegServerHost(WEB_SERVICE_HOSTNAME).withRegServerPort(WEB_SERVICE_HTTPS_PORT).withUseSsl(true)\n                .withUsername(WEB_SERVICE_HTTPS_USERNAME).withPassword(WEB_SERVICE_HTTPS_PASSWORD).withTrustSelfSignedCertificate(true)\n                .withDisableHostnameVerification(true).build();\n\n        // Perform the retention expiration destruction.\n        retentionExpirationDestroyerController.performRetentionExpirationDestruction(inputCsvFile, regServerAccessParamsDto);\n    }", "signature": "void testPerformRetentionExpirationDestruction()", "full_signature": "@Test public void testPerformRetentionExpirationDestruction()", "class_method_signature": "RetentionExpirationDestroyerControllerTest.testPerformRetentionExpirationDestruction()", "testcase": true, "constructor": false, "invocations": ["createLocalInputCsvFile", "build", "withDisableHostnameVerification", "withTrustSelfSignedCertificate", "withPassword", "withUsername", "withUseSsl", "withRegServerPort", "withRegServerHost", "builder", "performRetentionExpirationDestruction"]}, "focal_class": {"identifier": "RetentionExpirationDestroyerController", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String[] CSV_FILE_HEADER_COLUMNS =\n        {\"Namespace\", \"Business Object Definition Name\", \"Business Object Format Usage\", \"Business Object Format File Type\", \"Business Object Format Version\",\n            \"Primary Partition Value\", \"Sub-Partition Value 1\", \"Sub-Partition Value 2\", \"Sub-Partition Value 3\", \"Sub-Partition Value 4\",\n            \"Business Object Data Version\", \"Business Object Definition Display Name\", \"Business Object Definition URI\"};", "modifier": "private static final", "type": "String[]", "declarator": "CSV_FILE_HEADER_COLUMNS =\n        {\"Namespace\", \"Business Object Definition Name\", \"Business Object Format Usage\", \"Business Object Format File Type\", \"Business Object Format Version\",\n            \"Primary Partition Value\", \"Sub-Partition Value 1\", \"Sub-Partition Value 2\", \"Sub-Partition Value 3\", \"Sub-Partition Value 4\",\n            \"Business Object Data Version\", \"Business Object Definition Display Name\", \"Business Object Definition URI\"}", "var_name": "CSV_FILE_HEADER_COLUMNS"}, {"original_string": "private static final Logger LOGGER = LoggerFactory.getLogger(RetentionExpirationDestroyerController.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(RetentionExpirationDestroyerController.class)", "var_name": "LOGGER"}, {"original_string": "@Autowired\n    private JsonHelper jsonHelper;", "modifier": "@Autowired\n    private", "type": "JsonHelper", "declarator": "jsonHelper", "var_name": "jsonHelper"}, {"original_string": "@Autowired\n    private RetentionExpirationDestroyerWebClient retentionExpirationDestroyerWebClient;", "modifier": "@Autowired\n    private", "type": "RetentionExpirationDestroyerWebClient", "declarator": "retentionExpirationDestroyerWebClient", "var_name": "retentionExpirationDestroyerWebClient"}], "methods": [{"identifier": "performRetentionExpirationDestruction", "parameters": "(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto)", "modifiers": "public", "return": "void", "signature": "void performRetentionExpirationDestruction(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto)", "full_signature": "public void performRetentionExpirationDestruction(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto)", "class_method_signature": "RetentionExpirationDestroyerController.performRetentionExpirationDestruction(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto)", "testcase": false, "constructor": false}, {"identifier": "getBusinessObjectDataKey", "parameters": "(String[] line, int lineNumber, File inputCsvFile)", "modifiers": "protected", "return": "BusinessObjectDataKey", "signature": "BusinessObjectDataKey getBusinessObjectDataKey(String[] line, int lineNumber, File inputCsvFile)", "full_signature": "protected BusinessObjectDataKey getBusinessObjectDataKey(String[] line, int lineNumber, File inputCsvFile)", "class_method_signature": "RetentionExpirationDestroyerController.getBusinessObjectDataKey(String[] line, int lineNumber, File inputCsvFile)", "testcase": false, "constructor": false}, {"identifier": "getBusinessObjectDataKeys", "parameters": "(File inputCsvFile)", "modifiers": "protected", "return": "List<BusinessObjectDataKey>", "signature": "List<BusinessObjectDataKey> getBusinessObjectDataKeys(File inputCsvFile)", "full_signature": "protected List<BusinessObjectDataKey> getBusinessObjectDataKeys(File inputCsvFile)", "class_method_signature": "RetentionExpirationDestroyerController.getBusinessObjectDataKeys(File inputCsvFile)", "testcase": false, "constructor": false}], "file": "herd-code/herd-tools/herd-retention-expiration-destroyer/src/main/java/org/finra/herd/tools/retention/destroyer/RetentionExpirationDestroyerController.java"}, "focal_method": {"identifier": "performRetentionExpirationDestruction", "parameters": "(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto)", "modifiers": "public", "return": "void", "body": "public void performRetentionExpirationDestruction(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto) throws Exception\n    {\n        // Read business object data keys from the input CSV file.\n        List<BusinessObjectDataKey> businessObjectDataKeys = getBusinessObjectDataKeys(localInputFile);\n\n        // Initialize the web client.\n        retentionExpirationDestroyerWebClient.setRegServerAccessParamsDto(regServerAccessParamsDto);\n\n        // Process business object data keys one by one.\n        LOGGER.info(\"Processing {} business object data instances for destruction.\", CollectionUtils.size(businessObjectDataKeys));\n        for (BusinessObjectDataKey businessObjectDataKey : businessObjectDataKeys)\n        {\n            retentionExpirationDestroyerWebClient.destroyBusinessObjectData(businessObjectDataKey);\n            LOGGER.info(\"Successfully marked for destruction. Business object data {}\", jsonHelper.objectToJson(businessObjectDataKey));\n        }\n\n        LOGGER.info(\"Successfully processed {} business object data instances for destruction.\", CollectionUtils.size(businessObjectDataKeys));\n    }", "signature": "void performRetentionExpirationDestruction(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto)", "full_signature": "public void performRetentionExpirationDestruction(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto)", "class_method_signature": "RetentionExpirationDestroyerController.performRetentionExpirationDestruction(File localInputFile, RegServerAccessParamsDto regServerAccessParamsDto)", "testcase": false, "constructor": false, "invocations": ["getBusinessObjectDataKeys", "setRegServerAccessParamsDto", "info", "size", "destroyBusinessObjectData", "info", "objectToJson", "info", "size"]}, "repository": {"repo_id": 42949039, "url": "https://github.com/FINRAOS/herd", "language": "Java", "is_fork": false, "fork_count": 36, "stargazer_count": 120, "size": 205797, "license": "licensed"}}