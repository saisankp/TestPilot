{"test_class": {"identifier": "ItemUtilTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private Item orphan;", "modifier": "private", "type": "Item", "declarator": "orphan", "var_name": "orphan"}], "file": "coastal-hazards-portal/src/test/java/gov/usgs/cida/coastalhazards/rest/data/util/ItemUtilTest.java"}, "test_case": {"identifier": "testStripOrphanFromOneAncestor", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testStripOrphanFromOneAncestor() {\n\t\tItem parent = new Item();\n\t\tparent.setId(\"parent\");\n\t\tparent.setChildren(\n\t\t\tnew ArrayList<>(Arrays.asList(orphan))\n\t\t);\n\t\t\n\t\tItem expectedParent = Item.copyValues(parent, null);\n\t\t//remove child\n\t\texpectedParent.setChildren(null);\n\t\t\n\t\tList<Item> expectedItems = new ArrayList<>(Arrays.asList(expectedParent));\n\t\t\n\t\tList<Item> ancestors = new ArrayList<>(Arrays.asList(parent));\n\t\tList<Item> actualItems = ItemUtil.stripOrphanFromAncestors(orphan, ancestors);\n\t\tassertEquals(expectedItems, actualItems);\n\t}", "signature": "void testStripOrphanFromOneAncestor()", "full_signature": "@Test public void testStripOrphanFromOneAncestor()", "class_method_signature": "ItemUtilTest.testStripOrphanFromOneAncestor()", "testcase": true, "constructor": false, "invocations": ["setId", "setChildren", "asList", "copyValues", "setChildren", "asList", "asList", "stripOrphanFromAncestors", "assertEquals"]}, "focal_class": {"identifier": "ItemUtil", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final int MAX_DEPTH = 20;", "modifier": "private static final", "type": "int", "declarator": "MAX_DEPTH = 20", "var_name": "MAX_DEPTH"}, {"original_string": "private static final ItemLastUpdateComparator updateComparator = new ItemLastUpdateComparator();", "modifier": "private static final", "type": "ItemLastUpdateComparator", "declarator": "updateComparator = new ItemLastUpdateComparator()", "var_name": "updateComparator"}], "methods": [{"identifier": "gatherAttributes", "parameters": "(Item item)", "modifiers": "public static", "return": "SortedSet<String>", "signature": "SortedSet<String> gatherAttributes(Item item)", "full_signature": "public static SortedSet<String> gatherAttributes(Item item)", "class_method_signature": "ItemUtil.gatherAttributes(Item item)", "testcase": false, "constructor": false}, {"identifier": "gatherAttributes", "parameters": "(Item item, int depth)", "modifiers": "private static", "return": "SortedSet<String>", "signature": "SortedSet<String> gatherAttributes(Item item, int depth)", "full_signature": "private static SortedSet<String> gatherAttributes(Item item, int depth)", "class_method_signature": "ItemUtil.gatherAttributes(Item item, int depth)", "testcase": false, "constructor": false}, {"identifier": "gatherNewest", "parameters": "(Item item)", "modifiers": "public static", "return": "Item", "signature": "Item gatherNewest(Item item)", "full_signature": "public static Item gatherNewest(Item item)", "class_method_signature": "ItemUtil.gatherNewest(Item item)", "testcase": false, "constructor": false}, {"identifier": "gatherNewest", "parameters": "(List<Item> items)", "modifiers": "public static", "return": "Item", "signature": "Item gatherNewest(List<Item> items)", "full_signature": "public static Item gatherNewest(List<Item> items)", "class_method_signature": "ItemUtil.gatherNewest(List<Item> items)", "testcase": false, "constructor": false}, {"identifier": "gatherNewest", "parameters": "(Item item, int depth)", "modifiers": "private static", "return": "Item", "signature": "Item gatherNewest(Item item, int depth)", "full_signature": "private static Item gatherNewest(Item item, int depth)", "class_method_signature": "ItemUtil.gatherNewest(Item item, int depth)", "testcase": false, "constructor": false}, {"identifier": "stripOrphanFromAncestors", "parameters": "(Item itemToOrphan, List<Item> ancestors)", "modifiers": "public static", "return": "List<Item>", "signature": "List<Item> stripOrphanFromAncestors(Item itemToOrphan, List<Item> ancestors)", "full_signature": "public static List<Item> stripOrphanFromAncestors(Item itemToOrphan, List<Item> ancestors)", "class_method_signature": "ItemUtil.stripOrphanFromAncestors(Item itemToOrphan, List<Item> ancestors)", "testcase": false, "constructor": false}], "file": "coastal-hazards-portal/src/main/java/gov/usgs/cida/coastalhazards/rest/data/util/ItemUtil.java"}, "focal_method": {"identifier": "stripOrphanFromAncestors", "parameters": "(Item itemToOrphan, List<Item> ancestors)", "modifiers": "public static", "return": "List<Item>", "body": "public static List<Item> stripOrphanFromAncestors(Item itemToOrphan, List<Item> ancestors) {\n\t\tList<Item> ancestorsWithoutOrphan = ancestors.stream().map((ancestor) -> {\n\t\t\tList<Item> children = ancestor.getChildren();\n\t\t\tif (null != children) {\n\t\t\t\tchildren.removeAll(Arrays.asList(itemToOrphan));\n\t\t\t\tancestor.setChildren(children);\n\t\t\t}\n\t\t\treturn ancestor;\n\t\t}).collect(Collectors.toList());\n\t\treturn ancestorsWithoutOrphan;\n\t}", "signature": "List<Item> stripOrphanFromAncestors(Item itemToOrphan, List<Item> ancestors)", "full_signature": "public static List<Item> stripOrphanFromAncestors(Item itemToOrphan, List<Item> ancestors)", "class_method_signature": "ItemUtil.stripOrphanFromAncestors(Item itemToOrphan, List<Item> ancestors)", "testcase": false, "constructor": false, "invocations": ["collect", "map", "stream", "getChildren", "removeAll", "asList", "setChildren", "toList"]}, "repository": {"repo_id": 6888625, "url": "https://github.com/USGS-CIDA/coastal-hazards", "language": "Java", "is_fork": false, "fork_count": 28, "stargazer_count": 5, "size": 37212, "license": "licensed"}}