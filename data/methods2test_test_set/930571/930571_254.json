{"test_class": {"identifier": "PeopleAssignmentHelperTest", "superclass": "extends AbstractBaseTest", "interfaces": "", "fields": [{"original_string": "private PeopleAssignmentHelper peopleAssignmentHelper;", "modifier": "private", "type": "PeopleAssignmentHelper", "declarator": "peopleAssignmentHelper", "var_name": "peopleAssignmentHelper"}], "file": "jbpm-human-task/jbpm-human-task-workitems/src/test/java/org/jbpm/services/task/wih/util/PeopleAssignmentHelperTest.java"}, "test_case": {"identifier": "testAssignRecipients", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testAssignRecipients() {\n\n        String recipientId = \"espiegelberg\";\n\n        Task task = TaskModelProvider.getFactory().newTask();\n        InternalPeopleAssignments peopleAssignments = peopleAssignmentHelper.getNullSafePeopleAssignments(task);\n\n        WorkItem workItem = new WorkItemImpl();\n        workItem.setParameter(PeopleAssignmentHelper.RECIPIENT_ID, recipientId);\n\n        peopleAssignmentHelper.assignRecipients(workItem, peopleAssignments);\n        assertEquals(1, peopleAssignments.getRecipients().size());\n        OrganizationalEntity organizationalEntity1 = peopleAssignments.getRecipients().get(0);\n        assertTrue(organizationalEntity1 instanceof User);\n        assertEquals(recipientId, organizationalEntity1.getId());\n\n    }", "signature": "void testAssignRecipients()", "full_signature": "@Test public void testAssignRecipients()", "class_method_signature": "PeopleAssignmentHelperTest.testAssignRecipients()", "testcase": true, "constructor": false, "invocations": ["newTask", "getFactory", "getNullSafePeopleAssignments", "setParameter", "assignRecipients", "assertEquals", "size", "getRecipients", "get", "getRecipients", "assertTrue", "assertEquals", "getId"]}, "focal_class": {"identifier": "PeopleAssignmentHelper", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final String ACTOR_ID = \"ActorId\";", "modifier": "public static final", "type": "String", "declarator": "ACTOR_ID = \"ActorId\"", "var_name": "ACTOR_ID"}, {"original_string": "public static final String GROUP_ID = \"GroupId\";", "modifier": "public static final", "type": "String", "declarator": "GROUP_ID = \"GroupId\"", "var_name": "GROUP_ID"}, {"original_string": "public static final String BUSINESSADMINISTRATOR_ID = \"BusinessAdministratorId\";", "modifier": "public static final", "type": "String", "declarator": "BUSINESSADMINISTRATOR_ID = \"BusinessAdministratorId\"", "var_name": "BUSINESSADMINISTRATOR_ID"}, {"original_string": "public static final String BUSINESSADMINISTRATOR_GROUP_ID = \"BusinessAdministratorGroupId\";", "modifier": "public static final", "type": "String", "declarator": "BUSINESSADMINISTRATOR_GROUP_ID = \"BusinessAdministratorGroupId\"", "var_name": "BUSINESSADMINISTRATOR_GROUP_ID"}, {"original_string": "public static final String TASKSTAKEHOLDER_ID = \"TaskStakeholderId\";", "modifier": "public static final", "type": "String", "declarator": "TASKSTAKEHOLDER_ID = \"TaskStakeholderId\"", "var_name": "TASKSTAKEHOLDER_ID"}, {"original_string": "public static final String EXCLUDED_OWNER_ID = \"ExcludedOwnerId\";", "modifier": "public static final", "type": "String", "declarator": "EXCLUDED_OWNER_ID = \"ExcludedOwnerId\"", "var_name": "EXCLUDED_OWNER_ID"}, {"original_string": "public static final String RECIPIENT_ID = \"RecipientId\";", "modifier": "public static final", "type": "String", "declarator": "RECIPIENT_ID = \"RecipientId\"", "var_name": "RECIPIENT_ID"}, {"original_string": "public static final String DEFAULT_ADMIN_USER = System.getProperty(\"org.jbpm.ht.admin.user\", \"Administrator\");", "modifier": "public static final", "type": "String", "declarator": "DEFAULT_ADMIN_USER = System.getProperty(\"org.jbpm.ht.admin.user\", \"Administrator\")", "var_name": "DEFAULT_ADMIN_USER"}, {"original_string": "public static final String DEFAULT_ADMIN_GROUP = System.getProperty(\"org.jbpm.ht.admin.group\", \"Administrators\");", "modifier": "public static final", "type": "String", "declarator": "DEFAULT_ADMIN_GROUP = System.getProperty(\"org.jbpm.ht.admin.group\", \"Administrators\")", "var_name": "DEFAULT_ADMIN_GROUP"}, {"original_string": "private String separator;", "modifier": "private", "type": "String", "declarator": "separator", "var_name": "separator"}, {"original_string": "private CaseData caseFile;", "modifier": "private", "type": "CaseData", "declarator": "caseFile", "var_name": "caseFile"}, {"original_string": "private String administratorUser = DEFAULT_ADMIN_USER;", "modifier": "private", "type": "String", "declarator": "administratorUser = DEFAULT_ADMIN_USER", "var_name": "administratorUser"}, {"original_string": "private String administratorGroup = DEFAULT_ADMIN_GROUP;", "modifier": "private", "type": "String", "declarator": "administratorGroup = DEFAULT_ADMIN_GROUP", "var_name": "administratorGroup"}, {"original_string": "private Predicate<? super OrganizationalEntity> userFilter = (OrganizationalEntity oe) -> { return oe instanceof User;};", "modifier": "private", "type": "Predicate<? super OrganizationalEntity>", "declarator": "userFilter = (OrganizationalEntity oe) -> { return oe instanceof User;}", "var_name": "userFilter"}, {"original_string": "private Predicate<? super OrganizationalEntity> groupFilter = (OrganizationalEntity oe) -> { return oe instanceof Group;};", "modifier": "private", "type": "Predicate<? super OrganizationalEntity>", "declarator": "groupFilter = (OrganizationalEntity oe) -> { return oe instanceof Group;}", "var_name": "groupFilter"}, {"original_string": "private Predicate<? super OrganizationalEntity> noFilter = (OrganizationalEntity oe) -> { return true;};", "modifier": "private", "type": "Predicate<? super OrganizationalEntity>", "declarator": "noFilter = (OrganizationalEntity oe) -> { return true;}", "var_name": "noFilter"}], "methods": [{"identifier": "PeopleAssignmentHelper", "parameters": "()", "modifiers": "public", "return": "", "signature": " PeopleAssignmentHelper()", "full_signature": "public  PeopleAssignmentHelper()", "class_method_signature": "PeopleAssignmentHelper.PeopleAssignmentHelper()", "testcase": false, "constructor": true}, {"identifier": "PeopleAssignmentHelper", "parameters": "(String separator)", "modifiers": "public", "return": "", "signature": " PeopleAssignmentHelper(String separator)", "full_signature": "public  PeopleAssignmentHelper(String separator)", "class_method_signature": "PeopleAssignmentHelper.PeopleAssignmentHelper(String separator)", "testcase": false, "constructor": true}, {"identifier": "PeopleAssignmentHelper", "parameters": "(String adminUser, String adminGroup)", "modifiers": "public", "return": "", "signature": " PeopleAssignmentHelper(String adminUser, String adminGroup)", "full_signature": "public  PeopleAssignmentHelper(String adminUser, String adminGroup)", "class_method_signature": "PeopleAssignmentHelper.PeopleAssignmentHelper(String adminUser, String adminGroup)", "testcase": false, "constructor": true}, {"identifier": "PeopleAssignmentHelper", "parameters": "(CaseData caseFile)", "modifiers": "public", "return": "", "signature": " PeopleAssignmentHelper(CaseData caseFile)", "full_signature": "public  PeopleAssignmentHelper(CaseData caseFile)", "class_method_signature": "PeopleAssignmentHelper.PeopleAssignmentHelper(CaseData caseFile)", "testcase": false, "constructor": true}, {"identifier": "handlePeopleAssignments", "parameters": "(WorkItem workItem, InternalTask task, InternalTaskData taskData)", "modifiers": "public", "return": "void", "signature": "void handlePeopleAssignments(WorkItem workItem, InternalTask task, InternalTaskData taskData)", "full_signature": "public void handlePeopleAssignments(WorkItem workItem, InternalTask task, InternalTaskData taskData)", "class_method_signature": "PeopleAssignmentHelper.handlePeopleAssignments(WorkItem workItem, InternalTask task, InternalTaskData taskData)", "testcase": false, "constructor": false}, {"identifier": "assignActors", "parameters": "(WorkItem workItem, PeopleAssignments peopleAssignments, InternalTaskData taskData)", "modifiers": "@SuppressWarnings(\"unchecked\") protected", "return": "void", "signature": "void assignActors(WorkItem workItem, PeopleAssignments peopleAssignments, InternalTaskData taskData)", "full_signature": "@SuppressWarnings(\"unchecked\") protected void assignActors(WorkItem workItem, PeopleAssignments peopleAssignments, InternalTaskData taskData)", "class_method_signature": "PeopleAssignmentHelper.assignActors(WorkItem workItem, PeopleAssignments peopleAssignments, InternalTaskData taskData)", "testcase": false, "constructor": false}, {"identifier": "assignGroups", "parameters": "(WorkItem workItem, PeopleAssignments peopleAssignments)", "modifiers": "@SuppressWarnings(\"unchecked\") protected", "return": "void", "signature": "void assignGroups(WorkItem workItem, PeopleAssignments peopleAssignments)", "full_signature": "@SuppressWarnings(\"unchecked\") protected void assignGroups(WorkItem workItem, PeopleAssignments peopleAssignments)", "class_method_signature": "PeopleAssignmentHelper.assignGroups(WorkItem workItem, PeopleAssignments peopleAssignments)", "testcase": false, "constructor": false}, {"identifier": "assignBusinessAdministrators", "parameters": "(WorkItem workItem, PeopleAssignments peopleAssignments)", "modifiers": "@SuppressWarnings(\"unchecked\") protected", "return": "void", "signature": "void assignBusinessAdministrators(WorkItem workItem, PeopleAssignments peopleAssignments)", "full_signature": "@SuppressWarnings(\"unchecked\") protected void assignBusinessAdministrators(WorkItem workItem, PeopleAssignments peopleAssignments)", "class_method_signature": "PeopleAssignmentHelper.assignBusinessAdministrators(WorkItem workItem, PeopleAssignments peopleAssignments)", "testcase": false, "constructor": false}, {"identifier": "assignTaskStakeholders", "parameters": "(WorkItem workItem, InternalPeopleAssignments peopleAssignments)", "modifiers": "@SuppressWarnings(\"unchecked\") protected", "return": "void", "signature": "void assignTaskStakeholders(WorkItem workItem, InternalPeopleAssignments peopleAssignments)", "full_signature": "@SuppressWarnings(\"unchecked\") protected void assignTaskStakeholders(WorkItem workItem, InternalPeopleAssignments peopleAssignments)", "class_method_signature": "PeopleAssignmentHelper.assignTaskStakeholders(WorkItem workItem, InternalPeopleAssignments peopleAssignments)", "testcase": false, "constructor": false}, {"identifier": "assignExcludedOwners", "parameters": "(WorkItem workItem, InternalPeopleAssignments peopleAssignments)", "modifiers": "@SuppressWarnings(\"unchecked\") protected", "return": "void", "signature": "void assignExcludedOwners(WorkItem workItem, InternalPeopleAssignments peopleAssignments)", "full_signature": "@SuppressWarnings(\"unchecked\") protected void assignExcludedOwners(WorkItem workItem, InternalPeopleAssignments peopleAssignments)", "class_method_signature": "PeopleAssignmentHelper.assignExcludedOwners(WorkItem workItem, InternalPeopleAssignments peopleAssignments)", "testcase": false, "constructor": false}, {"identifier": "assignRecipients", "parameters": "(WorkItem workItem, InternalPeopleAssignments peopleAssignments)", "modifiers": "@SuppressWarnings(\"unchecked\") protected", "return": "void", "signature": "void assignRecipients(WorkItem workItem, InternalPeopleAssignments peopleAssignments)", "full_signature": "@SuppressWarnings(\"unchecked\") protected void assignRecipients(WorkItem workItem, InternalPeopleAssignments peopleAssignments)", "class_method_signature": "PeopleAssignmentHelper.assignRecipients(WorkItem workItem, InternalPeopleAssignments peopleAssignments)", "testcase": false, "constructor": false}, {"identifier": "processPeopleAssignments", "parameters": "(String peopleAssignmentIds, List<OrganizationalEntity> organizationalEntities, boolean user)", "modifiers": "protected", "return": "void", "signature": "void processPeopleAssignments(String peopleAssignmentIds, List<OrganizationalEntity> organizationalEntities, boolean user)", "full_signature": "protected void processPeopleAssignments(String peopleAssignmentIds, List<OrganizationalEntity> organizationalEntities, boolean user)", "class_method_signature": "PeopleAssignmentHelper.processPeopleAssignments(String peopleAssignmentIds, List<OrganizationalEntity> organizationalEntities, boolean user)", "testcase": false, "constructor": false}, {"identifier": "processPeopleAssignments", "parameters": "(Collection<OrganizationalEntity> peopleAssignmentIds, List<OrganizationalEntity> organizationalEntities)", "modifiers": "protected", "return": "void", "signature": "void processPeopleAssignments(Collection<OrganizationalEntity> peopleAssignmentIds, List<OrganizationalEntity> organizationalEntities)", "full_signature": "protected void processPeopleAssignments(Collection<OrganizationalEntity> peopleAssignmentIds, List<OrganizationalEntity> organizationalEntities)", "class_method_signature": "PeopleAssignmentHelper.processPeopleAssignments(Collection<OrganizationalEntity> peopleAssignmentIds, List<OrganizationalEntity> organizationalEntities)", "testcase": false, "constructor": false}, {"identifier": "getNullSafePeopleAssignments", "parameters": "(Task task)", "modifiers": "protected", "return": "InternalPeopleAssignments", "signature": "InternalPeopleAssignments getNullSafePeopleAssignments(Task task)", "full_signature": "protected InternalPeopleAssignments getNullSafePeopleAssignments(Task task)", "class_method_signature": "PeopleAssignmentHelper.getNullSafePeopleAssignments(Task task)", "testcase": false, "constructor": false}, {"identifier": "hasAdminAssigned", "parameters": "(Collection<OrganizationalEntity> businessAdmins)", "modifiers": "protected", "return": "boolean", "signature": "boolean hasAdminAssigned(Collection<OrganizationalEntity> businessAdmins)", "full_signature": "protected boolean hasAdminAssigned(Collection<OrganizationalEntity> businessAdmins)", "class_method_signature": "PeopleAssignmentHelper.hasAdminAssigned(Collection<OrganizationalEntity> businessAdmins)", "testcase": false, "constructor": false}, {"identifier": "adjustParam", "parameters": "(Object currentValue, Predicate<? super OrganizationalEntity> filter)", "modifiers": "protected", "return": "Object", "signature": "Object adjustParam(Object currentValue, Predicate<? super OrganizationalEntity> filter)", "full_signature": "protected Object adjustParam(Object currentValue, Predicate<? super OrganizationalEntity> filter)", "class_method_signature": "PeopleAssignmentHelper.adjustParam(Object currentValue, Predicate<? super OrganizationalEntity> filter)", "testcase": false, "constructor": false}], "file": "jbpm-human-task/jbpm-human-task-workitems/src/main/java/org/jbpm/services/task/wih/util/PeopleAssignmentHelper.java"}, "focal_method": {"identifier": "assignRecipients", "parameters": "(WorkItem workItem, InternalPeopleAssignments peopleAssignments)", "modifiers": "@SuppressWarnings(\"unchecked\") protected", "return": "void", "body": "@SuppressWarnings(\"unchecked\")\n    protected void assignRecipients(WorkItem workItem, InternalPeopleAssignments peopleAssignments) {\n        List<OrganizationalEntity> recipients = peopleAssignments.getRecipients();\n        \n        Object recipientIds = adjustParam(workItem.getParameter(RECIPIENT_ID), noFilter);\n        \n        if (recipientIds instanceof Collection) {\n            processPeopleAssignments((Collection<OrganizationalEntity>)recipientIds, recipients);\n        } else {\n            processPeopleAssignments((String)recipientIds, recipients, true);\n        }\n\n    }", "signature": "void assignRecipients(WorkItem workItem, InternalPeopleAssignments peopleAssignments)", "full_signature": "@SuppressWarnings(\"unchecked\") protected void assignRecipients(WorkItem workItem, InternalPeopleAssignments peopleAssignments)", "class_method_signature": "PeopleAssignmentHelper.assignRecipients(WorkItem workItem, InternalPeopleAssignments peopleAssignments)", "testcase": false, "constructor": false, "invocations": ["getRecipients", "adjustParam", "getParameter", "processPeopleAssignments", "processPeopleAssignments"]}, "repository": {"repo_id": 930571, "url": "https://github.com/kiegroup/jbpm", "stars": 1035, "created": "9/22/2010 1:19:52 PM +00:00", "updates": "2020-01-22T03:39:57+00:00", "fork": "False", "license": "licensed"}}