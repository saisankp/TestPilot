{"test_class": {"identifier": "SharedMetricRegistriesTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Rule\n    public ExpectedException exception = ExpectedException.none();", "modifier": "@Rule\n    public", "type": "ExpectedException", "declarator": "exception = ExpectedException.none()", "var_name": "exception"}], "file": "metrics-core/src/test/java/com/codahale/metrics/SharedMetricRegistriesTest.java"}, "test_case": {"identifier": "memorizesRegistriesByName", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void memorizesRegistriesByName() {\n        final MetricRegistry one = SharedMetricRegistries.getOrCreate(\"one\");\n        final MetricRegistry two = SharedMetricRegistries.getOrCreate(\"one\");\n\n        assertThat(one)\n                .isSameAs(two);\n    }", "signature": "void memorizesRegistriesByName()", "full_signature": "@Test public void memorizesRegistriesByName()", "class_method_signature": "SharedMetricRegistriesTest.memorizesRegistriesByName()", "testcase": true, "constructor": false, "invocations": ["getOrCreate", "getOrCreate", "isSameAs", "assertThat"]}, "focal_class": {"identifier": "SharedMetricRegistries", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final ConcurrentMap<String, MetricRegistry> REGISTRIES =\n            new ConcurrentHashMap<>();", "modifier": "private static final", "type": "ConcurrentMap<String, MetricRegistry>", "declarator": "REGISTRIES =\n            new ConcurrentHashMap<>()", "var_name": "REGISTRIES"}, {"original_string": "private static AtomicReference<String> defaultRegistryName = new AtomicReference<>();", "modifier": "private static", "type": "AtomicReference<String>", "declarator": "defaultRegistryName = new AtomicReference<>()", "var_name": "defaultRegistryName"}], "methods": [{"identifier": "setDefaultRegistryName", "parameters": "(AtomicReference<String> defaultRegistryName)", "modifiers": "static", "return": "void", "signature": "void setDefaultRegistryName(AtomicReference<String> defaultRegistryName)", "full_signature": "static void setDefaultRegistryName(AtomicReference<String> defaultRegistryName)", "class_method_signature": "SharedMetricRegistries.setDefaultRegistryName(AtomicReference<String> defaultRegistryName)", "testcase": false, "constructor": false}, {"identifier": "SharedMetricRegistries", "parameters": "()", "modifiers": "private", "return": "", "signature": " SharedMetricRegistries()", "full_signature": "private  SharedMetricRegistries()", "class_method_signature": "SharedMetricRegistries.SharedMetricRegistries()", "testcase": false, "constructor": true}, {"identifier": "clear", "parameters": "()", "modifiers": "public static", "return": "void", "signature": "void clear()", "full_signature": "public static void clear()", "class_method_signature": "SharedMetricRegistries.clear()", "testcase": false, "constructor": false}, {"identifier": "names", "parameters": "()", "modifiers": "public static", "return": "Set<String>", "signature": "Set<String> names()", "full_signature": "public static Set<String> names()", "class_method_signature": "SharedMetricRegistries.names()", "testcase": false, "constructor": false}, {"identifier": "remove", "parameters": "(String key)", "modifiers": "public static", "return": "void", "signature": "void remove(String key)", "full_signature": "public static void remove(String key)", "class_method_signature": "SharedMetricRegistries.remove(String key)", "testcase": false, "constructor": false}, {"identifier": "add", "parameters": "(String name, MetricRegistry registry)", "modifiers": "public static", "return": "MetricRegistry", "signature": "MetricRegistry add(String name, MetricRegistry registry)", "full_signature": "public static MetricRegistry add(String name, MetricRegistry registry)", "class_method_signature": "SharedMetricRegistries.add(String name, MetricRegistry registry)", "testcase": false, "constructor": false}, {"identifier": "getOrCreate", "parameters": "(String name)", "modifiers": "public static", "return": "MetricRegistry", "signature": "MetricRegistry getOrCreate(String name)", "full_signature": "public static MetricRegistry getOrCreate(String name)", "class_method_signature": "SharedMetricRegistries.getOrCreate(String name)", "testcase": false, "constructor": false}, {"identifier": "setDefault", "parameters": "(String name)", "modifiers": "public synchronized static", "return": "MetricRegistry", "signature": "MetricRegistry setDefault(String name)", "full_signature": "public synchronized static MetricRegistry setDefault(String name)", "class_method_signature": "SharedMetricRegistries.setDefault(String name)", "testcase": false, "constructor": false}, {"identifier": "setDefault", "parameters": "(String name, MetricRegistry metricRegistry)", "modifiers": "public static", "return": "MetricRegistry", "signature": "MetricRegistry setDefault(String name, MetricRegistry metricRegistry)", "full_signature": "public static MetricRegistry setDefault(String name, MetricRegistry metricRegistry)", "class_method_signature": "SharedMetricRegistries.setDefault(String name, MetricRegistry metricRegistry)", "testcase": false, "constructor": false}, {"identifier": "getDefault", "parameters": "()", "modifiers": "public static", "return": "MetricRegistry", "signature": "MetricRegistry getDefault()", "full_signature": "public static MetricRegistry getDefault()", "class_method_signature": "SharedMetricRegistries.getDefault()", "testcase": false, "constructor": false}, {"identifier": "tryGetDefault", "parameters": "()", "modifiers": "public static", "return": "MetricRegistry", "signature": "MetricRegistry tryGetDefault()", "full_signature": "public static MetricRegistry tryGetDefault()", "class_method_signature": "SharedMetricRegistries.tryGetDefault()", "testcase": false, "constructor": false}], "file": "metrics-core/src/main/java/com/codahale/metrics/SharedMetricRegistries.java"}, "focal_method": {"identifier": "getOrCreate", "parameters": "(String name)", "modifiers": "public static", "return": "MetricRegistry", "body": "public static MetricRegistry getOrCreate(String name) {\n        final MetricRegistry existing = REGISTRIES.get(name);\n        if (existing == null) {\n            final MetricRegistry created = new MetricRegistry();\n            final MetricRegistry raced = add(name, created);\n            if (raced == null) {\n                return created;\n            }\n            return raced;\n        }\n        return existing;\n    }", "signature": "MetricRegistry getOrCreate(String name)", "full_signature": "public static MetricRegistry getOrCreate(String name)", "class_method_signature": "SharedMetricRegistries.getOrCreate(String name)", "testcase": false, "constructor": false, "invocations": ["get", "add"]}, "repository": {"repo_id": 537800, "url": "https://github.com/dropwizard/metrics", "stars": 6879, "created": "2/26/2010 7:44:42 PM +00:00", "updates": "2020-01-26T22:33:14+00:00", "fork": "False", "license": "licensed"}}