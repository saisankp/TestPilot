{"test_class": {"identifier": "IndexFactoryTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String INDEX_NAME = \"index_name\";", "modifier": "private static final", "type": "String", "declarator": "INDEX_NAME = \"index_name\"", "var_name": "INDEX_NAME"}, {"original_string": "private static final boolean UNIQUE = true;", "modifier": "private static final", "type": "boolean", "declarator": "UNIQUE = true", "var_name": "UNIQUE"}, {"original_string": "private static final boolean BACKGROUND = true;", "modifier": "private static final", "type": "boolean", "declarator": "BACKGROUND = true", "var_name": "BACKGROUND"}, {"original_string": "private static final String FIELD_1_NAME = \"field1\";", "modifier": "private static final", "type": "String", "declarator": "FIELD_1_NAME = \"field1\"", "var_name": "FIELD_1_NAME"}, {"original_string": "private static final String FIELD_2_NAME = \"field2\";", "modifier": "private static final", "type": "String", "declarator": "FIELD_2_NAME = \"field2\"", "var_name": "FIELD_2_NAME"}], "file": "services/utils/persistence/src/test/java/org/eclipse/ditto/services/utils/persistence/mongo/indices/IndexFactoryTest.java"}, "test_case": {"identifier": "newInstanceWithCustomKeys", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void newInstanceWithCustomKeys() {\n        final IndexKey key1 = DefaultIndexKey.of(FIELD_1_NAME, IndexDirection.ASCENDING);\n        final IndexKey key2 = DefaultIndexKey.of(FIELD_2_NAME, IndexDirection.DESCENDING);\n        final List<IndexKey> keys = Arrays.asList(key1, key2);\n\n        final Index actual = IndexFactory.newInstanceWithCustomKeys(INDEX_NAME, keys, UNIQUE);\n\n        final BsonDocument expectedKeys = new BsonDocument();\n        expectedKeys.put(FIELD_1_NAME, IndexDirection.ASCENDING.getBsonInt());\n        expectedKeys.put(FIELD_2_NAME, IndexDirection.DESCENDING.getBsonInt());\n        final Index expected = Index.of(expectedKeys, INDEX_NAME, UNIQUE, UNIQUE, BACKGROUND);\n        assertThat(actual).isEqualTo(expected);\n    }", "signature": "void newInstanceWithCustomKeys()", "full_signature": "@Test public void newInstanceWithCustomKeys()", "class_method_signature": "IndexFactoryTest.newInstanceWithCustomKeys()", "testcase": true, "constructor": false, "invocations": ["of", "of", "asList", "newInstanceWithCustomKeys", "put", "getBsonInt", "put", "getBsonInt", "of", "isEqualTo", "assertThat"]}, "focal_class": {"identifier": "IndexFactory", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final boolean BACKGROUND_OPTION_DEFAULT = true;", "modifier": "private static final", "type": "boolean", "declarator": "BACKGROUND_OPTION_DEFAULT = true", "var_name": "BACKGROUND_OPTION_DEFAULT"}], "methods": [{"identifier": "IndexFactory", "parameters": "()", "modifiers": "private", "return": "", "signature": " IndexFactory()", "full_signature": "private  IndexFactory()", "class_method_signature": "IndexFactory.IndexFactory()", "testcase": false, "constructor": true}, {"identifier": "newInstance", "parameters": "(final String name, final List<String> fields, final boolean unique)", "modifiers": "public static", "return": "Index", "signature": "Index newInstance(final String name, final List<String> fields, final boolean unique)", "full_signature": "public static Index newInstance(final String name, final List<String> fields, final boolean unique)", "class_method_signature": "IndexFactory.newInstance(final String name, final List<String> fields, final boolean unique)", "testcase": false, "constructor": false}, {"identifier": "newInstanceWithCustomKeys", "parameters": "(final String name, final List<IndexKey> keys, final boolean unique)", "modifiers": "public static", "return": "Index", "signature": "Index newInstanceWithCustomKeys(final String name, final List<IndexKey> keys, final boolean unique)", "full_signature": "public static Index newInstanceWithCustomKeys(final String name, final List<IndexKey> keys, final boolean unique)", "class_method_signature": "IndexFactory.newInstanceWithCustomKeys(final String name, final List<IndexKey> keys, final boolean unique)", "testcase": false, "constructor": false}, {"identifier": "newExpirationIndex", "parameters": "(final String name, final String field, final long expireAfterSeconds)", "modifiers": "public static", "return": "Index", "signature": "Index newExpirationIndex(final String name, final String field, final long expireAfterSeconds)", "full_signature": "public static Index newExpirationIndex(final String name, final String field, final long expireAfterSeconds)", "class_method_signature": "IndexFactory.newExpirationIndex(final String name, final String field, final long expireAfterSeconds)", "testcase": false, "constructor": false}, {"identifier": "createKeysDocument", "parameters": "(final List<IndexKey> keys)", "modifiers": "private static", "return": "BsonDocument", "signature": "BsonDocument createKeysDocument(final List<IndexKey> keys)", "full_signature": "private static BsonDocument createKeysDocument(final List<IndexKey> keys)", "class_method_signature": "IndexFactory.createKeysDocument(final List<IndexKey> keys)", "testcase": false, "constructor": false}, {"identifier": "createDefaultKeys", "parameters": "(final List<String> fieldNames)", "modifiers": "private static", "return": "List<IndexKey>", "signature": "List<IndexKey> createDefaultKeys(final List<String> fieldNames)", "full_signature": "private static List<IndexKey> createDefaultKeys(final List<String> fieldNames)", "class_method_signature": "IndexFactory.createDefaultKeys(final List<String> fieldNames)", "testcase": false, "constructor": false}], "file": "services/utils/persistence/src/main/java/org/eclipse/ditto/services/utils/persistence/mongo/indices/IndexFactory.java"}, "focal_method": {"identifier": "newInstanceWithCustomKeys", "parameters": "(final String name, final List<IndexKey> keys, final boolean unique)", "modifiers": "public static", "return": "Index", "body": "public static Index newInstanceWithCustomKeys(final String name, final List<IndexKey> keys, final boolean unique) {\n        final BsonDocument keysDocument = createKeysDocument(requireNonNull(keys));\n        return Index.of(keysDocument, name, unique, unique, BACKGROUND_OPTION_DEFAULT);\n    }", "signature": "Index newInstanceWithCustomKeys(final String name, final List<IndexKey> keys, final boolean unique)", "full_signature": "public static Index newInstanceWithCustomKeys(final String name, final List<IndexKey> keys, final boolean unique)", "class_method_signature": "IndexFactory.newInstanceWithCustomKeys(final String name, final List<IndexKey> keys, final boolean unique)", "testcase": false, "constructor": false, "invocations": ["createKeysDocument", "requireNonNull", "of"]}, "repository": {"repo_id": 87849739, "url": "https://github.com/eclipse/ditto", "stars": 139, "created": "4/10/2017 7:29:57 PM +00:00", "updates": "2020-01-27T14:02:39+00:00", "fork": "False", "license": "licensed"}}