{"test_class": {"identifier": "RunTest", "superclass": "extends DummyWorkflowReport", "interfaces": "", "fields": [{"original_string": "private static final WorkflowBundleIO workflowBundleIO = new WorkflowBundleIO();", "modifier": "private static final", "type": "WorkflowBundleIO", "declarator": "workflowBundleIO = new WorkflowBundleIO()", "var_name": "workflowBundleIO"}, {"original_string": "private Run run;", "modifier": "private", "type": "Run", "declarator": "run", "var_name": "run"}], "file": "taverna-run-impl/src/test/java/org/apache/taverna/platform/run/impl/RunTest.java"}, "test_case": {"identifier": "getBundle", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getBundle() throws Exception {\n        Bundle bundle = run.getDataBundle();\n        // Contains a copy of workflow\n        assertEquals(wfBundle.getGlobalBaseURI(),\n                DataBundles.getWorkflowBundle(bundle).getGlobalBaseURI());\n        // Contains a run report\n        Path runReport = DataBundles.getWorkflowRunReport(bundle);\n        assertTrue(Files.exists(runReport));\n        JsonNode runReportJson = DataBundles.getWorkflowRunReportAsJson(bundle);\n        assertEquals(\"COMPLETED\", runReportJson.get(\"state\").asText());\n    }", "signature": "void getBundle()", "full_signature": "@Test public void getBundle()", "class_method_signature": "RunTest.getBundle()", "testcase": true, "constructor": false, "invocations": ["getDataBundle", "assertEquals", "getGlobalBaseURI", "getGlobalBaseURI", "getWorkflowBundle", "getWorkflowRunReport", "assertTrue", "exists", "getWorkflowRunReportAsJson", "assertEquals", "asText", "get"]}, "focal_class": {"identifier": "Run", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final WorkflowReportJSON workflowReportJson = new WorkflowReportJSON();", "modifier": "private static final", "type": "WorkflowReportJSON", "declarator": "workflowReportJson = new WorkflowReportJSON()", "var_name": "workflowReportJson"}, {"original_string": "private static final Logger logger = Logger.getLogger(Run.class.getName());", "modifier": "private static final", "type": "Logger", "declarator": "logger = Logger.getLogger(Run.class.getName())", "var_name": "logger"}, {"original_string": "private final String ID, executionID;", "modifier": "private final", "type": "String", "declarator": "ID", "var_name": "ID"}, {"original_string": "private final ExecutionEnvironment executionEnvironment;", "modifier": "private final", "type": "ExecutionEnvironment", "declarator": "executionEnvironment", "var_name": "executionEnvironment"}, {"original_string": "private final WorkflowReport workflowReport;", "modifier": "private final", "type": "WorkflowReport", "declarator": "workflowReport", "var_name": "workflowReport"}, {"original_string": "private final WorkflowBundle workflowBundle;", "modifier": "private final", "type": "WorkflowBundle", "declarator": "workflowBundle", "var_name": "workflowBundle"}, {"original_string": "private final Bundle dataBundle;", "modifier": "private final", "type": "Bundle", "declarator": "dataBundle", "var_name": "dataBundle"}, {"original_string": "private final Workflow workflow;", "modifier": "private final", "type": "Workflow", "declarator": "workflow", "var_name": "workflow"}, {"original_string": "private final Profile profile;", "modifier": "private final", "type": "Profile", "declarator": "profile", "var_name": "profile"}], "methods": [{"identifier": "Run", "parameters": "(RunProfile runProfile)", "modifiers": "public", "return": "", "signature": " Run(RunProfile runProfile)", "full_signature": "public  Run(RunProfile runProfile)", "class_method_signature": "Run.Run(RunProfile runProfile)", "testcase": false, "constructor": true}, {"identifier": "Run", "parameters": "(String id, Bundle bundle)", "modifiers": "public", "return": "", "signature": " Run(String id, Bundle bundle)", "full_signature": "public  Run(String id, Bundle bundle)", "class_method_signature": "Run.Run(String id, Bundle bundle)", "testcase": false, "constructor": true}, {"identifier": "getID", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getID()", "full_signature": "public String getID()", "class_method_signature": "Run.getID()", "testcase": false, "constructor": false}, {"identifier": "getState", "parameters": "()", "modifiers": "public", "return": "State", "signature": "State getState()", "full_signature": "public State getState()", "class_method_signature": "Run.getState()", "testcase": false, "constructor": false}, {"identifier": "getDataBundle", "parameters": "()", "modifiers": "public", "return": "Bundle", "signature": "Bundle getDataBundle()", "full_signature": "public Bundle getDataBundle()", "class_method_signature": "Run.getDataBundle()", "testcase": false, "constructor": false}, {"identifier": "getWorkflowReport", "parameters": "()", "modifiers": "public", "return": "WorkflowReport", "signature": "WorkflowReport getWorkflowReport()", "full_signature": "public WorkflowReport getWorkflowReport()", "class_method_signature": "Run.getWorkflowReport()", "testcase": false, "constructor": false}, {"identifier": "getWorkflow", "parameters": "()", "modifiers": "public", "return": "Workflow", "signature": "Workflow getWorkflow()", "full_signature": "public Workflow getWorkflow()", "class_method_signature": "Run.getWorkflow()", "testcase": false, "constructor": false}, {"identifier": "getProfile", "parameters": "()", "modifiers": "public", "return": "Profile", "signature": "Profile getProfile()", "full_signature": "public Profile getProfile()", "class_method_signature": "Run.getProfile()", "testcase": false, "constructor": false}, {"identifier": "delete", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void delete()", "full_signature": "public void delete()", "class_method_signature": "Run.delete()", "testcase": false, "constructor": false}, {"identifier": "start", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void start()", "full_signature": "public void start()", "class_method_signature": "Run.start()", "testcase": false, "constructor": false}, {"identifier": "pause", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void pause()", "full_signature": "public void pause()", "class_method_signature": "Run.pause()", "testcase": false, "constructor": false}, {"identifier": "resume", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void resume()", "full_signature": "public void resume()", "class_method_signature": "Run.resume()", "testcase": false, "constructor": false}, {"identifier": "cancel", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void cancel()", "full_signature": "public void cancel()", "class_method_signature": "Run.cancel()", "testcase": false, "constructor": false}], "file": "taverna-run-impl/src/main/java/org/apache/taverna/platform/run/impl/Run.java"}, "focal_method": {"identifier": "getDataBundle", "parameters": "()", "modifiers": "public", "return": "Bundle", "body": "public Bundle getDataBundle() {\n\t\tif (getWorkflowReport() != null)\n\t\t\t// Save the workflow report\n\t\t\ttry {\n\t\t\t\tworkflowReportJson.save(getWorkflowReport(), dataBundle);\n\t\t\t} catch (IOException e) {\n\t\t\t\tlogger.log(WARNING,\n\t\t\t\t\t\t\"Can't save workflow report to data bundle\", e);\n\t\t\t}\n\t\t// Update manifest\n\t\ttry {\n\t\t\tManifest manifest = new Manifest(dataBundle);\n\t\t\tmanifest.populateFromBundle();\n\t\t\tmanifest.writeAsJsonLD();\n\t\t} catch (IOException e) {\n\t\t\tlogger.log(WARNING, \"Can't add manifest to data bundle\", e);\n\t\t}\n\t\treturn dataBundle;\n\t}", "signature": "Bundle getDataBundle()", "full_signature": "public Bundle getDataBundle()", "class_method_signature": "Run.getDataBundle()", "testcase": false, "constructor": false, "invocations": ["getWorkflowReport", "save", "getWorkflowReport", "log", "populateFromBundle", "writeAsJsonLD", "log"]}, "repository": {"repo_id": 30956939, "url": "https://github.com/apache/incubator-taverna-engine", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 12, "size": 6590, "license": "licensed"}}