{"test_class": {"identifier": "TagVisitorTest", "superclass": "extends VisitorTest", "interfaces": "", "fields": [{"original_string": "private TagVisitor tagVisitor;", "modifier": "private", "type": "TagVisitor", "declarator": "tagVisitor", "var_name": "tagVisitor"}, {"original_string": "private AllTagsPageRenderer allTagsPageRenderer;", "modifier": "private", "type": "AllTagsPageRenderer", "declarator": "allTagsPageRenderer", "var_name": "allTagsPageRenderer"}], "file": "plugin-code/src/test/java/com/trivago/cluecumber/rendering/pages/visitors/TagVisitorTest.java"}, "test_case": {"identifier": "visitTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void visitTest() throws CluecumberPluginException {\n        when(allTagsPageRenderer.getRenderedContent(any(), any())).thenReturn(\"MyRenderedTags\");\n        when(allScenariosPageRenderer.getRenderedContentByTagFilter(any(), any(), any())).thenReturn(\"MyRenderedScenarios\");\n        tagVisitor.visit(getAllScenarioPageCollection());\n        verify(fileIo, times(1))\n                .writeContentToFile(\"MyRenderedTags\", \"dummyPath/pages/tag-summary.html\");\n        verify(fileIo, times(1))\n                .writeContentToFile(\"MyRenderedScenarios\", \"dummyPath/pages/tag-scenarios/tag_myTag.html\");\n    }", "signature": "void visitTest()", "full_signature": "@Test public void visitTest()", "class_method_signature": "TagVisitorTest.visitTest()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "getRenderedContent", "any", "any", "thenReturn", "when", "getRenderedContentByTagFilter", "any", "any", "any", "visit", "getAllScenarioPageCollection", "writeContentToFile", "verify", "times", "writeContentToFile", "verify", "times"]}, "focal_class": {"identifier": "TagVisitor", "superclass": "", "interfaces": "implements PageVisitor", "fields": [{"original_string": "private final FileIO fileIO;", "modifier": "private final", "type": "FileIO", "declarator": "fileIO", "var_name": "fileIO"}, {"original_string": "private final TemplateEngine templateEngine;", "modifier": "private final", "type": "TemplateEngine", "declarator": "templateEngine", "var_name": "templateEngine"}, {"original_string": "private final PropertyManager propertyManager;", "modifier": "private final", "type": "PropertyManager", "declarator": "propertyManager", "var_name": "propertyManager"}, {"original_string": "private final AllTagsPageRenderer allTagsPageRenderer;", "modifier": "private final", "type": "AllTagsPageRenderer", "declarator": "allTagsPageRenderer", "var_name": "allTagsPageRenderer"}, {"original_string": "private final AllScenariosPageRenderer allScenariosPageRenderer;", "modifier": "private final", "type": "AllScenariosPageRenderer", "declarator": "allScenariosPageRenderer", "var_name": "allScenariosPageRenderer"}], "methods": [{"identifier": "TagVisitor", "parameters": "(\n            final FileIO fileIO,\n            final TemplateEngine templateEngine,\n            final PropertyManager propertyManager,\n            final AllTagsPageRenderer allTagsPageRenderer,\n            final AllScenariosPageRenderer allScenariosPageRenderer\n    )", "modifiers": "@Inject public", "return": "", "signature": " TagVisitor(\n            final FileIO fileIO,\n            final TemplateEngine templateEngine,\n            final PropertyManager propertyManager,\n            final AllTagsPageRenderer allTagsPageRenderer,\n            final AllScenariosPageRenderer allScenariosPageRenderer\n    )", "full_signature": "@Inject public  TagVisitor(\n            final FileIO fileIO,\n            final TemplateEngine templateEngine,\n            final PropertyManager propertyManager,\n            final AllTagsPageRenderer allTagsPageRenderer,\n            final AllScenariosPageRenderer allScenariosPageRenderer\n    )", "class_method_signature": "TagVisitor.TagVisitor(\n            final FileIO fileIO,\n            final TemplateEngine templateEngine,\n            final PropertyManager propertyManager,\n            final AllTagsPageRenderer allTagsPageRenderer,\n            final AllScenariosPageRenderer allScenariosPageRenderer\n    )", "testcase": false, "constructor": true}, {"identifier": "visit", "parameters": "(final AllScenariosPageCollection allScenariosPageCollection)", "modifiers": "@Override public", "return": "void", "signature": "void visit(final AllScenariosPageCollection allScenariosPageCollection)", "full_signature": "@Override public void visit(final AllScenariosPageCollection allScenariosPageCollection)", "class_method_signature": "TagVisitor.visit(final AllScenariosPageCollection allScenariosPageCollection)", "testcase": false, "constructor": false}], "file": "plugin-code/src/main/java/com/trivago/cluecumber/rendering/pages/visitors/TagVisitor.java"}, "focal_method": {"identifier": "visit", "parameters": "(final AllScenariosPageCollection allScenariosPageCollection)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void visit(final AllScenariosPageCollection allScenariosPageCollection) throws CluecumberPluginException {\n        AllTagsPageCollection allTagsPageCollection = new AllTagsPageCollection(\n                allScenariosPageCollection.getReports(), propertyManager.getCustomPageTitle()\n        );\n\n        // All tags page\n        fileIO.writeContentToFile(\n                allTagsPageRenderer.getRenderedContent(\n                        allTagsPageCollection,\n                        templateEngine.getTemplate(ALL_TAGS)\n                ),\n                propertyManager.getGeneratedHtmlReportDirectory() + \"/\" + PluginSettings.PAGES_DIRECTORY + \"/\" +\n                        PluginSettings.TAG_SUMMARY_PAGE_PATH + PluginSettings.HTML_FILE_EXTENSION);\n\n        // Scenarios by tag pages\n        for (Tag tag : allTagsPageCollection.getTags()) {\n            fileIO.writeContentToFile(\n                    allScenariosPageRenderer.getRenderedContentByTagFilter(\n                            allScenariosPageCollection, templateEngine.getTemplate(ALL_SCENARIOS), tag),\n                    propertyManager.getGeneratedHtmlReportDirectory() + \"/\" +\n                            PluginSettings.PAGES_DIRECTORY + PluginSettings.TAG_SCENARIO_PAGE_FRAGMENT +\n                            tag.getUrlFriendlyName() + PluginSettings.HTML_FILE_EXTENSION);\n        }\n    }", "signature": "void visit(final AllScenariosPageCollection allScenariosPageCollection)", "full_signature": "@Override public void visit(final AllScenariosPageCollection allScenariosPageCollection)", "class_method_signature": "TagVisitor.visit(final AllScenariosPageCollection allScenariosPageCollection)", "testcase": false, "constructor": false, "invocations": ["getReports", "getCustomPageTitle", "writeContentToFile", "getRenderedContent", "getTemplate", "getGeneratedHtmlReportDirectory", "getTags", "writeContentToFile", "getRenderedContentByTagFilter", "getTemplate", "getGeneratedHtmlReportDirectory", "getUrlFriendlyName"]}, "repository": {"repo_id": 109986674, "url": "https://github.com/trivago/cluecumber-report-plugin", "stars": 124, "created": "11/8/2017 2:30:19 PM +00:00", "updates": "2020-01-27T12:00:16+00:00", "fork": "False", "license": "licensed"}}