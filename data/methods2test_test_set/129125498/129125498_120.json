{"test_class": {"identifier": "DataUtilTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final double TOLERANCE = 0.001;", "modifier": "private static final", "type": "double", "declarator": "TOLERANCE = 0.001", "var_name": "TOLERANCE"}], "file": "anomdetect/src/test/java/com/expedia/adaptivealerting/anomdetect/util/DataUtilTest.java"}, "test_case": {"identifier": "testUnitScale", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testUnitScale() {\n        val data0 = new double[] { -3.0, 6.0, 0.0 };\n        val scaled0 = DataUtil.unitScale(data0);\n        assertArrayEquals(new double[] { 0.0, 1.0, 0.333 }, scaled0, TOLERANCE);\n\n        val data1 = new double[] { 25.0, 50.0, 75.0, 0.0, 100.0 };\n        val scaled1 = DataUtil.unitScale(data1);\n        assertArrayEquals(new double[] { 0.25, 0.50, 0.75, 0.0, 1.0 }, scaled1, TOLERANCE);\n    }", "signature": "void testUnitScale()", "full_signature": "@Test public void testUnitScale()", "class_method_signature": "DataUtilTest.testUnitScale()", "testcase": true, "constructor": false, "invocations": ["unitScale", "assertArrayEquals", "unitScale", "assertArrayEquals"]}, "focal_class": {"identifier": "DataUtil", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "unitScale", "parameters": "(double[] data)", "modifiers": "public static", "return": "double[]", "signature": "double[] unitScale(double[] data)", "full_signature": "public static double[] unitScale(double[] data)", "class_method_signature": "DataUtil.unitScale(double[] data)", "testcase": false, "constructor": false}], "file": "anomdetect/src/main/java/com/expedia/adaptivealerting/anomdetect/util/DataUtil.java"}, "focal_method": {"identifier": "unitScale", "parameters": "(double[] data)", "modifiers": "public static", "return": "double[]", "body": "public static double[] unitScale(double[] data) {\n        val summaryStats = Arrays.stream(data).summaryStatistics();\n        val min = summaryStats.getMin();\n        val max = summaryStats.getMax();\n        val range = max - min;\n        val denom = (range == 0.0 ? 1.0 : range);\n\n        return Arrays.stream(data)\n                .map(value -> (value - min) / denom)\n                .toArray();\n    }", "signature": "double[] unitScale(double[] data)", "full_signature": "public static double[] unitScale(double[] data)", "class_method_signature": "DataUtil.unitScale(double[] data)", "testcase": false, "constructor": false, "invocations": ["summaryStatistics", "stream", "getMin", "getMax", "toArray", "map", "stream"]}, "repository": {"repo_id": 129125498, "url": "https://github.com/ExpediaDotCom/adaptive-alerting", "stars": 104, "created": "4/11/2018 4:51:18 PM +00:00", "updates": "2020-01-24T16:20:26+00:00", "fork": "False", "license": "licensed"}}