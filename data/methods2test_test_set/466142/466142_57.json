{"test_class": {"identifier": "TestCustomThreadFactory", "superclass": "", "interfaces": "", "fields": [{"original_string": "static volatile boolean signalled = false;", "modifier": "static volatile", "type": "boolean", "declarator": "signalled = false", "var_name": "signalled"}], "file": "bonecp/src/test/java/com/jolbox/bonecp/TestCustomThreadFactory.java"}, "test_case": {"identifier": "testUncaughtException", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testUncaughtException() throws SecurityException, NoSuchFieldException, IllegalArgumentException, IllegalAccessException, InterruptedException{\n\t\tCustomThreadFactory testClass = new CustomThreadFactory(\"test\", false);\n\t\tLogger mockLogger = TestUtils.mockLogger(testClass.getClass());\n\t\tmakeThreadSafe(mockLogger, true);\n\n\t\tExecutorService executor = Executors.newSingleThreadExecutor(testClass);\n\t\tmockLogger.error((String)anyObject(), (Throwable)anyObject());\n\t\texpectLastCall().once();\n\t\treplay(mockLogger);\n\t\texecutor.execute(new MockThread());\n\t\t\n\t\tfor (int i=0; i < 5; i++) {\n\t\t\t\tsignalled = true;\n\t\t\tThread.sleep(400);\n\t\t}\n\t\tverify(mockLogger);\n\n\n\t}", "signature": "void testUncaughtException()", "full_signature": "@Test public void testUncaughtException()", "class_method_signature": "TestCustomThreadFactory.testUncaughtException()", "testcase": true, "constructor": false, "invocations": ["mockLogger", "getClass", "makeThreadSafe", "newSingleThreadExecutor", "error", "anyObject", "anyObject", "once", "expectLastCall", "replay", "execute", "sleep", "verify"]}, "focal_class": {"identifier": "CustomThreadFactory", "superclass": "", "interfaces": "implements ThreadFactory, UncaughtExceptionHandler", "fields": [{"original_string": "private boolean daemon;", "modifier": "private", "type": "boolean", "declarator": "daemon", "var_name": "daemon"}, {"original_string": "private String threadName;", "modifier": "private", "type": "String", "declarator": "threadName", "var_name": "threadName"}, {"original_string": "private static final Logger logger = LoggerFactory.getLogger(CustomThreadFactory.class);", "modifier": "private static final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(CustomThreadFactory.class)", "var_name": "logger"}], "methods": [{"identifier": "CustomThreadFactory", "parameters": "(String threadName, boolean daemon)", "modifiers": "public", "return": "", "signature": " CustomThreadFactory(String threadName, boolean daemon)", "full_signature": "public  CustomThreadFactory(String threadName, boolean daemon)", "class_method_signature": "CustomThreadFactory.CustomThreadFactory(String threadName, boolean daemon)", "testcase": false, "constructor": true}, {"identifier": "newThread", "parameters": "(Runnable r)", "modifiers": "public", "return": "Thread", "signature": "Thread newThread(Runnable r)", "full_signature": "public Thread newThread(Runnable r)", "class_method_signature": "CustomThreadFactory.newThread(Runnable r)", "testcase": false, "constructor": false}, {"identifier": "uncaughtException", "parameters": "(Thread thread, Throwable throwable)", "modifiers": "public", "return": "void", "signature": "void uncaughtException(Thread thread, Throwable throwable)", "full_signature": "public void uncaughtException(Thread thread, Throwable throwable)", "class_method_signature": "CustomThreadFactory.uncaughtException(Thread thread, Throwable throwable)", "testcase": false, "constructor": false}], "file": "bonecp/src/main/java/com/jolbox/bonecp/CustomThreadFactory.java"}, "focal_method": {"identifier": "uncaughtException", "parameters": "(Thread thread, Throwable throwable)", "modifiers": "public", "return": "void", "body": "public void uncaughtException(Thread thread, Throwable throwable) {\n\t\tlogger.error(\"Uncaught Exception in thread \"+ thread.getName(), throwable);\n\t}", "signature": "void uncaughtException(Thread thread, Throwable throwable)", "full_signature": "public void uncaughtException(Thread thread, Throwable throwable)", "class_method_signature": "CustomThreadFactory.uncaughtException(Thread thread, Throwable throwable)", "testcase": false, "constructor": false, "invocations": ["error", "getName"]}, "repository": {"repo_id": 466142, "url": "https://github.com/wwadge/bonecp", "language": "Java", "is_fork": false, "fork_count": 161, "stargazer_count": 544, "size": 3833, "license": "licensed"}}