{"test_class": {"identifier": "StorageUnitRestControllerTest", "superclass": "extends AbstractRestTest", "interfaces": "", "fields": [{"original_string": "@Mock\n    private HerdStringHelper herdStringHelper;", "modifier": "@Mock\n    private", "type": "HerdStringHelper", "declarator": "herdStringHelper", "var_name": "herdStringHelper"}, {"original_string": "@InjectMocks\n    private StorageUnitRestController storageUnitRestController;", "modifier": "@InjectMocks\n    private", "type": "StorageUnitRestController", "declarator": "storageUnitRestController", "var_name": "storageUnitRestController"}, {"original_string": "@Mock\n    private StorageUnitService storageUnitService;", "modifier": "@Mock\n    private", "type": "StorageUnitService", "declarator": "storageUnitService", "var_name": "storageUnitService"}], "file": "herd-code/herd-rest/src/test/java/org/finra/herd/rest/StorageUnitRestControllerTest.java"}, "test_case": {"identifier": "getStorageUnitDownloadCredential", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getStorageUnitDownloadCredential()\n    {\n        // Create a business object data key.\n        BusinessObjectDataKey businessObjectDataKey =\n            new BusinessObjectDataKey(BDEF_NAMESPACE, BDEF_NAME, FORMAT_USAGE_CODE, FORMAT_FILE_TYPE_CODE, FORMAT_VERSION, PARTITION_VALUE, SUBPARTITION_VALUES,\n                DATA_VERSION);\n\n        // Create a delimited list of sub-partition values.\n        String delimitedSubPartitionValues = String.join(\"|\", SUBPARTITION_VALUES);\n\n        // Create a storage unit download credential.\n        StorageUnitDownloadCredential storageUnitDownloadCredential = new StorageUnitDownloadCredential(\n            new AwsCredential(AWS_ASSUMED_ROLE_ACCESS_KEY, AWS_ASSUMED_ROLE_SECRET_KEY, AWS_ASSUMED_ROLE_SESSION_TOKEN,\n                AWS_ASSUMED_ROLE_SESSION_EXPIRATION_TIME));\n\n        // Mock the external calls.\n        when(herdStringHelper.splitStringWithDefaultDelimiterEscaped(delimitedSubPartitionValues)).thenReturn(SUBPARTITION_VALUES);\n        when(storageUnitService.getStorageUnitDownloadCredential(businessObjectDataKey, STORAGE_NAME)).thenReturn(storageUnitDownloadCredential);\n\n        // Call the method under test.\n        StorageUnitDownloadCredential result = storageUnitRestController\n            .getStorageUnitDownloadCredential(BDEF_NAMESPACE, BDEF_NAME, FORMAT_USAGE_CODE, FORMAT_FILE_TYPE_CODE, FORMAT_VERSION, PARTITION_VALUE,\n                DATA_VERSION, STORAGE_NAME, delimitedSubPartitionValues);\n\n        // Verify the external calls.\n        verify(herdStringHelper).splitStringWithDefaultDelimiterEscaped(delimitedSubPartitionValues);\n        verify(storageUnitService).getStorageUnitDownloadCredential(businessObjectDataKey, STORAGE_NAME);\n        verifyNoMoreInteractionsHelper();\n\n        // Validate the results.\n        assertEquals(storageUnitDownloadCredential, result);\n    }", "signature": "void getStorageUnitDownloadCredential()", "full_signature": "@Test public void getStorageUnitDownloadCredential()", "class_method_signature": "StorageUnitRestControllerTest.getStorageUnitDownloadCredential()", "testcase": true, "constructor": false, "invocations": ["join", "thenReturn", "when", "splitStringWithDefaultDelimiterEscaped", "thenReturn", "when", "getStorageUnitDownloadCredential", "getStorageUnitDownloadCredential", "splitStringWithDefaultDelimiterEscaped", "verify", "getStorageUnitDownloadCredential", "verify", "verifyNoMoreInteractionsHelper", "assertEquals"]}, "focal_class": {"identifier": "StorageUnitRestController", "superclass": "extends HerdBaseController", "interfaces": "", "fields": [{"original_string": "@Autowired\n    private HerdStringHelper herdStringHelper;", "modifier": "@Autowired\n    private", "type": "HerdStringHelper", "declarator": "herdStringHelper", "var_name": "herdStringHelper"}, {"original_string": "@Autowired\n    private StorageUnitService storageUnitService;", "modifier": "@Autowired\n    private", "type": "StorageUnitService", "declarator": "storageUnitService", "var_name": "storageUnitService"}], "methods": [{"identifier": "getStorageUnitUploadCredential", "parameters": "(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"businessObjectDefinitionName\") String businessObjectDefinitionName,\n        @PathVariable(\"businessObjectFormatUsage\") String businessObjectFormatUsage,\n        @PathVariable(\"businessObjectFormatFileType\") String businessObjectFormatFileType,\n        @PathVariable(\"businessObjectFormatVersion\") Integer businessObjectFormatVersion, @PathVariable(\"partitionValue\") String partitionValue,\n        @PathVariable(\"businessObjectDataVersion\") Integer businessObjectDataVersion, @PathVariable(\"storageName\") String storageName,\n        @RequestParam(value = \"subPartitionValues\", required = false) String subPartitionValues)", "modifiers": "@RequestMapping(value = \"/storageUnits/upload/credential/namespaces/{namespace}/businessObjectDefinitionNames/{businessObjectDefinitionName}\" + \"/businessObjectFormatUsages/{businessObjectFormatUsage}/businessObjectFormatFileTypes/{businessObjectFormatFileType}\" + \"/businessObjectFormatVersions/{businessObjectFormatVersion}/partitionValues/{partitionValue}/businessObjectDataVersions/{businessObjectDataVersion}\" + \"/storageNames/{storageName}\", method = RequestMethod.GET) @Secured(SecurityFunctions.FN_STORAGE_UNIT_UPLOAD_CREDENTIAL_GET) public", "return": "StorageUnitUploadCredential", "signature": "StorageUnitUploadCredential getStorageUnitUploadCredential(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"businessObjectDefinitionName\") String businessObjectDefinitionName,\n        @PathVariable(\"businessObjectFormatUsage\") String businessObjectFormatUsage,\n        @PathVariable(\"businessObjectFormatFileType\") String businessObjectFormatFileType,\n        @PathVariable(\"businessObjectFormatVersion\") Integer businessObjectFormatVersion, @PathVariable(\"partitionValue\") String partitionValue,\n        @PathVariable(\"businessObjectDataVersion\") Integer businessObjectDataVersion, @PathVariable(\"storageName\") String storageName,\n        @RequestParam(value = \"subPartitionValues\", required = false) String subPartitionValues)", "full_signature": "@RequestMapping(value = \"/storageUnits/upload/credential/namespaces/{namespace}/businessObjectDefinitionNames/{businessObjectDefinitionName}\" + \"/businessObjectFormatUsages/{businessObjectFormatUsage}/businessObjectFormatFileTypes/{businessObjectFormatFileType}\" + \"/businessObjectFormatVersions/{businessObjectFormatVersion}/partitionValues/{partitionValue}/businessObjectDataVersions/{businessObjectDataVersion}\" + \"/storageNames/{storageName}\", method = RequestMethod.GET) @Secured(SecurityFunctions.FN_STORAGE_UNIT_UPLOAD_CREDENTIAL_GET) public StorageUnitUploadCredential getStorageUnitUploadCredential(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"businessObjectDefinitionName\") String businessObjectDefinitionName,\n        @PathVariable(\"businessObjectFormatUsage\") String businessObjectFormatUsage,\n        @PathVariable(\"businessObjectFormatFileType\") String businessObjectFormatFileType,\n        @PathVariable(\"businessObjectFormatVersion\") Integer businessObjectFormatVersion, @PathVariable(\"partitionValue\") String partitionValue,\n        @PathVariable(\"businessObjectDataVersion\") Integer businessObjectDataVersion, @PathVariable(\"storageName\") String storageName,\n        @RequestParam(value = \"subPartitionValues\", required = false) String subPartitionValues)", "class_method_signature": "StorageUnitRestController.getStorageUnitUploadCredential(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"businessObjectDefinitionName\") String businessObjectDefinitionName,\n        @PathVariable(\"businessObjectFormatUsage\") String businessObjectFormatUsage,\n        @PathVariable(\"businessObjectFormatFileType\") String businessObjectFormatFileType,\n        @PathVariable(\"businessObjectFormatVersion\") Integer businessObjectFormatVersion, @PathVariable(\"partitionValue\") String partitionValue,\n        @PathVariable(\"businessObjectDataVersion\") Integer businessObjectDataVersion, @PathVariable(\"storageName\") String storageName,\n        @RequestParam(value = \"subPartitionValues\", required = false) String subPartitionValues)", "testcase": false, "constructor": false}, {"identifier": "getStorageUnitDownloadCredential", "parameters": "(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"businessObjectDefinitionName\") String businessObjectDefinitionName,\n        @PathVariable(\"businessObjectFormatUsage\") String businessObjectFormatUsage,\n        @PathVariable(\"businessObjectFormatFileType\") String businessObjectFormatFileType,\n        @PathVariable(\"businessObjectFormatVersion\") Integer businessObjectFormatVersion, @PathVariable(\"partitionValue\") String partitionValue,\n        @PathVariable(\"businessObjectDataVersion\") Integer businessObjectDataVersion, @PathVariable(\"storageName\") String storageName,\n        @RequestParam(value = \"subPartitionValues\", required = false) String subPartitionValues)", "modifiers": "@RequestMapping(value = \"/storageUnits/download/credential/namespaces/{namespace}/businessObjectDefinitionNames/{businessObjectDefinitionName}\" + \"/businessObjectFormatUsages/{businessObjectFormatUsage}/businessObjectFormatFileTypes/{businessObjectFormatFileType}\" + \"/businessObjectFormatVersions/{businessObjectFormatVersion}/partitionValues/{partitionValue}/businessObjectDataVersions/{businessObjectDataVersion}\" + \"/storageNames/{storageName}\", method = RequestMethod.GET) @Secured(SecurityFunctions.FN_STORAGE_UNIT_DOWNLOAD_CREDENTIAL_GET) public", "return": "StorageUnitDownloadCredential", "signature": "StorageUnitDownloadCredential getStorageUnitDownloadCredential(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"businessObjectDefinitionName\") String businessObjectDefinitionName,\n        @PathVariable(\"businessObjectFormatUsage\") String businessObjectFormatUsage,\n        @PathVariable(\"businessObjectFormatFileType\") String businessObjectFormatFileType,\n        @PathVariable(\"businessObjectFormatVersion\") Integer businessObjectFormatVersion, @PathVariable(\"partitionValue\") String partitionValue,\n        @PathVariable(\"businessObjectDataVersion\") Integer businessObjectDataVersion, @PathVariable(\"storageName\") String storageName,\n        @RequestParam(value = \"subPartitionValues\", required = false) String subPartitionValues)", "full_signature": "@RequestMapping(value = \"/storageUnits/download/credential/namespaces/{namespace}/businessObjectDefinitionNames/{businessObjectDefinitionName}\" + \"/businessObjectFormatUsages/{businessObjectFormatUsage}/businessObjectFormatFileTypes/{businessObjectFormatFileType}\" + \"/businessObjectFormatVersions/{businessObjectFormatVersion}/partitionValues/{partitionValue}/businessObjectDataVersions/{businessObjectDataVersion}\" + \"/storageNames/{storageName}\", method = RequestMethod.GET) @Secured(SecurityFunctions.FN_STORAGE_UNIT_DOWNLOAD_CREDENTIAL_GET) public StorageUnitDownloadCredential getStorageUnitDownloadCredential(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"businessObjectDefinitionName\") String businessObjectDefinitionName,\n        @PathVariable(\"businessObjectFormatUsage\") String businessObjectFormatUsage,\n        @PathVariable(\"businessObjectFormatFileType\") String businessObjectFormatFileType,\n        @PathVariable(\"businessObjectFormatVersion\") Integer businessObjectFormatVersion, @PathVariable(\"partitionValue\") String partitionValue,\n        @PathVariable(\"businessObjectDataVersion\") Integer businessObjectDataVersion, @PathVariable(\"storageName\") String storageName,\n        @RequestParam(value = \"subPartitionValues\", required = false) String subPartitionValues)", "class_method_signature": "StorageUnitRestController.getStorageUnitDownloadCredential(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"businessObjectDefinitionName\") String businessObjectDefinitionName,\n        @PathVariable(\"businessObjectFormatUsage\") String businessObjectFormatUsage,\n        @PathVariable(\"businessObjectFormatFileType\") String businessObjectFormatFileType,\n        @PathVariable(\"businessObjectFormatVersion\") Integer businessObjectFormatVersion, @PathVariable(\"partitionValue\") String partitionValue,\n        @PathVariable(\"businessObjectDataVersion\") Integer businessObjectDataVersion, @PathVariable(\"storageName\") String storageName,\n        @RequestParam(value = \"subPartitionValues\", required = false) String subPartitionValues)", "testcase": false, "constructor": false}], "file": "herd-code/herd-rest/src/main/java/org/finra/herd/rest/StorageUnitRestController.java"}, "focal_method": {"identifier": "getStorageUnitDownloadCredential", "parameters": "(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"businessObjectDefinitionName\") String businessObjectDefinitionName,\n        @PathVariable(\"businessObjectFormatUsage\") String businessObjectFormatUsage,\n        @PathVariable(\"businessObjectFormatFileType\") String businessObjectFormatFileType,\n        @PathVariable(\"businessObjectFormatVersion\") Integer businessObjectFormatVersion, @PathVariable(\"partitionValue\") String partitionValue,\n        @PathVariable(\"businessObjectDataVersion\") Integer businessObjectDataVersion, @PathVariable(\"storageName\") String storageName,\n        @RequestParam(value = \"subPartitionValues\", required = false) String subPartitionValues)", "modifiers": "@RequestMapping(value = \"/storageUnits/download/credential/namespaces/{namespace}/businessObjectDefinitionNames/{businessObjectDefinitionName}\" + \"/businessObjectFormatUsages/{businessObjectFormatUsage}/businessObjectFormatFileTypes/{businessObjectFormatFileType}\" + \"/businessObjectFormatVersions/{businessObjectFormatVersion}/partitionValues/{partitionValue}/businessObjectDataVersions/{businessObjectDataVersion}\" + \"/storageNames/{storageName}\", method = RequestMethod.GET) @Secured(SecurityFunctions.FN_STORAGE_UNIT_DOWNLOAD_CREDENTIAL_GET) public", "return": "StorageUnitDownloadCredential", "body": "@RequestMapping(value = \"/storageUnits/download/credential/namespaces/{namespace}/businessObjectDefinitionNames/{businessObjectDefinitionName}\" +\n        \"/businessObjectFormatUsages/{businessObjectFormatUsage}/businessObjectFormatFileTypes/{businessObjectFormatFileType}\" +\n        \"/businessObjectFormatVersions/{businessObjectFormatVersion}/partitionValues/{partitionValue}/businessObjectDataVersions/{businessObjectDataVersion}\" +\n        \"/storageNames/{storageName}\", method = RequestMethod.GET)\n    @Secured(SecurityFunctions.FN_STORAGE_UNIT_DOWNLOAD_CREDENTIAL_GET)\n    public StorageUnitDownloadCredential getStorageUnitDownloadCredential(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"businessObjectDefinitionName\") String businessObjectDefinitionName,\n        @PathVariable(\"businessObjectFormatUsage\") String businessObjectFormatUsage,\n        @PathVariable(\"businessObjectFormatFileType\") String businessObjectFormatFileType,\n        @PathVariable(\"businessObjectFormatVersion\") Integer businessObjectFormatVersion, @PathVariable(\"partitionValue\") String partitionValue,\n        @PathVariable(\"businessObjectDataVersion\") Integer businessObjectDataVersion, @PathVariable(\"storageName\") String storageName,\n        @RequestParam(value = \"subPartitionValues\", required = false) String subPartitionValues)\n    {\n        return storageUnitService.getStorageUnitDownloadCredential(\n            new BusinessObjectDataKey(namespace, businessObjectDefinitionName, businessObjectFormatUsage, businessObjectFormatFileType,\n                businessObjectFormatVersion, partitionValue, herdStringHelper.splitStringWithDefaultDelimiterEscaped(subPartitionValues),\n                businessObjectDataVersion), storageName);\n    }", "signature": "StorageUnitDownloadCredential getStorageUnitDownloadCredential(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"businessObjectDefinitionName\") String businessObjectDefinitionName,\n        @PathVariable(\"businessObjectFormatUsage\") String businessObjectFormatUsage,\n        @PathVariable(\"businessObjectFormatFileType\") String businessObjectFormatFileType,\n        @PathVariable(\"businessObjectFormatVersion\") Integer businessObjectFormatVersion, @PathVariable(\"partitionValue\") String partitionValue,\n        @PathVariable(\"businessObjectDataVersion\") Integer businessObjectDataVersion, @PathVariable(\"storageName\") String storageName,\n        @RequestParam(value = \"subPartitionValues\", required = false) String subPartitionValues)", "full_signature": "@RequestMapping(value = \"/storageUnits/download/credential/namespaces/{namespace}/businessObjectDefinitionNames/{businessObjectDefinitionName}\" + \"/businessObjectFormatUsages/{businessObjectFormatUsage}/businessObjectFormatFileTypes/{businessObjectFormatFileType}\" + \"/businessObjectFormatVersions/{businessObjectFormatVersion}/partitionValues/{partitionValue}/businessObjectDataVersions/{businessObjectDataVersion}\" + \"/storageNames/{storageName}\", method = RequestMethod.GET) @Secured(SecurityFunctions.FN_STORAGE_UNIT_DOWNLOAD_CREDENTIAL_GET) public StorageUnitDownloadCredential getStorageUnitDownloadCredential(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"businessObjectDefinitionName\") String businessObjectDefinitionName,\n        @PathVariable(\"businessObjectFormatUsage\") String businessObjectFormatUsage,\n        @PathVariable(\"businessObjectFormatFileType\") String businessObjectFormatFileType,\n        @PathVariable(\"businessObjectFormatVersion\") Integer businessObjectFormatVersion, @PathVariable(\"partitionValue\") String partitionValue,\n        @PathVariable(\"businessObjectDataVersion\") Integer businessObjectDataVersion, @PathVariable(\"storageName\") String storageName,\n        @RequestParam(value = \"subPartitionValues\", required = false) String subPartitionValues)", "class_method_signature": "StorageUnitRestController.getStorageUnitDownloadCredential(@PathVariable(\"namespace\") String namespace,\n        @PathVariable(\"businessObjectDefinitionName\") String businessObjectDefinitionName,\n        @PathVariable(\"businessObjectFormatUsage\") String businessObjectFormatUsage,\n        @PathVariable(\"businessObjectFormatFileType\") String businessObjectFormatFileType,\n        @PathVariable(\"businessObjectFormatVersion\") Integer businessObjectFormatVersion, @PathVariable(\"partitionValue\") String partitionValue,\n        @PathVariable(\"businessObjectDataVersion\") Integer businessObjectDataVersion, @PathVariable(\"storageName\") String storageName,\n        @RequestParam(value = \"subPartitionValues\", required = false) String subPartitionValues)", "testcase": false, "constructor": false, "invocations": ["getStorageUnitDownloadCredential", "splitStringWithDefaultDelimiterEscaped"]}, "repository": {"repo_id": 42949039, "url": "https://github.com/FINRAOS/herd", "language": "Java", "is_fork": false, "fork_count": 36, "stargazer_count": 120, "size": 205797, "license": "licensed"}}