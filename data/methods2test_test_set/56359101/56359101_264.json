{"test_class": {"identifier": "SshUtilsTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private SshUtils spy;", "modifier": "private", "type": "SshUtils", "declarator": "spy", "var_name": "spy"}, {"original_string": "private ThreadUtils threadUtils;", "modifier": "private", "type": "ThreadUtils", "declarator": "threadUtils", "var_name": "threadUtils"}, {"original_string": "private int CONNECT_TIMEOUT = 60000;", "modifier": "private", "type": "int", "declarator": "CONNECT_TIMEOUT = 60000", "var_name": "CONNECT_TIMEOUT"}, {"original_string": "private Session sshSession;", "modifier": "private", "type": "Session", "declarator": "sshSession", "var_name": "sshSession"}, {"original_string": "private Connection sshConnectionWithHost;", "modifier": "private", "type": "Connection", "declarator": "sshConnectionWithHost", "var_name": "sshConnectionWithHost"}], "file": "autonomic-plugin-common/src/test/java/br/com/autonomiccs/autonomic/plugin/common/utils/SshUtilsTest.java"}, "test_case": {"identifier": "executeCommandOnHostViaSshTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void executeCommandOnHostViaSshTest() throws Exception {\n        configureExecuteCommandOnHostViaSshTest(sshConnectionWithHost, sshSession);\n\n        spy.executeCommandOnHostViaSsh(\"hostIp\", \"command\");\n\n        verifyExecuteCommandOnHostViaSshTestCalledMethods(sshConnectionWithHost, sshSession, 1);\n    }", "signature": "void executeCommandOnHostViaSshTest()", "full_signature": "@Test public void executeCommandOnHostViaSshTest()", "class_method_signature": "SshUtilsTest.executeCommandOnHostViaSshTest()", "testcase": true, "constructor": false, "invocations": ["configureExecuteCommandOnHostViaSshTest", "executeCommandOnHostViaSsh", "verifyExecuteCommandOnHostViaSshTestCalledMethods"]}, "focal_class": {"identifier": "SshUtils", "superclass": "", "interfaces": "implements InitializingBean", "fields": [{"original_string": "private Logger logger = Logger.getLogger(this.getClass());", "modifier": "private", "type": "Logger", "declarator": "logger = Logger.getLogger(this.getClass())", "var_name": "logger"}, {"original_string": "private int CONNECT_TIMEOUT = 60000;", "modifier": "private", "type": "int", "declarator": "CONNECT_TIMEOUT = 60000", "var_name": "CONNECT_TIMEOUT"}, {"original_string": "@Autowired\n    protected ThreadUtils threadUtils;", "modifier": "@Autowired\n    protected", "type": "ThreadUtils", "declarator": "threadUtils", "var_name": "threadUtils"}, {"original_string": "private File certificate;", "modifier": "private", "type": "File", "declarator": "certificate", "var_name": "certificate"}], "methods": [{"identifier": "authenticateSshSessionWithPublicKey", "parameters": "(Connection sshConnection)", "modifiers": "protected", "return": "Session", "signature": "Session authenticateSshSessionWithPublicKey(Connection sshConnection)", "full_signature": "protected Session authenticateSshSessionWithPublicKey(Connection sshConnection)", "class_method_signature": "SshUtils.authenticateSshSessionWithPublicKey(Connection sshConnection)", "testcase": false, "constructor": false}, {"identifier": "getSshConnectionWithHost", "parameters": "(String address)", "modifiers": "protected", "return": "Connection", "signature": "Connection getSshConnectionWithHost(String address)", "full_signature": "protected Connection getSshConnectionWithHost(String address)", "class_method_signature": "SshUtils.getSshConnectionWithHost(String address)", "testcase": false, "constructor": false}, {"identifier": "executeCommandOnHostViaSsh", "parameters": "(String hostIp, String command)", "modifiers": "public", "return": "void", "signature": "void executeCommandOnHostViaSsh(String hostIp, String command)", "full_signature": "public void executeCommandOnHostViaSsh(String hostIp, String command)", "class_method_signature": "SshUtils.executeCommandOnHostViaSsh(String hostIp, String command)", "testcase": false, "constructor": false}, {"identifier": "waitUntilCommandFinishes", "parameters": "(String hostIp, String command, Session sshSession)", "modifiers": "protected", "return": "void", "signature": "void waitUntilCommandFinishes(String hostIp, String command, Session sshSession)", "full_signature": "protected void waitUntilCommandFinishes(String hostIp, String command, Session sshSession)", "class_method_signature": "SshUtils.waitUntilCommandFinishes(String hostIp, String command, Session sshSession)", "testcase": false, "constructor": false}, {"identifier": "sendFileToHost", "parameters": "(File localfilePath, String remoteFileName, String remotePath, String address)", "modifiers": "public", "return": "void", "signature": "void sendFileToHost(File localfilePath, String remoteFileName, String remotePath, String address)", "full_signature": "public void sendFileToHost(File localfilePath, String remoteFileName, String remotePath, String address)", "class_method_signature": "SshUtils.sendFileToHost(File localfilePath, String remoteFileName, String remotePath, String address)", "testcase": false, "constructor": false}, {"identifier": "afterPropertiesSet", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void afterPropertiesSet()", "full_signature": "@Override public void afterPropertiesSet()", "class_method_signature": "SshUtils.afterPropertiesSet()", "testcase": false, "constructor": false}], "file": "autonomic-plugin-common/src/main/java/br/com/autonomiccs/autonomic/plugin/common/utils/SshUtils.java"}, "focal_method": {"identifier": "executeCommandOnHostViaSsh", "parameters": "(String hostIp, String command)", "modifiers": "public", "return": "void", "body": "public void executeCommandOnHostViaSsh(String hostIp, String command) {\n        Connection sshConnectionWithHost = getSshConnectionWithHost(hostIp);\n        try {\n            Session sshSession = authenticateSshSessionWithPublicKey(sshConnectionWithHost);\n            sshSession.execCommand(command);\n            waitUntilCommandFinishes(hostIp, command, sshSession);\n            sshSession.close();\n        } catch (IOException e) {\n            logger.info(\"Unable to execute command: \" + command, e);\n        }\n        sshConnectionWithHost.close();\n    }", "signature": "void executeCommandOnHostViaSsh(String hostIp, String command)", "full_signature": "public void executeCommandOnHostViaSsh(String hostIp, String command)", "class_method_signature": "SshUtils.executeCommandOnHostViaSsh(String hostIp, String command)", "testcase": false, "constructor": false, "invocations": ["getSshConnectionWithHost", "authenticateSshSessionWithPublicKey", "execCommand", "waitUntilCommandFinishes", "close", "info", "close"]}, "repository": {"repo_id": 56359101, "url": "https://github.com/Autonomiccs/autonomiccs-platform", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 17, "size": 944, "license": "licensed"}}