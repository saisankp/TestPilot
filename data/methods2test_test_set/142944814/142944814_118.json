{"test_class": {"identifier": "TransactionTemplateTest", "superclass": "extends AbstractTestCase", "interfaces": "", "fields": [{"original_string": "protected final ContextStorage<Context> contextStorage = new UnmodifiableContextStorage(\n      EmptyContext.getInstance());", "modifier": "protected final", "type": "ContextStorage<Context>", "declarator": "contextStorage = new UnmodifiableContextStorage(\n      EmptyContext.getInstance())", "var_name": "contextStorage"}], "file": "core/transport/src/test/java/hera/client/TransactionTemplateTest.java"}, "test_case": {"identifier": "testSendTxByName", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testSendTxByName() throws Exception {\n    // given\n    final TransactionTemplate transactionTemplate = new TransactionTemplate(contextStorage);\n    final Requester mockRequester = mock(Requester.class);\n    final TxHash expected = TxHash.of(BytesValue.EMPTY);\n    when(mockRequester.request(ArgumentMatchers.<Invocation<?>>any()))\n        .thenReturn(expected);\n    transactionTemplate.requester = mockRequester;\n\n    // then\n    final TxHash actual = transactionTemplate\n        .sendTx(anySigner, anyName, anyAmount, anyNonce, anyFee, anyPayload);\n    assertEquals(expected, actual);\n  }", "signature": "void testSendTxByName()", "full_signature": "@Test public void testSendTxByName()", "class_method_signature": "TransactionTemplateTest.testSendTxByName()", "testcase": true, "constructor": false, "invocations": ["mock", "of", "thenReturn", "when", "request", "any", "sendTx", "assertEquals"]}, "focal_class": {"identifier": "TransactionTemplate", "superclass": "extends AbstractTemplate", "interfaces": "implements TransactionOperation", "fields": [{"original_string": "protected final TransactionMethods transactionMethods = new TransactionMethods();", "modifier": "protected final", "type": "TransactionMethods", "declarator": "transactionMethods = new TransactionMethods()", "var_name": "transactionMethods"}, {"original_string": "protected final RequestMethod<Transaction> convertedTransactionMethod =\n      new RequestMethod<Transaction>() {\n\n        @Getter\n        protected final String name = TRANSACTION_TX;\n\n        @Override\n        protected Transaction runInternal(final List<Object> parameters) throws Exception {\n          final Transaction inBlock = transactionMethods.getTransactionInBlock().invoke(parameters);\n          if (null != inBlock) {\n            return inBlock;\n          }\n\n          return transactionMethods.getTransactionInMemPool().invoke(parameters);\n        }\n      };", "modifier": "protected final", "type": "RequestMethod<Transaction>", "declarator": "convertedTransactionMethod =\n      new RequestMethod<Transaction>() {\n\n        @Getter\n        protected final String name = TRANSACTION_TX;\n\n        @Override\n        protected Transaction runInternal(final List<Object> parameters) throws Exception {\n          final Transaction inBlock = transactionMethods.getTransactionInBlock().invoke(parameters);\n          if (null != inBlock) {\n            return inBlock;\n          }\n\n          return transactionMethods.getTransactionInMemPool().invoke(parameters);\n        }\n      }", "var_name": "convertedTransactionMethod"}], "methods": [{"identifier": "TransactionTemplate", "parameters": "(final ContextStorage<Context> contextStorage)", "modifiers": "", "return": "", "signature": " TransactionTemplate(final ContextStorage<Context> contextStorage)", "full_signature": "  TransactionTemplate(final ContextStorage<Context> contextStorage)", "class_method_signature": "TransactionTemplate.TransactionTemplate(final ContextStorage<Context> contextStorage)", "testcase": false, "constructor": true}, {"identifier": "getTransaction", "parameters": "(final TxHash txHash)", "modifiers": "@Override public", "return": "Transaction", "signature": "Transaction getTransaction(final TxHash txHash)", "full_signature": "@Override public Transaction getTransaction(final TxHash txHash)", "class_method_signature": "TransactionTemplate.getTransaction(final TxHash txHash)", "testcase": false, "constructor": false}, {"identifier": "getTxReceipt", "parameters": "(TxHash txHash)", "modifiers": "@Override public", "return": "TxReceipt", "signature": "TxReceipt getTxReceipt(TxHash txHash)", "full_signature": "@Override public TxReceipt getTxReceipt(TxHash txHash)", "class_method_signature": "TransactionTemplate.getTxReceipt(TxHash txHash)", "testcase": false, "constructor": false}, {"identifier": "commit", "parameters": "(final Transaction transaction)", "modifiers": "@Override public", "return": "TxHash", "signature": "TxHash commit(final Transaction transaction)", "full_signature": "@Override public TxHash commit(final Transaction transaction)", "class_method_signature": "TransactionTemplate.commit(final Transaction transaction)", "testcase": false, "constructor": false}, {"identifier": "sendTx", "parameters": "(final Signer signer, final AccountAddress recipient, final Aer amount,\n      final long nonce, final Fee fee, final BytesValue payload)", "modifiers": "@Override public", "return": "TxHash", "signature": "TxHash sendTx(final Signer signer, final AccountAddress recipient, final Aer amount,\n      final long nonce, final Fee fee, final BytesValue payload)", "full_signature": "@Override public TxHash sendTx(final Signer signer, final AccountAddress recipient, final Aer amount,\n      final long nonce, final Fee fee, final BytesValue payload)", "class_method_signature": "TransactionTemplate.sendTx(final Signer signer, final AccountAddress recipient, final Aer amount,\n      final long nonce, final Fee fee, final BytesValue payload)", "testcase": false, "constructor": false}, {"identifier": "sendTx", "parameters": "(final Signer signer, final Name recipient, final Aer amount,\n      final long nonce, final Fee fee, final BytesValue payload)", "modifiers": "@Override public", "return": "TxHash", "signature": "TxHash sendTx(final Signer signer, final Name recipient, final Aer amount,\n      final long nonce, final Fee fee, final BytesValue payload)", "full_signature": "@Override public TxHash sendTx(final Signer signer, final Name recipient, final Aer amount,\n      final long nonce, final Fee fee, final BytesValue payload)", "class_method_signature": "TransactionTemplate.sendTx(final Signer signer, final Name recipient, final Aer amount,\n      final long nonce, final Fee fee, final BytesValue payload)", "testcase": false, "constructor": false}], "file": "core/transport/src/main/java/hera/client/TransactionTemplate.java"}, "focal_method": {"identifier": "sendTx", "parameters": "(final Signer signer, final AccountAddress recipient, final Aer amount,\n      final long nonce, final Fee fee, final BytesValue payload)", "modifiers": "@Override public", "return": "TxHash", "body": "@Override\n  public TxHash sendTx(final Signer signer, final AccountAddress recipient, final Aer amount,\n      final long nonce, final Fee fee, final BytesValue payload) {\n    return request(transactionMethods.getSendTxByAddress(),\n        Arrays.asList(signer, recipient, amount, nonce, fee, payload));\n  }", "signature": "TxHash sendTx(final Signer signer, final AccountAddress recipient, final Aer amount,\n      final long nonce, final Fee fee, final BytesValue payload)", "full_signature": "@Override public TxHash sendTx(final Signer signer, final AccountAddress recipient, final Aer amount,\n      final long nonce, final Fee fee, final BytesValue payload)", "class_method_signature": "TransactionTemplate.sendTx(final Signer signer, final AccountAddress recipient, final Aer amount,\n      final long nonce, final Fee fee, final BytesValue payload)", "testcase": false, "constructor": false, "invocations": ["request", "getSendTxByAddress", "asList"]}, "repository": {"repo_id": 142944814, "url": "https://github.com/aergoio/heraj", "language": "Java", "is_fork": false, "fork_count": 4, "stargazer_count": 18, "size": 11443, "license": "licensed"}}