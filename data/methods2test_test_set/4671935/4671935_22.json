{"test_class": {"identifier": "TrackFileReaderTest", "superclass": "", "interfaces": "", "fields": [], "file": "app/src/test/java/com/platypii/baseline/tracks/TrackFileReaderTest.java"}, "test_case": {"identifier": "read", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void read() throws IOException {\n        assertEquals(0, parse(\"\").size());\n        assertEquals(0, parse(\"millis,sensor,lat,lon,alt\\n\").size());\n        assertEquals(1, parse(\"millis,sensor,lat,lon,alt\\n1,gps,2,3,4\").size());\n        assertEquals(1, parse(\"millis,sensor,lat,lon,alt\\n1,gps,2,3,4\\n\").size());\n        assertEquals(1, parse(\"millis,sensor,lat,lon,alt\\n1,gps,2,3,4\\n5,alt,6,7,8\").size());\n        assertEquals(1, parse(\"millis,sensor,lat,lon,alt\\n1,gps,2,3,4\\n5,alt,6,7,8\\n9,alt,10,11,12\").size());\n        assertEquals(2, parse(\"millis,sensor,lat,lon,alt\\n1,gps,2,3,4\\n5,gps,6,7,8\").size());\n\n        // FlySight style\n        assertEquals(1, parse(\"time,lat,lon,alt\\n2019-04-20T16:20:00.00Z,2,3,4\").size());\n    }", "signature": "void read()", "full_signature": "@Test public void read()", "class_method_signature": "TrackFileReaderTest.read()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "size", "parse", "assertEquals", "size", "parse", "assertEquals", "size", "parse", "assertEquals", "size", "parse", "assertEquals", "size", "parse", "assertEquals", "size", "parse", "assertEquals", "size", "parse", "assertEquals", "size", "parse"]}, "focal_class": {"identifier": "TrackFileReader", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String TAG = \"TrackFileReader\";", "modifier": "private static final", "type": "String", "declarator": "TAG = \"TrackFileReader\"", "var_name": "TAG"}, {"original_string": "@NonNull\n    private final File trackFile;", "modifier": "@NonNull\n    private final", "type": "File", "declarator": "trackFile", "var_name": "trackFile"}], "methods": [{"identifier": "TrackFileReader", "parameters": "(@NonNull File trackFile)", "modifiers": "", "return": "", "signature": " TrackFileReader(@NonNull File trackFile)", "full_signature": "  TrackFileReader(@NonNull File trackFile)", "class_method_signature": "TrackFileReader.TrackFileReader(@NonNull File trackFile)", "testcase": false, "constructor": true}, {"identifier": "read", "parameters": "()", "modifiers": "@NonNull", "return": "List<MLocation>", "signature": "List<MLocation> read()", "full_signature": "@NonNull List<MLocation> read()", "class_method_signature": "TrackFileReader.read()", "testcase": false, "constructor": false}, {"identifier": "parse", "parameters": "(@NonNull BufferedReader br)", "modifiers": "@NonNull private", "return": "List<MLocation>", "signature": "List<MLocation> parse(@NonNull BufferedReader br)", "full_signature": "@NonNull private List<MLocation> parse(@NonNull BufferedReader br)", "class_method_signature": "TrackFileReader.parse(@NonNull BufferedReader br)", "testcase": false, "constructor": false}], "file": "app/src/main/java/com/platypii/baseline/tracks/TrackFileReader.java"}, "focal_method": {"identifier": "read", "parameters": "()", "modifiers": "@NonNull", "return": "List<MLocation>", "body": "@NonNull\n    List<MLocation> read() {\n        // Read file line by line\n        if (trackFile.getName().endsWith(\".gz\")) {\n            // GZipped track file\n            try (BufferedReader br = new BufferedReader(new InputStreamReader(new GZIPInputStream(new FileInputStream(trackFile)), StandardCharsets.UTF_8))) {\n                return parse(br);\n            } catch (EOFException e) {\n                // Still error but less verbose\n                Log.e(TAG, \"Premature end of gzip track file \" + trackFile + \"\\n\" + e);\n            } catch (IOException e) {\n                Log.e(TAG, \"Error reading track data from \" + trackFile, e);\n            }\n        } else {\n            // Uncompressed CSV file\n            try (BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(trackFile), StandardCharsets.UTF_8))) {\n                return parse(br);\n            } catch (IOException e) {\n                Log.e(TAG, \"Error reading track data from \" + trackFile, e);\n            }\n        }\n        return new ArrayList<>();\n    }", "signature": "List<MLocation> read()", "full_signature": "@NonNull List<MLocation> read()", "class_method_signature": "TrackFileReader.read()", "testcase": false, "constructor": false, "invocations": ["endsWith", "getName", "parse", "e", "e", "parse", "e"]}, "repository": {"repo_id": 4671935, "url": "https://github.com/platypii/BASElineFlightComputer", "language": "Java", "is_fork": false, "fork_count": 3, "stargazer_count": 18, "size": 6949, "license": "licensed"}}