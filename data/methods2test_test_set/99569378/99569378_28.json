{"test_class": {"identifier": "ActorInterfaceGeneratedImplTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Rule\n    public final CompilationRule rule = new CompilationRule();", "modifier": "@Rule\n    public final", "type": "CompilationRule", "declarator": "rule = new CompilationRule()", "var_name": "rule"}, {"original_string": "@Mock\n    private ActorInterfaceDescription mDescription;", "modifier": "@Mock\n    private", "type": "ActorInterfaceDescription", "declarator": "mDescription", "var_name": "mDescription"}, {"original_string": "@Mock\n    private NamesProvider mNamesProvider;", "modifier": "@Mock\n    private", "type": "NamesProvider", "declarator": "mNamesProvider", "var_name": "mNamesProvider"}, {"original_string": "private static AnnotationMirror sNonNullMirror;", "modifier": "private static", "type": "AnnotationMirror", "declarator": "sNonNullMirror", "var_name": "sNonNullMirror"}], "file": "generator/src/test/java/com/truecaller/androidactors/ActorInterfaceGeneratedImplTest.java"}, "test_case": {"identifier": "generate_flatClassName_SimpleActor", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void generate_flatClassName_SimpleActor() {\n        setTypeElement(SimpleActor.class);\n\n        ActorInterfaceGeneratedImpl generated = new ActorInterfaceGeneratedImpl(mDescription);\n        JavaFile file = generated.generate(mNamesProvider);\n\n        Assert.assertEquals(\"com.truecaller.androidactors.cases\", file.packageName);\n        Assert.assertEquals(\"SimpleActor$Proxy\", file.typeSpec.name);\n    }", "signature": "void generate_flatClassName_SimpleActor()", "full_signature": "@Test public void generate_flatClassName_SimpleActor()", "class_method_signature": "ActorInterfaceGeneratedImplTest.generate_flatClassName_SimpleActor()", "testcase": true, "constructor": false, "invocations": ["setTypeElement", "generate", "assertEquals", "assertEquals"]}, "focal_class": {"identifier": "ActorInterfaceGeneratedImpl", "superclass": "", "interfaces": "implements ActorInterfaceGenerator", "fields": [{"original_string": "private static final String MESSAGE_SENDER_FIELD = \"mMessageSender\";", "modifier": "private static final", "type": "String", "declarator": "MESSAGE_SENDER_FIELD = \"mMessageSender\"", "var_name": "MESSAGE_SENDER_FIELD"}, {"original_string": "private static final String MESSAGE_SENDER_PARAM = \"messageSender\";", "modifier": "private static final", "type": "String", "declarator": "MESSAGE_SENDER_PARAM = \"messageSender\"", "var_name": "MESSAGE_SENDER_PARAM"}, {"original_string": "@NotNull\n    private final TypeElement mActor;", "modifier": "@NotNull\n    private final", "type": "TypeElement", "declarator": "mActor", "var_name": "mActor"}, {"original_string": "@NotNull\n    private final List<Message> mMessages = new ArrayList<>();", "modifier": "@NotNull\n    private final", "type": "List<Message>", "declarator": "mMessages = new ArrayList<>()", "var_name": "mMessages"}], "methods": [{"identifier": "ActorInterfaceGeneratedImpl", "parameters": "(@NotNull ActorInterfaceDescription _interface)", "modifiers": "", "return": "", "signature": " ActorInterfaceGeneratedImpl(@NotNull ActorInterfaceDescription _interface)", "full_signature": "  ActorInterfaceGeneratedImpl(@NotNull ActorInterfaceDescription _interface)", "class_method_signature": "ActorInterfaceGeneratedImpl.ActorInterfaceGeneratedImpl(@NotNull ActorInterfaceDescription _interface)", "testcase": false, "constructor": true}, {"identifier": "generate", "parameters": "(NamesProvider namesProvider)", "modifiers": "@NotNull public", "return": "JavaFile", "signature": "JavaFile generate(NamesProvider namesProvider)", "full_signature": "@NotNull public JavaFile generate(NamesProvider namesProvider)", "class_method_signature": "ActorInterfaceGeneratedImpl.generate(NamesProvider namesProvider)", "testcase": false, "constructor": false}, {"identifier": "getProxyName", "parameters": "()", "modifiers": "@NotNull @Override public", "return": "String", "signature": "String getProxyName()", "full_signature": "@NotNull @Override public String getProxyName()", "class_method_signature": "ActorInterfaceGeneratedImpl.getProxyName()", "testcase": false, "constructor": false}, {"identifier": "getProxyPackage", "parameters": "()", "modifiers": "@NotNull @Override public", "return": "String", "signature": "String getProxyPackage()", "full_signature": "@NotNull @Override public String getProxyPackage()", "class_method_signature": "ActorInterfaceGeneratedImpl.getProxyPackage()", "testcase": false, "constructor": false}, {"identifier": "extractActorName", "parameters": "(@NotNull Element element)", "modifiers": "@NotNull private", "return": "String", "signature": "String extractActorName(@NotNull Element element)", "full_signature": "@NotNull private String extractActorName(@NotNull Element element)", "class_method_signature": "ActorInterfaceGeneratedImpl.extractActorName(@NotNull Element element)", "testcase": false, "constructor": false}, {"identifier": "extractActorPackage", "parameters": "(@NotNull Element element)", "modifiers": "@NotNull private", "return": "String", "signature": "String extractActorPackage(@NotNull Element element)", "full_signature": "@NotNull private String extractActorPackage(@NotNull Element element)", "class_method_signature": "ActorInterfaceGeneratedImpl.extractActorPackage(@NotNull Element element)", "testcase": false, "constructor": false}, {"identifier": "generateConstructor", "parameters": "()", "modifiers": "@NotNull private", "return": "MethodSpec", "signature": "MethodSpec generateConstructor()", "full_signature": "@NotNull private MethodSpec generateConstructor()", "class_method_signature": "ActorInterfaceGeneratedImpl.generateConstructor()", "testcase": false, "constructor": false}, {"identifier": "generateCompareMethod", "parameters": "()", "modifiers": "@NotNull private", "return": "MethodSpec", "signature": "MethodSpec generateCompareMethod()", "full_signature": "@NotNull private MethodSpec generateCompareMethod()", "class_method_signature": "ActorInterfaceGeneratedImpl.generateCompareMethod()", "testcase": false, "constructor": false}, {"identifier": "generateMethod", "parameters": "(@NotNull Message message, @NotNull TypeSpec messageClass)", "modifiers": "@NotNull private", "return": "MethodSpec", "signature": "MethodSpec generateMethod(@NotNull Message message, @NotNull TypeSpec messageClass)", "full_signature": "@NotNull private MethodSpec generateMethod(@NotNull Message message, @NotNull TypeSpec messageClass)", "class_method_signature": "ActorInterfaceGeneratedImpl.generateMethod(@NotNull Message message, @NotNull TypeSpec messageClass)", "testcase": false, "constructor": false}], "file": "generator/src/main/java/com/truecaller/androidactors/ActorInterfaceGeneratedImpl.java"}, "focal_method": {"identifier": "generate", "parameters": "(NamesProvider namesProvider)", "modifiers": "@NotNull public", "return": "JavaFile", "body": "@NotNull\n    public JavaFile generate(NamesProvider namesProvider) {\n        TypeSpec.Builder _class = TypeSpec.classBuilder(getProxyName());\n        _class.addModifiers(Modifier.FINAL, Modifier.PUBLIC);\n        _class.addField(MessageSender.class, MESSAGE_SENDER_FIELD, Modifier.PRIVATE, Modifier.FINAL);\n        _class.addSuperinterface(ClassName.get(mActor));\n        _class.addJavadoc(\"@hide\");\n\n        _class.addMethod(generateConstructor());\n        _class.addMethod(generateCompareMethod());\n\n        TypeName actorType = TypeName.get(mActor.asType());\n        for (Message message : mMessages) {\n            TypeSpec messageType = message.generate(actorType, namesProvider);\n            _class.addType(messageType);\n            _class.addMethod(generateMethod(message, messageType));\n\n        }\n\n        return JavaFile.builder(extractActorPackage(mActor), _class.build()).build();\n    }", "signature": "JavaFile generate(NamesProvider namesProvider)", "full_signature": "@NotNull public JavaFile generate(NamesProvider namesProvider)", "class_method_signature": "ActorInterfaceGeneratedImpl.generate(NamesProvider namesProvider)", "testcase": false, "constructor": false, "invocations": ["classBuilder", "getProxyName", "addModifiers", "addField", "addSuperinterface", "get", "addJavadoc", "addMethod", "generateConstructor", "addMethod", "generateCompareMethod", "get", "asType", "generate", "addType", "addMethod", "generateMethod", "build", "builder", "extractActorPackage", "build"]}, "repository": {"repo_id": 99569378, "url": "https://github.com/truecaller/android-actors-library", "language": "Java", "is_fork": false, "fork_count": 2, "stargazer_count": 20, "size": 352, "license": "licensed"}}