{"test_class": {"identifier": "MatchingArchivedMessageResultsTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Entity INITIATING_ENTITY = EntityImpl.parseUnchecked(\"juliet@capulet.lit/chamber\");", "modifier": "private static final", "type": "Entity", "declarator": "INITIATING_ENTITY = EntityImpl.parseUnchecked(\"juliet@capulet.lit/chamber\")", "var_name": "INITIATING_ENTITY"}, {"original_string": "private static final Entity ARCHIVE_ID = EntityImpl.parseUnchecked(\"juliet@capulet.lit\");", "modifier": "private static final", "type": "Entity", "declarator": "ARCHIVE_ID = EntityImpl.parseUnchecked(\"juliet@capulet.lit\")", "var_name": "ARCHIVE_ID"}, {"original_string": "private Query query;", "modifier": "private", "type": "Query", "declarator": "query", "var_name": "query"}, {"original_string": "private MessageStanza messageStanza;", "modifier": "private", "type": "MessageStanza", "declarator": "messageStanza", "var_name": "messageStanza"}], "file": "server/extensions/xep0313-mam/src/test/java/org/apache/vysper/xmpp/modules/extension/xep0313_mam/query/MatchingArchivedMessageResultsTest.java"}, "test_case": {"identifier": "testEmptyPage", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testEmptyPage() throws IOException, SAXException {\n        SimpleArchivedMessages archivedMessages = new SimpleArchivedMessages(Collections.emptyList(), 0L, 50L);\n\n        MatchingArchivedMessageResults tested = new MatchingArchivedMessageResults(INITIATING_ENTITY, ARCHIVE_ID, query,\n                archivedMessages);\n\n        List<Stanza> responseStanzas = tested.toStanzas();\n        assertEquals(1, responseStanzas.size());\n\n        StanzaAssert.assertEquals(\n                StanzaBuilder.createClone(XMLParserUtil\n                        .parseRequiredDocument(\"<iq type='result' id='juliet1'><fin xmlns='urn:xmpp:mam:2'>\"\n                                + \"    <set xmlns='http://jabber.org/protocol/rsm'>\"\n                                + \"      <count>50</count></set></fin></iq>\"),\n                        true, null).build(),\n                responseStanzas.get(0));\n    }", "signature": "void testEmptyPage()", "full_signature": "@Test public void testEmptyPage()", "class_method_signature": "MatchingArchivedMessageResultsTest.testEmptyPage()", "testcase": true, "constructor": false, "invocations": ["emptyList", "toStanzas", "assertEquals", "size", "assertEquals", "build", "createClone", "parseRequiredDocument", "get"]}, "focal_class": {"identifier": "MatchingArchivedMessageResults", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final Entity initiatingEntity;", "modifier": "private final", "type": "Entity", "declarator": "initiatingEntity", "var_name": "initiatingEntity"}, {"original_string": "private final Entity archiveId;", "modifier": "private final", "type": "Entity", "declarator": "archiveId", "var_name": "archiveId"}, {"original_string": "private final Query query;", "modifier": "private final", "type": "Query", "declarator": "query", "var_name": "query"}, {"original_string": "private final ArchivedMessages archivedMessages;", "modifier": "private final", "type": "ArchivedMessages", "declarator": "archivedMessages", "var_name": "archivedMessages"}], "methods": [{"identifier": "MatchingArchivedMessageResults", "parameters": "(Entity initiatingEntity, Entity archiveId, Query query,\n            ArchivedMessages archivedMessages)", "modifiers": "public", "return": "", "signature": " MatchingArchivedMessageResults(Entity initiatingEntity, Entity archiveId, Query query,\n            ArchivedMessages archivedMessages)", "full_signature": "public  MatchingArchivedMessageResults(Entity initiatingEntity, Entity archiveId, Query query,\n            ArchivedMessages archivedMessages)", "class_method_signature": "MatchingArchivedMessageResults.MatchingArchivedMessageResults(Entity initiatingEntity, Entity archiveId, Query query,\n            ArchivedMessages archivedMessages)", "testcase": false, "constructor": true}, {"identifier": "toStanzas", "parameters": "()", "modifiers": "public", "return": "List<Stanza>", "signature": "List<Stanza> toStanzas()", "full_signature": "public List<Stanza> toStanzas()", "class_method_signature": "MatchingArchivedMessageResults.toStanzas()", "testcase": false, "constructor": false}, {"identifier": "buildResultIq", "parameters": "()", "modifiers": "private", "return": "Stanza", "signature": "Stanza buildResultIq()", "full_signature": "private Stanza buildResultIq()", "class_method_signature": "MatchingArchivedMessageResults.buildResultIq()", "testcase": false, "constructor": false}, {"identifier": "buildSet", "parameters": "()", "modifiers": "private", "return": "Set", "signature": "Set buildSet()", "full_signature": "private Set buildSet()", "class_method_signature": "MatchingArchivedMessageResults.buildSet()", "testcase": false, "constructor": false}], "file": "server/extensions/xep0313-mam/src/main/java/org/apache/vysper/xmpp/modules/extension/xep0313_mam/query/MatchingArchivedMessageResults.java"}, "focal_method": {"identifier": "toStanzas", "parameters": "()", "modifiers": "public", "return": "List<Stanza>", "body": "public List<Stanza> toStanzas() {\n        List<Stanza> stanzas = new ArrayList<>();\n        archivedMessages.list().stream().map(archivedMessage -> new MatchingArchivedMessageResult(initiatingEntity,\n                archiveId, query, archivedMessage)).map(MatchingArchivedMessageResult::toStanza).forEach(stanzas::add);\n        stanzas.add(buildResultIq());\n        return stanzas;\n    }", "signature": "List<Stanza> toStanzas()", "full_signature": "public List<Stanza> toStanzas()", "class_method_signature": "MatchingArchivedMessageResults.toStanzas()", "testcase": false, "constructor": false, "invocations": ["forEach", "map", "map", "stream", "list", "add", "buildResultIq"]}, "repository": {"repo_id": 165370485, "url": "https://github.com/apache/mina-vysper", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 8, "size": 29305, "license": "licensed"}}