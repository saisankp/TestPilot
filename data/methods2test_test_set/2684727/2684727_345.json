{"test_class": {"identifier": "GraphsInteractorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String LABEL_1 = \"label 1\";", "modifier": "private static final", "type": "String", "declarator": "LABEL_1 = \"label 1\"", "var_name": "LABEL_1"}, {"original_string": "private static final String LABEL_2 = \"label 2\";", "modifier": "private static final", "type": "String", "declarator": "LABEL_2 = \"label 2\"", "var_name": "LABEL_2"}, {"original_string": "private static final String LABEL_3 = \"label 3\";", "modifier": "private static final", "type": "String", "declarator": "LABEL_3 = \"label 3\"", "var_name": "LABEL_3"}, {"original_string": "private static final String LABEL_4 = \"label 4\";", "modifier": "private static final", "type": "String", "declarator": "LABEL_4 = \"label 4\"", "var_name": "LABEL_4"}, {"original_string": "private static final String LABEL_5 = \"label 5\";", "modifier": "private static final", "type": "String", "declarator": "LABEL_5 = \"label 5\"", "var_name": "LABEL_5"}, {"original_string": "private static final String LABEL_6 = \"label 6\";", "modifier": "private static final", "type": "String", "declarator": "LABEL_6 = \"label 6\"", "var_name": "LABEL_6"}, {"original_string": "private static final String LABEL_7 = \"label 7\";", "modifier": "private static final", "type": "String", "declarator": "LABEL_7 = \"label 7\"", "var_name": "LABEL_7"}, {"original_string": "private static final String LABEL_8 = \"label 8\";", "modifier": "private static final", "type": "String", "declarator": "LABEL_8 = \"label 8\"", "var_name": "LABEL_8"}, {"original_string": "GraphsInteractor interactor;", "modifier": "", "type": "GraphsInteractor", "declarator": "interactor", "var_name": "interactor"}, {"original_string": "@Mock\n    GroupingController groupingController;", "modifier": "@Mock", "type": "GroupingController", "declarator": "groupingController", "var_name": "groupingController"}, {"original_string": "@Mock\n    Context context;", "modifier": "@Mock", "type": "Context", "declarator": "context", "var_name": "context"}, {"original_string": "@Mock\n    Trip trip;", "modifier": "@Mock", "type": "Trip", "declarator": "trip", "var_name": "trip"}, {"original_string": "private List<LabeledGraphEntry> entries;", "modifier": "private", "type": "List<LabeledGraphEntry>", "declarator": "entries", "var_name": "entries"}], "file": "app/src/test/java/co/smartreceipts/android/graphs/GraphsInteractorTest.java"}, "test_case": {"identifier": "getSumCategoryLot", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getSumCategoryLot() {\n        entries = new ArrayList<>();\n        entries.add(new LabeledGraphEntry(10, LABEL_1));\n        entries.add(new LabeledGraphEntry(9, LABEL_2));\n        entries.add(new LabeledGraphEntry(18, LABEL_3));\n        entries.add(new LabeledGraphEntry(7, LABEL_4));\n        entries.add(new LabeledGraphEntry(6, LABEL_5));\n        entries.add(new LabeledGraphEntry(3, LABEL_6));\n        entries.add(new LabeledGraphEntry(2, LABEL_7));\n        entries.add(new LabeledGraphEntry(1, LABEL_8));\n\n        when(groupingController.getSummationByCategoryAsGraphEntries(trip)).thenReturn(Single.just(entries));\n\n        List<LabeledGraphEntry> sortedEntries = new ArrayList<>(entries);\n        Collections.sort(sortedEntries);\n\n        interactor.getSummationByCategories(trip)\n                .test()\n                .assertNoErrors()\n                .assertComplete()\n                .assertValue(graphUiIndicator -> {\n                    if (graphUiIndicator.getGraphType() == GraphUiIndicator.GraphType.SummationByCategory) {\n                        List<? extends BaseEntry> graphUiIndicatorEntries = graphUiIndicator.getEntries();\n                        return graphUiIndicatorEntries.containsAll(sortedEntries) && graphUiIndicatorEntries.size() == sortedEntries.size();\n                    }\n                    return false;\n                });\n    }", "signature": "void getSumCategoryLot()", "full_signature": "@Test public void getSumCategoryLot()", "class_method_signature": "GraphsInteractorTest.getSumCategoryLot()", "testcase": true, "constructor": false, "invocations": ["add", "add", "add", "add", "add", "add", "add", "add", "thenReturn", "when", "getSummationByCategoryAsGraphEntries", "just", "sort", "assertValue", "assertComplete", "assertNoErrors", "test", "getSummationByCategories", "getGraphType", "getEntries", "containsAll", "size", "size"]}, "focal_class": {"identifier": "GraphsInteractor", "superclass": "", "interfaces": "", "fields": [{"original_string": "public final static int PAYMENT_METHODS_MAX_COUNT = 4;", "modifier": "public final static", "type": "int", "declarator": "PAYMENT_METHODS_MAX_COUNT = 4", "var_name": "PAYMENT_METHODS_MAX_COUNT"}, {"original_string": "private final GroupingController groupingController;", "modifier": "private final", "type": "GroupingController", "declarator": "groupingController", "var_name": "groupingController"}, {"original_string": "private final Context context;", "modifier": "private final", "type": "Context", "declarator": "context", "var_name": "context"}], "methods": [{"identifier": "GraphsInteractor", "parameters": "(Context context, GroupingController groupingController)", "modifiers": "@Inject public", "return": "", "signature": " GraphsInteractor(Context context, GroupingController groupingController)", "full_signature": "@Inject public  GraphsInteractor(Context context, GroupingController groupingController)", "class_method_signature": "GraphsInteractor.GraphsInteractor(Context context, GroupingController groupingController)", "testcase": false, "constructor": true}, {"identifier": "getSummationByCategories", "parameters": "(Trip trip)", "modifiers": "public", "return": "Maybe<GraphUiIndicator>", "signature": "Maybe<GraphUiIndicator> getSummationByCategories(Trip trip)", "full_signature": "public Maybe<GraphUiIndicator> getSummationByCategories(Trip trip)", "class_method_signature": "GraphsInteractor.getSummationByCategories(Trip trip)", "testcase": false, "constructor": false}, {"identifier": "getSummationByReimbursement", "parameters": "(Trip trip)", "modifiers": "public", "return": "Maybe<GraphUiIndicator>", "signature": "Maybe<GraphUiIndicator> getSummationByReimbursement(Trip trip)", "full_signature": "public Maybe<GraphUiIndicator> getSummationByReimbursement(Trip trip)", "class_method_signature": "GraphsInteractor.getSummationByReimbursement(Trip trip)", "testcase": false, "constructor": false}, {"identifier": "getSummationByPaymentMethod", "parameters": "(Trip trip)", "modifiers": "public", "return": "Maybe<GraphUiIndicator>", "signature": "Maybe<GraphUiIndicator> getSummationByPaymentMethod(Trip trip)", "full_signature": "public Maybe<GraphUiIndicator> getSummationByPaymentMethod(Trip trip)", "class_method_signature": "GraphsInteractor.getSummationByPaymentMethod(Trip trip)", "testcase": false, "constructor": false}, {"identifier": "getSummationByDate", "parameters": "(Trip trip)", "modifiers": "public", "return": "Maybe<GraphUiIndicator>", "signature": "Maybe<GraphUiIndicator> getSummationByDate(Trip trip)", "full_signature": "public Maybe<GraphUiIndicator> getSummationByDate(Trip trip)", "class_method_signature": "GraphsInteractor.getSummationByDate(Trip trip)", "testcase": false, "constructor": false}], "file": "app/src/main/java/co/smartreceipts/android/graphs/GraphsInteractor.java"}, "focal_method": {"identifier": "getSummationByCategories", "parameters": "(Trip trip)", "modifiers": "public", "return": "Maybe<GraphUiIndicator>", "body": "public Maybe<GraphUiIndicator> getSummationByCategories(Trip trip) {\n        return groupingController.getSummationByCategoryAsGraphEntries(trip)\n                .filter(graphEntries -> !graphEntries.isEmpty())\n                .flatMapSingleElement(Single::just)\n                .map(GraphUiIndicator::summationByCategory)\n                .observeOn(AndroidSchedulers.mainThread());\n    }", "signature": "Maybe<GraphUiIndicator> getSummationByCategories(Trip trip)", "full_signature": "public Maybe<GraphUiIndicator> getSummationByCategories(Trip trip)", "class_method_signature": "GraphsInteractor.getSummationByCategories(Trip trip)", "testcase": false, "constructor": false, "invocations": ["observeOn", "map", "flatMapSingleElement", "filter", "getSummationByCategoryAsGraphEntries", "isEmpty", "mainThread"]}, "repository": {"repo_id": 2684727, "url": "https://github.com/wbaumann/SmartReceiptsLibrary", "stars": 166, "created": "11/1/2011 12:32:39 AM +00:00", "updates": "2020-01-26T22:04:24+00:00", "fork": "False", "license": "licensed"}}