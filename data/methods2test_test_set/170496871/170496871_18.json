{"test_class": {"identifier": "OptimizedMarshallerTest", "superclass": "extends GridCommonAbstractTest", "interfaces": "", "fields": [], "file": "modules/core/src/test/java/org/apache/ignite/internal/marshaller/optimized/OptimizedMarshallerTest.java"}, "test_case": {"identifier": "testProxy", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testProxy() throws IgniteCheckedException {\n        OptimizedMarshaller marsh = marshaller();\n\n        marsh.setRequireSerializable(false);\n\n        SomeItf inItf = (SomeItf)Proxy.newProxyInstance(\n            OptimizedMarshallerTest.class.getClassLoader(), new Class[] {SomeItf.class},\n            new InvocationHandler() {\n                private NonSerializable obj = new NonSerializable(null);\n\n                @Override public Object invoke(Object proxy, Method mtd, Object[] args) throws Throwable {\n                    obj.checkAfterUnmarshalled();\n\n                    return 17;\n                }\n            }\n        );\n\n        SomeItf outItf = marsh.unmarshal(marsh.marshal(inItf), null);\n\n        assertEquals(outItf.checkAfterUnmarshalled(), 17);\n    }", "signature": "void testProxy()", "full_signature": "@Test public void testProxy()", "class_method_signature": "OptimizedMarshallerTest.testProxy()", "testcase": true, "constructor": false, "invocations": ["marshaller", "setRequireSerializable", "newProxyInstance", "getClassLoader", "checkAfterUnmarshalled", "unmarshal", "marshal", "assertEquals", "checkAfterUnmarshalled"]}, "focal_class": {"identifier": "OptimizedMarshaller", "superclass": "extends AbstractNodeNameAwareMarshaller", "interfaces": "", "fields": [{"original_string": "public static final boolean USE_DFLT_SUID =\n        IgniteSystemProperties.getBoolean(IGNITE_OPTIMIZED_MARSHALLER_USE_DEFAULT_SUID, false);", "modifier": "public static final", "type": "boolean", "declarator": "USE_DFLT_SUID =\n        IgniteSystemProperties.getBoolean(IGNITE_OPTIMIZED_MARSHALLER_USE_DEFAULT_SUID, false)", "var_name": "USE_DFLT_SUID"}, {"original_string": "private final ClassLoader dfltClsLdr = getClass().getClassLoader();", "modifier": "private final", "type": "ClassLoader", "declarator": "dfltClsLdr = getClass().getClassLoader()", "var_name": "dfltClsLdr"}, {"original_string": "private boolean requireSer = true;", "modifier": "private", "type": "boolean", "declarator": "requireSer = true", "var_name": "requireSer"}, {"original_string": "private OptimizedMarshallerIdMapper mapper;", "modifier": "private", "type": "OptimizedMarshallerIdMapper", "declarator": "mapper", "var_name": "mapper"}, {"original_string": "private final ConcurrentMap<Class, OptimizedClassDescriptor> clsMap = new ConcurrentHashMap<>();", "modifier": "private final", "type": "ConcurrentMap<Class, OptimizedClassDescriptor>", "declarator": "clsMap = new ConcurrentHashMap<>()", "var_name": "clsMap"}, {"original_string": "private OptimizedObjectStreamRegistry registry = new OptimizedObjectSharedStreamRegistry();", "modifier": "private", "type": "OptimizedObjectStreamRegistry", "declarator": "registry = new OptimizedObjectSharedStreamRegistry()", "var_name": "registry"}, {"original_string": "private OptimizedObjectSharedStreamRegistry nonCachedRegistry = new OptimizedObjectSharedStreamRegistry();", "modifier": "private", "type": "OptimizedObjectSharedStreamRegistry", "declarator": "nonCachedRegistry = new OptimizedObjectSharedStreamRegistry()", "var_name": "nonCachedRegistry"}], "methods": [{"identifier": "OptimizedMarshaller", "parameters": "()", "modifiers": "public", "return": "", "signature": " OptimizedMarshaller()", "full_signature": "public  OptimizedMarshaller()", "class_method_signature": "OptimizedMarshaller.OptimizedMarshaller()", "testcase": false, "constructor": true}, {"identifier": "OptimizedMarshaller", "parameters": "(boolean requireSer)", "modifiers": "public", "return": "", "signature": " OptimizedMarshaller(boolean requireSer)", "full_signature": "public  OptimizedMarshaller(boolean requireSer)", "class_method_signature": "OptimizedMarshaller.OptimizedMarshaller(boolean requireSer)", "testcase": false, "constructor": true}, {"identifier": "setRequireSerializable", "parameters": "(boolean requireSer)", "modifiers": "public", "return": "OptimizedMarshaller", "signature": "OptimizedMarshaller setRequireSerializable(boolean requireSer)", "full_signature": "public OptimizedMarshaller setRequireSerializable(boolean requireSer)", "class_method_signature": "OptimizedMarshaller.setRequireSerializable(boolean requireSer)", "testcase": false, "constructor": false}, {"identifier": "setIdMapper", "parameters": "(OptimizedMarshallerIdMapper mapper)", "modifiers": "public", "return": "OptimizedMarshaller", "signature": "OptimizedMarshaller setIdMapper(OptimizedMarshallerIdMapper mapper)", "full_signature": "public OptimizedMarshaller setIdMapper(OptimizedMarshallerIdMapper mapper)", "class_method_signature": "OptimizedMarshaller.setIdMapper(OptimizedMarshallerIdMapper mapper)", "testcase": false, "constructor": false}, {"identifier": "setPoolSize", "parameters": "(int poolSize)", "modifiers": "public", "return": "OptimizedMarshaller", "signature": "OptimizedMarshaller setPoolSize(int poolSize)", "full_signature": "public OptimizedMarshaller setPoolSize(int poolSize)", "class_method_signature": "OptimizedMarshaller.setPoolSize(int poolSize)", "testcase": false, "constructor": false}, {"identifier": "marshal0", "parameters": "(@Nullable Object obj, OutputStream out)", "modifiers": "@Override protected", "return": "void", "signature": "void marshal0(@Nullable Object obj, OutputStream out)", "full_signature": "@Override protected void marshal0(@Nullable Object obj, OutputStream out)", "class_method_signature": "OptimizedMarshaller.marshal0(@Nullable Object obj, OutputStream out)", "testcase": false, "constructor": false}, {"identifier": "marshal0", "parameters": "(@Nullable Object obj)", "modifiers": "@Override protected", "return": "byte[]", "signature": "byte[] marshal0(@Nullable Object obj)", "full_signature": "@Override protected byte[] marshal0(@Nullable Object obj)", "class_method_signature": "OptimizedMarshaller.marshal0(@Nullable Object obj)", "testcase": false, "constructor": false}, {"identifier": "unmarshal0", "parameters": "(InputStream in, @Nullable ClassLoader clsLdr)", "modifiers": "@Override protected", "return": "T", "signature": "T unmarshal0(InputStream in, @Nullable ClassLoader clsLdr)", "full_signature": "@Override protected T unmarshal0(InputStream in, @Nullable ClassLoader clsLdr)", "class_method_signature": "OptimizedMarshaller.unmarshal0(InputStream in, @Nullable ClassLoader clsLdr)", "testcase": false, "constructor": false}, {"identifier": "unmarshal0", "parameters": "(InputStream in, @Nullable ClassLoader clsLdr, boolean useCache)", "modifiers": "protected", "return": "T", "signature": "T unmarshal0(InputStream in, @Nullable ClassLoader clsLdr, boolean useCache)", "full_signature": "protected T unmarshal0(InputStream in, @Nullable ClassLoader clsLdr, boolean useCache)", "class_method_signature": "OptimizedMarshaller.unmarshal0(InputStream in, @Nullable ClassLoader clsLdr, boolean useCache)", "testcase": false, "constructor": false}, {"identifier": "unmarshal0", "parameters": "(byte[] arr, @Nullable ClassLoader clsLdr)", "modifiers": "@Override protected", "return": "T", "signature": "T unmarshal0(byte[] arr, @Nullable ClassLoader clsLdr)", "full_signature": "@Override protected T unmarshal0(byte[] arr, @Nullable ClassLoader clsLdr)", "class_method_signature": "OptimizedMarshaller.unmarshal0(byte[] arr, @Nullable ClassLoader clsLdr)", "testcase": false, "constructor": false}, {"identifier": "available", "parameters": "()", "modifiers": "@SuppressWarnings({\"TypeParameterExtendsFinalClass\", \"ErrorNotRethrown\"}) public static", "return": "boolean", "signature": "boolean available()", "full_signature": "@SuppressWarnings({\"TypeParameterExtendsFinalClass\", \"ErrorNotRethrown\"}) public static boolean available()", "class_method_signature": "OptimizedMarshaller.available()", "testcase": false, "constructor": false}, {"identifier": "onUndeploy", "parameters": "(ClassLoader ldr)", "modifiers": "@Override public", "return": "void", "signature": "void onUndeploy(ClassLoader ldr)", "full_signature": "@Override public void onUndeploy(ClassLoader ldr)", "class_method_signature": "OptimizedMarshaller.onUndeploy(ClassLoader ldr)", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String toString()", "full_signature": "@Override public String toString()", "class_method_signature": "OptimizedMarshaller.toString()", "testcase": false, "constructor": false}], "file": "modules/core/src/main/java/org/apache/ignite/internal/marshaller/optimized/OptimizedMarshaller.java"}, "focal_method": {"identifier": "setRequireSerializable", "parameters": "(boolean requireSer)", "modifiers": "public", "return": "OptimizedMarshaller", "body": "public OptimizedMarshaller setRequireSerializable(boolean requireSer) {\n        this.requireSer = requireSer;\n\n        return this;\n    }", "signature": "OptimizedMarshaller setRequireSerializable(boolean requireSer)", "full_signature": "public OptimizedMarshaller setRequireSerializable(boolean requireSer)", "class_method_signature": "OptimizedMarshaller.setRequireSerializable(boolean requireSer)", "testcase": false, "constructor": false, "invocations": []}, "repository": {"repo_id": 170496871, "url": "https://github.com/gridgain/gridgain", "stars": 46, "created": "2/13/2019 11:31:35 AM +00:00", "updates": "2020-01-27T16:02:24+00:00", "fork": "False", "license": "licensed"}}