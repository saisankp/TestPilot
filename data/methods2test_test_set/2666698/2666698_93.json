{"test_class": {"identifier": "ProductArchiverMojoTest", "superclass": "", "interfaces": "", "fields": [], "file": "tycho-p2/tycho-p2-director-plugin/src/test/java/org/eclipse/tycho/plugins/p2/director/ProductArchiverMojoTest.java"}, "test_case": {"identifier": "testGetArtifactClassifierWithAttachId", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetArtifactClassifierWithAttachId() {\n        TargetEnvironment env = new TargetEnvironment(\"os\", \"ws\", \"arch\");\n        Product product = new Product(\"product.id\", \"attachId\");\n        String classifier = ProductArchiverMojo.getArtifactClassifier(product, env);\n        assertEquals(\"attachId-os.ws.arch\", classifier);\n    }", "signature": "void testGetArtifactClassifierWithAttachId()", "full_signature": "@Test public void testGetArtifactClassifierWithAttachId()", "class_method_signature": "ProductArchiverMojoTest.testGetArtifactClassifierWithAttachId()", "testcase": true, "constructor": false, "invocations": ["getArtifactClassifier", "assertEquals"]}, "focal_class": {"identifier": "ProductArchiverMojo", "superclass": "extends AbstractProductMojo", "interfaces": "", "fields": [{"original_string": "private static final Object LOCK = new Object();", "modifier": "private static final", "type": "Object", "declarator": "LOCK = new Object()", "var_name": "LOCK"}, {"original_string": "private static final String DEFAULT_ARCHIVE_FORMAT = \"zip\";", "modifier": "private static final", "type": "String", "declarator": "DEFAULT_ARCHIVE_FORMAT = \"zip\"", "var_name": "DEFAULT_ARCHIVE_FORMAT"}, {"original_string": "private static final String TAR_GZ_ARCHIVE_FORMAT = \"tar.gz\";", "modifier": "private static final", "type": "String", "declarator": "TAR_GZ_ARCHIVE_FORMAT = \"tar.gz\"", "var_name": "TAR_GZ_ARCHIVE_FORMAT"}, {"original_string": "private final Map<String, ProductArchiver> productArchivers;", "modifier": "private final", "type": "Map<String, ProductArchiver>", "declarator": "productArchivers", "var_name": "productArchivers"}, {"original_string": "@Parameter\n    private Map<String, String> formats;", "modifier": "@Parameter\n    private", "type": "Map<String, String>", "declarator": "formats", "var_name": "formats"}, {"original_string": "@Component(role = Archiver.class, hint = \"zip\")\n    private Archiver zipArchiver;", "modifier": "@Component(role = Archiver.class, hint = \"zip\")\n    private", "type": "Archiver", "declarator": "zipArchiver", "var_name": "zipArchiver"}, {"original_string": "@Component(role = Archiver.class, hint = \"tar\")\n    private TarArchiver tarArchiver;", "modifier": "@Component(role = Archiver.class, hint = \"tar\")\n    private", "type": "TarArchiver", "declarator": "tarArchiver", "var_name": "tarArchiver"}, {"original_string": "@Component\n    private MavenProjectHelper helper;", "modifier": "@Component\n    private", "type": "MavenProjectHelper", "declarator": "helper", "var_name": "helper"}], "methods": [{"identifier": "ProductArchiverMojo", "parameters": "()", "modifiers": "public", "return": "", "signature": " ProductArchiverMojo()", "full_signature": "public  ProductArchiverMojo()", "class_method_signature": "ProductArchiverMojo.ProductArchiverMojo()", "testcase": false, "constructor": true}, {"identifier": "execute", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void execute()", "full_signature": "@Override public void execute()", "class_method_signature": "ProductArchiverMojo.execute()", "testcase": false, "constructor": false}, {"identifier": "createCommonsCompressTarGz", "parameters": "(File productArchive, File sourceDir)", "modifiers": "private", "return": "void", "signature": "void createCommonsCompressTarGz(File productArchive, File sourceDir)", "full_signature": "private void createCommonsCompressTarGz(File productArchive, File sourceDir)", "class_method_signature": "ProductArchiverMojo.createCommonsCompressTarGz(File productArchive, File sourceDir)", "testcase": false, "constructor": false}, {"identifier": "getArchiveFormat", "parameters": "(TargetEnvironment env)", "modifiers": "private", "return": "String", "signature": "String getArchiveFormat(TargetEnvironment env)", "full_signature": "private String getArchiveFormat(TargetEnvironment env)", "class_method_signature": "ProductArchiverMojo.getArchiveFormat(TargetEnvironment env)", "testcase": false, "constructor": false}, {"identifier": "getArchiveFileName", "parameters": "(Product product)", "modifiers": "static", "return": "String", "signature": "String getArchiveFileName(Product product)", "full_signature": "static String getArchiveFileName(Product product)", "class_method_signature": "ProductArchiverMojo.getArchiveFileName(Product product)", "testcase": false, "constructor": false}, {"identifier": "getArtifactClassifier", "parameters": "(Product product, TargetEnvironment environment)", "modifiers": "static", "return": "String", "signature": "String getArtifactClassifier(Product product, TargetEnvironment environment)", "full_signature": "static String getArtifactClassifier(Product product, TargetEnvironment environment)", "class_method_signature": "ProductArchiverMojo.getArtifactClassifier(Product product, TargetEnvironment environment)", "testcase": false, "constructor": false}], "file": "tycho-p2/tycho-p2-director-plugin/src/main/java/org/eclipse/tycho/plugins/p2/director/ProductArchiverMojo.java"}, "focal_method": {"identifier": "getArtifactClassifier", "parameters": "(Product product, TargetEnvironment environment)", "modifiers": "static", "return": "String", "body": "static String getArtifactClassifier(Product product, TargetEnvironment environment) {\n        // classifier (and hence artifact file name) ends with os.ws.arch (similar to Eclipse\n        // download packages)\n        final String artifactClassifier;\n        if (product.getAttachId() == null) {\n            artifactClassifier = getOsWsArch(environment, '.');\n        } else {\n            artifactClassifier = product.getAttachId() + \"-\" + getOsWsArch(environment, '.');\n        }\n        return artifactClassifier;\n    }", "signature": "String getArtifactClassifier(Product product, TargetEnvironment environment)", "full_signature": "static String getArtifactClassifier(Product product, TargetEnvironment environment)", "class_method_signature": "ProductArchiverMojo.getArtifactClassifier(Product product, TargetEnvironment environment)", "testcase": false, "constructor": false, "invocations": ["getAttachId", "getOsWsArch", "getAttachId", "getOsWsArch"]}, "repository": {"repo_id": 2666698, "url": "https://github.com/eclipse/tycho", "language": "Java", "is_fork": false, "fork_count": 67, "stargazer_count": 61, "size": 22429, "license": "licensed"}}