{"test_class": {"identifier": "StateDescriptionServiceImplTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String ITEM_NAME = \"Item1\";", "modifier": "private static final", "type": "String", "declarator": "ITEM_NAME = \"Item1\"", "var_name": "ITEM_NAME"}, {"original_string": "private static final int STATE_DESCRIPTION_PROVIDER_DEFAULT_SERVICE_RANKING = 0;", "modifier": "private static final", "type": "int", "declarator": "STATE_DESCRIPTION_PROVIDER_DEFAULT_SERVICE_RANKING = 0", "var_name": "STATE_DESCRIPTION_PROVIDER_DEFAULT_SERVICE_RANKING"}, {"original_string": "private static final BigDecimal STATE_DESCRIPTION_PROVIDER_DEFAULT_MIN_VALUE = BigDecimal.ZERO;", "modifier": "private static final", "type": "BigDecimal", "declarator": "STATE_DESCRIPTION_PROVIDER_DEFAULT_MIN_VALUE = BigDecimal.ZERO", "var_name": "STATE_DESCRIPTION_PROVIDER_DEFAULT_MIN_VALUE"}, {"original_string": "private static final BigDecimal STATE_DESCRIPTION_PROVIDER_DEFAULT_MAX_VALUE = BigDecimal.ZERO;", "modifier": "private static final", "type": "BigDecimal", "declarator": "STATE_DESCRIPTION_PROVIDER_DEFAULT_MAX_VALUE = BigDecimal.ZERO", "var_name": "STATE_DESCRIPTION_PROVIDER_DEFAULT_MAX_VALUE"}, {"original_string": "private static final BigDecimal STATE_DESCRIPTION_PROVIDER_DEFAULT_STEP = BigDecimal.ZERO;", "modifier": "private static final", "type": "BigDecimal", "declarator": "STATE_DESCRIPTION_PROVIDER_DEFAULT_STEP = BigDecimal.ZERO", "var_name": "STATE_DESCRIPTION_PROVIDER_DEFAULT_STEP"}, {"original_string": "private static final String STATE_DESCRIPTION_PROVIDER_DEFAULT_PATTERN = \"pattern1\";", "modifier": "private static final", "type": "String", "declarator": "STATE_DESCRIPTION_PROVIDER_DEFAULT_PATTERN = \"pattern1\"", "var_name": "STATE_DESCRIPTION_PROVIDER_DEFAULT_PATTERN"}, {"original_string": "private static final Boolean STATE_DESCRIPTION_PROVIDER_DEFAULT_IS_READONLY = Boolean.FALSE;", "modifier": "private static final", "type": "Boolean", "declarator": "STATE_DESCRIPTION_PROVIDER_DEFAULT_IS_READONLY = Boolean.FALSE", "var_name": "STATE_DESCRIPTION_PROVIDER_DEFAULT_IS_READONLY"}, {"original_string": "private static final List<StateOption> STATE_DESCRIPTION_PROVIDER_DEFAULT_OPTIONS = Collections.emptyList();", "modifier": "private static final", "type": "List<StateOption>", "declarator": "STATE_DESCRIPTION_PROVIDER_DEFAULT_OPTIONS = Collections.emptyList()", "var_name": "STATE_DESCRIPTION_PROVIDER_DEFAULT_OPTIONS"}, {"original_string": "private StateDescriptionServiceImpl stateDescriptionService;", "modifier": "private", "type": "StateDescriptionServiceImpl", "declarator": "stateDescriptionService", "var_name": "stateDescriptionService"}, {"original_string": "private NumberItem item;", "modifier": "private", "type": "NumberItem", "declarator": "item", "var_name": "item"}], "file": "bundles/org.openhab.core/src/test/java/org/openhab/core/internal/service/StateDescriptionServiceImplTest.java"}, "test_case": {"identifier": "testOptionsWhenTwoDescriptionProvidersHigherRankingDoesntProvideOptions", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testOptionsWhenTwoDescriptionProvidersHigherRankingDoesntProvideOptions() {\n        StateDescriptionFragment stateDescriptionFragment1 = StateDescriptionFragmentBuilder.create().build();\n        registerStateDescriptionFragmentProvider(stateDescriptionFragment1, -1);\n\n        StateDescriptionFragment stateDescriptionFragment2 = StateDescriptionFragmentBuilder.create()\n                .withOption(new StateOption(\"value\", \"label\")).build();\n        registerStateDescriptionFragmentProvider(stateDescriptionFragment2, -2);\n\n        StateDescription stateDescription = item.getStateDescription();\n\n        assertThat(stateDescription.getOptions(), is(stateDescriptionFragment2.getOptions()));\n    }", "signature": "void testOptionsWhenTwoDescriptionProvidersHigherRankingDoesntProvideOptions()", "full_signature": "@Test public void testOptionsWhenTwoDescriptionProvidersHigherRankingDoesntProvideOptions()", "class_method_signature": "StateDescriptionServiceImplTest.testOptionsWhenTwoDescriptionProvidersHigherRankingDoesntProvideOptions()", "testcase": true, "constructor": false, "invocations": ["build", "create", "registerStateDescriptionFragmentProvider", "build", "withOption", "create", "registerStateDescriptionFragmentProvider", "getStateDescription", "assertThat", "getOptions", "is", "getOptions"]}, "focal_class": {"identifier": "StateDescriptionServiceImpl", "superclass": "", "interfaces": "implements StateDescriptionService", "fields": [{"original_string": "private final Set<StateDescriptionFragmentProvider> stateDescriptionFragmentProviders = Collections.synchronizedSet(\n            new TreeSet<StateDescriptionFragmentProvider>(new Comparator<StateDescriptionFragmentProvider>() {\n                @Override\n                public int compare(StateDescriptionFragmentProvider provider1,\n                        StateDescriptionFragmentProvider provider2) {\n                    return provider2.getRank().compareTo(provider1.getRank());\n                }\n            }));", "modifier": "private final", "type": "Set<StateDescriptionFragmentProvider>", "declarator": "stateDescriptionFragmentProviders = Collections.synchronizedSet(\n            new TreeSet<StateDescriptionFragmentProvider>(new Comparator<StateDescriptionFragmentProvider>() {\n                @Override\n                public int compare(StateDescriptionFragmentProvider provider1,\n                        StateDescriptionFragmentProvider provider2) {\n                    return provider2.getRank().compareTo(provider1.getRank());\n                }\n            }))", "var_name": "stateDescriptionFragmentProviders"}], "methods": [{"identifier": "addStateDescriptionFragmentProvider", "parameters": "(StateDescriptionFragmentProvider provider)", "modifiers": "@Reference(cardinality = ReferenceCardinality.MULTIPLE, policy = ReferencePolicy.DYNAMIC) public", "return": "void", "signature": "void addStateDescriptionFragmentProvider(StateDescriptionFragmentProvider provider)", "full_signature": "@Reference(cardinality = ReferenceCardinality.MULTIPLE, policy = ReferencePolicy.DYNAMIC) public void addStateDescriptionFragmentProvider(StateDescriptionFragmentProvider provider)", "class_method_signature": "StateDescriptionServiceImpl.addStateDescriptionFragmentProvider(StateDescriptionFragmentProvider provider)", "testcase": false, "constructor": false}, {"identifier": "removeStateDescriptionFragmentProvider", "parameters": "(StateDescriptionFragmentProvider provider)", "modifiers": "public", "return": "void", "signature": "void removeStateDescriptionFragmentProvider(StateDescriptionFragmentProvider provider)", "full_signature": "public void removeStateDescriptionFragmentProvider(StateDescriptionFragmentProvider provider)", "class_method_signature": "StateDescriptionServiceImpl.removeStateDescriptionFragmentProvider(StateDescriptionFragmentProvider provider)", "testcase": false, "constructor": false}, {"identifier": "getStateDescription", "parameters": "(String itemName, @Nullable Locale locale)", "modifiers": "@Override public @Nullable", "return": "StateDescription", "signature": "StateDescription getStateDescription(String itemName, @Nullable Locale locale)", "full_signature": "@Override public @Nullable StateDescription getStateDescription(String itemName, @Nullable Locale locale)", "class_method_signature": "StateDescriptionServiceImpl.getStateDescription(String itemName, @Nullable Locale locale)", "testcase": false, "constructor": false}, {"identifier": "getMergedStateDescriptionFragments", "parameters": "(String itemName,\n            @Nullable Locale locale)", "modifiers": "private @Nullable", "return": "StateDescriptionFragment", "signature": "StateDescriptionFragment getMergedStateDescriptionFragments(String itemName,\n            @Nullable Locale locale)", "full_signature": "private @Nullable StateDescriptionFragment getMergedStateDescriptionFragments(String itemName,\n            @Nullable Locale locale)", "class_method_signature": "StateDescriptionServiceImpl.getMergedStateDescriptionFragments(String itemName,\n            @Nullable Locale locale)", "testcase": false, "constructor": false}], "file": "bundles/org.openhab.core/src/main/java/org/openhab/core/internal/service/StateDescriptionServiceImpl.java"}, "focal_method": {"identifier": "getStateDescription", "parameters": "(String itemName, @Nullable Locale locale)", "modifiers": "@Override public @Nullable", "return": "StateDescription", "body": "@Override\n    public @Nullable StateDescription getStateDescription(String itemName, @Nullable Locale locale) {\n        StateDescriptionFragment stateDescriptionFragment = getMergedStateDescriptionFragments(itemName, locale);\n        return stateDescriptionFragment != null ? stateDescriptionFragment.toStateDescription() : null;\n    }", "signature": "StateDescription getStateDescription(String itemName, @Nullable Locale locale)", "full_signature": "@Override public @Nullable StateDescription getStateDescription(String itemName, @Nullable Locale locale)", "class_method_signature": "StateDescriptionServiceImpl.getStateDescription(String itemName, @Nullable Locale locale)", "testcase": false, "constructor": false, "invocations": ["getMergedStateDescriptionFragments", "toStateDescription"]}, "repository": {"repo_id": 48337670, "url": "https://github.com/openhab/openhab-core", "stars": 241, "created": "12/20/2015 9:23:20 PM +00:00", "updates": "2020-01-27T16:55:53+00:00", "fork": "False", "license": "licensed"}}