{"test_class": {"identifier": "DMZSyncServiceImplTest", "superclass": "extends AbstractJUnit4SpringContextTests", "interfaces": "", "fields": [{"original_string": "private MyDMZSyncServiceImpl instance  = null;", "modifier": "private", "type": "MyDMZSyncServiceImpl", "declarator": "instance  = null", "var_name": "instance"}, {"original_string": "private StandardizedPatient currentSP  = null;", "modifier": "private", "type": "StandardizedPatient", "declarator": "currentSP  = null", "var_name": "currentSP"}, {"original_string": "private String dataFromDMZ  = null;", "modifier": "private", "type": "String", "declarator": "dataFromDMZ  = null", "var_name": "dataFromDMZ"}, {"original_string": "private String expectedURL = null;", "modifier": "private", "type": "String", "declarator": "expectedURL = null", "var_name": "expectedURL"}, {"original_string": "private String locale = null;", "modifier": "private", "type": "String", "declarator": "locale = null", "var_name": "locale"}, {"original_string": "private StandardizedPatient testData = null;", "modifier": "private", "type": "StandardizedPatient", "declarator": "testData = null", "var_name": "testData"}, {"original_string": "private StandardizedPatient patient1 = null;", "modifier": "private", "type": "StandardizedPatient", "declarator": "patient1 = null", "var_name": "patient1"}, {"original_string": "private StandardizedPatient patient2 = null;", "modifier": "private", "type": "StandardizedPatient", "declarator": "patient2 = null", "var_name": "patient2"}, {"original_string": "private String returnData = null;", "modifier": "private", "type": "String", "declarator": "returnData = null", "var_name": "returnData"}], "file": "OsceManager/src/test/java/ch/unibas/medizin/osce/server/DMZSyncServiceImplTest.java"}, "test_case": {"identifier": "testPushToDMZ", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testPushToDMZ() {\n        try {\n\t\t\tinstance.pushToDMZ(22L,\"en\");\n\t\t} catch (Exception e) {\n\t\t\t// TODO Auto-generated catch block\n\t\t\te.printStackTrace();\n\t\t\te.getCause().printStackTrace();\n\t\t\tAssert.fail(\"error occured \" + e.getMessage());\t\t\t\n\t\t}\n\n        assertEquals((Long)22L, (Long)instance.spParam);\n        assertNotNull(instance.sentData);\n\n        checkSPData(instance.sentData, 55);\n\n    }", "signature": "void testPushToDMZ()", "full_signature": "@Test public void testPushToDMZ()", "class_method_signature": "DMZSyncServiceImplTest.testPushToDMZ()", "testcase": true, "constructor": false, "invocations": ["pushToDMZ", "printStackTrace", "printStackTrace", "getCause", "fail", "getMessage", "assertEquals", "assertNotNull", "checkSPData"]}, "focal_class": {"identifier": "DMZSyncServiceImpl", "superclass": "extends RemoteServiceServlet", "interfaces": "implements\n\t\tDMZSyncService", "fields": [{"original_string": "private static final long serialVersionUID = 1L;", "modifier": "private static final", "type": "long", "declarator": "serialVersionUID = 1L", "var_name": "serialVersionUID"}, {"original_string": "private static Logger Log = Logger.getLogger(DMZSyncServiceImpl.class);", "modifier": "private static", "type": "Logger", "declarator": "Log = Logger.getLogger(DMZSyncServiceImpl.class)", "var_name": "Log"}, {"original_string": "private static String dmzSyncExceptionType = \"\";", "modifier": "private static", "type": "String", "declarator": "dmzSyncExceptionType = \"\"", "var_name": "dmzSyncExceptionType"}, {"original_string": "private static String errorMsg = \"\";", "modifier": "private static", "type": "String", "declarator": "errorMsg = \"\"", "var_name": "errorMsg"}], "methods": [{"identifier": "pushToDMZ", "parameters": "(Long standardizedPatientId,String locale)", "modifiers": "@Override public", "return": "List<String>", "signature": "List<String> pushToDMZ(Long standardizedPatientId,String locale)", "full_signature": "@Override public List<String> pushToDMZ(Long standardizedPatientId,String locale)", "class_method_signature": "DMZSyncServiceImpl.pushToDMZ(Long standardizedPatientId,String locale)", "testcase": false, "constructor": false}, {"identifier": "processSendJson", "parameters": "(String json,String locale)", "modifiers": "private", "return": "String", "signature": "String processSendJson(String json,String locale)", "full_signature": "private String processSendJson(String json,String locale)", "class_method_signature": "DMZSyncServiceImpl.processSendJson(String json,String locale)", "testcase": false, "constructor": false}, {"identifier": "getSendReturnErrorMessage", "parameters": "(String json)", "modifiers": "protected", "return": "List<String>", "signature": "List<String> getSendReturnErrorMessage(String json)", "full_signature": "protected List<String> getSendReturnErrorMessage(String json)", "class_method_signature": "DMZSyncServiceImpl.getSendReturnErrorMessage(String json)", "testcase": false, "constructor": false}, {"identifier": "pullFromDMZ", "parameters": "(Long standardizedPatientId)", "modifiers": "@Override public", "return": "void", "signature": "void pullFromDMZ(Long standardizedPatientId)", "full_signature": "@Override public void pullFromDMZ(Long standardizedPatientId)", "class_method_signature": "DMZSyncServiceImpl.pullFromDMZ(Long standardizedPatientId)", "testcase": false, "constructor": false}, {"identifier": "sendSync", "parameters": "(String locale)", "modifiers": "@Override public", "return": "String", "signature": "String sendSync(String locale)", "full_signature": "@Override public String sendSync(String locale)", "class_method_signature": "DMZSyncServiceImpl.sendSync(String locale)", "testcase": false, "constructor": false}, {"identifier": "getSync", "parameters": "(String locale)", "modifiers": "@Override public", "return": "void", "signature": "void getSync(String locale)", "full_signature": "@Override public void getSync(String locale)", "class_method_signature": "DMZSyncServiceImpl.getSync(String locale)", "testcase": false, "constructor": false}, {"identifier": "getReturnMessage", "parameters": "(JSONObject myjson)", "modifiers": "private", "return": "String", "signature": "String getReturnMessage(JSONObject myjson)", "full_signature": "private String getReturnMessage(JSONObject myjson)", "class_method_signature": "DMZSyncServiceImpl.getReturnMessage(JSONObject myjson)", "testcase": false, "constructor": false}, {"identifier": "syncOsceDayAndTraining", "parameters": "(JSONObject myjson)", "modifiers": "private", "return": "void", "signature": "void syncOsceDayAndTraining(JSONObject myjson)", "full_signature": "private void syncOsceDayAndTraining(JSONObject myjson)", "class_method_signature": "DMZSyncServiceImpl.syncOsceDayAndTraining(JSONObject myjson)", "testcase": false, "constructor": false}, {"identifier": "syncOsceDay", "parameters": "(JSONObject myjson)", "modifiers": "private", "return": "void", "signature": "void syncOsceDay(JSONObject myjson)", "full_signature": "private void syncOsceDay(JSONObject myjson)", "class_method_signature": "DMZSyncServiceImpl.syncOsceDay(JSONObject myjson)", "testcase": false, "constructor": false}, {"identifier": "syncPatientInSemester", "parameters": "(JSONObject myjson)", "modifiers": "private", "return": "void", "signature": "void syncPatientInSemester(JSONObject myjson)", "full_signature": "private void syncPatientInSemester(JSONObject myjson)", "class_method_signature": "DMZSyncServiceImpl.syncPatientInSemester(JSONObject myjson)", "testcase": false, "constructor": false}, {"identifier": "setOsceDays", "parameters": "(JSONObject jsonObject,PatientInSemester semester)", "modifiers": "private", "return": "void", "signature": "void setOsceDays(JSONObject jsonObject,PatientInSemester semester)", "full_signature": "private void setOsceDays(JSONObject jsonObject,PatientInSemester semester)", "class_method_signature": "DMZSyncServiceImpl.setOsceDays(JSONObject jsonObject,PatientInSemester semester)", "testcase": false, "constructor": false}, {"identifier": "getSyncJsonData", "parameters": "(String locale)", "modifiers": "protected", "return": "String", "signature": "String getSyncJsonData(String locale)", "full_signature": "protected String getSyncJsonData(String locale)", "class_method_signature": "DMZSyncServiceImpl.getSyncJsonData(String locale)", "testcase": false, "constructor": false}, {"identifier": "getOsceDayJsonStr", "parameters": "(OsceDay osceDay)", "modifiers": "private", "return": "String", "signature": "String getOsceDayJsonStr(OsceDay osceDay)", "full_signature": "private String getOsceDayJsonStr(OsceDay osceDay)", "class_method_signature": "DMZSyncServiceImpl.getOsceDayJsonStr(OsceDay osceDay)", "testcase": false, "constructor": false}, {"identifier": "getSemesterJsonStr", "parameters": "(Semester semester)", "modifiers": "private", "return": "String", "signature": "String getSemesterJsonStr(Semester semester)", "full_signature": "private String getSemesterJsonStr(Semester semester)", "class_method_signature": "DMZSyncServiceImpl.getSemesterJsonStr(Semester semester)", "testcase": false, "constructor": false}, {"identifier": "getPatientInSemester", "parameters": "(PatientInSemester pis)", "modifiers": "private", "return": "String", "signature": "String getPatientInSemester(PatientInSemester pis)", "full_signature": "private String getPatientInSemester(PatientInSemester pis)", "class_method_signature": "DMZSyncServiceImpl.getPatientInSemester(PatientInSemester pis)", "testcase": false, "constructor": false}, {"identifier": "getOscesJsonStr", "parameters": "(Osce osce)", "modifiers": "private", "return": "String", "signature": "String getOscesJsonStr(Osce osce)", "full_signature": "private String getOscesJsonStr(Osce osce)", "class_method_signature": "DMZSyncServiceImpl.getOscesJsonStr(Osce osce)", "testcase": false, "constructor": false}, {"identifier": "getStandardizedPatientJsonStr", "parameters": "(PatientInSemester patient)", "modifiers": "private", "return": "String", "signature": "String getStandardizedPatientJsonStr(PatientInSemester patient)", "full_signature": "private String getStandardizedPatientJsonStr(PatientInSemester patient)", "class_method_signature": "DMZSyncServiceImpl.getStandardizedPatientJsonStr(PatientInSemester patient)", "testcase": false, "constructor": false}, {"identifier": "convertToString", "parameters": "(Date date)", "modifiers": "private", "return": "String", "signature": "String convertToString(Date date)", "full_signature": "private String convertToString(Date date)", "class_method_signature": "DMZSyncServiceImpl.convertToString(Date date)", "testcase": false, "constructor": false}, {"identifier": "convertToDate", "parameters": "(String dateStr)", "modifiers": "private", "return": "Date", "signature": "Date convertToDate(String dateStr)", "full_signature": "private Date convertToDate(String dateStr)", "class_method_signature": "DMZSyncServiceImpl.convertToDate(String dateStr)", "testcase": false, "constructor": false}, {"identifier": "setDMZSyncExceptionTypeAndErrorMsg", "parameters": "(String type,String msg)", "modifiers": "private", "return": "void", "signature": "void setDMZSyncExceptionTypeAndErrorMsg(String type,String msg)", "full_signature": "private void setDMZSyncExceptionTypeAndErrorMsg(String type,String msg)", "class_method_signature": "DMZSyncServiceImpl.setDMZSyncExceptionTypeAndErrorMsg(String type,String msg)", "testcase": false, "constructor": false}, {"identifier": "updatePatient", "parameters": "(StandardizedPatient patient,StandardizedPatient newPatient)", "modifiers": "private", "return": "void", "signature": "void updatePatient(StandardizedPatient patient,StandardizedPatient newPatient)", "full_signature": "private void updatePatient(StandardizedPatient patient,StandardizedPatient newPatient)", "class_method_signature": "DMZSyncServiceImpl.updatePatient(StandardizedPatient patient,StandardizedPatient newPatient)", "testcase": false, "constructor": false}, {"identifier": "updateChecksValue", "parameters": "(AnamnesisChecksValue checksValue,AnamnesisChecksValue newChecksValue,AnamnesisForm anamnesisForm)", "modifiers": "private", "return": "void", "signature": "void updateChecksValue(AnamnesisChecksValue checksValue,AnamnesisChecksValue newChecksValue,AnamnesisForm anamnesisForm)", "full_signature": "private void updateChecksValue(AnamnesisChecksValue checksValue,AnamnesisChecksValue newChecksValue,AnamnesisForm anamnesisForm)", "class_method_signature": "DMZSyncServiceImpl.updateChecksValue(AnamnesisChecksValue checksValue,AnamnesisChecksValue newChecksValue,AnamnesisForm anamnesisForm)", "testcase": false, "constructor": false}, {"identifier": "saveChecksValue", "parameters": "(AnamnesisChecksValue newChecksValue,AnamnesisForm anamnesisForm)", "modifiers": "private", "return": "void", "signature": "void saveChecksValue(AnamnesisChecksValue newChecksValue,AnamnesisForm anamnesisForm)", "full_signature": "private void saveChecksValue(AnamnesisChecksValue newChecksValue,AnamnesisForm anamnesisForm)", "class_method_signature": "DMZSyncServiceImpl.saveChecksValue(AnamnesisChecksValue newChecksValue,AnamnesisForm anamnesisForm)", "testcase": false, "constructor": false}, {"identifier": "preProcessData", "parameters": "(String data)", "modifiers": "public", "return": "String", "signature": "String preProcessData(String data)", "full_signature": "public String preProcessData(String data)", "class_method_signature": "DMZSyncServiceImpl.preProcessData(String data)", "testcase": false, "constructor": false}, {"identifier": "findPatient", "parameters": "(Long objectId)", "modifiers": "protected", "return": "StandardizedPatient", "signature": "StandardizedPatient findPatient(Long objectId)", "full_signature": "protected StandardizedPatient findPatient(Long objectId)", "class_method_signature": "DMZSyncServiceImpl.findPatient(Long objectId)", "testcase": false, "constructor": false}, {"identifier": "sendData", "parameters": "(String json,String url)", "modifiers": "protected", "return": "String", "signature": "String sendData(String json,String url)", "full_signature": "protected String sendData(String json,String url)", "class_method_signature": "DMZSyncServiceImpl.sendData(String json,String url)", "testcase": false, "constructor": false}, {"identifier": "getDMZData", "parameters": "(String url)", "modifiers": "protected", "return": "String", "signature": "String getDMZData(String url)", "full_signature": "protected String getDMZData(String url)", "class_method_signature": "DMZSyncServiceImpl.getDMZData(String url)", "testcase": false, "constructor": false}, {"identifier": "getHostAddress", "parameters": "()", "modifiers": "protected", "return": "String", "signature": "String getHostAddress()", "full_signature": "protected String getHostAddress()", "class_method_signature": "DMZSyncServiceImpl.getHostAddress()", "testcase": false, "constructor": false}, {"identifier": "authenticate", "parameters": "(HttpClient client, HttpMethodBase method)", "modifiers": "private", "return": "void", "signature": "void authenticate(HttpClient client, HttpMethodBase method)", "full_signature": "private void authenticate(HttpClient client, HttpMethodBase method)", "class_method_signature": "DMZSyncServiceImpl.authenticate(HttpClient client, HttpMethodBase method)", "testcase": false, "constructor": false}, {"identifier": "savePatient", "parameters": "(StandardizedPatient patient)", "modifiers": "protected", "return": "void", "signature": "void savePatient(StandardizedPatient patient)", "full_signature": "protected void savePatient(StandardizedPatient patient)", "class_method_signature": "DMZSyncServiceImpl.savePatient(StandardizedPatient patient)", "testcase": false, "constructor": false}, {"identifier": "getRequest", "parameters": "()", "modifiers": "", "return": "HttpServletRequest", "signature": "HttpServletRequest getRequest()", "full_signature": " HttpServletRequest getRequest()", "class_method_signature": "DMZSyncServiceImpl.getRequest()", "testcase": false, "constructor": false}], "file": "OsceManager/src/main/java/ch/unibas/medizin/osce/server/DMZSyncServiceImpl.java"}, "focal_method": {"identifier": "pushToDMZ", "parameters": "(Long standardizedPatientId,String locale)", "modifiers": "@Override public", "return": "List<String>", "body": "@Override\n\tpublic List<String> pushToDMZ(Long standardizedPatientId,String locale) throws DMZSyncException {\n\t\t\tStandardizedPatient patient = findPatient(standardizedPatientId);\n\t\t\tAnamnesisChecksValue.fillAnamnesisChecksValues(patient.getAnamnesisForm().getId());\n\t\t\t\n\t\t\tpatient.getAnamnesisForm().setAnamnesischecksvalues(AnamnesisChecksValue.findAnamnesisChecksValueForSetAnamnesisCheck(patient.getAnamnesisForm().getId()));\n\t\t\t\n\t\t\tString json = \"\";\n\t\t\tString url = \"\";\n\t\t\tList<String> errorMessages = null;\n\t\t\tif(patient !=null){\n\t\t\t\ttry{\n\t\t\t\t\t//,\"anamnesisForm.anamnesischecksvalues.anamnesischeck\"\n\t\t\t\t\t\n\t\t\t\t\tJSONSerializer serializer = new JSONSerializer();\n\t\t\t\t\tjson = serializer\n\t\t\t\t\t       .include(\"*.class\",\"anamnesisForm\",\"anamnesisForm.anamnesischecksvalues\"\n\t\t\t\t\t    \t\t   ,\"anamnesisForm.scars\",\"anamnesisForm.anamnesischecksvalues.values.anamnesisform\"\n\t\t\t\t\t    \t\t   ,\"bankAccount.IBAN\",\"bankAccount.BIC\"\n\t\t\t\t\t\t\t       ,\"description\",\"profession\",\"nationality\",\"langskills\")\n\t\t\t\t\t\t   .transform(new DateTransformer(\"yyyy-MM-dd'T'HH:mm:ss'Z'\"), \"birthday\")\n\t\t\t\t\t\t   .transform(new DateTransformer(\"yyyy-MM-dd'T'HH:mm:ss'Z'\"), \"anamnesisForm.createDate\")\n\t\t\t\t\t\t   .serialize(patient);\n\t\t\t\t\t\n\t\t\t\t\tjson = processSendJson(json,locale);\n\t\t\t\t}catch(Exception e){\n\t\t\t\t\tthrow new DMZSyncException(DMZSyncExceptionType.SERIALIZING_EXCEPTION,e.getMessage());\n\t\t\t\t}\n\t\t\t\turl = getHostAddress() + \"/DataImportExport/importSP\";\t\n\t\t\t\tString returnJson = sendData(json,url);\n\t\t\t\terrorMessages = getSendReturnErrorMessage(returnJson);\n\t\t\t}else{\n\t\t\t\tthrow new DMZSyncException(DMZSyncExceptionType.PATIENT_EXIST_EXCEPTION,\"\");\n\t\t\t}\n\t\t\t\n\t\t\treturn errorMessages;\n\t}", "signature": "List<String> pushToDMZ(Long standardizedPatientId,String locale)", "full_signature": "@Override public List<String> pushToDMZ(Long standardizedPatientId,String locale)", "class_method_signature": "DMZSyncServiceImpl.pushToDMZ(Long standardizedPatientId,String locale)", "testcase": false, "constructor": false, "invocations": ["findPatient", "fillAnamnesisChecksValues", "getId", "getAnamnesisForm", "setAnamnesischecksvalues", "getAnamnesisForm", "findAnamnesisChecksValueForSetAnamnesisCheck", "getId", "getAnamnesisForm", "serialize", "transform", "transform", "include", "processSendJson", "getMessage", "getHostAddress", "sendData", "getSendReturnErrorMessage"]}, "repository": {"repo_id": 2254581, "url": "https://github.com/nikotsunami/osce", "language": "Java", "is_fork": false, "fork_count": 4, "stargazer_count": 8, "size": 56026, "license": "licensed"}}