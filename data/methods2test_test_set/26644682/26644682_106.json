{"test_class": {"identifier": "MetadataChangesOnActionsGeneratorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private MetadataChangesOnActionsGenerator onActionsGenerator = new MetadataChangesOnActionsGenerator();", "modifier": "private", "type": "MetadataChangesOnActionsGenerator", "declarator": "onActionsGenerator = new MetadataChangesOnActionsGenerator()", "var_name": "onActionsGenerator"}, {"original_string": "@Mock\n    private RunnableAction firstAction;", "modifier": "@Mock\n    private", "type": "RunnableAction", "declarator": "firstAction", "var_name": "firstAction"}, {"original_string": "@Mock\n    private DataSetRowAction firstRowAction;", "modifier": "@Mock\n    private", "type": "DataSetRowAction", "declarator": "firstRowAction", "var_name": "firstRowAction"}, {"original_string": "@Mock\n    private DisposableBean firstActionStuffInActionContext;", "modifier": "@Mock\n    private", "type": "DisposableBean", "declarator": "firstActionStuffInActionContext", "var_name": "firstActionStuffInActionContext"}, {"original_string": "@Mock\n    private RunnableAction secondAction;", "modifier": "@Mock\n    private", "type": "RunnableAction", "declarator": "secondAction", "var_name": "secondAction"}, {"original_string": "@Mock\n    private DataSetRowAction secondRowAction;", "modifier": "@Mock\n    private", "type": "DataSetRowAction", "declarator": "secondRowAction", "var_name": "secondRowAction"}, {"original_string": "@Mock\n    private DisposableBean secondActionStuffInActionContext;", "modifier": "@Mock\n    private", "type": "DisposableBean", "declarator": "secondActionStuffInActionContext", "var_name": "secondActionStuffInActionContext"}], "file": "dataprep-preparation/src/test/java/org/talend/dataprep/preparation/service/MetadataChangesOnActionsGeneratorTest.java"}, "test_case": {"identifier": "getActionCreatedColumns_should_return_created_columns_for_multiple_diffs", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getActionCreatedColumns_should_return_created_columns_for_multiple_diffs() throws Exception {\n\n        // given\n        RowMetadata workingMetadata = new RowMetadata();\n        workingMetadata.addColumn(createColumnNamed(\"do\"));\n        workingMetadata.addColumn(createColumnNamed(\"r\u00e9\"));\n        workingMetadata.addColumn(createColumnNamed(\"mi\"));\n\n        // when\n        doAnswer(answer(newArrayList(\"foo\", \"bar\"), emptyList(), null)) //\n                .when(firstRowAction) //\n                .compile(any(ActionContext.class) //\n        );\n        doAnswer(answer(emptyList(), newArrayList(\"do\", \"r\u00e9\"), null)) //\n                .when(secondRowAction) // s\n                .compile(any(ActionContext.class) //\n        );\n\n        StepDiff stepDiff =\n                onActionsGenerator.computeCreatedColumns(newArrayList(firstAction, secondAction), workingMetadata);\n\n        // then\n        assertEquals(newArrayList(\"0003\", \"0004\"), stepDiff.getCreatedColumns());\n    }", "signature": "void getActionCreatedColumns_should_return_created_columns_for_multiple_diffs()", "full_signature": "@Test public void getActionCreatedColumns_should_return_created_columns_for_multiple_diffs()", "class_method_signature": "MetadataChangesOnActionsGeneratorTest.getActionCreatedColumns_should_return_created_columns_for_multiple_diffs()", "testcase": true, "constructor": false, "invocations": ["addColumn", "createColumnNamed", "addColumn", "createColumnNamed", "addColumn", "createColumnNamed", "compile", "when", "doAnswer", "answer", "newArrayList", "emptyList", "any", "compile", "when", "doAnswer", "answer", "emptyList", "newArrayList", "any", "computeCreatedColumns", "newArrayList", "assertEquals", "newArrayList", "getCreatedColumns"]}, "focal_class": {"identifier": "MetadataChangesOnActionsGenerator", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "computeCreatedColumns", "parameters": "(final RowMetadata metadata, List<RunnableAction> currentActions,\n            List<RunnableAction> newActions)", "modifiers": "public", "return": "StepDiff", "signature": "StepDiff computeCreatedColumns(final RowMetadata metadata, List<RunnableAction> currentActions,\n            List<RunnableAction> newActions)", "full_signature": "public StepDiff computeCreatedColumns(final RowMetadata metadata, List<RunnableAction> currentActions,\n            List<RunnableAction> newActions)", "class_method_signature": "MetadataChangesOnActionsGenerator.computeCreatedColumns(final RowMetadata metadata, List<RunnableAction> currentActions,\n            List<RunnableAction> newActions)", "testcase": false, "constructor": false}, {"identifier": "computeCreatedColumns", "parameters": "(List<RunnableAction> newActions, RowMetadata reference)", "modifiers": "", "return": "StepDiff", "signature": "StepDiff computeCreatedColumns(List<RunnableAction> newActions, RowMetadata reference)", "full_signature": " StepDiff computeCreatedColumns(List<RunnableAction> newActions, RowMetadata reference)", "class_method_signature": "MetadataChangesOnActionsGenerator.computeCreatedColumns(List<RunnableAction> newActions, RowMetadata reference)", "testcase": false, "constructor": false}, {"identifier": "compileActionsOnMetadata", "parameters": "(List<RunnableAction> actions, final RowMetadata startingRowMetadata)", "modifiers": "private", "return": "RowMetadata", "signature": "RowMetadata compileActionsOnMetadata(List<RunnableAction> actions, final RowMetadata startingRowMetadata)", "full_signature": "private RowMetadata compileActionsOnMetadata(List<RunnableAction> actions, final RowMetadata startingRowMetadata)", "class_method_signature": "MetadataChangesOnActionsGenerator.compileActionsOnMetadata(List<RunnableAction> actions, final RowMetadata startingRowMetadata)", "testcase": false, "constructor": false}], "file": "dataprep-preparation/src/main/java/org/talend/dataprep/preparation/service/MetadataChangesOnActionsGenerator.java"}, "focal_method": {"identifier": "computeCreatedColumns", "parameters": "(final RowMetadata metadata, List<RunnableAction> currentActions,\n            List<RunnableAction> newActions)", "modifiers": "public", "return": "StepDiff", "body": "public StepDiff computeCreatedColumns(final RowMetadata metadata, List<RunnableAction> currentActions,\n            List<RunnableAction> newActions) {\n        RowMetadata workingMetadata = compileActionsOnMetadata(currentActions, metadata);\n        return computeCreatedColumns(newActions, workingMetadata);\n    }", "signature": "StepDiff computeCreatedColumns(final RowMetadata metadata, List<RunnableAction> currentActions,\n            List<RunnableAction> newActions)", "full_signature": "public StepDiff computeCreatedColumns(final RowMetadata metadata, List<RunnableAction> currentActions,\n            List<RunnableAction> newActions)", "class_method_signature": "MetadataChangesOnActionsGenerator.computeCreatedColumns(final RowMetadata metadata, List<RunnableAction> currentActions,\n            List<RunnableAction> newActions)", "testcase": false, "constructor": false, "invocations": ["compileActionsOnMetadata", "computeCreatedColumns"]}, "repository": {"repo_id": 26644682, "url": "https://github.com/Talend/data-prep", "language": "Java", "is_fork": false, "fork_count": 29, "stargazer_count": 53, "size": 70450, "license": "licensed"}}