{"test_class": {"identifier": "StringToObjectConverterTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "StringToObjectConverter converter;", "modifier": "", "type": "StringToObjectConverter", "declarator": "converter", "var_name": "converter"}], "file": "agent/core/src/test/java/org/jolokia/converter/object/StringToObjectConverterTest.java"}, "test_case": {"identifier": "jsonConversion", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void jsonConversion() {\n        JSONObject json = new JSONObject();\n        json.put(\"name\",\"roland\");\n        json.put(\"kind\",\"jolokia\");\n\n        Object object = converter.convertFromString(JSONObject.class.getName(),json.toString());\n        assertEquals(json,object);\n\n        JSONArray array = new JSONArray();\n        array.add(\"roland\");\n        array.add(\"jolokia\");\n\n        object = converter.convertFromString(JSONArray.class.getName(),array.toString());\n        assertEquals(array,object);\n\n        try {\n            converter.convertFromString(JSONObject.class.getName(),\"{bla:blub{\");\n            fail();\n        } catch (IllegalArgumentException exp) {\n\n        }\n    }", "signature": "void jsonConversion()", "full_signature": "@Test public void jsonConversion()", "class_method_signature": "StringToObjectConverterTest.jsonConversion()", "testcase": true, "constructor": false, "invocations": ["put", "put", "convertFromString", "getName", "toString", "assertEquals", "add", "add", "convertFromString", "getName", "toString", "assertEquals", "convertFromString", "getName", "fail"]}, "focal_class": {"identifier": "StringToObjectConverter", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Map<String,Parser> PARSER_MAP = new HashMap<String,Parser>();", "modifier": "private static final", "type": "Map<String,Parser>", "declarator": "PARSER_MAP = new HashMap<String,Parser>()", "var_name": "PARSER_MAP"}, {"original_string": "private static final Map<String,Class> TYPE_SIGNATURE_MAP = new HashMap<String, Class>();", "modifier": "private static final", "type": "Map<String,Class>", "declarator": "TYPE_SIGNATURE_MAP = new HashMap<String, Class>()", "var_name": "TYPE_SIGNATURE_MAP"}], "methods": [{"identifier": "prepareValue", "parameters": "(String pExpectedClassName, Object pValue)", "modifiers": "public", "return": "Object", "signature": "Object prepareValue(String pExpectedClassName, Object pValue)", "full_signature": "public Object prepareValue(String pExpectedClassName, Object pValue)", "class_method_signature": "StringToObjectConverter.prepareValue(String pExpectedClassName, Object pValue)", "testcase": false, "constructor": false}, {"identifier": "prepareValue", "parameters": "(Class expectedClass, Object pValue)", "modifiers": "private", "return": "Object", "signature": "Object prepareValue(Class expectedClass, Object pValue)", "full_signature": "private Object prepareValue(Class expectedClass, Object pValue)", "class_method_signature": "StringToObjectConverter.prepareValue(Class expectedClass, Object pValue)", "testcase": false, "constructor": false}, {"identifier": "convertSpecialStringTags", "parameters": "(String pValue)", "modifiers": "public static", "return": "String", "signature": "String convertSpecialStringTags(String pValue)", "full_signature": "public static String convertSpecialStringTags(String pValue)", "class_method_signature": "StringToObjectConverter.convertSpecialStringTags(String pValue)", "testcase": false, "constructor": false}, {"identifier": "prepareForDirectUsage", "parameters": "(Class expectedClass, Object pArgument)", "modifiers": "private", "return": "Object", "signature": "Object prepareForDirectUsage(Class expectedClass, Object pArgument)", "full_signature": "private Object prepareForDirectUsage(Class expectedClass, Object pArgument)", "class_method_signature": "StringToObjectConverter.prepareForDirectUsage(Class expectedClass, Object pArgument)", "testcase": false, "constructor": false}, {"identifier": "convertByConstructor", "parameters": "(String pType, String pValue)", "modifiers": "private", "return": "Object", "signature": "Object convertByConstructor(String pType, String pValue)", "full_signature": "private Object convertByConstructor(String pType, String pValue)", "class_method_signature": "StringToObjectConverter.convertByConstructor(String pType, String pValue)", "testcase": false, "constructor": false}, {"identifier": "convertFromString", "parameters": "(String pType, String pValue)", "modifiers": "public", "return": "Object", "signature": "Object convertFromString(String pType, String pValue)", "full_signature": "public Object convertFromString(String pType, String pValue)", "class_method_signature": "StringToObjectConverter.convertFromString(String pType, String pValue)", "testcase": false, "constructor": false}, {"identifier": "convertToArray", "parameters": "(String pType, String pValue)", "modifiers": "private", "return": "Object", "signature": "Object convertToArray(String pType, String pValue)", "full_signature": "private Object convertToArray(String pType, String pValue)", "class_method_signature": "StringToObjectConverter.convertToArray(String pType, String pValue)", "testcase": false, "constructor": false}, {"identifier": "convertListToArray", "parameters": "(Class pType, List pList)", "modifiers": "private", "return": "Object", "signature": "Object convertListToArray(Class pType, List pList)", "full_signature": "private Object convertListToArray(Class pType, List pList)", "class_method_signature": "StringToObjectConverter.convertListToArray(Class pType, List pList)", "testcase": false, "constructor": false}], "file": "agent/core/src/main/java/org/jolokia/converter/object/StringToObjectConverter.java"}, "focal_method": {"identifier": "convertFromString", "parameters": "(String pType, String pValue)", "modifiers": "public", "return": "Object", "body": "public Object convertFromString(String pType, String pValue) {\n        String value = convertSpecialStringTags(pValue);\n\n        if (value == null) {\n            return null;\n        }\n        if (pType.startsWith(\"[\") && pType.length() >= 2) {\n            return convertToArray(pType, value);\n        }\n\n        Parser parser = PARSER_MAP.get(pType);\n        if (parser != null) {\n            return parser.extract(value);\n        }\n        \n        Object cValue = convertByConstructor(pType, pValue);\n        if (cValue != null) {\n        \treturn cValue;\n        }\n        \n        throw new IllegalArgumentException(\n                \"Cannot convert string \" + value + \" to type \" +\n                        pType + \" because no converter could be found\");\n    }", "signature": "Object convertFromString(String pType, String pValue)", "full_signature": "public Object convertFromString(String pType, String pValue)", "class_method_signature": "StringToObjectConverter.convertFromString(String pType, String pValue)", "testcase": false, "constructor": false, "invocations": ["convertSpecialStringTags", "startsWith", "length", "convertToArray", "get", "extract", "convertByConstructor"]}, "repository": {"repo_id": 777444, "url": "https://github.com/rhuss/jolokia", "language": "Java", "is_fork": false, "fork_count": 187, "stargazer_count": 682, "size": 20451, "license": "licensed"}}