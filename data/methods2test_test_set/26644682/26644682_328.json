{"test_class": {"identifier": "StrictlyBoundedInputStreamTest", "superclass": "", "interfaces": "", "fields": [], "file": "dataprep-backend-service/src/test/java/org/talend/dataprep/dataset/store/content/StrictlyBoundedInputStreamTest.java"}, "test_case": {"identifier": "should_be_read_when_maximum_size_is_less_or_equal_to_zero", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void should_be_read_when_maximum_size_is_less_or_equal_to_zero() throws Exception {\n        // Given\n        byte[] bytes = { 0, 1, 2 };\n        InputStream inputStream = new StrictlyBoundedInputStream(new ByteArrayInputStream(bytes), -1);\n        byte[] result = new byte[3];\n\n        // When\n        inputStream.read(result, 0, 3);\n\n        // Then\n        assertArrayEquals(bytes, result);\n    }", "signature": "void should_be_read_when_maximum_size_is_less_or_equal_to_zero()", "full_signature": "@Test public void should_be_read_when_maximum_size_is_less_or_equal_to_zero()", "class_method_signature": "StrictlyBoundedInputStreamTest.should_be_read_when_maximum_size_is_less_or_equal_to_zero()", "testcase": true, "constructor": false, "invocations": ["read", "assertArrayEquals"]}, "focal_class": {"identifier": "StrictlyBoundedInputStream", "superclass": "extends InputStream", "interfaces": "", "fields": [{"original_string": "private final InputStream in;", "modifier": "private final", "type": "InputStream", "declarator": "in", "var_name": "in"}, {"original_string": "private final long maxSize;", "modifier": "private final", "type": "long", "declarator": "maxSize", "var_name": "maxSize"}, {"original_string": "private long total;", "modifier": "private", "type": "long", "declarator": "total", "var_name": "total"}], "methods": [{"identifier": "StrictlyBoundedInputStream", "parameters": "(InputStream in, long maxSize)", "modifiers": "public", "return": "", "signature": " StrictlyBoundedInputStream(InputStream in, long maxSize)", "full_signature": "public  StrictlyBoundedInputStream(InputStream in, long maxSize)", "class_method_signature": "StrictlyBoundedInputStream.StrictlyBoundedInputStream(InputStream in, long maxSize)", "testcase": false, "constructor": true}, {"identifier": "getMaxSize", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getMaxSize()", "full_signature": "public long getMaxSize()", "class_method_signature": "StrictlyBoundedInputStream.getMaxSize()", "testcase": false, "constructor": false}, {"identifier": "getTotal", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getTotal()", "full_signature": "public long getTotal()", "class_method_signature": "StrictlyBoundedInputStream.getTotal()", "testcase": false, "constructor": false}, {"identifier": "read", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int read()", "full_signature": "@Override public int read()", "class_method_signature": "StrictlyBoundedInputStream.read()", "testcase": false, "constructor": false}, {"identifier": "incrementCounter", "parameters": "(int size)", "modifiers": "private", "return": "void", "signature": "void incrementCounter(int size)", "full_signature": "private void incrementCounter(int size)", "class_method_signature": "StrictlyBoundedInputStream.incrementCounter(int size)", "testcase": false, "constructor": false}], "file": "dataprep-backend-service/src/main/java/org/talend/dataprep/dataset/store/content/StrictlyBoundedInputStream.java"}, "focal_method": {"identifier": "read", "parameters": "()", "modifiers": "@Override public", "return": "int", "body": "@Override\n    public int read() throws IOException {\n        int i = in.read();\n        if (i >= 0) {\n            incrementCounter(1);\n        }\n        return i;\n    }", "signature": "int read()", "full_signature": "@Override public int read()", "class_method_signature": "StrictlyBoundedInputStream.read()", "testcase": false, "constructor": false, "invocations": ["read", "incrementCounter"]}, "repository": {"repo_id": 26644682, "url": "https://github.com/Talend/data-prep", "language": "Java", "is_fork": false, "fork_count": 29, "stargazer_count": 53, "size": 70450, "license": "licensed"}}