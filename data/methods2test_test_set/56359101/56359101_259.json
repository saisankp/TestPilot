{"test_class": {"identifier": "ShellCommandUtilsTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private ShellCommandUtils spy;", "modifier": "private", "type": "ShellCommandUtils", "declarator": "spy", "var_name": "spy"}, {"original_string": "private String command = \"test\";", "modifier": "private", "type": "String", "declarator": "command = \"test\"", "var_name": "command"}], "file": "autonomic-plugin-common/src/test/java/br/com/autonomiccs/autonomic/plugin/common/utils/ShellCommandUtilsTest.java"}, "test_case": {"identifier": "executeCommandTestDealingWithIoException", "parameters": "()", "modifiers": "@Test @SuppressWarnings(\"unchecked\") public", "return": "void", "body": "@Test\n    @SuppressWarnings(\"unchecked\")\n    public void executeCommandTestDealingWithIoException() throws IOException, InterruptedException {\n        spy.logger = Mockito.mock(Logger.class);\n\n        Runtime runtimeMock = configureAndGetRuntimeMock();\n        Mockito.when(runtimeMock.exec(command)).thenThrow(IOException.class);\n\n        String commandOutput = spy.executeCommand(command);\n\n        executeChecksForExceptionTests(commandOutput, IOException.class);\n    }", "signature": "void executeCommandTestDealingWithIoException()", "full_signature": "@Test @SuppressWarnings(\"unchecked\") public void executeCommandTestDealingWithIoException()", "class_method_signature": "ShellCommandUtilsTest.executeCommandTestDealingWithIoException()", "testcase": true, "constructor": false, "invocations": ["mock", "configureAndGetRuntimeMock", "thenThrow", "when", "exec", "executeCommand", "executeChecksForExceptionTests"]}, "focal_class": {"identifier": "ShellCommandUtils", "superclass": "", "interfaces": "", "fields": [{"original_string": "protected Logger logger = LoggerFactory.getLogger(this.getClass());", "modifier": "protected", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(this.getClass())", "var_name": "logger"}], "methods": [{"identifier": "executeCommand", "parameters": "(String command)", "modifiers": "public", "return": "String", "signature": "String executeCommand(String command)", "full_signature": "public String executeCommand(String command)", "class_method_signature": "ShellCommandUtils.executeCommand(String command)", "testcase": false, "constructor": false}], "file": "autonomic-plugin-common/src/main/java/br/com/autonomiccs/autonomic/plugin/common/utils/ShellCommandUtils.java"}, "focal_method": {"identifier": "executeCommand", "parameters": "(String command)", "modifiers": "public", "return": "String", "body": "public String executeCommand(String command) {\n        Writer output = new StringWriter();\n        try {\n            Process p = Runtime.getRuntime().exec(command);\n            p.waitFor();\n            IOUtils.copy(p.getInputStream(), output);\n        } catch (IOException | InterruptedException e) {\n            logger.error(String.format(\"An error happened while executing command[%s]\", command), e);\n        }\n        return output.toString();\n    }", "signature": "String executeCommand(String command)", "full_signature": "public String executeCommand(String command)", "class_method_signature": "ShellCommandUtils.executeCommand(String command)", "testcase": false, "constructor": false, "invocations": ["exec", "getRuntime", "waitFor", "copy", "getInputStream", "error", "format", "toString"]}, "repository": {"repo_id": 56359101, "url": "https://github.com/Autonomiccs/autonomiccs-platform", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 17, "size": 944, "license": "licensed"}}