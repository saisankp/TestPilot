{"test_class": {"identifier": "HostResourcesServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@InjectMocks\n    private HostResourcesService hostResourcesService;", "modifier": "@InjectMocks\n    private", "type": "HostResourcesService", "declarator": "hostResourcesService", "var_name": "hostResourcesService"}, {"original_string": "@Mock\n    private ServiceOfferingDao serviceOfferingDao;", "modifier": "@Mock\n    private", "type": "ServiceOfferingDao", "declarator": "serviceOfferingDao", "var_name": "serviceOfferingDao"}, {"original_string": "@Mock\n    private ConfigurationDao configurationDao;", "modifier": "@Mock\n    private", "type": "ConfigurationDao", "declarator": "configurationDao", "var_name": "configurationDao"}, {"original_string": "@Mock\n    private VMInstanceDao vmInstanceDao;", "modifier": "@Mock\n    private", "type": "VMInstanceDao", "declarator": "vmInstanceDao", "var_name": "vmInstanceDao"}, {"original_string": "private Random random = new Random();", "modifier": "private", "type": "Random", "declarator": "random = new Random()", "var_name": "random"}, {"original_string": "private HostResourcesTestUtils hostResourcesUtils = new HostResourcesTestUtils();", "modifier": "private", "type": "HostResourcesTestUtils", "declarator": "hostResourcesUtils = new HostResourcesTestUtils()", "var_name": "hostResourcesUtils"}, {"original_string": "private VMInstanceVO vmInstance;", "modifier": "private", "type": "VMInstanceVO", "declarator": "vmInstance", "var_name": "vmInstance"}], "file": "autonomic-algorithms-commons/src/test/java/br/com/autonomiccs/autonomic/algorithms/commons/services/HostResourcesServiceTest.java"}, "test_case": {"identifier": "createHostResourcesTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void createHostResourcesTest() {\n        HostVO hostVo = new HostVO(\"\");\n        HostResources host = new HostResources();\n\n        HostResourcesService spy = Mockito.spy(new HostResourcesService());\n        Mockito.doReturn(host).when(spy).createAndConfigureHostResources(hostVo);\n\n        List<VmResources> vms = hostResourcesUtils.createSmallVms(1);\n        Mockito.doReturn(vms).when(spy).listVmsFromHost(host);\n\n        Mockito.doNothing().when(spy).calculateHostResourcesAllocated(host);\n        Mockito.doNothing().when(spy).loadHostOverprovisioningFactors(host);\n\n        HostResources hostResourcesReturned = spy.createHostResources(hostVo);\n        Assert.assertEquals(vms, hostResourcesReturned.getVmsResources());\n\n        InOrder inOrder = Mockito.inOrder(spy);\n        inOrder.verify(spy).createAndConfigureHostResources(hostVo);\n        inOrder.verify(spy).listVmsFromHost(host);\n        inOrder.verify(spy).calculateHostResourcesAllocated(host);\n        inOrder.verify(spy).loadHostOverprovisioningFactors(host);\n    }", "signature": "void createHostResourcesTest()", "full_signature": "@Test public void createHostResourcesTest()", "class_method_signature": "HostResourcesServiceTest.createHostResourcesTest()", "testcase": true, "constructor": false, "invocations": ["spy", "createAndConfigureHostResources", "when", "doReturn", "createSmallVms", "listVmsFromHost", "when", "doReturn", "calculateHostResourcesAllocated", "when", "doNothing", "loadHostOverprovisioningFactors", "when", "doNothing", "createHostResources", "assertEquals", "getVmsResources", "inOrder", "createAndConfigureHostResources", "verify", "listVmsFromHost", "verify", "calculateHostResourcesAllocated", "verify", "loadHostOverprovisioningFactors", "verify"]}, "focal_class": {"identifier": "HostResourcesService", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final static String CPU_OVERPROVISIONING_CONFIGURARTION_NAME = \"cpu.overprovisioning.factor\";", "modifier": "private final static", "type": "String", "declarator": "CPU_OVERPROVISIONING_CONFIGURARTION_NAME = \"cpu.overprovisioning.factor\"", "var_name": "CPU_OVERPROVISIONING_CONFIGURARTION_NAME"}, {"original_string": "private final static String MEMORY_OVERPROVISIONING_CONFIGURARTION_NAME = \"mem.overprovisioning.factor\";", "modifier": "private final static", "type": "String", "declarator": "MEMORY_OVERPROVISIONING_CONFIGURARTION_NAME = \"mem.overprovisioning.factor\"", "var_name": "MEMORY_OVERPROVISIONING_CONFIGURARTION_NAME"}, {"original_string": "@Inject\n    private ServiceOfferingDao serviceOfferingDao;", "modifier": "@Inject\n    private", "type": "ServiceOfferingDao", "declarator": "serviceOfferingDao", "var_name": "serviceOfferingDao"}, {"original_string": "@Inject\n    private ConfigurationDao configurationDao;", "modifier": "@Inject\n    private", "type": "ConfigurationDao", "declarator": "configurationDao", "var_name": "configurationDao"}, {"original_string": "@Inject\n    private VMInstanceDao vmInstanceDao;", "modifier": "@Inject\n    private", "type": "VMInstanceDao", "declarator": "vmInstanceDao", "var_name": "vmInstanceDao"}], "methods": [{"identifier": "createAndConfigureHostResources", "parameters": "(HostVO hostVo)", "modifiers": "public", "return": "HostResources", "signature": "HostResources createAndConfigureHostResources(HostVO hostVo)", "full_signature": "public HostResources createAndConfigureHostResources(HostVO hostVo)", "class_method_signature": "HostResourcesService.createAndConfigureHostResources(HostVO hostVo)", "testcase": false, "constructor": false}, {"identifier": "createHostResources", "parameters": "(HostVO hostVO)", "modifiers": "public", "return": "HostResources", "signature": "HostResources createHostResources(HostVO hostVO)", "full_signature": "public HostResources createHostResources(HostVO hostVO)", "class_method_signature": "HostResourcesService.createHostResources(HostVO hostVO)", "testcase": false, "constructor": false}, {"identifier": "listVmsFromHost", "parameters": "(HostResources host)", "modifiers": "protected", "return": "List<VmResources>", "signature": "List<VmResources> listVmsFromHost(HostResources host)", "full_signature": "protected List<VmResources> listVmsFromHost(HostResources host)", "class_method_signature": "HostResourcesService.listVmsFromHost(HostResources host)", "testcase": false, "constructor": false}, {"identifier": "isVmCurrentlyUsingHostResource", "parameters": "(VMInstanceVO vmInstance)", "modifiers": "protected", "return": "boolean", "signature": "boolean isVmCurrentlyUsingHostResource(VMInstanceVO vmInstance)", "full_signature": "protected boolean isVmCurrentlyUsingHostResource(VMInstanceVO vmInstance)", "class_method_signature": "HostResourcesService.isVmCurrentlyUsingHostResource(VMInstanceVO vmInstance)", "testcase": false, "constructor": false}, {"identifier": "calculateHostResourcesAllocated", "parameters": "(HostResources host)", "modifiers": "protected", "return": "void", "signature": "void calculateHostResourcesAllocated(HostResources host)", "full_signature": "protected void calculateHostResourcesAllocated(HostResources host)", "class_method_signature": "HostResourcesService.calculateHostResourcesAllocated(HostResources host)", "testcase": false, "constructor": false}, {"identifier": "loadHostOverprovisioningFactors", "parameters": "(HostResources host)", "modifiers": "protected", "return": "void", "signature": "void loadHostOverprovisioningFactors(HostResources host)", "full_signature": "protected void loadHostOverprovisioningFactors(HostResources host)", "class_method_signature": "HostResourcesService.loadHostOverprovisioningFactors(HostResources host)", "testcase": false, "constructor": false}], "file": "autonomic-algorithms-commons/src/main/java/br/com/autonomiccs/autonomic/algorithms/commons/services/HostResourcesService.java"}, "focal_method": {"identifier": "createHostResources", "parameters": "(HostVO hostVO)", "modifiers": "public", "return": "HostResources", "body": "public HostResources createHostResources(HostVO hostVO) {\n        HostResources host = createAndConfigureHostResources(hostVO);\n        List<VmResources> vms = listVmsFromHost(host);\n        host.setVmsResources(vms);\n        calculateHostResourcesAllocated(host);\n        loadHostOverprovisioningFactors(host);\n        return host;\n    }", "signature": "HostResources createHostResources(HostVO hostVO)", "full_signature": "public HostResources createHostResources(HostVO hostVO)", "class_method_signature": "HostResourcesService.createHostResources(HostVO hostVO)", "testcase": false, "constructor": false, "invocations": ["createAndConfigureHostResources", "listVmsFromHost", "setVmsResources", "calculateHostResourcesAllocated", "loadHostOverprovisioningFactors"]}, "repository": {"repo_id": 56359101, "url": "https://github.com/Autonomiccs/autonomiccs-platform", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 17, "size": 944, "license": "licensed"}}