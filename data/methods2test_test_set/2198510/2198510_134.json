{"test_class": {"identifier": "TestJMSSource", "superclass": "extends JMSMessageConsumerTestBase", "interfaces": "", "fields": [{"original_string": "private JMSSource source;", "modifier": "private", "type": "JMSSource", "declarator": "source", "var_name": "source"}, {"original_string": "private Context context;", "modifier": "private", "type": "Context", "declarator": "context", "var_name": "context"}, {"original_string": "private InitialContext initialContext;", "modifier": "private", "type": "InitialContext", "declarator": "initialContext", "var_name": "initialContext"}, {"original_string": "private ChannelProcessor channelProcessor;", "modifier": "private", "type": "ChannelProcessor", "declarator": "channelProcessor", "var_name": "channelProcessor"}, {"original_string": "private List<Event> events;", "modifier": "private", "type": "List<Event>", "declarator": "events", "var_name": "events"}, {"original_string": "private InitialContextFactory contextFactory;", "modifier": "private", "type": "InitialContextFactory", "declarator": "contextFactory", "var_name": "contextFactory"}, {"original_string": "private File baseDir;", "modifier": "private", "type": "File", "declarator": "baseDir", "var_name": "baseDir"}, {"original_string": "private File passwordFile;", "modifier": "private", "type": "File", "declarator": "passwordFile", "var_name": "passwordFile"}], "file": "flume-ng-sources/flume-jms-source/src/test/java/org/apache/flume/source/jms/TestJMSSource.java"}, "test_case": {"identifier": "testStartConsumerCreateThrowsException", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testStartConsumerCreateThrowsException() throws Exception {\n    doThrow(new RuntimeException(\"Expected\")).when(source).createConsumer();\n    source.configure(context);\n    source.start();\n    try {\n      source.process();\n      Assert.fail();\n    } catch (FlumeException expected) {\n\n    }\n  }", "signature": "void testStartConsumerCreateThrowsException()", "full_signature": "@Test public void testStartConsumerCreateThrowsException()", "class_method_signature": "TestJMSSource.testStartConsumerCreateThrowsException()", "testcase": true, "constructor": false, "invocations": ["createConsumer", "when", "doThrow", "configure", "start", "process", "fail"]}, "focal_class": {"identifier": "JMSSource", "superclass": "extends AbstractPollableSource", "interfaces": "implements BatchSizeSupported", "fields": [{"original_string": "private static final Logger logger = LoggerFactory.getLogger(JMSSource.class);", "modifier": "private static final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(JMSSource.class)", "var_name": "logger"}, {"original_string": "private final InitialContextFactory initialContextFactory;", "modifier": "private final", "type": "InitialContextFactory", "declarator": "initialContextFactory", "var_name": "initialContextFactory"}, {"original_string": "private ConnectionFactory connectionFactory;", "modifier": "private", "type": "ConnectionFactory", "declarator": "connectionFactory", "var_name": "connectionFactory"}, {"original_string": "private int batchSize;", "modifier": "private", "type": "int", "declarator": "batchSize", "var_name": "batchSize"}, {"original_string": "private JMSMessageConverter converter;", "modifier": "private", "type": "JMSMessageConverter", "declarator": "converter", "var_name": "converter"}, {"original_string": "private JMSMessageConsumer consumer;", "modifier": "private", "type": "JMSMessageConsumer", "declarator": "consumer", "var_name": "consumer"}, {"original_string": "private String initialContextFactoryName;", "modifier": "private", "type": "String", "declarator": "initialContextFactoryName", "var_name": "initialContextFactoryName"}, {"original_string": "private String providerUrl;", "modifier": "private", "type": "String", "declarator": "providerUrl", "var_name": "providerUrl"}, {"original_string": "private String destinationName;", "modifier": "private", "type": "String", "declarator": "destinationName", "var_name": "destinationName"}, {"original_string": "private JMSDestinationType destinationType;", "modifier": "private", "type": "JMSDestinationType", "declarator": "destinationType", "var_name": "destinationType"}, {"original_string": "private JMSDestinationLocator destinationLocator;", "modifier": "private", "type": "JMSDestinationLocator", "declarator": "destinationLocator", "var_name": "destinationLocator"}, {"original_string": "private String messageSelector;", "modifier": "private", "type": "String", "declarator": "messageSelector", "var_name": "messageSelector"}, {"original_string": "private Optional<String> userName;", "modifier": "private", "type": "Optional<String>", "declarator": "userName", "var_name": "userName"}, {"original_string": "private Optional<String> password;", "modifier": "private", "type": "Optional<String>", "declarator": "password", "var_name": "password"}, {"original_string": "private SourceCounter sourceCounter;", "modifier": "private", "type": "SourceCounter", "declarator": "sourceCounter", "var_name": "sourceCounter"}, {"original_string": "private int errorThreshold;", "modifier": "private", "type": "int", "declarator": "errorThreshold", "var_name": "errorThreshold"}, {"original_string": "private long pollTimeout;", "modifier": "private", "type": "long", "declarator": "pollTimeout", "var_name": "pollTimeout"}, {"original_string": "private Optional<String> clientId;", "modifier": "private", "type": "Optional<String>", "declarator": "clientId", "var_name": "clientId"}, {"original_string": "private boolean createDurableSubscription;", "modifier": "private", "type": "boolean", "declarator": "createDurableSubscription", "var_name": "createDurableSubscription"}, {"original_string": "private String durableSubscriptionName;", "modifier": "private", "type": "String", "declarator": "durableSubscriptionName", "var_name": "durableSubscriptionName"}, {"original_string": "private int jmsExceptionCounter;", "modifier": "private", "type": "int", "declarator": "jmsExceptionCounter", "var_name": "jmsExceptionCounter"}, {"original_string": "private InitialContext initialContext;", "modifier": "private", "type": "InitialContext", "declarator": "initialContext", "var_name": "initialContext"}], "methods": [{"identifier": "JMSSource", "parameters": "()", "modifiers": "public", "return": "", "signature": " JMSSource()", "full_signature": "public  JMSSource()", "class_method_signature": "JMSSource.JMSSource()", "testcase": false, "constructor": true}, {"identifier": "JMSSource", "parameters": "(InitialContextFactory initialContextFactory)", "modifiers": "public", "return": "", "signature": " JMSSource(InitialContextFactory initialContextFactory)", "full_signature": "public  JMSSource(InitialContextFactory initialContextFactory)", "class_method_signature": "JMSSource.JMSSource(InitialContextFactory initialContextFactory)", "testcase": false, "constructor": true}, {"identifier": "doConfigure", "parameters": "(Context context)", "modifiers": "@Override protected", "return": "void", "signature": "void doConfigure(Context context)", "full_signature": "@Override protected void doConfigure(Context context)", "class_method_signature": "JMSSource.doConfigure(Context context)", "testcase": false, "constructor": false}, {"identifier": "assertNotEmpty", "parameters": "(String arg, String msg)", "modifiers": "private", "return": "void", "signature": "void assertNotEmpty(String arg, String msg)", "full_signature": "private void assertNotEmpty(String arg, String msg)", "class_method_signature": "JMSSource.assertNotEmpty(String arg, String msg)", "testcase": false, "constructor": false}, {"identifier": "doProcess", "parameters": "()", "modifiers": "@Override protected synchronized", "return": "Status", "signature": "Status doProcess()", "full_signature": "@Override protected synchronized Status doProcess()", "class_method_signature": "JMSSource.doProcess()", "testcase": false, "constructor": false}, {"identifier": "doStart", "parameters": "()", "modifiers": "@Override protected synchronized", "return": "void", "signature": "void doStart()", "full_signature": "@Override protected synchronized void doStart()", "class_method_signature": "JMSSource.doStart()", "testcase": false, "constructor": false}, {"identifier": "doStop", "parameters": "()", "modifiers": "@Override protected synchronized", "return": "void", "signature": "void doStop()", "full_signature": "@Override protected synchronized void doStop()", "class_method_signature": "JMSSource.doStop()", "testcase": false, "constructor": false}, {"identifier": "createConsumer", "parameters": "()", "modifiers": "@VisibleForTesting", "return": "JMSMessageConsumer", "signature": "JMSMessageConsumer createConsumer()", "full_signature": "@VisibleForTesting JMSMessageConsumer createConsumer()", "class_method_signature": "JMSSource.createConsumer()", "testcase": false, "constructor": false}, {"identifier": "getBatchSize", "parameters": "()", "modifiers": "@Override public", "return": "long", "signature": "long getBatchSize()", "full_signature": "@Override public long getBatchSize()", "class_method_signature": "JMSSource.getBatchSize()", "testcase": false, "constructor": false}], "file": "flume-ng-sources/flume-jms-source/src/main/java/org/apache/flume/source/jms/JMSSource.java"}, "focal_method": {"identifier": "createConsumer", "parameters": "()", "modifiers": "@VisibleForTesting", "return": "JMSMessageConsumer", "body": "@VisibleForTesting\n  JMSMessageConsumer createConsumer() throws JMSException {\n    logger.info(\"Creating new consumer for \" + destinationName);\n    JMSMessageConsumer consumer = new JMSMessageConsumer(initialContext,\n        connectionFactory, destinationName, destinationLocator, destinationType,\n        messageSelector, batchSize, pollTimeout, converter, userName, password, clientId,\n        createDurableSubscription, durableSubscriptionName);\n    jmsExceptionCounter = 0;\n    return consumer;\n  }", "signature": "JMSMessageConsumer createConsumer()", "full_signature": "@VisibleForTesting JMSMessageConsumer createConsumer()", "class_method_signature": "JMSSource.createConsumer()", "testcase": false, "constructor": false, "invocations": ["info"]}, "repository": {"repo_id": 2198510, "url": "https://github.com/apache/flume", "language": "Java", "is_fork": false, "fork_count": 1372, "stargazer_count": 1971, "size": 44377, "license": "licensed"}}