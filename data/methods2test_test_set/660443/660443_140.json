{"test_class": {"identifier": "AbbreviationLabelTest", "superclass": "", "interfaces": "", "fields": [], "file": "display/renderbasic/src/test/java/org/openscience/cdk/renderer/generators/standard/AbbreviationLabelTest.java"}, "test_case": {"identifier": "formatTBu", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void formatTBu() {\n        List<String> tokens = Arrays.asList(\"tBu\");\n        List<AbbreviationLabel.FormattedText> texts = AbbreviationLabel.format(tokens);\n        assertThat(texts.size(), is(2));\n        assertThat(texts.get(0).text, is(\"t\"));\n        assertThat(texts.get(0).style, is(AbbreviationLabel.STYLE_ITALIC));\n        assertThat(texts.get(1).text, is(\"Bu\"));\n        assertThat(texts.get(1).style, is(AbbreviationLabel.STYLE_NORMAL));\n    }", "signature": "void formatTBu()", "full_signature": "@Test public void formatTBu()", "class_method_signature": "AbbreviationLabelTest.formatTBu()", "testcase": true, "constructor": false, "invocations": ["asList", "format", "assertThat", "size", "is", "assertThat", "get", "is", "assertThat", "get", "is", "assertThat", "get", "is", "assertThat", "get", "is"]}, "focal_class": {"identifier": "AbbreviationLabel", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String MINUS_STRING = \"\\u2212\";", "modifier": "private static final", "type": "String", "declarator": "MINUS_STRING = \"\\u2212\"", "var_name": "MINUS_STRING"}, {"original_string": "private final static String[] PREFIX_LIST = new String[]{\n            \"n\", \"norm\", \"n-\", \"c\", \"cy\", \"cyc\", \"cyclo\", \"c-\", \"cy-\", \"cyc-\", \"i\", \"iso\", \"i-\", \"t\", \"tert\", \"t-\", \"s\",\n            \"sec\", \"s-\", \"o\", \"ortho\", \"o-\", \"m\", \"meta\", \"m-\", \"p\", \"para\", \"p-\", \"1-\", \"2-\", \"3-\", \"4-\", \"5-\", \"6-\",\n            \"7-\", \"8-\", \"9-\"\n    };", "modifier": "private final static", "type": "String[]", "declarator": "PREFIX_LIST = new String[]{\n            \"n\", \"norm\", \"n-\", \"c\", \"cy\", \"cyc\", \"cyclo\", \"c-\", \"cy-\", \"cyc-\", \"i\", \"iso\", \"i-\", \"t\", \"tert\", \"t-\", \"s\",\n            \"sec\", \"s-\", \"o\", \"ortho\", \"o-\", \"m\", \"meta\", \"m-\", \"p\", \"para\", \"p-\", \"1-\", \"2-\", \"3-\", \"4-\", \"5-\", \"6-\",\n            \"7-\", \"8-\", \"9-\"\n    }", "var_name": "PREFIX_LIST"}, {"original_string": "private final static String[] ITAL_PREFIX = new String[]{\n            \"n\", \"norm\", \"sec\", \"s\", \"tert\", \"t\",\n            \"ortho\", \"o\", \"meta\", \"m\", \"para\", \"p\"\n    };", "modifier": "private final static", "type": "String[]", "declarator": "ITAL_PREFIX = new String[]{\n            \"n\", \"norm\", \"sec\", \"s\", \"tert\", \"t\",\n            \"ortho\", \"o\", \"meta\", \"m\", \"para\", \"p\"\n    }", "var_name": "ITAL_PREFIX"}, {"original_string": "private final static String[] SYMBOL_LIST = new String[]{\"acac\", \"Ace\", \"Acetyl\", \"Acyl\", \"Ad\", \"All\", \"Alloc\", \"Allyl\", \"Amyl\", \"AOC\",\n                                                             \"BDMS\", \"Benzoyl\", \"Benzyl\", \"Bn\", \"BOC\", \"Boc\", \"BOM\", \"bpy\", \"Bromo\", \"Bs\", \"Bu\", \"But\", \"Butyl\", \"Bz\", \"Bzl\",\n                                                             \"Car\", \"Cbz\", \"Chloro\", \"CoA\", \"Cy\",\n                                                             \"dppf\", \"dppp\", \"dba\", \"D\", \"Dan\", \"Dansyl\", \"DEIPS\", \"DEM\", \"Dip\", \"Dmb\", \"DPA\", \"DTBMS\",\n                                                             \"EE\", \"EOM\", \"Et\", \"Ethyl\",\n                                                             \"Fluoro\", \"FMOC\", \"Fmoc\", \"Formyl\",\n                                                             \"Heptyl\", \"Hexyl\",\n                                                             \"Iodo\", \"IPDMS\",\n                                                             \"Me\", \"MEM\", \"Mesityl\", \"Mesyl\", \"Methoxy\", \"Methyl\", \"MOM\", \"Ms\",\n                                                             \"Nitro\",\n                                                             \"Oct\", \"Octyl\",\n                                                             \"PAB\", \"Pentyl\", \"Ph\", \"Phenyl\", \"Pivaloyl\", \"PMB\", \"Pro\", \"Propargyl\", \"Propyl\", \"Pv\",\n                                                             \"R\", \"SEM\",\n                                                             \"T\", \"TBS\", \"TBDMS\", \"Trt\", \"TBDPS\", \"TES\", \"Tf\", \"THP\", \"THPO\", \"TIPS\", \"TMS\", \"Tos\", \"Tol\", \"Tosyl\", \"Tr\", \"Troc\",\n                                                             \"Vinyl\", \"Voc\", \"Z\"};", "modifier": "private final static", "type": "String[]", "declarator": "SYMBOL_LIST = new String[]{\"acac\", \"Ace\", \"Acetyl\", \"Acyl\", \"Ad\", \"All\", \"Alloc\", \"Allyl\", \"Amyl\", \"AOC\",\n                                                             \"BDMS\", \"Benzoyl\", \"Benzyl\", \"Bn\", \"BOC\", \"Boc\", \"BOM\", \"bpy\", \"Bromo\", \"Bs\", \"Bu\", \"But\", \"Butyl\", \"Bz\", \"Bzl\",\n                                                             \"Car\", \"Cbz\", \"Chloro\", \"CoA\", \"Cy\",\n                                                             \"dppf\", \"dppp\", \"dba\", \"D\", \"Dan\", \"Dansyl\", \"DEIPS\", \"DEM\", \"Dip\", \"Dmb\", \"DPA\", \"DTBMS\",\n                                                             \"EE\", \"EOM\", \"Et\", \"Ethyl\",\n                                                             \"Fluoro\", \"FMOC\", \"Fmoc\", \"Formyl\",\n                                                             \"Heptyl\", \"Hexyl\",\n                                                             \"Iodo\", \"IPDMS\",\n                                                             \"Me\", \"MEM\", \"Mesityl\", \"Mesyl\", \"Methoxy\", \"Methyl\", \"MOM\", \"Ms\",\n                                                             \"Nitro\",\n                                                             \"Oct\", \"Octyl\",\n                                                             \"PAB\", \"Pentyl\", \"Ph\", \"Phenyl\", \"Pivaloyl\", \"PMB\", \"Pro\", \"Propargyl\", \"Propyl\", \"Pv\",\n                                                             \"R\", \"SEM\",\n                                                             \"T\", \"TBS\", \"TBDMS\", \"Trt\", \"TBDPS\", \"TES\", \"Tf\", \"THP\", \"THPO\", \"TIPS\", \"TMS\", \"Tos\", \"Tol\", \"Tosyl\", \"Tr\", \"Troc\",\n                                                             \"Vinyl\", \"Voc\", \"Z\"}", "var_name": "SYMBOL_LIST"}, {"original_string": "private static Trie PREFIX_TRIE = new Trie();", "modifier": "private static", "type": "Trie", "declarator": "PREFIX_TRIE = new Trie()", "var_name": "PREFIX_TRIE"}, {"original_string": "private static Trie ITAL_PREFIX_TRIE = new Trie();", "modifier": "private static", "type": "Trie", "declarator": "ITAL_PREFIX_TRIE = new Trie()", "var_name": "ITAL_PREFIX_TRIE"}, {"original_string": "private static Trie SYMBOL_TRIE = new Trie();", "modifier": "private static", "type": "Trie", "declarator": "SYMBOL_TRIE = new Trie()", "var_name": "SYMBOL_TRIE"}, {"original_string": "static int STYLE_NORMAL    = 0;", "modifier": "static", "type": "int", "declarator": "STYLE_NORMAL    = 0", "var_name": "STYLE_NORMAL"}, {"original_string": "static int STYLE_SUBSCRIPT = -1;", "modifier": "static", "type": "int", "declarator": "STYLE_SUBSCRIPT = -1", "var_name": "STYLE_SUBSCRIPT"}, {"original_string": "static int STYLE_SUPSCRIPT = +1;", "modifier": "static", "type": "int", "declarator": "STYLE_SUPSCRIPT = +1", "var_name": "STYLE_SUPSCRIPT"}, {"original_string": "static int STYLE_ITALIC    = 2;", "modifier": "static", "type": "int", "declarator": "STYLE_ITALIC    = 2", "var_name": "STYLE_ITALIC"}], "methods": [{"identifier": "parse", "parameters": "(String label, List<String> tokens)", "modifiers": "static", "return": "boolean", "signature": "boolean parse(String label, List<String> tokens)", "full_signature": "static boolean parse(String label, List<String> tokens)", "class_method_signature": "AbbreviationLabel.parse(String label, List<String> tokens)", "testcase": false, "constructor": false}, {"identifier": "failParse", "parameters": "(String label, List<String> tokens)", "modifiers": "private static", "return": "boolean", "signature": "boolean failParse(String label, List<String> tokens)", "full_signature": "private static boolean failParse(String label, List<String> tokens)", "class_method_signature": "AbbreviationLabel.failParse(String label, List<String> tokens)", "testcase": false, "constructor": false}, {"identifier": "isNumber", "parameters": "(String str)", "modifiers": "private static", "return": "boolean", "signature": "boolean isNumber(String str)", "full_signature": "private static boolean isNumber(String str)", "class_method_signature": "AbbreviationLabel.isNumber(String str)", "testcase": false, "constructor": false}, {"identifier": "reverse", "parameters": "(List<String> tokens)", "modifiers": "static", "return": "void", "signature": "void reverse(List<String> tokens)", "full_signature": "static void reverse(List<String> tokens)", "class_method_signature": "AbbreviationLabel.reverse(List<String> tokens)", "testcase": false, "constructor": false}, {"identifier": "format", "parameters": "(List<String> tokens)", "modifiers": "static", "return": "List<FormattedText>", "signature": "List<FormattedText> format(List<String> tokens)", "full_signature": "static List<FormattedText> format(List<String> tokens)", "class_method_signature": "AbbreviationLabel.format(List<String> tokens)", "testcase": false, "constructor": false}, {"identifier": "reduce", "parameters": "(List<FormattedText> texts, int from, int to)", "modifiers": "static", "return": "void", "signature": "void reduce(List<FormattedText> texts, int from, int to)", "full_signature": "static void reduce(List<FormattedText> texts, int from, int to)", "class_method_signature": "AbbreviationLabel.reduce(List<FormattedText> texts, int from, int to)", "testcase": false, "constructor": false}, {"identifier": "isChargeToken", "parameters": "(String token)", "modifiers": "private static", "return": "boolean", "signature": "boolean isChargeToken(String token)", "full_signature": "private static boolean isChargeToken(String token)", "class_method_signature": "AbbreviationLabel.isChargeToken(String token)", "testcase": false, "constructor": false}, {"identifier": "isDigit", "parameters": "(char c)", "modifiers": "private static", "return": "boolean", "signature": "boolean isDigit(char c)", "full_signature": "private static boolean isDigit(char c)", "class_method_signature": "AbbreviationLabel.isDigit(char c)", "testcase": false, "constructor": false}, {"identifier": "norm", "parameters": "(char c)", "modifiers": "private static", "return": "char", "signature": "char norm(char c)", "full_signature": "private static char norm(char c)", "class_method_signature": "AbbreviationLabel.norm(char c)", "testcase": false, "constructor": false}, {"identifier": "findPrefix", "parameters": "(Trie trie, String string, int i, int best)", "modifiers": "private static", "return": "int", "signature": "int findPrefix(Trie trie, String string, int i, int best)", "full_signature": "private static int findPrefix(Trie trie, String string, int i, int best)", "class_method_signature": "AbbreviationLabel.findPrefix(Trie trie, String string, int i, int best)", "testcase": false, "constructor": false}, {"identifier": "insert", "parameters": "(Trie trie, String str, int i)", "modifiers": "private static", "return": "Trie", "signature": "Trie insert(Trie trie, String str, int i)", "full_signature": "private static Trie insert(Trie trie, String str, int i)", "class_method_signature": "AbbreviationLabel.insert(Trie trie, String str, int i)", "testcase": false, "constructor": false}], "file": "display/renderbasic/src/main/java/org/openscience/cdk/renderer/generators/standard/AbbreviationLabel.java"}, "focal_method": {"identifier": "format", "parameters": "(List<String> tokens)", "modifiers": "static", "return": "List<FormattedText>", "body": "static List<FormattedText> format(List<String> tokens) {\n        List<FormattedText> texts = new ArrayList<>(2 + tokens.size());\n        for (String token : tokens) {\n            // charges\n            if (isChargeToken(token)) {\n                // charges are superscript\n                String sign = Character.toString(norm(token.charAt(0)));\n                String coef = token.length() > 1 ? token.substring(1) : \"\";\n                if (sign.equals(\"-\")) sign = MINUS_STRING;\n                texts.add(new FormattedText(coef + sign, STYLE_SUPSCRIPT));\n            }\n            // subscript number after brackets\n            else if (token.length() == 1 && isDigit(token.charAt(0)) && !texts.isEmpty() && texts.get(texts.size()-1).text.equals(\")\")) {\n                texts.add(new FormattedText(token, STYLE_SUBSCRIPT));\n            }\n            else {\n                // optional prefix\n                int i = findPrefix(ITAL_PREFIX_TRIE, token, 0, 0);\n                // find a numeric suffix to subscript\n                int j = token.length();\n                while (j > 0 && isDigit(token.charAt(j - 1)))\n                    j--;\n                // check if we have numeric suffix\n                if (j > 0 && j < token.length()) {\n                    if (i > j) i = 0; // prefix overlaps with suffix so don't use it\n                    if (i > 0)\n                        texts.add(new FormattedText(token.substring(0, i), STYLE_ITALIC));\n                    texts.add(new FormattedText(token.substring(i, j), STYLE_NORMAL));\n                    texts.add(new FormattedText(token.substring(j), STYLE_SUBSCRIPT));\n                } else {\n                    if (i > 0)\n                        texts.add(new FormattedText(token.substring(0, i), STYLE_ITALIC));\n                    texts.add(new FormattedText(token.substring(i), STYLE_NORMAL));\n                }\n            }\n        }\n\n        return texts;\n    }", "signature": "List<FormattedText> format(List<String> tokens)", "full_signature": "static List<FormattedText> format(List<String> tokens)", "class_method_signature": "AbbreviationLabel.format(List<String> tokens)", "testcase": false, "constructor": false, "invocations": ["size", "isChargeToken", "toString", "norm", "charAt", "length", "substring", "equals", "add", "length", "isDigit", "charAt", "isEmpty", "equals", "get", "size", "add", "findPrefix", "length", "isDigit", "charAt", "length", "add", "substring", "add", "substring", "add", "substring", "add", "substring", "add", "substring"]}, "repository": {"repo_id": 660443, "url": "https://github.com/cdk/cdk", "stars": 220, "created": "5/11/2010 8:30:07 AM +00:00", "updates": "2020-01-27T19:04:04+00:00", "fork": "False", "license": "licensed"}}