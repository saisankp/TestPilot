{"test_class": {"identifier": "AutonomiccsSystemVmJdbcDaoTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private String sqlGetStartHostServiceVmIdFromPod = \"select id from vm_instance where removed is null and pod_id  = ? and account_id = 1 and instance_name like ? \";", "modifier": "private", "type": "String", "declarator": "sqlGetStartHostServiceVmIdFromPod = \"select id from vm_instance where removed is null and pod_id  = ? and account_id = 1 and instance_name like ? \"", "var_name": "sqlGetStartHostServiceVmIdFromPod"}, {"original_string": "private AutonomiccsSystemVmJdbcDao spy;", "modifier": "private", "type": "AutonomiccsSystemVmJdbcDao", "declarator": "spy", "var_name": "spy"}, {"original_string": "private JdbcTemplate jdbcTemplate;", "modifier": "private", "type": "JdbcTemplate", "declarator": "jdbcTemplate", "var_name": "jdbcTemplate"}], "file": "autonomic-plugin-common/src/test/java/br/com/autonomiccs/autonomic/plugin/common/daos/AutonomiccsSystemVmJdbcDaoTest.java"}, "test_case": {"identifier": "getStartHostServiceVmIdFromPodTestWithException", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getStartHostServiceVmIdFromPodTestWithException() throws Exception {\n        Mockito.doThrow(EmptyResultDataAccessException.class).when(jdbcTemplate).queryForObject(Mockito.anyString(), Mockito.eq(Long.class), Mockito.anyLong(),\n                Mockito.anyString());\n\n        Assert.assertEquals(null, spy.getStartHostServiceVmIdFromPod(0l, SystemVmType.ClusterManagerAgent));\n        Mockito.verify(jdbcTemplate).queryForObject(Mockito.eq(sqlGetStartHostServiceVmIdFromPod), Mockito.eq(Long.class), Mockito.anyLong(), Mockito.anyString());\n    }", "signature": "void getStartHostServiceVmIdFromPodTestWithException()", "full_signature": "@Test public void getStartHostServiceVmIdFromPodTestWithException()", "class_method_signature": "AutonomiccsSystemVmJdbcDaoTest.getStartHostServiceVmIdFromPodTestWithException()", "testcase": true, "constructor": false, "invocations": ["queryForObject", "when", "doThrow", "anyString", "eq", "anyLong", "anyString", "assertEquals", "getStartHostServiceVmIdFromPod", "queryForObject", "verify", "eq", "eq", "anyLong", "anyString"]}, "focal_class": {"identifier": "AutonomiccsSystemVmJdbcDao", "superclass": "extends JdbcDaoSupport", "interfaces": "", "fields": [{"original_string": "private String sqlGetStartHostServiceVmIdFromPod = \"select id from vm_instance where removed is null and pod_id  = ? and account_id = 1 and instance_name like ? \";", "modifier": "private", "type": "String", "declarator": "sqlGetStartHostServiceVmIdFromPod = \"select id from vm_instance where removed is null and pod_id  = ? and account_id = 1 and instance_name like ? \"", "var_name": "sqlGetStartHostServiceVmIdFromPod"}], "methods": [{"identifier": "getStartHostServiceVmIdFromPod", "parameters": "(Long podId, SystemVmType systemVmType)", "modifiers": "public", "return": "Long", "signature": "Long getStartHostServiceVmIdFromPod(Long podId, SystemVmType systemVmType)", "full_signature": "public Long getStartHostServiceVmIdFromPod(Long podId, SystemVmType systemVmType)", "class_method_signature": "AutonomiccsSystemVmJdbcDao.getStartHostServiceVmIdFromPod(Long podId, SystemVmType systemVmType)", "testcase": false, "constructor": false}], "file": "autonomic-plugin-common/src/main/java/br/com/autonomiccs/autonomic/plugin/common/daos/AutonomiccsSystemVmJdbcDao.java"}, "focal_method": {"identifier": "getStartHostServiceVmIdFromPod", "parameters": "(Long podId, SystemVmType systemVmType)", "modifiers": "public", "return": "Long", "body": "public Long getStartHostServiceVmIdFromPod(Long podId, SystemVmType systemVmType) {\n        try {\n            return getJdbcTemplate().queryForObject(sqlGetStartHostServiceVmIdFromPod, Long.class, podId, systemVmType.getNamePrefix() + \"%\");\n        } catch (EmptyResultDataAccessException e) {\n            logger.debug(e);\n            return null;\n        }\n    }", "signature": "Long getStartHostServiceVmIdFromPod(Long podId, SystemVmType systemVmType)", "full_signature": "public Long getStartHostServiceVmIdFromPod(Long podId, SystemVmType systemVmType)", "class_method_signature": "AutonomiccsSystemVmJdbcDao.getStartHostServiceVmIdFromPod(Long podId, SystemVmType systemVmType)", "testcase": false, "constructor": false, "invocations": ["queryForObject", "getJdbcTemplate", "getNamePrefix", "debug"]}, "repository": {"repo_id": 56359101, "url": "https://github.com/Autonomiccs/autonomiccs-platform", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 17, "size": 944, "license": "licensed"}}