{"test_class": {"identifier": "ConnectorsResourceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String LEADER_URL = \"http://leader:8083/\";", "modifier": "private static final", "type": "String", "declarator": "LEADER_URL = \"http://leader:8083/\"", "var_name": "LEADER_URL"}, {"original_string": "private static final String CONNECTOR_NAME = \"test\";", "modifier": "private static final", "type": "String", "declarator": "CONNECTOR_NAME = \"test\"", "var_name": "CONNECTOR_NAME"}, {"original_string": "private static final String CONNECTOR2_NAME = \"test2\";", "modifier": "private static final", "type": "String", "declarator": "CONNECTOR2_NAME = \"test2\"", "var_name": "CONNECTOR2_NAME"}, {"original_string": "private static final Boolean FORWARD = true;", "modifier": "private static final", "type": "Boolean", "declarator": "FORWARD = true", "var_name": "FORWARD"}, {"original_string": "private static final Map<String, String> CONNECTOR_CONFIG = new HashMap<>();", "modifier": "private static final", "type": "Map<String, String>", "declarator": "CONNECTOR_CONFIG = new HashMap<>()", "var_name": "CONNECTOR_CONFIG"}, {"original_string": "private static final List<ConnectorTaskId> CONNECTOR_TASK_NAMES = Arrays.asList(\n            new ConnectorTaskId(CONNECTOR_NAME, 0),\n            new ConnectorTaskId(CONNECTOR_NAME, 1)\n    );", "modifier": "private static final", "type": "List<ConnectorTaskId>", "declarator": "CONNECTOR_TASK_NAMES = Arrays.asList(\n            new ConnectorTaskId(CONNECTOR_NAME, 0),\n            new ConnectorTaskId(CONNECTOR_NAME, 1)\n    )", "var_name": "CONNECTOR_TASK_NAMES"}, {"original_string": "private static final List<Map<String, String>> TASK_CONFIGS = new ArrayList<>();", "modifier": "private static final", "type": "List<Map<String, String>>", "declarator": "TASK_CONFIGS = new ArrayList<>()", "var_name": "TASK_CONFIGS"}, {"original_string": "private static final List<TaskInfo> TASK_INFOS = new ArrayList<>();", "modifier": "private static final", "type": "List<TaskInfo>", "declarator": "TASK_INFOS = new ArrayList<>()", "var_name": "TASK_INFOS"}, {"original_string": "@Mock\n    private Herder herder;", "modifier": "@Mock\n    private", "type": "Herder", "declarator": "herder", "var_name": "herder"}, {"original_string": "private ConnectorsResource connectorsResource;", "modifier": "private", "type": "ConnectorsResource", "declarator": "connectorsResource", "var_name": "connectorsResource"}], "file": "connect/runtime/src/test/java/org/apache/kafka/connect/runtime/rest/resources/ConnectorsResourceTest.java"}, "test_case": {"identifier": "testCreateConnector", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testCreateConnector() throws Throwable {\n        CreateConnectorRequest body = new CreateConnectorRequest(CONNECTOR_NAME, Collections.singletonMap(ConnectorConfig.NAME_CONFIG, CONNECTOR_NAME));\n\n        final Capture<Callback<Herder.Created<ConnectorInfo>>> cb = Capture.newInstance();\n        herder.putConnectorConfig(EasyMock.eq(CONNECTOR_NAME), EasyMock.eq(body.config()), EasyMock.eq(false), EasyMock.capture(cb));\n        expectAndCallbackResult(cb, new Herder.Created<>(true, new ConnectorInfo(CONNECTOR_NAME, CONNECTOR_CONFIG, CONNECTOR_TASK_NAMES)));\n\n        PowerMock.replayAll();\n\n        connectorsResource.createConnector(FORWARD, body);\n\n        PowerMock.verifyAll();\n    }", "signature": "void testCreateConnector()", "full_signature": "@Test public void testCreateConnector()", "class_method_signature": "ConnectorsResourceTest.testCreateConnector()", "testcase": true, "constructor": false, "invocations": ["singletonMap", "newInstance", "putConnectorConfig", "eq", "eq", "config", "eq", "capture", "expectAndCallbackResult", "replayAll", "createConnector", "verifyAll"]}, "focal_class": {"identifier": "ConnectorsResource", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger log = LoggerFactory.getLogger(ConnectorsResource.class);", "modifier": "private static final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(ConnectorsResource.class)", "var_name": "log"}, {"original_string": "private static final long REQUEST_TIMEOUT_MS = 90 * 1000;", "modifier": "private static final", "type": "long", "declarator": "REQUEST_TIMEOUT_MS = 90 * 1000", "var_name": "REQUEST_TIMEOUT_MS"}, {"original_string": "private final Herder herder;", "modifier": "private final", "type": "Herder", "declarator": "herder", "var_name": "herder"}, {"original_string": "@javax.ws.rs.core.Context\n    private ServletContext context;", "modifier": "@javax.ws.rs.core.Context\n    private", "type": "ServletContext", "declarator": "context", "var_name": "context"}], "methods": [{"identifier": "ConnectorsResource", "parameters": "(Herder herder)", "modifiers": "public", "return": "", "signature": " ConnectorsResource(Herder herder)", "full_signature": "public  ConnectorsResource(Herder herder)", "class_method_signature": "ConnectorsResource.ConnectorsResource(Herder herder)", "testcase": false, "constructor": true}, {"identifier": "listConnectors", "parameters": "(final @QueryParam(\"forward\") Boolean forward)", "modifiers": "@GET @Path(\"/\") public", "return": "Collection<String>", "signature": "Collection<String> listConnectors(final @QueryParam(\"forward\") Boolean forward)", "full_signature": "@GET @Path(\"/\") public Collection<String> listConnectors(final @QueryParam(\"forward\") Boolean forward)", "class_method_signature": "ConnectorsResource.listConnectors(final @QueryParam(\"forward\") Boolean forward)", "testcase": false, "constructor": false}, {"identifier": "createConnector", "parameters": "(final @QueryParam(\"forward\") Boolean forward,\n                                    final CreateConnectorRequest createRequest)", "modifiers": "@POST @Path(\"/\") public", "return": "Response", "signature": "Response createConnector(final @QueryParam(\"forward\") Boolean forward,\n                                    final CreateConnectorRequest createRequest)", "full_signature": "@POST @Path(\"/\") public Response createConnector(final @QueryParam(\"forward\") Boolean forward,\n                                    final CreateConnectorRequest createRequest)", "class_method_signature": "ConnectorsResource.createConnector(final @QueryParam(\"forward\") Boolean forward,\n                                    final CreateConnectorRequest createRequest)", "testcase": false, "constructor": false}, {"identifier": "getConnector", "parameters": "(final @PathParam(\"connector\") String connector,\n                                      final @QueryParam(\"forward\") Boolean forward)", "modifiers": "@GET @Path(\"/{connector}\") public", "return": "ConnectorInfo", "signature": "ConnectorInfo getConnector(final @PathParam(\"connector\") String connector,\n                                      final @QueryParam(\"forward\") Boolean forward)", "full_signature": "@GET @Path(\"/{connector}\") public ConnectorInfo getConnector(final @PathParam(\"connector\") String connector,\n                                      final @QueryParam(\"forward\") Boolean forward)", "class_method_signature": "ConnectorsResource.getConnector(final @PathParam(\"connector\") String connector,\n                                      final @QueryParam(\"forward\") Boolean forward)", "testcase": false, "constructor": false}, {"identifier": "getConnectorConfig", "parameters": "(final @PathParam(\"connector\") String connector,\n                                                  final @QueryParam(\"forward\") Boolean forward)", "modifiers": "@GET @Path(\"/{connector}/config\") public", "return": "Map<String, String>", "signature": "Map<String, String> getConnectorConfig(final @PathParam(\"connector\") String connector,\n                                                  final @QueryParam(\"forward\") Boolean forward)", "full_signature": "@GET @Path(\"/{connector}/config\") public Map<String, String> getConnectorConfig(final @PathParam(\"connector\") String connector,\n                                                  final @QueryParam(\"forward\") Boolean forward)", "class_method_signature": "ConnectorsResource.getConnectorConfig(final @PathParam(\"connector\") String connector,\n                                                  final @QueryParam(\"forward\") Boolean forward)", "testcase": false, "constructor": false}, {"identifier": "getConnectorStatus", "parameters": "(final @PathParam(\"connector\") String connector)", "modifiers": "@GET @Path(\"/{connector}/status\") public", "return": "ConnectorStateInfo", "signature": "ConnectorStateInfo getConnectorStatus(final @PathParam(\"connector\") String connector)", "full_signature": "@GET @Path(\"/{connector}/status\") public ConnectorStateInfo getConnectorStatus(final @PathParam(\"connector\") String connector)", "class_method_signature": "ConnectorsResource.getConnectorStatus(final @PathParam(\"connector\") String connector)", "testcase": false, "constructor": false}, {"identifier": "putConnectorConfig", "parameters": "(final @PathParam(\"connector\") String connector,\n                                       final @QueryParam(\"forward\") Boolean forward,\n                                       final Map<String, String> connectorConfig)", "modifiers": "@PUT @Path(\"/{connector}/config\") public", "return": "Response", "signature": "Response putConnectorConfig(final @PathParam(\"connector\") String connector,\n                                       final @QueryParam(\"forward\") Boolean forward,\n                                       final Map<String, String> connectorConfig)", "full_signature": "@PUT @Path(\"/{connector}/config\") public Response putConnectorConfig(final @PathParam(\"connector\") String connector,\n                                       final @QueryParam(\"forward\") Boolean forward,\n                                       final Map<String, String> connectorConfig)", "class_method_signature": "ConnectorsResource.putConnectorConfig(final @PathParam(\"connector\") String connector,\n                                       final @QueryParam(\"forward\") Boolean forward,\n                                       final Map<String, String> connectorConfig)", "testcase": false, "constructor": false}, {"identifier": "restartConnector", "parameters": "(final @PathParam(\"connector\") String connector,\n                                 final @QueryParam(\"forward\") Boolean forward)", "modifiers": "@POST @Path(\"/{connector}/restart\") public", "return": "void", "signature": "void restartConnector(final @PathParam(\"connector\") String connector,\n                                 final @QueryParam(\"forward\") Boolean forward)", "full_signature": "@POST @Path(\"/{connector}/restart\") public void restartConnector(final @PathParam(\"connector\") String connector,\n                                 final @QueryParam(\"forward\") Boolean forward)", "class_method_signature": "ConnectorsResource.restartConnector(final @PathParam(\"connector\") String connector,\n                                 final @QueryParam(\"forward\") Boolean forward)", "testcase": false, "constructor": false}, {"identifier": "pauseConnector", "parameters": "(@PathParam(\"connector\") String connector)", "modifiers": "@PUT @Path(\"/{connector}/pause\") public", "return": "Response", "signature": "Response pauseConnector(@PathParam(\"connector\") String connector)", "full_signature": "@PUT @Path(\"/{connector}/pause\") public Response pauseConnector(@PathParam(\"connector\") String connector)", "class_method_signature": "ConnectorsResource.pauseConnector(@PathParam(\"connector\") String connector)", "testcase": false, "constructor": false}, {"identifier": "resumeConnector", "parameters": "(@PathParam(\"connector\") String connector)", "modifiers": "@PUT @Path(\"/{connector}/resume\") public", "return": "Response", "signature": "Response resumeConnector(@PathParam(\"connector\") String connector)", "full_signature": "@PUT @Path(\"/{connector}/resume\") public Response resumeConnector(@PathParam(\"connector\") String connector)", "class_method_signature": "ConnectorsResource.resumeConnector(@PathParam(\"connector\") String connector)", "testcase": false, "constructor": false}, {"identifier": "getTaskConfigs", "parameters": "(final @PathParam(\"connector\") String connector,\n                                         final @QueryParam(\"forward\") Boolean forward)", "modifiers": "@GET @Path(\"/{connector}/tasks\") public", "return": "List<TaskInfo>", "signature": "List<TaskInfo> getTaskConfigs(final @PathParam(\"connector\") String connector,\n                                         final @QueryParam(\"forward\") Boolean forward)", "full_signature": "@GET @Path(\"/{connector}/tasks\") public List<TaskInfo> getTaskConfigs(final @PathParam(\"connector\") String connector,\n                                         final @QueryParam(\"forward\") Boolean forward)", "class_method_signature": "ConnectorsResource.getTaskConfigs(final @PathParam(\"connector\") String connector,\n                                         final @QueryParam(\"forward\") Boolean forward)", "testcase": false, "constructor": false}, {"identifier": "putTaskConfigs", "parameters": "(final @PathParam(\"connector\") String connector,\n                               final @QueryParam(\"forward\") Boolean forward,\n                               final List<Map<String, String>> taskConfigs)", "modifiers": "@POST @Path(\"/{connector}/tasks\") public", "return": "void", "signature": "void putTaskConfigs(final @PathParam(\"connector\") String connector,\n                               final @QueryParam(\"forward\") Boolean forward,\n                               final List<Map<String, String>> taskConfigs)", "full_signature": "@POST @Path(\"/{connector}/tasks\") public void putTaskConfigs(final @PathParam(\"connector\") String connector,\n                               final @QueryParam(\"forward\") Boolean forward,\n                               final List<Map<String, String>> taskConfigs)", "class_method_signature": "ConnectorsResource.putTaskConfigs(final @PathParam(\"connector\") String connector,\n                               final @QueryParam(\"forward\") Boolean forward,\n                               final List<Map<String, String>> taskConfigs)", "testcase": false, "constructor": false}, {"identifier": "getTaskStatus", "parameters": "(final @PathParam(\"connector\") String connector,\n                                                      final @PathParam(\"task\") Integer task)", "modifiers": "@GET @Path(\"/{connector}/tasks/{task}/status\") public", "return": "ConnectorStateInfo.TaskState", "signature": "ConnectorStateInfo.TaskState getTaskStatus(final @PathParam(\"connector\") String connector,\n                                                      final @PathParam(\"task\") Integer task)", "full_signature": "@GET @Path(\"/{connector}/tasks/{task}/status\") public ConnectorStateInfo.TaskState getTaskStatus(final @PathParam(\"connector\") String connector,\n                                                      final @PathParam(\"task\") Integer task)", "class_method_signature": "ConnectorsResource.getTaskStatus(final @PathParam(\"connector\") String connector,\n                                                      final @PathParam(\"task\") Integer task)", "testcase": false, "constructor": false}, {"identifier": "restartTask", "parameters": "(final @PathParam(\"connector\") String connector,\n                            final @PathParam(\"task\") Integer task,\n                            final @QueryParam(\"forward\") Boolean forward)", "modifiers": "@POST @Path(\"/{connector}/tasks/{task}/restart\") public", "return": "void", "signature": "void restartTask(final @PathParam(\"connector\") String connector,\n                            final @PathParam(\"task\") Integer task,\n                            final @QueryParam(\"forward\") Boolean forward)", "full_signature": "@POST @Path(\"/{connector}/tasks/{task}/restart\") public void restartTask(final @PathParam(\"connector\") String connector,\n                            final @PathParam(\"task\") Integer task,\n                            final @QueryParam(\"forward\") Boolean forward)", "class_method_signature": "ConnectorsResource.restartTask(final @PathParam(\"connector\") String connector,\n                            final @PathParam(\"task\") Integer task,\n                            final @QueryParam(\"forward\") Boolean forward)", "testcase": false, "constructor": false}, {"identifier": "destroyConnector", "parameters": "(final @PathParam(\"connector\") String connector,\n                                 final @QueryParam(\"forward\") Boolean forward)", "modifiers": "@DELETE @Path(\"/{connector}\") public", "return": "void", "signature": "void destroyConnector(final @PathParam(\"connector\") String connector,\n                                 final @QueryParam(\"forward\") Boolean forward)", "full_signature": "@DELETE @Path(\"/{connector}\") public void destroyConnector(final @PathParam(\"connector\") String connector,\n                                 final @QueryParam(\"forward\") Boolean forward)", "class_method_signature": "ConnectorsResource.destroyConnector(final @PathParam(\"connector\") String connector,\n                                 final @QueryParam(\"forward\") Boolean forward)", "testcase": false, "constructor": false}, {"identifier": "completeOrForwardRequest", "parameters": "(FutureCallback<T> cb,\n                                              String path,\n                                              String method,\n                                              Object body,\n                                              TypeReference<U> resultType,\n                                              Translator<T, U> translator,\n                                              Boolean forward)", "modifiers": "private", "return": "T", "signature": "T completeOrForwardRequest(FutureCallback<T> cb,\n                                              String path,\n                                              String method,\n                                              Object body,\n                                              TypeReference<U> resultType,\n                                              Translator<T, U> translator,\n                                              Boolean forward)", "full_signature": "private T completeOrForwardRequest(FutureCallback<T> cb,\n                                              String path,\n                                              String method,\n                                              Object body,\n                                              TypeReference<U> resultType,\n                                              Translator<T, U> translator,\n                                              Boolean forward)", "class_method_signature": "ConnectorsResource.completeOrForwardRequest(FutureCallback<T> cb,\n                                              String path,\n                                              String method,\n                                              Object body,\n                                              TypeReference<U> resultType,\n                                              Translator<T, U> translator,\n                                              Boolean forward)", "testcase": false, "constructor": false}, {"identifier": "completeOrForwardRequest", "parameters": "(FutureCallback<T> cb, String path, String method, Object body,\n                                           TypeReference<T> resultType, Boolean forward)", "modifiers": "private", "return": "T", "signature": "T completeOrForwardRequest(FutureCallback<T> cb, String path, String method, Object body,\n                                           TypeReference<T> resultType, Boolean forward)", "full_signature": "private T completeOrForwardRequest(FutureCallback<T> cb, String path, String method, Object body,\n                                           TypeReference<T> resultType, Boolean forward)", "class_method_signature": "ConnectorsResource.completeOrForwardRequest(FutureCallback<T> cb, String path, String method, Object body,\n                                           TypeReference<T> resultType, Boolean forward)", "testcase": false, "constructor": false}, {"identifier": "completeOrForwardRequest", "parameters": "(FutureCallback<T> cb, String path, String method,\n                                           Object body, Boolean forward)", "modifiers": "private", "return": "T", "signature": "T completeOrForwardRequest(FutureCallback<T> cb, String path, String method,\n                                           Object body, Boolean forward)", "full_signature": "private T completeOrForwardRequest(FutureCallback<T> cb, String path, String method,\n                                           Object body, Boolean forward)", "class_method_signature": "ConnectorsResource.completeOrForwardRequest(FutureCallback<T> cb, String path, String method,\n                                           Object body, Boolean forward)", "testcase": false, "constructor": false}], "file": "connect/runtime/src/main/java/org/apache/kafka/connect/runtime/rest/resources/ConnectorsResource.java"}, "focal_method": {"identifier": "createConnector", "parameters": "(final @QueryParam(\"forward\") Boolean forward,\n                                    final CreateConnectorRequest createRequest)", "modifiers": "@POST @Path(\"/\") public", "return": "Response", "body": "@POST\n    @Path(\"/\")\n    public Response createConnector(final @QueryParam(\"forward\") Boolean forward,\n                                    final CreateConnectorRequest createRequest) throws Throwable {\n        String name = createRequest.name();\n        Map<String, String> configs = createRequest.config();\n        if (!configs.containsKey(ConnectorConfig.NAME_CONFIG))\n            configs.put(ConnectorConfig.NAME_CONFIG, name);\n\n        FutureCallback<Herder.Created<ConnectorInfo>> cb = new FutureCallback<>();\n        herder.putConnectorConfig(name, configs, false, cb);\n        Herder.Created<ConnectorInfo> info = completeOrForwardRequest(cb, \"/connectors\", \"POST\", createRequest,\n                new TypeReference<ConnectorInfo>() { }, new CreatedConnectorInfoTranslator(), forward);\n        return Response.created(URI.create(\"/connectors/\" + name)).entity(info.result()).build();\n    }", "signature": "Response createConnector(final @QueryParam(\"forward\") Boolean forward,\n                                    final CreateConnectorRequest createRequest)", "full_signature": "@POST @Path(\"/\") public Response createConnector(final @QueryParam(\"forward\") Boolean forward,\n                                    final CreateConnectorRequest createRequest)", "class_method_signature": "ConnectorsResource.createConnector(final @QueryParam(\"forward\") Boolean forward,\n                                    final CreateConnectorRequest createRequest)", "testcase": false, "constructor": false, "invocations": ["name", "config", "containsKey", "put", "putConnectorConfig", "completeOrForwardRequest", "build", "entity", "created", "create", "result"]}, "repository": {"repo_id": 135978112, "url": "https://github.com/anurnomeru/kafka-0.10.0.1-source-reading", "language": "Java", "is_fork": false, "fork_count": 1, "stargazer_count": 7, "size": 2953, "license": "licensed"}}