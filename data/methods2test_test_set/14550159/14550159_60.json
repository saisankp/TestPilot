{"test_class": {"identifier": "EverrestInitializedListenerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private ServletContext servletContext;", "modifier": "private", "type": "ServletContext", "declarator": "servletContext", "var_name": "servletContext"}], "file": "everrest-core/src/test/java/org/everrest/core/servlet/EverrestInitializedListenerTest.java"}, "test_case": {"identifier": "stopsEverrestProcessorWhenServletContextDestroyed", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void stopsEverrestProcessorWhenServletContextDestroyed() throws Exception {\n        EverrestProcessor everrestProcessor = mock(EverrestProcessor.class);\n        when(servletContext.getAttribute(EverrestProcessor.class.getName())).thenReturn(everrestProcessor);\n\n        EverrestInitializedListener everrestInitializedListener = new EverrestInitializedListener();\n        ServletContextEvent servletContextEvent = new ServletContextEvent(servletContext);\n        everrestInitializedListener.contextDestroyed(servletContextEvent);\n\n        verify(everrestProcessor).stop();\n    }", "signature": "void stopsEverrestProcessorWhenServletContextDestroyed()", "full_signature": "@Test public void stopsEverrestProcessorWhenServletContextDestroyed()", "class_method_signature": "EverrestInitializedListenerTest.stopsEverrestProcessorWhenServletContextDestroyed()", "testcase": true, "constructor": false, "invocations": ["mock", "thenReturn", "when", "getAttribute", "getName", "contextDestroyed", "stop", "verify"]}, "focal_class": {"identifier": "EverrestInitializedListener", "superclass": "", "interfaces": "implements ServletContextListener", "fields": [], "methods": [{"identifier": "contextDestroyed", "parameters": "(ServletContextEvent sce)", "modifiers": "@Override public", "return": "void", "signature": "void contextDestroyed(ServletContextEvent sce)", "full_signature": "@Override public void contextDestroyed(ServletContextEvent sce)", "class_method_signature": "EverrestInitializedListener.contextDestroyed(ServletContextEvent sce)", "testcase": false, "constructor": false}, {"identifier": "makeFileCollectorDestroyer", "parameters": "()", "modifiers": "protected", "return": "FileCollectorDestroyer", "signature": "FileCollectorDestroyer makeFileCollectorDestroyer()", "full_signature": "protected FileCollectorDestroyer makeFileCollectorDestroyer()", "class_method_signature": "EverrestInitializedListener.makeFileCollectorDestroyer()", "testcase": false, "constructor": false}, {"identifier": "contextInitialized", "parameters": "(ServletContextEvent sce)", "modifiers": "@Override public", "return": "void", "signature": "void contextInitialized(ServletContextEvent sce)", "full_signature": "@Override public void contextInitialized(ServletContextEvent sce)", "class_method_signature": "EverrestInitializedListener.contextInitialized(ServletContextEvent sce)", "testcase": false, "constructor": false}, {"identifier": "initializeEverrestComponents", "parameters": "(EverrestServletContextInitializer initializer, ServletContext servletContext)", "modifiers": "", "return": "void", "signature": "void initializeEverrestComponents(EverrestServletContextInitializer initializer, ServletContext servletContext)", "full_signature": " void initializeEverrestComponents(EverrestServletContextInitializer initializer, ServletContext servletContext)", "class_method_signature": "EverrestInitializedListener.initializeEverrestComponents(EverrestServletContextInitializer initializer, ServletContext servletContext)", "testcase": false, "constructor": false}], "file": "everrest-core/src/main/java/org/everrest/core/servlet/EverrestInitializedListener.java"}, "focal_method": {"identifier": "contextDestroyed", "parameters": "(ServletContextEvent sce)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void contextDestroyed(ServletContextEvent sce) {\n        makeFileCollectorDestroyer().stopFileCollector();\n        ServletContext servletContext = sce.getServletContext();\n        EverrestProcessor processor = (EverrestProcessor)servletContext.getAttribute(EverrestProcessor.class.getName());\n        if (processor != null) {\n            processor.stop();\n        }\n        servletContext.removeAttribute(EverrestProcessor.class.getName());\n        servletContext.removeAttribute(EverrestConfiguration.class.getName());\n        servletContext.removeAttribute(Application.class.getName());\n        servletContext.removeAttribute(DependencySupplier.class.getName());\n        servletContext.removeAttribute(ResourceBinder.class.getName());\n        servletContext.removeAttribute(ApplicationProviderBinder.class.getName());\n    }", "signature": "void contextDestroyed(ServletContextEvent sce)", "full_signature": "@Override public void contextDestroyed(ServletContextEvent sce)", "class_method_signature": "EverrestInitializedListener.contextDestroyed(ServletContextEvent sce)", "testcase": false, "constructor": false, "invocations": ["stopFileCollector", "makeFileCollectorDestroyer", "getServletContext", "getAttribute", "getName", "stop", "removeAttribute", "getName", "removeAttribute", "getName", "removeAttribute", "getName", "removeAttribute", "getName", "removeAttribute", "getName", "removeAttribute", "getName"]}, "repository": {"repo_id": 14550159, "url": "https://github.com/codenvy/everrest", "language": "Java", "is_fork": false, "fork_count": 14, "stargazer_count": 24, "size": 4563, "license": "licensed"}}