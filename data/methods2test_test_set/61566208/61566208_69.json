{"test_class": {"identifier": "HmsLocalRestServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n    InventoryUtil inventoryUtil;", "modifier": "@Mock", "type": "InventoryUtil", "declarator": "inventoryUtil", "var_name": "inventoryUtil"}, {"original_string": "HMSLocalRestService hmsLocalRestServiceMock = mock( HMSLocalRestService.class );", "modifier": "", "type": "HMSLocalRestService", "declarator": "hmsLocalRestServiceMock = mock( HMSLocalRestService.class )", "var_name": "hmsLocalRestServiceMock"}], "file": "modules/hms-aggregator/src/test/java/com/vmware/vrack/hms/controller/HmsLocalRestServiceTest.java"}, "test_case": {"identifier": "getAboutResponse_OobAvailable", "parameters": "()", "modifiers": "@SuppressWarnings( { \"unchecked\", \"rawtypes\" } ) @Test( expected = HmsException.class ) public", "return": "void", "body": "@SuppressWarnings( { \"unchecked\", \"rawtypes\" } )\n    @Test( expected = HmsException.class )\n    public void getAboutResponse_OobAvailable()\n        throws Exception\n    {\n        ResponseEntity responseEntityMock = mock( ResponseEntity.class );\n\n        HmsOobAgentRestTemplate restTemplateMock = mock( HmsOobAgentRestTemplate.class );\n        whenNew( HmsOobAgentRestTemplate.class ).withNoArguments().thenReturn( restTemplateMock );\n\n        when( restTemplateMock.exchange( any( HttpMethod.class ), anyString(),\n                                         any( Class.class ) ) ).thenReturn( responseEntityMock );\n\n        when( responseEntityMock.getStatusCode() ).thenReturn( HttpStatus.OK );\n\n        HMSLocalRestService hmsLocalRestService = new HMSLocalRestService();\n        Map<String, AboutResponse> response = hmsLocalRestService.getAboutResponse();\n\n        assertNotNull( response );\n    }", "signature": "void getAboutResponse_OobAvailable()", "full_signature": "@SuppressWarnings( { \"unchecked\", \"rawtypes\" } ) @Test( expected = HmsException.class ) public void getAboutResponse_OobAvailable()", "class_method_signature": "HmsLocalRestServiceTest.getAboutResponse_OobAvailable()", "testcase": true, "constructor": false, "invocations": ["mock", "mock", "thenReturn", "withNoArguments", "whenNew", "thenReturn", "when", "exchange", "any", "anyString", "any", "thenReturn", "when", "getStatusCode", "getAboutResponse", "assertNotNull"]}, "focal_class": {"identifier": "HMSLocalRestService", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static Logger logger = LoggerFactory.getLogger( HMSLocalRestService.class );", "modifier": "private static", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger( HMSLocalRestService.class )", "var_name": "logger"}, {"original_string": "InbandServiceImpl inbandServiceImpl = new InbandServiceImpl();", "modifier": "", "type": "InbandServiceImpl", "declarator": "inbandServiceImpl = new InbandServiceImpl()", "var_name": "inbandServiceImpl"}, {"original_string": "@Autowired\n    private HmsDataCache hmsDataCache;", "modifier": "@Autowired\n    private", "type": "HmsDataCache", "declarator": "hmsDataCache", "var_name": "hmsDataCache"}, {"original_string": "@Autowired\n    private ApplicationContext context;", "modifier": "@Autowired\n    private", "type": "ApplicationContext", "declarator": "context", "var_name": "context"}, {"original_string": "@Value( \"${hms.oob.nodes.pathinfo}\" )\n    private String hmsOobPathInfo;", "modifier": "@Value( \"${hms.oob.nodes.pathinfo}\" )\n    private", "type": "String", "declarator": "hmsOobPathInfo", "var_name": "hmsOobPathInfo"}, {"original_string": "@Value( \"${hms.ib.inventory.location}\" )\n    private String hmsIbInventoryLocation;", "modifier": "@Value( \"${hms.ib.inventory.location}\" )\n    private", "type": "String", "declarator": "hmsIbInventoryLocation", "var_name": "hmsIbInventoryLocation"}, {"original_string": "@Value( \"${hms.oob.inventory.poll.interval}\" )\n    private int hmsOobInventoryPollInterval;", "modifier": "@Value( \"${hms.oob.inventory.poll.interval}\" )\n    private", "type": "int", "declarator": "hmsOobInventoryPollInterval", "var_name": "hmsOobInventoryPollInterval"}, {"original_string": "@Value( \"${hms.switch.username}\" )\n    private String hmsOobUsername;", "modifier": "@Value( \"${hms.switch.username}\" )\n    private", "type": "String", "declarator": "hmsOobUsername", "var_name": "hmsOobUsername"}, {"original_string": "@Value( \"${hms.switch.password}\" )\n    private String hmsOobPassword;", "modifier": "@Value( \"${hms.switch.password}\" )\n    private", "type": "String", "declarator": "hmsOobPassword", "var_name": "hmsOobPassword"}, {"original_string": "@Autowired\n    TopologyAggregator topologyAggregator;", "modifier": "@Autowired", "type": "TopologyAggregator", "declarator": "topologyAggregator", "var_name": "topologyAggregator"}, {"original_string": "@Autowired\n    HmsOutOfBandHandshakeTask outOfBandHandShakeTask;", "modifier": "@Autowired", "type": "HmsOutOfBandHandshakeTask", "declarator": "outOfBandHandShakeTask", "var_name": "outOfBandHandShakeTask"}, {"original_string": "@Autowired\n    private HostDataAggregator hostDataAggregator;", "modifier": "@Autowired\n    private", "type": "HostDataAggregator", "declarator": "hostDataAggregator", "var_name": "hostDataAggregator"}], "methods": [{"identifier": "getMirrorHostInfo", "parameters": "( @RequestBody( required = false ) String body, HttpMethod method,\n                                                     HttpServletRequest request, HttpServletResponse response )", "modifiers": "@RequestMapping( value = { \"/inventory\", \"/switches\", \"/switches/{switch_id}/**\" } ) @ResponseBody public", "return": "ResponseEntity<Object>", "signature": "ResponseEntity<Object> getMirrorHostInfo( @RequestBody( required = false ) String body, HttpMethod method,\n                                                     HttpServletRequest request, HttpServletResponse response )", "full_signature": "@RequestMapping( value = { \"/inventory\", \"/switches\", \"/switches/{switch_id}/**\" } ) @ResponseBody public ResponseEntity<Object> getMirrorHostInfo( @RequestBody( required = false ) String body, HttpMethod method,\n                                                     HttpServletRequest request, HttpServletResponse response )", "class_method_signature": "HMSLocalRestService.getMirrorHostInfo( @RequestBody( required = false ) String body, HttpMethod method,\n                                                     HttpServletRequest request, HttpServletResponse response )", "testcase": false, "constructor": false}, {"identifier": "getSwitchEvents", "parameters": "( @PathVariable( \"switch_id\" ) String switch_id,\n                                        @PathVariable( \"event_source\" ) EventComponent event_source )", "modifiers": "@RequestMapping( value = \"/event/switches/{switch_id}/{event_source}\", method = RequestMethod.GET ) @ResponseBody public", "return": "List<Event>", "signature": "List<Event> getSwitchEvents( @PathVariable( \"switch_id\" ) String switch_id,\n                                        @PathVariable( \"event_source\" ) EventComponent event_source )", "full_signature": "@RequestMapping( value = \"/event/switches/{switch_id}/{event_source}\", method = RequestMethod.GET ) @ResponseBody public List<Event> getSwitchEvents( @PathVariable( \"switch_id\" ) String switch_id,\n                                        @PathVariable( \"event_source\" ) EventComponent event_source )", "class_method_signature": "HMSLocalRestService.getSwitchEvents( @PathVariable( \"switch_id\" ) String switch_id,\n                                        @PathVariable( \"event_source\" ) EventComponent event_source )", "testcase": false, "constructor": false}, {"identifier": "getSwitchInfo", "parameters": "( @RequestBody( required = false ) String body, HttpMethod method,\n                                     HttpServletRequest request, HttpServletResponse response )", "modifiers": "@RequestMapping( value = \"/switches/{switch_id}\", method = RequestMethod.GET ) @ResponseBody public", "return": "SwitchInfo", "signature": "SwitchInfo getSwitchInfo( @RequestBody( required = false ) String body, HttpMethod method,\n                                     HttpServletRequest request, HttpServletResponse response )", "full_signature": "@RequestMapping( value = \"/switches/{switch_id}\", method = RequestMethod.GET ) @ResponseBody public SwitchInfo getSwitchInfo( @RequestBody( required = false ) String body, HttpMethod method,\n                                     HttpServletRequest request, HttpServletResponse response )", "class_method_signature": "HMSLocalRestService.getSwitchInfo( @RequestBody( required = false ) String body, HttpMethod method,\n                                     HttpServletRequest request, HttpServletResponse response )", "testcase": false, "constructor": false}, {"identifier": "updateSwitchNode", "parameters": "( @RequestBody( required = false ) String body, HttpMethod method,\n                                                    HttpServletRequest request, HttpServletResponse response )", "modifiers": "@RequestMapping( value = \"/switches/{switch_id}\", method = RequestMethod.PUT ) @ResponseBody public", "return": "ResponseEntity<Object>", "signature": "ResponseEntity<Object> updateSwitchNode( @RequestBody( required = false ) String body, HttpMethod method,\n                                                    HttpServletRequest request, HttpServletResponse response )", "full_signature": "@RequestMapping( value = \"/switches/{switch_id}\", method = RequestMethod.PUT ) @ResponseBody public ResponseEntity<Object> updateSwitchNode( @RequestBody( required = false ) String body, HttpMethod method,\n                                                    HttpServletRequest request, HttpServletResponse response )", "class_method_signature": "HMSLocalRestService.updateSwitchNode( @RequestBody( required = false ) String body, HttpMethod method,\n                                                    HttpServletRequest request, HttpServletResponse response )", "testcase": false, "constructor": false}, {"identifier": "getAboutResponse", "parameters": "()", "modifiers": "@RequestMapping( value = \"/about\", method = RequestMethod.GET ) @ResponseBody public", "return": "Map<String, AboutResponse>", "signature": "Map<String, AboutResponse> getAboutResponse()", "full_signature": "@RequestMapping( value = \"/about\", method = RequestMethod.GET ) @ResponseBody public Map<String, AboutResponse> getAboutResponse()", "class_method_signature": "HMSLocalRestService.getAboutResponse()", "testcase": false, "constructor": false}, {"identifier": "getAllNodes", "parameters": "( @RequestBody( required = false ) String body, HttpMethod method,\n                                              HttpServletRequest request, HttpServletResponse response )", "modifiers": "@RequestMapping( value = \"/nodes\", method = RequestMethod.GET ) @ResponseBody public", "return": "Map<String, Object[]>", "signature": "Map<String, Object[]> getAllNodes( @RequestBody( required = false ) String body, HttpMethod method,\n                                              HttpServletRequest request, HttpServletResponse response )", "full_signature": "@RequestMapping( value = \"/nodes\", method = RequestMethod.GET ) @ResponseBody public Map<String, Object[]> getAllNodes( @RequestBody( required = false ) String body, HttpMethod method,\n                                              HttpServletRequest request, HttpServletResponse response )", "class_method_signature": "HMSLocalRestService.getAllNodes( @RequestBody( required = false ) String body, HttpMethod method,\n                                              HttpServletRequest request, HttpServletResponse response )", "testcase": false, "constructor": false}, {"identifier": "getAllHostCache", "parameters": "( @RequestBody( required = false ) String body, HttpMethod method,\n                                                    HttpServletRequest request, HttpServletResponse response )", "modifiers": "@RequestMapping( value = \"/host/cache\", method = RequestMethod.GET ) @ResponseBody public", "return": "Map<String, ServerInfo>", "signature": "Map<String, ServerInfo> getAllHostCache( @RequestBody( required = false ) String body, HttpMethod method,\n                                                    HttpServletRequest request, HttpServletResponse response )", "full_signature": "@RequestMapping( value = \"/host/cache\", method = RequestMethod.GET ) @ResponseBody public Map<String, ServerInfo> getAllHostCache( @RequestBody( required = false ) String body, HttpMethod method,\n                                                    HttpServletRequest request, HttpServletResponse response )", "class_method_signature": "HMSLocalRestService.getAllHostCache( @RequestBody( required = false ) String body, HttpMethod method,\n                                                    HttpServletRequest request, HttpServletResponse response )", "testcase": false, "constructor": false}, {"identifier": "getAllSwitchCache", "parameters": "( @RequestBody( required = false ) String body, HttpMethod method,\n                                                        HttpServletRequest request, HttpServletResponse response )", "modifiers": "@RequestMapping( value = \"/switch/cache\", method = RequestMethod.GET ) @ResponseBody public", "return": "Map<String, NBSwitchInfo>", "signature": "Map<String, NBSwitchInfo> getAllSwitchCache( @RequestBody( required = false ) String body, HttpMethod method,\n                                                        HttpServletRequest request, HttpServletResponse response )", "full_signature": "@RequestMapping( value = \"/switch/cache\", method = RequestMethod.GET ) @ResponseBody public Map<String, NBSwitchInfo> getAllSwitchCache( @RequestBody( required = false ) String body, HttpMethod method,\n                                                        HttpServletRequest request, HttpServletResponse response )", "class_method_signature": "HMSLocalRestService.getAllSwitchCache( @RequestBody( required = false ) String body, HttpMethod method,\n                                                        HttpServletRequest request, HttpServletResponse response )", "testcase": false, "constructor": false}, {"identifier": "getDiscoveryStatus", "parameters": "( @RequestBody( required = false ) String body, HttpMethod method,\n                                                     HttpServletRequest request, HttpServletResponse response )", "modifiers": "@RequestMapping( value = \"/discover\", method = RequestMethod.GET ) @ResponseBody public", "return": "NodeDiscoveryResponse", "signature": "NodeDiscoveryResponse getDiscoveryStatus( @RequestBody( required = false ) String body, HttpMethod method,\n                                                     HttpServletRequest request, HttpServletResponse response )", "full_signature": "@RequestMapping( value = \"/discover\", method = RequestMethod.GET ) @ResponseBody public NodeDiscoveryResponse getDiscoveryStatus( @RequestBody( required = false ) String body, HttpMethod method,\n                                                     HttpServletRequest request, HttpServletResponse response )", "class_method_signature": "HMSLocalRestService.getDiscoveryStatus( @RequestBody( required = false ) String body, HttpMethod method,\n                                                     HttpServletRequest request, HttpServletResponse response )", "testcase": false, "constructor": false}, {"identifier": "getNetTop", "parameters": "( @RequestBody( required = false ) String body, HttpMethod method,\n                                          HttpServletRequest request, HttpServletResponse response )", "modifiers": "@RequestMapping( value = \"/topology\", method = RequestMethod.GET ) @ResponseBody public", "return": "List<NetTopElement>", "signature": "List<NetTopElement> getNetTop( @RequestBody( required = false ) String body, HttpMethod method,\n                                          HttpServletRequest request, HttpServletResponse response )", "full_signature": "@RequestMapping( value = \"/topology\", method = RequestMethod.GET ) @ResponseBody public List<NetTopElement> getNetTop( @RequestBody( required = false ) String body, HttpMethod method,\n                                          HttpServletRequest request, HttpServletResponse response )", "class_method_signature": "HMSLocalRestService.getNetTop( @RequestBody( required = false ) String body, HttpMethod method,\n                                          HttpServletRequest request, HttpServletResponse response )", "testcase": false, "constructor": false}, {"identifier": "initialize", "parameters": "()", "modifiers": "@PostConstruct public", "return": "void", "signature": "void initialize()", "full_signature": "@PostConstruct public void initialize()", "class_method_signature": "HMSLocalRestService.initialize()", "testcase": false, "constructor": false}, {"identifier": "initializeInventory", "parameters": "()", "modifiers": "public", "return": "BaseResponse", "signature": "BaseResponse initializeInventory()", "full_signature": "public BaseResponse initializeInventory()", "class_method_signature": "HMSLocalRestService.initializeInventory()", "testcase": false, "constructor": false}, {"identifier": "refreshInventory", "parameters": "( @RequestBody( required = false ) String body,\n                                                          HttpMethod method )", "modifiers": "@RequestMapping( value = \"/refreshinventory\", method = RequestMethod.POST ) @ResponseBody public", "return": "ResponseEntity<BaseResponse>", "signature": "ResponseEntity<BaseResponse> refreshInventory( @RequestBody( required = false ) String body,\n                                                          HttpMethod method )", "full_signature": "@RequestMapping( value = \"/refreshinventory\", method = RequestMethod.POST ) @ResponseBody public ResponseEntity<BaseResponse> refreshInventory( @RequestBody( required = false ) String body,\n                                                          HttpMethod method )", "class_method_signature": "HMSLocalRestService.refreshInventory( @RequestBody( required = false ) String body,\n                                                          HttpMethod method )", "testcase": false, "constructor": false}, {"identifier": "updateHmsCacheOnRefreshInventory", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void updateHmsCacheOnRefreshInventory()", "full_signature": "public void updateHmsCacheOnRefreshInventory()", "class_method_signature": "HMSLocalRestService.updateHmsCacheOnRefreshInventory()", "testcase": false, "constructor": false}, {"identifier": "createHmsInMemoryCacheOnBootUp", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void createHmsInMemoryCacheOnBootUp()", "full_signature": "public void createHmsInMemoryCacheOnBootUp()", "class_method_signature": "HMSLocalRestService.createHmsInMemoryCacheOnBootUp()", "testcase": false, "constructor": false}, {"identifier": "updateInventory", "parameters": "( @RequestBody( required = false ) String body )", "modifiers": "@RequestMapping( value = { \"/host/inventory\" }, method = RequestMethod.PUT ) public @ResponseBody", "return": "ResponseEntity<Object>", "signature": "ResponseEntity<Object> updateInventory( @RequestBody( required = false ) String body )", "full_signature": "@RequestMapping( value = { \"/host/inventory\" }, method = RequestMethod.PUT ) public @ResponseBody ResponseEntity<Object> updateInventory( @RequestBody( required = false ) String body )", "class_method_signature": "HMSLocalRestService.updateInventory( @RequestBody( required = false ) String body )", "testcase": false, "constructor": false}, {"identifier": "handshake", "parameters": "( @RequestBody( required = false ) String body, HttpMethod method,\n                                             HttpServletRequest request, HttpServletResponse response )", "modifiers": "@RequestMapping( value = { \"/handshake\" } ) @ResponseBody public", "return": "ResponseEntity<Object>", "signature": "ResponseEntity<Object> handshake( @RequestBody( required = false ) String body, HttpMethod method,\n                                             HttpServletRequest request, HttpServletResponse response )", "full_signature": "@RequestMapping( value = { \"/handshake\" } ) @ResponseBody public ResponseEntity<Object> handshake( @RequestBody( required = false ) String body, HttpMethod method,\n                                             HttpServletRequest request, HttpServletResponse response )", "class_method_signature": "HMSLocalRestService.handshake( @RequestBody( required = false ) String body, HttpMethod method,\n                                             HttpServletRequest request, HttpServletResponse response )", "testcase": false, "constructor": false}, {"identifier": "getNewHosts", "parameters": "()", "modifiers": "@SuppressWarnings( \"unchecked\" ) @RequestMapping( value = { \"/newhosts\" }, method = RequestMethod.GET ) @ResponseBody public", "return": "ResponseEntity<T>", "signature": "ResponseEntity<T> getNewHosts()", "full_signature": "@SuppressWarnings( \"unchecked\" ) @RequestMapping( value = { \"/newhosts\" }, method = RequestMethod.GET ) @ResponseBody public ResponseEntity<T> getNewHosts()", "class_method_signature": "HMSLocalRestService.getNewHosts()", "testcase": false, "constructor": false}, {"identifier": "handshake", "parameters": "( @PathVariable( \"aggregator_ip\" ) String aggregatorIp )", "modifiers": "@RequestMapping( value = \"/handshake/{aggregator_ip}\", method = RequestMethod.POST ) @ResponseBody public", "return": "ResponseEntity<Object>", "signature": "ResponseEntity<Object> handshake( @PathVariable( \"aggregator_ip\" ) String aggregatorIp )", "full_signature": "@RequestMapping( value = \"/handshake/{aggregator_ip}\", method = RequestMethod.POST ) @ResponseBody public ResponseEntity<Object> handshake( @PathVariable( \"aggregator_ip\" ) String aggregatorIp )", "class_method_signature": "HMSLocalRestService.handshake( @PathVariable( \"aggregator_ip\" ) String aggregatorIp )", "testcase": false, "constructor": false}], "file": "modules/hms-aggregator/src/main/java/com/vmware/vrack/hms/controller/HMSLocalRestService.java"}, "focal_method": {"identifier": "getAboutResponse", "parameters": "()", "modifiers": "@RequestMapping( value = \"/about\", method = RequestMethod.GET ) @ResponseBody public", "return": "Map<String, AboutResponse>", "body": "@RequestMapping( value = \"/about\", method = RequestMethod.GET )\n    @ResponseBody\n    public Map<String, AboutResponse> getAboutResponse()\n        throws HMSRestException\n    {\n        try\n        {\n            HMSAboutResponseAggregator aggregator = new HMSAboutResponseAggregator();\n            return aggregator.getHMSAboutResponse();\n\n        }\n        catch ( Exception e )\n        {\n            logger.error( \"Exception while getting About Information for HMS.\", e );\n            throw new HMSRestException( HttpStatus.INTERNAL_SERVER_ERROR.value(), \"Server Error\",\n                                        \"Exception while getting HMS Build Version\" );\n        }\n    }", "signature": "Map<String, AboutResponse> getAboutResponse()", "full_signature": "@RequestMapping( value = \"/about\", method = RequestMethod.GET ) @ResponseBody public Map<String, AboutResponse> getAboutResponse()", "class_method_signature": "HMSLocalRestService.getAboutResponse()", "testcase": false, "constructor": false, "invocations": ["getHMSAboutResponse", "error", "value"]}, "repository": {"repo_id": 61566208, "url": "https://github.com/vmware-archive/OHMS", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 14, "size": 16092, "license": "licensed"}}