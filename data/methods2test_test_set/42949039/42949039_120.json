{"test_class": {"identifier": "TrustedApplicationUserBuilderTest", "superclass": "extends AbstractAppTest", "interfaces": "", "fields": [{"original_string": "@Autowired\n    TrustedApplicationUserBuilder trustedApplicationUserBuilder;", "modifier": "@Autowired", "type": "TrustedApplicationUserBuilder", "declarator": "trustedApplicationUserBuilder", "var_name": "trustedApplicationUserBuilder"}], "file": "herd-code/herd-app/src/test/java/org/finra/herd/app/security/TrustedApplicationUserBuilderTest.java"}, "test_case": {"identifier": "testTrustedUserBuilderNoRoles", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testTrustedUserBuilderNoRoles() throws Exception\n    {\n        // Create a set of test namespace authorizations.\n        Set<NamespaceAuthorization> namespaceAuthorizations = new LinkedHashSet<>();\n        namespaceAuthorizations.add(new NamespaceAuthorization(NAMESPACE, SUPPORTED_NAMESPACE_PERMISSIONS));\n        namespaceAuthorizations.add(new NamespaceAuthorization(NAMESPACE_2, SUPPORTED_NAMESPACE_PERMISSIONS));\n\n        // Create and persist the relative database entities.\n        userNamespaceAuthorizationDaoTestHelper\n            .createUserNamespaceAuthorizationEntity(TrustedApplicationUserBuilder.TRUSTED_USER_ID, namespaceDaoTestHelper.createNamespaceEntity(NAMESPACE),\n                SUPPORTED_NAMESPACE_PERMISSIONS);\n        userNamespaceAuthorizationDaoTestHelper\n            .createUserNamespaceAuthorizationEntity(TrustedApplicationUserBuilder.TRUSTED_USER_ID, namespaceDaoTestHelper.createNamespaceEntity(NAMESPACE_2),\n                SUPPORTED_NAMESPACE_PERMISSIONS);\n\n        // Build the trusted user.\n        ApplicationUser applicationUser = trustedApplicationUserBuilder.buildNoRoles(new MockHttpServletRequest());\n\n        // Validate the trusted user.\n        assertEquals(TrustedApplicationUserBuilder.TRUSTED_USER_ID, applicationUser.getUserId());\n        assertEquals(TrustedApplicationUserBuilder.TRUSTED_USER_FIRST_NAME, applicationUser.getFirstName());\n        assertEquals(TrustedApplicationUserBuilder.TRUSTED_USER_LAST_NAME, applicationUser.getLastName());\n        assertEquals(TrustedApplicationUserBuilder.TRUSTED_USER_EMAIL, applicationUser.getEmail());\n        assertEquals(namespaceAuthorizations, applicationUser.getNamespaceAuthorizations());\n        assertEquals(0, applicationUser.getRoles().size());\n    }", "signature": "void testTrustedUserBuilderNoRoles()", "full_signature": "@Test public void testTrustedUserBuilderNoRoles()", "class_method_signature": "TrustedApplicationUserBuilderTest.testTrustedUserBuilderNoRoles()", "testcase": true, "constructor": false, "invocations": ["add", "add", "createUserNamespaceAuthorizationEntity", "createNamespaceEntity", "createUserNamespaceAuthorizationEntity", "createNamespaceEntity", "buildNoRoles", "assertEquals", "getUserId", "assertEquals", "getFirstName", "assertEquals", "getLastName", "assertEquals", "getEmail", "assertEquals", "getNamespaceAuthorizations", "assertEquals", "size", "getRoles"]}, "focal_class": {"identifier": "TrustedApplicationUserBuilder", "superclass": "", "interfaces": "implements ApplicationUserBuilder", "fields": [{"original_string": "@Autowired\n    private UserNamespaceAuthorizationHelper userNamespaceAuthorizationHelper;", "modifier": "@Autowired\n    private", "type": "UserNamespaceAuthorizationHelper", "declarator": "userNamespaceAuthorizationHelper", "var_name": "userNamespaceAuthorizationHelper"}, {"original_string": "public static final String TRUSTED_USER_ID = \"TRUSTED_USER\";", "modifier": "public static final", "type": "String", "declarator": "TRUSTED_USER_ID = \"TRUSTED_USER\"", "var_name": "TRUSTED_USER_ID"}, {"original_string": "public static final String TRUSTED_USER_FIRST_NAME = \"TRUSTED_USER_FIRST_NAME\";", "modifier": "public static final", "type": "String", "declarator": "TRUSTED_USER_FIRST_NAME = \"TRUSTED_USER_FIRST_NAME\"", "var_name": "TRUSTED_USER_FIRST_NAME"}, {"original_string": "public static final String TRUSTED_USER_LAST_NAME = \"TRUSTED_USER_LAST_NAME\";", "modifier": "public static final", "type": "String", "declarator": "TRUSTED_USER_LAST_NAME = \"TRUSTED_USER_LAST_NAME\"", "var_name": "TRUSTED_USER_LAST_NAME"}, {"original_string": "public static final String TRUSTED_USER_EMAIL = \"TRUSTED_USER_EMAIL\";", "modifier": "public static final", "type": "String", "declarator": "TRUSTED_USER_EMAIL = \"TRUSTED_USER_EMAIL\"", "var_name": "TRUSTED_USER_EMAIL"}, {"original_string": "public static final String TRUSTED_USER_ROLE = \"TRUSTED_USER_ROLE\";", "modifier": "public static final", "type": "String", "declarator": "TRUSTED_USER_ROLE = \"TRUSTED_USER_ROLE\"", "var_name": "TRUSTED_USER_ROLE"}], "methods": [{"identifier": "build", "parameters": "(HttpServletRequest request)", "modifiers": "@Override public", "return": "ApplicationUser", "signature": "ApplicationUser build(HttpServletRequest request)", "full_signature": "@Override public ApplicationUser build(HttpServletRequest request)", "class_method_signature": "TrustedApplicationUserBuilder.build(HttpServletRequest request)", "testcase": false, "constructor": false}, {"identifier": "buildNoRoles", "parameters": "(HttpServletRequest request)", "modifiers": "@Override public", "return": "ApplicationUser", "signature": "ApplicationUser buildNoRoles(HttpServletRequest request)", "full_signature": "@Override public ApplicationUser buildNoRoles(HttpServletRequest request)", "class_method_signature": "TrustedApplicationUserBuilder.buildNoRoles(HttpServletRequest request)", "testcase": false, "constructor": false}, {"identifier": "buildUser", "parameters": "(HttpServletRequest request, boolean includeRoles)", "modifiers": "protected", "return": "ApplicationUser", "signature": "ApplicationUser buildUser(HttpServletRequest request, boolean includeRoles)", "full_signature": "protected ApplicationUser buildUser(HttpServletRequest request, boolean includeRoles)", "class_method_signature": "TrustedApplicationUserBuilder.buildUser(HttpServletRequest request, boolean includeRoles)", "testcase": false, "constructor": false}], "file": "herd-code/herd-app/src/main/java/org/finra/herd/app/security/TrustedApplicationUserBuilder.java"}, "focal_method": {"identifier": "buildNoRoles", "parameters": "(HttpServletRequest request)", "modifiers": "@Override public", "return": "ApplicationUser", "body": "@Override\n    public ApplicationUser buildNoRoles(HttpServletRequest request)\n    {\n        return buildUser(request, false);\n    }", "signature": "ApplicationUser buildNoRoles(HttpServletRequest request)", "full_signature": "@Override public ApplicationUser buildNoRoles(HttpServletRequest request)", "class_method_signature": "TrustedApplicationUserBuilder.buildNoRoles(HttpServletRequest request)", "testcase": false, "constructor": false, "invocations": ["buildUser"]}, "repository": {"repo_id": 42949039, "url": "https://github.com/FINRAOS/herd", "language": "Java", "is_fork": false, "fork_count": 36, "stargazer_count": 120, "size": 205797, "license": "licensed"}}