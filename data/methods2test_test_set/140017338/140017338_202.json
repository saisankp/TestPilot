{"test_class": {"identifier": "SW360ConnectionConfigurationFactoryTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String REST_URL = \"https://www.sw360.org/api\";", "modifier": "private static final", "type": "String", "declarator": "REST_URL = \"https://www.sw360.org/api\"", "var_name": "REST_URL"}, {"original_string": "private static final String AUTH_URL = \"https://auth.sw360.org/token\";", "modifier": "private static final", "type": "String", "declarator": "AUTH_URL = \"https://auth.sw360.org/token\"", "var_name": "AUTH_URL"}, {"original_string": "private static final String USER = \"scott\";", "modifier": "private static final", "type": "String", "declarator": "USER = \"scott\"", "var_name": "USER"}, {"original_string": "private static final String PASSWORD = \"tiger\";", "modifier": "private static final", "type": "String", "declarator": "PASSWORD = \"tiger\"", "var_name": "PASSWORD"}, {"original_string": "private static final String CLIENT_ID = \"oauth_client\";", "modifier": "private static final", "type": "String", "declarator": "CLIENT_ID = \"oauth_client\"", "var_name": "CLIENT_ID"}, {"original_string": "private static final String CLIENT_SECRET = \"oauth_client_secret\";", "modifier": "private static final", "type": "String", "declarator": "CLIENT_SECRET = \"oauth_client_secret\"", "var_name": "CLIENT_SECRET"}], "file": "modules/sw360/sw360-workflow/src/test/java/org/eclipse/sw360/antenna/sw360/workflow/SW360ConnectionConfigurationFactoryTest.java"}, "test_case": {"identifier": "testConnectionCreation", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testConnectionCreation() {\n        HttpClient httpClient = mock(HttpClient.class);\n        ObjectMapper mapper = mock(ObjectMapper.class);\n        SW360ConnectionFactory connectionFactory = mock(SW360ConnectionFactory.class);\n        SW360Connection connection = mock(SW360Connection.class);\n        when(connectionFactory.newConnection(any())).thenReturn(connection);\n        SW360ConnectionConfigurationFactory factory = new SW360ConnectionConfigurationFactory(connectionFactory);\n\n        SW360Connection actualConnection =\n                factory.createConnection(stringConfigGetter(), httpClient, mapper);\n        assertThat(actualConnection).isEqualTo(connection);\n\n        ArgumentCaptor<SW360ClientConfig> captSW360Config = ArgumentCaptor.forClass(SW360ClientConfig.class);\n        verify(connectionFactory).newConnection(captSW360Config.capture());\n        SW360ClientConfig sw360ClientConfig = captSW360Config.getValue();\n        assertThat(sw360ClientConfig.getRestURL()).isEqualTo(REST_URL);\n        assertThat(sw360ClientConfig.getAuthURL()).isEqualTo(AUTH_URL);\n        assertThat(sw360ClientConfig.getUser()).isEqualTo(USER);\n        assertThat(sw360ClientConfig.getPassword()).isEqualTo(PASSWORD);\n        assertThat(sw360ClientConfig.getClientId()).isEqualTo(CLIENT_ID);\n        assertThat(sw360ClientConfig.getClientPassword()).isEqualTo(CLIENT_SECRET);\n        assertThat(sw360ClientConfig.getHttpClient()).isEqualTo(httpClient);\n        assertThat(sw360ClientConfig.getObjectMapper()).isEqualTo(mapper);\n    }", "signature": "void testConnectionCreation()", "full_signature": "@Test public void testConnectionCreation()", "class_method_signature": "SW360ConnectionConfigurationFactoryTest.testConnectionCreation()", "testcase": true, "constructor": false, "invocations": ["mock", "mock", "mock", "mock", "thenReturn", "when", "newConnection", "any", "createConnection", "stringConfigGetter", "isEqualTo", "assertThat", "forClass", "newConnection", "verify", "capture", "getValue", "isEqualTo", "assertThat", "getRestURL", "isEqualTo", "assertThat", "getAuthURL", "isEqualTo", "assertThat", "getUser", "isEqualTo", "assertThat", "getPassword", "isEqualTo", "assertThat", "getClientId", "isEqualTo", "assertThat", "getClientPassword", "isEqualTo", "assertThat", "getHttpClient", "isEqualTo", "assertThat", "getObjectMapper"]}, "focal_class": {"identifier": "SW360ConnectionConfigurationFactory", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final String REST_SERVER_URL_KEY = \"rest.server.url\";", "modifier": "public static final", "type": "String", "declarator": "REST_SERVER_URL_KEY = \"rest.server.url\"", "var_name": "REST_SERVER_URL_KEY"}, {"original_string": "public static final String AUTH_SERVER_URL_KEY = \"auth.server.url\";", "modifier": "public static final", "type": "String", "declarator": "AUTH_SERVER_URL_KEY = \"auth.server.url\"", "var_name": "AUTH_SERVER_URL_KEY"}, {"original_string": "public static final String USERNAME_KEY = \"user.id\";", "modifier": "public static final", "type": "String", "declarator": "USERNAME_KEY = \"user.id\"", "var_name": "USERNAME_KEY"}, {"original_string": "public static final String PASSWORD_KEY = \"user.password\";", "modifier": "public static final", "type": "String", "declarator": "PASSWORD_KEY = \"user.password\"", "var_name": "PASSWORD_KEY"}, {"original_string": "public static final String CLIENT_USER_KEY = \"client.id\";", "modifier": "public static final", "type": "String", "declarator": "CLIENT_USER_KEY = \"client.id\"", "var_name": "CLIENT_USER_KEY"}, {"original_string": "public static final String CLIENT_PASSWORD_KEY = \"client.password\";", "modifier": "public static final", "type": "String", "declarator": "CLIENT_PASSWORD_KEY = \"client.password\"", "var_name": "CLIENT_PASSWORD_KEY"}, {"original_string": "public static final String TOKEN_KEY = \"user.token\";", "modifier": "public static final", "type": "String", "declarator": "TOKEN_KEY = \"user.token\"", "var_name": "TOKEN_KEY"}, {"original_string": "private final SW360ConnectionFactory connectionFactory;", "modifier": "private final", "type": "SW360ConnectionFactory", "declarator": "connectionFactory", "var_name": "connectionFactory"}], "methods": [{"identifier": "SW360ConnectionConfigurationFactory", "parameters": "()", "modifiers": "public", "return": "", "signature": " SW360ConnectionConfigurationFactory()", "full_signature": "public  SW360ConnectionConfigurationFactory()", "class_method_signature": "SW360ConnectionConfigurationFactory.SW360ConnectionConfigurationFactory()", "testcase": false, "constructor": true}, {"identifier": "SW360ConnectionConfigurationFactory", "parameters": "(SW360ConnectionFactory connectionFactory)", "modifiers": "", "return": "", "signature": " SW360ConnectionConfigurationFactory(SW360ConnectionFactory connectionFactory)", "full_signature": "  SW360ConnectionConfigurationFactory(SW360ConnectionFactory connectionFactory)", "class_method_signature": "SW360ConnectionConfigurationFactory.SW360ConnectionConfigurationFactory(SW360ConnectionFactory connectionFactory)", "testcase": false, "constructor": true}, {"identifier": "createConnection", "parameters": "(Getter<String> getConfigValue, HttpClient httpClient,\n                                            ObjectMapper mapper)", "modifiers": "public", "return": "SW360Connection", "signature": "SW360Connection createConnection(Getter<String> getConfigValue, HttpClient httpClient,\n                                            ObjectMapper mapper)", "full_signature": "public SW360Connection createConnection(Getter<String> getConfigValue, HttpClient httpClient,\n                                            ObjectMapper mapper)", "class_method_signature": "SW360ConnectionConfigurationFactory.createConnection(Getter<String> getConfigValue, HttpClient httpClient,\n                                            ObjectMapper mapper)", "testcase": false, "constructor": false}, {"identifier": "getConnectionFactory", "parameters": "()", "modifiers": "", "return": "SW360ConnectionFactory", "signature": "SW360ConnectionFactory getConnectionFactory()", "full_signature": " SW360ConnectionFactory getConnectionFactory()", "class_method_signature": "SW360ConnectionConfigurationFactory.getConnectionFactory()", "testcase": false, "constructor": false}], "file": "modules/sw360/sw360-workflow/src/main/java/org/eclipse/sw360/antenna/sw360/workflow/SW360ConnectionConfigurationFactory.java"}, "focal_method": {"identifier": "createConnection", "parameters": "(Getter<String> getConfigValue, HttpClient httpClient,\n                                            ObjectMapper mapper)", "modifiers": "public", "return": "SW360Connection", "body": "public SW360Connection createConnection(Getter<String> getConfigValue, HttpClient httpClient,\n                                            ObjectMapper mapper) {\n        String restUrl = getConfigValue.apply(REST_SERVER_URL_KEY);\n        String authUrl = getConfigValue.apply(AUTH_SERVER_URL_KEY);\n        String user = getConfigValue.apply(USERNAME_KEY);\n        String password = getConfigValue.apply(PASSWORD_KEY);\n        String clientId = getConfigValue.apply(CLIENT_USER_KEY);\n        String clientPassword = getConfigValue.apply(CLIENT_PASSWORD_KEY);\n        String token = getConfigValue.apply(TOKEN_KEY);\n\n        SW360ClientConfig clientConfig =\n                SW360ClientConfig.createConfig(restUrl, authUrl, user, password, clientId, clientPassword,\n                        token, httpClient, mapper);\n        return connectionFactory.newConnection(clientConfig);\n    }", "signature": "SW360Connection createConnection(Getter<String> getConfigValue, HttpClient httpClient,\n                                            ObjectMapper mapper)", "full_signature": "public SW360Connection createConnection(Getter<String> getConfigValue, HttpClient httpClient,\n                                            ObjectMapper mapper)", "class_method_signature": "SW360ConnectionConfigurationFactory.createConnection(Getter<String> getConfigValue, HttpClient httpClient,\n                                            ObjectMapper mapper)", "testcase": false, "constructor": false, "invocations": ["apply", "apply", "apply", "apply", "apply", "apply", "apply", "createConfig", "newConnection"]}, "repository": {"repo_id": 140017338, "url": "https://github.com/eclipse/antenna", "stars": 14, "created": "7/6/2018 6:17:28 PM +00:00", "updates": "2020-01-21T13:15:34+00:00", "fork": "False", "license": "licensed"}}