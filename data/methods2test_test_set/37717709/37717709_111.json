{"test_class": {"identifier": "TestExternalGrammarDocument", "superclass": "", "interfaces": "", "fields": [], "file": "org.jvoicexml/src/test/java/org/jvoicexml/documentserver/TestExternalGrammarDocument.java"}, "test_case": {"identifier": "testGetDocument", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetDocument() throws Exception {\n        final SrgsXmlDocument srgsDocument = new SrgsXmlDocument();\n        final Grammar grammar = srgsDocument.getGrammar();\n        grammar.setVersion(\"1.0\");\n        grammar.setType(GrammarType.SRGS_XML);\n        final Rule rule = grammar.appendChild(Rule.class);\n        final OneOf oneof = rule.appendChild(OneOf.class);\n        final Item item1 = oneof.appendChild(Item.class);\n        item1.addText(\"visa\");\n        final Item item2 = oneof.appendChild(Item.class);\n        item2.addText(\"mastercard\");\n        final Item item3 = oneof.appendChild(Item.class);\n        item3.addText(\"american express\");\n        final String encoding = System.getProperty(\"jvoicexml.xml.encoding\",\n                \"UTF-8\");\n        final ExternalGrammarDocument document =\n                new ExternalGrammarDocument(null,\n                        srgsDocument.toString().getBytes(),\n                        encoding, true);\n        document.setModeType(ModeType.VOICE);\n        document.setMediaType(GrammarType.SRGS_XML);\n        Assert.assertEquals(srgsDocument.toString(), document.getDocument());\n    }", "signature": "void testGetDocument()", "full_signature": "@Test public void testGetDocument()", "class_method_signature": "TestExternalGrammarDocument.testGetDocument()", "testcase": true, "constructor": false, "invocations": ["getGrammar", "setVersion", "setType", "appendChild", "appendChild", "appendChild", "addText", "appendChild", "addText", "appendChild", "addText", "getProperty", "getBytes", "toString", "setModeType", "setMediaType", "assertEquals", "toString", "getDocument"]}, "focal_class": {"identifier": "ExternalGrammarDocument", "superclass": "", "interfaces": "implements GrammarDocument", "fields": [{"original_string": "private static final Logger LOGGER = LogManager\n            .getLogger(ExternalGrammarDocument.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LogManager\n            .getLogger(ExternalGrammarDocument.class)", "var_name": "LOGGER"}, {"original_string": "private static final int HASH_CODE_BASE = 13;", "modifier": "private static final", "type": "int", "declarator": "HASH_CODE_BASE = 13", "var_name": "HASH_CODE_BASE"}, {"original_string": "private static final int HASH_CODE_MULTIPLIER = 31;", "modifier": "private static final", "type": "int", "declarator": "HASH_CODE_MULTIPLIER = 31", "var_name": "HASH_CODE_MULTIPLIER"}, {"original_string": "private GrammarType type;", "modifier": "private", "type": "GrammarType", "declarator": "type", "var_name": "type"}, {"original_string": "private ModeType mode;", "modifier": "private", "type": "ModeType", "declarator": "mode", "var_name": "mode"}, {"original_string": "private String document;", "modifier": "private", "type": "String", "declarator": "document", "var_name": "document"}, {"original_string": "private final String charset;", "modifier": "private final", "type": "String", "declarator": "charset", "var_name": "charset"}, {"original_string": "private final boolean isAscii;", "modifier": "private final", "type": "boolean", "declarator": "isAscii", "var_name": "isAscii"}, {"original_string": "private final byte[] buffer;", "modifier": "private final", "type": "byte[]", "declarator": "buffer", "var_name": "buffer"}, {"original_string": "private URI uri;", "modifier": "private", "type": "URI", "declarator": "uri", "var_name": "uri"}], "methods": [{"identifier": "ExternalGrammarDocument", "parameters": "(final URI source, final byte[] content,\n            final String encoding, final boolean ascii)", "modifiers": "public", "return": "", "signature": " ExternalGrammarDocument(final URI source, final byte[] content,\n            final String encoding, final boolean ascii)", "full_signature": "public  ExternalGrammarDocument(final URI source, final byte[] content,\n            final String encoding, final boolean ascii)", "class_method_signature": "ExternalGrammarDocument.ExternalGrammarDocument(final URI source, final byte[] content,\n            final String encoding, final boolean ascii)", "testcase": false, "constructor": true}, {"identifier": "isCacheable", "parameters": "()", "modifiers": "@Override public", "return": "boolean", "signature": "boolean isCacheable()", "full_signature": "@Override public boolean isCacheable()", "class_method_signature": "ExternalGrammarDocument.isCacheable()", "testcase": false, "constructor": false}, {"identifier": "setURI", "parameters": "(final URI value)", "modifiers": "@Override public", "return": "void", "signature": "void setURI(final URI value)", "full_signature": "@Override public void setURI(final URI value)", "class_method_signature": "ExternalGrammarDocument.setURI(final URI value)", "testcase": false, "constructor": false}, {"identifier": "getURI", "parameters": "()", "modifiers": "@Override public", "return": "URI", "signature": "URI getURI()", "full_signature": "@Override public URI getURI()", "class_method_signature": "ExternalGrammarDocument.getURI()", "testcase": false, "constructor": false}, {"identifier": "getMediaType", "parameters": "()", "modifiers": "@Override public", "return": "GrammarType", "signature": "GrammarType getMediaType()", "full_signature": "@Override public GrammarType getMediaType()", "class_method_signature": "ExternalGrammarDocument.getMediaType()", "testcase": false, "constructor": false}, {"identifier": "setMediaType", "parameters": "(final GrammarType grammartype)", "modifiers": "@Override public", "return": "void", "signature": "void setMediaType(final GrammarType grammartype)", "full_signature": "@Override public void setMediaType(final GrammarType grammartype)", "class_method_signature": "ExternalGrammarDocument.setMediaType(final GrammarType grammartype)", "testcase": false, "constructor": false}, {"identifier": "isAscii", "parameters": "()", "modifiers": "@Override public", "return": "boolean", "signature": "boolean isAscii()", "full_signature": "@Override public boolean isAscii()", "class_method_signature": "ExternalGrammarDocument.isAscii()", "testcase": false, "constructor": false}, {"identifier": "getBuffer", "parameters": "()", "modifiers": "@Override public", "return": "byte[]", "signature": "byte[] getBuffer()", "full_signature": "@Override public byte[] getBuffer()", "class_method_signature": "ExternalGrammarDocument.getBuffer()", "testcase": false, "constructor": false}, {"identifier": "getDocument", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getDocument()", "full_signature": "@Override public String getDocument()", "class_method_signature": "ExternalGrammarDocument.getDocument()", "testcase": false, "constructor": false}, {"identifier": "getTextContent", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getTextContent()", "full_signature": "@Override public String getTextContent()", "class_method_signature": "ExternalGrammarDocument.getTextContent()", "testcase": false, "constructor": false}, {"identifier": "equals", "parameters": "(final Object obj)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean equals(final Object obj)", "full_signature": "@Override public boolean equals(final Object obj)", "class_method_signature": "ExternalGrammarDocument.equals(final Object obj)", "testcase": false, "constructor": false}, {"identifier": "equals", "parameters": "(final GrammarDocument other)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean equals(final GrammarDocument other)", "full_signature": "@Override public boolean equals(final GrammarDocument other)", "class_method_signature": "ExternalGrammarDocument.equals(final GrammarDocument other)", "testcase": false, "constructor": false}, {"identifier": "hashCode", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int hashCode()", "full_signature": "@Override public int hashCode()", "class_method_signature": "ExternalGrammarDocument.hashCode()", "testcase": false, "constructor": false}, {"identifier": "getModeType", "parameters": "()", "modifiers": "@Override public", "return": "ModeType", "signature": "ModeType getModeType()", "full_signature": "@Override public ModeType getModeType()", "class_method_signature": "ExternalGrammarDocument.getModeType()", "testcase": false, "constructor": false}, {"identifier": "setModeType", "parameters": "(final ModeType modeType)", "modifiers": "@Override public", "return": "void", "signature": "void setModeType(final ModeType modeType)", "full_signature": "@Override public void setModeType(final ModeType modeType)", "class_method_signature": "ExternalGrammarDocument.setModeType(final ModeType modeType)", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String toString()", "full_signature": "@Override public String toString()", "class_method_signature": "ExternalGrammarDocument.toString()", "testcase": false, "constructor": false}], "file": "org.jvoicexml/src/main/java/org/jvoicexml/documentserver/ExternalGrammarDocument.java"}, "focal_method": {"identifier": "getDocument", "parameters": "()", "modifiers": "@Override public", "return": "String", "body": "@Override\n    public String getDocument() {\n        if ((document == null) && (buffer != null)) {\n            if (charset == null) {\n                document = new String(buffer);\n            } else {\n                try {\n                    document = new String(buffer, charset);\n                } catch (UnsupportedEncodingException ex) {\n                    LOGGER.warn(\"unable to use charset '\" + charset\n                            + \"' to convert grammar '\" + uri\n                            + \"'' Using default.\", ex);\n                    document = new String(buffer);\n                }\n            }\n        }\n        return document;\n    }", "signature": "String getDocument()", "full_signature": "@Override public String getDocument()", "class_method_signature": "ExternalGrammarDocument.getDocument()", "testcase": false, "constructor": false, "invocations": ["warn"]}, "repository": {"repo_id": 37717709, "url": "https://github.com/JVoiceXML/JVoiceXML", "language": "Java", "is_fork": false, "fork_count": 32, "stargazer_count": 50, "size": 436089, "license": "licensed"}}