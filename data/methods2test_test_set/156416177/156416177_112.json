{"test_class": {"identifier": "SvReloadCmdBuildTest", "superclass": "", "interfaces": "", "fields": [], "file": "java/component/keyple-calypso/src/test/java/org/eclipse/keyple/calypso/command/po/builder/storedvalue/SvReloadCmdBuildTest.java"}, "test_case": {"identifier": "svReloadCmdBuild_mode_compat_overlimit_positive_amount", "parameters": "()", "modifiers": "@Test(expected = IllegalArgumentException.class) public", "return": "void", "body": "@Test(expected = IllegalArgumentException.class)\n  public void svReloadCmdBuild_mode_compat_overlimit_positive_amount() {\n    SvReloadCmdBuild svReloadCmdBuild =\n        new SvReloadCmdBuild(\n            PoClass.ISO,\n            PoRevision.REV3_1,\n            /* amount */ 8388608, /* KVC */\n            (byte) 0xAA,\n            /* date */ ByteArrayUtil.fromHex(\"1122\"), /* time */\n            ByteArrayUtil.fromHex(\"3344\"),\n            /* free */ ByteArrayUtil.fromHex(\"F3EE\"));\n    svReloadCmdBuild.finalizeBuilder(\n        /* SAM ID + prepare SV Reload data */ ByteArrayUtil.fromHex(\n            \"AABBCCDD5566771234561122334455\"));\n  }", "signature": "void svReloadCmdBuild_mode_compat_overlimit_positive_amount()", "full_signature": "@Test(expected = IllegalArgumentException.class) public void svReloadCmdBuild_mode_compat_overlimit_positive_amount()", "class_method_signature": "SvReloadCmdBuildTest.svReloadCmdBuild_mode_compat_overlimit_positive_amount()", "testcase": true, "constructor": false, "invocations": ["fromHex", "fromHex", "fromHex", "finalizeBuilder", "fromHex"]}, "focal_class": {"identifier": "SvReloadCmdBuild", "superclass": "extends AbstractPoCommandBuilder<SvReloadRespPars>", "interfaces": "", "fields": [{"original_string": "private static final CalypsoPoCommand command = CalypsoPoCommand.SV_RELOAD;", "modifier": "private static final", "type": "CalypsoPoCommand", "declarator": "command = CalypsoPoCommand.SV_RELOAD", "var_name": "command"}, {"original_string": "private final PoClass poClass;", "modifier": "private final", "type": "PoClass", "declarator": "poClass", "var_name": "poClass"}, {"original_string": "private final PoRevision poRevision;", "modifier": "private final", "type": "PoRevision", "declarator": "poRevision", "var_name": "poRevision"}, {"original_string": "private final byte[] dataIn;", "modifier": "private final", "type": "byte[]", "declarator": "dataIn", "var_name": "dataIn"}], "methods": [{"identifier": "SvReloadCmdBuild", "parameters": "(\n      PoClass poClass,\n      PoRevision poRevision,\n      int amount,\n      byte kvc,\n      byte[] date,\n      byte[] time,\n      byte[] free)", "modifiers": "public", "return": "", "signature": " SvReloadCmdBuild(\n      PoClass poClass,\n      PoRevision poRevision,\n      int amount,\n      byte kvc,\n      byte[] date,\n      byte[] time,\n      byte[] free)", "full_signature": "public  SvReloadCmdBuild(\n      PoClass poClass,\n      PoRevision poRevision,\n      int amount,\n      byte kvc,\n      byte[] date,\n      byte[] time,\n      byte[] free)", "class_method_signature": "SvReloadCmdBuild.SvReloadCmdBuild(\n      PoClass poClass,\n      PoRevision poRevision,\n      int amount,\n      byte kvc,\n      byte[] date,\n      byte[] time,\n      byte[] free)", "testcase": false, "constructor": true}, {"identifier": "finalizeBuilder", "parameters": "(byte[] reloadComplementaryData)", "modifiers": "public", "return": "void", "signature": "void finalizeBuilder(byte[] reloadComplementaryData)", "full_signature": "public void finalizeBuilder(byte[] reloadComplementaryData)", "class_method_signature": "SvReloadCmdBuild.finalizeBuilder(byte[] reloadComplementaryData)", "testcase": false, "constructor": false}, {"identifier": "getSvReloadData", "parameters": "()", "modifiers": "public", "return": "byte[]", "signature": "byte[] getSvReloadData()", "full_signature": "public byte[] getSvReloadData()", "class_method_signature": "SvReloadCmdBuild.getSvReloadData()", "testcase": false, "constructor": false}, {"identifier": "createResponseParser", "parameters": "(ApduResponse apduResponse)", "modifiers": "@Override public", "return": "SvReloadRespPars", "signature": "SvReloadRespPars createResponseParser(ApduResponse apduResponse)", "full_signature": "@Override public SvReloadRespPars createResponseParser(ApduResponse apduResponse)", "class_method_signature": "SvReloadCmdBuild.createResponseParser(ApduResponse apduResponse)", "testcase": false, "constructor": false}, {"identifier": "isSessionBufferUsed", "parameters": "()", "modifiers": "@Override public", "return": "boolean", "signature": "boolean isSessionBufferUsed()", "full_signature": "@Override public boolean isSessionBufferUsed()", "class_method_signature": "SvReloadCmdBuild.isSessionBufferUsed()", "testcase": false, "constructor": false}], "file": "java/component/keyple-calypso/src/main/java/org/eclipse/keyple/calypso/command/po/builder/storedvalue/SvReloadCmdBuild.java"}, "focal_method": {"identifier": "finalizeBuilder", "parameters": "(byte[] reloadComplementaryData)", "modifiers": "public", "return": "void", "body": "public void finalizeBuilder(byte[] reloadComplementaryData) {\n    if ((poRevision == PoRevision.REV3_2 && reloadComplementaryData.length != 20)\n        || (poRevision != PoRevision.REV3_2 && reloadComplementaryData.length != 15)) {\n      throw new IllegalArgumentException(\"Bad SV prepare load data length.\");\n    }\n\n    byte p1 = reloadComplementaryData[4];\n    byte p2 = reloadComplementaryData[5];\n\n    dataIn[0] = reloadComplementaryData[6];\n    System.arraycopy(reloadComplementaryData, 0, dataIn, 11, 4);\n    System.arraycopy(reloadComplementaryData, 7, dataIn, 15, 3);\n    System.arraycopy(reloadComplementaryData, 10, dataIn, 18, reloadComplementaryData.length - 10);\n\n    this.request = setApduRequest(poClass.getValue(), command, p1, p2, dataIn, null);\n  }", "signature": "void finalizeBuilder(byte[] reloadComplementaryData)", "full_signature": "public void finalizeBuilder(byte[] reloadComplementaryData)", "class_method_signature": "SvReloadCmdBuild.finalizeBuilder(byte[] reloadComplementaryData)", "testcase": false, "constructor": false, "invocations": ["arraycopy", "arraycopy", "arraycopy", "setApduRequest", "getValue"]}, "repository": {"repo_id": 156416177, "url": "https://github.com/eclipse/keyple-java", "language": "Java", "is_fork": false, "fork_count": 11, "stargazer_count": 8, "size": 10325, "license": "licensed"}}