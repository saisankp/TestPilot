{"test_class": {"identifier": "ConfigurationLocatorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String EXPECTED_PATH = \"/Users/caitie/.mifos\";", "modifier": "private static final", "type": "String", "declarator": "EXPECTED_PATH = \"/Users/caitie/.mifos\"", "var_name": "EXPECTED_PATH"}, {"original_string": "private ConfigurationLocator configurationLocator;", "modifier": "private", "type": "ConfigurationLocator", "declarator": "configurationLocator", "var_name": "configurationLocator"}, {"original_string": "@Mock\n    private File file;", "modifier": "@Mock\n    private", "type": "File", "declarator": "file", "var_name": "file"}, {"original_string": "@Mock\n    private ConfigurationLocatorHelper configurationLocatorHelper;", "modifier": "@Mock\n    private", "type": "ConfigurationLocatorHelper", "declarator": "configurationLocatorHelper", "var_name": "configurationLocatorHelper"}], "file": "common/src/test/java/org/mifos/framework/util/ConfigurationLocatorTest.java"}, "test_case": {"identifier": "testResolvePath", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testResolvePath() {\n        when(configurationLocatorHelper.getEnvironmentProperty(\"MIFOS_CONF\")).thenReturn(\"/users/admin/.mifos\");\n        when(configurationLocatorHelper.getHomeProperty(\"question.group.folder\")).thenReturn(\"question/groups/xmls\");\n        String path = configurationLocator.resolvePath(\"$MIFOS_CONF/${question.group.folder}/ppi/PPIIndia.xml\");\n        Assert.assertEquals(\"/users/admin/.mifos/question/groups/xmls/ppi/PPIIndia.xml\", path);\n        verify(configurationLocatorHelper, times(1)).getEnvironmentProperty(\"MIFOS_CONF\");\n        verify(configurationLocatorHelper, times(1)).getHomeProperty(\"question.group.folder\");\n        Assert.assertEquals(\"/users/admin/.mifos/question/groups/xmls/ppi/PPIIndia.xml\", configurationLocator.resolvePath(\"/users/admin/.mifos/question/groups/xmls/ppi/PPIIndia.xml\"));\n    }", "signature": "void testResolvePath()", "full_signature": "@Test public void testResolvePath()", "class_method_signature": "ConfigurationLocatorTest.testResolvePath()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "getEnvironmentProperty", "thenReturn", "when", "getHomeProperty", "resolvePath", "assertEquals", "getEnvironmentProperty", "verify", "times", "getHomeProperty", "verify", "times", "assertEquals", "resolvePath"]}, "focal_class": {"identifier": "ConfigurationLocator", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final String LOCATOR_ENVIRONMENT_PROPERTY_NAME = \"MIFOS_CONF\";", "modifier": "public static final", "type": "String", "declarator": "LOCATOR_ENVIRONMENT_PROPERTY_NAME = \"MIFOS_CONF\"", "var_name": "LOCATOR_ENVIRONMENT_PROPERTY_NAME"}, {"original_string": "private static final String LOCATOR_SYSTEM_PROPERTY_NAME = \"mifos.conf\";", "modifier": "private static final", "type": "String", "declarator": "LOCATOR_SYSTEM_PROPERTY_NAME = \"mifos.conf\"", "var_name": "LOCATOR_SYSTEM_PROPERTY_NAME"}, {"original_string": "private static final String HOME_PROPERTY_NAME = \"user.home\";", "modifier": "private static final", "type": "String", "declarator": "HOME_PROPERTY_NAME = \"user.home\"", "var_name": "HOME_PROPERTY_NAME"}, {"original_string": "private static final String MIFOS_USER_CONFIG_DIRECTORY_NAME = \".mifos\";", "modifier": "private static final", "type": "String", "declarator": "MIFOS_USER_CONFIG_DIRECTORY_NAME = \".mifos\"", "var_name": "MIFOS_USER_CONFIG_DIRECTORY_NAME"}, {"original_string": "private static final String DEFAULT_CONFIGURATION_PATH = \"org/mifos/config/resources/\";", "modifier": "private static final", "type": "String", "declarator": "DEFAULT_CONFIGURATION_PATH = \"org/mifos/config/resources/\"", "var_name": "DEFAULT_CONFIGURATION_PATH"}, {"original_string": "private static final String LOGO_DIR = \"logo\";", "modifier": "private static final", "type": "String", "declarator": "LOGO_DIR = \"logo\"", "var_name": "LOGO_DIR"}, {"original_string": "private static final String LOGO_NAME = \"logo.png\";", "modifier": "private static final", "type": "String", "declarator": "LOGO_NAME = \"logo.png\"", "var_name": "LOGO_NAME"}, {"original_string": "private static final Logger LOGGER = LoggerFactory.getLogger(ConfigurationLocator.class.getName());", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(ConfigurationLocator.class.getName())", "var_name": "LOGGER"}, {"original_string": "@SuppressWarnings(\"PMD.ImmutableField\")\n    private ConfigurationLocatorHelper configurationLocatorHelper;", "modifier": "@SuppressWarnings(\"PMD.ImmutableField\")\n    private", "type": "ConfigurationLocatorHelper", "declarator": "configurationLocatorHelper", "var_name": "configurationLocatorHelper"}, {"original_string": "private String defaultConfigPath;", "modifier": "private", "type": "String", "declarator": "defaultConfigPath", "var_name": "defaultConfigPath"}, {"original_string": "private static final Pattern PROPERTY_PATTERN = Pattern.compile(\"\\\\$\\\\{([^\\\\$\\\\s/\\\\{\\\\}]+)\\\\}\");", "modifier": "private static final", "type": "Pattern", "declarator": "PROPERTY_PATTERN = Pattern.compile(\"\\\\$\\\\{([^\\\\$\\\\s/\\\\{\\\\}]+)\\\\}\")", "var_name": "PROPERTY_PATTERN"}, {"original_string": "private static final Pattern ENV_VAR_PATTERN = Pattern.compile(\"\\\\$([^\\\\$\\\\W\\\\{\\\\}/]+)\");", "modifier": "private static final", "type": "Pattern", "declarator": "ENV_VAR_PATTERN = Pattern.compile(\"\\\\$([^\\\\$\\\\W\\\\{\\\\}/]+)\")", "var_name": "ENV_VAR_PATTERN"}], "methods": [{"identifier": "ConfigurationLocator", "parameters": "()", "modifiers": "public", "return": "", "signature": " ConfigurationLocator()", "full_signature": "public  ConfigurationLocator()", "class_method_signature": "ConfigurationLocator.ConfigurationLocator()", "testcase": false, "constructor": true}, {"identifier": "getCustomFilePath", "parameters": "(String filename)", "modifiers": "@SuppressWarnings(\"PMD\") // TODO It may be clearer if this returned an URI or URL instead of a String? public", "return": "String", "signature": "String getCustomFilePath(String filename)", "full_signature": "@SuppressWarnings(\"PMD\") // TODO It may be clearer if this returned an URI or URL instead of a String? public String getCustomFilePath(String filename)", "class_method_signature": "ConfigurationLocator.getCustomFilePath(String filename)", "testcase": false, "constructor": false}, {"identifier": "getFilePath", "parameters": "(String filename)", "modifiers": "public", "return": "String", "signature": "String getFilePath(String filename)", "full_signature": "public String getFilePath(String filename)", "class_method_signature": "ConfigurationLocator.getFilePath(String filename)", "testcase": false, "constructor": false}, {"identifier": "getDirectoriesToSearch", "parameters": "()", "modifiers": "private", "return": "String[]", "signature": "String[] getDirectoriesToSearch()", "full_signature": "private String[] getDirectoriesToSearch()", "class_method_signature": "ConfigurationLocator.getDirectoriesToSearch()", "testcase": false, "constructor": false}, {"identifier": "getConfigurationDirectory", "parameters": "()", "modifiers": "@SuppressWarnings({\"PMD.OnlyOneReturn\"}) public", "return": "String", "signature": "String getConfigurationDirectory()", "full_signature": "@SuppressWarnings({\"PMD.OnlyOneReturn\"}) public String getConfigurationDirectory()", "class_method_signature": "ConfigurationLocator.getConfigurationDirectory()", "testcase": false, "constructor": false}, {"identifier": "forceConfDirectoryCreation", "parameters": "()", "modifiers": "private", "return": "String", "signature": "String forceConfDirectoryCreation()", "full_signature": "private String forceConfDirectoryCreation()", "class_method_signature": "ConfigurationLocator.forceConfDirectoryCreation()", "testcase": false, "constructor": false}, {"identifier": "getConfigurationResource", "parameters": "(String name)", "modifiers": "@SuppressWarnings({\"PMD.AvoidInstantiatingObjectsInLoops\", \"PMD.OnlyOneReturn\"}) private", "return": "Resource", "signature": "Resource getConfigurationResource(String name)", "full_signature": "@SuppressWarnings({\"PMD.AvoidInstantiatingObjectsInLoops\", \"PMD.OnlyOneReturn\"}) private Resource getConfigurationResource(String name)", "class_method_signature": "ConfigurationLocator.getConfigurationResource(String name)", "testcase": false, "constructor": false}, {"identifier": "getHomeProperty", "parameters": "()", "modifiers": "private", "return": "String", "signature": "String getHomeProperty()", "full_signature": "private String getHomeProperty()", "class_method_signature": "ConfigurationLocator.getHomeProperty()", "testcase": false, "constructor": false}, {"identifier": "directoryExists", "parameters": "(String directory)", "modifiers": "private", "return": "boolean", "signature": "boolean directoryExists(String directory)", "full_signature": "private boolean directoryExists(String directory)", "class_method_signature": "ConfigurationLocator.directoryExists(String directory)", "testcase": false, "constructor": false}, {"identifier": "getFileObject", "parameters": "(String directory)", "modifiers": "private", "return": "File", "signature": "File getFileObject(String directory)", "full_signature": "private File getFileObject(String directory)", "class_method_signature": "ConfigurationLocator.getFileObject(String directory)", "testcase": false, "constructor": false}, {"identifier": "getFile", "parameters": "(String filename)", "modifiers": "private", "return": "File", "signature": "File getFile(String filename)", "full_signature": "private File getFile(String filename)", "class_method_signature": "ConfigurationLocator.getFile(String filename)", "testcase": false, "constructor": false}, {"identifier": "getResource", "parameters": "(String configurationName)", "modifiers": "public", "return": "Resource", "signature": "Resource getResource(String configurationName)", "full_signature": "public Resource getResource(String configurationName)", "class_method_signature": "ConfigurationLocator.getResource(String configurationName)", "testcase": false, "constructor": false}, {"identifier": "getUploadedMifosLogo", "parameters": "()", "modifiers": "public", "return": "Resource", "signature": "Resource getUploadedMifosLogo()", "full_signature": "public Resource getUploadedMifosLogo()", "class_method_signature": "ConfigurationLocator.getUploadedMifosLogo()", "testcase": false, "constructor": false}, {"identifier": "setConfigurationLocatorHelper", "parameters": "(ConfigurationLocatorHelper fileFactory)", "modifiers": "public", "return": "void", "signature": "void setConfigurationLocatorHelper(ConfigurationLocatorHelper fileFactory)", "full_signature": "public void setConfigurationLocatorHelper(ConfigurationLocatorHelper fileFactory)", "class_method_signature": "ConfigurationLocator.setConfigurationLocatorHelper(ConfigurationLocatorHelper fileFactory)", "testcase": false, "constructor": false}, {"identifier": "setDefaultConfigPath", "parameters": "(String path)", "modifiers": "public", "return": "void", "signature": "void setDefaultConfigPath(String path)", "full_signature": "public void setDefaultConfigPath(String path)", "class_method_signature": "ConfigurationLocator.setDefaultConfigPath(String path)", "testcase": false, "constructor": false}, {"identifier": "getDefaultConfigPath", "parameters": "()", "modifiers": "private", "return": "String", "signature": "String getDefaultConfigPath()", "full_signature": "private String getDefaultConfigPath()", "class_method_signature": "ConfigurationLocator.getDefaultConfigPath()", "testcase": false, "constructor": false}, {"identifier": "resolvePath", "parameters": "(String fileName)", "modifiers": "public", "return": "String", "signature": "String resolvePath(String fileName)", "full_signature": "public String resolvePath(String fileName)", "class_method_signature": "ConfigurationLocator.resolvePath(String fileName)", "testcase": false, "constructor": false}, {"identifier": "resolveEnvironmentProperties", "parameters": "(String fileName, StringBuilder fileBuffer)", "modifiers": "private", "return": "void", "signature": "void resolveEnvironmentProperties(String fileName, StringBuilder fileBuffer)", "full_signature": "private void resolveEnvironmentProperties(String fileName, StringBuilder fileBuffer)", "class_method_signature": "ConfigurationLocator.resolveEnvironmentProperties(String fileName, StringBuilder fileBuffer)", "testcase": false, "constructor": false}, {"identifier": "resolveHomeProperties", "parameters": "(String fileName, StringBuilder fileBuffer)", "modifiers": "private", "return": "void", "signature": "void resolveHomeProperties(String fileName, StringBuilder fileBuffer)", "full_signature": "private void resolveHomeProperties(String fileName, StringBuilder fileBuffer)", "class_method_signature": "ConfigurationLocator.resolveHomeProperties(String fileName, StringBuilder fileBuffer)", "testcase": false, "constructor": false}, {"identifier": "getLogoDirectory", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getLogoDirectory()", "full_signature": "public String getLogoDirectory()", "class_method_signature": "ConfigurationLocator.getLogoDirectory()", "testcase": false, "constructor": false}, {"identifier": "getLogoName", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getLogoName()", "full_signature": "public String getLogoName()", "class_method_signature": "ConfigurationLocator.getLogoName()", "testcase": false, "constructor": false}], "file": "common/src/main/java/org/mifos/framework/util/ConfigurationLocator.java"}, "focal_method": {"identifier": "resolvePath", "parameters": "(String fileName)", "modifiers": "public", "return": "String", "body": "public String resolvePath(String fileName) {\n        StringBuilder fileBuffer = new StringBuilder(fileName);\n        resolveHomeProperties(fileName, fileBuffer);\n        resolveEnvironmentProperties(fileName, fileBuffer);\n        return fileBuffer.toString();\n    }", "signature": "String resolvePath(String fileName)", "full_signature": "public String resolvePath(String fileName)", "class_method_signature": "ConfigurationLocator.resolvePath(String fileName)", "testcase": false, "constructor": false, "invocations": ["resolveHomeProperties", "resolveEnvironmentProperties", "toString"]}, "repository": {"repo_id": 1348716, "url": "https://github.com/mifos/head", "language": "Java", "is_fork": false, "fork_count": 91, "stargazer_count": 55, "size": 532732, "license": "licensed"}}