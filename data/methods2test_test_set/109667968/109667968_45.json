{"test_class": {"identifier": "OfflineServiceHelperTest", "superclass": "extends BaseTest", "interfaces": "", "fields": [{"original_string": "@Rule\n    public MockitoRule mockitoRule = MockitoJUnit.rule();", "modifier": "@Rule\n    public", "type": "MockitoRule", "declarator": "mockitoRule = MockitoJUnit.rule()", "var_name": "mockitoRule"}, {"original_string": "@Mock\n    private Context context;", "modifier": "@Mock\n    private", "type": "Context", "declarator": "context", "var_name": "context"}], "file": "library/src/test/java/io/ona/kujaku/helpers/OfflineServiceHelperTest.java"}, "test_case": {"identifier": "requestOfflineMapDownloadShouldCreateValidIntentAndCallStartService", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void requestOfflineMapDownloadShouldCreateValidIntentAndCallStartService() {\n        String mapName = \"kampala-map\";\n        String mapboxStyleUrl = \"mapbox://some-map\";\n        String mapboxAccessToken = \"access-token-here\";\n\n        LatLng topLeftBound = Mockito.mock(LatLng.class);\n        LatLng topRightBound = Mockito.mock(LatLng.class);\n        LatLng bottomRightBound = Mockito.mock(LatLng.class);\n        LatLng bottomLeftBound = Mockito.mock(LatLng.class);\n\n        double minZoom = 20;\n        double maxZoom = 12;\n\n        OfflineServiceHelper.ZoomRange zoomRange = new OfflineServiceHelper.ZoomRange(minZoom, maxZoom);\n\n        ArrayList<Object> results = new ArrayList<>();\n\n        Mockito.doAnswer(new Answer() {\n            @Override\n            public Object answer(InvocationOnMock invocation) throws Throwable {\n                Intent intent = invocation.getArgument(0);\n\n                results.add(intent.getStringExtra(Constants.PARCELABLE_KEY_MAP_UNIQUE_NAME));\n                results.add(intent.getStringExtra(Constants.PARCELABLE_KEY_STYLE_URL));\n                results.add(intent.getStringExtra(Constants.PARCELABLE_KEY_MAPBOX_ACCESS_TOKEN));\n                results.add(intent.getDoubleExtra(Constants.PARCELABLE_KEY_MIN_ZOOM, 0d));\n                results.add(intent.getDoubleExtra(Constants.PARCELABLE_KEY_MAX_ZOOM, 0d));\n                results.add((MapboxOfflineDownloaderService.SERVICE_ACTION) intent.getExtras().get(Constants.PARCELABLE_KEY_SERVICE_ACTION));\n                results.add(intent.getParcelableExtra(Constants.PARCELABLE_KEY_BOTTOM_LEFT_BOUND));\n                results.add(intent.getParcelableExtra(Constants.PARCELABLE_KEY_BOTTOM_RIGHT_BOUND));\n                results.add(intent.getParcelableExtra(Constants.PARCELABLE_KEY_TOP_RIGHT_BOUND));\n                results.add(intent.getParcelableExtra(Constants.PARCELABLE_KEY_TOP_LEFT_BOUND));\n\n                return null;\n            }\n        })\n                .when(context)\n                .startService(Mockito.any(Intent.class));\n\n        OfflineServiceHelper.requestOfflineMapDownload(context, mapName, mapboxStyleUrl, mapboxAccessToken\n                , topLeftBound, topRightBound, bottomRightBound, bottomLeftBound, zoomRange);\n\n        Mockito.verify(context, Mockito.times(1))\n                .startService(Mockito.any(Intent.class));\n\n        assertEquals(mapName, results.get(0));\n        assertEquals(mapboxStyleUrl, results.get(1));\n        assertEquals(mapboxAccessToken, results.get(2));\n        assertEquals(minZoom, (double) results.get(3), 0d);\n        assertEquals(maxZoom, (double) results.get(4), 0d);\n        assertEquals(MapboxOfflineDownloaderService.SERVICE_ACTION.DOWNLOAD_MAP, results.get(5));\n        assertEquals(bottomLeftBound, results.get(6));\n        assertEquals(bottomRightBound, results.get(7));\n        assertEquals(topRightBound, results.get(8));\n        assertEquals(topLeftBound, results.get(9));\n    }", "signature": "void requestOfflineMapDownloadShouldCreateValidIntentAndCallStartService()", "full_signature": "@Test public void requestOfflineMapDownloadShouldCreateValidIntentAndCallStartService()", "class_method_signature": "OfflineServiceHelperTest.requestOfflineMapDownloadShouldCreateValidIntentAndCallStartService()", "testcase": true, "constructor": false, "invocations": ["mock", "mock", "mock", "mock", "startService", "when", "doAnswer", "getArgument", "add", "getStringExtra", "add", "getStringExtra", "add", "getStringExtra", "add", "getDoubleExtra", "add", "getDoubleExtra", "add", "get", "getExtras", "add", "getParcelableExtra", "add", "getParcelableExtra", "add", "getParcelableExtra", "add", "getParcelableExtra", "any", "requestOfflineMapDownload", "startService", "verify", "times", "any", "assertEquals", "get", "assertEquals", "get", "assertEquals", "get", "assertEquals", "get", "assertEquals", "get", "assertEquals", "get", "assertEquals", "get", "assertEquals", "get", "assertEquals", "get", "assertEquals", "get"]}, "focal_class": {"identifier": "OfflineServiceHelper", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "requestOfflineMapDownload", "parameters": "(@NonNull Context context, @NonNull String mapName,\n                                          @NonNull String mapboxStyleUrl, @NonNull String mapBoxAccessToken,\n                                          @NonNull LatLng topLeftBound, @NonNull LatLng topRightBound,\n                                          @NonNull LatLng bottomRightBound, @NonNull LatLng bottomLeftBound,\n                                          @NonNull ZoomRange zoomRange)", "modifiers": "public static", "return": "void", "signature": "void requestOfflineMapDownload(@NonNull Context context, @NonNull String mapName,\n                                          @NonNull String mapboxStyleUrl, @NonNull String mapBoxAccessToken,\n                                          @NonNull LatLng topLeftBound, @NonNull LatLng topRightBound,\n                                          @NonNull LatLng bottomRightBound, @NonNull LatLng bottomLeftBound,\n                                          @NonNull ZoomRange zoomRange)", "full_signature": "public static void requestOfflineMapDownload(@NonNull Context context, @NonNull String mapName,\n                                          @NonNull String mapboxStyleUrl, @NonNull String mapBoxAccessToken,\n                                          @NonNull LatLng topLeftBound, @NonNull LatLng topRightBound,\n                                          @NonNull LatLng bottomRightBound, @NonNull LatLng bottomLeftBound,\n                                          @NonNull ZoomRange zoomRange)", "class_method_signature": "OfflineServiceHelper.requestOfflineMapDownload(@NonNull Context context, @NonNull String mapName,\n                                          @NonNull String mapboxStyleUrl, @NonNull String mapBoxAccessToken,\n                                          @NonNull LatLng topLeftBound, @NonNull LatLng topRightBound,\n                                          @NonNull LatLng bottomRightBound, @NonNull LatLng bottomLeftBound,\n                                          @NonNull ZoomRange zoomRange)", "testcase": false, "constructor": false}, {"identifier": "requestOfflineMapDownload", "parameters": "(@NonNull Context context, @NonNull String mapName,\n                                                 @NonNull String mapboxStyleUrl, @NonNull String mapBoxAccessToken,\n                                                 @NonNull LatLng topLeftBound, @NonNull LatLng topRightBound,\n                                                 @NonNull LatLng bottomRightBound, @NonNull LatLng bottomLeftBound,\n                                                 @NonNull ZoomRange zoomRange, @NonNull Long tileDownloadLimit)", "modifiers": "public static", "return": "void", "signature": "void requestOfflineMapDownload(@NonNull Context context, @NonNull String mapName,\n                                                 @NonNull String mapboxStyleUrl, @NonNull String mapBoxAccessToken,\n                                                 @NonNull LatLng topLeftBound, @NonNull LatLng topRightBound,\n                                                 @NonNull LatLng bottomRightBound, @NonNull LatLng bottomLeftBound,\n                                                 @NonNull ZoomRange zoomRange, @NonNull Long tileDownloadLimit)", "full_signature": "public static void requestOfflineMapDownload(@NonNull Context context, @NonNull String mapName,\n                                                 @NonNull String mapboxStyleUrl, @NonNull String mapBoxAccessToken,\n                                                 @NonNull LatLng topLeftBound, @NonNull LatLng topRightBound,\n                                                 @NonNull LatLng bottomRightBound, @NonNull LatLng bottomLeftBound,\n                                                 @NonNull ZoomRange zoomRange, @NonNull Long tileDownloadLimit)", "class_method_signature": "OfflineServiceHelper.requestOfflineMapDownload(@NonNull Context context, @NonNull String mapName,\n                                                 @NonNull String mapboxStyleUrl, @NonNull String mapBoxAccessToken,\n                                                 @NonNull LatLng topLeftBound, @NonNull LatLng topRightBound,\n                                                 @NonNull LatLng bottomRightBound, @NonNull LatLng bottomLeftBound,\n                                                 @NonNull ZoomRange zoomRange, @NonNull Long tileDownloadLimit)", "testcase": false, "constructor": false}, {"identifier": "deleteOfflineMap", "parameters": "(@NonNull Context context, @NonNull String mapName, @NonNull String mapBoxAccessToken)", "modifiers": "public static", "return": "void", "signature": "void deleteOfflineMap(@NonNull Context context, @NonNull String mapName, @NonNull String mapBoxAccessToken)", "full_signature": "public static void deleteOfflineMap(@NonNull Context context, @NonNull String mapName, @NonNull String mapBoxAccessToken)", "class_method_signature": "OfflineServiceHelper.deleteOfflineMap(@NonNull Context context, @NonNull String mapName, @NonNull String mapBoxAccessToken)", "testcase": false, "constructor": false}, {"identifier": "stopMapDownload", "parameters": "(@NonNull Context context, @NonNull String mapName, @NonNull String mapBoxAccessToken)", "modifiers": "public static", "return": "void", "signature": "void stopMapDownload(@NonNull Context context, @NonNull String mapName, @NonNull String mapBoxAccessToken)", "full_signature": "public static void stopMapDownload(@NonNull Context context, @NonNull String mapName, @NonNull String mapBoxAccessToken)", "class_method_signature": "OfflineServiceHelper.stopMapDownload(@NonNull Context context, @NonNull String mapName, @NonNull String mapBoxAccessToken)", "testcase": false, "constructor": false}], "file": "library/src/main/java/io/ona/kujaku/helpers/OfflineServiceHelper.java"}, "focal_method": {"identifier": "requestOfflineMapDownload", "parameters": "(@NonNull Context context, @NonNull String mapName,\n                                          @NonNull String mapboxStyleUrl, @NonNull String mapBoxAccessToken,\n                                          @NonNull LatLng topLeftBound, @NonNull LatLng topRightBound,\n                                          @NonNull LatLng bottomRightBound, @NonNull LatLng bottomLeftBound,\n                                          @NonNull ZoomRange zoomRange)", "modifiers": "public static", "return": "void", "body": "public static void requestOfflineMapDownload(@NonNull Context context, @NonNull String mapName,\n                                          @NonNull String mapboxStyleUrl, @NonNull String mapBoxAccessToken,\n                                          @NonNull LatLng topLeftBound, @NonNull LatLng topRightBound,\n                                          @NonNull LatLng bottomRightBound, @NonNull LatLng bottomLeftBound,\n                                          @NonNull ZoomRange zoomRange) {\n        requestOfflineMapDownload(context, mapName, mapboxStyleUrl, mapBoxAccessToken, topLeftBound, topRightBound, bottomRightBound, bottomLeftBound, zoomRange,6000l);\n    }", "signature": "void requestOfflineMapDownload(@NonNull Context context, @NonNull String mapName,\n                                          @NonNull String mapboxStyleUrl, @NonNull String mapBoxAccessToken,\n                                          @NonNull LatLng topLeftBound, @NonNull LatLng topRightBound,\n                                          @NonNull LatLng bottomRightBound, @NonNull LatLng bottomLeftBound,\n                                          @NonNull ZoomRange zoomRange)", "full_signature": "public static void requestOfflineMapDownload(@NonNull Context context, @NonNull String mapName,\n                                          @NonNull String mapboxStyleUrl, @NonNull String mapBoxAccessToken,\n                                          @NonNull LatLng topLeftBound, @NonNull LatLng topRightBound,\n                                          @NonNull LatLng bottomRightBound, @NonNull LatLng bottomLeftBound,\n                                          @NonNull ZoomRange zoomRange)", "class_method_signature": "OfflineServiceHelper.requestOfflineMapDownload(@NonNull Context context, @NonNull String mapName,\n                                          @NonNull String mapboxStyleUrl, @NonNull String mapBoxAccessToken,\n                                          @NonNull LatLng topLeftBound, @NonNull LatLng topRightBound,\n                                          @NonNull LatLng bottomRightBound, @NonNull LatLng bottomLeftBound,\n                                          @NonNull ZoomRange zoomRange)", "testcase": false, "constructor": false, "invocations": ["requestOfflineMapDownload"]}, "repository": {"repo_id": 109667968, "url": "https://github.com/onaio/kujaku", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 14, "size": 4778, "license": "licensed"}}