{"test_class": {"identifier": "TransactionStrategyProviderTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n    private EntityTransaction tx;", "modifier": "@Mock\n    private", "type": "EntityTransaction", "declarator": "tx", "var_name": "tx"}, {"original_string": "@Mock\n    private TestInvocation invocation;", "modifier": "@Mock\n    private", "type": "TestInvocation", "declarator": "invocation", "var_name": "invocation"}, {"original_string": "private TransactionStrategyProvider provider;", "modifier": "private", "type": "TransactionStrategyProvider", "declarator": "provider", "var_name": "provider"}], "file": "core/src/test/java/eu/drus/jpa/unit/decorator/jpa/TransactionStrategyProviderTest.java"}, "test_case": {"identifier": "testTransactionRollbackStrategyExecutionForActiveTransaction", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testTransactionRollbackStrategyExecutionForActiveTransaction() throws Throwable {\n        // GIVEN\n        when(tx.isActive()).thenReturn(Boolean.TRUE);\n        final TransactionStrategyExecutor executor = provider.rollbackStrategy();\n\n        // WHEN\n        executor.begin();\n        executor.commit();\n\n        // THEN\n        verify(tx).begin();\n        verify(tx).isActive();\n        verify(tx).rollback();\n        verifyNoMoreInteractions(tx);\n    }", "signature": "void testTransactionRollbackStrategyExecutionForActiveTransaction()", "full_signature": "@Test public void testTransactionRollbackStrategyExecutionForActiveTransaction()", "class_method_signature": "TransactionStrategyProviderTest.testTransactionRollbackStrategyExecutionForActiveTransaction()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "isActive", "rollbackStrategy", "begin", "commit", "begin", "verify", "isActive", "verify", "rollback", "verify", "verifyNoMoreInteractions"]}, "focal_class": {"identifier": "TransactionStrategyProvider", "superclass": "", "interfaces": "implements StrategyProvider<TransactionStrategyExecutor>", "fields": [{"original_string": "private final EntityTransaction tx;", "modifier": "private final", "type": "EntityTransaction", "declarator": "tx", "var_name": "tx"}], "methods": [{"identifier": "TransactionStrategyProvider", "parameters": "(final EntityTransaction tx)", "modifiers": "", "return": "", "signature": " TransactionStrategyProvider(final EntityTransaction tx)", "full_signature": "  TransactionStrategyProvider(final EntityTransaction tx)", "class_method_signature": "TransactionStrategyProvider.TransactionStrategyProvider(final EntityTransaction tx)", "testcase": false, "constructor": true}, {"identifier": "rollbackStrategy", "parameters": "()", "modifiers": "@Override public", "return": "TransactionStrategyExecutor", "signature": "TransactionStrategyExecutor rollbackStrategy()", "full_signature": "@Override public TransactionStrategyExecutor rollbackStrategy()", "class_method_signature": "TransactionStrategyProvider.rollbackStrategy()", "testcase": false, "constructor": false}, {"identifier": "commitStrategy", "parameters": "()", "modifiers": "@Override public", "return": "TransactionStrategyExecutor", "signature": "TransactionStrategyExecutor commitStrategy()", "full_signature": "@Override public TransactionStrategyExecutor commitStrategy()", "class_method_signature": "TransactionStrategyProvider.commitStrategy()", "testcase": false, "constructor": false}, {"identifier": "disabledStrategy", "parameters": "()", "modifiers": "@Override public", "return": "TransactionStrategyExecutor", "signature": "TransactionStrategyExecutor disabledStrategy()", "full_signature": "@Override public TransactionStrategyExecutor disabledStrategy()", "class_method_signature": "TransactionStrategyProvider.disabledStrategy()", "testcase": false, "constructor": false}], "file": "core/src/main/java/eu/drus/jpa/unit/decorator/jpa/TransactionStrategyProvider.java"}, "focal_method": {"identifier": "rollbackStrategy", "parameters": "()", "modifiers": "@Override public", "return": "TransactionStrategyExecutor", "body": "@Override\n    public TransactionStrategyExecutor rollbackStrategy() {\n        return new TransactionStrategyExecutor() {\n\n            @Override\n            public void begin() {\n                tx.begin();\n            }\n\n            @Override\n            public void commit() {\n                if (tx.isActive()) {\n                    tx.rollback();\n                }\n            }\n        };\n    }", "signature": "TransactionStrategyExecutor rollbackStrategy()", "full_signature": "@Override public TransactionStrategyExecutor rollbackStrategy()", "class_method_signature": "TransactionStrategyProvider.rollbackStrategy()", "testcase": false, "constructor": false, "invocations": ["begin", "isActive", "rollback"]}, "repository": {"repo_id": 52435170, "url": "https://github.com/dadrus/jpa-unit", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 24, "size": 1190, "license": "licensed"}}