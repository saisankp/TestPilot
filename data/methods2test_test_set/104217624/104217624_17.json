{"test_class": {"identifier": "RsyncTest", "superclass": "", "interfaces": "", "fields": [], "file": "rpki-validator/src/test/java/net/ripe/rpki/validator3/util/RsyncTest.java"}, "test_case": {"identifier": "should_generate_candidate_parent_rsync_uris", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void should_generate_candidate_parent_rsync_uris() {\n        assertThat(generateCandidateParentUris(URI.create(\"rsync://hostname\"))).isEmpty();\n        assertThat(generateCandidateParentUris(URI.create(\"rsync://hostname/\"))).isEmpty();\n        assertThat(generateCandidateParentUris(URI.create(\"rsync://hostname/repo\"))).containsExactlyInAnyOrder(\n            URI.create(\"rsync://hostname/\")\n        );\n        assertThat(generateCandidateParentUris(URI.create(\"rsync://hostname/repo/\"))).containsExactlyInAnyOrder(\n            URI.create(\"rsync://hostname/\")\n        );\n        assertThat(generateCandidateParentUris(URI.create(\"rsync://hostname/repo/child\"))).containsExactlyInAnyOrder(\n            URI.create(\"rsync://hostname/repo/\"),\n            URI.create(\"rsync://hostname/\")\n        );\n        assertThat(generateCandidateParentUris(URI.create(\"rsync://hostname/repo/child/\"))).containsExactlyInAnyOrder(\n            URI.create(\"rsync://hostname/repo/\"),\n            URI.create(\"rsync://hostname/\")\n        );\n    }", "signature": "void should_generate_candidate_parent_rsync_uris()", "full_signature": "@Test public void should_generate_candidate_parent_rsync_uris()", "class_method_signature": "RsyncTest.should_generate_candidate_parent_rsync_uris()", "testcase": true, "constructor": false, "invocations": ["isEmpty", "assertThat", "generateCandidateParentUris", "create", "isEmpty", "assertThat", "generateCandidateParentUris", "create", "containsExactlyInAnyOrder", "assertThat", "generateCandidateParentUris", "create", "create", "containsExactlyInAnyOrder", "assertThat", "generateCandidateParentUris", "create", "create", "containsExactlyInAnyOrder", "assertThat", "generateCandidateParentUris", "create", "create", "create", "containsExactlyInAnyOrder", "assertThat", "generateCandidateParentUris", "create", "create", "create"]}, "focal_class": {"identifier": "Rsync", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final int DEFAULT_RSYNC_PORT = 873;", "modifier": "private static final", "type": "int", "declarator": "DEFAULT_RSYNC_PORT = 873", "var_name": "DEFAULT_RSYNC_PORT"}], "methods": [{"identifier": "Rsync", "parameters": "()", "modifiers": "private", "return": "", "signature": " Rsync()", "full_signature": "private  Rsync()", "class_method_signature": "Rsync.Rsync()", "testcase": false, "constructor": true}, {"identifier": "localFileFromRsyncUri", "parameters": "(File localRsyncDirectory, URI rsyncUri)", "modifiers": "public static", "return": "File", "signature": "File localFileFromRsyncUri(File localRsyncDirectory, URI rsyncUri)", "full_signature": "public static File localFileFromRsyncUri(File localRsyncDirectory, URI rsyncUri)", "class_method_signature": "Rsync.localFileFromRsyncUri(File localRsyncDirectory, URI rsyncUri)", "testcase": false, "constructor": false}, {"identifier": "generateCandidateParentUris", "parameters": "(URI uri)", "modifiers": "public static", "return": "List<URI>", "signature": "List<URI> generateCandidateParentUris(URI uri)", "full_signature": "public static List<URI> generateCandidateParentUris(URI uri)", "class_method_signature": "Rsync.generateCandidateParentUris(URI uri)", "testcase": false, "constructor": false}], "file": "rpki-validator/src/main/java/net/ripe/rpki/validator3/util/Rsync.java"}, "focal_method": {"identifier": "generateCandidateParentUris", "parameters": "(URI uri)", "modifiers": "public static", "return": "List<URI>", "body": "public static List<URI> generateCandidateParentUris(URI uri) {\n        URI candidate = uri.normalize();\n        if (!candidate.getPath().endsWith(\"/\")) {\n            candidate = URI.create(uri.toASCIIString() + \"/\");\n        }\n\n        final List<URI> result = new ArrayList<>();\n        while (!\"/\".equals(candidate.getPath())) {\n            candidate = candidate.resolve(\"..\");\n            result.add(candidate);\n        }\n        return result;\n    }", "signature": "List<URI> generateCandidateParentUris(URI uri)", "full_signature": "public static List<URI> generateCandidateParentUris(URI uri)", "class_method_signature": "Rsync.generateCandidateParentUris(URI uri)", "testcase": false, "constructor": false, "invocations": ["normalize", "endsWith", "getPath", "create", "toASCIIString", "equals", "getPath", "resolve", "add"]}, "repository": {"repo_id": 104217624, "url": "https://github.com/RIPE-NCC/rpki-validator-3", "stars": 32, "created": "9/20/2017 1:15:05 PM +00:00", "updates": "2020-01-27T10:48:38+00:00", "fork": "False", "license": "licensed"}}