{"test_class": {"identifier": "HibernateCollectionAdapterTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static Server server;", "modifier": "private static", "type": "Server", "declarator": "server", "var_name": "server"}, {"original_string": "private static Abdera abdera = Abdera.getInstance();", "modifier": "private static", "type": "Abdera", "declarator": "abdera = Abdera.getInstance()", "var_name": "abdera"}, {"original_string": "private static AbderaClient client = new AbderaClient();", "modifier": "private static", "type": "AbderaClient", "declarator": "client = new AbderaClient()", "var_name": "client"}], "file": "adapters/hibernate/src/test/java/org/apache/abdera/protocol/server/adapters/hibernate/HibernateCollectionAdapterTest.java"}, "test_case": {"identifier": "testCreateEntry", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testCreateEntry() {\t\t\n\t\tEntry entry = abdera.newEntry();\n\t\tentry.setId(\"foo\");\n\t\tentry.setTitle(\"test entry\");\n\t\tentry.setContent(\"Test Content\");\n\t\tentry.addLink(\"http://example.org\");\n\t\tentry.setUpdated(new Date());\n\t\tentry.addAuthor(\"david\");\n\t\tClientResponse resp = client.post(\"http://localhost:9002/hibernate\", entry);\n\t\tassertNotNull(resp);\n\t\tassertEquals(ResponseType.SUCCESS, resp.getType());\n\t\tassertEquals(201, resp.getStatus());\n\t\tassertEquals(\"http://localhost:9002/hibernate/foo\", resp.getLocation().toString());\n\t\tresp = client.get(\"http://localhost:9002/hibernate\");\n\t\tDocument<Feed> feed_doc = resp.getDocument();\n\t\tFeed feed = feed_doc.getRoot();\n\t\tassertEquals(feed.getEntries().size(), 1);\n\t\tresp.release();\n\t}", "signature": "void testCreateEntry()", "full_signature": "@Test public void testCreateEntry()", "class_method_signature": "HibernateCollectionAdapterTest.testCreateEntry()", "testcase": true, "constructor": false, "invocations": ["newEntry", "setId", "setTitle", "setContent", "addLink", "setUpdated", "addAuthor", "post", "assertNotNull", "assertEquals", "getType", "assertEquals", "getStatus", "assertEquals", "toString", "getLocation", "get", "getDocument", "getRoot", "assertEquals", "size", "getEntries", "release"]}, "focal_class": {"identifier": "HibernateCollectionAdapter", "superclass": "extends BasicAdapter", "interfaces": "", "fields": [{"original_string": "private static Log logger = LogFactory.getLog(HibernateCollectionAdapter.class);", "modifier": "private static", "type": "Log", "declarator": "logger = LogFactory.getLog(HibernateCollectionAdapter.class)", "var_name": "logger"}, {"original_string": "protected static Configuration hibernateConfig;", "modifier": "protected static", "type": "Configuration", "declarator": "hibernateConfig", "var_name": "hibernateConfig"}, {"original_string": "protected static SessionFactory sessionFactory;", "modifier": "protected static", "type": "SessionFactory", "declarator": "sessionFactory", "var_name": "sessionFactory"}, {"original_string": "public static final String HIBERNATE_ANNOTATION_CONFIG = \"hibernateAnnotationConfig\";", "modifier": "public static final", "type": "String", "declarator": "HIBERNATE_ANNOTATION_CONFIG = \"hibernateAnnotationConfig\"", "var_name": "HIBERNATE_ANNOTATION_CONFIG"}, {"original_string": "public static final String HIBERNATE_CFG_PATH = \"hibernateCfgPath\";", "modifier": "public static final", "type": "String", "declarator": "HIBERNATE_CFG_PATH = \"hibernateCfgPath\"", "var_name": "HIBERNATE_CFG_PATH"}, {"original_string": "public static final String ENTRY_MAPPING_CLASS_NAME = \"entryMappingClassName\";", "modifier": "public static final", "type": "String", "declarator": "ENTRY_MAPPING_CLASS_NAME = \"entryMappingClassName\"", "var_name": "ENTRY_MAPPING_CLASS_NAME"}], "methods": [{"identifier": "HibernateCollectionAdapter", "parameters": "(Abdera abdera, FeedConfiguration config)", "modifiers": "public", "return": "", "signature": " HibernateCollectionAdapter(Abdera abdera, FeedConfiguration config)", "full_signature": "public  HibernateCollectionAdapter(Abdera abdera, FeedConfiguration config)", "class_method_signature": "HibernateCollectionAdapter.HibernateCollectionAdapter(Abdera abdera, FeedConfiguration config)", "testcase": false, "constructor": true}, {"identifier": "loadHibernateConfiguration", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void loadHibernateConfiguration()", "full_signature": "private void loadHibernateConfiguration()", "class_method_signature": "HibernateCollectionAdapter.loadHibernateConfiguration()", "testcase": false, "constructor": false}, {"identifier": "getSessionFactory", "parameters": "()", "modifiers": "protected", "return": "SessionFactory", "signature": "SessionFactory getSessionFactory()", "full_signature": "protected SessionFactory getSessionFactory()", "class_method_signature": "HibernateCollectionAdapter.getSessionFactory()", "testcase": false, "constructor": false}, {"identifier": "rebuildSessionFactory", "parameters": "(Configuration cfg)", "modifiers": "private", "return": "void", "signature": "void rebuildSessionFactory(Configuration cfg)", "full_signature": "private void rebuildSessionFactory(Configuration cfg)", "class_method_signature": "HibernateCollectionAdapter.rebuildSessionFactory(Configuration cfg)", "testcase": false, "constructor": false}, {"identifier": "createEntry", "parameters": "(Entry entry)", "modifiers": "@Override public", "return": "Entry", "signature": "Entry createEntry(Entry entry)", "full_signature": "@Override public Entry createEntry(Entry entry)", "class_method_signature": "HibernateCollectionAdapter.createEntry(Entry entry)", "testcase": false, "constructor": false}, {"identifier": "deleteEntry", "parameters": "(Object entryId)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean deleteEntry(Object entryId)", "full_signature": "@Override public boolean deleteEntry(Object entryId)", "class_method_signature": "HibernateCollectionAdapter.deleteEntry(Object entryId)", "testcase": false, "constructor": false}, {"identifier": "getEntry", "parameters": "(Object entryId)", "modifiers": "@Override public", "return": "Entry", "signature": "Entry getEntry(Object entryId)", "full_signature": "@Override public Entry getEntry(Object entryId)", "class_method_signature": "HibernateCollectionAdapter.getEntry(Object entryId)", "testcase": false, "constructor": false}, {"identifier": "getFeed", "parameters": "()", "modifiers": "@Override public", "return": "Feed", "signature": "Feed getFeed()", "full_signature": "@Override public Feed getFeed()", "class_method_signature": "HibernateCollectionAdapter.getFeed()", "testcase": false, "constructor": false}, {"identifier": "updateEntry", "parameters": "(Object entryId, Entry entry)", "modifiers": "@Override public", "return": "Entry", "signature": "Entry updateEntry(Object entryId, Entry entry)", "full_signature": "@Override public Entry updateEntry(Object entryId, Entry entry)", "class_method_signature": "HibernateCollectionAdapter.updateEntry(Object entryId, Entry entry)", "testcase": false, "constructor": false}, {"identifier": "collectMappingObject", "parameters": "(Entry entry, Object forUpdate)", "modifiers": "protected", "return": "Object", "signature": "Object collectMappingObject(Entry entry, Object forUpdate)", "full_signature": "protected Object collectMappingObject(Entry entry, Object forUpdate)", "class_method_signature": "HibernateCollectionAdapter.collectMappingObject(Entry entry, Object forUpdate)", "testcase": false, "constructor": false}, {"identifier": "collectField", "parameters": "(Field field, Class clazz, Object mappingObject, Object entryValue)", "modifiers": "protected", "return": "void", "signature": "void collectField(Field field, Class clazz, Object mappingObject, Object entryValue)", "full_signature": "protected void collectField(Field field, Class clazz, Object mappingObject, Object entryValue)", "class_method_signature": "HibernateCollectionAdapter.collectField(Field field, Class clazz, Object mappingObject, Object entryValue)", "testcase": false, "constructor": false}, {"identifier": "getSetter", "parameters": "(String fieldName)", "modifiers": "protected", "return": "String", "signature": "String getSetter(String fieldName)", "full_signature": "protected String getSetter(String fieldName)", "class_method_signature": "HibernateCollectionAdapter.getSetter(String fieldName)", "testcase": false, "constructor": false}], "file": "adapters/hibernate/src/main/java/org/apache/abdera/protocol/server/adapters/hibernate/HibernateCollectionAdapter.java"}, "focal_method": {"identifier": "createEntry", "parameters": "(Entry entry)", "modifiers": "@Override public", "return": "Entry", "body": "@Override\n\tpublic Entry createEntry(Entry entry) throws Exception {\n\t\tSession session = getSessionFactory().openSession();\n\t\tTransaction tx = session.beginTransaction();\n\t\t\n\t\tSerializable entryId = null;\n\n\t\ttry {\n\t\t\tObject mapping = collectMappingObject(entry, null);\n\t\t\tentryId = session.save(mapping);\n\t\t\t\n\t\t\ttx.commit();\n\t\t\t\t\t\t\n\t\t} catch (Exception ex) {\n\t\t\ttx.rollback();\n\t\t\tlogger.error(\"error creating a new entry\", ex);\t\t\t\n\t\t} finally {\n\t\t\tsession.close();\n\t\t}\n\t\t\n\t\treturn getEntry(entryId);\n\t}", "signature": "Entry createEntry(Entry entry)", "full_signature": "@Override public Entry createEntry(Entry entry)", "class_method_signature": "HibernateCollectionAdapter.createEntry(Entry entry)", "testcase": false, "constructor": false, "invocations": ["openSession", "getSessionFactory", "beginTransaction", "collectMappingObject", "save", "commit", "rollback", "error", "close", "getEntry"]}, "repository": {"repo_id": 206482, "url": "https://github.com/apache/abdera", "language": "Java", "is_fork": false, "fork_count": 21, "stargazer_count": 15, "size": 12255, "license": "licensed"}}