{"test_class": {"identifier": "MessageDispatcherTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private List<String> messages;", "modifier": "private", "type": "List<String>", "declarator": "messages", "var_name": "messages"}], "file": "mobius-core/src/test/java/com/spotify/mobius/MessageDispatcherTest.java"}, "test_case": {"identifier": "shouldForwardMessagesToConsumer", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void shouldForwardMessagesToConsumer() throws Exception {\n\n    new MessageDispatcher<String>(WorkRunners.immediate(), messages::add).accept(\"hey hello\");\n\n    assertThat(messages).containsExactly(\"hey hello\");\n  }", "signature": "void shouldForwardMessagesToConsumer()", "full_signature": "@Test public void shouldForwardMessagesToConsumer()", "class_method_signature": "MessageDispatcherTest.shouldForwardMessagesToConsumer()", "testcase": true, "constructor": false, "invocations": ["accept", "immediate", "containsExactly", "assertThat"]}, "focal_class": {"identifier": "MessageDispatcher", "superclass": "", "interfaces": "implements Consumer<M>, Disposable", "fields": [{"original_string": "@Nonnull private final WorkRunner runner;", "modifier": "@Nonnull private final", "type": "WorkRunner", "declarator": "runner", "var_name": "runner"}, {"original_string": "@Nonnull private final Consumer<M> consumer;", "modifier": "@Nonnull private final", "type": "Consumer<M>", "declarator": "consumer", "var_name": "consumer"}, {"original_string": "private volatile boolean disposed = false;", "modifier": "private volatile", "type": "boolean", "declarator": "disposed = false", "var_name": "disposed"}], "methods": [{"identifier": "MessageDispatcher", "parameters": "(WorkRunner runner, Consumer<M> consumer)", "modifiers": "", "return": "", "signature": " MessageDispatcher(WorkRunner runner, Consumer<M> consumer)", "full_signature": "  MessageDispatcher(WorkRunner runner, Consumer<M> consumer)", "class_method_signature": "MessageDispatcher.MessageDispatcher(WorkRunner runner, Consumer<M> consumer)", "testcase": false, "constructor": true}, {"identifier": "accept", "parameters": "(final M message)", "modifiers": "@Override public", "return": "void", "signature": "void accept(final M message)", "full_signature": "@Override public void accept(final M message)", "class_method_signature": "MessageDispatcher.accept(final M message)", "testcase": false, "constructor": false}, {"identifier": "dispose", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void dispose()", "full_signature": "@Override public void dispose()", "class_method_signature": "MessageDispatcher.dispose()", "testcase": false, "constructor": false}], "file": "mobius-core/src/main/java/com/spotify/mobius/MessageDispatcher.java"}, "focal_method": {"identifier": "accept", "parameters": "(final M message)", "modifiers": "@Override public", "return": "void", "body": "@Override\n  public void accept(final M message) {\n    if (disposed) {\n      return;\n    }\n\n    runner.post(\n        () -> {\n          try {\n            consumer.accept(message);\n          } catch (Throwable throwable) {\n            MobiusHooks.handleError(\n                new RuntimeException(\n                    \"Consumer threw an exception when accepting message: \" + message, throwable));\n          }\n        });\n  }", "signature": "void accept(final M message)", "full_signature": "@Override public void accept(final M message)", "class_method_signature": "MessageDispatcher.accept(final M message)", "testcase": false, "constructor": false, "invocations": ["post", "accept", "handleError"]}, "repository": {"repo_id": 118132535, "url": "https://github.com/spotify/mobius", "stars": 663, "created": "1/19/2018 2:07:51 PM +00:00", "updates": "2020-01-27T22:05:43+00:00", "fork": "False", "license": "licensed"}}