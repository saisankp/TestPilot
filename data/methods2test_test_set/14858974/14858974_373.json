{"test_class": {"identifier": "ModuleHandlerTest", "superclass": "", "interfaces": "", "fields": [], "file": "server/src/test/java/org/axway/grapes/server/core/ModuleHandlerTest.java"}, "test_case": {"identifier": "getVersionsOfAModule", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getVersionsOfAModule(){\n        final DbModule module = new DbModule();\n        module.setName(\"module\");\n        module.setVersion(\"1.0.0-SNAPSHOT\");\n\n        final FiltersHolder filters = mock(FiltersHolder.class);\n\n        final RepositoryHandler repositoryHandler = mock(RepositoryHandler.class);\n        when(repositoryHandler.getModuleVersions(module.getName(), filters)).thenReturn(Collections.singletonList(\"1.0.0-SNAPSHOT\"));\n        final ModuleHandler handler = new ModuleHandler(repositoryHandler);\n\n        final List<String> versions = handler.getModuleVersions(module.getName(), filters);\n\n        assertNotNull(versions);\n        assertEquals(1, versions.size());\n        assertEquals(module.getVersion(), versions.get(0));\n        verify(repositoryHandler, times(1)).getModuleVersions(module.getName(),filters);\n\n    }", "signature": "void getVersionsOfAModule()", "full_signature": "@Test public void getVersionsOfAModule()", "class_method_signature": "ModuleHandlerTest.getVersionsOfAModule()", "testcase": true, "constructor": false, "invocations": ["setName", "setVersion", "mock", "mock", "thenReturn", "when", "getModuleVersions", "getName", "singletonList", "getModuleVersions", "getName", "assertNotNull", "assertEquals", "size", "assertEquals", "getVersion", "get", "getModuleVersions", "verify", "times", "getName"]}, "focal_class": {"identifier": "ModuleHandler", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(ModuleHandler.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(ModuleHandler.class)", "var_name": "LOG"}, {"original_string": "private final RepositoryHandler repositoryHandler;", "modifier": "private final", "type": "RepositoryHandler", "declarator": "repositoryHandler", "var_name": "repositoryHandler"}, {"original_string": "private CacheAccess<String, PromotionReportView> cache = null;", "modifier": "private", "type": "CacheAccess<String, PromotionReportView>", "declarator": "cache = null", "var_name": "cache"}, {"original_string": "private CacheUtils cacheUtils = new CacheUtils();", "modifier": "private", "type": "CacheUtils", "declarator": "cacheUtils = new CacheUtils()", "var_name": "cacheUtils"}, {"original_string": "private LicenseMatcher licenseMatcher;", "modifier": "private", "type": "LicenseMatcher", "declarator": "licenseMatcher", "var_name": "licenseMatcher"}], "methods": [{"identifier": "ModuleHandler", "parameters": "(final RepositoryHandler repositoryHandler)", "modifiers": "public", "return": "", "signature": " ModuleHandler(final RepositoryHandler repositoryHandler)", "full_signature": "public  ModuleHandler(final RepositoryHandler repositoryHandler)", "class_method_signature": "ModuleHandler.ModuleHandler(final RepositoryHandler repositoryHandler)", "testcase": false, "constructor": true}, {"identifier": "store", "parameters": "(final DbModule dbModule)", "modifiers": "public", "return": "void", "signature": "void store(final DbModule dbModule)", "full_signature": "public void store(final DbModule dbModule)", "class_method_signature": "ModuleHandler.store(final DbModule dbModule)", "testcase": false, "constructor": false}, {"identifier": "getModuleNames", "parameters": "(final FiltersHolder filters)", "modifiers": "public", "return": "List<String>", "signature": "List<String> getModuleNames(final FiltersHolder filters)", "full_signature": "public List<String> getModuleNames(final FiltersHolder filters)", "class_method_signature": "ModuleHandler.getModuleNames(final FiltersHolder filters)", "testcase": false, "constructor": false}, {"identifier": "getModuleVersions", "parameters": "(final String name, final FiltersHolder filters)", "modifiers": "public", "return": "List<String>", "signature": "List<String> getModuleVersions(final String name, final FiltersHolder filters)", "full_signature": "public List<String> getModuleVersions(final String name, final FiltersHolder filters)", "class_method_signature": "ModuleHandler.getModuleVersions(final String name, final FiltersHolder filters)", "testcase": false, "constructor": false}, {"identifier": "getModule", "parameters": "(final String moduleId)", "modifiers": "public", "return": "DbModule", "signature": "DbModule getModule(final String moduleId)", "full_signature": "public DbModule getModule(final String moduleId)", "class_method_signature": "ModuleHandler.getModule(final String moduleId)", "testcase": false, "constructor": false}, {"identifier": "deleteModule", "parameters": "(final String moduleId)", "modifiers": "public", "return": "void", "signature": "void deleteModule(final String moduleId)", "full_signature": "public void deleteModule(final String moduleId)", "class_method_signature": "ModuleHandler.deleteModule(final String moduleId)", "testcase": false, "constructor": false}, {"identifier": "getModuleLicenses", "parameters": "(final String moduleId,\n                                             final LicenseMatcher licenseMatcher)", "modifiers": "public", "return": "List<DbLicense>", "signature": "List<DbLicense> getModuleLicenses(final String moduleId,\n                                             final LicenseMatcher licenseMatcher)", "full_signature": "public List<DbLicense> getModuleLicenses(final String moduleId,\n                                             final LicenseMatcher licenseMatcher)", "class_method_signature": "ModuleHandler.getModuleLicenses(final String moduleId,\n                                             final LicenseMatcher licenseMatcher)", "testcase": false, "constructor": false}, {"identifier": "promoteModule", "parameters": "(final String moduleId)", "modifiers": "public", "return": "void", "signature": "void promoteModule(final String moduleId)", "full_signature": "public void promoteModule(final String moduleId)", "class_method_signature": "ModuleHandler.promoteModule(final String moduleId)", "testcase": false, "constructor": false}, {"identifier": "getPromotionReport", "parameters": "(final String moduleId)", "modifiers": "public", "return": "PromotionReportView", "signature": "PromotionReportView getPromotionReport(final String moduleId)", "full_signature": "public PromotionReportView getPromotionReport(final String moduleId)", "class_method_signature": "ModuleHandler.getPromotionReport(final String moduleId)", "testcase": false, "constructor": false}, {"identifier": "removeDuplicates", "parameters": "(List<Dependency> deps)", "modifiers": "private", "return": "void", "signature": "void removeDuplicates(List<Dependency> deps)", "full_signature": "private void removeDuplicates(List<Dependency> deps)", "class_method_signature": "ModuleHandler.removeDuplicates(List<Dependency> deps)", "testcase": false, "constructor": false}, {"identifier": "getOrganization", "parameters": "(final DbModule module)", "modifiers": "public", "return": "DbOrganization", "signature": "DbOrganization getOrganization(final DbModule module)", "full_signature": "public DbOrganization getOrganization(final DbModule module)", "class_method_signature": "ModuleHandler.getOrganization(final DbModule module)", "testcase": false, "constructor": false}, {"identifier": "getModules", "parameters": "(final FiltersHolder filters)", "modifiers": "public", "return": "List<DbModule>", "signature": "List<DbModule> getModules(final FiltersHolder filters)", "full_signature": "public List<DbModule> getModules(final FiltersHolder filters)", "class_method_signature": "ModuleHandler.getModules(final FiltersHolder filters)", "testcase": false, "constructor": false}], "file": "server/src/main/java/org/axway/grapes/server/core/ModuleHandler.java"}, "focal_method": {"identifier": "getModuleVersions", "parameters": "(final String name, final FiltersHolder filters)", "modifiers": "public", "return": "List<String>", "body": "public List<String> getModuleVersions(final String name, final FiltersHolder filters) {\n        final List<String> versions = repositoryHandler.getModuleVersions(name, filters);\n\n        if (versions.isEmpty()) {\n            throw new WebApplicationException(Response.status(Response.Status.NOT_FOUND)\n                    .entity(\"Module \" + name + \" does not exist.\").build());\n        }\n\n        return versions;\n    }", "signature": "List<String> getModuleVersions(final String name, final FiltersHolder filters)", "full_signature": "public List<String> getModuleVersions(final String name, final FiltersHolder filters)", "class_method_signature": "ModuleHandler.getModuleVersions(final String name, final FiltersHolder filters)", "testcase": false, "constructor": false, "invocations": ["getModuleVersions", "isEmpty", "build", "entity", "status"]}, "repository": {"repo_id": 14858974, "url": "https://github.com/Axway/Grapes", "language": "Java", "is_fork": false, "fork_count": 9, "stargazer_count": 8, "size": 3620, "license": "licensed"}}