{"test_class": {"identifier": "TimestampWithTimezoneTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static DateFormat DATETIME_FORMAT = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");", "modifier": "public static", "type": "DateFormat", "declarator": "DATETIME_FORMAT = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\")", "var_name": "DATETIME_FORMAT"}, {"original_string": "public static DateFormat DATE_FORMAT = new SimpleDateFormat(\"yyyy-MM-dd\");", "modifier": "public static", "type": "DateFormat", "declarator": "DATE_FORMAT = new SimpleDateFormat(\"yyyy-MM-dd\")", "var_name": "DATE_FORMAT"}, {"original_string": "public static DateFormat TIME_FORMAT = new SimpleDateFormat(\"hh:mm:ss a\");", "modifier": "public static", "type": "DateFormat", "declarator": "TIME_FORMAT = new SimpleDateFormat(\"hh:mm:ss a\")", "var_name": "TIME_FORMAT"}], "file": "modeshape-jdbc-local/src/test/java/org/modeshape/jdbc/util/TimestampWithTimezoneTest.java"}, "test_case": {"identifier": "testCreateDate", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testCreateDate() {\n        GregorianCalendar cal_target = new GregorianCalendar();\n        cal_target.set(2004, Calendar.JUNE, 30, 0, 0, 00);\n        cal_target.set(Calendar.MILLISECOND, 0);\n\n        Date date = TimestampWithTimezone.createDate(cal_target);\n\n        Calendar cal = Calendar.getInstance();\n\n        cal.setTimeInMillis(date.getTime());\n\n        assertThat(cal.get(Calendar.HOUR_OF_DAY), is(0));\n        assertThat(cal.get(Calendar.MINUTE), is(0));\n        assertThat(cal.get(Calendar.SECOND), is(0));\n        assertThat(cal.get(Calendar.MILLISECOND), is(0));\n        assertThat(cal.get(Calendar.YEAR), is(2004));\n        assertThat(cal.get(Calendar.MONTH), is(Calendar.JUNE));\n        assertThat(cal.get(Calendar.DATE), is(30));\n\n    }", "signature": "void testCreateDate()", "full_signature": "@Test public void testCreateDate()", "class_method_signature": "TimestampWithTimezoneTest.testCreateDate()", "testcase": true, "constructor": false, "invocations": ["set", "set", "createDate", "getInstance", "setTimeInMillis", "getTime", "assertThat", "get", "is", "assertThat", "get", "is", "assertThat", "get", "is", "assertThat", "get", "is", "assertThat", "get", "is", "assertThat", "get", "is", "assertThat", "get", "is"]}, "focal_class": {"identifier": "TimestampWithTimezone", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static DateFormat DATETIME_FORMAT = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");", "modifier": "public static", "type": "DateFormat", "declarator": "DATETIME_FORMAT = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\")", "var_name": "DATETIME_FORMAT"}, {"original_string": "public static DateFormat DATE_FORMAT = new SimpleDateFormat(\"yyyy-MM-dd\");", "modifier": "public static", "type": "DateFormat", "declarator": "DATE_FORMAT = new SimpleDateFormat(\"yyyy-MM-dd\")", "var_name": "DATE_FORMAT"}, {"original_string": "public static DateFormat TIME_FORMAT = new SimpleDateFormat(\"HH:mm:ss a\");", "modifier": "public static", "type": "DateFormat", "declarator": "TIME_FORMAT = new SimpleDateFormat(\"HH:mm:ss a\")", "var_name": "TIME_FORMAT"}, {"original_string": "private static ThreadLocal<Calendar> CALENDAR = new ThreadLocal<Calendar>() {\n        @Override\n        protected Calendar initialValue() {\n            return Calendar.getInstance();\n        }\n    };", "modifier": "private static", "type": "ThreadLocal<Calendar>", "declarator": "CALENDAR = new ThreadLocal<Calendar>() {\n        @Override\n        protected Calendar initialValue() {\n            return Calendar.getInstance();\n        }\n    }", "var_name": "CALENDAR"}], "methods": [{"identifier": "getCalendar", "parameters": "()", "modifiers": "public static", "return": "Calendar", "signature": "Calendar getCalendar()", "full_signature": "public static Calendar getCalendar()", "class_method_signature": "TimestampWithTimezone.getCalendar()", "testcase": false, "constructor": false}, {"identifier": "resetCalendar", "parameters": "( TimeZone tz )", "modifiers": "public static", "return": "void", "signature": "void resetCalendar( TimeZone tz )", "full_signature": "public static void resetCalendar( TimeZone tz )", "class_method_signature": "TimestampWithTimezone.resetCalendar( TimeZone tz )", "testcase": false, "constructor": false}, {"identifier": "createTimestamp", "parameters": "( Calendar initial,\n                                             Calendar target )", "modifiers": "public static", "return": "Timestamp", "signature": "Timestamp createTimestamp( Calendar initial,\n                                             Calendar target )", "full_signature": "public static Timestamp createTimestamp( Calendar initial,\n                                             Calendar target )", "class_method_signature": "TimestampWithTimezone.createTimestamp( Calendar initial,\n                                             Calendar target )", "testcase": false, "constructor": false}, {"identifier": "createTime", "parameters": "( Calendar initial,\n                                   Calendar target )", "modifiers": "public static", "return": "Time", "signature": "Time createTime( Calendar initial,\n                                   Calendar target )", "full_signature": "public static Time createTime( Calendar initial,\n                                   Calendar target )", "class_method_signature": "TimestampWithTimezone.createTime( Calendar initial,\n                                   Calendar target )", "testcase": false, "constructor": false}, {"identifier": "createDate", "parameters": "( Calendar initial,\n                                   Calendar target )", "modifiers": "public static", "return": "Date", "signature": "Date createDate( Calendar initial,\n                                   Calendar target )", "full_signature": "public static Date createDate( Calendar initial,\n                                   Calendar target )", "class_method_signature": "TimestampWithTimezone.createDate( Calendar initial,\n                                   Calendar target )", "testcase": false, "constructor": false}, {"identifier": "createTime", "parameters": "( Calendar target )", "modifiers": "public static", "return": "Time", "signature": "Time createTime( Calendar target )", "full_signature": "public static Time createTime( Calendar target )", "class_method_signature": "TimestampWithTimezone.createTime( Calendar target )", "testcase": false, "constructor": false}, {"identifier": "createDate", "parameters": "( Calendar target )", "modifiers": "public static", "return": "Date", "signature": "Date createDate( Calendar target )", "full_signature": "public static Date createDate( Calendar target )", "class_method_signature": "TimestampWithTimezone.createDate( Calendar target )", "testcase": false, "constructor": false}, {"identifier": "createTimestamp", "parameters": "( Calendar target )", "modifiers": "public static", "return": "Timestamp", "signature": "Timestamp createTimestamp( Calendar target )", "full_signature": "public static Timestamp createTimestamp( Calendar target )", "class_method_signature": "TimestampWithTimezone.createTimestamp( Calendar target )", "testcase": false, "constructor": false}, {"identifier": "normalizeDate", "parameters": "( Calendar target,\n                                       boolean isDate )", "modifiers": "private static", "return": "Date", "signature": "Date normalizeDate( Calendar target,\n                                       boolean isDate )", "full_signature": "private static Date normalizeDate( Calendar target,\n                                       boolean isDate )", "class_method_signature": "TimestampWithTimezone.normalizeDate( Calendar target,\n                                       boolean isDate )", "testcase": false, "constructor": false}, {"identifier": "adjustCalendarForTime", "parameters": "( Calendar initial,\n                                               Calendar target )", "modifiers": "private static", "return": "void", "signature": "void adjustCalendarForTime( Calendar initial,\n                                               Calendar target )", "full_signature": "private static void adjustCalendarForTime( Calendar initial,\n                                               Calendar target )", "class_method_signature": "TimestampWithTimezone.adjustCalendarForTime( Calendar initial,\n                                               Calendar target )", "testcase": false, "constructor": false}, {"identifier": "adjustCalendarForDate", "parameters": "( Calendar initial,\n                                                   Calendar target )", "modifiers": "private static", "return": "Calendar", "signature": "Calendar adjustCalendarForDate( Calendar initial,\n                                                   Calendar target )", "full_signature": "private static Calendar adjustCalendarForDate( Calendar initial,\n                                                   Calendar target )", "class_method_signature": "TimestampWithTimezone.adjustCalendarForDate( Calendar initial,\n                                                   Calendar target )", "testcase": false, "constructor": false}, {"identifier": "adjustCalendarForTimeStamp", "parameters": "( Calendar initial,\n                                                        Calendar target )", "modifiers": "private static", "return": "Calendar", "signature": "Calendar adjustCalendarForTimeStamp( Calendar initial,\n                                                        Calendar target )", "full_signature": "private static Calendar adjustCalendarForTimeStamp( Calendar initial,\n                                                        Calendar target )", "class_method_signature": "TimestampWithTimezone.adjustCalendarForTimeStamp( Calendar initial,\n                                                        Calendar target )", "testcase": false, "constructor": false}], "file": "modeshape-jdbc-local/src/main/java/org/modeshape/jdbc/util/TimestampWithTimezone.java"}, "focal_method": {"identifier": "createDate", "parameters": "( Calendar initial,\n                                   Calendar target )", "modifiers": "public static", "return": "Date", "body": "public static Date createDate( Calendar initial,\n                                   Calendar target ) {\n        if (target == null) {\n            return createDate(initial);\n        }\n\n        long time = target.getTimeInMillis();\n\n        target = adjustCalendarForDate(initial, target);\n\n        Date result = normalizeDate(target, true);\n\n        target.setTimeInMillis(time);\n\n        return result;\n    }", "signature": "Date createDate( Calendar initial,\n                                   Calendar target )", "full_signature": "public static Date createDate( Calendar initial,\n                                   Calendar target )", "class_method_signature": "TimestampWithTimezone.createDate( Calendar initial,\n                                   Calendar target )", "testcase": false, "constructor": false, "invocations": ["createDate", "getTimeInMillis", "adjustCalendarForDate", "normalizeDate", "setTimeInMillis"]}, "repository": {"repo_id": 1244027, "url": "https://github.com/ModeShape/modeshape", "language": "Java", "is_fork": false, "fork_count": 213, "stargazer_count": 208, "size": 134266, "license": "licensed"}}