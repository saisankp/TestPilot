{"test_class": {"identifier": "MetadataResourceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final org.slf4j.Logger log = LoggerFactory.getLogger(MetadataResourceTest.class);", "modifier": "private static final", "type": "org.slf4j.Logger", "declarator": "log = LoggerFactory.getLogger(MetadataResourceTest.class)", "var_name": "log"}, {"original_string": "private static String BTxml = \"Boston_transects.xml\";", "modifier": "private static", "type": "String", "declarator": "BTxml = \"Boston_transects.xml\"", "var_name": "BTxml"}], "file": "coastal-hazards-portal/src/test/java/gov/usgs/cida/coastalhazards/rest/data/MetadataResourceTest.java"}, "test_case": {"identifier": "testGetMetadataWithoutCswBTXml", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetMetadataWithoutCswBTXml() throws IOException {\n        System.out.println(\"testGetMetadataWithoutCswBTXml\");\n\n        //get the metadata from the test file as a string using this package to locate it ...\n        String packageName = this.getClass().getCanonicalName();\n        System.out.println(\"PackageName: \" + packageName); //PackageName: gov.usgs.cida.coastalhazards.rest.data.MetadataResourceTest\n        // this is where the test resource is located - gov.usgs.cida.coastalhazards.rest.data + /Boston_transects.xml\n        String replaced = packageName.replaceAll(\"[.]\", \"/\");\n        String[] names = replaced.split(\"/MetadataResourceTest\");\n        String packageNameShort = names[0];\n        \n        String testFileFullName = packageNameShort + \"/\" + BTxml;\n\n        String metadataXml = loadResourceAsString(testFileFullName);\n\n        MetadataResource mr = new MetadataResource();\n        Response resp = mr.getMetadata(null, metadataXml);\n        \n        System.out.println(\"Response: \" + resp.getEntity());\n        \n        Map<String,Object> gsonResp = GsonUtil.getDefault().fromJson((String) resp.getEntity(), Map.class);\n        \n        assertEquals(7,gsonResp.size());\n    }", "signature": "void testGetMetadataWithoutCswBTXml()", "full_signature": "@Test public void testGetMetadataWithoutCswBTXml()", "class_method_signature": "MetadataResourceTest.testGetMetadataWithoutCswBTXml()", "testcase": true, "constructor": false, "invocations": ["println", "getCanonicalName", "getClass", "println", "replaceAll", "split", "loadResourceAsString", "getMetadata", "println", "getEntity", "fromJson", "getDefault", "getEntity", "assertEquals", "size"]}, "focal_class": {"identifier": "MetadataResource", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "getMetadata", "parameters": "(@Context HttpServletRequest req, @FormDataParam(\"file\") String postBody)", "modifiers": "@POST @Produces(MediaType.APPLICATION_JSON) @ConfiguredRolesAllowed(ConfiguredRolesAllowedDynamicFeature.CCH_ADMIN_USER_PROP) public", "return": "Response", "signature": "Response getMetadata(@Context HttpServletRequest req, @FormDataParam(\"file\") String postBody)", "full_signature": "@POST @Produces(MediaType.APPLICATION_JSON) @ConfiguredRolesAllowed(ConfiguredRolesAllowedDynamicFeature.CCH_ADMIN_USER_PROP) public Response getMetadata(@Context HttpServletRequest req, @FormDataParam(\"file\") String postBody)", "class_method_signature": "MetadataResource.getMetadata(@Context HttpServletRequest req, @FormDataParam(\"file\") String postBody)", "testcase": false, "constructor": false}], "file": "coastal-hazards-portal/src/main/java/gov/usgs/cida/coastalhazards/rest/data/MetadataResource.java"}, "focal_method": {"identifier": "getMetadata", "parameters": "(@Context HttpServletRequest req, @FormDataParam(\"file\") String postBody)", "modifiers": "@POST @Produces(MediaType.APPLICATION_JSON) @ConfiguredRolesAllowed(ConfiguredRolesAllowedDynamicFeature.CCH_ADMIN_USER_PROP) public", "return": "Response", "body": "@POST\n\t@Produces(MediaType.APPLICATION_JSON)\n\t@ConfiguredRolesAllowed(ConfiguredRolesAllowedDynamicFeature.CCH_ADMIN_USER_PROP)\n\tpublic Response getMetadata(@Context HttpServletRequest req, @FormDataParam(\"file\") String postBody) {\n\t\tParsedMetadata result = MetadataUtil.parseMetadataXmlFile(postBody);\n\n\t\tif(result != null) {\n\t\t\treturn Response.ok(GsonUtil.getDefault().toJson(result)).build();\n\t\t}\n\t\treturn Response.status(HttpStatus.SC_INTERNAL_SERVER_ERROR).build();\n\t}", "signature": "Response getMetadata(@Context HttpServletRequest req, @FormDataParam(\"file\") String postBody)", "full_signature": "@POST @Produces(MediaType.APPLICATION_JSON) @ConfiguredRolesAllowed(ConfiguredRolesAllowedDynamicFeature.CCH_ADMIN_USER_PROP) public Response getMetadata(@Context HttpServletRequest req, @FormDataParam(\"file\") String postBody)", "class_method_signature": "MetadataResource.getMetadata(@Context HttpServletRequest req, @FormDataParam(\"file\") String postBody)", "testcase": false, "constructor": false, "invocations": ["parseMetadataXmlFile", "build", "ok", "toJson", "getDefault", "build", "status"]}, "repository": {"repo_id": 6888625, "url": "https://github.com/USGS-CIDA/coastal-hazards", "language": "Java", "is_fork": false, "fork_count": 28, "stargazer_count": 5, "size": 37212, "license": "licensed"}}