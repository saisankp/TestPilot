{"test_class": {"identifier": "EmrHelperTest", "superclass": "extends AbstractDaoTest", "interfaces": "", "fields": [{"original_string": "@Autowired\n    EmrHelper emrHelper;", "modifier": "@Autowired", "type": "EmrHelper", "declarator": "emrHelper", "var_name": "emrHelper"}], "file": "herd-code/herd-dao/src/test/java/org/finra/herd/dao/helper/EmrHelperTest.java"}, "test_case": {"identifier": "testEmrHadoopJarStepConfigContinueOnError", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testEmrHadoopJarStepConfigContinueOnError()\n    {\n        StepConfig stepConfig = emrHelper.getEmrHadoopJarStepConfig(\"step_name\", \"jar_location\", null, null, true);\n\n        assertNotNull(\"step not retuned\", stepConfig);\n\n        assertEquals(\"name not found\", \"step_name\", stepConfig.getName());\n        assertEquals(\"jar not found\", \"jar_location\", stepConfig.getHadoopJarStep().getJar());\n    }", "signature": "void testEmrHadoopJarStepConfigContinueOnError()", "full_signature": "@Test public void testEmrHadoopJarStepConfigContinueOnError()", "class_method_signature": "EmrHelperTest.testEmrHadoopJarStepConfigContinueOnError()", "testcase": true, "constructor": false, "invocations": ["getEmrHadoopJarStepConfig", "assertNotNull", "assertEquals", "getName", "assertEquals", "getJar", "getHadoopJarStep"]}, "focal_class": {"identifier": "EmrHelper", "superclass": "extends AwsHelper", "interfaces": "", "fields": [{"original_string": "@Autowired\n    private EmrDao emrDao;", "modifier": "@Autowired\n    private", "type": "EmrDao", "declarator": "emrDao", "var_name": "emrDao"}, {"original_string": "@Autowired\n    private StsDao stsDao;", "modifier": "@Autowired\n    private", "type": "StsDao", "declarator": "stsDao", "var_name": "stsDao"}, {"original_string": "@Autowired\n    private TrustingAccountDaoHelper trustingAccountDaoHelper;", "modifier": "@Autowired\n    private", "type": "TrustingAccountDaoHelper", "declarator": "trustingAccountDaoHelper", "var_name": "trustingAccountDaoHelper"}], "methods": [{"identifier": "buildEmrClusterName", "parameters": "(String namespaceCd, String emrDefinitionName, String clusterName)", "modifiers": "public", "return": "String", "signature": "String buildEmrClusterName(String namespaceCd, String emrDefinitionName, String clusterName)", "full_signature": "public String buildEmrClusterName(String namespaceCd, String emrDefinitionName, String clusterName)", "class_method_signature": "EmrHelper.buildEmrClusterName(String namespaceCd, String emrDefinitionName, String clusterName)", "testcase": false, "constructor": false}, {"identifier": "getActiveEmrClusterId", "parameters": "(String emrClusterId, String emrClusterName, String accountId)", "modifiers": "public", "return": "String", "signature": "String getActiveEmrClusterId(String emrClusterId, String emrClusterName, String accountId)", "full_signature": "public String getActiveEmrClusterId(String emrClusterId, String emrClusterName, String accountId)", "class_method_signature": "EmrHelper.getActiveEmrClusterId(String emrClusterId, String emrClusterName, String accountId)", "testcase": false, "constructor": false}, {"identifier": "getEmrParamsDtoByAccountId", "parameters": "(String accountId)", "modifiers": "public", "return": "EmrParamsDto", "signature": "EmrParamsDto getEmrParamsDtoByAccountId(String accountId)", "full_signature": "public EmrParamsDto getEmrParamsDtoByAccountId(String accountId)", "class_method_signature": "EmrHelper.getEmrParamsDtoByAccountId(String accountId)", "testcase": false, "constructor": false}, {"identifier": "getEmrDao", "parameters": "()", "modifiers": "public", "return": "EmrDao", "signature": "EmrDao getEmrDao()", "full_signature": "public EmrDao getEmrDao()", "class_method_signature": "EmrHelper.getEmrDao()", "testcase": false, "constructor": false}, {"identifier": "setEmrDao", "parameters": "(EmrDao emrDao)", "modifiers": "public", "return": "void", "signature": "void setEmrDao(EmrDao emrDao)", "full_signature": "public void setEmrDao(EmrDao emrDao)", "class_method_signature": "EmrHelper.setEmrDao(EmrDao emrDao)", "testcase": false, "constructor": false}, {"identifier": "getEmrHadoopJarStepConfig", "parameters": "(String stepName, String jarLocation, String mainClass, List<String> scriptArguments, Boolean isContinueOnError)", "modifiers": "public", "return": "StepConfig", "signature": "StepConfig getEmrHadoopJarStepConfig(String stepName, String jarLocation, String mainClass, List<String> scriptArguments, Boolean isContinueOnError)", "full_signature": "public StepConfig getEmrHadoopJarStepConfig(String stepName, String jarLocation, String mainClass, List<String> scriptArguments, Boolean isContinueOnError)", "class_method_signature": "EmrHelper.getEmrHadoopJarStepConfig(String stepName, String jarLocation, String mainClass, List<String> scriptArguments, Boolean isContinueOnError)", "testcase": false, "constructor": false}, {"identifier": "getS3StagingLocation", "parameters": "(String trustingAccountStagingBucketName)", "modifiers": "public", "return": "String", "signature": "String getS3StagingLocation(String trustingAccountStagingBucketName)", "full_signature": "public String getS3StagingLocation(String trustingAccountStagingBucketName)", "class_method_signature": "EmrHelper.getS3StagingLocation(String trustingAccountStagingBucketName)", "testcase": false, "constructor": false}, {"identifier": "isActiveEmrState", "parameters": "(String status)", "modifiers": "public", "return": "boolean", "signature": "boolean isActiveEmrState(String status)", "full_signature": "public boolean isActiveEmrState(String status)", "class_method_signature": "EmrHelper.isActiveEmrState(String status)", "testcase": false, "constructor": false}, {"identifier": "isInstanceDefinitionsEmpty", "parameters": "(InstanceDefinitions instanceDefinitions)", "modifiers": "public", "return": "boolean", "signature": "boolean isInstanceDefinitionsEmpty(InstanceDefinitions instanceDefinitions)", "full_signature": "public boolean isInstanceDefinitionsEmpty(InstanceDefinitions instanceDefinitions)", "class_method_signature": "EmrHelper.isInstanceDefinitionsEmpty(InstanceDefinitions instanceDefinitions)", "testcase": false, "constructor": false}, {"identifier": "getActiveEmrClusterStates", "parameters": "()", "modifiers": "private", "return": "String[]", "signature": "String[] getActiveEmrClusterStates()", "full_signature": "private String[] getActiveEmrClusterStates()", "class_method_signature": "EmrHelper.getActiveEmrClusterStates()", "testcase": false, "constructor": false}, {"identifier": "updateEmrParamsForCrossAccountAccess", "parameters": "(EmrParamsDto emrParamsDto, String accountId)", "modifiers": "private", "return": "void", "signature": "void updateEmrParamsForCrossAccountAccess(EmrParamsDto emrParamsDto, String accountId)", "full_signature": "private void updateEmrParamsForCrossAccountAccess(EmrParamsDto emrParamsDto, String accountId)", "class_method_signature": "EmrHelper.updateEmrParamsForCrossAccountAccess(EmrParamsDto emrParamsDto, String accountId)", "testcase": false, "constructor": false}, {"identifier": "buildEmrClusterInstanceFleetFromAwsResult", "parameters": "(ListInstanceFleetsResult awsInstanceFleetsResult)", "modifiers": "public", "return": "List<EmrClusterInstanceFleet>", "signature": "List<EmrClusterInstanceFleet> buildEmrClusterInstanceFleetFromAwsResult(ListInstanceFleetsResult awsInstanceFleetsResult)", "full_signature": "public List<EmrClusterInstanceFleet> buildEmrClusterInstanceFleetFromAwsResult(ListInstanceFleetsResult awsInstanceFleetsResult)", "class_method_signature": "EmrHelper.buildEmrClusterInstanceFleetFromAwsResult(ListInstanceFleetsResult awsInstanceFleetsResult)", "testcase": false, "constructor": false}, {"identifier": "getEmrClusterInstanceFleetStatus", "parameters": "(InstanceFleetStatus instanceFleetStatus)", "modifiers": "protected", "return": "EmrClusterInstanceFleetStatus", "signature": "EmrClusterInstanceFleetStatus getEmrClusterInstanceFleetStatus(InstanceFleetStatus instanceFleetStatus)", "full_signature": "protected EmrClusterInstanceFleetStatus getEmrClusterInstanceFleetStatus(InstanceFleetStatus instanceFleetStatus)", "class_method_signature": "EmrHelper.getEmrClusterInstanceFleetStatus(InstanceFleetStatus instanceFleetStatus)", "testcase": false, "constructor": false}, {"identifier": "getLaunchSpecifications", "parameters": "(\n        InstanceFleetProvisioningSpecifications instanceFleetProvisioningSpecifications)", "modifiers": "protected", "return": "EmrClusterInstanceFleetProvisioningSpecifications", "signature": "EmrClusterInstanceFleetProvisioningSpecifications getLaunchSpecifications(\n        InstanceFleetProvisioningSpecifications instanceFleetProvisioningSpecifications)", "full_signature": "protected EmrClusterInstanceFleetProvisioningSpecifications getLaunchSpecifications(\n        InstanceFleetProvisioningSpecifications instanceFleetProvisioningSpecifications)", "class_method_signature": "EmrHelper.getLaunchSpecifications(\n        InstanceFleetProvisioningSpecifications instanceFleetProvisioningSpecifications)", "testcase": false, "constructor": false}, {"identifier": "getSpotSpecification", "parameters": "(SpotProvisioningSpecification spotProvisioningSpecification)", "modifiers": "protected", "return": "EmrClusterSpotProvisioningSpecification", "signature": "EmrClusterSpotProvisioningSpecification getSpotSpecification(SpotProvisioningSpecification spotProvisioningSpecification)", "full_signature": "protected EmrClusterSpotProvisioningSpecification getSpotSpecification(SpotProvisioningSpecification spotProvisioningSpecification)", "class_method_signature": "EmrHelper.getSpotSpecification(SpotProvisioningSpecification spotProvisioningSpecification)", "testcase": false, "constructor": false}, {"identifier": "getEbsBlockDevices", "parameters": "(List<EbsBlockDevice> ebsBlockDevices)", "modifiers": "protected", "return": "List<EmrClusterEbsBlockDevice>", "signature": "List<EmrClusterEbsBlockDevice> getEbsBlockDevices(List<EbsBlockDevice> ebsBlockDevices)", "full_signature": "protected List<EmrClusterEbsBlockDevice> getEbsBlockDevices(List<EbsBlockDevice> ebsBlockDevices)", "class_method_signature": "EmrHelper.getEbsBlockDevices(List<EbsBlockDevice> ebsBlockDevices)", "testcase": false, "constructor": false}, {"identifier": "getVolumeSpecification", "parameters": "(VolumeSpecification volumeSpecification)", "modifiers": "protected", "return": "EmrClusterVolumeSpecification", "signature": "EmrClusterVolumeSpecification getVolumeSpecification(VolumeSpecification volumeSpecification)", "full_signature": "protected EmrClusterVolumeSpecification getVolumeSpecification(VolumeSpecification volumeSpecification)", "class_method_signature": "EmrHelper.getVolumeSpecification(VolumeSpecification volumeSpecification)", "testcase": false, "constructor": false}, {"identifier": "getInstanceTypeSpecifications", "parameters": "(List<InstanceTypeSpecification> awsInstanceTypeConfigs)", "modifiers": "protected", "return": "List<EmrClusterInstanceTypeSpecification>", "signature": "List<EmrClusterInstanceTypeSpecification> getInstanceTypeSpecifications(List<InstanceTypeSpecification> awsInstanceTypeConfigs)", "full_signature": "protected List<EmrClusterInstanceTypeSpecification> getInstanceTypeSpecifications(List<InstanceTypeSpecification> awsInstanceTypeConfigs)", "class_method_signature": "EmrHelper.getInstanceTypeSpecifications(List<InstanceTypeSpecification> awsInstanceTypeConfigs)", "testcase": false, "constructor": false}, {"identifier": "getConfigurations", "parameters": "(List<Configuration> configurations)", "modifiers": "protected", "return": "List<EmrClusterInstanceTypeConfiguration>", "signature": "List<EmrClusterInstanceTypeConfiguration> getConfigurations(List<Configuration> configurations)", "full_signature": "protected List<EmrClusterInstanceTypeConfiguration> getConfigurations(List<Configuration> configurations)", "class_method_signature": "EmrHelper.getConfigurations(List<Configuration> configurations)", "testcase": false, "constructor": false}, {"identifier": "getParameterList", "parameters": "(Map<String, String> properties)", "modifiers": "protected", "return": "List<Parameter>", "signature": "List<Parameter> getParameterList(Map<String, String> properties)", "full_signature": "protected List<Parameter> getParameterList(Map<String, String> properties)", "class_method_signature": "EmrHelper.getParameterList(Map<String, String> properties)", "testcase": false, "constructor": false}], "file": "herd-code/herd-dao/src/main/java/org/finra/herd/dao/helper/EmrHelper.java"}, "focal_method": {"identifier": "getEmrHadoopJarStepConfig", "parameters": "(String stepName, String jarLocation, String mainClass, List<String> scriptArguments, Boolean isContinueOnError)", "modifiers": "public", "return": "StepConfig", "body": "public StepConfig getEmrHadoopJarStepConfig(String stepName, String jarLocation, String mainClass, List<String> scriptArguments, Boolean isContinueOnError)\n    {\n        // Default ActionOnFailure is to cancel the execution and wait\n        ActionOnFailure actionOnFailure = ActionOnFailure.CANCEL_AND_WAIT;\n\n        if (isContinueOnError != null && isContinueOnError)\n        {\n            // Override based on user input\n            actionOnFailure = ActionOnFailure.CONTINUE;\n        }\n\n        // If there are no arguments\n        if (CollectionUtils.isEmpty(scriptArguments))\n        {\n            // Build the StepConfig object and return\n            return new StepConfig().withName(stepName.trim()).withActionOnFailure(actionOnFailure)\n                .withHadoopJarStep(new HadoopJarStepConfig().withJar(jarLocation.trim()).withMainClass(mainClass));\n        }\n        else\n        {\n            // If there are arguments, include the arguments in the StepConfig object\n            return new StepConfig().withName(stepName.trim()).withActionOnFailure(actionOnFailure).withHadoopJarStep(\n                new HadoopJarStepConfig().withJar(jarLocation.trim()).withMainClass(mainClass)\n                    .withArgs(scriptArguments.toArray(new String[scriptArguments.size()])));\n        }\n    }", "signature": "StepConfig getEmrHadoopJarStepConfig(String stepName, String jarLocation, String mainClass, List<String> scriptArguments, Boolean isContinueOnError)", "full_signature": "public StepConfig getEmrHadoopJarStepConfig(String stepName, String jarLocation, String mainClass, List<String> scriptArguments, Boolean isContinueOnError)", "class_method_signature": "EmrHelper.getEmrHadoopJarStepConfig(String stepName, String jarLocation, String mainClass, List<String> scriptArguments, Boolean isContinueOnError)", "testcase": false, "constructor": false, "invocations": ["isEmpty", "withHadoopJarStep", "withActionOnFailure", "withName", "trim", "withMainClass", "withJar", "trim", "withHadoopJarStep", "withActionOnFailure", "withName", "trim", "withArgs", "withMainClass", "withJar", "trim", "toArray", "size"]}, "repository": {"repo_id": 42949039, "url": "https://github.com/FINRAOS/herd", "language": "Java", "is_fork": false, "fork_count": 36, "stargazer_count": 120, "size": 205797, "license": "licensed"}}