{"test_class": {"identifier": "NewComponentStatisticsAggregatorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "GmmPartitionData data1 = new GmmPartitionData(\n        Arrays.asList(\n            vec(1, 0),\n            vec(0, 1),\n            vec(3, 7)\n        ),\n        new double[3][]\n    );", "modifier": "", "type": "GmmPartitionData", "declarator": "data1 = new GmmPartitionData(\n        Arrays.asList(\n            vec(1, 0),\n            vec(0, 1),\n            vec(3, 7)\n        ),\n        new double[3][]\n    )", "var_name": "data1"}, {"original_string": "GmmPartitionData data2 = new GmmPartitionData(\n        Arrays.asList(\n            vec(3, 1),\n            vec(1, 4),\n            vec(1, 3)\n        ),\n        new double[3][]\n    );", "modifier": "", "type": "GmmPartitionData", "declarator": "data2 = new GmmPartitionData(\n        Arrays.asList(\n            vec(3, 1),\n            vec(1, 4),\n            vec(1, 3)\n        ),\n        new double[3][]\n    )", "var_name": "data2"}, {"original_string": "GmmModel model;", "modifier": "", "type": "GmmModel", "declarator": "model", "var_name": "model"}], "file": "modules/ml/src/test/java/org/apache/ignite/ml/clustering/gmm/NewComponentStatisticsAggregatorTest.java"}, "test_case": {"identifier": "testAdd", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testAdd() {\n        NewComponentStatisticsAggregator agg = new NewComponentStatisticsAggregator();\n        int rowCount = 10;\n        for (int i = 0; i < rowCount; i++)\n            agg.add(VectorUtils.of(0, 1, 2), i % 2 == 0);\n\n        assertEquals(rowCount / 2, agg.rowCountForNewCluster());\n        assertEquals(rowCount, agg.totalRowCount());\n        assertArrayEquals(new double[] {0, 1, 2}, agg.mean().asArray(), 1e-4);\n    }", "signature": "void testAdd()", "full_signature": "@Test public void testAdd()", "class_method_signature": "NewComponentStatisticsAggregatorTest.testAdd()", "testcase": true, "constructor": false, "invocations": ["add", "of", "assertEquals", "rowCountForNewCluster", "assertEquals", "totalRowCount", "assertArrayEquals", "asArray", "mean"]}, "focal_class": {"identifier": "NewComponentStatisticsAggregator", "superclass": "", "interfaces": "implements Serializable", "fields": [{"original_string": "private static final long serialVersionUID = 6748270328889375005L;", "modifier": "private static final", "type": "long", "declarator": "serialVersionUID = 6748270328889375005L", "var_name": "serialVersionUID"}, {"original_string": "private long totalRowCount;", "modifier": "private", "type": "long", "declarator": "totalRowCount", "var_name": "totalRowCount"}, {"original_string": "private long rowCountForNewCluster;", "modifier": "private", "type": "long", "declarator": "rowCountForNewCluster", "var_name": "rowCountForNewCluster"}, {"original_string": "private Vector sumOfAnomalies;", "modifier": "private", "type": "Vector", "declarator": "sumOfAnomalies", "var_name": "sumOfAnomalies"}], "methods": [{"identifier": "NewComponentStatisticsAggregator", "parameters": "(long totalRowCount, long rowCountForNewCluster, Vector sumOfAnomalies)", "modifiers": "public", "return": "", "signature": " NewComponentStatisticsAggregator(long totalRowCount, long rowCountForNewCluster, Vector sumOfAnomalies)", "full_signature": "public  NewComponentStatisticsAggregator(long totalRowCount, long rowCountForNewCluster, Vector sumOfAnomalies)", "class_method_signature": "NewComponentStatisticsAggregator.NewComponentStatisticsAggregator(long totalRowCount, long rowCountForNewCluster, Vector sumOfAnomalies)", "testcase": false, "constructor": true}, {"identifier": "NewComponentStatisticsAggregator", "parameters": "()", "modifiers": "public", "return": "", "signature": " NewComponentStatisticsAggregator()", "full_signature": "public  NewComponentStatisticsAggregator()", "class_method_signature": "NewComponentStatisticsAggregator.NewComponentStatisticsAggregator()", "testcase": false, "constructor": true}, {"identifier": "mean", "parameters": "()", "modifiers": "public", "return": "Vector", "signature": "Vector mean()", "full_signature": "public Vector mean()", "class_method_signature": "NewComponentStatisticsAggregator.mean()", "testcase": false, "constructor": false}, {"identifier": "rowCountForNewCluster", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long rowCountForNewCluster()", "full_signature": "public long rowCountForNewCluster()", "class_method_signature": "NewComponentStatisticsAggregator.rowCountForNewCluster()", "testcase": false, "constructor": false}, {"identifier": "totalRowCount", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long totalRowCount()", "full_signature": "public long totalRowCount()", "class_method_signature": "NewComponentStatisticsAggregator.totalRowCount()", "testcase": false, "constructor": false}, {"identifier": "computeNewMean", "parameters": "(Dataset<EmptyContext, GmmPartitionData> dataset,\n        double maxXsProb, double maxProbDivergence, GmmModel currentModel)", "modifiers": "static", "return": "NewComponentStatisticsAggregator", "signature": "NewComponentStatisticsAggregator computeNewMean(Dataset<EmptyContext, GmmPartitionData> dataset,\n        double maxXsProb, double maxProbDivergence, GmmModel currentModel)", "full_signature": "static NewComponentStatisticsAggregator computeNewMean(Dataset<EmptyContext, GmmPartitionData> dataset,\n        double maxXsProb, double maxProbDivergence, GmmModel currentModel)", "class_method_signature": "NewComponentStatisticsAggregator.computeNewMean(Dataset<EmptyContext, GmmPartitionData> dataset,\n        double maxXsProb, double maxProbDivergence, GmmModel currentModel)", "testcase": false, "constructor": false}, {"identifier": "computeNewMeanMap", "parameters": "(GmmPartitionData data, double maxXsProb,\n        double maxProbDivergence, GmmModel currentModel)", "modifiers": "static", "return": "NewComponentStatisticsAggregator", "signature": "NewComponentStatisticsAggregator computeNewMeanMap(GmmPartitionData data, double maxXsProb,\n        double maxProbDivergence, GmmModel currentModel)", "full_signature": "static NewComponentStatisticsAggregator computeNewMeanMap(GmmPartitionData data, double maxXsProb,\n        double maxProbDivergence, GmmModel currentModel)", "class_method_signature": "NewComponentStatisticsAggregator.computeNewMeanMap(GmmPartitionData data, double maxXsProb,\n        double maxProbDivergence, GmmModel currentModel)", "testcase": false, "constructor": false}, {"identifier": "add", "parameters": "(Vector x, boolean isAnomaly)", "modifiers": "", "return": "void", "signature": "void add(Vector x, boolean isAnomaly)", "full_signature": " void add(Vector x, boolean isAnomaly)", "class_method_signature": "NewComponentStatisticsAggregator.add(Vector x, boolean isAnomaly)", "testcase": false, "constructor": false}, {"identifier": "computeNewMeanReduce", "parameters": "(NewComponentStatisticsAggregator left,\n        NewComponentStatisticsAggregator right)", "modifiers": "static", "return": "NewComponentStatisticsAggregator", "signature": "NewComponentStatisticsAggregator computeNewMeanReduce(NewComponentStatisticsAggregator left,\n        NewComponentStatisticsAggregator right)", "full_signature": "static NewComponentStatisticsAggregator computeNewMeanReduce(NewComponentStatisticsAggregator left,\n        NewComponentStatisticsAggregator right)", "class_method_signature": "NewComponentStatisticsAggregator.computeNewMeanReduce(NewComponentStatisticsAggregator left,\n        NewComponentStatisticsAggregator right)", "testcase": false, "constructor": false}, {"identifier": "plus", "parameters": "(NewComponentStatisticsAggregator other)", "modifiers": "", "return": "NewComponentStatisticsAggregator", "signature": "NewComponentStatisticsAggregator plus(NewComponentStatisticsAggregator other)", "full_signature": " NewComponentStatisticsAggregator plus(NewComponentStatisticsAggregator other)", "class_method_signature": "NewComponentStatisticsAggregator.plus(NewComponentStatisticsAggregator other)", "testcase": false, "constructor": false}], "file": "modules/ml/src/main/java/org/apache/ignite/ml/clustering/gmm/NewComponentStatisticsAggregator.java"}, "focal_method": {"identifier": "add", "parameters": "(Vector x, boolean isAnomaly)", "modifiers": "", "return": "void", "body": "void add(Vector x, boolean isAnomaly) {\n        if (isAnomaly) {\n            if (sumOfAnomalies == null)\n                sumOfAnomalies = x.copy();\n            else\n                sumOfAnomalies = sumOfAnomalies.plus(x);\n\n            rowCountForNewCluster += 1;\n        }\n\n        totalRowCount += 1;\n    }", "signature": "void add(Vector x, boolean isAnomaly)", "full_signature": " void add(Vector x, boolean isAnomaly)", "class_method_signature": "NewComponentStatisticsAggregator.add(Vector x, boolean isAnomaly)", "testcase": false, "constructor": false, "invocations": ["copy", "plus"]}, "repository": {"repo_id": 170496871, "url": "https://github.com/gridgain/gridgain", "stars": 46, "created": "2/13/2019 11:31:35 AM +00:00", "updates": "2020-01-27T16:02:24+00:00", "fork": "False", "license": "licensed"}}