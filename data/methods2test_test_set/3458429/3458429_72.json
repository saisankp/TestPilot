{"test_class": {"identifier": "TestNBitInteger", "superclass": "", "interfaces": "", "fields": [], "file": "firefly-net/src/test/java/com/fireflysource/net/http/common/v2/hpack/TestNBitInteger.java"}, "test_case": {"identifier": "testDecode", "parameters": "()", "modifiers": "@Test", "return": "void", "body": "@Test\n    void testDecode() {\n        testDecode(6, 0, \"00\");\n        testDecode(6, 1, \"01\");\n        testDecode(6, 62, \"3e\");\n        testDecode(6, 63, \"3f00\");\n        testDecode(6, 63 + 1, \"3f01\");\n        testDecode(6, 63 + 0x7e, \"3f7e\");\n        testDecode(6, 63 + 0x7f, \"3f7f\");\n        testDecode(6, 63 + 0x80, \"3f8001\");\n        testDecode(6, 63 + 0x81, \"3f8101\");\n        testDecode(6, 63 + 0x7f + 0x80 * 0x01, \"3fFf01\");\n        testDecode(6, 63 + 0x00 + 0x80 * 0x02, \"3f8002\");\n        testDecode(6, 63 + 0x01 + 0x80 * 0x02, \"3f8102\");\n        testDecode(6, 63 + 0x7f + 0x80 * 0x7f, \"3fFf7f\");\n        testDecode(6, 63 + 0x00 + 0x80 * 0x80, \"3f808001\");\n        testDecode(6, 63 + 0x7f + 0x80 * 0x80 * 0x7f, \"3fFf807f\");\n        testDecode(6, 63 + 0x00 + 0x80 * 0x80 * 0x80, \"3f80808001\");\n\n        testDecode(8, 0, \"00\");\n        testDecode(8, 1, \"01\");\n        testDecode(8, 128, \"80\");\n        testDecode(8, 254, \"Fe\");\n        testDecode(8, 255, \"Ff00\");\n        testDecode(8, 255 + 1, \"Ff01\");\n        testDecode(8, 255 + 0x7e, \"Ff7e\");\n        testDecode(8, 255 + 0x7f, \"Ff7f\");\n        testDecode(8, 255 + 0x80, \"Ff8001\");\n        testDecode(8, 255 + 0x00 + 0x80 * 0x80, \"Ff808001\");\n    }", "signature": "void testDecode()", "full_signature": "@Test void testDecode()", "class_method_signature": "TestNBitInteger.testDecode()", "testcase": true, "constructor": false, "invocations": ["testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode", "testDecode"]}, "focal_class": {"identifier": "NBitInteger", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "octectsNeeded", "parameters": "(int n, int i)", "modifiers": "public static", "return": "int", "signature": "int octectsNeeded(int n, int i)", "full_signature": "public static int octectsNeeded(int n, int i)", "class_method_signature": "NBitInteger.octectsNeeded(int n, int i)", "testcase": false, "constructor": false}, {"identifier": "encode", "parameters": "(ByteBuffer buf, int n, int i)", "modifiers": "public static", "return": "void", "signature": "void encode(ByteBuffer buf, int n, int i)", "full_signature": "public static void encode(ByteBuffer buf, int n, int i)", "class_method_signature": "NBitInteger.encode(ByteBuffer buf, int n, int i)", "testcase": false, "constructor": false}, {"identifier": "decode", "parameters": "(ByteBuffer buffer, int n)", "modifiers": "public static", "return": "int", "signature": "int decode(ByteBuffer buffer, int n)", "full_signature": "public static int decode(ByteBuffer buffer, int n)", "class_method_signature": "NBitInteger.decode(ByteBuffer buffer, int n)", "testcase": false, "constructor": false}], "file": "firefly-net/src/main/java/com/fireflysource/net/http/common/v2/hpack/NBitInteger.java"}, "focal_method": {"identifier": "decode", "parameters": "(ByteBuffer buffer, int n)", "modifiers": "public static", "return": "int", "body": "public static int decode(ByteBuffer buffer, int n) {\n        if (n == 8) {\n            int nbits = 0xFF;\n\n            int i = buffer.get() & 0xff;\n\n            if (i == nbits) {\n                int m = 1;\n                int b;\n                do {\n                    b = 0xff & buffer.get();\n                    i = i + (b & 127) * m;\n                    m = m * 128;\n                } while ((b & 128) == 128);\n            }\n            return i;\n        }\n\n        int nbits = 0xFF >>> (8 - n);\n\n        int i = buffer.get(buffer.position() - 1) & nbits;\n\n        if (i == nbits) {\n            int m = 1;\n            int b;\n            do {\n                b = 0xff & buffer.get();\n                i = i + (b & 127) * m;\n                m = m * 128;\n            } while ((b & 128) == 128);\n        }\n        return i;\n    }", "signature": "int decode(ByteBuffer buffer, int n)", "full_signature": "public static int decode(ByteBuffer buffer, int n)", "class_method_signature": "NBitInteger.decode(ByteBuffer buffer, int n)", "testcase": false, "constructor": false, "invocations": ["get", "get", "get", "position", "get"]}, "repository": {"repo_id": 3458429, "url": "https://github.com/hypercube1024/firefly", "language": "Java", "is_fork": false, "fork_count": 118, "stargazer_count": 271, "size": 29687, "license": "licensed"}}