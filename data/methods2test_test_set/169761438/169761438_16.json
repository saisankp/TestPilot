{"test_class": {"identifier": "Oadr20bVENEiRegisterPartyControllerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String EIREGISTERPARTY_ENDPOINT = Oadr20bUrlPath.OADR_BASE_PATH\n\t\t\t+ Oadr20bUrlPath.EI_REGISTER_PARTY_SERVICE;", "modifier": "private static final", "type": "String", "declarator": "EIREGISTERPARTY_ENDPOINT = Oadr20bUrlPath.OADR_BASE_PATH\n\t\t\t+ Oadr20bUrlPath.EI_REGISTER_PARTY_SERVICE", "var_name": "EIREGISTERPARTY_ENDPOINT"}, {"original_string": "public static final UserRequestPostProcessor VTN_SECURITY_SESSION = SecurityMockMvcRequestPostProcessors.user(\"vtn\")\n\t\t\t.roles(\"VTN\");", "modifier": "public static final", "type": "UserRequestPostProcessor", "declarator": "VTN_SECURITY_SESSION = SecurityMockMvcRequestPostProcessors.user(\"vtn\")\n\t\t\t.roles(\"VTN\")", "var_name": "VTN_SECURITY_SESSION"}, {"original_string": "@Autowired\n\tprivate WebApplicationContext wac;", "modifier": "@Autowired\n\tprivate", "type": "WebApplicationContext", "declarator": "wac", "var_name": "wac"}, {"original_string": "@Resource\n\tprivate OadrMockMvc oadrMockMvc;", "modifier": "@Resource\n\tprivate", "type": "OadrMockMvc", "declarator": "oadrMockMvc", "var_name": "oadrMockMvc"}, {"original_string": "@Resource\n\tprivate VenConfig venConfig;", "modifier": "@Resource\n\tprivate", "type": "VenConfig", "declarator": "venConfig", "var_name": "venConfig"}, {"original_string": "@Resource\n\tprivate MultiVtnConfig multiVtnConfig;", "modifier": "@Resource\n\tprivate", "type": "MultiVtnConfig", "declarator": "multiVtnConfig", "var_name": "multiVtnConfig"}, {"original_string": "@Value(\"${oadr.vtn.myvtn.vtnid}\")\n\tprivate String vtnHttpId;", "modifier": "@Value(\"${oadr.vtn.myvtn.vtnid}\")\n\tprivate", "type": "String", "declarator": "vtnHttpId", "var_name": "vtnHttpId"}], "file": "OpenADRServerVEN20b/src/test/java/com/avob/openadr/server/oadr20b/ven/controller/Oadr20bVENEiRegisterPartyControllerTest.java"}, "test_case": {"identifier": "requestTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void requestTest() throws Exception {\n\t\t// GET not allowed\n\t\tthis.oadrMockMvc.perform(MockMvcRequestBuilders.get(EIREGISTERPARTY_ENDPOINT).with(VTN_SECURITY_SESSION))\n\t\t\t\t.andExpect(MockMvcResultMatchers.status().is(HttpStatus.METHOD_NOT_ALLOWED_405));\n\n\t\t// PUT not allowed\n\t\tthis.oadrMockMvc.perform(MockMvcRequestBuilders.put(EIREGISTERPARTY_ENDPOINT).with(VTN_SECURITY_SESSION))\n\t\t\t\t.andExpect(MockMvcResultMatchers.status().is(HttpStatus.METHOD_NOT_ALLOWED_405));\n\n\t\t// DELETE not allowed\n\t\tthis.oadrMockMvc.perform(MockMvcRequestBuilders.delete(EIREGISTERPARTY_ENDPOINT).with(VTN_SECURITY_SESSION))\n\t\t\t\t.andExpect(MockMvcResultMatchers.status().is(HttpStatus.METHOD_NOT_ALLOWED_405));\n\n\t\t// POST without content\n\t\tString content = \"\";\n\t\tthis.oadrMockMvc.perform(\n\t\t\t\tMockMvcRequestBuilders.post(EIREGISTERPARTY_ENDPOINT).with(VTN_SECURITY_SESSION).content(content))\n\t\t\t\t.andExpect(MockMvcResultMatchers.status().is(HttpStatus.BAD_REQUEST_400));\n\n\t\t// POST without content\n\t\tcontent = \"mouaiccool\";\n\t\tthis.oadrMockMvc.perform(\n\t\t\t\tMockMvcRequestBuilders.post(EIREGISTERPARTY_ENDPOINT).with(VTN_SECURITY_SESSION).content(content))\n\t\t\t\t.andExpect(MockMvcResultMatchers.status().is(HttpStatus.NOT_ACCEPTABLE_406));\n\t}", "signature": "void requestTest()", "full_signature": "@Test public void requestTest()", "class_method_signature": "Oadr20bVENEiRegisterPartyControllerTest.requestTest()", "testcase": true, "constructor": false, "invocations": ["andExpect", "perform", "with", "get", "is", "status", "andExpect", "perform", "with", "put", "is", "status", "andExpect", "perform", "with", "delete", "is", "status", "andExpect", "perform", "content", "with", "post", "is", "status", "andExpect", "perform", "content", "with", "post", "is", "status"]}, "focal_class": {"identifier": "Oadr20bVENEiRegisterPartyController", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Resource\n\tprivate Oadr20bVENEiRegisterPartyService oadr20bVENEiRegisterPartyService;", "modifier": "@Resource\n\tprivate", "type": "Oadr20bVENEiRegisterPartyService", "declarator": "oadr20bVENEiRegisterPartyService", "var_name": "oadr20bVENEiRegisterPartyService"}], "methods": [{"identifier": "request", "parameters": "(@RequestBody String payload, Principal principal)", "modifiers": "@RequestMapping(value = Oadr20bUrlPath.EI_REGISTER_PARTY_SERVICE, method = RequestMethod.POST) @ResponseBody public", "return": "String", "signature": "String request(@RequestBody String payload, Principal principal)", "full_signature": "@RequestMapping(value = Oadr20bUrlPath.EI_REGISTER_PARTY_SERVICE, method = RequestMethod.POST) @ResponseBody public String request(@RequestBody String payload, Principal principal)", "class_method_signature": "Oadr20bVENEiRegisterPartyController.request(@RequestBody String payload, Principal principal)", "testcase": false, "constructor": false}], "file": "OpenADRServerVEN20b/src/main/java/com/avob/openadr/server/oadr20b/ven/controller/Oadr20bVENEiRegisterPartyController.java"}, "focal_method": {"identifier": "request", "parameters": "(@RequestBody String payload, Principal principal)", "modifiers": "@RequestMapping(value = Oadr20bUrlPath.EI_REGISTER_PARTY_SERVICE, method = RequestMethod.POST) @ResponseBody public", "return": "String", "body": "@RequestMapping(value = Oadr20bUrlPath.EI_REGISTER_PARTY_SERVICE, method = RequestMethod.POST)\n\t@ResponseBody\n\tpublic String request(@RequestBody String payload, Principal principal)\n\t\t\tthrows Oadr20bMarshalException, Oadr20bUnmarshalException, Oadr20bApplicationLayerException,\n\t\t\tOadr20bXMLSignatureValidationException, Oadr20bXMLSignatureException, OadrSecurityException, IOException {\n\n\t\treturn oadr20bVENEiRegisterPartyService.request(principal.getName(), payload);\n\t}", "signature": "String request(@RequestBody String payload, Principal principal)", "full_signature": "@RequestMapping(value = Oadr20bUrlPath.EI_REGISTER_PARTY_SERVICE, method = RequestMethod.POST) @ResponseBody public String request(@RequestBody String payload, Principal principal)", "class_method_signature": "Oadr20bVENEiRegisterPartyController.request(@RequestBody String payload, Principal principal)", "testcase": false, "constructor": false, "invocations": ["request", "getName"]}, "repository": {"repo_id": 169761438, "url": "https://github.com/avob/OpenADR", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 8, "size": 55915, "license": "licensed"}}