{"test_class": {"identifier": "ProtobufUtilsTest", "superclass": "", "interfaces": "", "fields": [], "file": "brpc-java-communication/src/test/java/com/baidu/brpc/utils/ProtobufUtilsTest.java"}, "test_case": {"identifier": "testParseFrom3", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testParseFrom3() throws IOException {\n        Echo.EchoRequest request = Echo.EchoRequest.newBuilder().setMessage(\"hello\").build();\n        byte[] bytes = request.toByteArray();\n        ByteBuf buf = Unpooled.wrappedBuffer(bytes);\n        Message defaultInstance = request.getDefaultInstanceForType();\n        Echo.EchoRequest request1 = (Echo.EchoRequest) ProtobufUtils.parseFrom(buf, defaultInstance);\n        Assert.assertTrue(request1.getMessage().equals(request.getMessage()));\n    }", "signature": "void testParseFrom3()", "full_signature": "@Test public void testParseFrom3()", "class_method_signature": "ProtobufUtilsTest.testParseFrom3()", "testcase": true, "constructor": false, "invocations": ["build", "setMessage", "newBuilder", "toByteArray", "wrappedBuffer", "getDefaultInstanceForType", "parseFrom", "assertTrue", "equals", "getMessage", "getMessage"]}, "focal_class": {"identifier": "ProtobufUtils", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "getMessageType", "parameters": "(Method method)", "modifiers": "public static", "return": "MessageType", "signature": "MessageType getMessageType(Method method)", "full_signature": "public static MessageType getMessageType(Method method)", "class_method_signature": "ProtobufUtils.getMessageType(Method method)", "testcase": false, "constructor": false}, {"identifier": "parseFrom", "parameters": "(InputStream inputStream, Class clazz)", "modifiers": "public static", "return": "Message", "signature": "Message parseFrom(InputStream inputStream, Class clazz)", "full_signature": "public static Message parseFrom(InputStream inputStream, Class clazz)", "class_method_signature": "ProtobufUtils.parseFrom(InputStream inputStream, Class clazz)", "testcase": false, "constructor": false}, {"identifier": "parseFrom", "parameters": "(byte[] inputBytes, Class clazz)", "modifiers": "public static", "return": "Message", "signature": "Message parseFrom(byte[] inputBytes, Class clazz)", "full_signature": "public static Message parseFrom(byte[] inputBytes, Class clazz)", "class_method_signature": "ProtobufUtils.parseFrom(byte[] inputBytes, Class clazz)", "testcase": false, "constructor": false}, {"identifier": "parseFrom", "parameters": "(ByteBuf input, Message defaultInstance)", "modifiers": "public static", "return": "Message", "signature": "Message parseFrom(ByteBuf input, Message defaultInstance)", "full_signature": "public static Message parseFrom(ByteBuf input, Message defaultInstance)", "class_method_signature": "ProtobufUtils.parseFrom(ByteBuf input, Message defaultInstance)", "testcase": false, "constructor": false}, {"identifier": "parseFrom", "parameters": "(byte[] input, Message defaultInstance)", "modifiers": "public static", "return": "Message", "signature": "Message parseFrom(byte[] input, Message defaultInstance)", "full_signature": "public static Message parseFrom(byte[] input, Message defaultInstance)", "class_method_signature": "ProtobufUtils.parseFrom(byte[] input, Message defaultInstance)", "testcase": false, "constructor": false}, {"identifier": "parseFrom", "parameters": "(DynamicCompositeByteBuf input, Message defaultInstance)", "modifiers": "public static", "return": "Message", "signature": "Message parseFrom(DynamicCompositeByteBuf input, Message defaultInstance)", "full_signature": "public static Message parseFrom(DynamicCompositeByteBuf input, Message defaultInstance)", "class_method_signature": "ProtobufUtils.parseFrom(DynamicCompositeByteBuf input, Message defaultInstance)", "testcase": false, "constructor": false}], "file": "brpc-java-communication/src/main/java/com/baidu/brpc/utils/ProtobufUtils.java"}, "focal_method": {"identifier": "parseFrom", "parameters": "(InputStream inputStream, Class clazz)", "modifiers": "public static", "return": "Message", "body": "public static Message parseFrom(InputStream inputStream, Class clazz) {\n        try {\n            Method method = clazz.getMethod(\"getDefaultInstance\");\n            Message proto = (Message) method.invoke(null);\n            proto = proto.newBuilderForType().mergeFrom(inputStream).build();\n            return proto;\n        } catch (Exception ex) {\n            String errorMsg = String.format(\"parse proto failed, msg=%s\", ex.getMessage());\n            log.error(errorMsg);\n            throw new RuntimeException(errorMsg);\n        }\n    }", "signature": "Message parseFrom(InputStream inputStream, Class clazz)", "full_signature": "public static Message parseFrom(InputStream inputStream, Class clazz)", "class_method_signature": "ProtobufUtils.parseFrom(InputStream inputStream, Class clazz)", "testcase": false, "constructor": false, "invocations": ["getMethod", "invoke", "build", "mergeFrom", "newBuilderForType", "format", "getMessage", "error"]}, "repository": {"repo_id": 162548942, "url": "https://github.com/baidu/brpc-java", "language": "Java", "is_fork": false, "fork_count": 175, "stargazer_count": 551, "size": 3271, "license": "licensed"}}