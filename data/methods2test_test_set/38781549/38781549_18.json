{"test_class": {"identifier": "TestJSONUtil", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Log s_log = LogFactory.getLog(TestJSONUtil.class);", "modifier": "private static final", "type": "Log", "declarator": "s_log = LogFactory.getLog(TestJSONUtil.class)", "var_name": "s_log"}, {"original_string": "private static Invocable invocable;", "modifier": "private static", "type": "Invocable", "declarator": "invocable", "var_name": "invocable"}, {"original_string": "private static final int BAD_CHARS = 4096;", "modifier": "private static final", "type": "int", "declarator": "BAD_CHARS = 4096", "var_name": "BAD_CHARS"}], "file": "JSONUtil/src/test/java/org/kopitubruk/util/json/TestJSONUtil.java"}, "test_case": {"identifier": "testEscapeBadIdentifierCodePoints", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testEscapeBadIdentifierCodePoints() throws ScriptException, NoSuchMethodException\n    {\n        Map<Object,Object> jsonObj = new LinkedHashMap<>();\n        StringBuilder buf = new StringBuilder(\"c\");\n        StringBuilder cmpBuf = new StringBuilder();\n        JSONConfig cfg = new JSONConfig().setEscapeBadIdentifierCodePoints(true);\n        jsonObj.put(\"x\\u0005\", 0);\n\n        String json = JSONUtil.toJSON(jsonObj, cfg);\n        validateJSON(json);\n        assertThat(json, is(\"{\\\"x\\\\u0005\\\":0}\"));\n\n        // test octal/hex unescape.\n        for ( int i = 0; i < 256; i++ ){\n            buf.setLength(0);\n            buf.append(\"c\").append((char)i);\n            jsonObj.clear();\n            jsonObj.put(String.format(\"a\\\\%o\", i), 0);\n            jsonObj.put(String.format(\"b\\\\x%02X\", i), 0);\n            jsonObj.put(buf, 0);                            // raw.\n            json = JSONUtil.toJSON(jsonObj, cfg);\n            validateJSON(json);\n\n            String r = JSONUtil.isValidIdentifierPart(i, cfg) ? String.format(\"%c\", (char)i) : String.format(\"\\\\u%04X\", i);\n\n            assertThat(json, is(\"{\\\"a\"+r+\"\\\":0,\\\"b\"+r+\"\\\":0,\\\"c\"+r+\"\\\":0}\"));\n        }\n\n        int maxLen = 512;\n        buf.setLength(0);\n        buf.append(\"c\");\n        cmpBuf.setLength(0);\n        cmpBuf.append(\"{\\\"c\");\n        for ( int i = 256, ct = 0; i <= Character.MAX_CODE_POINT; i++ ){\n            if ( isNormalCodePoint(i) ){\n                buf.appendCodePoint(i);\n                addCmp(i, cmpBuf, cfg);\n                ++ct;\n            }\n            if ( ct % maxLen == 0 || i == Character.MAX_CODE_POINT ){\n                jsonObj.clear();\n                jsonObj.put(buf, 0);                            // raw.\n                json = JSONUtil.toJSON(jsonObj, cfg);\n                validateJSON(json);\n\n                cmpBuf.append(\"\\\":0}\");\n                assertThat(json, is(cmpBuf.toString()));\n\n                buf.setLength(0);\n                buf.append(\"c\");\n                cmpBuf.setLength(0);\n                cmpBuf.append(\"{\\\"c\");\n            }\n        }\n\n        cfg.setFullJSONIdentifierCodePoints(true);\n\n        // test octal/hex unescape.\n        for ( int i = 0; i < 256; i++ ){\n            buf.setLength(0);\n            buf.append(\"c\").append((char)i);\n            jsonObj.clear();\n            jsonObj.put(String.format(\"a\\\\%o\", i), 0);\n            jsonObj.put(String.format(\"b\\\\x%02X\", i), 0);\n            jsonObj.put(buf, 0);                            // raw.\n            json = JSONUtil.toJSON(jsonObj, cfg);\n            validateJSON(json);\n\n            String r = StringProcessor.getEscape((char)i);\n            if ( r == null ){\n                r = JSONUtil.isValidIdentifierPart(i, cfg) ? String.format(\"%c\", (char)i) : String.format(\"\\\\u%04X\", i);\n            }\n\n            assertThat(json, is(\"{\\\"a\"+r+\"\\\":0,\\\"b\"+r+\"\\\":0,\\\"c\"+r+\"\\\":0}\"));\n        }\n\n        buf.setLength(0);\n        buf.append(\"c\");\n        for ( int i = 256, ct = 0; i <= Character.MAX_CODE_POINT; i++ ){\n            if ( isNormalCodePoint(i) ){\n                buf.appendCodePoint(i);\n                addCmp(i, cmpBuf, cfg);\n                ++ct;\n            }\n            if ( ct % maxLen == 0 || i == Character.MAX_CODE_POINT ){\n                jsonObj.clear();\n                jsonObj.put(buf, 0);\n                json = JSONUtil.toJSON(jsonObj, cfg);\n                parseJSON(json);\n\n                cmpBuf.append(\"\\\":0}\");\n                assertThat(json, is(cmpBuf.toString()));\n\n                buf.setLength(0);\n                buf.append(\"c\");\n                cmpBuf.setLength(0);\n                cmpBuf.append(\"{\\\"c\");\n            }\n        }\n    }", "signature": "void testEscapeBadIdentifierCodePoints()", "full_signature": "@Test public void testEscapeBadIdentifierCodePoints()", "class_method_signature": "TestJSONUtil.testEscapeBadIdentifierCodePoints()", "testcase": true, "constructor": false, "invocations": ["setEscapeBadIdentifierCodePoints", "put", "toJSON", "validateJSON", "assertThat", "is", "setLength", "append", "append", "clear", "put", "format", "put", "format", "put", "toJSON", "validateJSON", "isValidIdentifierPart", "format", "format", "assertThat", "is", "setLength", "append", "setLength", "append", "isNormalCodePoint", "appendCodePoint", "addCmp", "clear", "put", "toJSON", "validateJSON", "append", "assertThat", "is", "toString", "setLength", "append", "setLength", "append", "setFullJSONIdentifierCodePoints", "setLength", "append", "append", "clear", "put", "format", "put", "format", "put", "toJSON", "validateJSON", "getEscape", "isValidIdentifierPart", "format", "format", "assertThat", "is", "setLength", "append", "isNormalCodePoint", "appendCodePoint", "addCmp", "clear", "put", "toJSON", "parseJSON", "append", "assertThat", "is", "toString", "setLength", "append", "setLength", "append"]}, "focal_class": {"identifier": "JSONUtil", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Pattern JSON_NUMBER_PAT = Pattern.compile(\"^-?(?:(?:\\\\d+(?:\\\\.\\\\d+)?)|(?:\\\\.\\\\d+))(?:[eE][-+]?\\\\d+)?$\");", "modifier": "private static final", "type": "Pattern", "declarator": "JSON_NUMBER_PAT = Pattern.compile(\"^-?(?:(?:\\\\d+(?:\\\\.\\\\d+)?)|(?:\\\\.\\\\d+))(?:[eE][-+]?\\\\d+)?$\")", "var_name": "JSON_NUMBER_PAT"}, {"original_string": "private static final Pattern OCTAL_NUMBER_PAT = Pattern.compile(\"^-?0[0-7]+$\");", "modifier": "private static final", "type": "Pattern", "declarator": "OCTAL_NUMBER_PAT = Pattern.compile(\"^-?0[0-7]+$\")", "var_name": "OCTAL_NUMBER_PAT"}, {"original_string": "private static final Pattern VALID_ECMA5_PROPERTY_NAME_PAT =\n            Pattern.compile(\"^(?:[_\\\\$\\\\p{L}]|\\\\\\\\u\\\\p{XDigit}{4})\" +\n                             \"(?:[_\\\\$\\\\p{L}\\\\p{Nd}\\\\p{Mn}\\\\p{Mc}\\\\p{Pc}\\\\u200C\\\\u200D]|\\\\\\\\u\\\\p{XDigit}{4})*$\");", "modifier": "private static final", "type": "Pattern", "declarator": "VALID_ECMA5_PROPERTY_NAME_PAT =\n            Pattern.compile(\"^(?:[_\\\\$\\\\p{L}]|\\\\\\\\u\\\\p{XDigit}{4})\" +\n                             \"(?:[_\\\\$\\\\p{L}\\\\p{Nd}\\\\p{Mn}\\\\p{Mc}\\\\p{Pc}\\\\u200C\\\\u200D]|\\\\\\\\u\\\\p{XDigit}{4})*$\")", "var_name": "VALID_ECMA5_PROPERTY_NAME_PAT"}, {"original_string": "static final Pattern VALID_ECMA6_PROPERTY_NAME_PAT =\n            Pattern.compile(\"^(?:[_\\\\$\\\\p{L}\\\\p{Nl}]|\\\\\\\\u\\\\p{XDigit}{4}|\\\\\\\\u\\\\{\\\\p{XDigit}+\\\\})\" +\n                             \"(?:[_\\\\$\\\\p{L}\\\\p{Nl}\\\\p{Nd}\\\\p{Mn}\\\\p{Mc}\\\\p{Pc}\\\\u200C\\\\u200D]|\\\\\\\\u\\\\p{XDigit}{4}|\\\\\\\\u\\\\{\\\\p{XDigit}+\\\\})*$\");", "modifier": "static final", "type": "Pattern", "declarator": "VALID_ECMA6_PROPERTY_NAME_PAT =\n            Pattern.compile(\"^(?:[_\\\\$\\\\p{L}\\\\p{Nl}]|\\\\\\\\u\\\\p{XDigit}{4}|\\\\\\\\u\\\\{\\\\p{XDigit}+\\\\})\" +\n                             \"(?:[_\\\\$\\\\p{L}\\\\p{Nl}\\\\p{Nd}\\\\p{Mn}\\\\p{Mc}\\\\p{Pc}\\\\u200C\\\\u200D]|\\\\\\\\u\\\\p{XDigit}{4}|\\\\\\\\u\\\\{\\\\p{XDigit}+\\\\})*$\")", "var_name": "VALID_ECMA6_PROPERTY_NAME_PAT"}, {"original_string": "private static final Pattern VALID_JSON5_PROPERTY_NAME_PAT =\n            Pattern.compile(\"^([^\\u0000-\\u001F\\\\p{Cn}\\\"/\\\\\\\\]|\\\\\\\\[bfnrt\\\\\\\\/\\\"]|\\\\\\\\u\\\\p{XDigit}{4})+$\");", "modifier": "private static final", "type": "Pattern", "declarator": "VALID_JSON5_PROPERTY_NAME_PAT =\n            Pattern.compile(\"^([^\\u0000-\\u001F\\\\p{Cn}\\\"/\\\\\\\\]|\\\\\\\\[bfnrt\\\\\\\\/\\\"]|\\\\\\\\u\\\\p{XDigit}{4})+$\")", "var_name": "VALID_JSON5_PROPERTY_NAME_PAT"}, {"original_string": "private static final Pattern VALID_JSON6_PROPERTY_NAME_PAT =\n            Pattern.compile(\"^([^\\u0000-\\u001F\\\\p{Cn}\\\"/\\\\\\\\]|\\\\\\\\[bfnrt\\\\\\\\/\\\"]|\\\\\\\\u\\\\p{XDigit}{4}|\\\\\\\\u\\\\{\\\\p{XDigit}+\\\\})+$\");", "modifier": "private static final", "type": "Pattern", "declarator": "VALID_JSON6_PROPERTY_NAME_PAT =\n            Pattern.compile(\"^([^\\u0000-\\u001F\\\\p{Cn}\\\"/\\\\\\\\]|\\\\\\\\[bfnrt\\\\\\\\/\\\"]|\\\\\\\\u\\\\p{XDigit}{4}|\\\\\\\\u\\\\{\\\\p{XDigit}+\\\\})+$\")", "var_name": "VALID_JSON6_PROPERTY_NAME_PAT"}, {"original_string": "private static final Set<String> RESERVED_WORDS =\n            new HashSet<>(Arrays.asList(\n                                    /* keywords for ECMAScript 5.1 */\n                          \"break\", \"case\", \"catch\", \"continue\", \"debugger\",\n                          \"default\", \"delete\", \"do\", \"else\", \"finally\", \"for\",\n                          \"function\", \"if\", \"in\", \"instanceof\", \"new\", \"return\",\n                          \"switch\", \"this\", \"throw\", \"try\", \"typeof\", \"var\",\n                          \"void\", \"while\", \"with\",\n                                    /* future reserved words for ECMAScript 5.1 */\n                          \"class\", \"const\", \"enum\", \"export\", \"extends\",\n                          \"implements\", \"import\",  \"interface\", \"let\", \"package\",\n                          \"private\", \"protected\", \"public\", \"static\",\n                          \"super\", \"yield\",\n                                    /* future reserved words for ECMAScript 6 */\n                          \"await\",\n                                    /* literals */\n                          \"true\", \"false\", \"null\", \"undefined\", \"Infinity\", \"NaN\"));", "modifier": "private static final", "type": "Set<String>", "declarator": "RESERVED_WORDS =\n            new HashSet<>(Arrays.asList(\n                                    /* keywords for ECMAScript 5.1 */\n                          \"break\", \"case\", \"catch\", \"continue\", \"debugger\",\n                          \"default\", \"delete\", \"do\", \"else\", \"finally\", \"for\",\n                          \"function\", \"if\", \"in\", \"instanceof\", \"new\", \"return\",\n                          \"switch\", \"this\", \"throw\", \"try\", \"typeof\", \"var\",\n                          \"void\", \"while\", \"with\",\n                                    /* future reserved words for ECMAScript 5.1 */\n                          \"class\", \"const\", \"enum\", \"export\", \"extends\",\n                          \"implements\", \"import\",  \"interface\", \"let\", \"package\",\n                          \"private\", \"protected\", \"public\", \"static\",\n                          \"super\", \"yield\",\n                                    /* future reserved words for ECMAScript 6 */\n                          \"await\",\n                                    /* literals */\n                          \"true\", \"false\", \"null\", \"undefined\", \"Infinity\", \"NaN\"))", "var_name": "RESERVED_WORDS"}], "methods": [{"identifier": "toJSON", "parameters": "( Object obj )", "modifiers": "public static", "return": "String", "signature": "String toJSON( Object obj )", "full_signature": "public static String toJSON( Object obj )", "class_method_signature": "JSONUtil.toJSON( Object obj )", "testcase": false, "constructor": false}, {"identifier": "toJSON", "parameters": "( Object obj, JSONConfig cfg )", "modifiers": "public static", "return": "String", "signature": "String toJSON( Object obj, JSONConfig cfg )", "full_signature": "public static String toJSON( Object obj, JSONConfig cfg )", "class_method_signature": "JSONUtil.toJSON( Object obj, JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "toJSON", "parameters": "( Object obj, Writer json )", "modifiers": "public static", "return": "void", "signature": "void toJSON( Object obj, Writer json )", "full_signature": "public static void toJSON( Object obj, Writer json )", "class_method_signature": "JSONUtil.toJSON( Object obj, Writer json )", "testcase": false, "constructor": false}, {"identifier": "toJSON", "parameters": "( Object obj, JSONConfig cfg, Writer json )", "modifiers": "public static", "return": "void", "signature": "void toJSON( Object obj, JSONConfig cfg, Writer json )", "full_signature": "public static void toJSON( Object obj, JSONConfig cfg, Writer json )", "class_method_signature": "JSONUtil.toJSON( Object obj, JSONConfig cfg, Writer json )", "testcase": false, "constructor": false}, {"identifier": "appendPropertyValue", "parameters": "( Object propertyValue, Writer json, JSONConfig cfg )", "modifiers": "private static", "return": "void", "signature": "void appendPropertyValue( Object propertyValue, Writer json, JSONConfig cfg )", "full_signature": "private static void appendPropertyValue( Object propertyValue, Writer json, JSONConfig cfg )", "class_method_signature": "JSONUtil.appendPropertyValue( Object propertyValue, Writer json, JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "appendRecursiblePropertyValue", "parameters": "( Object propertyValue, Writer json, JSONConfig cfg, JSONType jsonType )", "modifiers": "private static", "return": "void", "signature": "void appendRecursiblePropertyValue( Object propertyValue, Writer json, JSONConfig cfg, JSONType jsonType )", "full_signature": "private static void appendRecursiblePropertyValue( Object propertyValue, Writer json, JSONConfig cfg, JSONType jsonType )", "class_method_signature": "JSONUtil.appendRecursiblePropertyValue( Object propertyValue, Writer json, JSONConfig cfg, JSONType jsonType )", "testcase": false, "constructor": false}, {"identifier": "appendSimplePropertyValue", "parameters": "( Object propertyValue, Writer json, JSONConfig cfg, JSONType jsonType )", "modifiers": "private static", "return": "void", "signature": "void appendSimplePropertyValue( Object propertyValue, Writer json, JSONConfig cfg, JSONType jsonType )", "full_signature": "private static void appendSimplePropertyValue( Object propertyValue, Writer json, JSONConfig cfg, JSONType jsonType )", "class_method_signature": "JSONUtil.appendSimplePropertyValue( Object propertyValue, Writer json, JSONConfig cfg, JSONType jsonType )", "testcase": false, "constructor": false}, {"identifier": "appendNumber", "parameters": "( Number num, Writer json, JSONConfig cfg )", "modifiers": "private static", "return": "void", "signature": "void appendNumber( Number num, Writer json, JSONConfig cfg )", "full_signature": "private static void appendNumber( Number num, Writer json, JSONConfig cfg )", "class_method_signature": "JSONUtil.appendNumber( Number num, Writer json, JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "appendDate", "parameters": "( Date date, Writer json, JSONConfig cfg )", "modifiers": "private static", "return": "void", "signature": "void appendDate( Date date, Writer json, JSONConfig cfg )", "full_signature": "private static void appendDate( Date date, Writer json, JSONConfig cfg )", "class_method_signature": "JSONUtil.appendDate( Date date, Writer json, JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "appendArrayPropertyValue", "parameters": "( Object propertyValue, Writer json, JSONConfig cfg )", "modifiers": "private static", "return": "void", "signature": "void appendArrayPropertyValue( Object propertyValue, Writer json, JSONConfig cfg )", "full_signature": "private static void appendArrayPropertyValue( Object propertyValue, Writer json, JSONConfig cfg )", "class_method_signature": "JSONUtil.appendArrayPropertyValue( Object propertyValue, Writer json, JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "appendObjectPropertyValue", "parameters": "( Map<?,?> map, Writer json, JSONConfig cfg )", "modifiers": "private static", "return": "void", "signature": "void appendObjectPropertyValue( Map<?,?> map, Writer json, JSONConfig cfg )", "full_signature": "private static void appendObjectPropertyValue( Map<?,?> map, Writer json, JSONConfig cfg )", "class_method_signature": "JSONUtil.appendObjectPropertyValue( Map<?,?> map, Writer json, JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "resourceBundleToMap", "parameters": "( ResourceBundle bundle )", "modifiers": "private static", "return": "Map<?,?>", "signature": "Map<?,?> resourceBundleToMap( ResourceBundle bundle )", "full_signature": "private static Map<?,?> resourceBundleToMap( ResourceBundle bundle )", "class_method_signature": "JSONUtil.resourceBundleToMap( ResourceBundle bundle )", "testcase": false, "constructor": false}, {"identifier": "getPropertyName", "parameters": "( Object key, JSONConfig cfg, Set<String> propertyNames )", "modifiers": "private static", "return": "String", "signature": "String getPropertyName( Object key, JSONConfig cfg, Set<String> propertyNames )", "full_signature": "private static String getPropertyName( Object key, JSONConfig cfg, Set<String> propertyNames )", "class_method_signature": "JSONUtil.getPropertyName( Object key, JSONConfig cfg, Set<String> propertyNames )", "testcase": false, "constructor": false}, {"identifier": "appendPropertyName", "parameters": "( String propertyName, Writer json, boolean quoteIdentifier )", "modifiers": "private static", "return": "void", "signature": "void appendPropertyName( String propertyName, Writer json, boolean quoteIdentifier )", "full_signature": "private static void appendPropertyName( String propertyName, Writer json, boolean quoteIdentifier )", "class_method_signature": "JSONUtil.appendPropertyName( String propertyName, Writer json, boolean quoteIdentifier )", "testcase": false, "constructor": false}, {"identifier": "escapeBadIdentifierCodePoints", "parameters": "( String propertyName, JSONConfig cfg )", "modifiers": "private static", "return": "String", "signature": "String escapeBadIdentifierCodePoints( String propertyName, JSONConfig cfg )", "full_signature": "private static String escapeBadIdentifierCodePoints( String propertyName, JSONConfig cfg )", "class_method_signature": "JSONUtil.escapeBadIdentifierCodePoints( String propertyName, JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "escapeNonAscii", "parameters": "( String str, JSONConfig cfg )", "modifiers": "private static", "return": "String", "signature": "String escapeNonAscii( String str, JSONConfig cfg )", "full_signature": "private static String escapeNonAscii( String str, JSONConfig cfg )", "class_method_signature": "JSONUtil.escapeNonAscii( String str, JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "escapeSurrogates", "parameters": "( String str, JSONConfig cfg )", "modifiers": "private static", "return": "String", "signature": "String escapeSurrogates( String str, JSONConfig cfg )", "full_signature": "private static String escapeSurrogates( String str, JSONConfig cfg )", "class_method_signature": "JSONUtil.escapeSurrogates( String str, JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "hasSurrogates", "parameters": "( String str )", "modifiers": "private static", "return": "boolean", "signature": "boolean hasSurrogates( String str )", "full_signature": "private static boolean hasSurrogates( String str )", "class_method_signature": "JSONUtil.hasSurrogates( String str )", "testcase": false, "constructor": false}, {"identifier": "writeString", "parameters": "( String strValue, Writer json, JSONConfig cfg, boolean checkNum )", "modifiers": "private static", "return": "void", "signature": "void writeString( String strValue, Writer json, JSONConfig cfg, boolean checkNum )", "full_signature": "private static void writeString( String strValue, Writer json, JSONConfig cfg, boolean checkNum )", "class_method_signature": "JSONUtil.writeString( String strValue, Writer json, JSONConfig cfg, boolean checkNum )", "testcase": false, "constructor": false}, {"identifier": "fastWriteString", "parameters": "( String strValue, Writer json )", "modifiers": "private static", "return": "void", "signature": "void fastWriteString( String strValue, Writer json )", "full_signature": "private static void fastWriteString( String strValue, Writer json )", "class_method_signature": "JSONUtil.fastWriteString( String strValue, Writer json )", "testcase": false, "constructor": false}, {"identifier": "isValidJSONNumber", "parameters": "( String numericString, JSONConfig cfg, Number num )", "modifiers": "private static", "return": "boolean", "signature": "boolean isValidJSONNumber( String numericString, JSONConfig cfg, Number num )", "full_signature": "private static boolean isValidJSONNumber( String numericString, JSONConfig cfg, Number num )", "class_method_signature": "JSONUtil.isValidJSONNumber( String numericString, JSONConfig cfg, Number num )", "testcase": false, "constructor": false}, {"identifier": "isSafeJsonNumber", "parameters": "( Number num, String numericString, JSONConfig cfg )", "modifiers": "private static", "return": "boolean", "signature": "boolean isSafeJsonNumber( Number num, String numericString, JSONConfig cfg )", "full_signature": "private static boolean isSafeJsonNumber( Number num, String numericString, JSONConfig cfg )", "class_method_signature": "JSONUtil.isSafeJsonNumber( Number num, String numericString, JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "getBundle", "parameters": "( Locale locale )", "modifiers": "static", "return": "ResourceBundle", "signature": "ResourceBundle getBundle( Locale locale )", "full_signature": "static ResourceBundle getBundle( Locale locale )", "class_method_signature": "JSONUtil.getBundle( Locale locale )", "testcase": false, "constructor": false}, {"identifier": "getJavascriptReservedWords", "parameters": "()", "modifiers": "public static", "return": "Set<String>", "signature": "Set<String> getJavascriptReservedWords()", "full_signature": "public static Set<String> getJavascriptReservedWords()", "class_method_signature": "JSONUtil.getJavascriptReservedWords()", "testcase": false, "constructor": false}, {"identifier": "isReservedWord", "parameters": "( String name )", "modifiers": "public static", "return": "boolean", "signature": "boolean isReservedWord( String name )", "full_signature": "public static boolean isReservedWord( String name )", "class_method_signature": "JSONUtil.isReservedWord( String name )", "testcase": false, "constructor": false}, {"identifier": "isValidIdentifierStart", "parameters": "( int codePoint, JSONConfig cfg )", "modifiers": "static", "return": "boolean", "signature": "boolean isValidIdentifierStart( int codePoint, JSONConfig cfg )", "full_signature": "static boolean isValidIdentifierStart( int codePoint, JSONConfig cfg )", "class_method_signature": "JSONUtil.isValidIdentifierStart( int codePoint, JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "isValidIdentifierPart", "parameters": "( int codePoint, JSONConfig cfg )", "modifiers": "static", "return": "boolean", "signature": "boolean isValidIdentifierPart( int codePoint, JSONConfig cfg )", "full_signature": "static boolean isValidIdentifierPart( int codePoint, JSONConfig cfg )", "class_method_signature": "JSONUtil.isValidIdentifierPart( int codePoint, JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "checkValidJavascriptPropertyName", "parameters": "( String propertyName, JSONConfig cfg )", "modifiers": "public static", "return": "void", "signature": "void checkValidJavascriptPropertyName( String propertyName, JSONConfig cfg )", "full_signature": "public static void checkValidJavascriptPropertyName( String propertyName, JSONConfig cfg )", "class_method_signature": "JSONUtil.checkValidJavascriptPropertyName( String propertyName, JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "checkValidJavascriptPropertyName", "parameters": "( String propertyName )", "modifiers": "public static", "return": "void", "signature": "void checkValidJavascriptPropertyName( String propertyName )", "full_signature": "public static void checkValidJavascriptPropertyName( String propertyName )", "class_method_signature": "JSONUtil.checkValidJavascriptPropertyName( String propertyName )", "testcase": false, "constructor": false}, {"identifier": "checkValidJavascriptPropertyNameImpl", "parameters": "( String propertyName, JSONConfig cfg )", "modifiers": "private static", "return": "void", "signature": "void checkValidJavascriptPropertyNameImpl( String propertyName, JSONConfig cfg )", "full_signature": "private static void checkValidJavascriptPropertyNameImpl( String propertyName, JSONConfig cfg )", "class_method_signature": "JSONUtil.checkValidJavascriptPropertyNameImpl( String propertyName, JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "isValidJavascriptPropertyName", "parameters": "( String propertyName, JSONConfig cfg )", "modifiers": "public static", "return": "boolean", "signature": "boolean isValidJavascriptPropertyName( String propertyName, JSONConfig cfg )", "full_signature": "public static boolean isValidJavascriptPropertyName( String propertyName, JSONConfig cfg )", "class_method_signature": "JSONUtil.isValidJavascriptPropertyName( String propertyName, JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "isValidJavascriptPropertyName", "parameters": "( String propertyName )", "modifiers": "public static", "return": "boolean", "signature": "boolean isValidJavascriptPropertyName( String propertyName )", "full_signature": "public static boolean isValidJavascriptPropertyName( String propertyName )", "class_method_signature": "JSONUtil.isValidJavascriptPropertyName( String propertyName )", "testcase": false, "constructor": false}, {"identifier": "isValidJavascriptPropertyNameImpl", "parameters": "( String propertyName, JSONConfig cfg )", "modifiers": "private static", "return": "boolean", "signature": "boolean isValidJavascriptPropertyNameImpl( String propertyName, JSONConfig cfg )", "full_signature": "private static boolean isValidJavascriptPropertyNameImpl( String propertyName, JSONConfig cfg )", "class_method_signature": "JSONUtil.isValidJavascriptPropertyNameImpl( String propertyName, JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "getPropertyNameValidationPattern", "parameters": "( JSONConfig cfg )", "modifiers": "static", "return": "Pattern", "signature": "Pattern getPropertyNameValidationPattern( JSONConfig cfg )", "full_signature": "static Pattern getPropertyNameValidationPattern( JSONConfig cfg )", "class_method_signature": "JSONUtil.getPropertyNameValidationPattern( JSONConfig cfg )", "testcase": false, "constructor": false}, {"identifier": "JSONUtil", "parameters": "()", "modifiers": "private", "return": "", "signature": " JSONUtil()", "full_signature": "private  JSONUtil()", "class_method_signature": "JSONUtil.JSONUtil()", "testcase": false, "constructor": true}], "file": "JSONUtil/src/main/java/org/kopitubruk/util/json/JSONUtil.java"}, "focal_method": {"identifier": "escapeBadIdentifierCodePoints", "parameters": "( String propertyName, JSONConfig cfg )", "modifiers": "private static", "return": "String", "body": "private static String escapeBadIdentifierCodePoints( String propertyName, JSONConfig cfg )\n    {\n        boolean useSingleLetterEscapes = cfg.isFullJSONIdentifierCodePoints();\n        boolean processInlineEscapes = true;\n\n        StringProcessor cp = new StringProcessor(propertyName, cfg, useSingleLetterEscapes, processInlineEscapes);\n        if ( cp.isNoProcessing() && isValidJavascriptPropertyNameImpl(propertyName, cfg) ){\n            return propertyName;\n        }\n        StringBuilder buf = new StringBuilder(propertyName.length()+20);\n        while ( cp.nextReady() ){\n            String esc = cp.getEscape();\n            if ( esc != null ){\n                buf.append(esc);                        // have valid escape\n            }else if ( cp.getIndex() > 0 && isValidIdentifierPart(cp.getCodePoint(), cfg) ){\n                cp.appendChars(buf);\n            }else if ( cp.getIndex() == 0 && isValidIdentifierStart(cp.getCodePoint(), cfg) ){\n                cp.appendChars(buf);\n            }else{\n                buf.append(cp.getEscapeString());       // Bad code point for an identifier.\n            }\n        }\n\n        return buf.toString();\n    }", "signature": "String escapeBadIdentifierCodePoints( String propertyName, JSONConfig cfg )", "full_signature": "private static String escapeBadIdentifierCodePoints( String propertyName, JSONConfig cfg )", "class_method_signature": "JSONUtil.escapeBadIdentifierCodePoints( String propertyName, JSONConfig cfg )", "testcase": false, "constructor": false, "invocations": ["isFullJSONIdentifierCodePoints", "isNoProcessing", "isValidJavascriptPropertyNameImpl", "length", "nextReady", "getEscape", "append", "getIndex", "isValidIdentifierPart", "getCodePoint", "appendChars", "getIndex", "isValidIdentifierStart", "getCodePoint", "appendChars", "append", "getEscapeString", "toString"]}, "repository": {"repo_id": 38781549, "url": "https://github.com/billdavidson/JSONUtil", "language": "Java", "is_fork": false, "fork_count": 30, "stargazer_count": 49, "size": 6087, "license": "licensed"}}