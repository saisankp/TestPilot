{"test_class": {"identifier": "ServletContainerResponseWriterTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private HttpServletResponse      httpServletResponse;", "modifier": "private", "type": "HttpServletResponse", "declarator": "httpServletResponse", "var_name": "httpServletResponse"}, {"original_string": "private GenericContainerResponse containerResponse;", "modifier": "private", "type": "GenericContainerResponse", "declarator": "containerResponse", "var_name": "containerResponse"}, {"original_string": "private ServletContainerResponseWriter servletContainerResponseWriter;", "modifier": "private", "type": "ServletContainerResponseWriter", "declarator": "servletContainerResponseWriter", "var_name": "servletContainerResponseWriter"}], "file": "everrest-core/src/test/java/org/everrest/core/servlet/ServletContainerResponseWriterTest.java"}, "test_case": {"identifier": "writesBody", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void writesBody() throws Exception {\n        TstServletOutputStream output = new TstServletOutputStream();\n        when(httpServletResponse.getOutputStream()).thenReturn(output);\n        when(containerResponse.getEntity()).thenReturn(\"hello world\");\n        when(containerResponse.getHttpHeaders()).thenReturn(new MultivaluedHashMap<>());\n\n        servletContainerResponseWriter.writeBody(containerResponse, new StringEntityProvider());\n\n        assertArrayEquals(\"hello world\".getBytes(), output.getData());\n    }", "signature": "void writesBody()", "full_signature": "@Test public void writesBody()", "class_method_signature": "ServletContainerResponseWriterTest.writesBody()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "getOutputStream", "thenReturn", "when", "getEntity", "thenReturn", "when", "getHttpHeaders", "writeBody", "assertArrayEquals", "getBytes", "getData"]}, "focal_class": {"identifier": "ServletContainerResponseWriter", "superclass": "", "interfaces": "implements ContainerResponseWriter", "fields": [{"original_string": "private final HttpServletResponse servletResponse;", "modifier": "private final", "type": "HttpServletResponse", "declarator": "servletResponse", "var_name": "servletResponse"}], "methods": [{"identifier": "ServletContainerResponseWriter", "parameters": "(HttpServletResponse response)", "modifiers": "public", "return": "", "signature": " ServletContainerResponseWriter(HttpServletResponse response)", "full_signature": "public  ServletContainerResponseWriter(HttpServletResponse response)", "class_method_signature": "ServletContainerResponseWriter.ServletContainerResponseWriter(HttpServletResponse response)", "testcase": false, "constructor": true}, {"identifier": "writeBody", "parameters": "(GenericContainerResponse response, MessageBodyWriter entityWriter)", "modifiers": "@Override @SuppressWarnings({\"unchecked\"}) public", "return": "void", "signature": "void writeBody(GenericContainerResponse response, MessageBodyWriter entityWriter)", "full_signature": "@Override @SuppressWarnings({\"unchecked\"}) public void writeBody(GenericContainerResponse response, MessageBodyWriter entityWriter)", "class_method_signature": "ServletContainerResponseWriter.writeBody(GenericContainerResponse response, MessageBodyWriter entityWriter)", "testcase": false, "constructor": false}, {"identifier": "writeHeaders", "parameters": "(GenericContainerResponse response)", "modifiers": "@Override public", "return": "void", "signature": "void writeHeaders(GenericContainerResponse response)", "full_signature": "@Override public void writeHeaders(GenericContainerResponse response)", "class_method_signature": "ServletContainerResponseWriter.writeHeaders(GenericContainerResponse response)", "testcase": false, "constructor": false}], "file": "everrest-core/src/main/java/org/everrest/core/servlet/ServletContainerResponseWriter.java"}, "focal_method": {"identifier": "writeBody", "parameters": "(GenericContainerResponse response, MessageBodyWriter entityWriter)", "modifiers": "@Override @SuppressWarnings({\"unchecked\"}) public", "return": "void", "body": "@Override\n    @SuppressWarnings({\"unchecked\"})\n    public void writeBody(GenericContainerResponse response, MessageBodyWriter entityWriter) throws IOException {\n        if (servletResponse.isCommitted()) {\n            return;\n        }\n        Object entity = response.getEntity();\n        if (entity != null) {\n            OutputStream out = servletResponse.getOutputStream();\n            entityWriter.writeTo(entity, entity.getClass(), response.getEntityType(), null, response.getContentType(),\n                                 response.getHttpHeaders(), out);\n            out.flush();\n        }\n    }", "signature": "void writeBody(GenericContainerResponse response, MessageBodyWriter entityWriter)", "full_signature": "@Override @SuppressWarnings({\"unchecked\"}) public void writeBody(GenericContainerResponse response, MessageBodyWriter entityWriter)", "class_method_signature": "ServletContainerResponseWriter.writeBody(GenericContainerResponse response, MessageBodyWriter entityWriter)", "testcase": false, "constructor": false, "invocations": ["isCommitted", "getEntity", "getOutputStream", "writeTo", "getClass", "getEntityType", "getContentType", "getHttpHeaders", "flush"]}, "repository": {"repo_id": 14550159, "url": "https://github.com/codenvy/everrest", "language": "Java", "is_fork": false, "fork_count": 14, "stargazer_count": 24, "size": 4563, "license": "licensed"}}