{"test_class": {"identifier": "LazyCachePopulatorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n  Cache<Object, Object> cache;", "modifier": "@Mock", "type": "Cache<Object, Object>", "declarator": "cache", "var_name": "cache"}, {"original_string": "@Mock\n  CacheEntry<Object, Object> entry;", "modifier": "@Mock", "type": "CacheEntry<Object, Object>", "declarator": "entry", "var_name": "entry"}, {"original_string": "LazyCachePopulator<Object, Object> populator;", "modifier": "", "type": "LazyCachePopulator<Object, Object>", "declarator": "populator", "var_name": "populator"}], "file": "imcache-core/src/test/java/com/cetsoft/imcache/cache/populator/LazyCachePopulatorTest.java"}, "test_case": {"identifier": "populate", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void populate() {\n    Object object = new Object();\n    List<CacheEntry<Object, Object>> entries = new ArrayList<CacheEntry<Object, Object>>();\n    entries.add(entry);\n    doReturn(object).when(entry).getKey();\n    doReturn(object).when(entry).getValue();\n    doReturn(entries).when(populator).loadEntries();\n    doNothing().when(cache).put(object, object);\n    populator.pupulate();\n    try {\n      Thread.sleep(10);\n    } catch (InterruptedException e) {\n    }\n    verify(cache, atLeast(1)).put(object, object);\n    verify(populator).loadEntries();\n  }", "signature": "void populate()", "full_signature": "@Test public void populate()", "class_method_signature": "LazyCachePopulatorTest.populate()", "testcase": true, "constructor": false, "invocations": ["add", "getKey", "when", "doReturn", "getValue", "when", "doReturn", "loadEntries", "when", "doReturn", "put", "when", "doNothing", "pupulate", "sleep", "put", "verify", "atLeast", "loadEntries", "verify"]}, "focal_class": {"identifier": "LazyCachePopulator", "superclass": "extends AbstractCachePopulator<K, V>", "interfaces": "", "fields": [], "methods": [{"identifier": "LazyCachePopulator", "parameters": "(Cache<K, V> cache)", "modifiers": "public", "return": "", "signature": " LazyCachePopulator(Cache<K, V> cache)", "full_signature": "public  LazyCachePopulator(Cache<K, V> cache)", "class_method_signature": "LazyCachePopulator.LazyCachePopulator(Cache<K, V> cache)", "testcase": false, "constructor": true}, {"identifier": "pupulate", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void pupulate()", "full_signature": "public void pupulate()", "class_method_signature": "LazyCachePopulator.pupulate()", "testcase": false, "constructor": false}], "file": "imcache-core/src/main/java/com/cetsoft/imcache/cache/populator/LazyCachePopulator.java"}, "focal_method": {"identifier": "pupulate", "parameters": "()", "modifiers": "public", "return": "void", "body": "public void pupulate() {\n    final ExecutorService lazyExecuor = Executors.newSingleThreadExecutor(runnable -> ThreadUtils\n        .createDaemonThread(runnable,\n            \"imcache:cachePopulator(name=\" + cache.getName() + \",thread=0)\"));\n    lazyExecuor.execute(() -> {\n      final List<CacheEntry<K, V>> entries = loadEntries();\n      for (CacheEntry<K, V> cacheEntry : entries) {\n        cache.put(cacheEntry.getKey(), cacheEntry.getValue());\n      }\n    });\n    lazyExecuor.shutdown();\n  }", "signature": "void pupulate()", "full_signature": "public void pupulate()", "class_method_signature": "LazyCachePopulator.pupulate()", "testcase": false, "constructor": false, "invocations": ["newSingleThreadExecutor", "createDaemonThread", "getName", "execute", "loadEntries", "put", "getKey", "getValue", "shutdown"]}, "repository": {"repo_id": 12849994, "url": "https://github.com/Cetsoft/imcache", "language": "Java", "is_fork": false, "fork_count": 38, "stargazer_count": 121, "size": 1599, "license": "licensed"}}