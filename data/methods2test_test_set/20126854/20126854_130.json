{"test_class": {"identifier": "RandomAccessFileInputStreamTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private RandomAccessFileInputStream stream = null;", "modifier": "private", "type": "RandomAccessFileInputStream", "declarator": "stream = null", "var_name": "stream"}, {"original_string": "private byte[] testData = null;", "modifier": "private", "type": "byte[]", "declarator": "testData = null", "var_name": "testData"}, {"original_string": "private File tempFile = null;", "modifier": "private", "type": "File", "declarator": "tempFile = null", "var_name": "tempFile"}], "file": "feya/libraries/archive_diff/diff.shared/src/test/java/com/google/archivepatcher/shared/RandomAccessFileInputStreamTest.java"}, "test_case": {"identifier": "testSkip", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testSkip() throws IOException {\n    // Skip values <= 0 should always produce 0 and not actually skip anything.\n    Assert.assertEquals(0, stream.skip(-1));\n    Assert.assertEquals(0, stream.skip(0));\n    // Skip the first 5 bytes and read the 6th, which should have the value 5.\n    Assert.assertEquals(5, stream.skip(5));\n    Assert.assertEquals(5, stream.read());\n    // 6 bytes have been read, so the max skip is testDataLength - 6. Ensure this is true.\n    Assert.assertEquals(testData.length - 5 - 1, stream.skip(testData.length));\n    // At the end of the file, skip should always return 0.\n    Assert.assertEquals(0, stream.skip(17));\n  }", "signature": "void testSkip()", "full_signature": "@Test public void testSkip()", "class_method_signature": "RandomAccessFileInputStreamTest.testSkip()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "skip", "assertEquals", "skip", "assertEquals", "skip", "assertEquals", "read", "assertEquals", "skip", "assertEquals", "skip"]}, "focal_class": {"identifier": "RandomAccessFileInputStream", "superclass": "extends InputStream", "interfaces": "", "fields": [{"original_string": "private final RandomAccessFile raf;", "modifier": "private final", "type": "RandomAccessFile", "declarator": "raf", "var_name": "raf"}, {"original_string": "private long mark = -1;", "modifier": "private", "type": "long", "declarator": "mark = -1", "var_name": "mark"}, {"original_string": "private long rangeOffset;", "modifier": "private", "type": "long", "declarator": "rangeOffset", "var_name": "rangeOffset"}, {"original_string": "private long rangeLength;", "modifier": "private", "type": "long", "declarator": "rangeLength", "var_name": "rangeLength"}, {"original_string": "private final long fileLength;", "modifier": "private final", "type": "long", "declarator": "fileLength", "var_name": "fileLength"}], "methods": [{"identifier": "RandomAccessFileInputStream", "parameters": "(File file)", "modifiers": "public", "return": "", "signature": " RandomAccessFileInputStream(File file)", "full_signature": "public  RandomAccessFileInputStream(File file)", "class_method_signature": "RandomAccessFileInputStream.RandomAccessFileInputStream(File file)", "testcase": false, "constructor": true}, {"identifier": "RandomAccessFileInputStream", "parameters": "(File file, long rangeOffset, long rangeLength)", "modifiers": "public", "return": "", "signature": " RandomAccessFileInputStream(File file, long rangeOffset, long rangeLength)", "full_signature": "public  RandomAccessFileInputStream(File file, long rangeOffset, long rangeLength)", "class_method_signature": "RandomAccessFileInputStream.RandomAccessFileInputStream(File file, long rangeOffset, long rangeLength)", "testcase": false, "constructor": true}, {"identifier": "getRandomAccessFile", "parameters": "(File file)", "modifiers": "protected", "return": "RandomAccessFile", "signature": "RandomAccessFile getRandomAccessFile(File file)", "full_signature": "protected RandomAccessFile getRandomAccessFile(File file)", "class_method_signature": "RandomAccessFileInputStream.getRandomAccessFile(File file)", "testcase": false, "constructor": false}, {"identifier": "setRange", "parameters": "(long rangeOffset, long rangeLength)", "modifiers": "public", "return": "void", "signature": "void setRange(long rangeOffset, long rangeLength)", "full_signature": "public void setRange(long rangeOffset, long rangeLength)", "class_method_signature": "RandomAccessFileInputStream.setRange(long rangeOffset, long rangeLength)", "testcase": false, "constructor": false}, {"identifier": "available", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int available()", "full_signature": "@Override public int available()", "class_method_signature": "RandomAccessFileInputStream.available()", "testcase": false, "constructor": false}, {"identifier": "getPosition", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getPosition()", "full_signature": "public long getPosition()", "class_method_signature": "RandomAccessFileInputStream.getPosition()", "testcase": false, "constructor": false}, {"identifier": "close", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void close()", "full_signature": "@Override public void close()", "class_method_signature": "RandomAccessFileInputStream.close()", "testcase": false, "constructor": false}, {"identifier": "read", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int read()", "full_signature": "@Override public int read()", "class_method_signature": "RandomAccessFileInputStream.read()", "testcase": false, "constructor": false}, {"identifier": "read", "parameters": "(byte[] b, int off, int len)", "modifiers": "@Override public", "return": "int", "signature": "int read(byte[] b, int off, int len)", "full_signature": "@Override public int read(byte[] b, int off, int len)", "class_method_signature": "RandomAccessFileInputStream.read(byte[] b, int off, int len)", "testcase": false, "constructor": false}, {"identifier": "read", "parameters": "(byte[] b)", "modifiers": "@Override public", "return": "int", "signature": "int read(byte[] b)", "full_signature": "@Override public int read(byte[] b)", "class_method_signature": "RandomAccessFileInputStream.read(byte[] b)", "testcase": false, "constructor": false}, {"identifier": "skip", "parameters": "(long n)", "modifiers": "@Override public", "return": "long", "signature": "long skip(long n)", "full_signature": "@Override public long skip(long n)", "class_method_signature": "RandomAccessFileInputStream.skip(long n)", "testcase": false, "constructor": false}, {"identifier": "markSupported", "parameters": "()", "modifiers": "@Override public", "return": "boolean", "signature": "boolean markSupported()", "full_signature": "@Override public boolean markSupported()", "class_method_signature": "RandomAccessFileInputStream.markSupported()", "testcase": false, "constructor": false}, {"identifier": "mark", "parameters": "(int readlimit)", "modifiers": "@Override public", "return": "void", "signature": "void mark(int readlimit)", "full_signature": "@Override public void mark(int readlimit)", "class_method_signature": "RandomAccessFileInputStream.mark(int readlimit)", "testcase": false, "constructor": false}, {"identifier": "reset", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void reset()", "full_signature": "@Override public void reset()", "class_method_signature": "RandomAccessFileInputStream.reset()", "testcase": false, "constructor": false}, {"identifier": "length", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long length()", "full_signature": "public long length()", "class_method_signature": "RandomAccessFileInputStream.length()", "testcase": false, "constructor": false}], "file": "feya/libraries/archive_diff/diff.shared/src/main/java/com/google/archivepatcher/shared/RandomAccessFileInputStream.java"}, "focal_method": {"identifier": "skip", "parameters": "(long n)", "modifiers": "@Override public", "return": "long", "body": "@Override\n  public long skip(long n) throws IOException {\n    if (n <= 0) {\n      return 0;\n    }\n    int available = available();\n    if (available <= 0) {\n      return 0;\n    }\n    int skipAmount = (int) Math.min(available, n);\n    raf.seek(raf.getFilePointer() + skipAmount);\n    return skipAmount;\n  }", "signature": "long skip(long n)", "full_signature": "@Override public long skip(long n)", "class_method_signature": "RandomAccessFileInputStream.skip(long n)", "testcase": false, "constructor": false, "invocations": ["available", "min", "seek", "getFilePointer"]}, "repository": {"repo_id": 20126854, "url": "https://github.com/kaedea/Feya", "language": "Java", "is_fork": false, "fork_count": 1, "stargazer_count": 12, "size": 7798, "license": "licensed"}}