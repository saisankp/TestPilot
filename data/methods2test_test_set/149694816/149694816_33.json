{"test_class": {"identifier": "BuildServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "protected BuildService buildService;", "modifier": "protected", "type": "BuildService", "declarator": "buildService", "var_name": "buildService"}], "file": "core/src/test/java/ship/build/web/service/BuildServiceTest.java"}, "test_case": {"identifier": "testList", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testList() {\n    final BuildDetails result1 = new BuildDetails();\n    final BuildDetails result2 = new BuildDetails();\n    final BuildDetails result3 = new BuildDetails();\n    final BuildDetails result4 = new BuildDetails();\n    final BuildDetails result5 = new BuildDetails();\n    buildService.save(result1);\n    buildService.save(result2);\n    buildService.save(result3);\n    buildService.save(result4);\n    buildService.save(result5);\n    assertEquals(2, buildService.list(result2.getUuid(), 3).size());\n    assertEquals(3, buildService.list(null, 3).size());\n    assertEquals(3, buildService.list(result5.getUuid(), 3).size());\n    assertNull(buildService.list(randomUUID().toString(), 3));\n  }", "signature": "void testList()", "full_signature": "@Test public void testList()", "class_method_signature": "BuildServiceTest.testList()", "testcase": true, "constructor": false, "invocations": ["save", "save", "save", "save", "save", "assertEquals", "size", "list", "getUuid", "assertEquals", "size", "list", "assertEquals", "size", "list", "getUuid", "assertNull", "list", "toString", "randomUUID"]}, "focal_class": {"identifier": "BuildService", "superclass": "extends AbstractService", "interfaces": "", "fields": [{"original_string": "protected final AtomicInteger sequence = new AtomicInteger();", "modifier": "protected final", "type": "AtomicInteger", "declarator": "sequence = new AtomicInteger()", "var_name": "sequence"}, {"original_string": "protected final LinkedList<String> uuids = new LinkedList<>();", "modifier": "protected final", "type": "LinkedList<String>", "declarator": "uuids = new LinkedList<>()", "var_name": "uuids"}, {"original_string": "protected final Map<String, BuildDetails> uuid2buildResult = new HashMap<>();", "modifier": "protected final", "type": "Map<String, BuildDetails>", "declarator": "uuid2buildResult = new HashMap<>()", "var_name": "uuid2buildResult"}, {"original_string": "protected final List<DangerousConsumer<BuildSummary>> listeners = new ArrayList<>();", "modifier": "protected final", "type": "List<DangerousConsumer<BuildSummary>>", "declarator": "listeners = new ArrayList<>()", "var_name": "listeners"}], "methods": [{"identifier": "addListener", "parameters": "(final DangerousConsumer<BuildSummary> listener)", "modifiers": "public", "return": "void", "signature": "void addListener(final DangerousConsumer<BuildSummary> listener)", "full_signature": "public void addListener(final DangerousConsumer<BuildSummary> listener)", "class_method_signature": "BuildService.addListener(final DangerousConsumer<BuildSummary> listener)", "testcase": false, "constructor": false}, {"identifier": "save", "parameters": "(final BuildDetails buildDetails)", "modifiers": "public", "return": "void", "signature": "void save(final BuildDetails buildDetails)", "full_signature": "public void save(final BuildDetails buildDetails)", "class_method_signature": "BuildService.save(final BuildDetails buildDetails)", "testcase": false, "constructor": false}, {"identifier": "get", "parameters": "(final String uuid)", "modifiers": "public", "return": "Optional<BuildDetails>", "signature": "Optional<BuildDetails> get(final String uuid)", "full_signature": "public Optional<BuildDetails> get(final String uuid)", "class_method_signature": "BuildService.get(final String uuid)", "testcase": false, "constructor": false}, {"identifier": "list", "parameters": "(final String from, final int requestSize)", "modifiers": "public", "return": "List<BuildSummary>", "signature": "List<BuildSummary> list(final String from, final int requestSize)", "full_signature": "public List<BuildSummary> list(final String from, final int requestSize)", "class_method_signature": "BuildService.list(final String from, final int requestSize)", "testcase": false, "constructor": false}], "file": "core/src/main/java/ship/build/web/service/BuildService.java"}, "focal_method": {"identifier": "list", "parameters": "(final String from, final int requestSize)", "modifiers": "public", "return": "List<BuildSummary>", "body": "public List<BuildSummary> list(final String from, final int requestSize) {\n    int fromIndex = (null == from) ? 0 : uuids.indexOf(from);\n    int toIndex = Math.min(fromIndex + requestSize, uuids.size());\n    if (fromIndex < 0) {\n      return null;\n    } else {\n      return uuids.subList(fromIndex, toIndex).stream()\n          .map(uuid2buildResult::get)\n          .map(BuildDetails::getSummary)\n          .collect(toList());\n    }\n  }", "signature": "List<BuildSummary> list(final String from, final int requestSize)", "full_signature": "public List<BuildSummary> list(final String from, final int requestSize)", "class_method_signature": "BuildService.list(final String from, final int requestSize)", "testcase": false, "constructor": false, "invocations": ["indexOf", "min", "size", "collect", "map", "map", "stream", "subList", "toList"]}, "repository": {"repo_id": 149694816, "url": "https://github.com/aergoio/ship", "language": "Java", "is_fork": false, "fork_count": 4, "stargazer_count": 11, "size": 1743, "license": "licensed"}}