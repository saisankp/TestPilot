{"test_class": {"identifier": "CSVDatasetAdapterTest", "superclass": "", "interfaces": "", "fields": [], "file": "JAICore/jaicore-ml/src/test/java/ai/libs/jaicore/ml/core/dataset/serialization/CSVDatasetAdapterTest.java"}, "test_case": {"identifier": "testWriteDataset", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testWriteDataset() throws DatasetDeserializationFailedException, IOException {\n\t\tILabeledDataset<ILabeledInstance> dataset = OpenMLDatasetReader.deserializeDataset(31);\n\t\tFile f = new File(\"test.csv\");\n\t\tCSVDatasetAdapter.writeDataset(f, dataset);\n\t\tassertTrue(f.exists());\n\t}", "signature": "void testWriteDataset()", "full_signature": "@Test public void testWriteDataset()", "class_method_signature": "CSVDatasetAdapterTest.testWriteDataset()", "testcase": true, "constructor": false, "invocations": ["deserializeDataset", "writeDataset", "assertTrue", "exists"]}, "focal_class": {"identifier": "CSVDatasetAdapter", "superclass": "", "interfaces": "implements IDatasetDeserializer<ILabeledDataset<ILabeledInstance>>", "fields": [], "methods": [{"identifier": "CSVDatasetAdapter", "parameters": "()", "modifiers": "public", "return": "", "signature": " CSVDatasetAdapter()", "full_signature": "public  CSVDatasetAdapter()", "class_method_signature": "CSVDatasetAdapter.CSVDatasetAdapter()", "testcase": false, "constructor": true}, {"identifier": "deserializeDataset", "parameters": "(final IDatasetDescriptor datasetDescription)", "modifiers": "@Override public", "return": "ILabeledDataset<ILabeledInstance>", "signature": "ILabeledDataset<ILabeledInstance> deserializeDataset(final IDatasetDescriptor datasetDescription)", "full_signature": "@Override public ILabeledDataset<ILabeledInstance> deserializeDataset(final IDatasetDescriptor datasetDescription)", "class_method_signature": "CSVDatasetAdapter.deserializeDataset(final IDatasetDescriptor datasetDescription)", "testcase": false, "constructor": false}, {"identifier": "readDataset", "parameters": "(final File csvInputFile)", "modifiers": "public static", "return": "ILabeledDataset<ILabeledInstance>", "signature": "ILabeledDataset<ILabeledInstance> readDataset(final File csvInputFile)", "full_signature": "public static ILabeledDataset<ILabeledInstance> readDataset(final File csvInputFile)", "class_method_signature": "CSVDatasetAdapter.readDataset(final File csvInputFile)", "testcase": false, "constructor": false}, {"identifier": "writeDataset", "parameters": "(final File arffOutputFile, final ILabeledDataset<? extends ILabeledInstance> data)", "modifiers": "public static", "return": "void", "signature": "void writeDataset(final File arffOutputFile, final ILabeledDataset<? extends ILabeledInstance> data)", "full_signature": "public static void writeDataset(final File arffOutputFile, final ILabeledDataset<? extends ILabeledInstance> data)", "class_method_signature": "CSVDatasetAdapter.writeDataset(final File arffOutputFile, final ILabeledDataset<? extends ILabeledInstance> data)", "testcase": false, "constructor": false}, {"identifier": "serializeAttributeValue", "parameters": "(final IAttribute att, final Object attValue)", "modifiers": "private static", "return": "String", "signature": "String serializeAttributeValue(final IAttribute att, final Object attValue)", "full_signature": "private static String serializeAttributeValue(final IAttribute att, final Object attValue)", "class_method_signature": "CSVDatasetAdapter.serializeAttributeValue(final IAttribute att, final Object attValue)", "testcase": false, "constructor": false}], "file": "JAICore/jaicore-ml/src/main/java/ai/libs/jaicore/ml/core/dataset/serialization/CSVDatasetAdapter.java"}, "focal_method": {"identifier": "writeDataset", "parameters": "(final File arffOutputFile, final ILabeledDataset<? extends ILabeledInstance> data)", "modifiers": "public static", "return": "void", "body": "public static void writeDataset(final File arffOutputFile, final ILabeledDataset<? extends ILabeledInstance> data) throws IOException {\n\t\ttry (BufferedWriter bw = new BufferedWriter(new FileWriter(arffOutputFile))) {\n\t\t\t// write header line for csv\n\t\t\tbw.write(data.getInstanceSchema().getAttributeList().stream().map(x -> \"\\\"\" + x.getName() + \"\\\"\").collect(Collectors.joining(\",\")));\n\t\t\tbw.write(\",\");\n\t\t\tbw.write(\"\\\"\" + data.getLabelAttribute().getName() + \"\\\"\");\n\t\t\tbw.write(\"\\n\");\n\n\t\t\tfor (ILabeledInstance instance : data) {\n\t\t\t\tbw.write(IntStream.range(0, instance.getNumAttributes()).mapToObj(x -> serializeAttributeValue(data.getAttribute(x), instance.getAttributeValue(x))).collect(Collectors.joining(\",\")));\n\t\t\t\tbw.write(\",\");\n\t\t\t\tbw.write(serializeAttributeValue(data.getInstanceSchema().getLabelAttribute(), instance.getLabel()));\n\t\t\t\tbw.write(\"\\n\");\n\t\t\t}\n\t\t}\n\t}", "signature": "void writeDataset(final File arffOutputFile, final ILabeledDataset<? extends ILabeledInstance> data)", "full_signature": "public static void writeDataset(final File arffOutputFile, final ILabeledDataset<? extends ILabeledInstance> data)", "class_method_signature": "CSVDatasetAdapter.writeDataset(final File arffOutputFile, final ILabeledDataset<? extends ILabeledInstance> data)", "testcase": false, "constructor": false, "invocations": ["write", "collect", "map", "stream", "getAttributeList", "getInstanceSchema", "getName", "joining", "write", "write", "getName", "getLabelAttribute", "write", "write", "collect", "mapToObj", "range", "getNumAttributes", "serializeAttributeValue", "getAttribute", "getAttributeValue", "joining", "write", "write", "serializeAttributeValue", "getLabelAttribute", "getInstanceSchema", "getLabel", "write"]}, "repository": {"repo_id": 95635499, "url": "https://github.com/fmohr/AILibs", "language": "Java", "is_fork": false, "fork_count": 26, "stargazer_count": 25, "size": 155873, "license": "licensed"}}