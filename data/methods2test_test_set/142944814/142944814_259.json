{"test_class": {"identifier": "IoUtilsTest", "superclass": "", "interfaces": "", "fields": [], "file": "core/util/src/test/java/hera/util/IoUtilsTest.java"}, "test_case": {"identifier": "testGetChecksum", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testGetChecksum() throws NoSuchAlgorithmException, IOException {\n    final Object[][] testParameters =\n        new Object[][] {\n            {new ByteArrayInputStream(new byte[] {1, 2, 3}),\n                new byte[] {82, -119, -33, 115, 125, -11, 115, 38, -4, -35, 34, 89, 122, -5, 31,\n                    -84}},\n            {new ByteArrayInputStream(new byte[] {4, 5, 6, 7, 8}),\n                new byte[] {-94, -23, -23, -60, 5, -4, -76, 40, 8, -49, -96, -22, -14, 82, 124,\n                    55}},\n            {new ByteArrayInputStream(new byte[] {9, 10, 11, 12, 13, 14, 15}), new byte[] {-80, -53,\n                24, -101, -113, 102, 100, 106, -112, 42, 57, -61, 15, 35, -61, -93}}};\n\n    for (final Object[] testParameter : testParameters) {\n      byte[] expected = (byte[]) testParameter[1];\n      InputStream in = (InputStream) testParameter[0];\n\n      byte[] actual = IoUtils.getChecksum(in);\n      for (int i = 0; i < actual.length; ++i) {\n        assertEquals(expected[i], actual[i]);\n      }\n    }\n  }", "signature": "void testGetChecksum()", "full_signature": "@Test public void testGetChecksum()", "class_method_signature": "IoUtilsTest.testGetChecksum()", "testcase": true, "constructor": false, "invocations": ["getChecksum", "assertEquals"]}, "focal_class": {"identifier": "IoUtils", "superclass": "", "interfaces": "", "fields": [{"original_string": "protected static final Logger logger = getLogger(IoUtils.class);", "modifier": "protected static final", "type": "Logger", "declarator": "logger = getLogger(IoUtils.class)", "var_name": "logger"}], "methods": [{"identifier": "tryFlush", "parameters": "(final Object... flushable)", "modifiers": "public static", "return": "void", "signature": "void tryFlush(final Object... flushable)", "full_signature": "public static void tryFlush(final Object... flushable)", "class_method_signature": "IoUtils.tryFlush(final Object... flushable)", "testcase": false, "constructor": false}, {"identifier": "stream", "parameters": "(final InputStream in, final StreamConsumer consumer)", "modifiers": "public static", "return": "int", "signature": "int stream(final InputStream in, final StreamConsumer consumer)", "full_signature": "public static int stream(final InputStream in, final StreamConsumer consumer)", "class_method_signature": "IoUtils.stream(final InputStream in, final StreamConsumer consumer)", "testcase": false, "constructor": false}, {"identifier": "redirect", "parameters": "(final InputStream from, final OutputStream to)", "modifiers": "public static", "return": "int", "signature": "int redirect(final InputStream from, final OutputStream to)", "full_signature": "public static int redirect(final InputStream from, final OutputStream to)", "class_method_signature": "IoUtils.redirect(final InputStream from, final OutputStream to)", "testcase": false, "constructor": false}, {"identifier": "redirect", "parameters": "(final Reader from, final Writer to)", "modifiers": "public static", "return": "int", "signature": "int redirect(final Reader from, final Writer to)", "full_signature": "public static int redirect(final Reader from, final Writer to)", "class_method_signature": "IoUtils.redirect(final Reader from, final Writer to)", "testcase": false, "constructor": false}, {"identifier": "from", "parameters": "(\n      final InputStream in)", "modifiers": "public static", "return": "byte[]", "signature": "byte[] from(\n      final InputStream in)", "full_signature": "public static byte[] from(\n      final InputStream in)", "class_method_signature": "IoUtils.from(\n      final InputStream in)", "testcase": false, "constructor": false}, {"identifier": "from", "parameters": "(\n      final Reader reader)", "modifiers": "public static", "return": "String", "signature": "String from(\n      final Reader reader)", "full_signature": "public static String from(\n      final Reader reader)", "class_method_signature": "IoUtils.from(\n      final Reader reader)", "testcase": false, "constructor": false}, {"identifier": "getChecksum", "parameters": "(final InputStream in)", "modifiers": "public static", "return": "byte[]", "signature": "byte[] getChecksum(final InputStream in)", "full_signature": "public static byte[] getChecksum(final InputStream in)", "class_method_signature": "IoUtils.getChecksum(final InputStream in)", "testcase": false, "constructor": false}, {"identifier": "getChecksumAsString", "parameters": "(final InputStream in)", "modifiers": "public static", "return": "String", "signature": "String getChecksumAsString(final InputStream in)", "full_signature": "public static String getChecksumAsString(final InputStream in)", "class_method_signature": "IoUtils.getChecksumAsString(final InputStream in)", "testcase": false, "constructor": false}], "file": "core/util/src/main/java/hera/util/IoUtils.java"}, "focal_method": {"identifier": "getChecksum", "parameters": "(final InputStream in)", "modifiers": "public static", "return": "byte[]", "body": "public static byte[] getChecksum(final InputStream in)\n      throws IOException, NoSuchAlgorithmException {\n    final MessageDigest checksumGenerator = MessageDigest.getInstance(\"MD5\");\n\n    final DigestInputStream dis = new DigestInputStream(in, checksumGenerator);\n    int readBytes = redirect(dis, new ByteArrayOutputStream());\n    logger.debug(\"{} byte(s) read\", readBytes);\n    return checksumGenerator.digest();\n  }", "signature": "byte[] getChecksum(final InputStream in)", "full_signature": "public static byte[] getChecksum(final InputStream in)", "class_method_signature": "IoUtils.getChecksum(final InputStream in)", "testcase": false, "constructor": false, "invocations": ["getInstance", "redirect", "debug", "digest"]}, "repository": {"repo_id": 142944814, "url": "https://github.com/aergoio/heraj", "language": "Java", "is_fork": false, "fork_count": 4, "stargazer_count": 18, "size": 11443, "license": "licensed"}}