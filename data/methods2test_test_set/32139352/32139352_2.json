{"test_class": {"identifier": "OpenTipBotServiceTest", "superclass": "extends AbstractTransactionalJUnit4SpringContextTests", "interfaces": "", "fields": [{"original_string": "@Autowired\n    protected OpenTipBotService opentipbotService;", "modifier": "@Autowired\n    protected", "type": "OpenTipBotService", "declarator": "opentipbotService", "var_name": "opentipbotService"}], "file": "opentipbot-service/src/test/java/opentipbot/service/OpenTipBotServiceTest.java"}, "test_case": {"identifier": "processNewOpenTipBotCommandsTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void processNewOpenTipBotCommandsTest()\n    {\n        try {\n            opentipbotService.processNewOpenTipBotCommands();\n        } catch (OpenTipBotServiceException e) {\n            e.printStackTrace();\n        }\n    }", "signature": "void processNewOpenTipBotCommandsTest()", "full_signature": "@Test public void processNewOpenTipBotCommandsTest()", "class_method_signature": "OpenTipBotServiceTest.processNewOpenTipBotCommandsTest()", "testcase": true, "constructor": false, "invocations": ["processNewOpenTipBotCommands", "printStackTrace"]}, "focal_class": {"identifier": "OpenTipBotService", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger logger = LoggerFactory.getLogger(OpenTipBotService.class.getCanonicalName());", "modifier": "private static final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(OpenTipBotService.class.getCanonicalName())", "var_name": "logger"}, {"original_string": "private String TIP_TWEET_REGEX;", "modifier": "private", "type": "String", "declarator": "TIP_TWEET_REGEX", "var_name": "TIP_TWEET_REGEX"}, {"original_string": "private String WITHDRAW_TWEET_REGEX;", "modifier": "private", "type": "String", "declarator": "WITHDRAW_TWEET_REGEX", "var_name": "WITHDRAW_TWEET_REGEX"}, {"original_string": "private String TIP_RAIN_TWEET_REGEX;", "modifier": "private", "type": "String", "declarator": "TIP_RAIN_TWEET_REGEX", "var_name": "TIP_RAIN_TWEET_REGEX"}, {"original_string": "private String TIP_RANDOM_TWEET_REGEX;", "modifier": "private", "type": "String", "declarator": "TIP_RANDOM_TWEET_REGEX", "var_name": "TIP_RANDOM_TWEET_REGEX"}, {"original_string": "private Pattern TIP_COMMAND_PATTERN;", "modifier": "private", "type": "Pattern", "declarator": "TIP_COMMAND_PATTERN", "var_name": "TIP_COMMAND_PATTERN"}, {"original_string": "private Pattern WITHDRAW_COMMAND_PATTERN;", "modifier": "private", "type": "Pattern", "declarator": "WITHDRAW_COMMAND_PATTERN", "var_name": "WITHDRAW_COMMAND_PATTERN"}, {"original_string": "private Pattern TIP_RAIN_COMMAND_PATTERN;", "modifier": "private", "type": "Pattern", "declarator": "TIP_RAIN_COMMAND_PATTERN", "var_name": "TIP_RAIN_COMMAND_PATTERN"}, {"original_string": "private Pattern TIP_RANDOM_COMMAND_PATTERN;", "modifier": "private", "type": "Pattern", "declarator": "TIP_RANDOM_COMMAND_PATTERN", "var_name": "TIP_RANDOM_COMMAND_PATTERN"}, {"original_string": "@Autowired\n    private TwitterTemplate twitterTemplate;", "modifier": "@Autowired\n    private", "type": "TwitterTemplate", "declarator": "twitterTemplate", "var_name": "twitterTemplate"}, {"original_string": "@Autowired\n    private OpenTipBotCommandRepository opentipbotCommandRepository;", "modifier": "@Autowired\n    private", "type": "OpenTipBotCommandRepository", "declarator": "opentipbotCommandRepository", "var_name": "opentipbotCommandRepository"}, {"original_string": "@Autowired\n    private BitcoinService bitcoinService;", "modifier": "@Autowired\n    private", "type": "BitcoinService", "declarator": "bitcoinService", "var_name": "bitcoinService"}, {"original_string": "@Autowired\n    private OpenTipBotUserRepository opentipbotUserRepository;", "modifier": "@Autowired\n    private", "type": "OpenTipBotUserRepository", "declarator": "opentipbotUserRepository", "var_name": "opentipbotUserRepository"}, {"original_string": "@Autowired\n    private Environment env;", "modifier": "@Autowired\n    private", "type": "Environment", "declarator": "env", "var_name": "env"}], "methods": [{"identifier": "getTwitterTemplate", "parameters": "()", "modifiers": "public", "return": "TwitterTemplate", "signature": "TwitterTemplate getTwitterTemplate()", "full_signature": "public TwitterTemplate getTwitterTemplate()", "class_method_signature": "OpenTipBotService.getTwitterTemplate()", "testcase": false, "constructor": false}, {"identifier": "init", "parameters": "()", "modifiers": "@PostConstruct public", "return": "void", "signature": "void init()", "full_signature": "@PostConstruct public void init()", "class_method_signature": "OpenTipBotService.init()", "testcase": false, "constructor": false}, {"identifier": "handleNewTweets", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void handleNewTweets()", "full_signature": "public void handleNewTweets()", "class_method_signature": "OpenTipBotService.handleNewTweets()", "testcase": false, "constructor": false}, {"identifier": "handleNewTweet", "parameters": "(Tweet tweet)", "modifiers": "public", "return": "void", "signature": "void handleNewTweet(Tweet tweet)", "full_signature": "public void handleNewTweet(Tweet tweet)", "class_method_signature": "OpenTipBotService.handleNewTweet(Tweet tweet)", "testcase": false, "constructor": false}, {"identifier": "processNewOpenTipBotCommands", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void processNewOpenTipBotCommands()", "full_signature": "public void processNewOpenTipBotCommands()", "class_method_signature": "OpenTipBotService.processNewOpenTipBotCommands()", "testcase": false, "constructor": false}, {"identifier": "processFavs", "parameters": "(List<OpenTipBotCommand> commands)", "modifiers": "private", "return": "void", "signature": "void processFavs(List<OpenTipBotCommand> commands)", "full_signature": "private void processFavs(List<OpenTipBotCommand> commands)", "class_method_signature": "OpenTipBotService.processFavs(List<OpenTipBotCommand> commands)", "testcase": false, "constructor": false}, {"identifier": "processErrorNotifications", "parameters": "(List<OpenTipBotCommand> commands)", "modifiers": "private", "return": "void", "signature": "void processErrorNotifications(List<OpenTipBotCommand> commands)", "full_signature": "private void processErrorNotifications(List<OpenTipBotCommand> commands)", "class_method_signature": "OpenTipBotService.processErrorNotifications(List<OpenTipBotCommand> commands)", "testcase": false, "constructor": false}, {"identifier": "processReceiverNotifications", "parameters": "(List<OpenTipBotCommand> commands)", "modifiers": "private", "return": "void", "signature": "void processReceiverNotifications(List<OpenTipBotCommand> commands)", "full_signature": "private void processReceiverNotifications(List<OpenTipBotCommand> commands)", "class_method_signature": "OpenTipBotService.processReceiverNotifications(List<OpenTipBotCommand> commands)", "testcase": false, "constructor": false}, {"identifier": "processWithdrawals", "parameters": "(List<OpenTipBotCommand> commands)", "modifiers": "private", "return": "void", "signature": "void processWithdrawals(List<OpenTipBotCommand> commands)", "full_signature": "private void processWithdrawals(List<OpenTipBotCommand> commands)", "class_method_signature": "OpenTipBotService.processWithdrawals(List<OpenTipBotCommand> commands)", "testcase": false, "constructor": false}, {"identifier": "processTips", "parameters": "(List<OpenTipBotCommand> commands)", "modifiers": "private", "return": "void", "signature": "void processTips(List<OpenTipBotCommand> commands)", "full_signature": "private void processTips(List<OpenTipBotCommand> commands)", "class_method_signature": "OpenTipBotService.processTips(List<OpenTipBotCommand> commands)", "testcase": false, "constructor": false}, {"identifier": "notifyReceiver", "parameters": "(OpenTipBotCommand opentipbotCommand)", "modifiers": "private", "return": "void", "signature": "void notifyReceiver(OpenTipBotCommand opentipbotCommand)", "full_signature": "private void notifyReceiver(OpenTipBotCommand opentipbotCommand)", "class_method_signature": "OpenTipBotService.notifyReceiver(OpenTipBotCommand opentipbotCommand)", "testcase": false, "constructor": false}, {"identifier": "favOriginalMessage", "parameters": "(OpenTipBotCommand opentipbotCommand)", "modifiers": "private", "return": "void", "signature": "void favOriginalMessage(OpenTipBotCommand opentipbotCommand)", "full_signature": "private void favOriginalMessage(OpenTipBotCommand opentipbotCommand)", "class_method_signature": "OpenTipBotService.favOriginalMessage(OpenTipBotCommand opentipbotCommand)", "testcase": false, "constructor": false}, {"identifier": "validateWithdrawalCommand", "parameters": "(OpenTipBotCommand opentipbotCommand)", "modifiers": "", "return": "boolean", "signature": "boolean validateWithdrawalCommand(OpenTipBotCommand opentipbotCommand)", "full_signature": " boolean validateWithdrawalCommand(OpenTipBotCommand opentipbotCommand)", "class_method_signature": "OpenTipBotService.validateWithdrawalCommand(OpenTipBotCommand opentipbotCommand)", "testcase": false, "constructor": false}, {"identifier": "notifyValidationError", "parameters": "(OpenTipBotCommand opentipbotCommand, String errorMessage)", "modifiers": "private", "return": "void", "signature": "void notifyValidationError(OpenTipBotCommand opentipbotCommand, String errorMessage)", "full_signature": "private void notifyValidationError(OpenTipBotCommand opentipbotCommand, String errorMessage)", "class_method_signature": "OpenTipBotService.notifyValidationError(OpenTipBotCommand opentipbotCommand, String errorMessage)", "testcase": false, "constructor": false}, {"identifier": "getRandomTipNotificationMessage", "parameters": "(String fromUserName, String toUserName, double amount)", "modifiers": "", "return": "String", "signature": "String getRandomTipNotificationMessage(String fromUserName, String toUserName, double amount)", "full_signature": " String getRandomTipNotificationMessage(String fromUserName, String toUserName, double amount)", "class_method_signature": "OpenTipBotService.getRandomTipNotificationMessage(String fromUserName, String toUserName, double amount)", "testcase": false, "constructor": false}, {"identifier": "validateTipCommand", "parameters": "(OpenTipBotCommand opentipbotCommand)", "modifiers": "", "return": "boolean", "signature": "boolean validateTipCommand(OpenTipBotCommand opentipbotCommand)", "full_signature": " boolean validateTipCommand(OpenTipBotCommand opentipbotCommand)", "class_method_signature": "OpenTipBotService.validateTipCommand(OpenTipBotCommand opentipbotCommand)", "testcase": false, "constructor": false}, {"identifier": "validateUserExists", "parameters": "(String toUserName)", "modifiers": "private", "return": "String", "signature": "String validateUserExists(String toUserName)", "full_signature": "private String validateUserExists(String toUserName)", "class_method_signature": "OpenTipBotService.validateUserExists(String toUserName)", "testcase": false, "constructor": false}, {"identifier": "validateMinimumAmount", "parameters": "(double amount)", "modifiers": "", "return": "boolean", "signature": "boolean validateMinimumAmount(double amount)", "full_signature": " boolean validateMinimumAmount(double amount)", "class_method_signature": "OpenTipBotService.validateMinimumAmount(double amount)", "testcase": false, "constructor": false}, {"identifier": "validateUserRegistration", "parameters": "(String userName)", "modifiers": "", "return": "boolean", "signature": "boolean validateUserRegistration(String userName)", "full_signature": " boolean validateUserRegistration(String userName)", "class_method_signature": "OpenTipBotService.validateUserRegistration(String userName)", "testcase": false, "constructor": false}, {"identifier": "validateSufficientBalance", "parameters": "(double amount, String userName)", "modifiers": "", "return": "boolean", "signature": "boolean validateSufficientBalance(double amount, String userName)", "full_signature": " boolean validateSufficientBalance(double amount, String userName)", "class_method_signature": "OpenTipBotService.validateSufficientBalance(double amount, String userName)", "testcase": false, "constructor": false}, {"identifier": "validateSufficientBalanceToWIthdraw", "parameters": "(String userName)", "modifiers": "", "return": "boolean", "signature": "boolean validateSufficientBalanceToWIthdraw(String userName)", "full_signature": " boolean validateSufficientBalanceToWIthdraw(String userName)", "class_method_signature": "OpenTipBotService.validateSufficientBalanceToWIthdraw(String userName)", "testcase": false, "constructor": false}, {"identifier": "persistOpenTipBotCommands", "parameters": "(List<Tweet> incomingTweets)", "modifiers": "", "return": "void", "signature": "void persistOpenTipBotCommands(List<Tweet> incomingTweets)", "full_signature": " void persistOpenTipBotCommands(List<Tweet> incomingTweets)", "class_method_signature": "OpenTipBotService.persistOpenTipBotCommands(List<Tweet> incomingTweets)", "testcase": false, "constructor": false}, {"identifier": "findRandomFollower", "parameters": "(long fromUser)", "modifiers": "", "return": "String", "signature": "String findRandomFollower(long fromUser)", "full_signature": " String findRandomFollower(long fromUser)", "class_method_signature": "OpenTipBotService.findRandomFollower(long fromUser)", "testcase": false, "constructor": false}, {"identifier": "getRainUsernames", "parameters": "(String userNames)", "modifiers": "", "return": "List<String>", "signature": "List<String> getRainUsernames(String userNames)", "full_signature": " List<String> getRainUsernames(String userNames)", "class_method_signature": "OpenTipBotService.getRainUsernames(String userNames)", "testcase": false, "constructor": false}, {"identifier": "filterTweets", "parameters": "(List<Tweet> incomingTweets)", "modifiers": "", "return": "List<Tweet>", "signature": "List<Tweet> filterTweets(List<Tweet> incomingTweets)", "full_signature": " List<Tweet> filterTweets(List<Tweet> incomingTweets)", "class_method_signature": "OpenTipBotService.filterTweets(List<Tweet> incomingTweets)", "testcase": false, "constructor": false}, {"identifier": "filterNotProcessedTweets", "parameters": "(List<Tweet> incomingTweets)", "modifiers": "", "return": "List<Tweet>", "signature": "List<Tweet> filterNotProcessedTweets(List<Tweet> incomingTweets)", "full_signature": " List<Tweet> filterNotProcessedTweets(List<Tweet> incomingTweets)", "class_method_signature": "OpenTipBotService.filterNotProcessedTweets(List<Tweet> incomingTweets)", "testcase": false, "constructor": false}, {"identifier": "getCoinAmout", "parameters": "(String amount)", "modifiers": "", "return": "Double", "signature": "Double getCoinAmout(String amount)", "full_signature": " Double getCoinAmout(String amount)", "class_method_signature": "OpenTipBotService.getCoinAmout(String amount)", "testcase": false, "constructor": false}, {"identifier": "filterValidTweets", "parameters": "(List<Tweet> incomingTweets)", "modifiers": "", "return": "List<Tweet>", "signature": "List<Tweet> filterValidTweets(List<Tweet> incomingTweets)", "full_signature": " List<Tweet> filterValidTweets(List<Tweet> incomingTweets)", "class_method_signature": "OpenTipBotService.filterValidTweets(List<Tweet> incomingTweets)", "testcase": false, "constructor": false}, {"identifier": "removeLineSeparators", "parameters": "(String str)", "modifiers": "private", "return": "String", "signature": "String removeLineSeparators(String str)", "full_signature": "private String removeLineSeparators(String str)", "class_method_signature": "OpenTipBotService.removeLineSeparators(String str)", "testcase": false, "constructor": false}, {"identifier": "getLastTips", "parameters": "()", "modifiers": "public", "return": "List<OpenTipBotCommand>", "signature": "List<OpenTipBotCommand> getLastTips()", "full_signature": "public List<OpenTipBotCommand> getLastTips()", "class_method_signature": "OpenTipBotService.getLastTips()", "testcase": false, "constructor": false}, {"identifier": "formatDouble", "parameters": "(double d)", "modifiers": "private static", "return": "String", "signature": "String formatDouble(double d)", "full_signature": "private static String formatDouble(double d)", "class_method_signature": "OpenTipBotService.formatDouble(double d)", "testcase": false, "constructor": false}], "file": "opentipbot-service/src/main/java/opentipbot/service/OpenTipBotService.java"}, "focal_method": {"identifier": "processNewOpenTipBotCommands", "parameters": "()", "modifiers": "public", "return": "void", "body": "public void processNewOpenTipBotCommands() throws OpenTipBotServiceException {\n        logger.debug(\"Start command processing\");\n\n        processTips(opentipbotCommandRepository.findByOpenTipBotCommandStatusAndOpenTipBotCommandEnumOrderByCreationTimeAsc(OpenTipBotCommandStatus.NEW, OpenTipBotCommandEnum.TIP));\n\n        processTips(opentipbotCommandRepository.findByOpenTipBotCommandStatusAndOpenTipBotCommandEnumOrderByCreationTimeAsc(OpenTipBotCommandStatus.NEW, OpenTipBotCommandEnum.TIP_RAIN));\n\n        processTips(opentipbotCommandRepository.findByOpenTipBotCommandStatusAndOpenTipBotCommandEnumOrderByCreationTimeAsc(OpenTipBotCommandStatus.NEW, OpenTipBotCommandEnum.TIP_RANDOM));\n\n        processWithdrawals(opentipbotCommandRepository.findByOpenTipBotCommandStatusAndOpenTipBotCommandEnumOrderByCreationTimeAsc(OpenTipBotCommandStatus.NEW, OpenTipBotCommandEnum.WITHDRAW));\n\n        processReceiverNotifications(opentipbotCommandRepository.findByOpenTipBotCommandStatusAndOpenTipBotCommandEnumOrderByCreationTimeAsc(OpenTipBotCommandStatus.NEW, OpenTipBotCommandEnum.NOTIFY_RECEIVER));\n\n        processErrorNotifications(opentipbotCommandRepository.findByOpenTipBotCommandStatusAndOpenTipBotCommandEnumOrderByCreationTimeAsc(OpenTipBotCommandStatus.NEW, OpenTipBotCommandEnum.NOTIFY_ERROR));\n\n        processFavs(opentipbotCommandRepository.findByOpenTipBotCommandStatusAndOpenTipBotCommandEnumOrderByCreationTimeAsc(OpenTipBotCommandStatus.NEW, OpenTipBotCommandEnum.FAV));\n\n        logger.debug(\"Operation Complete\");\n\n    }", "signature": "void processNewOpenTipBotCommands()", "full_signature": "public void processNewOpenTipBotCommands()", "class_method_signature": "OpenTipBotService.processNewOpenTipBotCommands()", "testcase": false, "constructor": false, "invocations": ["debug", "processTips", "findByOpenTipBotCommandStatusAndOpenTipBotCommandEnumOrderByCreationTimeAsc", "processTips", "findByOpenTipBotCommandStatusAndOpenTipBotCommandEnumOrderByCreationTimeAsc", "processTips", "findByOpenTipBotCommandStatusAndOpenTipBotCommandEnumOrderByCreationTimeAsc", "processWithdrawals", "findByOpenTipBotCommandStatusAndOpenTipBotCommandEnumOrderByCreationTimeAsc", "processReceiverNotifications", "findByOpenTipBotCommandStatusAndOpenTipBotCommandEnumOrderByCreationTimeAsc", "processErrorNotifications", "findByOpenTipBotCommandStatusAndOpenTipBotCommandEnumOrderByCreationTimeAsc", "processFavs", "findByOpenTipBotCommandStatusAndOpenTipBotCommandEnumOrderByCreationTimeAsc", "debug"]}, "repository": {"repo_id": 32139352, "url": "https://github.com/gill3s/opentipbot", "language": "Java", "is_fork": false, "fork_count": 3, "stargazer_count": 8, "size": 1013, "license": "licensed"}}