{"test_class": {"identifier": "DownloadManagerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private MockWebServer mockWebServer;", "modifier": "private", "type": "MockWebServer", "declarator": "mockWebServer", "var_name": "mockWebServer"}, {"original_string": "private DownloadManager downloadManager;", "modifier": "private", "type": "DownloadManager", "declarator": "downloadManager", "var_name": "downloadManager"}, {"original_string": "private DownloadRequest request;", "modifier": "private", "type": "DownloadRequest", "declarator": "request", "var_name": "request"}], "file": "library/src/test/java/com/coolerfall/download/DownloadManagerTest.java"}, "test_case": {"identifier": "testDownload", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test public void testDownload() throws Exception {\n    int downloadId = downloadManager.add(request);\n    assertEquals(1, downloadId);\n  }", "signature": "void testDownload()", "full_signature": "@Test public void testDownload()", "class_method_signature": "DownloadManagerTest.testDownload()", "testcase": true, "constructor": false, "invocations": ["add", "assertEquals"]}, "focal_class": {"identifier": "DownloadManager", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final Context context;", "modifier": "private final", "type": "Context", "declarator": "context", "var_name": "context"}, {"original_string": "private final Downloader downloader;", "modifier": "private final", "type": "Downloader", "declarator": "downloader", "var_name": "downloader"}, {"original_string": "private final int threadPoolSize;", "modifier": "private final", "type": "int", "declarator": "threadPoolSize", "var_name": "threadPoolSize"}, {"original_string": "private final Logger logger;", "modifier": "private final", "type": "Logger", "declarator": "logger", "var_name": "logger"}, {"original_string": "private DownloadRequestQueue downloadRequestQueue;", "modifier": "private", "type": "DownloadRequestQueue", "declarator": "downloadRequestQueue", "var_name": "downloadRequestQueue"}], "methods": [{"identifier": "DownloadManager", "parameters": "(Builder builder)", "modifiers": "", "return": "", "signature": " DownloadManager(Builder builder)", "full_signature": "  DownloadManager(Builder builder)", "class_method_signature": "DownloadManager.DownloadManager(Builder builder)", "testcase": false, "constructor": true}, {"identifier": "add", "parameters": "(DownloadRequest request)", "modifiers": "public", "return": "int", "signature": "int add(DownloadRequest request)", "full_signature": "public int add(DownloadRequest request)", "class_method_signature": "DownloadManager.add(DownloadRequest request)", "testcase": false, "constructor": false}, {"identifier": "query", "parameters": "(int downloadId)", "modifiers": "public", "return": "DownloadState", "signature": "DownloadState query(int downloadId)", "full_signature": "public DownloadState query(int downloadId)", "class_method_signature": "DownloadManager.query(int downloadId)", "testcase": false, "constructor": false}, {"identifier": "query", "parameters": "(String url)", "modifiers": "", "return": "DownloadState", "signature": "DownloadState query(String url)", "full_signature": " DownloadState query(String url)", "class_method_signature": "DownloadManager.query(String url)", "testcase": false, "constructor": false}, {"identifier": "isDownloading", "parameters": "(int downloadId)", "modifiers": "public", "return": "boolean", "signature": "boolean isDownloading(int downloadId)", "full_signature": "public boolean isDownloading(int downloadId)", "class_method_signature": "DownloadManager.isDownloading(int downloadId)", "testcase": false, "constructor": false}, {"identifier": "isDownloading", "parameters": "(String url)", "modifiers": "public", "return": "boolean", "signature": "boolean isDownloading(String url)", "full_signature": "public boolean isDownloading(String url)", "class_method_signature": "DownloadManager.isDownloading(String url)", "testcase": false, "constructor": false}, {"identifier": "getTaskSize", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getTaskSize()", "full_signature": "public int getTaskSize()", "class_method_signature": "DownloadManager.getTaskSize()", "testcase": false, "constructor": false}, {"identifier": "cancel", "parameters": "(int downloadId)", "modifiers": "public", "return": "boolean", "signature": "boolean cancel(int downloadId)", "full_signature": "public boolean cancel(int downloadId)", "class_method_signature": "DownloadManager.cancel(int downloadId)", "testcase": false, "constructor": false}, {"identifier": "cancelAll", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void cancelAll()", "full_signature": "public void cancelAll()", "class_method_signature": "DownloadManager.cancelAll()", "testcase": false, "constructor": false}, {"identifier": "release", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void release()", "full_signature": "public void release()", "class_method_signature": "DownloadManager.release()", "testcase": false, "constructor": false}, {"identifier": "newBuilder", "parameters": "()", "modifiers": "public", "return": "Builder", "signature": "Builder newBuilder()", "full_signature": "public Builder newBuilder()", "class_method_signature": "DownloadManager.newBuilder()", "testcase": false, "constructor": false}], "file": "library/src/main/java/com/coolerfall/download/DownloadManager.java"}, "focal_method": {"identifier": "add", "parameters": "(DownloadRequest request)", "modifiers": "public", "return": "int", "body": "public int add(DownloadRequest request) {\n    request = checkNotNull(request, \"request == null\");\n    if (isDownloading(request.uri().toString())) {\n      return -1;\n    }\n\n    request.context(context);\n    request.downloader(downloader.copy());\n\n    /* add download request into download request queue */\n    return downloadRequestQueue.add(request) ? request.downloadId() : -1;\n  }", "signature": "int add(DownloadRequest request)", "full_signature": "public int add(DownloadRequest request)", "class_method_signature": "DownloadManager.add(DownloadRequest request)", "testcase": false, "constructor": false, "invocations": ["checkNotNull", "isDownloading", "toString", "uri", "context", "downloader", "copy", "add", "downloadId"]}, "repository": {"repo_id": 28896975, "url": "https://github.com/coolerfall/Android-HttpDownloadManager", "language": "Java", "is_fork": false, "fork_count": 41, "stargazer_count": 141, "size": 429, "license": "licensed"}}