{"test_class": {"identifier": "TranspositionTableTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private TranspositionTable table;", "modifier": "private", "type": "TranspositionTable", "declarator": "table", "var_name": "table"}], "file": "src/edu/lclark/orego/mcts/TranspositionTableTest.java"}, "test_case": {"identifier": "testFindOrAllocate", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testFindOrAllocate() {\n\t\tSearchNode m = table.findOrAllocate(-1L);\n\t\tassertNotNull(m);\n\t\tSearchNode n = table.findOrAllocate(-1L);\n\t\tassertTrue(m == n);\n\t\tSearchNode p = table.findOrAllocate(1L);\n\t\tassertFalse(m == p);\n\t}", "signature": "void testFindOrAllocate()", "full_signature": "@Test public void testFindOrAllocate()", "class_method_signature": "TranspositionTableTest.testFindOrAllocate()", "testcase": true, "constructor": false, "invocations": ["findOrAllocate", "assertNotNull", "findOrAllocate", "assertTrue", "findOrAllocate", "assertFalse"]}, "focal_class": {"identifier": "TranspositionTable", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final CoordinateSystem coords;", "modifier": "private final", "type": "CoordinateSystem", "declarator": "coords", "var_name": "coords"}, {"original_string": "private final Pool<ListNode<SearchNode>> listNodes;", "modifier": "private final", "type": "Pool<ListNode<SearchNode>>", "declarator": "listNodes", "var_name": "listNodes"}, {"original_string": "private final SearchNode[] table;", "modifier": "private final", "type": "SearchNode[]", "declarator": "table", "var_name": "table"}, {"original_string": "private int nodesInUse;", "modifier": "private", "type": "int", "declarator": "nodesInUse", "var_name": "nodesInUse"}], "methods": [{"identifier": "TranspositionTable", "parameters": "(int megabytes, SearchNodeBuilder builder,\n\t\t\tCoordinateSystem coords)", "modifiers": "public", "return": "", "signature": " TranspositionTable(int megabytes, SearchNodeBuilder builder,\n\t\t\tCoordinateSystem coords)", "full_signature": "public  TranspositionTable(int megabytes, SearchNodeBuilder builder,\n\t\t\tCoordinateSystem coords)", "class_method_signature": "TranspositionTable.TranspositionTable(int megabytes, SearchNodeBuilder builder,\n\t\t\tCoordinateSystem coords)", "testcase": false, "constructor": true}, {"identifier": "addChild", "parameters": "(SearchNode parent, SearchNode child)", "modifiers": "", "return": "void", "signature": "void addChild(SearchNode parent, SearchNode child)", "full_signature": " void addChild(SearchNode parent, SearchNode child)", "class_method_signature": "TranspositionTable.addChild(SearchNode parent, SearchNode child)", "testcase": false, "constructor": false}, {"identifier": "dagSize", "parameters": "(SearchNode root)", "modifiers": "public", "return": "int", "signature": "int dagSize(SearchNode root)", "full_signature": "public int dagSize(SearchNode root)", "class_method_signature": "TranspositionTable.dagSize(SearchNode root)", "testcase": false, "constructor": false}, {"identifier": "findIfPresent", "parameters": "(long fancyHash)", "modifiers": "public synchronized", "return": "SearchNode", "signature": "SearchNode findIfPresent(long fancyHash)", "full_signature": "public synchronized SearchNode findIfPresent(long fancyHash)", "class_method_signature": "TranspositionTable.findIfPresent(long fancyHash)", "testcase": false, "constructor": false}, {"identifier": "findOrAllocate", "parameters": "(long fancyHash)", "modifiers": "synchronized", "return": "SearchNode", "signature": "SearchNode findOrAllocate(long fancyHash)", "full_signature": "synchronized SearchNode findOrAllocate(long fancyHash)", "class_method_signature": "TranspositionTable.findOrAllocate(long fancyHash)", "testcase": false, "constructor": false}, {"identifier": "getCapacity", "parameters": "()", "modifiers": "", "return": "int", "signature": "int getCapacity()", "full_signature": " int getCapacity()", "class_method_signature": "TranspositionTable.getCapacity()", "testcase": false, "constructor": false}, {"identifier": "markNodesReachableFrom", "parameters": "(SearchNode root)", "modifiers": "", "return": "int", "signature": "int markNodesReachableFrom(SearchNode root)", "full_signature": " int markNodesReachableFrom(SearchNode root)", "class_method_signature": "TranspositionTable.markNodesReachableFrom(SearchNode root)", "testcase": false, "constructor": false}, {"identifier": "getNodesInUse", "parameters": "()", "modifiers": "", "return": "int", "signature": "int getNodesInUse()", "full_signature": " int getNodesInUse()", "class_method_signature": "TranspositionTable.getNodesInUse()", "testcase": false, "constructor": false}, {"identifier": "sweep", "parameters": "()", "modifiers": "", "return": "void", "signature": "void sweep()", "full_signature": " void sweep()", "class_method_signature": "TranspositionTable.sweep()", "testcase": false, "constructor": false}], "file": "src/edu/lclark/orego/mcts/TranspositionTable.java"}, "focal_method": {"identifier": "findOrAllocate", "parameters": "(long fancyHash)", "modifiers": "synchronized", "return": "SearchNode", "body": "synchronized SearchNode findOrAllocate(long fancyHash) {\n\t\tfinal int start = ((int) fancyHash & IGNORE_SIGN_BIT) % table.length;\n\t\tint slot = start;\n\t\tdo {\n\t\t\tfinal SearchNode n = table[slot];\n\t\t\tif (n.isInUse()) {\n\t\t\t\tif (n.getFancyHash() == fancyHash) {\n\t\t\t\t\treturn n;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tn.clear(fancyHash, coords);\n\t\t\t\tnodesInUse++;\n\t\t\t\treturn n;\n\t\t\t}\n\t\t\tslot = (slot + 1) % table.length;\n\t\t} while (slot != start);\n\t\treturn null;\n\t}", "signature": "SearchNode findOrAllocate(long fancyHash)", "full_signature": "synchronized SearchNode findOrAllocate(long fancyHash)", "class_method_signature": "TranspositionTable.findOrAllocate(long fancyHash)", "testcase": false, "constructor": false, "invocations": ["isInUse", "getFancyHash", "clear"]}, "repository": {"repo_id": 7859424, "url": "https://github.com/Orego/Orego", "language": "Java", "is_fork": false, "fork_count": 8, "stargazer_count": 35, "size": 1341444, "license": "licensed"}}