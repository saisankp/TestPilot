{"test_class": {"identifier": "ReportJsonPostProcessorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private ReportJsonPostProcessor reportJsonPostProcessor;", "modifier": "private", "type": "ReportJsonPostProcessor", "declarator": "reportJsonPostProcessor", "var_name": "reportJsonPostProcessor"}], "file": "plugin-code/src/test/java/com/trivago/cluecumber/json/processors/ReportJsonPostProcessorTest.java"}, "test_case": {"identifier": "postDeserializeTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void postDeserializeTest() {\n        Report report = new Report();\n\n        List<Element> elements = new ArrayList<>();\n\n        Element backgroundElement = new Element();\n        List<Step> backgroundSteps = new ArrayList<>();\n\n        Step backgroundStep1 = new Step();\n        backgroundStep1.setName(\"background step 1\");\n        backgroundSteps.add(backgroundStep1);\n\n        Step backgroundStep2 = new Step();\n        backgroundStep2.setName(\"background step 2\");\n        backgroundSteps.add(backgroundStep2);\n\n        backgroundElement.setSteps(backgroundSteps);\n        backgroundElement.setType(\"background\");\n        elements.add(backgroundElement);\n\n        Element element = new Element();\n        List<Tag> scenarioTags = new ArrayList<>();\n        Tag tag = new Tag();\n        tag.setName(\"@tag\");\n        scenarioTags.add(tag);\n        element.setTags(scenarioTags);\n        List<Step> steps = new ArrayList<>();\n        Step step = new Step();\n        step.setName(\"element step 1\");\n        steps.add(step);\n        Step step2 = new Step();\n        step2.setName(\"element step 2\");\n        steps.add(step2);\n        element.setSteps(steps);\n        elements.add(element);\n\n        List<Tag> featureTags = new ArrayList<>();\n        Tag featureTag = new Tag();\n        tag.setName(\"@feature\");\n        featureTags.add(featureTag);\n        report.setTags(featureTags);\n        report.setElements(elements);\n\n        assertThat(report.getElements().size(), is(2));\n        assertThat(report.getElements().get(1).getTags().size(), is(1));\n        reportJsonPostProcessor.postDeserialize(report, null, null);\n        assertThat(report.getElements().size(), is(1));\n        Element firstElement = report.getElements().get(0);\n        assertThat(firstElement.getTags().size(), is(2));\n        List<Step> firstElementSteps = firstElement.getSteps();\n        assertThat(firstElementSteps.size(), is(4));\n        assertThat(firstElementSteps.get(0).getName(), is(\"background step 1\"));\n        assertThat(firstElementSteps.get(1).getName(), is(\"background step 2\"));\n        assertThat(firstElementSteps.get(2).getName(), is(\"element step 1\"));\n        assertThat(firstElementSteps.get(3).getName(), is(\"element step 2\"));\n    }", "signature": "void postDeserializeTest()", "full_signature": "@Test public void postDeserializeTest()", "class_method_signature": "ReportJsonPostProcessorTest.postDeserializeTest()", "testcase": true, "constructor": false, "invocations": ["setName", "add", "setName", "add", "setSteps", "setType", "add", "setName", "add", "setTags", "setName", "add", "setName", "add", "setSteps", "add", "setName", "add", "setTags", "setElements", "assertThat", "size", "getElements", "is", "assertThat", "size", "getTags", "get", "getElements", "is", "postDeserialize", "assertThat", "size", "getElements", "is", "get", "getElements", "assertThat", "size", "getTags", "is", "getSteps", "assertThat", "size", "is", "assertThat", "getName", "get", "is", "assertThat", "getName", "get", "is", "assertThat", "getName", "get", "is", "assertThat", "getName", "get", "is"]}, "focal_class": {"identifier": "ReportJsonPostProcessor", "superclass": "", "interfaces": "implements PostProcessor<Report>", "fields": [{"original_string": "private final List<String> featureUris;", "modifier": "private final", "type": "List<String>", "declarator": "featureUris", "var_name": "featureUris"}], "methods": [{"identifier": "ReportJsonPostProcessor", "parameters": "()", "modifiers": "@Inject public", "return": "", "signature": " ReportJsonPostProcessor()", "full_signature": "@Inject public  ReportJsonPostProcessor()", "class_method_signature": "ReportJsonPostProcessor.ReportJsonPostProcessor()", "testcase": false, "constructor": true}, {"identifier": "postDeserialize", "parameters": "(final Report report, final JsonElement jsonElement, final Gson gson)", "modifiers": "@Override public", "return": "void", "signature": "void postDeserialize(final Report report, final JsonElement jsonElement, final Gson gson)", "full_signature": "@Override public void postDeserialize(final Report report, final JsonElement jsonElement, final Gson gson)", "class_method_signature": "ReportJsonPostProcessor.postDeserialize(final Report report, final JsonElement jsonElement, final Gson gson)", "testcase": false, "constructor": false}, {"identifier": "addFeatureInformationToScenarios", "parameters": "(final Report report)", "modifiers": "private", "return": "void", "signature": "void addFeatureInformationToScenarios(final Report report)", "full_signature": "private void addFeatureInformationToScenarios(final Report report)", "class_method_signature": "ReportJsonPostProcessor.addFeatureInformationToScenarios(final Report report)", "testcase": false, "constructor": false}, {"identifier": "mergeBackgroundScenarios", "parameters": "(final Report report)", "modifiers": "private", "return": "void", "signature": "void mergeBackgroundScenarios(final Report report)", "full_signature": "private void mergeBackgroundScenarios(final Report report)", "class_method_signature": "ReportJsonPostProcessor.mergeBackgroundScenarios(final Report report)", "testcase": false, "constructor": false}, {"identifier": "addFeatureIndex", "parameters": "(final Report report)", "modifiers": "private", "return": "void", "signature": "void addFeatureIndex(final Report report)", "full_signature": "private void addFeatureIndex(final Report report)", "class_method_signature": "ReportJsonPostProcessor.addFeatureIndex(final Report report)", "testcase": false, "constructor": false}, {"identifier": "postSerialize", "parameters": "(final JsonElement jsonElement, final Report report, final Gson gson)", "modifiers": "@Override public", "return": "void", "signature": "void postSerialize(final JsonElement jsonElement, final Report report, final Gson gson)", "full_signature": "@Override public void postSerialize(final JsonElement jsonElement, final Report report, final Gson gson)", "class_method_signature": "ReportJsonPostProcessor.postSerialize(final JsonElement jsonElement, final Report report, final Gson gson)", "testcase": false, "constructor": false}], "file": "plugin-code/src/main/java/com/trivago/cluecumber/json/processors/ReportJsonPostProcessor.java"}, "focal_method": {"identifier": "postDeserialize", "parameters": "(final Report report, final JsonElement jsonElement, final Gson gson)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void postDeserialize(final Report report, final JsonElement jsonElement, final Gson gson) {\n        addFeatureIndex(report);\n        addFeatureInformationToScenarios(report);\n        mergeBackgroundScenarios(report);\n    }", "signature": "void postDeserialize(final Report report, final JsonElement jsonElement, final Gson gson)", "full_signature": "@Override public void postDeserialize(final Report report, final JsonElement jsonElement, final Gson gson)", "class_method_signature": "ReportJsonPostProcessor.postDeserialize(final Report report, final JsonElement jsonElement, final Gson gson)", "testcase": false, "constructor": false, "invocations": ["addFeatureIndex", "addFeatureInformationToScenarios", "mergeBackgroundScenarios"]}, "repository": {"repo_id": 109986674, "url": "https://github.com/trivago/cluecumber-report-plugin", "stars": 124, "created": "11/8/2017 2:30:19 PM +00:00", "updates": "2020-01-27T12:00:16+00:00", "fork": "False", "license": "licensed"}}