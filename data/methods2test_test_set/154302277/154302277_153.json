{"test_class": {"identifier": "SetRandomisationSettingsCommandExecutorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n    private DlmsObjectConfigService dlmsObjectConfigService;", "modifier": "@Mock\n    private", "type": "DlmsObjectConfigService", "declarator": "dlmsObjectConfigService", "var_name": "dlmsObjectConfigService"}, {"original_string": "@Mock\n    private ProtocolServiceLookup protocolServiceLookup;", "modifier": "@Mock\n    private", "type": "ProtocolServiceLookup", "declarator": "protocolServiceLookup", "var_name": "protocolServiceLookup"}, {"original_string": "@Mock\n    private GetConfigurationObjectService getConfigurationObjectService;", "modifier": "@Mock\n    private", "type": "GetConfigurationObjectService", "declarator": "getConfigurationObjectService", "var_name": "getConfigurationObjectService"}, {"original_string": "@Mock\n    private SetConfigurationObjectService setConfigurationObjectService;", "modifier": "@Mock\n    private", "type": "SetConfigurationObjectService", "declarator": "setConfigurationObjectService", "var_name": "setConfigurationObjectService"}, {"original_string": "@InjectMocks\n    private SetRandomisationSettingsCommandExecutor executor;", "modifier": "@InjectMocks\n    private", "type": "SetRandomisationSettingsCommandExecutor", "declarator": "executor", "var_name": "executor"}, {"original_string": "@Mock\n    private DlmsConnection dlmsConnection;", "modifier": "@Mock\n    private", "type": "DlmsConnection", "declarator": "dlmsConnection", "var_name": "dlmsConnection"}, {"original_string": "@Mock\n    private DlmsConnectionManager dlmsConnectionManager;", "modifier": "@Mock\n    private", "type": "DlmsConnectionManager", "declarator": "dlmsConnectionManager", "var_name": "dlmsConnectionManager"}, {"original_string": "private SetRandomisationSettingsRequestDataDto dataDto;", "modifier": "private", "type": "SetRandomisationSettingsRequestDataDto", "declarator": "dataDto", "var_name": "dataDto"}, {"original_string": "private DlmsDevice device;", "modifier": "private", "type": "DlmsDevice", "declarator": "device", "var_name": "device"}], "file": "osgp/protocol-adapter-dlms/osgp-protocol-adapter-dlms/src/test/java/org/opensmartgridplatform/adapter/protocol/dlms/domain/commands/configuration/SetRandomisationSettingsCommandExecutorTest.java"}, "test_case": {"identifier": "testExecuteSuccess", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testExecuteSuccess() throws ProtocolAdapterException {\n\n        // CALL\n        final AccessResultCode resultCode = this.executor.execute(this.dlmsConnectionManager, this.device,\n                this.dataDto);\n\n        // ASSERT\n        assertThat(resultCode).isEqualTo(AccessResultCode.SUCCESS);\n    }", "signature": "void testExecuteSuccess()", "full_signature": "@Test public void testExecuteSuccess()", "class_method_signature": "SetRandomisationSettingsCommandExecutorTest.testExecuteSuccess()", "testcase": true, "constructor": false, "invocations": ["execute", "isEqualTo", "assertThat"]}, "focal_class": {"identifier": "SetRandomisationSettingsCommandExecutor", "superclass": "extends AbstractCommandExecutor<SetRandomisationSettingsRequestDataDto, AccessResultCode>", "interfaces": "", "fields": [{"original_string": "private static final Logger LOGGER = LoggerFactory.getLogger(SetRandomisationSettingsCommandExecutor.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(SetRandomisationSettingsCommandExecutor.class)", "var_name": "LOGGER"}, {"original_string": "private final DlmsObjectConfigService dlmsObjectConfigService;", "modifier": "private final", "type": "DlmsObjectConfigService", "declarator": "dlmsObjectConfigService", "var_name": "dlmsObjectConfigService"}, {"original_string": "private final ProtocolServiceLookup protocolServiceLookup;", "modifier": "private final", "type": "ProtocolServiceLookup", "declarator": "protocolServiceLookup", "var_name": "protocolServiceLookup"}], "methods": [{"identifier": "SetRandomisationSettingsCommandExecutor", "parameters": "(final DlmsObjectConfigService dlmsObjectConfigService,\n            final ProtocolServiceLookup protocolServiceLookup)", "modifiers": "@Autowired public", "return": "", "signature": " SetRandomisationSettingsCommandExecutor(final DlmsObjectConfigService dlmsObjectConfigService,\n            final ProtocolServiceLookup protocolServiceLookup)", "full_signature": "@Autowired public  SetRandomisationSettingsCommandExecutor(final DlmsObjectConfigService dlmsObjectConfigService,\n            final ProtocolServiceLookup protocolServiceLookup)", "class_method_signature": "SetRandomisationSettingsCommandExecutor.SetRandomisationSettingsCommandExecutor(final DlmsObjectConfigService dlmsObjectConfigService,\n            final ProtocolServiceLookup protocolServiceLookup)", "testcase": false, "constructor": true}, {"identifier": "fromBundleRequestInput", "parameters": "(final ActionRequestDto bundleInput)", "modifiers": "@Override public", "return": "SetRandomisationSettingsRequestDataDto", "signature": "SetRandomisationSettingsRequestDataDto fromBundleRequestInput(final ActionRequestDto bundleInput)", "full_signature": "@Override public SetRandomisationSettingsRequestDataDto fromBundleRequestInput(final ActionRequestDto bundleInput)", "class_method_signature": "SetRandomisationSettingsCommandExecutor.fromBundleRequestInput(final ActionRequestDto bundleInput)", "testcase": false, "constructor": false}, {"identifier": "asBundleResponse", "parameters": "(final AccessResultCode executionResult)", "modifiers": "@Override public", "return": "ActionResponseDto", "signature": "ActionResponseDto asBundleResponse(final AccessResultCode executionResult)", "full_signature": "@Override public ActionResponseDto asBundleResponse(final AccessResultCode executionResult)", "class_method_signature": "SetRandomisationSettingsCommandExecutor.asBundleResponse(final AccessResultCode executionResult)", "testcase": false, "constructor": false}, {"identifier": "execute", "parameters": "(final DlmsConnectionManager conn, final DlmsDevice device,\n            final SetRandomisationSettingsRequestDataDto setRandomisationSettingsRequestDataDto)", "modifiers": "@Override public", "return": "AccessResultCode", "signature": "AccessResultCode execute(final DlmsConnectionManager conn, final DlmsDevice device,\n            final SetRandomisationSettingsRequestDataDto setRandomisationSettingsRequestDataDto)", "full_signature": "@Override public AccessResultCode execute(final DlmsConnectionManager conn, final DlmsDevice device,\n            final SetRandomisationSettingsRequestDataDto setRandomisationSettingsRequestDataDto)", "class_method_signature": "SetRandomisationSettingsCommandExecutor.execute(final DlmsConnectionManager conn, final DlmsDevice device,\n            final SetRandomisationSettingsRequestDataDto setRandomisationSettingsRequestDataDto)", "testcase": false, "constructor": false}, {"identifier": "writeRandomisationSettings", "parameters": "(final DlmsConnectionManager conn, final DlmsDevice device,\n            final int randomisationStartWindow, final int multiplicationFactor, final int numberOfRetries)", "modifiers": "private", "return": "void", "signature": "void writeRandomisationSettings(final DlmsConnectionManager conn, final DlmsDevice device,\n            final int randomisationStartWindow, final int multiplicationFactor, final int numberOfRetries)", "full_signature": "private void writeRandomisationSettings(final DlmsConnectionManager conn, final DlmsDevice device,\n            final int randomisationStartWindow, final int multiplicationFactor, final int numberOfRetries)", "class_method_signature": "SetRandomisationSettingsCommandExecutor.writeRandomisationSettings(final DlmsConnectionManager conn, final DlmsDevice device,\n            final int randomisationStartWindow, final int multiplicationFactor, final int numberOfRetries)", "testcase": false, "constructor": false}, {"identifier": "writeDirectAttach", "parameters": "(final DlmsConnectionManager conn, final DlmsDevice device,\n            final boolean directAttach)", "modifiers": "private", "return": "void", "signature": "void writeDirectAttach(final DlmsConnectionManager conn, final DlmsDevice device,\n            final boolean directAttach)", "full_signature": "private void writeDirectAttach(final DlmsConnectionManager conn, final DlmsDevice device,\n            final boolean directAttach)", "class_method_signature": "SetRandomisationSettingsCommandExecutor.writeDirectAttach(final DlmsConnectionManager conn, final DlmsDevice device,\n            final boolean directAttach)", "testcase": false, "constructor": false}, {"identifier": "createNewConfiguration", "parameters": "(boolean directAttach,\n            ConfigurationObjectDto configurationOnDevice)", "modifiers": "private", "return": "ConfigurationObjectDto", "signature": "ConfigurationObjectDto createNewConfiguration(boolean directAttach,\n            ConfigurationObjectDto configurationOnDevice)", "full_signature": "private ConfigurationObjectDto createNewConfiguration(boolean directAttach,\n            ConfigurationObjectDto configurationOnDevice)", "class_method_signature": "SetRandomisationSettingsCommandExecutor.createNewConfiguration(boolean directAttach,\n            ConfigurationObjectDto configurationOnDevice)", "testcase": false, "constructor": false}, {"identifier": "writeAttribute", "parameters": "(final DlmsConnectionManager conn, final SetParameter parameter)", "modifiers": "private", "return": "void", "signature": "void writeAttribute(final DlmsConnectionManager conn, final SetParameter parameter)", "full_signature": "private void writeAttribute(final DlmsConnectionManager conn, final SetParameter parameter)", "class_method_signature": "SetRandomisationSettingsCommandExecutor.writeAttribute(final DlmsConnectionManager conn, final SetParameter parameter)", "testcase": false, "constructor": false}, {"identifier": "checkResult", "parameters": "(final AccessResultCode result, final String attributeName)", "modifiers": "private", "return": "void", "signature": "void checkResult(final AccessResultCode result, final String attributeName)", "full_signature": "private void checkResult(final AccessResultCode result, final String attributeName)", "class_method_signature": "SetRandomisationSettingsCommandExecutor.checkResult(final AccessResultCode result, final String attributeName)", "testcase": false, "constructor": false}, {"identifier": "getAttributeAddress", "parameters": "(final DlmsDevice device)", "modifiers": "private", "return": "AttributeAddress", "signature": "AttributeAddress getAttributeAddress(final DlmsDevice device)", "full_signature": "private AttributeAddress getAttributeAddress(final DlmsDevice device)", "class_method_signature": "SetRandomisationSettingsCommandExecutor.getAttributeAddress(final DlmsDevice device)", "testcase": false, "constructor": false}], "file": "osgp/protocol-adapter-dlms/osgp-protocol-adapter-dlms/src/main/java/org/opensmartgridplatform/adapter/protocol/dlms/domain/commands/configuration/SetRandomisationSettingsCommandExecutor.java"}, "focal_method": {"identifier": "execute", "parameters": "(final DlmsConnectionManager conn, final DlmsDevice device,\n            final SetRandomisationSettingsRequestDataDto setRandomisationSettingsRequestDataDto)", "modifiers": "@Override public", "return": "AccessResultCode", "body": "@Override\n    public AccessResultCode execute(final DlmsConnectionManager conn, final DlmsDevice device,\n            final SetRandomisationSettingsRequestDataDto setRandomisationSettingsRequestDataDto)\n            throws ProtocolAdapterException {\n\n        LOGGER.info(\"Executing SetRandomisationSettingsCommandExecutor. Data = {}\",\n                setRandomisationSettingsRequestDataDto);\n\n        boolean directAttach = setRandomisationSettingsRequestDataDto.getDirectAttach() == 1;\n        int randomisationStartWindow = setRandomisationSettingsRequestDataDto.getRandomisationStartWindow();\n        int multiplicationFactor = setRandomisationSettingsRequestDataDto.getMultiplicationFactor();\n        int numberOfRetries = setRandomisationSettingsRequestDataDto.getNumberOfRetries();\n\n        if (directAttach) {\n            LOGGER.info(\"Enabling directAttach on device {}.\", device.getDeviceIdentification());\n            writeDirectAttach(conn, device, true);\n        } else {\n            LOGGER.info(\"Disabling directAttach and setting Randomisation Settings for device {}.\",\n                    device.getDeviceIdentification());\n            writeDirectAttach(conn, device, false);\n            writeRandomisationSettings(conn, device, randomisationStartWindow, multiplicationFactor, numberOfRetries);\n        }\n\n        return AccessResultCode.SUCCESS;\n\n    }", "signature": "AccessResultCode execute(final DlmsConnectionManager conn, final DlmsDevice device,\n            final SetRandomisationSettingsRequestDataDto setRandomisationSettingsRequestDataDto)", "full_signature": "@Override public AccessResultCode execute(final DlmsConnectionManager conn, final DlmsDevice device,\n            final SetRandomisationSettingsRequestDataDto setRandomisationSettingsRequestDataDto)", "class_method_signature": "SetRandomisationSettingsCommandExecutor.execute(final DlmsConnectionManager conn, final DlmsDevice device,\n            final SetRandomisationSettingsRequestDataDto setRandomisationSettingsRequestDataDto)", "testcase": false, "constructor": false, "invocations": ["info", "getDirectAttach", "getRandomisationStartWindow", "getMultiplicationFactor", "getNumberOfRetries", "info", "getDeviceIdentification", "writeDirectAttach", "info", "getDeviceIdentification", "writeDirectAttach", "writeRandomisationSettings"]}, "repository": {"repo_id": 154302277, "url": "https://github.com/OSGP/open-smart-grid-platform", "stars": 30, "created": "10/23/2018 9:41:12 AM +00:00", "updates": "2020-01-26T20:15:09+00:00", "fork": "False", "license": "licensed"}}