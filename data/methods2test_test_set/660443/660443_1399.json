{"test_class": {"identifier": "SeedGeneratorTest", "superclass": "", "interfaces": "", "fields": [], "file": "tool/hash/src/test/java/org/openscience/cdk/hash/SeedGeneratorTest.java"}, "test_case": {"identifier": "testGenerate", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGenerate() throws Exception {\n\n        IAtomContainer container = mock(IAtomContainer.class);\n\n        AtomEncoder encoder = mock(AtomEncoder.class);\n        SeedGenerator generator = new SeedGenerator(encoder);\n\n        IAtom c1 = mock(IAtom.class);\n        IAtom c2 = mock(IAtom.class);\n        IAtom c3 = mock(IAtom.class);\n        IAtom c4 = mock(IAtom.class);\n        IAtom c5 = mock(IAtom.class);\n\n        when(container.getAtomCount()).thenReturn(5);\n        when(container.getAtom(0)).thenReturn(c1);\n        when(container.getAtom(1)).thenReturn(c2);\n        when(container.getAtom(2)).thenReturn(c3);\n        when(container.getAtom(3)).thenReturn(c4);\n        when(container.getAtom(4)).thenReturn(c5);\n\n        when(encoder.encode(c1, container)).thenReturn(42);\n        when(encoder.encode(c2, container)).thenReturn(42);\n        when(encoder.encode(c3, container)).thenReturn(42);\n        when(encoder.encode(c4, container)).thenReturn(42);\n        when(encoder.encode(c5, container)).thenReturn(42);\n\n        generator.generate(container);\n\n        verify(container, times(1)).getAtomCount();\n\n        verify(container, times(5)).getAtom(anyInt());\n\n        verify(encoder, times(1)).encode(c1, container);\n        verify(encoder, times(1)).encode(c2, container);\n        verify(encoder, times(1)).encode(c3, container);\n        verify(encoder, times(1)).encode(c4, container);\n        verify(encoder, times(1)).encode(c5, container);\n\n        verifyNoMoreInteractions(c1, c2, c3, c4, c5, container, encoder);\n    }", "signature": "void testGenerate()", "full_signature": "@Test public void testGenerate()", "class_method_signature": "SeedGeneratorTest.testGenerate()", "testcase": true, "constructor": false, "invocations": ["mock", "mock", "mock", "mock", "mock", "mock", "mock", "thenReturn", "when", "getAtomCount", "thenReturn", "when", "getAtom", "thenReturn", "when", "getAtom", "thenReturn", "when", "getAtom", "thenReturn", "when", "getAtom", "thenReturn", "when", "getAtom", "thenReturn", "when", "encode", "thenReturn", "when", "encode", "thenReturn", "when", "encode", "thenReturn", "when", "encode", "thenReturn", "when", "encode", "generate", "getAtomCount", "verify", "times", "getAtom", "verify", "times", "anyInt", "encode", "verify", "times", "encode", "verify", "times", "encode", "verify", "times", "encode", "verify", "times", "encode", "verify", "times", "verifyNoMoreInteractions"]}, "focal_class": {"identifier": "SeedGenerator", "superclass": "extends AbstractHashGenerator", "interfaces": "implements AtomHashGenerator", "fields": [{"original_string": "private final AtomEncoder     encoder;", "modifier": "private final", "type": "AtomEncoder", "declarator": "encoder", "var_name": "encoder"}, {"original_string": "private final AtomSuppression suppression;", "modifier": "private final", "type": "AtomSuppression", "declarator": "suppression", "var_name": "suppression"}], "methods": [{"identifier": "SeedGenerator", "parameters": "(AtomEncoder encoder)", "modifiers": "public", "return": "", "signature": " SeedGenerator(AtomEncoder encoder)", "full_signature": "public  SeedGenerator(AtomEncoder encoder)", "class_method_signature": "SeedGenerator.SeedGenerator(AtomEncoder encoder)", "testcase": false, "constructor": true}, {"identifier": "SeedGenerator", "parameters": "(AtomEncoder encoder, AtomSuppression suppression)", "modifiers": "public", "return": "", "signature": " SeedGenerator(AtomEncoder encoder, AtomSuppression suppression)", "full_signature": "public  SeedGenerator(AtomEncoder encoder, AtomSuppression suppression)", "class_method_signature": "SeedGenerator.SeedGenerator(AtomEncoder encoder, AtomSuppression suppression)", "testcase": false, "constructor": true}, {"identifier": "SeedGenerator", "parameters": "(AtomEncoder encoder, Pseudorandom pseudorandom, AtomSuppression suppression)", "modifiers": "", "return": "", "signature": " SeedGenerator(AtomEncoder encoder, Pseudorandom pseudorandom, AtomSuppression suppression)", "full_signature": "  SeedGenerator(AtomEncoder encoder, Pseudorandom pseudorandom, AtomSuppression suppression)", "class_method_signature": "SeedGenerator.SeedGenerator(AtomEncoder encoder, Pseudorandom pseudorandom, AtomSuppression suppression)", "testcase": false, "constructor": true}, {"identifier": "generate", "parameters": "(IAtomContainer container)", "modifiers": "@Override public", "return": "long[]", "signature": "long[] generate(IAtomContainer container)", "full_signature": "@Override public long[] generate(IAtomContainer container)", "class_method_signature": "SeedGenerator.generate(IAtomContainer container)", "testcase": false, "constructor": false}], "file": "tool/hash/src/main/java/org/openscience/cdk/hash/SeedGenerator.java"}, "focal_method": {"identifier": "generate", "parameters": "(IAtomContainer container)", "modifiers": "@Override public", "return": "long[]", "body": "@Override\n    public long[] generate(IAtomContainer container) {\n\n        Suppressed suppressed = suppression.suppress(container);\n\n        int n = container.getAtomCount();\n        int m = n - suppressed.count(); // number of non-suppressed vertices\n        int seed = m > 1 ? 9803 % m : 1;\n\n        long[] hashes = new long[n];\n\n        for (int i = 0; i < n; i++) {\n            hashes[i] = distribute(seed * encoder.encode(container.getAtom(i), container));\n        }\n        return hashes;\n    }", "signature": "long[] generate(IAtomContainer container)", "full_signature": "@Override public long[] generate(IAtomContainer container)", "class_method_signature": "SeedGenerator.generate(IAtomContainer container)", "testcase": false, "constructor": false, "invocations": ["suppress", "getAtomCount", "count", "distribute", "encode", "getAtom"]}, "repository": {"repo_id": 660443, "url": "https://github.com/cdk/cdk", "stars": 220, "created": "5/11/2010 8:30:07 AM +00:00", "updates": "2020-01-27T19:04:04+00:00", "fork": "False", "license": "licensed"}}