{"test_class": {"identifier": "ParallelIndividualCompleterTest", "superclass": "", "interfaces": "", "fields": [], "file": "opt4j-core/src/test/java/org/opt4j/core/common/completer/ParallelIndividualCompleterTest.java"}, "test_case": {"identifier": "complete", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void complete() throws TerminationException {\n\t\tIndividualCompleterModule module = new IndividualCompleterModule();\n\t\tmodule.setThreads(4);\n\t\tmodule.setType(Type.PARALLEL);\n\t\tInjector injector = Guice.createInjector(new MockProblemModule(), module);\n\n\t\tIndividualFactory factory = injector.getInstance(IndividualFactory.class);\n\t\tIndividual i1 = factory.create();\n\t\tIndividual i2 = factory.create();\n\n\t\tParallelIndividualCompleter completer = injector.getInstance(ParallelIndividualCompleter.class);\n\n\t\tcompleter.complete(i1, i2);\n\t\tAssert.assertTrue(i1.isEvaluated());\n\t\tAssert.assertTrue(i2.isEvaluated());\n\n\t\tcompleter.complete(i1);\n\t}", "signature": "void complete()", "full_signature": "@Test public void complete()", "class_method_signature": "ParallelIndividualCompleterTest.complete()", "testcase": true, "constructor": false, "invocations": ["setThreads", "setType", "createInjector", "getInstance", "create", "create", "getInstance", "complete", "assertTrue", "isEvaluated", "assertTrue", "isEvaluated", "complete"]}, "focal_class": {"identifier": "ParallelIndividualCompleter", "superclass": "extends SequentialIndividualCompleter", "interfaces": "implements OptimizerStateListener", "fields": [{"original_string": "protected final ExecutorService executor;", "modifier": "protected final", "type": "ExecutorService", "declarator": "executor", "var_name": "executor"}], "methods": [{"identifier": "ParallelIndividualCompleter", "parameters": "(Control control, Decoder<Genotype, Object> decoder, Evaluator<Object> evaluator,\n\t\t\t@Constant(value = \"maxThreads\", namespace = ParallelIndividualCompleter.class) int maxThreads)", "modifiers": "@Inject public", "return": "", "signature": " ParallelIndividualCompleter(Control control, Decoder<Genotype, Object> decoder, Evaluator<Object> evaluator,\n\t\t\t@Constant(value = \"maxThreads\", namespace = ParallelIndividualCompleter.class) int maxThreads)", "full_signature": "@Inject public  ParallelIndividualCompleter(Control control, Decoder<Genotype, Object> decoder, Evaluator<Object> evaluator,\n\t\t\t@Constant(value = \"maxThreads\", namespace = ParallelIndividualCompleter.class) int maxThreads)", "class_method_signature": "ParallelIndividualCompleter.ParallelIndividualCompleter(Control control, Decoder<Genotype, Object> decoder, Evaluator<Object> evaluator,\n\t\t\t@Constant(value = \"maxThreads\", namespace = ParallelIndividualCompleter.class) int maxThreads)", "testcase": false, "constructor": true}, {"identifier": "complete", "parameters": "(Iterable<? extends Individual> iterable)", "modifiers": "@Override public", "return": "void", "signature": "void complete(Iterable<? extends Individual> iterable)", "full_signature": "@Override public void complete(Iterable<? extends Individual> iterable)", "class_method_signature": "ParallelIndividualCompleter.complete(Iterable<? extends Individual> iterable)", "testcase": false, "constructor": false}, {"identifier": "finalize", "parameters": "()", "modifiers": "@Override protected", "return": "void", "signature": "void finalize()", "full_signature": "@Override protected void finalize()", "class_method_signature": "ParallelIndividualCompleter.finalize()", "testcase": false, "constructor": false}, {"identifier": "shutdownExecutorService", "parameters": "()", "modifiers": "protected synchronized", "return": "void", "signature": "void shutdownExecutorService()", "full_signature": "protected synchronized void shutdownExecutorService()", "class_method_signature": "ParallelIndividualCompleter.shutdownExecutorService()", "testcase": false, "constructor": false}, {"identifier": "optimizationStarted", "parameters": "(Optimizer optimizer)", "modifiers": "@Override public", "return": "void", "signature": "void optimizationStarted(Optimizer optimizer)", "full_signature": "@Override public void optimizationStarted(Optimizer optimizer)", "class_method_signature": "ParallelIndividualCompleter.optimizationStarted(Optimizer optimizer)", "testcase": false, "constructor": false}, {"identifier": "optimizationStopped", "parameters": "(Optimizer optimizer)", "modifiers": "@Override public", "return": "void", "signature": "void optimizationStopped(Optimizer optimizer)", "full_signature": "@Override public void optimizationStopped(Optimizer optimizer)", "class_method_signature": "ParallelIndividualCompleter.optimizationStopped(Optimizer optimizer)", "testcase": false, "constructor": false}], "file": "opt4j-core/src/main/java/org/opt4j/core/common/completer/ParallelIndividualCompleter.java"}, "focal_method": {"identifier": "complete", "parameters": "(Iterable<? extends Individual> iterable)", "modifiers": "@Override public", "return": "void", "body": "@Override\n\tpublic void complete(Iterable<? extends Individual> iterable) throws TerminationException {\n\n\t\ttry {\n\n\t\t\tList<Future<Void>> returns = new ArrayList<>();\n\n\t\t\tfor (Individual individual : iterable) {\n\t\t\t\tif (individual.getState() != Individual.State.EVALUATED) {\n\t\t\t\t\treturns.add(executor.submit(new Complete(individual, control)));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (Future<Void> future : returns) {\n\t\t\t\ttry {\n\t\t\t\t\tfuture.get();\n\t\t\t\t} catch (InterruptedException e) {\n\t\t\t\t\te.printStackTrace();\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (ExecutionException ex) {\n\t\t\texecutor.shutdownNow();\n\t\t\tif (ex.getCause() instanceof TerminationException) {\n\t\t\t\tthrow (TerminationException) ex.getCause();\n\t\t\t}\n\t\t\tthrow new RuntimeException(ex);\n\t\t}\n\t}", "signature": "void complete(Iterable<? extends Individual> iterable)", "full_signature": "@Override public void complete(Iterable<? extends Individual> iterable)", "class_method_signature": "ParallelIndividualCompleter.complete(Iterable<? extends Individual> iterable)", "testcase": false, "constructor": false, "invocations": ["getState", "add", "submit", "get", "printStackTrace", "shutdownNow", "getCause", "getCause"]}, "repository": {"repo_id": 119080111, "url": "https://github.com/felixreimann/opt4j", "language": "Java", "is_fork": false, "fork_count": 12, "stargazer_count": 11, "size": 8771, "license": "licensed"}}