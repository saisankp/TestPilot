{"test_class": {"identifier": "HmsManagementRestServiceTest", "superclass": "", "interfaces": "", "fields": [], "file": "modules/hms-core/src/test/java/com/vmware/vrack/hms/rest/services/HmsManagementRestServiceTest.java"}, "test_case": {"identifier": "testHandshakeOnSuccessCase", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testHandshakeOnSuccessCase()\n        throws Exception\n    {\n        PowerMockito.mockStatic( HmsConfigHolder.class );\n        when( HmsConfigHolder.getProperty( any( String.class ), any( String.class ) ) ).thenReturn( \"false\" );\n\n        PowerMockito.mockStatic( OobUtil.class );\n        when( OobUtil.getProperty( any( String.class ), any( String.class ),\n                                   any( String.class ) ) ).thenReturn( \"192.168.100.40\" ).thenReturn( \"192.168.100.108\" );\n\n        HMSManagementRestService service = new HMSManagementRestService();\n        BaseResponse response = service.handshake( \"192.168.100.108\", \"VRM\" );\n\n        assertNotNull( response );\n        assertEquals( response.getStatusCode().intValue(), 202 );\n    }", "signature": "void testHandshakeOnSuccessCase()", "full_signature": "@Test public void testHandshakeOnSuccessCase()", "class_method_signature": "HmsManagementRestServiceTest.testHandshakeOnSuccessCase()", "testcase": true, "constructor": false, "invocations": ["mockStatic", "thenReturn", "when", "getProperty", "any", "any", "mockStatic", "thenReturn", "thenReturn", "when", "getProperty", "any", "any", "any", "handshake", "assertNotNull", "assertEquals", "intValue", "getStatusCode"]}, "focal_class": {"identifier": "HMSManagementRestService", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String QUOTE = \"\\\"\";", "modifier": "private static final", "type": "String", "declarator": "QUOTE = \"\\\"\"", "var_name": "QUOTE"}, {"original_string": "public static final String GRANT_EXECUTE_RIGHTS = \"chmod +x %s\";", "modifier": "public static final", "type": "String", "declarator": "GRANT_EXECUTE_RIGHTS = \"chmod +x %s\"", "var_name": "GRANT_EXECUTE_RIGHTS"}, {"original_string": "public final String TIMESTAMP_FORMAT = \"yyyy-MM-dd_hh-mm-ss\";", "modifier": "public final", "type": "String", "declarator": "TIMESTAMP_FORMAT = \"yyyy-MM-dd_hh-mm-ss\"", "var_name": "TIMESTAMP_FORMAT"}, {"original_string": "private static Logger logger = LoggerFactory.getLogger( HMSManagementRestService.class );", "modifier": "private static", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger( HMSManagementRestService.class )", "var_name": "logger"}, {"original_string": "private ServerNodeConnector serverConnector = ServerNodeConnector.getInstance();", "modifier": "private", "type": "ServerNodeConnector", "declarator": "serverConnector = ServerNodeConnector.getInstance()", "var_name": "serverConnector"}, {"original_string": "private SwitchNodeConnector switchConnector = SwitchNodeConnector.getInstance();", "modifier": "private", "type": "SwitchNodeConnector", "declarator": "switchConnector = SwitchNodeConnector.getInstance()", "var_name": "switchConnector"}], "methods": [{"identifier": "getHMSNodes", "parameters": "()", "modifiers": "@GET @Path( \"/nodes\" ) @Produces( \"application/json\" ) public", "return": "Map<String, Object[]>", "signature": "Map<String, Object[]> getHMSNodes()", "full_signature": "@GET @Path( \"/nodes\" ) @Produces( \"application/json\" ) public Map<String, Object[]> getHMSNodes()", "class_method_signature": "HMSManagementRestService.getHMSNodes()", "testcase": false, "constructor": false}, {"identifier": "discoverNodes", "parameters": "()", "modifiers": "@GET @Path( \"/discover\" ) @Produces( \"application/json\" ) public", "return": "NodeDiscoveryResponse", "signature": "NodeDiscoveryResponse discoverNodes()", "full_signature": "@GET @Path( \"/discover\" ) @Produces( \"application/json\" ) public NodeDiscoveryResponse discoverNodes()", "class_method_signature": "HMSManagementRestService.discoverNodes()", "testcase": false, "constructor": false}, {"identifier": "handshake", "parameters": "()", "modifiers": "@POST @Path( \"/handshake\" ) @Consumes( MediaType.APPLICATION_JSON ) @Produces( \"application/json\" ) public", "return": "BaseResponse", "signature": "BaseResponse handshake()", "full_signature": "@POST @Path( \"/handshake\" ) @Consumes( MediaType.APPLICATION_JSON ) @Produces( \"application/json\" ) public BaseResponse handshake()", "class_method_signature": "HMSManagementRestService.handshake()", "testcase": false, "constructor": false}, {"identifier": "handshake", "parameters": "( @PathParam( \"aggregator_ip\" ) String aggregatorIp,\n                                   @PathParam( \"source\" ) String source )", "modifiers": "@POST @Path( \"/handshake/{aggregator_ip}/{source}\" ) @Consumes( MediaType.APPLICATION_JSON ) @Produces( \"application/json\" ) public", "return": "BaseResponse", "signature": "BaseResponse handshake( @PathParam( \"aggregator_ip\" ) String aggregatorIp,\n                                   @PathParam( \"source\" ) String source )", "full_signature": "@POST @Path( \"/handshake/{aggregator_ip}/{source}\" ) @Consumes( MediaType.APPLICATION_JSON ) @Produces( \"application/json\" ) public BaseResponse handshake( @PathParam( \"aggregator_ip\" ) String aggregatorIp,\n                                   @PathParam( \"source\" ) String source )", "class_method_signature": "HMSManagementRestService.handshake( @PathParam( \"aggregator_ip\" ) String aggregatorIp,\n                                   @PathParam( \"source\" ) String source )", "testcase": false, "constructor": false}, {"identifier": "isHandshakeCompleted", "parameters": "()", "modifiers": "private", "return": "boolean", "signature": "boolean isHandshakeCompleted()", "full_signature": "private boolean isHandshakeCompleted()", "class_method_signature": "HMSManagementRestService.isHandshakeCompleted()", "testcase": false, "constructor": false}, {"identifier": "updateProxyConfiguration", "parameters": "( String aggregatorIp )", "modifiers": "private", "return": "void", "signature": "void updateProxyConfiguration( String aggregatorIp )", "full_signature": "private void updateProxyConfiguration( String aggregatorIp )", "class_method_signature": "HMSManagementRestService.updateProxyConfiguration( String aggregatorIp )", "testcase": false, "constructor": false}, {"identifier": "getSupportedOOBOperations", "parameters": "()", "modifiers": "@GET @Path( \"/service/operations\" ) @Produces( \"application/json\" ) public", "return": "Map<String, List<HmsApi>>", "signature": "Map<String, List<HmsApi>> getSupportedOOBOperations()", "full_signature": "@GET @Path( \"/service/operations\" ) @Produces( \"application/json\" ) public Map<String, List<HmsApi>> getSupportedOOBOperations()", "class_method_signature": "HMSManagementRestService.getSupportedOOBOperations()", "testcase": false, "constructor": false}, {"identifier": "executeThreadStackLogger", "parameters": "()", "modifiers": "@GET @Path( \"/debug/threads\" ) @Produces( \"application/json\" ) public", "return": "Map<String, String>", "signature": "Map<String, String> executeThreadStackLogger()", "full_signature": "@GET @Path( \"/debug/threads\" ) @Produces( \"application/json\" ) public Map<String, String> executeThreadStackLogger()", "class_method_signature": "HMSManagementRestService.executeThreadStackLogger()", "testcase": false, "constructor": false}, {"identifier": "refreshInventory", "parameters": "( final String inventory )", "modifiers": "@PUT @Path( \"/refreshinventory\" ) @Produces( MediaType.APPLICATION_JSON ) @Deprecated public", "return": "Response", "signature": "Response refreshInventory( final String inventory )", "full_signature": "@PUT @Path( \"/refreshinventory\" ) @Produces( MediaType.APPLICATION_JSON ) @Deprecated public Response refreshInventory( final String inventory )", "class_method_signature": "HMSManagementRestService.refreshInventory( final String inventory )", "testcase": false, "constructor": false}, {"identifier": "getHmsLogs", "parameters": "()", "modifiers": "@GET @Path( \"/hmslogs\" ) @Produces( MediaType.APPLICATION_OCTET_STREAM ) public", "return": "Response", "signature": "Response getHmsLogs()", "full_signature": "@GET @Path( \"/hmslogs\" ) @Produces( MediaType.APPLICATION_OCTET_STREAM ) public Response getHmsLogs()", "class_method_signature": "HMSManagementRestService.getHmsLogs()", "testcase": false, "constructor": false}, {"identifier": "deleteTemporaryHmsLogFile", "parameters": "()", "modifiers": "@DELETE @Path( \"/hmslogs\" ) @Produces( \"application/json\" ) public", "return": "BaseResponse", "signature": "BaseResponse deleteTemporaryHmsLogFile()", "full_signature": "@DELETE @Path( \"/hmslogs\" ) @Produces( \"application/json\" ) public BaseResponse deleteTemporaryHmsLogFile()", "class_method_signature": "HMSManagementRestService.deleteTemporaryHmsLogFile()", "testcase": false, "constructor": false}, {"identifier": "isFileDeleteable", "parameters": "( File logArchiveName )", "modifiers": "public", "return": "boolean", "signature": "boolean isFileDeleteable( File logArchiveName )", "full_signature": "public boolean isFileDeleteable( File logArchiveName )", "class_method_signature": "HMSManagementRestService.isFileDeleteable( File logArchiveName )", "testcase": false, "constructor": false}, {"identifier": "getNewHosts", "parameters": "()", "modifiers": "@GET @Path( \"/newhosts\" ) @Produces( MediaType.APPLICATION_JSON ) public", "return": "Response", "signature": "Response getNewHosts()", "full_signature": "@GET @Path( \"/newhosts\" ) @Produces( MediaType.APPLICATION_JSON ) public Response getNewHosts()", "class_method_signature": "HMSManagementRestService.getNewHosts()", "testcase": false, "constructor": false}], "file": "modules/hms-core/src/main/java/com/vmware/vrack/hms/rest/services/HMSManagementRestService.java"}, "focal_method": {"identifier": "handshake", "parameters": "()", "modifiers": "@POST @Path( \"/handshake\" ) @Consumes( MediaType.APPLICATION_JSON ) @Produces( \"application/json\" ) public", "return": "BaseResponse", "body": "@POST\n    @Path( \"/handshake\" )\n    @Consumes( MediaType.APPLICATION_JSON )\n    @Produces( \"application/json\" )\n    public BaseResponse handshake()\n        throws HMSRestException\n    {\n\n        BaseResponse response = new BaseResponse();\n        response.setStatusCode( Status.ACCEPTED.getStatusCode() );\n        response.setStatusMessage( \"Handshake request accepted.\" );\n\n        return response;\n    }", "signature": "BaseResponse handshake()", "full_signature": "@POST @Path( \"/handshake\" ) @Consumes( MediaType.APPLICATION_JSON ) @Produces( \"application/json\" ) public BaseResponse handshake()", "class_method_signature": "HMSManagementRestService.handshake()", "testcase": false, "constructor": false, "invocations": ["setStatusCode", "getStatusCode", "setStatusMessage"]}, "repository": {"repo_id": 61566208, "url": "https://github.com/vmware-archive/OHMS", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 14, "size": 16092, "license": "licensed"}}