{"test_class": {"identifier": "CacheInvocationContextFactoryTest", "superclass": "", "interfaces": "", "fields": [], "file": "hystrix-contrib/hystrix-javanica/src/test/java/com/netflix/hystrix/contrib/javanica/cache/CacheInvocationContextFactoryTest.java"}, "test_case": {"identifier": "testCreateCacheRemoveInvocationContext_givenMethodAnnotatedWithCacheRemove_shouldCreateCorrectCacheKeyInvocationContext", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testCreateCacheRemoveInvocationContext_givenMethodAnnotatedWithCacheRemove_shouldCreateCorrectCacheKeyInvocationContext()\n            throws NoSuchMethodException {\n        // given\n        TestCacheClass testCacheClass = new TestCacheClass();\n        String param1 = \"val_1\";\n        MetaHolder metaHolder = MetaHolder.builder()\n                .method(TestCacheClass.class.getMethod(\"cacheRemoveMethod\", String.class))\n                .args(new Object[]{param1})\n                .obj(testCacheClass).build();\n        // when\n        CacheInvocationContext<CacheRemove> context = CacheInvocationContextFactory.createCacheRemoveInvocationContext(metaHolder);\n\n        // then\n        assertNotNull(context.getKeyParameters());\n        assertEquals(1, context.getKeyParameters().size());\n        CacheInvocationParameter actual = context.getKeyParameters().get(0);\n        assertEquals(String.class, actual.getRawType());\n        assertEquals(param1, actual.getValue());\n        assertEquals(0, actual.getPosition());\n    }", "signature": "void testCreateCacheRemoveInvocationContext_givenMethodAnnotatedWithCacheRemove_shouldCreateCorrectCacheKeyInvocationContext()", "full_signature": "@Test public void testCreateCacheRemoveInvocationContext_givenMethodAnnotatedWithCacheRemove_shouldCreateCorrectCacheKeyInvocationContext()", "class_method_signature": "CacheInvocationContextFactoryTest.testCreateCacheRemoveInvocationContext_givenMethodAnnotatedWithCacheRemove_shouldCreateCorrectCacheKeyInvocationContext()", "testcase": true, "constructor": false, "invocations": ["build", "obj", "args", "method", "builder", "getMethod", "createCacheRemoveInvocationContext", "assertNotNull", "getKeyParameters", "assertEquals", "size", "getKeyParameters", "get", "getKeyParameters", "assertEquals", "getRawType", "assertEquals", "getValue", "assertEquals", "getPosition"]}, "focal_class": {"identifier": "CacheInvocationContextFactory", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "createCacheResultInvocationContext", "parameters": "(MetaHolder metaHolder)", "modifiers": "public static", "return": "CacheInvocationContext<CacheResult>", "signature": "CacheInvocationContext<CacheResult> createCacheResultInvocationContext(MetaHolder metaHolder)", "full_signature": "public static CacheInvocationContext<CacheResult> createCacheResultInvocationContext(MetaHolder metaHolder)", "class_method_signature": "CacheInvocationContextFactory.createCacheResultInvocationContext(MetaHolder metaHolder)", "testcase": false, "constructor": false}, {"identifier": "createCacheRemoveInvocationContext", "parameters": "(MetaHolder metaHolder)", "modifiers": "public static", "return": "CacheInvocationContext<CacheRemove>", "signature": "CacheInvocationContext<CacheRemove> createCacheRemoveInvocationContext(MetaHolder metaHolder)", "full_signature": "public static CacheInvocationContext<CacheRemove> createCacheRemoveInvocationContext(MetaHolder metaHolder)", "class_method_signature": "CacheInvocationContextFactory.createCacheRemoveInvocationContext(MetaHolder metaHolder)", "testcase": false, "constructor": false}, {"identifier": "createCacheKeyAction", "parameters": "(String method, MetaHolder metaHolder)", "modifiers": "private static", "return": "MethodExecutionAction", "signature": "MethodExecutionAction createCacheKeyAction(String method, MetaHolder metaHolder)", "full_signature": "private static MethodExecutionAction createCacheKeyAction(String method, MetaHolder metaHolder)", "class_method_signature": "CacheInvocationContextFactory.createCacheKeyAction(String method, MetaHolder metaHolder)", "testcase": false, "constructor": false}], "file": "hystrix-contrib/hystrix-javanica/src/main/java/com/netflix/hystrix/contrib/javanica/cache/CacheInvocationContextFactory.java"}, "focal_method": {"identifier": "createCacheRemoveInvocationContext", "parameters": "(MetaHolder metaHolder)", "modifiers": "public static", "return": "CacheInvocationContext<CacheRemove>", "body": "public static CacheInvocationContext<CacheRemove> createCacheRemoveInvocationContext(MetaHolder metaHolder) {\n        Method method = metaHolder.getMethod();\n        if (method.isAnnotationPresent(CacheRemove.class)) {\n            CacheRemove cacheRemove = method.getAnnotation(CacheRemove.class);\n            MethodExecutionAction cacheKeyMethod = createCacheKeyAction(cacheRemove.cacheKeyMethod(), metaHolder);\n            return new CacheInvocationContext<CacheRemove>(cacheRemove, cacheKeyMethod, metaHolder.getObj(), method, metaHolder.getArgs());\n        }\n        return null;\n    }", "signature": "CacheInvocationContext<CacheRemove> createCacheRemoveInvocationContext(MetaHolder metaHolder)", "full_signature": "public static CacheInvocationContext<CacheRemove> createCacheRemoveInvocationContext(MetaHolder metaHolder)", "class_method_signature": "CacheInvocationContextFactory.createCacheRemoveInvocationContext(MetaHolder metaHolder)", "testcase": false, "constructor": false, "invocations": ["getMethod", "isAnnotationPresent", "getAnnotation", "createCacheKeyAction", "cacheKeyMethod", "getObj", "getArgs"]}, "repository": {"repo_id": 6766558, "url": "https://github.com/Netflix/Hystrix", "stars": 19028, "created": "11/19/2012 8:14:46 PM +00:00", "updates": "2020-01-27T17:55:28+00:00", "fork": "False", "license": "licensed"}}