{"test_class": {"identifier": "ProtectedTest", "superclass": "", "interfaces": "", "fields": [], "file": "jsonddl/src/test/java/org/jsonddl/impl/ProtectedTest.java"}, "test_case": {"identifier": "testMap", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testMap() {\n    assertNull(Protected.object((Map<?, ?>) null));\n    assertSame(Collections.emptyMap(), Protected.object(Collections.emptyMap()));\n    Map<String, String> singletonMap = new HashMap<String, String>();\n    singletonMap.put(\"a\", \"b\");\n    assertEquals(Collections.singletonMap(\"a\", \"b\").getClass(), Protected.object(singletonMap)\n        .getClass());\n\n    Map<String, String> input = new HashMap<String, String>();\n    input.put(\"a\", \"b\");\n    input.put(\"c\", \"d\");\n    input.put(\"e\", \"f\");\n\n    Map<String, String> output = Protected.object(input);\n    assertEquals(input, output);\n    assertNotSame(input, output);\n\n    // Protecting a protected list should be idempotent\n    assertSame(output, Protected.object(output));\n\n    // But re-protecting the input list shouldn't be\n    assertNotSame(output, Protected.object(input));\n\n    // Mutations to input list aren't visible\n    input.put(\"a\", \"q\");\n    assertEquals(\"b\", output.get(\"a\"));\n\n    // Changes to the protected list fail\n    try {\n      output.put(\"a\", \"b\");\n      fail();\n    } catch (UnsupportedOperationException expected) {}\n  }", "signature": "void testMap()", "full_signature": "@Test public void testMap()", "class_method_signature": "ProtectedTest.testMap()", "testcase": true, "constructor": false, "invocations": ["assertNull", "object", "assertSame", "emptyMap", "object", "emptyMap", "put", "assertEquals", "getClass", "singletonMap", "getClass", "object", "put", "put", "put", "object", "assertEquals", "assertNotSame", "assertSame", "object", "assertNotSame", "object", "put", "assertEquals", "get", "put", "fail"]}, "focal_class": {"identifier": "Protected", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Class<?> unmodifiableListClass;", "modifier": "private static final", "type": "Class<?>", "declarator": "unmodifiableListClass", "var_name": "unmodifiableListClass"}, {"original_string": "private static final Class<?> unmodifiableMapClass;", "modifier": "private static final", "type": "Class<?>", "declarator": "unmodifiableMapClass", "var_name": "unmodifiableMapClass"}], "methods": [{"identifier": "object", "parameters": "(J value)", "modifiers": "public static", "return": "J", "signature": "J object(J value)", "full_signature": "public static J object(J value)", "class_method_signature": "Protected.object(J value)", "testcase": false, "constructor": false}, {"identifier": "object", "parameters": "(List<T> values)", "modifiers": "public static", "return": "List<T>", "signature": "List<T> object(List<T> values)", "full_signature": "public static List<T> object(List<T> values)", "class_method_signature": "Protected.object(List<T> values)", "testcase": false, "constructor": false}, {"identifier": "object", "parameters": "(Map<K, V> values)", "modifiers": "public static", "return": "Map<K, V>", "signature": "Map<K, V> object(Map<K, V> values)", "full_signature": "public static Map<K, V> object(Map<K, V> values)", "class_method_signature": "Protected.object(Map<K, V> values)", "testcase": false, "constructor": false}, {"identifier": "object", "parameters": "(T value)", "modifiers": "@SuppressWarnings(\"unchecked\") public static", "return": "T", "signature": "T object(T value)", "full_signature": "@SuppressWarnings(\"unchecked\") public static T object(T value)", "class_method_signature": "Protected.object(T value)", "testcase": false, "constructor": false}], "file": "jsonddl/src/main/java/org/jsonddl/impl/Protected.java"}, "focal_method": {"identifier": "object", "parameters": "(J value)", "modifiers": "public static", "return": "J", "body": "public static <J extends JsonDdlObject<J>> J object(J value) {\n    if (value instanceof JsonDdlObject.Builder) {\n      return ((JsonDdlObject.Builder<J>) value).build();\n    }\n    return value;\n  }", "signature": "J object(J value)", "full_signature": "public static J object(J value)", "class_method_signature": "Protected.object(J value)", "testcase": false, "constructor": false, "invocations": ["build"]}, "repository": {"repo_id": 2792886, "url": "https://github.com/bobvawter/JsonDdl", "language": "Java", "is_fork": false, "fork_count": 1, "stargazer_count": 5, "size": 1306, "license": "licensed"}}