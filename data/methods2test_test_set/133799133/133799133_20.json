{"test_class": {"identifier": "TimerValuesTest", "superclass": "", "interfaces": "", "fields": [], "file": "poseidas/src/test/java/de/governikus/eumw/poseidas/server/timer/TimerValuesTest.java"}, "test_case": {"identifier": "testGetMasterDefectRate", "parameters": "()", "modifiers": "@Test", "return": "void", "body": "@Test\n  void testGetMasterDefectRate()\n  {\n    TimerValues timerValues = new TimerValues();\n    String timerRate = timerValues.getMasterDefectRate(null);\n    final String defaultRate = String.valueOf(2 * TimerValues.HOUR);\n    Assertions.assertEquals(defaultRate, timerRate);\n\n    TimerConfigurationType timerConfiguration = new TimerConfigurationType();\n    timerRate = timerValues.getMasterDefectRate(timerConfiguration);\n    Assertions.assertEquals(defaultRate, timerRate);\n\n    TimerType timerType = new TimerType();\n    timerType.setUnit(Calendar.HOUR_OF_DAY);\n    timerType.setLength(1);\n    timerConfiguration.setMasterAndDefectListRenewal(timerType);\n    timerRate = timerValues.getMasterDefectRate(timerConfiguration);\n    Assertions.assertEquals(String.valueOf(60 * 60 * 1000), timerRate);\n  }", "signature": "void testGetMasterDefectRate()", "full_signature": "@Test void testGetMasterDefectRate()", "class_method_signature": "TimerValuesTest.testGetMasterDefectRate()", "testcase": true, "constructor": false, "invocations": ["getMasterDefectRate", "valueOf", "assertEquals", "getMasterDefectRate", "assertEquals", "setUnit", "setLength", "setMasterAndDefectListRenewal", "getMasterDefectRate", "assertEquals", "valueOf"]}, "focal_class": {"identifier": "TimerValues", "superclass": "", "interfaces": "", "fields": [{"original_string": "static final long SECOND = 1000;", "modifier": "static final", "type": "long", "declarator": "SECOND = 1000", "var_name": "SECOND"}, {"original_string": "static final long MINUTE = SECOND * 60;", "modifier": "static final", "type": "long", "declarator": "MINUTE = SECOND * 60", "var_name": "MINUTE"}, {"original_string": "static final long HOUR = MINUTE * 60;", "modifier": "static final", "type": "long", "declarator": "HOUR = MINUTE * 60", "var_name": "HOUR"}], "methods": [{"identifier": "getTimerConfiguration", "parameters": "()", "modifiers": "@Bean", "return": "TimerConfigurationType", "signature": "TimerConfigurationType getTimerConfiguration()", "full_signature": "@Bean TimerConfigurationType getTimerConfiguration()", "class_method_signature": "TimerValues.getTimerConfiguration()", "testcase": false, "constructor": false}, {"identifier": "getUnitOfTime", "parameters": "(int unitFromXML)", "modifiers": "private static", "return": "long", "signature": "long getUnitOfTime(int unitFromXML)", "full_signature": "private static long getUnitOfTime(int unitFromXML)", "class_method_signature": "TimerValues.getUnitOfTime(int unitFromXML)", "testcase": false, "constructor": false}, {"identifier": "getFullBlacklistRate", "parameters": "()", "modifiers": "@Bean public", "return": "String", "signature": "String getFullBlacklistRate()", "full_signature": "@Bean public String getFullBlacklistRate()", "class_method_signature": "TimerValues.getFullBlacklistRate()", "testcase": false, "constructor": false}, {"identifier": "getDeltaBlacklistRate", "parameters": "(TimerConfigurationType timerConfiguration)", "modifiers": "@Bean public", "return": "String", "signature": "String getDeltaBlacklistRate(TimerConfigurationType timerConfiguration)", "full_signature": "@Bean public String getDeltaBlacklistRate(TimerConfigurationType timerConfiguration)", "class_method_signature": "TimerValues.getDeltaBlacklistRate(TimerConfigurationType timerConfiguration)", "testcase": false, "constructor": false}, {"identifier": "getCVCRate", "parameters": "(TimerConfigurationType timerConfiguration)", "modifiers": "@Bean public", "return": "String", "signature": "String getCVCRate(TimerConfigurationType timerConfiguration)", "full_signature": "@Bean public String getCVCRate(TimerConfigurationType timerConfiguration)", "class_method_signature": "TimerValues.getCVCRate(TimerConfigurationType timerConfiguration)", "testcase": false, "constructor": false}, {"identifier": "getMasterDefectRate", "parameters": "(TimerConfigurationType timerConfiguration)", "modifiers": "@Bean public", "return": "String", "signature": "String getMasterDefectRate(TimerConfigurationType timerConfiguration)", "full_signature": "@Bean public String getMasterDefectRate(TimerConfigurationType timerConfiguration)", "class_method_signature": "TimerValues.getMasterDefectRate(TimerConfigurationType timerConfiguration)", "testcase": false, "constructor": false}, {"identifier": "getCrlRate", "parameters": "(TimerConfigurationType timerConfiguration)", "modifiers": "@Bean public", "return": "String", "signature": "String getCrlRate(TimerConfigurationType timerConfiguration)", "full_signature": "@Bean public String getCrlRate(TimerConfigurationType timerConfiguration)", "class_method_signature": "TimerValues.getCrlRate(TimerConfigurationType timerConfiguration)", "testcase": false, "constructor": false}, {"identifier": "getKeyLockRate", "parameters": "()", "modifiers": "@Bean public", "return": "String", "signature": "String getKeyLockRate()", "full_signature": "@Bean public String getKeyLockRate()", "class_method_signature": "TimerValues.getKeyLockRate()", "testcase": false, "constructor": false}, {"identifier": "logRateForTimer", "parameters": "(String timerName, String rate)", "modifiers": "private", "return": "void", "signature": "void logRateForTimer(String timerName, String rate)", "full_signature": "private void logRateForTimer(String timerName, String rate)", "class_method_signature": "TimerValues.logRateForTimer(String timerName, String rate)", "testcase": false, "constructor": false}], "file": "poseidas/src/main/java/de/governikus/eumw/poseidas/server/timer/TimerValues.java"}, "focal_method": {"identifier": "getMasterDefectRate", "parameters": "(TimerConfigurationType timerConfiguration)", "modifiers": "@Bean public", "return": "String", "body": "@Bean\n  public String getMasterDefectRate(TimerConfigurationType timerConfiguration)\n  {\n    String timerName = \"Master and defect list renewal\";\n\n    // Check for configuration value\n    if (timerConfiguration != null && timerConfiguration.getMasterAndDefectListRenewal() != null)\n    {\n      TimerType renewal = timerConfiguration.getMasterAndDefectListRenewal();\n      if (renewal.getLength() != 0 && renewal.getUnit() != 0)\n      {\n        String rate = String.valueOf(getUnitOfTime(renewal.getUnit()) * renewal.getLength());\n        logRateForTimer(timerName, rate);\n        return rate;\n      }\n    }\n\n    // Set default value to every 2 hours\n    String rate = String.valueOf(2 * HOUR);\n    logRateForTimer(timerName, rate);\n    return rate;\n  }", "signature": "String getMasterDefectRate(TimerConfigurationType timerConfiguration)", "full_signature": "@Bean public String getMasterDefectRate(TimerConfigurationType timerConfiguration)", "class_method_signature": "TimerValues.getMasterDefectRate(TimerConfigurationType timerConfiguration)", "testcase": false, "constructor": false, "invocations": ["getMasterAndDefectListRenewal", "getMasterAndDefectListRenewal", "getLength", "getUnit", "valueOf", "getUnitOfTime", "getUnit", "getLength", "logRateForTimer", "valueOf", "logRateForTimer"]}, "repository": {"repo_id": 133799133, "url": "https://github.com/Governikus/eidas-middleware", "language": "Java", "is_fork": false, "fork_count": 11, "stargazer_count": 15, "size": 2286, "license": "licensed"}}