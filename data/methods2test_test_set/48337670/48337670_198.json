{"test_class": {"identifier": "SseUtilTest", "superclass": "", "interfaces": "", "fields": [], "file": "bundles/org.openhab.core.io.rest.sse/src/test/java/org/openhab/core/io/rest/sse/internal/util/SseUtilTest.java"}, "test_case": {"identifier": "testFilterMatchers", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testFilterMatchers() {\n        List<String> regexes = SseUtil\n                .convertToRegex(\"openhab/*/test/test/test/test,    openhab/test/*/test/test/test, openhab,qivicon\");\n\n        assertThat(\"openhab/test/test/test/test/test\".matches(regexes.get(0)), is(true));\n        assertThat(\"openhab/asdf/test/test/test/test\".matches(regexes.get(0)), is(true));\n        assertThat(\"openhab/asdf/ASDF/test/test/test\".matches(regexes.get(0)), is(false));\n\n        assertThat(\"openhab/test/test/test/test/test\".matches(regexes.get(1)), is(true));\n        assertThat(\"openhab/asdf/test/test/test/test\".matches(regexes.get(1)), is(false));\n        assertThat(\"openhab/asdf/ASDF/test/test/test\".matches(regexes.get(1)), is(false));\n\n        assertThat(\"openhab/test/test/test/test/test\".matches(regexes.get(2)), is(true));\n        assertThat(\"openhab/asdf/test/test/test/test\".matches(regexes.get(2)), is(true));\n        assertThat(\"openhab/asdf/ASDF/test/test/test\".matches(regexes.get(2)), is(true));\n\n        assertThat(\"openhab/test/test/test/test/test\".matches(regexes.get(3)), is(false));\n        assertThat(\"openhab/asdf/test/test/test/test\".matches(regexes.get(3)), is(false));\n        assertThat(\"qivicon/asdf/ASDF/test/test/test\".matches(regexes.get(3)), is(true));\n    }", "signature": "void testFilterMatchers()", "full_signature": "@Test public void testFilterMatchers()", "class_method_signature": "SseUtilTest.testFilterMatchers()", "testcase": true, "constructor": false, "invocations": ["convertToRegex", "assertThat", "matches", "get", "is", "assertThat", "matches", "get", "is", "assertThat", "matches", "get", "is", "assertThat", "matches", "get", "is", "assertThat", "matches", "get", "is", "assertThat", "matches", "get", "is", "assertThat", "matches", "get", "is", "assertThat", "matches", "get", "is", "assertThat", "matches", "get", "is", "assertThat", "matches", "get", "is", "assertThat", "matches", "get", "is", "assertThat", "matches", "get", "is"]}, "focal_class": {"identifier": "SseUtil", "superclass": "", "interfaces": "", "fields": [{"original_string": "static final String TOPIC_VALIDATE_PATTERN = \"(\\\\w*\\\\*?\\\\/?,?:?-?\\\\s*)*\";", "modifier": "static final", "type": "String", "declarator": "TOPIC_VALIDATE_PATTERN = \"(\\\\w*\\\\*?\\\\/?,?:?-?\\\\s*)*\"", "var_name": "TOPIC_VALIDATE_PATTERN"}], "methods": [{"identifier": "buildDTO", "parameters": "(final Event event)", "modifiers": "public static", "return": "EventDTO", "signature": "EventDTO buildDTO(final Event event)", "full_signature": "public static EventDTO buildDTO(final Event event)", "class_method_signature": "SseUtil.buildDTO(final Event event)", "testcase": false, "constructor": false}, {"identifier": "buildEvent", "parameters": "(OutboundSseEvent.Builder eventBuilder, EventDTO event)", "modifiers": "public static", "return": "OutboundSseEvent", "signature": "OutboundSseEvent buildEvent(OutboundSseEvent.Builder eventBuilder, EventDTO event)", "full_signature": "public static OutboundSseEvent buildEvent(OutboundSseEvent.Builder eventBuilder, EventDTO event)", "class_method_signature": "SseUtil.buildEvent(OutboundSseEvent.Builder eventBuilder, EventDTO event)", "testcase": false, "constructor": false}, {"identifier": "isValidTopicFilter", "parameters": "(@Nullable String topicFilter)", "modifiers": "public static", "return": "boolean", "signature": "boolean isValidTopicFilter(@Nullable String topicFilter)", "full_signature": "public static boolean isValidTopicFilter(@Nullable String topicFilter)", "class_method_signature": "SseUtil.isValidTopicFilter(@Nullable String topicFilter)", "testcase": false, "constructor": false}, {"identifier": "convertToRegex", "parameters": "(@Nullable String topicFilter)", "modifiers": "public static", "return": "List<String>", "signature": "List<String> convertToRegex(@Nullable String topicFilter)", "full_signature": "public static List<String> convertToRegex(@Nullable String topicFilter)", "class_method_signature": "SseUtil.convertToRegex(@Nullable String topicFilter)", "testcase": false, "constructor": false}], "file": "bundles/org.openhab.core.io.rest.sse/src/main/java/org/openhab/core/io/rest/sse/internal/util/SseUtil.java"}, "focal_method": {"identifier": "convertToRegex", "parameters": "(@Nullable String topicFilter)", "modifiers": "public static", "return": "List<String>", "body": "public static List<String> convertToRegex(@Nullable String topicFilter) {\n        List<String> filters = new ArrayList<>();\n\n        if (topicFilter == null || topicFilter.isEmpty()) {\n            filters.add(\".*\");\n        } else {\n            StringTokenizer tokenizer = new StringTokenizer(topicFilter, \",\");\n            while (tokenizer.hasMoreElements()) {\n                String regex = tokenizer.nextToken().trim().replace(\"*\", \".*\") + \".*\";\n                filters.add(regex);\n            }\n        }\n\n        return filters;\n    }", "signature": "List<String> convertToRegex(@Nullable String topicFilter)", "full_signature": "public static List<String> convertToRegex(@Nullable String topicFilter)", "class_method_signature": "SseUtil.convertToRegex(@Nullable String topicFilter)", "testcase": false, "constructor": false, "invocations": ["isEmpty", "add", "hasMoreElements", "replace", "trim", "nextToken", "add"]}, "repository": {"repo_id": 48337670, "url": "https://github.com/openhab/openhab-core", "stars": 241, "created": "12/20/2015 9:23:20 PM +00:00", "updates": "2020-01-27T16:55:53+00:00", "fork": "False", "license": "licensed"}}