{"test_class": {"identifier": "AutonomicClusterManagementHeuristicServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private String CLUSTER_ADMINISTRATION_ALGORITHMS_IN_CONFIGURATION_KEY = \"autonomiccs.clustermanager.algorithm\";", "modifier": "private", "type": "String", "declarator": "CLUSTER_ADMINISTRATION_ALGORITHMS_IN_CONFIGURATION_KEY = \"autonomiccs.clustermanager.algorithm\"", "var_name": "CLUSTER_ADMINISTRATION_ALGORITHMS_IN_CONFIGURATION_KEY"}, {"original_string": "@Spy\n    @InjectMocks\n    private AutonomicClusterManagementHeuristicService spy;", "modifier": "@Spy\n    @InjectMocks\n    private", "type": "AutonomicClusterManagementHeuristicService", "declarator": "spy", "var_name": "spy"}, {"original_string": "@Mock\n    private ConfigurationDao configurationDao;", "modifier": "@Mock\n    private", "type": "ConfigurationDao", "declarator": "configurationDao", "var_name": "configurationDao"}], "file": "autonomic-plugin-common/src/test/java/br/com/autonomiccs/autonomic/plugin/common/services/AutonomicClusterManagementHeuristicServiceTest.java"}, "test_case": {"identifier": "getInstanceOfClassTestMethodWithParameterStringHeuristicIsOnAlgorithmsMap", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getInstanceOfClassTestMethodWithParameterStringHeuristicIsOnAlgorithmsMap() throws ClassNotFoundException {\n        spy.algorithmsMap.put(\"br.com.autonomiccs.autonomic.administration.algorithms.impl.ConsolidationAlgorithmBase\", ConsolidationAlgorithmBase.class);\n        ClusterAdministrationHeuristicAlgorithm result = spy.getInstanceOfClass(\"br.com.autonomiccs.autonomic.administration.algorithms.impl.ConsolidationAlgorithmBase\");\n        Mockito.verify(spy).getInstanceOfClass(Mockito.anyString());\n        Assert.assertEquals(ConsolidationAlgorithmBase.class, result.getClass());\n    }", "signature": "void getInstanceOfClassTestMethodWithParameterStringHeuristicIsOnAlgorithmsMap()", "full_signature": "@Test public void getInstanceOfClassTestMethodWithParameterStringHeuristicIsOnAlgorithmsMap()", "class_method_signature": "AutonomicClusterManagementHeuristicServiceTest.getInstanceOfClassTestMethodWithParameterStringHeuristicIsOnAlgorithmsMap()", "testcase": true, "constructor": false, "invocations": ["put", "getInstanceOfClass", "getInstanceOfClass", "verify", "anyString", "assertEquals", "getClass"]}, "focal_class": {"identifier": "AutonomicClusterManagementHeuristicService", "superclass": "", "interfaces": "", "fields": [{"original_string": "public final static String CLUSTER_ADMINISTRATION_ALGORITHMS_IN_CONFIGURATION_KEY = \"autonomiccs.clustermanager.algorithm\";", "modifier": "public final static", "type": "String", "declarator": "CLUSTER_ADMINISTRATION_ALGORITHMS_IN_CONFIGURATION_KEY = \"autonomiccs.clustermanager.algorithm\"", "var_name": "CLUSTER_ADMINISTRATION_ALGORITHMS_IN_CONFIGURATION_KEY"}, {"original_string": "private final Logger logger = LoggerFactory.getLogger(getClass());", "modifier": "private final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(getClass())", "var_name": "logger"}, {"original_string": "protected final Map<String, Class<? extends ClusterAdministrationHeuristicAlgorithm>> algorithmsMap = new HashMap<>();", "modifier": "protected final", "type": "Map<String, Class<? extends ClusterAdministrationHeuristicAlgorithm>>", "declarator": "algorithmsMap = new HashMap<>()", "var_name": "algorithmsMap"}, {"original_string": "@Autowired\n    protected ConfigurationDao configurationDao;", "modifier": "@Autowired\n    protected", "type": "ConfigurationDao", "declarator": "configurationDao", "var_name": "configurationDao"}], "methods": [{"identifier": "getAdministrationAlgorithm", "parameters": "()", "modifiers": "public", "return": "ClusterAdministrationHeuristicAlgorithm", "signature": "ClusterAdministrationHeuristicAlgorithm getAdministrationAlgorithm()", "full_signature": "public ClusterAdministrationHeuristicAlgorithm getAdministrationAlgorithm()", "class_method_signature": "AutonomicClusterManagementHeuristicService.getAdministrationAlgorithm()", "testcase": false, "constructor": false}, {"identifier": "getInstanceOfClass", "parameters": "(String algorithmName)", "modifiers": "protected", "return": "ClusterAdministrationHeuristicAlgorithm", "signature": "ClusterAdministrationHeuristicAlgorithm getInstanceOfClass(String algorithmName)", "full_signature": "protected ClusterAdministrationHeuristicAlgorithm getInstanceOfClass(String algorithmName)", "class_method_signature": "AutonomicClusterManagementHeuristicService.getInstanceOfClass(String algorithmName)", "testcase": false, "constructor": false}, {"identifier": "loadAlgorithmClass", "parameters": "(String algorithmName)", "modifiers": "@SuppressWarnings(\"unchecked\") protected", "return": "Class<? extends ClusterAdministrationHeuristicAlgorithm>", "signature": "Class<? extends ClusterAdministrationHeuristicAlgorithm> loadAlgorithmClass(String algorithmName)", "full_signature": "@SuppressWarnings(\"unchecked\") protected Class<? extends ClusterAdministrationHeuristicAlgorithm> loadAlgorithmClass(String algorithmName)", "class_method_signature": "AutonomicClusterManagementHeuristicService.loadAlgorithmClass(String algorithmName)", "testcase": false, "constructor": false}, {"identifier": "getInstanceOfClass", "parameters": "(Class<? extends ClusterAdministrationHeuristicAlgorithm> clusterManagerHeuristicAlgorithmClass)", "modifiers": "protected", "return": "ClusterAdministrationHeuristicAlgorithm", "signature": "ClusterAdministrationHeuristicAlgorithm getInstanceOfClass(Class<? extends ClusterAdministrationHeuristicAlgorithm> clusterManagerHeuristicAlgorithmClass)", "full_signature": "protected ClusterAdministrationHeuristicAlgorithm getInstanceOfClass(Class<? extends ClusterAdministrationHeuristicAlgorithm> clusterManagerHeuristicAlgorithmClass)", "class_method_signature": "AutonomicClusterManagementHeuristicService.getInstanceOfClass(Class<? extends ClusterAdministrationHeuristicAlgorithm> clusterManagerHeuristicAlgorithmClass)", "testcase": false, "constructor": false}, {"identifier": "getDummyClusterManagementHeuristc", "parameters": "()", "modifiers": "protected", "return": "ClusterAdministrationHeuristicAlgorithm", "signature": "ClusterAdministrationHeuristicAlgorithm getDummyClusterManagementHeuristc()", "full_signature": "protected ClusterAdministrationHeuristicAlgorithm getDummyClusterManagementHeuristc()", "class_method_signature": "AutonomicClusterManagementHeuristicService.getDummyClusterManagementHeuristc()", "testcase": false, "constructor": false}], "file": "autonomic-plugin-common/src/main/java/br/com/autonomiccs/autonomic/plugin/common/services/AutonomicClusterManagementHeuristicService.java"}, "focal_method": {"identifier": "getInstanceOfClass", "parameters": "(String algorithmName)", "modifiers": "protected", "return": "ClusterAdministrationHeuristicAlgorithm", "body": "protected ClusterAdministrationHeuristicAlgorithm getInstanceOfClass(String algorithmName) {\n        Class<? extends ClusterAdministrationHeuristicAlgorithm> clusterManagerHeuristicAlgorithmClass = algorithmsMap.get(algorithmName);\n        if (clusterManagerHeuristicAlgorithmClass != null) {\n            return getInstanceOfClass(clusterManagerHeuristicAlgorithmClass);\n        }\n        try {\n            Class<? extends ClusterAdministrationHeuristicAlgorithm> algorithmClass = loadAlgorithmClass(algorithmName);\n            return getInstanceOfClass(algorithmClass);\n        } catch (Exception e) {\n            logger.debug(String.format(\"Could not load heuristics from algorithm [algorithm class name=%s], using the Dummy management algorithm\", algorithmName), e);\n            return getDummyClusterManagementHeuristc();\n        }\n    }", "signature": "ClusterAdministrationHeuristicAlgorithm getInstanceOfClass(String algorithmName)", "full_signature": "protected ClusterAdministrationHeuristicAlgorithm getInstanceOfClass(String algorithmName)", "class_method_signature": "AutonomicClusterManagementHeuristicService.getInstanceOfClass(String algorithmName)", "testcase": false, "constructor": false, "invocations": ["get", "getInstanceOfClass", "loadAlgorithmClass", "getInstanceOfClass", "debug", "format", "getDummyClusterManagementHeuristc"]}, "repository": {"repo_id": 56359101, "url": "https://github.com/Autonomiccs/autonomiccs-platform", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 17, "size": 944, "license": "licensed"}}