{"test_class": {"identifier": "ConfigureDatabaseDaoTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private ConfigureDatabaseDao spy;", "modifier": "private", "type": "ConfigureDatabaseDao", "declarator": "spy", "var_name": "spy"}, {"original_string": "private JdbcTemplate jdbcTemplate;", "modifier": "private", "type": "JdbcTemplate", "declarator": "jdbcTemplate", "var_name": "jdbcTemplate"}, {"original_string": "private String sqlHasHostAdministrationStatusColumn = \"SHOW COLUMNS FROM host LIKE 'administration_status';\";", "modifier": "private", "type": "String", "declarator": "sqlHasHostAdministrationStatusColumn = \"SHOW COLUMNS FROM host LIKE 'administration_status';\"", "var_name": "sqlHasHostAdministrationStatusColumn"}, {"original_string": "private String sqlCreateHostAdministrationStatusColumn = \"ALTER TABLE host ADD administration_status VARCHAR(60) AFTER status;\";", "modifier": "private", "type": "String", "declarator": "sqlCreateHostAdministrationStatusColumn = \"ALTER TABLE host ADD administration_status VARCHAR(60) AFTER status;\"", "var_name": "sqlCreateHostAdministrationStatusColumn"}, {"original_string": "private String sqlHasHostStartTypeColumn = \"SHOW COLUMNS FROM host LIKE 'start_type';\";", "modifier": "private", "type": "String", "declarator": "sqlHasHostStartTypeColumn = \"SHOW COLUMNS FROM host LIKE 'start_type';\"", "var_name": "sqlHasHostStartTypeColumn"}, {"original_string": "private String sqlCreateHostStartTypeColumn = \"ALTER TABLE host ADD start_type VARCHAR(20) NOT NULL DEFAULT 'WakeOnLan' AFTER administration_status;\";", "modifier": "private", "type": "String", "declarator": "sqlCreateHostStartTypeColumn = \"ALTER TABLE host ADD start_type VARCHAR(20) NOT NULL DEFAULT 'WakeOnLan' AFTER administration_status;\"", "var_name": "sqlCreateHostStartTypeColumn"}, {"original_string": "private String sqlHasClusterAdministrationStatusColumn = \"SHOW COLUMNS FROM cluster LIKE 'administration_status';\";", "modifier": "private", "type": "String", "declarator": "sqlHasClusterAdministrationStatusColumn = \"SHOW COLUMNS FROM cluster LIKE 'administration_status';\"", "var_name": "sqlHasClusterAdministrationStatusColumn"}, {"original_string": "private String sqlCreateClusterAdministrationStatusColumn = \"ALTER TABLE cluster ADD administration_status VARCHAR(60);\";", "modifier": "private", "type": "String", "declarator": "sqlCreateClusterAdministrationStatusColumn = \"ALTER TABLE cluster ADD administration_status VARCHAR(60);\"", "var_name": "sqlCreateClusterAdministrationStatusColumn"}, {"original_string": "private String sqlHasClusterLastAdministrationColumn = \"SHOW COLUMNS FROM cluster LIKE 'last_administration';\";", "modifier": "private", "type": "String", "declarator": "sqlHasClusterLastAdministrationColumn = \"SHOW COLUMNS FROM cluster LIKE 'last_administration';\"", "var_name": "sqlHasClusterLastAdministrationColumn"}, {"original_string": "private String sqlCreateClusterLastAdministrationColumn = \"ALTER TABLE cluster ADD last_administration DATETIME;\";", "modifier": "private", "type": "String", "declarator": "sqlCreateClusterLastAdministrationColumn = \"ALTER TABLE cluster ADD last_administration DATETIME;\"", "var_name": "sqlCreateClusterLastAdministrationColumn"}, {"original_string": "private String sqlHasClusterAdministrationAlgorithmsInConfiguration = String.format(\"SELECT * FROM configuration WHERE name='%s';\",\n            AutonomicClusterManagementHeuristicService.CLUSTER_ADMINISTRATION_ALGORITHMS_IN_CONFIGURATION_KEY);", "modifier": "private", "type": "String", "declarator": "sqlHasClusterAdministrationAlgorithmsInConfiguration = String.format(\"SELECT * FROM configuration WHERE name='%s';\",\n            AutonomicClusterManagementHeuristicService.CLUSTER_ADMINISTRATION_ALGORITHMS_IN_CONFIGURATION_KEY)", "var_name": "sqlHasClusterAdministrationAlgorithmsInConfiguration"}, {"original_string": "private String sqlInsertIntoConfigurationClusterAlgorithms = String.format(\n            \"INSERT INTO configuration (category,instance,component,name,value,description,default_value,updated,scope,is_dynamic) VALUES ('Advanced','DEFAULT','autonomicClusterManager','%s','%s','Full qualified heuristic class name to be used to guide the agent during the cluster management process.','%s',null,null,0);\",\n            AutonomicClusterManagementHeuristicService.CLUSTER_ADMINISTRATION_ALGORITHMS_IN_CONFIGURATION_KEY,\n            ClusterManagementDummyAlgorithm.class.getCanonicalName(), ClusterManagementDummyAlgorithm.class.getCanonicalName());", "modifier": "private", "type": "String", "declarator": "sqlInsertIntoConfigurationClusterAlgorithms = String.format(\n            \"INSERT INTO configuration (category,instance,component,name,value,description,default_value,updated,scope,is_dynamic) VALUES ('Advanced','DEFAULT','autonomicClusterManager','%s','%s','Full qualified heuristic class name to be used to guide the agent during the cluster management process.','%s',null,null,0);\",\n            AutonomicClusterManagementHeuristicService.CLUSTER_ADMINISTRATION_ALGORITHMS_IN_CONFIGURATION_KEY,\n            ClusterManagementDummyAlgorithm.class.getCanonicalName(), ClusterManagementDummyAlgorithm.class.getCanonicalName())", "var_name": "sqlInsertIntoConfigurationClusterAlgorithms"}, {"original_string": "private String sqlHasAutonomiccsSystemVmTable = \"SHOW TABLES LIKE 'AutonomiccsSystemVm';\";", "modifier": "private", "type": "String", "declarator": "sqlHasAutonomiccsSystemVmTable = \"SHOW TABLES LIKE 'AutonomiccsSystemVm';\"", "var_name": "sqlHasAutonomiccsSystemVmTable"}, {"original_string": "private String sqlCreateAutonomiccsSystemVmTable = \"CREATE TABLE AutonomiccsSystemVm(id BIGINT(20) UNSIGNED, public_ip_address VARCHAR(40), management_ip_address VARCHAR(40));\";", "modifier": "private", "type": "String", "declarator": "sqlCreateAutonomiccsSystemVmTable = \"CREATE TABLE AutonomiccsSystemVm(id BIGINT(20) UNSIGNED, public_ip_address VARCHAR(40), management_ip_address VARCHAR(40));\"", "var_name": "sqlCreateAutonomiccsSystemVmTable"}], "file": "autonomic-plugin-common/src/test/java/br/com/autonomiccs/autonomic/plugin/common/daos/configurations/ConfigureDatabaseDaoTest.java"}, "test_case": {"identifier": "createClusterConsolidationStatusColumnTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void createClusterConsolidationStatusColumnTest() {\n        Mockito.doNothing().when(jdbcTemplate).execute(Mockito.eq(sqlCreateClusterAdministrationStatusColumn));\n        spy.createClusterConsolidationStatusColumn();\n        Mockito.verify(jdbcTemplate).execute(Mockito.eq(sqlCreateClusterAdministrationStatusColumn));\n    }", "signature": "void createClusterConsolidationStatusColumnTest()", "full_signature": "@Test public void createClusterConsolidationStatusColumnTest()", "class_method_signature": "ConfigureDatabaseDaoTest.createClusterConsolidationStatusColumnTest()", "testcase": true, "constructor": false, "invocations": ["execute", "when", "doNothing", "eq", "createClusterConsolidationStatusColumn", "execute", "verify", "eq"]}, "focal_class": {"identifier": "ConfigureDatabaseDao", "superclass": "extends JdbcDaoSupport", "interfaces": "", "fields": [{"original_string": "private String sqlHasHostAdministrationStatusColumn = \"SHOW COLUMNS FROM host LIKE 'administration_status';\";", "modifier": "private", "type": "String", "declarator": "sqlHasHostAdministrationStatusColumn = \"SHOW COLUMNS FROM host LIKE 'administration_status';\"", "var_name": "sqlHasHostAdministrationStatusColumn"}, {"original_string": "private String sqlCreateHostAdministrationStatusColumn = \"ALTER TABLE host ADD administration_status VARCHAR(60) AFTER status;\";", "modifier": "private", "type": "String", "declarator": "sqlCreateHostAdministrationStatusColumn = \"ALTER TABLE host ADD administration_status VARCHAR(60) AFTER status;\"", "var_name": "sqlCreateHostAdministrationStatusColumn"}, {"original_string": "private String sqlHasHostStartTypeColumn = \"SHOW COLUMNS FROM host LIKE 'start_type';\";", "modifier": "private", "type": "String", "declarator": "sqlHasHostStartTypeColumn = \"SHOW COLUMNS FROM host LIKE 'start_type';\"", "var_name": "sqlHasHostStartTypeColumn"}, {"original_string": "private String sqlCreateHostStartTypeColumn = \"ALTER TABLE host ADD start_type VARCHAR(20) NOT NULL DEFAULT 'WakeOnLan' AFTER administration_status;\";", "modifier": "private", "type": "String", "declarator": "sqlCreateHostStartTypeColumn = \"ALTER TABLE host ADD start_type VARCHAR(20) NOT NULL DEFAULT 'WakeOnLan' AFTER administration_status;\"", "var_name": "sqlCreateHostStartTypeColumn"}, {"original_string": "private String sqlHasClusterAdministrationStatusColumn = \"SHOW COLUMNS FROM cluster LIKE 'administration_status';\";", "modifier": "private", "type": "String", "declarator": "sqlHasClusterAdministrationStatusColumn = \"SHOW COLUMNS FROM cluster LIKE 'administration_status';\"", "var_name": "sqlHasClusterAdministrationStatusColumn"}, {"original_string": "private String sqlCreateClusterAdministrationStatusColumn = \"ALTER TABLE cluster ADD administration_status VARCHAR(60);\";", "modifier": "private", "type": "String", "declarator": "sqlCreateClusterAdministrationStatusColumn = \"ALTER TABLE cluster ADD administration_status VARCHAR(60);\"", "var_name": "sqlCreateClusterAdministrationStatusColumn"}, {"original_string": "private String sqlHasClusterLastAdministrationColumn = \"SHOW COLUMNS FROM cluster LIKE 'last_administration';\";", "modifier": "private", "type": "String", "declarator": "sqlHasClusterLastAdministrationColumn = \"SHOW COLUMNS FROM cluster LIKE 'last_administration';\"", "var_name": "sqlHasClusterLastAdministrationColumn"}, {"original_string": "private String sqlCreateClusterLastAdministrationColumn = \"ALTER TABLE cluster ADD last_administration DATETIME;\";", "modifier": "private", "type": "String", "declarator": "sqlCreateClusterLastAdministrationColumn = \"ALTER TABLE cluster ADD last_administration DATETIME;\"", "var_name": "sqlCreateClusterLastAdministrationColumn"}, {"original_string": "private String sqlHasClusterAdministrationAlgorithmsInConfiguration = String.format(\"SELECT * FROM configuration WHERE name='%s';\",\n            AutonomicClusterManagementHeuristicService.CLUSTER_ADMINISTRATION_ALGORITHMS_IN_CONFIGURATION_KEY);", "modifier": "private", "type": "String", "declarator": "sqlHasClusterAdministrationAlgorithmsInConfiguration = String.format(\"SELECT * FROM configuration WHERE name='%s';\",\n            AutonomicClusterManagementHeuristicService.CLUSTER_ADMINISTRATION_ALGORITHMS_IN_CONFIGURATION_KEY)", "var_name": "sqlHasClusterAdministrationAlgorithmsInConfiguration"}, {"original_string": "private String sqlInsertIntoConfigurationClusterAlgorithms = String.format(\n            \"INSERT INTO configuration (category,instance,component,name,value,description,default_value,updated,scope,is_dynamic) VALUES ('Advanced','DEFAULT','autonomicClusterManager','%s','%s','Full qualified heuristic class name to be used to guide the agent during the cluster management process.','%s',null,null,0);\",\n            AutonomicClusterManagementHeuristicService.CLUSTER_ADMINISTRATION_ALGORITHMS_IN_CONFIGURATION_KEY,\n            ClusterManagementDummyAlgorithm.class.getCanonicalName(), ClusterManagementDummyAlgorithm.class.getCanonicalName());", "modifier": "private", "type": "String", "declarator": "sqlInsertIntoConfigurationClusterAlgorithms = String.format(\n            \"INSERT INTO configuration (category,instance,component,name,value,description,default_value,updated,scope,is_dynamic) VALUES ('Advanced','DEFAULT','autonomicClusterManager','%s','%s','Full qualified heuristic class name to be used to guide the agent during the cluster management process.','%s',null,null,0);\",\n            AutonomicClusterManagementHeuristicService.CLUSTER_ADMINISTRATION_ALGORITHMS_IN_CONFIGURATION_KEY,\n            ClusterManagementDummyAlgorithm.class.getCanonicalName(), ClusterManagementDummyAlgorithm.class.getCanonicalName())", "var_name": "sqlInsertIntoConfigurationClusterAlgorithms"}, {"original_string": "private String sqlHasAutonomiccsSystemVmTable = \"SHOW TABLES LIKE 'AutonomiccsSystemVm';\";", "modifier": "private", "type": "String", "declarator": "sqlHasAutonomiccsSystemVmTable = \"SHOW TABLES LIKE 'AutonomiccsSystemVm';\"", "var_name": "sqlHasAutonomiccsSystemVmTable"}, {"original_string": "private String sqlCreateAutonomiccsSystemVmTable = \"CREATE TABLE AutonomiccsSystemVm(id BIGINT(20) UNSIGNED, public_ip_address VARCHAR(40), management_ip_address VARCHAR(40));\";", "modifier": "private", "type": "String", "declarator": "sqlCreateAutonomiccsSystemVmTable = \"CREATE TABLE AutonomiccsSystemVm(id BIGINT(20) UNSIGNED, public_ip_address VARCHAR(40), management_ip_address VARCHAR(40));\"", "var_name": "sqlCreateAutonomiccsSystemVmTable"}], "methods": [{"identifier": "initDao", "parameters": "()", "modifiers": "@Override protected", "return": "void", "signature": "void initDao()", "full_signature": "@Override protected void initDao()", "class_method_signature": "ConfigureDatabaseDao.initDao()", "testcase": false, "constructor": false}, {"identifier": "hasHostConsolidationStatusColumn", "parameters": "()", "modifiers": "protected", "return": "boolean", "signature": "boolean hasHostConsolidationStatusColumn()", "full_signature": "protected boolean hasHostConsolidationStatusColumn()", "class_method_signature": "ConfigureDatabaseDao.hasHostConsolidationStatusColumn()", "testcase": false, "constructor": false}, {"identifier": "createHostConsolidationStatusColumn", "parameters": "()", "modifiers": "protected", "return": "void", "signature": "void createHostConsolidationStatusColumn()", "full_signature": "protected void createHostConsolidationStatusColumn()", "class_method_signature": "ConfigureDatabaseDao.createHostConsolidationStatusColumn()", "testcase": false, "constructor": false}, {"identifier": "hasHostStartTypeColumn", "parameters": "()", "modifiers": "protected", "return": "boolean", "signature": "boolean hasHostStartTypeColumn()", "full_signature": "protected boolean hasHostStartTypeColumn()", "class_method_signature": "ConfigureDatabaseDao.hasHostStartTypeColumn()", "testcase": false, "constructor": false}, {"identifier": "createHostStartTypeColumn", "parameters": "()", "modifiers": "protected", "return": "void", "signature": "void createHostStartTypeColumn()", "full_signature": "protected void createHostStartTypeColumn()", "class_method_signature": "ConfigureDatabaseDao.createHostStartTypeColumn()", "testcase": false, "constructor": false}, {"identifier": "hasClusterConsolidationStatusColumn", "parameters": "()", "modifiers": "protected", "return": "boolean", "signature": "boolean hasClusterConsolidationStatusColumn()", "full_signature": "protected boolean hasClusterConsolidationStatusColumn()", "class_method_signature": "ConfigureDatabaseDao.hasClusterConsolidationStatusColumn()", "testcase": false, "constructor": false}, {"identifier": "createClusterConsolidationStatusColumn", "parameters": "()", "modifiers": "protected", "return": "void", "signature": "void createClusterConsolidationStatusColumn()", "full_signature": "protected void createClusterConsolidationStatusColumn()", "class_method_signature": "ConfigureDatabaseDao.createClusterConsolidationStatusColumn()", "testcase": false, "constructor": false}, {"identifier": "hasClusterLastConsolidatedColumn", "parameters": "()", "modifiers": "protected", "return": "boolean", "signature": "boolean hasClusterLastConsolidatedColumn()", "full_signature": "protected boolean hasClusterLastConsolidatedColumn()", "class_method_signature": "ConfigureDatabaseDao.hasClusterLastConsolidatedColumn()", "testcase": false, "constructor": false}, {"identifier": "createClusterLastConsolidatedColumn", "parameters": "()", "modifiers": "protected", "return": "void", "signature": "void createClusterLastConsolidatedColumn()", "full_signature": "protected void createClusterLastConsolidatedColumn()", "class_method_signature": "ConfigureDatabaseDao.createClusterLastConsolidatedColumn()", "testcase": false, "constructor": false}, {"identifier": "hasClusterManagerAlgorithmsInConfiguration", "parameters": "()", "modifiers": "protected", "return": "boolean", "signature": "boolean hasClusterManagerAlgorithmsInConfiguration()", "full_signature": "protected boolean hasClusterManagerAlgorithmsInConfiguration()", "class_method_signature": "ConfigureDatabaseDao.hasClusterManagerAlgorithmsInConfiguration()", "testcase": false, "constructor": false}, {"identifier": "insertClusterManagerAlgorithmsInConfiguration", "parameters": "()", "modifiers": "protected", "return": "void", "signature": "void insertClusterManagerAlgorithmsInConfiguration()", "full_signature": "protected void insertClusterManagerAlgorithmsInConfiguration()", "class_method_signature": "ConfigureDatabaseDao.insertClusterManagerAlgorithmsInConfiguration()", "testcase": false, "constructor": false}, {"identifier": "hasAutonomiccsSystemVmTable", "parameters": "()", "modifiers": "protected", "return": "boolean", "signature": "boolean hasAutonomiccsSystemVmTable()", "full_signature": "protected boolean hasAutonomiccsSystemVmTable()", "class_method_signature": "ConfigureDatabaseDao.hasAutonomiccsSystemVmTable()", "testcase": false, "constructor": false}, {"identifier": "createAutonomiccsSystemVmTable", "parameters": "()", "modifiers": "protected", "return": "void", "signature": "void createAutonomiccsSystemVmTable()", "full_signature": "protected void createAutonomiccsSystemVmTable()", "class_method_signature": "ConfigureDatabaseDao.createAutonomiccsSystemVmTable()", "testcase": false, "constructor": false}], "file": "autonomic-plugin-common/src/main/java/br/com/autonomiccs/autonomic/plugin/common/daos/configurations/ConfigureDatabaseDao.java"}, "focal_method": {"identifier": "createClusterConsolidationStatusColumn", "parameters": "()", "modifiers": "protected", "return": "void", "body": "protected void createClusterConsolidationStatusColumn() {\n        getJdbcTemplate().execute(sqlCreateClusterAdministrationStatusColumn);\n    }", "signature": "void createClusterConsolidationStatusColumn()", "full_signature": "protected void createClusterConsolidationStatusColumn()", "class_method_signature": "ConfigureDatabaseDao.createClusterConsolidationStatusColumn()", "testcase": false, "constructor": false, "invocations": ["execute", "getJdbcTemplate"]}, "repository": {"repo_id": 56359101, "url": "https://github.com/Autonomiccs/autonomiccs-platform", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 17, "size": 944, "license": "licensed"}}