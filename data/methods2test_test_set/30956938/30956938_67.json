{"test_class": {"identifier": "BeanshellActivityTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private ObjectNode configuration;", "modifier": "private", "type": "ObjectNode", "declarator": "configuration", "var_name": "configuration"}], "file": "taverna-beanshell-activity/src/test/java/org/apache/taverna/activities/beanshell/BeanshellActivityTest.java"}, "test_case": {"identifier": "simpleScript", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void simpleScript() throws Exception {\n\t\tBeanshellActivity activity = new BeanshellActivity(null);\n\t\tEdits edits = new EditsImpl();\n\t\tedits.getAddActivityInputPortEdit(activity, new ActivityInputPortImpl(\"input\", 0, false, null, String.class)).doEdit();\n\t\tedits.getAddActivityOutputPortEdit(activity, new ActivityOutputPortImpl(\"output\", 0, 0)).doEdit();\n\n\t\tconfiguration.put(\"script\", \"String output = input + \\\"_returned\\\";\");\n\n\t\tactivity.configure(configuration);\n\t\tassertEquals(\"There should be 1 input port\",1,activity.getInputPorts().size());\n\t\tassertEquals(\"There should be 1 output port\",1,activity.getOutputPorts().size());\n\n\t\tassertEquals(\"The input should be called input\", \"input\",((AbstractPort)activity.getInputPorts().toArray()[0]).getName());\n\t\tassertEquals(\"The output should be called output\", \"output\",((AbstractPort)activity.getOutputPorts().toArray()[0]).getName());\n\n\t\tMap<String,Object> inputs = new HashMap<String, Object>();\n\t\tinputs.put(\"input\", \"aString\");\n\t\tMap<String, Class<?>> expectedOutputs = new HashMap<String, Class<?>>();\n\t\texpectedOutputs.put(\"output\", String.class);\n\n\t\tMap<String,Object> outputs = ActivityInvoker.invokeAsyncActivity(activity, inputs, expectedOutputs);\n\t\tassertTrue(\"there should be an output named output\",outputs.containsKey(\"output\"));\n\t\tassertEquals(\"output should have the value aString_returned\",\"aString_returned\",outputs.get(\"output\"));\n\t}", "signature": "void simpleScript()", "full_signature": "@Test public void simpleScript()", "class_method_signature": "BeanshellActivityTest.simpleScript()", "testcase": true, "constructor": false, "invocations": ["doEdit", "getAddActivityInputPortEdit", "doEdit", "getAddActivityOutputPortEdit", "put", "configure", "assertEquals", "size", "getInputPorts", "assertEquals", "size", "getOutputPorts", "assertEquals", "getName", "toArray", "getInputPorts", "assertEquals", "getName", "toArray", "getOutputPorts", "put", "put", "invokeAsyncActivity", "assertTrue", "containsKey", "assertEquals", "get"]}, "focal_class": {"identifier": "BeanshellActivity", "superclass": "extends AbstractAsynchronousDependencyActivity", "interfaces": "", "fields": [{"original_string": "public static final String URI = \"http://ns.taverna.org.uk/2010/activity/beanshell\";", "modifier": "public static final", "type": "String", "declarator": "URI = \"http://ns.taverna.org.uk/2010/activity/beanshell\"", "var_name": "URI"}, {"original_string": "private static Logger logger = Logger.getLogger(BeanshellActivity.class);", "modifier": "private static", "type": "Logger", "declarator": "logger = Logger.getLogger(BeanshellActivity.class)", "var_name": "logger"}, {"original_string": "private Interpreter interpreter;", "modifier": "private", "type": "Interpreter", "declarator": "interpreter", "var_name": "interpreter"}, {"original_string": "private static String CLEAR_COMMAND = \"clear();\";", "modifier": "private static", "type": "String", "declarator": "CLEAR_COMMAND = \"clear();\"", "var_name": "CLEAR_COMMAND"}, {"original_string": "private JsonNode json;", "modifier": "private", "type": "JsonNode", "declarator": "json", "var_name": "json"}], "methods": [{"identifier": "BeanshellActivity", "parameters": "(ApplicationConfiguration applicationConfiguration)", "modifiers": "public", "return": "", "signature": " BeanshellActivity(ApplicationConfiguration applicationConfiguration)", "full_signature": "public  BeanshellActivity(ApplicationConfiguration applicationConfiguration)", "class_method_signature": "BeanshellActivity.BeanshellActivity(ApplicationConfiguration applicationConfiguration)", "testcase": false, "constructor": true}, {"identifier": "getConfiguration", "parameters": "()", "modifiers": "@Override public", "return": "JsonNode", "signature": "JsonNode getConfiguration()", "full_signature": "@Override public JsonNode getConfiguration()", "class_method_signature": "BeanshellActivity.getConfiguration()", "testcase": false, "constructor": false}, {"identifier": "configure", "parameters": "(JsonNode json)", "modifiers": "@Override public", "return": "void", "signature": "void configure(JsonNode json)", "full_signature": "@Override public void configure(JsonNode json)", "class_method_signature": "BeanshellActivity.configure(JsonNode json)", "testcase": false, "constructor": false}, {"identifier": "createInterpreter", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void createInterpreter()", "full_signature": "private void createInterpreter()", "class_method_signature": "BeanshellActivity.createInterpreter()", "testcase": false, "constructor": false}, {"identifier": "checkGranularDepths", "parameters": "()", "modifiers": "protected", "return": "void", "signature": "void checkGranularDepths()", "full_signature": "protected void checkGranularDepths()", "class_method_signature": "BeanshellActivity.checkGranularDepths()", "testcase": false, "constructor": false}, {"identifier": "getInputPort", "parameters": "(String name)", "modifiers": "public", "return": "ActivityInputPort", "signature": "ActivityInputPort getInputPort(String name)", "full_signature": "public ActivityInputPort getInputPort(String name)", "class_method_signature": "BeanshellActivity.getInputPort(String name)", "testcase": false, "constructor": false}, {"identifier": "clearInterpreter", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void clearInterpreter()", "full_signature": "private void clearInterpreter()", "class_method_signature": "BeanshellActivity.clearInterpreter()", "testcase": false, "constructor": false}, {"identifier": "executeAsynch", "parameters": "(final Map<String, T2Reference> data,\n\t\t\tfinal AsynchronousActivityCallback callback)", "modifiers": "@Override public", "return": "void", "signature": "void executeAsynch(final Map<String, T2Reference> data,\n\t\t\tfinal AsynchronousActivityCallback callback)", "full_signature": "@Override public void executeAsynch(final Map<String, T2Reference> data,\n\t\t\tfinal AsynchronousActivityCallback callback)", "class_method_signature": "BeanshellActivity.executeAsynch(final Map<String, T2Reference> data,\n\t\t\tfinal AsynchronousActivityCallback callback)", "testcase": false, "constructor": false}, {"identifier": "determineMessage", "parameters": "(Throwable e)", "modifiers": "private static", "return": "String", "signature": "String determineMessage(Throwable e)", "full_signature": "private static String determineMessage(Throwable e)", "class_method_signature": "BeanshellActivity.determineMessage(Throwable e)", "testcase": false, "constructor": false}], "file": "taverna-beanshell-activity/src/main/java/org/apache/taverna/activities/beanshell/BeanshellActivity.java"}, "focal_method": {"identifier": "configure", "parameters": "(JsonNode json)", "modifiers": "@Override public", "return": "void", "body": "@Override\n\tpublic void configure(JsonNode json) {\n\t\tthis.json = json;\n\t\tcheckGranularDepths();\n\t}", "signature": "void configure(JsonNode json)", "full_signature": "@Override public void configure(JsonNode json)", "class_method_signature": "BeanshellActivity.configure(JsonNode json)", "testcase": false, "constructor": false, "invocations": ["checkGranularDepths"]}, "repository": {"repo_id": 30956938, "url": "https://github.com/apache/incubator-taverna-common-activities", "language": "Java", "is_fork": false, "fork_count": 13, "stargazer_count": 8, "size": 5696, "license": "licensed"}}