{"test_class": {"identifier": "GuestFeedSubscriberTest", "superclass": "", "interfaces": "", "fields": [], "file": "booking/src/test/java/org/koenighotze/jee7hotel/booking/business/GuestFeedSubscriberTest.java"}, "test_case": {"identifier": "the_guest_url_includes_the_environment_config", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void the_guest_url_includes_the_environment_config() {\n        mockStatic(System.class);\n        final String expectedConfig = \"HOST:PORT\";\n        when(System.getenv(GUEST_URI_ENV_PROPERTY_KEY)).thenReturn(expectedConfig);\n        assertThat(new GuestFeedSubscriber().buildGuestUrl()).startsWith(format(\"http://%s/guest\", expectedConfig));\n    }", "signature": "void the_guest_url_includes_the_environment_config()", "full_signature": "@Test public void the_guest_url_includes_the_environment_config()", "class_method_signature": "GuestFeedSubscriberTest.the_guest_url_includes_the_environment_config()", "testcase": true, "constructor": false, "invocations": ["mockStatic", "thenReturn", "when", "getenv", "startsWith", "assertThat", "buildGuestUrl", "format"]}, "focal_class": {"identifier": "GuestFeedSubscriber", "superclass": "", "interfaces": "", "fields": [{"original_string": "static final String GUEST_URI_ENV_PROPERTY_KEY = \"GUEST_URI\";", "modifier": "static final", "type": "String", "declarator": "GUEST_URI_ENV_PROPERTY_KEY = \"GUEST_URI\"", "var_name": "GUEST_URI_ENV_PROPERTY_KEY"}, {"original_string": "private static final Logger LOGGER = Logger.getLogger(GuestFeedSubscriber.class.getName());", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = Logger.getLogger(GuestFeedSubscriber.class.getName())", "var_name": "LOGGER"}, {"original_string": "private Date lastUpdate = null;", "modifier": "private", "type": "Date", "declarator": "lastUpdate = null", "var_name": "lastUpdate"}, {"original_string": "@Inject\n    private Abdera abdera;", "modifier": "@Inject\n    private", "type": "Abdera", "declarator": "abdera", "var_name": "abdera"}, {"original_string": "@Inject\n    private GuestModelRepository guestModelRepository;", "modifier": "@Inject\n    private", "type": "GuestModelRepository", "declarator": "guestModelRepository", "var_name": "guestModelRepository"}], "methods": [{"identifier": "init", "parameters": "()", "modifiers": "@PostConstruct public", "return": "void", "signature": "void init()", "full_signature": "@PostConstruct public void init()", "class_method_signature": "GuestFeedSubscriber.init()", "testcase": false, "constructor": false}, {"identifier": "buildGuestUrl", "parameters": "()", "modifiers": "", "return": "String", "signature": "String buildGuestUrl()", "full_signature": " String buildGuestUrl()", "class_method_signature": "GuestFeedSubscriber.buildGuestUrl()", "testcase": false, "constructor": false}, {"identifier": "determineGuestHostAndPort", "parameters": "()", "modifiers": "", "return": "String", "signature": "String determineGuestHostAndPort()", "full_signature": " String determineGuestHostAndPort()", "class_method_signature": "GuestFeedSubscriber.determineGuestHostAndPort()", "testcase": false, "constructor": false}, {"identifier": "updateFeed", "parameters": "()", "modifiers": "@Schedule(minute = \"*/1\", hour = \"*\") public", "return": "void", "signature": "void updateFeed()", "full_signature": "@Schedule(minute = \"*/1\", hour = \"*\") public void updateFeed()", "class_method_signature": "GuestFeedSubscriber.updateFeed()", "testcase": false, "constructor": false}, {"identifier": "fetchGuest", "parameters": "(URI link)", "modifiers": "private", "return": "void", "signature": "void fetchGuest(URI link)", "full_signature": "private void fetchGuest(URI link)", "class_method_signature": "GuestFeedSubscriber.fetchGuest(URI link)", "testcase": false, "constructor": false}], "file": "booking/src/main/java/org/koenighotze/jee7hotel/booking/business/GuestFeedSubscriber.java"}, "focal_method": {"identifier": "buildGuestUrl", "parameters": "()", "modifiers": "", "return": "String", "body": "String buildGuestUrl() {\n        return format(\"http://%s/guest/rest/guest\", determineGuestHostAndPort());\n    }", "signature": "String buildGuestUrl()", "full_signature": " String buildGuestUrl()", "class_method_signature": "GuestFeedSubscriber.buildGuestUrl()", "testcase": false, "constructor": false, "invocations": ["format", "determineGuestHostAndPort"]}, "repository": {"repo_id": 26170170, "url": "https://github.com/koenighotze/Hotel-Reservation-Tool", "language": "Java", "is_fork": false, "fork_count": 1, "stargazer_count": 5, "size": 1659, "license": "licensed"}}