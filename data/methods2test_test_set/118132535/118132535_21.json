{"test_class": {"identifier": "RxConnectablesTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private PublishSubject<String> input;", "modifier": "private", "type": "PublishSubject<String>", "declarator": "input", "var_name": "input"}, {"original_string": "private Connectable<String, Integer> connectable;", "modifier": "private", "type": "Connectable<String, Integer>", "declarator": "connectable", "var_name": "connectable"}], "file": "mobius-rx/src/test/java/com/spotify/mobius/rx/RxConnectablesTest.java"}, "test_case": {"identifier": "shouldPropagateErrorsFromConnectable", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void shouldPropagateErrorsFromConnectable() throws Exception {\n    AssertableSubscriber<Integer> subscriber =\n        input.compose(RxConnectables.toTransformer(connectable)).test();\n\n    input.onNext(\"crash\");\n\n    subscriber.awaitTerminalEvent(1, TimeUnit.SECONDS);\n    subscriber.assertFailureAndMessage(RuntimeException.class, \"crashing!\");\n  }", "signature": "void shouldPropagateErrorsFromConnectable()", "full_signature": "@Test public void shouldPropagateErrorsFromConnectable()", "class_method_signature": "RxConnectablesTest.shouldPropagateErrorsFromConnectable()", "testcase": true, "constructor": false, "invocations": ["test", "compose", "toTransformer", "onNext", "awaitTerminalEvent", "assertFailureAndMessage"]}, "focal_class": {"identifier": "RxConnectables", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "RxConnectables", "parameters": "()", "modifiers": "private", "return": "", "signature": " RxConnectables()", "full_signature": "private  RxConnectables()", "class_method_signature": "RxConnectables.RxConnectables()", "testcase": false, "constructor": true}, {"identifier": "fromTransformer", "parameters": "(\n      final Observable.Transformer<I, O> transformer)", "modifiers": "public static", "return": "Connectable<I, O>", "signature": "Connectable<I, O> fromTransformer(\n      final Observable.Transformer<I, O> transformer)", "full_signature": "public static Connectable<I, O> fromTransformer(\n      final Observable.Transformer<I, O> transformer)", "class_method_signature": "RxConnectables.fromTransformer(\n      final Observable.Transformer<I, O> transformer)", "testcase": false, "constructor": false}, {"identifier": "toTransformer", "parameters": "(\n      final Connectable<I, O> connectable, final BackpressureMode backpressureMode)", "modifiers": "public static", "return": "Observable.Transformer<I, O>", "signature": "Observable.Transformer<I, O> toTransformer(\n      final Connectable<I, O> connectable, final BackpressureMode backpressureMode)", "full_signature": "public static Observable.Transformer<I, O> toTransformer(\n      final Connectable<I, O> connectable, final BackpressureMode backpressureMode)", "class_method_signature": "RxConnectables.toTransformer(\n      final Connectable<I, O> connectable, final BackpressureMode backpressureMode)", "testcase": false, "constructor": false}, {"identifier": "toTransformer", "parameters": "(\n      final Connectable<I, O> connectable)", "modifiers": "public static", "return": "Observable.Transformer<I, O>", "signature": "Observable.Transformer<I, O> toTransformer(\n      final Connectable<I, O> connectable)", "full_signature": "public static Observable.Transformer<I, O> toTransformer(\n      final Connectable<I, O> connectable)", "class_method_signature": "RxConnectables.toTransformer(\n      final Connectable<I, O> connectable)", "testcase": false, "constructor": false}], "file": "mobius-rx/src/main/java/com/spotify/mobius/rx/RxConnectables.java"}, "focal_method": {"identifier": "toTransformer", "parameters": "(\n      final Connectable<I, O> connectable, final BackpressureMode backpressureMode)", "modifiers": "public static", "return": "Observable.Transformer<I, O>", "body": "public static <I, O> Observable.Transformer<I, O> toTransformer(\n      final Connectable<I, O> connectable, final BackpressureMode backpressureMode) {\n    return new Observable.Transformer<I, O>() {\n      @Override\n      public Observable<O> call(final Observable<I> upstream) {\n        return Observable.create(\n            new Action1<Emitter<O>>() {\n              @Override\n              public void call(final Emitter<O> emitter) {\n                Consumer<O> output =\n                    new Consumer<O>() {\n                      @Override\n                      public void accept(O value) {\n                        emitter.onNext(value);\n                      }\n                    };\n\n                final Connection<I> input = connectable.connect(output);\n                final Subscription subscription =\n                    upstream.subscribe(\n                        new Action1<I>() {\n                          @Override\n                          public void call(I f) {\n                            input.accept(f);\n                          }\n                        },\n                        new Action1<Throwable>() {\n                          @Override\n                          public void call(Throwable throwable) {\n                            emitter.onError(throwable);\n                          }\n                        },\n                        new Action0() {\n                          @Override\n                          public void call() {\n                            emitter.onCompleted();\n                          }\n                        });\n\n                emitter.setCancellation(\n                    new Cancellable() {\n                      @Override\n                      public void cancel() throws Exception {\n                        subscription.unsubscribe();\n                        input.dispose();\n                      }\n                    });\n              }\n            },\n            backpressureMode);\n      }\n    };\n  }", "signature": "Observable.Transformer<I, O> toTransformer(\n      final Connectable<I, O> connectable, final BackpressureMode backpressureMode)", "full_signature": "public static Observable.Transformer<I, O> toTransformer(\n      final Connectable<I, O> connectable, final BackpressureMode backpressureMode)", "class_method_signature": "RxConnectables.toTransformer(\n      final Connectable<I, O> connectable, final BackpressureMode backpressureMode)", "testcase": false, "constructor": false, "invocations": ["create", "onNext", "connect", "subscribe", "accept", "onError", "onCompleted", "setCancellation", "unsubscribe", "dispose"]}, "repository": {"repo_id": 118132535, "url": "https://github.com/spotify/mobius", "stars": 663, "created": "1/19/2018 2:07:51 PM +00:00", "updates": "2020-01-27T22:05:43+00:00", "fork": "False", "license": "licensed"}}