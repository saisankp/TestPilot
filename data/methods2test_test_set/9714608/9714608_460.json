{"test_class": {"identifier": "ShapeFileIndexReaderTest", "superclass": "extends AbstractIoShapeTest", "interfaces": "", "fields": [{"original_string": "private static final String TEST_FILE = \"org/arakhne/afc/io/shape/test.shx\";", "modifier": "private static final", "type": "String", "declarator": "TEST_FILE = \"org/arakhne/afc/io/shape/test.shx\"", "var_name": "TEST_FILE"}, {"original_string": "private static final int TEST_FILE_SIZE = 268;", "modifier": "private static final", "type": "int", "declarator": "TEST_FILE_SIZE = 268", "var_name": "TEST_FILE_SIZE"}, {"original_string": "private static final int TEST_FILE_RECORD_COUNT = 21;", "modifier": "private static final", "type": "int", "declarator": "TEST_FILE_RECORD_COUNT = 21", "var_name": "TEST_FILE_RECORD_COUNT"}, {"original_string": "private URL resource;", "modifier": "private", "type": "URL", "declarator": "resource", "var_name": "resource"}, {"original_string": "private ShapeFileIndexReader reader;", "modifier": "private", "type": "ShapeFileIndexReader", "declarator": "reader", "var_name": "reader"}], "file": "advanced/shapefile/src/test/java/org/arakhne/afc/io/shape/ShapeFileIndexReaderTest.java"}, "test_case": {"identifier": "testSeek_seekenabled", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testSeek_seekenabled() throws Exception {\n\t\tShapeFileIndexRecord obj;\n\t\t\n\t\tthis.reader.seek(0);\n\t\tobj = this.reader.read();\n\t\tassertNotNull(obj);\n\t\tassertEquals(0, obj.getRecordIndex());\n\t\tassertEquals(100, obj.getOffsetInFile());\n\t\tassertEquals(128, obj.getRecordContentLength());\n\n\t\tthis.reader.seek(2);\n\t\tobj = this.reader.read();\n\t\tassertNotNull(obj);\n\t\tassertEquals(2, obj.getRecordIndex());\n\t\tassertEquals(420, obj.getOffsetInFile());\n\t\tassertEquals(128, obj.getRecordContentLength());\n\n\t\tthis.reader.seek(1);\n\t\tobj = this.reader.read();\n\t\tassertNotNull(obj);\n\t\tassertEquals(1, obj.getRecordIndex());\n\t\tassertEquals(236, obj.getOffsetInFile());\n\t\tassertEquals(176, obj.getRecordContentLength());\n\n\t\tthis.reader.seek(2);\n\t\tobj = this.reader.read();\n\t\tassertNotNull(obj);\n\t\tassertEquals(2, obj.getRecordIndex());\n\t\tassertEquals(420, obj.getOffsetInFile());\n\t\tassertEquals(128, obj.getRecordContentLength());\n\n\t\tthis.reader.seek(0);\n\t\tobj = this.reader.read();\n\t\tassertNotNull(obj);\n\t\tassertEquals(0, obj.getRecordIndex());\n\t\tassertEquals(100, obj.getOffsetInFile());\n\t\tassertEquals(128, obj.getRecordContentLength());\n\n\t\tthis.reader.seek(18);\n\t\tobj = this.reader.read();\n\t\tassertNotNull(obj);\n\t\tassertEquals(18, obj.getRecordIndex());\n\t\tassertEquals(3860, obj.getOffsetInFile());\n\t\tassertEquals(256, obj.getRecordContentLength());\n\n\t\ttry {\n\t\t\tthis.reader.seek(100000);\n\t\t\tfail(\"EOFException was expected\"); //$NON-NLS-1$\n\t\t}\n\t\tcatch (EOFException exception) {\n\t\t\t// Expected exception\n\t\t}\n\t}", "signature": "void testSeek_seekenabled()", "full_signature": "@Test public void testSeek_seekenabled()", "class_method_signature": "ShapeFileIndexReaderTest.testSeek_seekenabled()", "testcase": true, "constructor": false, "invocations": ["seek", "read", "assertNotNull", "assertEquals", "getRecordIndex", "assertEquals", "getOffsetInFile", "assertEquals", "getRecordContentLength", "seek", "read", "assertNotNull", "assertEquals", "getRecordIndex", "assertEquals", "getOffsetInFile", "assertEquals", "getRecordContentLength", "seek", "read", "assertNotNull", "assertEquals", "getRecordIndex", "assertEquals", "getOffsetInFile", "assertEquals", "getRecordContentLength", "seek", "read", "assertNotNull", "assertEquals", "getRecordIndex", "assertEquals", "getOffsetInFile", "assertEquals", "getRecordContentLength", "seek", "read", "assertNotNull", "assertEquals", "getRecordIndex", "assertEquals", "getOffsetInFile", "assertEquals", "getRecordContentLength", "seek", "read", "assertNotNull", "assertEquals", "getRecordIndex", "assertEquals", "getOffsetInFile", "assertEquals", "getRecordContentLength", "seek", "fail"]}, "focal_class": {"identifier": "ShapeFileIndexReader", "superclass": "extends AbstractCommonShapeFileReader<ShapeFileIndexRecord>", "interfaces": "", "fields": [{"original_string": "private static final int RECORD_SIZE = 8;", "modifier": "private static final", "type": "int", "declarator": "RECORD_SIZE = 8", "var_name": "RECORD_SIZE"}, {"original_string": "private int recordCount = -1;", "modifier": "private", "type": "int", "declarator": "recordCount = -1", "var_name": "recordCount"}], "methods": [{"identifier": "ShapeFileIndexReader", "parameters": "(ReadableByteChannel channel)", "modifiers": "public", "return": "", "signature": " ShapeFileIndexReader(ReadableByteChannel channel)", "full_signature": "public  ShapeFileIndexReader(ReadableByteChannel channel)", "class_method_signature": "ShapeFileIndexReader.ShapeFileIndexReader(ReadableByteChannel channel)", "testcase": false, "constructor": true}, {"identifier": "ShapeFileIndexReader", "parameters": "(InputStream inputStream)", "modifiers": "public", "return": "", "signature": " ShapeFileIndexReader(InputStream inputStream)", "full_signature": "public  ShapeFileIndexReader(InputStream inputStream)", "class_method_signature": "ShapeFileIndexReader.ShapeFileIndexReader(InputStream inputStream)", "testcase": false, "constructor": true}, {"identifier": "ShapeFileIndexReader", "parameters": "(File file)", "modifiers": "@SuppressWarnings(\"resource\") public", "return": "", "signature": " ShapeFileIndexReader(File file)", "full_signature": "@SuppressWarnings(\"resource\") public  ShapeFileIndexReader(File file)", "class_method_signature": "ShapeFileIndexReader.ShapeFileIndexReader(File file)", "testcase": false, "constructor": true}, {"identifier": "ShapeFileIndexReader", "parameters": "(URL file)", "modifiers": "public", "return": "", "signature": " ShapeFileIndexReader(URL file)", "full_signature": "public  ShapeFileIndexReader(URL file)", "class_method_signature": "ShapeFileIndexReader.ShapeFileIndexReader(URL file)", "testcase": false, "constructor": true}, {"identifier": "postHeaderReadingStage", "parameters": "()", "modifiers": "@Override protected", "return": "void", "signature": "void postHeaderReadingStage()", "full_signature": "@Override protected void postHeaderReadingStage()", "class_method_signature": "ShapeFileIndexReader.postHeaderReadingStage()", "testcase": false, "constructor": false}, {"identifier": "getRecordCount", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getRecordCount()", "full_signature": "public int getRecordCount()", "class_method_signature": "ShapeFileIndexReader.getRecordCount()", "testcase": false, "constructor": false}, {"identifier": "seek", "parameters": "(int recordIndex)", "modifiers": "@Override public", "return": "void", "signature": "void seek(int recordIndex)", "full_signature": "@Override public void seek(int recordIndex)", "class_method_signature": "ShapeFileIndexReader.seek(int recordIndex)", "testcase": false, "constructor": false}, {"identifier": "readRecord", "parameters": "(int recordIndex)", "modifiers": "@Override protected", "return": "ShapeFileIndexRecord", "signature": "ShapeFileIndexRecord readRecord(int recordIndex)", "full_signature": "@Override protected ShapeFileIndexRecord readRecord(int recordIndex)", "class_method_signature": "ShapeFileIndexReader.readRecord(int recordIndex)", "testcase": false, "constructor": false}], "file": "advanced/shapefile/src/main/java/org/arakhne/afc/io/shape/ShapeFileIndexReader.java"}, "focal_method": {"identifier": "seek", "parameters": "(int recordIndex)", "modifiers": "@Override public", "return": "void", "body": "@Override\n\tpublic void seek(int recordIndex) throws IOException {\n\t\treadHeader();\n\t\tint ri = recordIndex;\n\t\tif (ri < 0) {\n\t\t\tri = 0;\n\t\t}\n\t\tif (ri >= this.recordCount) {\n\t\t\tthrow new EOFException();\n\t\t}\n\n\t\t// Goto the record\n\t\tsetReadingPosition(recordIndex, RECORD_SIZE * ri);\n\t}", "signature": "void seek(int recordIndex)", "full_signature": "@Override public void seek(int recordIndex)", "class_method_signature": "ShapeFileIndexReader.seek(int recordIndex)", "testcase": false, "constructor": false, "invocations": ["readHeader", "setReadingPosition"]}, "repository": {"repo_id": 9714608, "url": "https://github.com/gallandarakhneorg/afc", "language": "Java", "is_fork": false, "fork_count": 8, "stargazer_count": 12, "size": 19091, "license": "licensed"}}