{"test_class": {"identifier": "ShapeInMemLayerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "protected static final String LAYER_NAME = \"110m_populated_places_simple\";", "modifier": "protected static final", "type": "String", "declarator": "LAYER_NAME = \"110m_populated_places_simple\"", "var_name": "LAYER_NAME"}, {"original_string": "@Autowired\n\tprivate FilterService filterService;", "modifier": "@Autowired\n\tprivate", "type": "FilterService", "declarator": "filterService", "var_name": "filterService"}, {"original_string": "@Autowired()\n\t@Qualifier(\"test\")\n\tprivate ShapeInMemLayer layer;", "modifier": "@Autowired()\n\t@Qualifier(\"test\")\n\tprivate", "type": "ShapeInMemLayer", "declarator": "layer", "var_name": "layer"}, {"original_string": "private Filter filter;", "modifier": "private", "type": "Filter", "declarator": "filter", "var_name": "filter"}], "file": "plugin/layer-geotools/geotools/src/test/java/org/geomajas/layer/shapeinmem/ShapeInMemLayerTest.java"}, "test_case": {"identifier": "getElements", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void getElements() throws LayerException {\n\t\t// Checked in QGis!\n\t\tIterator<?> it = layer.getElements(filter, 0, 0);\n\t\tint counter = 0;\n\t\twhile (it.hasNext()) {\n\t\t\tit.next();\n\t\t\tcounter++;\n\t\t}\n\t\tAssert.assertEquals(198, counter);\n\t}", "signature": "void getElements()", "full_signature": "@Test public void getElements()", "class_method_signature": "ShapeInMemLayerTest.getElements()", "testcase": true, "constructor": false, "invocations": ["getElements", "hasNext", "next", "assertEquals"]}, "focal_class": {"identifier": "ShapeInMemLayer", "superclass": "extends FeatureSourceRetriever", "interfaces": "implements VectorLayer", "fields": [{"original_string": "private final Map<String, SimpleFeature> features = new ConcurrentHashMap<String, SimpleFeature>();", "modifier": "private final", "type": "Map<String, SimpleFeature>", "declarator": "features = new ConcurrentHashMap<String, SimpleFeature>()", "var_name": "features"}, {"original_string": "private FeatureModel featureModel;", "modifier": "private", "type": "FeatureModel", "declarator": "featureModel", "var_name": "featureModel"}, {"original_string": "private VectorLayerInfo layerInfo;", "modifier": "private", "type": "VectorLayerInfo", "declarator": "layerInfo", "var_name": "layerInfo"}, {"original_string": "@Autowired\n\tprivate GeoService geoService;", "modifier": "@Autowired\n\tprivate", "type": "GeoService", "declarator": "geoService", "var_name": "geoService"}, {"original_string": "@Autowired\n\tprivate DtoConverterService converterService;", "modifier": "@Autowired\n\tprivate", "type": "DtoConverterService", "declarator": "converterService", "var_name": "converterService"}, {"original_string": "private CoordinateReferenceSystem crs;", "modifier": "private", "type": "CoordinateReferenceSystem", "declarator": "crs", "var_name": "crs"}, {"original_string": "private String url;", "modifier": "private", "type": "String", "declarator": "url", "var_name": "url"}, {"original_string": "private String id;", "modifier": "private", "type": "String", "declarator": "id", "var_name": "id"}], "methods": [{"identifier": "getId", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getId()", "full_signature": "@Override public String getId()", "class_method_signature": "ShapeInMemLayer.getId()", "testcase": false, "constructor": false}, {"identifier": "setId", "parameters": "(String id)", "modifiers": "public", "return": "void", "signature": "void setId(String id)", "full_signature": "public void setId(String id)", "class_method_signature": "ShapeInMemLayer.setId(String id)", "testcase": false, "constructor": false}, {"identifier": "getCrs", "parameters": "()", "modifiers": "@Override public", "return": "CoordinateReferenceSystem", "signature": "CoordinateReferenceSystem getCrs()", "full_signature": "@Override public CoordinateReferenceSystem getCrs()", "class_method_signature": "ShapeInMemLayer.getCrs()", "testcase": false, "constructor": false}, {"identifier": "setLayerInfo", "parameters": "(VectorLayerInfo layerInfo)", "modifiers": "@Api public", "return": "void", "signature": "void setLayerInfo(VectorLayerInfo layerInfo)", "full_signature": "@Api public void setLayerInfo(VectorLayerInfo layerInfo)", "class_method_signature": "ShapeInMemLayer.setLayerInfo(VectorLayerInfo layerInfo)", "testcase": false, "constructor": false}, {"identifier": "getLayerInfo", "parameters": "()", "modifiers": "@Override public", "return": "VectorLayerInfo", "signature": "VectorLayerInfo getLayerInfo()", "full_signature": "@Override public VectorLayerInfo getLayerInfo()", "class_method_signature": "ShapeInMemLayer.getLayerInfo()", "testcase": false, "constructor": false}, {"identifier": "isCreateCapable", "parameters": "()", "modifiers": "@Override public", "return": "boolean", "signature": "boolean isCreateCapable()", "full_signature": "@Override public boolean isCreateCapable()", "class_method_signature": "ShapeInMemLayer.isCreateCapable()", "testcase": false, "constructor": false}, {"identifier": "isUpdateCapable", "parameters": "()", "modifiers": "@Override public", "return": "boolean", "signature": "boolean isUpdateCapable()", "full_signature": "@Override public boolean isUpdateCapable()", "class_method_signature": "ShapeInMemLayer.isUpdateCapable()", "testcase": false, "constructor": false}, {"identifier": "isDeleteCapable", "parameters": "()", "modifiers": "@Override public", "return": "boolean", "signature": "boolean isDeleteCapable()", "full_signature": "@Override public boolean isDeleteCapable()", "class_method_signature": "ShapeInMemLayer.isDeleteCapable()", "testcase": false, "constructor": false}, {"identifier": "setUrl", "parameters": "(String url)", "modifiers": "@Api public", "return": "void", "signature": "void setUrl(String url)", "full_signature": "@Api public void setUrl(String url)", "class_method_signature": "ShapeInMemLayer.setUrl(String url)", "testcase": false, "constructor": false}, {"identifier": "getElements", "parameters": "(Filter filter, int offset, int maxResultSize)", "modifiers": "public", "return": "Iterator<?>", "signature": "Iterator<?> getElements(Filter filter, int offset, int maxResultSize)", "full_signature": "public Iterator<?> getElements(Filter filter, int offset, int maxResultSize)", "class_method_signature": "ShapeInMemLayer.getElements(Filter filter, int offset, int maxResultSize)", "testcase": false, "constructor": false}, {"identifier": "getBounds", "parameters": "()", "modifiers": "@Override public", "return": "Envelope", "signature": "Envelope getBounds()", "full_signature": "@Override public Envelope getBounds()", "class_method_signature": "ShapeInMemLayer.getBounds()", "testcase": false, "constructor": false}, {"identifier": "getBounds", "parameters": "(Filter filter)", "modifiers": "public", "return": "Envelope", "signature": "Envelope getBounds(Filter filter)", "full_signature": "public Envelope getBounds(Filter filter)", "class_method_signature": "ShapeInMemLayer.getBounds(Filter filter)", "testcase": false, "constructor": false}, {"identifier": "getFeatureModel", "parameters": "()", "modifiers": "@Override public", "return": "FeatureModel", "signature": "FeatureModel getFeatureModel()", "full_signature": "@Override public FeatureModel getFeatureModel()", "class_method_signature": "ShapeInMemLayer.getFeatureModel()", "testcase": false, "constructor": false}, {"identifier": "create", "parameters": "(Object feature)", "modifiers": "@Override public", "return": "Object", "signature": "Object create(Object feature)", "full_signature": "@Override public Object create(Object feature)", "class_method_signature": "ShapeInMemLayer.create(Object feature)", "testcase": false, "constructor": false}, {"identifier": "read", "parameters": "(String featureId)", "modifiers": "@Override public", "return": "Object", "signature": "Object read(String featureId)", "full_signature": "@Override public Object read(String featureId)", "class_method_signature": "ShapeInMemLayer.read(String featureId)", "testcase": false, "constructor": false}, {"identifier": "saveOrUpdate", "parameters": "(Object feature)", "modifiers": "@Override public", "return": "Object", "signature": "Object saveOrUpdate(Object feature)", "full_signature": "@Override public Object saveOrUpdate(Object feature)", "class_method_signature": "ShapeInMemLayer.saveOrUpdate(Object feature)", "testcase": false, "constructor": false}, {"identifier": "delete", "parameters": "(String featureId)", "modifiers": "@Override public", "return": "void", "signature": "void delete(String featureId)", "full_signature": "@Override public void delete(String featureId)", "class_method_signature": "ShapeInMemLayer.delete(String featureId)", "testcase": false, "constructor": false}, {"identifier": "initFeatures", "parameters": "()", "modifiers": "@PostConstruct protected", "return": "void", "signature": "void initFeatures()", "full_signature": "@PostConstruct protected void initFeatures()", "class_method_signature": "ShapeInMemLayer.initFeatures()", "testcase": false, "constructor": false}], "file": "plugin/layer-geotools/geotools/src/main/java/org/geomajas/layer/shapeinmem/ShapeInMemLayer.java"}, "focal_method": {"identifier": "getElements", "parameters": "(Filter filter, int offset, int maxResultSize)", "modifiers": "public", "return": "Iterator<?>", "body": "public Iterator<?> getElements(Filter filter, int offset, int maxResultSize) throws LayerException {\n\t\tList<SimpleFeature> filteredList = new ArrayList<SimpleFeature>();\n\t\tfor (SimpleFeature feature : features.values()) {\n\t\t\tif (filter.evaluate(feature)) {\n\t\t\t\tfilteredList.add(feature);\n\t\t\t\tif (filteredList.size() == maxResultSize) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn filteredList.iterator();\n\t}", "signature": "Iterator<?> getElements(Filter filter, int offset, int maxResultSize)", "full_signature": "public Iterator<?> getElements(Filter filter, int offset, int maxResultSize)", "class_method_signature": "ShapeInMemLayer.getElements(Filter filter, int offset, int maxResultSize)", "testcase": false, "constructor": false, "invocations": ["values", "evaluate", "add", "size", "iterator"]}, "repository": {"repo_id": 14505280, "url": "https://github.com/geomajas/geomajas-project-server", "language": "Java", "is_fork": false, "fork_count": 15, "stargazer_count": 13, "size": 124882, "license": "licensed"}}