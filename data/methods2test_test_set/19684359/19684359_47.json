{"test_class": {"identifier": "ApiErrorExtractorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private GoogleJsonResponseException accessDenied;", "modifier": "private", "type": "GoogleJsonResponseException", "declarator": "accessDenied", "var_name": "accessDenied"}, {"original_string": "private GoogleJsonResponseException statusOk;", "modifier": "private", "type": "GoogleJsonResponseException", "declarator": "statusOk", "var_name": "statusOk"}, {"original_string": "private GoogleJsonResponseException notFound;", "modifier": "private", "type": "GoogleJsonResponseException", "declarator": "notFound", "var_name": "notFound"}, {"original_string": "private GoogleJsonResponseException badRange;", "modifier": "private", "type": "GoogleJsonResponseException", "declarator": "badRange", "var_name": "badRange"}, {"original_string": "private GoogleJsonResponseException alreadyExists;", "modifier": "private", "type": "GoogleJsonResponseException", "declarator": "alreadyExists", "var_name": "alreadyExists"}, {"original_string": "private GoogleJsonResponseException rateLimited;", "modifier": "private", "type": "GoogleJsonResponseException", "declarator": "rateLimited", "var_name": "rateLimited"}, {"original_string": "private GoogleJsonResponseException notRateLimited;", "modifier": "private", "type": "GoogleJsonResponseException", "declarator": "notRateLimited", "var_name": "notRateLimited"}, {"original_string": "private GoogleJsonResponseException quotaExceeded;", "modifier": "private", "type": "GoogleJsonResponseException", "declarator": "quotaExceeded", "var_name": "quotaExceeded"}, {"original_string": "private GoogleJsonResponseException resourceNotReady;", "modifier": "private", "type": "GoogleJsonResponseException", "declarator": "resourceNotReady", "var_name": "resourceNotReady"}, {"original_string": "private GoogleJsonResponseException bigqueryRateLimited;", "modifier": "private", "type": "GoogleJsonResponseException", "declarator": "bigqueryRateLimited", "var_name": "bigqueryRateLimited"}, {"original_string": "private static final int POSSIBLE_RATE_LIMIT = 429;", "modifier": "private static final", "type": "int", "declarator": "POSSIBLE_RATE_LIMIT = 429", "var_name": "POSSIBLE_RATE_LIMIT"}, {"original_string": "private final ApiErrorExtractor errorExtractor = ApiErrorExtractor.INSTANCE;", "modifier": "private final", "type": "ApiErrorExtractor", "declarator": "errorExtractor = ApiErrorExtractor.INSTANCE", "var_name": "errorExtractor"}], "file": "util/src/test/java/com/google/cloud/hadoop/util/ApiErrorExtractorTest.java"}, "test_case": {"identifier": "testRateLimited", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testRateLimited() {\n    // Check success case.\n    assertThat(errorExtractor.rateLimited(rateLimited)).isTrue();\n    assertThat(errorExtractor.rateLimited(new IOException(rateLimited))).isTrue();\n    assertThat(errorExtractor.rateLimited(new IOException(new IOException(rateLimited)))).isTrue();\n\n    // Check failure cases.\n    assertThat(errorExtractor.rateLimited(notRateLimited)).isFalse();\n    assertThat(errorExtractor.rateLimited(new IOException(notRateLimited))).isFalse();\n    assertThat(errorExtractor.rateLimited(new IOException(statusOk))).isFalse();\n    assertThat(errorExtractor.rateLimited(null)).isFalse();\n  }", "signature": "void testRateLimited()", "full_signature": "@Test public void testRateLimited()", "class_method_signature": "ApiErrorExtractorTest.testRateLimited()", "testcase": true, "constructor": false, "invocations": ["isTrue", "assertThat", "rateLimited", "isTrue", "assertThat", "rateLimited", "isTrue", "assertThat", "rateLimited", "isFalse", "assertThat", "rateLimited", "isFalse", "assertThat", "rateLimited", "isFalse", "assertThat", "rateLimited", "isFalse", "assertThat", "rateLimited"]}, "focal_class": {"identifier": "ApiErrorExtractor", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final ApiErrorExtractor INSTANCE = new ApiErrorExtractor();", "modifier": "public static final", "type": "ApiErrorExtractor", "declarator": "INSTANCE = new ApiErrorExtractor()", "var_name": "INSTANCE"}, {"original_string": "public static final int STATUS_CODE_RANGE_NOT_SATISFIABLE = 416;", "modifier": "public static final", "type": "int", "declarator": "STATUS_CODE_RANGE_NOT_SATISFIABLE = 416", "var_name": "STATUS_CODE_RANGE_NOT_SATISFIABLE"}, {"original_string": "public static final String GLOBAL_DOMAIN = \"global\";", "modifier": "public static final", "type": "String", "declarator": "GLOBAL_DOMAIN = \"global\"", "var_name": "GLOBAL_DOMAIN"}, {"original_string": "public static final String USAGE_LIMITS_DOMAIN = \"usageLimits\";", "modifier": "public static final", "type": "String", "declarator": "USAGE_LIMITS_DOMAIN = \"usageLimits\"", "var_name": "USAGE_LIMITS_DOMAIN"}, {"original_string": "public static final String RATE_LIMITED_REASON = \"rateLimitExceeded\";", "modifier": "public static final", "type": "String", "declarator": "RATE_LIMITED_REASON = \"rateLimitExceeded\"", "var_name": "RATE_LIMITED_REASON"}, {"original_string": "public static final String USER_RATE_LIMITED_REASON = \"userRateLimitExceeded\";", "modifier": "public static final", "type": "String", "declarator": "USER_RATE_LIMITED_REASON = \"userRateLimitExceeded\"", "var_name": "USER_RATE_LIMITED_REASON"}, {"original_string": "public static final String QUOTA_EXCEEDED_REASON = \"quotaExceeded\";", "modifier": "public static final", "type": "String", "declarator": "QUOTA_EXCEEDED_REASON = \"quotaExceeded\"", "var_name": "QUOTA_EXCEEDED_REASON"}, {"original_string": "public static final String ACCOUNT_DISABLED_REASON = \"accountDisabled\";", "modifier": "public static final", "type": "String", "declarator": "ACCOUNT_DISABLED_REASON = \"accountDisabled\"", "var_name": "ACCOUNT_DISABLED_REASON"}, {"original_string": "public static final String ACCESS_NOT_CONFIGURED_REASON = \"accessNotConfigured\";", "modifier": "public static final", "type": "String", "declarator": "ACCESS_NOT_CONFIGURED_REASON = \"accessNotConfigured\"", "var_name": "ACCESS_NOT_CONFIGURED_REASON"}, {"original_string": "public static final String RESOURCE_NOT_READY_REASON = \"resourceNotReady\";", "modifier": "public static final", "type": "String", "declarator": "RESOURCE_NOT_READY_REASON = \"resourceNotReady\"", "var_name": "RESOURCE_NOT_READY_REASON"}, {"original_string": "public static final String FIELD_SIZE_TOO_LARGE_REASON = \"fieldSizeTooLarge\";", "modifier": "public static final", "type": "String", "declarator": "FIELD_SIZE_TOO_LARGE_REASON = \"fieldSizeTooLarge\"", "var_name": "FIELD_SIZE_TOO_LARGE_REASON"}, {"original_string": "public static final String USER_PROJECT_MISSING_MESSAGE =\n      \"Bucket is requester pays bucket but no user project provided.\";", "modifier": "public static final", "type": "String", "declarator": "USER_PROJECT_MISSING_MESSAGE =\n      \"Bucket is requester pays bucket but no user project provided.\"", "var_name": "USER_PROJECT_MISSING_MESSAGE"}, {"original_string": "private static final String DEBUG_INFO_FIELD = \"debugInfo\";", "modifier": "private static final", "type": "String", "declarator": "DEBUG_INFO_FIELD = \"debugInfo\"", "var_name": "DEBUG_INFO_FIELD"}], "methods": [{"identifier": "requestFailure", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean requestFailure(IOException e)", "full_signature": "public boolean requestFailure(IOException e)", "class_method_signature": "ApiErrorExtractor.requestFailure(IOException e)", "testcase": false, "constructor": false}, {"identifier": "accessDenied", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean accessDenied(IOException e)", "full_signature": "public boolean accessDenied(IOException e)", "class_method_signature": "ApiErrorExtractor.accessDenied(IOException e)", "testcase": false, "constructor": false}, {"identifier": "badRequest", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean badRequest(IOException e)", "full_signature": "public boolean badRequest(IOException e)", "class_method_signature": "ApiErrorExtractor.badRequest(IOException e)", "testcase": false, "constructor": false}, {"identifier": "unauthorized", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean unauthorized(IOException e)", "full_signature": "public boolean unauthorized(IOException e)", "class_method_signature": "ApiErrorExtractor.unauthorized(IOException e)", "testcase": false, "constructor": false}, {"identifier": "accessDeniedNonRecoverable", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean accessDeniedNonRecoverable(IOException e)", "full_signature": "public boolean accessDeniedNonRecoverable(IOException e)", "class_method_signature": "ApiErrorExtractor.accessDeniedNonRecoverable(IOException e)", "testcase": false, "constructor": false}, {"identifier": "clientError", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean clientError(IOException e)", "full_signature": "public boolean clientError(IOException e)", "class_method_signature": "ApiErrorExtractor.clientError(IOException e)", "testcase": false, "constructor": false}, {"identifier": "internalServerError", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean internalServerError(IOException e)", "full_signature": "public boolean internalServerError(IOException e)", "class_method_signature": "ApiErrorExtractor.internalServerError(IOException e)", "testcase": false, "constructor": false}, {"identifier": "itemAlreadyExists", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean itemAlreadyExists(IOException e)", "full_signature": "public boolean itemAlreadyExists(IOException e)", "class_method_signature": "ApiErrorExtractor.itemAlreadyExists(IOException e)", "testcase": false, "constructor": false}, {"identifier": "itemNotFound", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean itemNotFound(IOException e)", "full_signature": "public boolean itemNotFound(IOException e)", "class_method_signature": "ApiErrorExtractor.itemNotFound(IOException e)", "testcase": false, "constructor": false}, {"identifier": "fieldSizeTooLarge", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean fieldSizeTooLarge(IOException e)", "full_signature": "public boolean fieldSizeTooLarge(IOException e)", "class_method_signature": "ApiErrorExtractor.fieldSizeTooLarge(IOException e)", "testcase": false, "constructor": false}, {"identifier": "resourceNotReady", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean resourceNotReady(IOException e)", "full_signature": "public boolean resourceNotReady(IOException e)", "class_method_signature": "ApiErrorExtractor.resourceNotReady(IOException e)", "testcase": false, "constructor": false}, {"identifier": "preconditionNotMet", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean preconditionNotMet(IOException e)", "full_signature": "public boolean preconditionNotMet(IOException e)", "class_method_signature": "ApiErrorExtractor.preconditionNotMet(IOException e)", "testcase": false, "constructor": false}, {"identifier": "rangeNotSatisfiable", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean rangeNotSatisfiable(IOException e)", "full_signature": "public boolean rangeNotSatisfiable(IOException e)", "class_method_signature": "ApiErrorExtractor.rangeNotSatisfiable(IOException e)", "testcase": false, "constructor": false}, {"identifier": "rateLimited", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean rateLimited(IOException e)", "full_signature": "public boolean rateLimited(IOException e)", "class_method_signature": "ApiErrorExtractor.rateLimited(IOException e)", "testcase": false, "constructor": false}, {"identifier": "quotaExceeded", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean quotaExceeded(IOException e)", "full_signature": "public boolean quotaExceeded(IOException e)", "class_method_signature": "ApiErrorExtractor.quotaExceeded(IOException e)", "testcase": false, "constructor": false}, {"identifier": "userProjectMissing", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean userProjectMissing(IOException e)", "full_signature": "public boolean userProjectMissing(IOException e)", "class_method_signature": "ApiErrorExtractor.userProjectMissing(IOException e)", "testcase": false, "constructor": false}, {"identifier": "ioError", "parameters": "(Throwable throwable)", "modifiers": "public", "return": "boolean", "signature": "boolean ioError(Throwable throwable)", "full_signature": "public boolean ioError(Throwable throwable)", "class_method_signature": "ApiErrorExtractor.ioError(Throwable throwable)", "testcase": false, "constructor": false}, {"identifier": "socketError", "parameters": "(Throwable throwable)", "modifiers": "public", "return": "boolean", "signature": "boolean socketError(Throwable throwable)", "full_signature": "public boolean socketError(Throwable throwable)", "class_method_signature": "ApiErrorExtractor.socketError(Throwable throwable)", "testcase": false, "constructor": false}, {"identifier": "readTimedOut", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "signature": "boolean readTimedOut(IOException e)", "full_signature": "public boolean readTimedOut(IOException e)", "class_method_signature": "ApiErrorExtractor.readTimedOut(IOException e)", "testcase": false, "constructor": false}, {"identifier": "getErrorMessage", "parameters": "(IOException e)", "modifiers": "public", "return": "String", "signature": "String getErrorMessage(IOException e)", "full_signature": "public String getErrorMessage(IOException e)", "class_method_signature": "ApiErrorExtractor.getErrorMessage(IOException e)", "testcase": false, "constructor": false}, {"identifier": "toUserPresentableException", "parameters": "(IOException e, String action)", "modifiers": "public", "return": "IOException", "signature": "IOException toUserPresentableException(IOException e, String action)", "full_signature": "public IOException toUserPresentableException(IOException e, String action)", "class_method_signature": "ApiErrorExtractor.toUserPresentableException(IOException e, String action)", "testcase": false, "constructor": false}, {"identifier": "toUserPresentableMessage", "parameters": "(IOException e, @Nullable String action)", "modifiers": "public", "return": "String", "signature": "String toUserPresentableMessage(IOException e, @Nullable String action)", "full_signature": "public String toUserPresentableMessage(IOException e, @Nullable String action)", "class_method_signature": "ApiErrorExtractor.toUserPresentableMessage(IOException e, @Nullable String action)", "testcase": false, "constructor": false}, {"identifier": "toUserPresentableMessage", "parameters": "(IOException e)", "modifiers": "public", "return": "String", "signature": "String toUserPresentableMessage(IOException e)", "full_signature": "public String toUserPresentableMessage(IOException e)", "class_method_signature": "ApiErrorExtractor.toUserPresentableMessage(IOException e)", "testcase": false, "constructor": false}, {"identifier": "getDebugInfo", "parameters": "(IOException e)", "modifiers": "@Nullable public", "return": "String", "signature": "String getDebugInfo(IOException e)", "full_signature": "@Nullable public String getDebugInfo(IOException e)", "class_method_signature": "ApiErrorExtractor.getDebugInfo(IOException e)", "testcase": false, "constructor": false}, {"identifier": "getHttpStatusCode", "parameters": "(GoogleJsonResponseException e)", "modifiers": "protected", "return": "int", "signature": "int getHttpStatusCode(GoogleJsonResponseException e)", "full_signature": "protected int getHttpStatusCode(GoogleJsonResponseException e)", "class_method_signature": "ApiErrorExtractor.getHttpStatusCode(GoogleJsonResponseException e)", "testcase": false, "constructor": false}, {"identifier": "getErrorInfo", "parameters": "(IOException e)", "modifiers": "@Nullable protected", "return": "ErrorInfo", "signature": "ErrorInfo getErrorInfo(IOException e)", "full_signature": "@Nullable protected ErrorInfo getErrorInfo(IOException e)", "class_method_signature": "ApiErrorExtractor.getErrorInfo(IOException e)", "testcase": false, "constructor": false}, {"identifier": "getJsonError", "parameters": "(IOException e)", "modifiers": "@Nullable protected", "return": "GoogleJsonError", "signature": "GoogleJsonError getJsonError(IOException e)", "full_signature": "@Nullable protected GoogleJsonError getJsonError(IOException e)", "class_method_signature": "ApiErrorExtractor.getJsonError(IOException e)", "testcase": false, "constructor": false}, {"identifier": "recursiveCheckForCode", "parameters": "(IOException e, int code)", "modifiers": "protected", "return": "boolean", "signature": "boolean recursiveCheckForCode(IOException e, int code)", "full_signature": "protected boolean recursiveCheckForCode(IOException e, int code)", "class_method_signature": "ApiErrorExtractor.recursiveCheckForCode(IOException e, int code)", "testcase": false, "constructor": false}, {"identifier": "getJsonResponseException", "parameters": "(Throwable throwable)", "modifiers": "@Nullable public static", "return": "GoogleJsonResponseException", "signature": "GoogleJsonResponseException getJsonResponseException(Throwable throwable)", "full_signature": "@Nullable public static GoogleJsonResponseException getJsonResponseException(Throwable throwable)", "class_method_signature": "ApiErrorExtractor.getJsonResponseException(Throwable throwable)", "testcase": false, "constructor": false}], "file": "util/src/main/java/com/google/cloud/hadoop/util/ApiErrorExtractor.java"}, "focal_method": {"identifier": "rateLimited", "parameters": "(IOException e)", "modifiers": "public", "return": "boolean", "body": "public boolean rateLimited(IOException e) {\n    ErrorInfo errorInfo = getErrorInfo(e);\n    if (errorInfo != null) {\n      String domain = errorInfo.getDomain();\n      boolean isRateLimitedOrGlobalDomain =\n          USAGE_LIMITS_DOMAIN.equals(domain) || GLOBAL_DOMAIN.equals(domain);\n      String reason = errorInfo.getReason();\n      boolean isRateLimitedReason =\n          RATE_LIMITED_REASON.equals(reason) || USER_RATE_LIMITED_REASON.equals(reason);\n      return isRateLimitedOrGlobalDomain && isRateLimitedReason;\n    }\n    return false;\n  }", "signature": "boolean rateLimited(IOException e)", "full_signature": "public boolean rateLimited(IOException e)", "class_method_signature": "ApiErrorExtractor.rateLimited(IOException e)", "testcase": false, "constructor": false, "invocations": ["getErrorInfo", "getDomain", "equals", "equals", "getReason", "equals", "equals"]}, "repository": {"repo_id": 19684359, "url": "https://github.com/GoogleCloudDataproc/bigdata-interop", "stars": 178, "created": "5/12/2014 3:11:55 AM +00:00", "updates": "2020-01-23T23:10:40+00:00", "fork": "False", "license": "licensed"}}