{"test_class": {"identifier": "ServerInfoResolverAdapterTest", "superclass": "", "interfaces": "", "fields": [], "file": "titus-server-master/src/test/java/com/netflix/titus/master/agent/service/server/internal/ServerInfoResolverAdapterTest.java"}, "test_case": {"identifier": "testAdaptation", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testAdaptation() throws Exception {\n        ServerInfo reference = ServerInfoResolvers.fromAwsInstanceTypes().resolve(\"m4.4xlarge\").get();\n        ServerInfo adapted = ServerInfoResolvers.adapt(\n                ServerInfoResolvers.fromAwsInstanceTypes(),\n                cpus -> cpus - 2,\n                memoryGB -> memoryGB - 1,\n                diskGB -> diskGB - 10\n        ).resolve(\"m4.4xlarge\").get();\n\n        assertThat(adapted.getCpus()).isEqualTo(reference.getCpus() - 2);\n        assertThat(adapted.getMemoryGB()).isEqualTo(reference.getMemoryGB() - 1);\n        assertThat(adapted.getStorageGB()).isEqualTo(reference.getStorageGB() - 10);\n    }", "signature": "void testAdaptation()", "full_signature": "@Test public void testAdaptation()", "class_method_signature": "ServerInfoResolverAdapterTest.testAdaptation()", "testcase": true, "constructor": false, "invocations": ["get", "resolve", "fromAwsInstanceTypes", "get", "resolve", "adapt", "fromAwsInstanceTypes", "isEqualTo", "assertThat", "getCpus", "getCpus", "isEqualTo", "assertThat", "getMemoryGB", "getMemoryGB", "isEqualTo", "assertThat", "getStorageGB", "getStorageGB"]}, "focal_class": {"identifier": "ServerInfoResolverAdapter", "superclass": "", "interfaces": "implements ServerInfoResolver", "fields": [{"original_string": "private final List<ServerInfo> allServerInfos;", "modifier": "private final", "type": "List<ServerInfo>", "declarator": "allServerInfos", "var_name": "allServerInfos"}, {"original_string": "private final Map<String, ServerInfo> serverInfoByName;", "modifier": "private final", "type": "Map<String, ServerInfo>", "declarator": "serverInfoByName", "var_name": "serverInfoByName"}], "methods": [{"identifier": "ServerInfoResolverAdapter", "parameters": "(ServerInfoResolver delegate, Function<ServerInfo, ServerInfo> adapter)", "modifiers": "public", "return": "", "signature": " ServerInfoResolverAdapter(ServerInfoResolver delegate, Function<ServerInfo, ServerInfo> adapter)", "full_signature": "public  ServerInfoResolverAdapter(ServerInfoResolver delegate, Function<ServerInfo, ServerInfo> adapter)", "class_method_signature": "ServerInfoResolverAdapter.ServerInfoResolverAdapter(ServerInfoResolver delegate, Function<ServerInfo, ServerInfo> adapter)", "testcase": false, "constructor": true}, {"identifier": "resolve", "parameters": "(String serverType)", "modifiers": "@Override public", "return": "Optional<ServerInfo>", "signature": "Optional<ServerInfo> resolve(String serverType)", "full_signature": "@Override public Optional<ServerInfo> resolve(String serverType)", "class_method_signature": "ServerInfoResolverAdapter.resolve(String serverType)", "testcase": false, "constructor": false}, {"identifier": "resolveAll", "parameters": "()", "modifiers": "@Override public", "return": "List<ServerInfo>", "signature": "List<ServerInfo> resolveAll()", "full_signature": "@Override public List<ServerInfo> resolveAll()", "class_method_signature": "ServerInfoResolverAdapter.resolveAll()", "testcase": false, "constructor": false}], "file": "titus-server-master/src/main/java/com/netflix/titus/master/agent/service/server/internal/ServerInfoResolverAdapter.java"}, "focal_method": {"identifier": "resolve", "parameters": "(String serverType)", "modifiers": "@Override public", "return": "Optional<ServerInfo>", "body": "@Override\n    public Optional<ServerInfo> resolve(String serverType) {\n        return Optional.ofNullable(serverInfoByName.get(serverType));\n    }", "signature": "Optional<ServerInfo> resolve(String serverType)", "full_signature": "@Override public Optional<ServerInfo> resolve(String serverType)", "class_method_signature": "ServerInfoResolverAdapter.resolve(String serverType)", "testcase": false, "constructor": false, "invocations": ["ofNullable", "get"]}, "repository": {"repo_id": 107330274, "url": "https://github.com/Netflix/titus-control-plane", "stars": 241, "created": "10/17/2017 10:20:55 PM +00:00", "updates": "2020-01-25T13:01:05+00:00", "fork": "False", "license": "licensed"}}