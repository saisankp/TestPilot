{"test_class": {"identifier": "IngredientTest", "superclass": "", "interfaces": "", "fields": [], "file": "recipe-java-runtime/src/test/java/ca/derekcormier/recipe/IngredientTest.java"}, "test_case": {"identifier": "testSetCompoundOptional_throwsOnNonKeyNotAString", "parameters": "()", "modifiers": "@Test(expected = IllegalArgumentException.class) public", "return": "void", "body": "@Test(expected = IllegalArgumentException.class)\n  public void testSetCompoundOptional_throwsOnNonKeyNotAString() {\n    Ingredient ingredient = new Ingredient(\"TestIngredient\", \"A\") {};\n    ingredient.setCompoundOptional(\"optional\", false, \"a\", 1, 2, \"foo\");\n  }", "signature": "void testSetCompoundOptional_throwsOnNonKeyNotAString()", "full_signature": "@Test(expected = IllegalArgumentException.class) public void testSetCompoundOptional_throwsOnNonKeyNotAString()", "class_method_signature": "IngredientTest.testSetCompoundOptional_throwsOnNonKeyNotAString()", "testcase": true, "constructor": false, "invocations": ["setCompoundOptional"]}, "focal_class": {"identifier": "Ingredient", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final Map<String, Object> properties = new HashMap<>();", "modifier": "private final", "type": "Map<String, Object>", "declarator": "properties = new HashMap<>()", "var_name": "properties"}, {"original_string": "@JsonIgnore private final String ingredientType;", "modifier": "@JsonIgnore private final", "type": "String", "declarator": "ingredientType", "var_name": "ingredientType"}, {"original_string": "@JsonIgnore private final String domain;", "modifier": "@JsonIgnore private final", "type": "String", "declarator": "domain", "var_name": "domain"}], "methods": [{"identifier": "Ingredient", "parameters": "(String ingredientType, String domain)", "modifiers": "public", "return": "", "signature": " Ingredient(String ingredientType, String domain)", "full_signature": "public  Ingredient(String ingredientType, String domain)", "class_method_signature": "Ingredient.Ingredient(String ingredientType, String domain)", "testcase": false, "constructor": true}, {"identifier": "Ingredient", "parameters": "(String ingredientType)", "modifiers": "public", "return": "", "signature": " Ingredient(String ingredientType)", "full_signature": "public  Ingredient(String ingredientType)", "class_method_signature": "Ingredient.Ingredient(String ingredientType)", "testcase": false, "constructor": true}, {"identifier": "Ingredient", "parameters": "(Ingredient other)", "modifiers": "protected", "return": "", "signature": " Ingredient(Ingredient other)", "full_signature": "protected  Ingredient(Ingredient other)", "class_method_signature": "Ingredient.Ingredient(Ingredient other)", "testcase": false, "constructor": true}, {"identifier": "getDomain", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getDomain()", "full_signature": "public String getDomain()", "class_method_signature": "Ingredient.getDomain()", "testcase": false, "constructor": false}, {"identifier": "getIngredientType", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getIngredientType()", "full_signature": "public String getIngredientType()", "class_method_signature": "Ingredient.getIngredientType()", "testcase": false, "constructor": false}, {"identifier": "setRequired", "parameters": "(String name, Object value)", "modifiers": "protected", "return": "void", "signature": "void setRequired(String name, Object value)", "full_signature": "protected void setRequired(String name, Object value)", "class_method_signature": "Ingredient.setRequired(String name, Object value)", "testcase": false, "constructor": false}, {"identifier": "setOptional", "parameters": "(String name, boolean repeatable, Object value)", "modifiers": "protected", "return": "void", "signature": "void setOptional(String name, boolean repeatable, Object value)", "full_signature": "protected void setOptional(String name, boolean repeatable, Object value)", "class_method_signature": "Ingredient.setOptional(String name, boolean repeatable, Object value)", "testcase": false, "constructor": false}, {"identifier": "setCompoundOptional", "parameters": "(String name, boolean repeatable, Object... keyValuePairs)", "modifiers": "protected", "return": "void", "signature": "void setCompoundOptional(String name, boolean repeatable, Object... keyValuePairs)", "full_signature": "protected void setCompoundOptional(String name, boolean repeatable, Object... keyValuePairs)", "class_method_signature": "Ingredient.setCompoundOptional(String name, boolean repeatable, Object... keyValuePairs)", "testcase": false, "constructor": false}, {"identifier": "setProperty", "parameters": "(String key, Object value)", "modifiers": "@JsonAnySetter protected", "return": "void", "signature": "void setProperty(String key, Object value)", "full_signature": "@JsonAnySetter protected void setProperty(String key, Object value)", "class_method_signature": "Ingredient.setProperty(String key, Object value)", "testcase": false, "constructor": false}, {"identifier": "getProperty", "parameters": "(String key)", "modifiers": "protected", "return": "T", "signature": "T getProperty(String key)", "full_signature": "protected T getProperty(String key)", "class_method_signature": "Ingredient.getProperty(String key)", "testcase": false, "constructor": false}, {"identifier": "getProperty", "parameters": "(Class<T> clazz, String key)", "modifiers": "protected", "return": "T", "signature": "T getProperty(Class<T> clazz, String key)", "full_signature": "protected T getProperty(Class<T> clazz, String key)", "class_method_signature": "Ingredient.getProperty(Class<T> clazz, String key)", "testcase": false, "constructor": false}, {"identifier": "hasProperty", "parameters": "(String key)", "modifiers": "protected", "return": "boolean", "signature": "boolean hasProperty(String key)", "full_signature": "protected boolean hasProperty(String key)", "class_method_signature": "Ingredient.hasProperty(String key)", "testcase": false, "constructor": false}, {"identifier": "getProperties", "parameters": "()", "modifiers": "@JsonAnyGetter protected", "return": "Map<String, Object>", "signature": "Map<String, Object> getProperties()", "full_signature": "@JsonAnyGetter protected Map<String, Object> getProperties()", "class_method_signature": "Ingredient.getProperties()", "testcase": false, "constructor": false}], "file": "recipe-java-runtime/src/main/java/ca/derekcormier/recipe/Ingredient.java"}, "focal_method": {"identifier": "setCompoundOptional", "parameters": "(String name, boolean repeatable, Object... keyValuePairs)", "modifiers": "protected", "return": "void", "body": "protected void setCompoundOptional(String name, boolean repeatable, Object... keyValuePairs) {\n    if (keyValuePairs.length % 2 != 0) {\n      throw new IllegalArgumentException(\n          \"must have an even number of key-value pairs for compound optional\");\n    }\n\n    for (int i = 0; i < keyValuePairs.length; i += 2) {\n      if (!(keyValuePairs[i] instanceof String)) {\n        throw new IllegalArgumentException(\"key in compound optional is not a string\");\n      }\n    }\n\n    if (!repeatable) {\n      Map map = (Map) getProperties().getOrDefault(name, new HashMap());\n      for (int i = 0; i < keyValuePairs.length; i += 2) {\n        map.put(keyValuePairs[i], keyValuePairs[i + 1]);\n      }\n      setProperty(name, map);\n    } else {\n      List<Map> list = (List) getProperties().getOrDefault(name, new ArrayList<>());\n      Map map = new HashMap();\n      for (int i = 0; i < keyValuePairs.length; i += 2) {\n        map.put(keyValuePairs[i], keyValuePairs[i + 1]);\n      }\n      list.add(map);\n      setProperty(name, list);\n    }\n  }", "signature": "void setCompoundOptional(String name, boolean repeatable, Object... keyValuePairs)", "full_signature": "protected void setCompoundOptional(String name, boolean repeatable, Object... keyValuePairs)", "class_method_signature": "Ingredient.setCompoundOptional(String name, boolean repeatable, Object... keyValuePairs)", "testcase": false, "constructor": false, "invocations": ["getOrDefault", "getProperties", "put", "setProperty", "getOrDefault", "getProperties", "put", "add", "setProperty"]}, "repository": {"repo_id": 97669395, "url": "https://github.com/kormide/recipe", "language": "Java", "is_fork": false, "fork_count": 1, "stargazer_count": 5, "size": 727, "license": "licensed"}}