{"test_class": {"identifier": "ParameterServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final ParameterInfo BOOLEAN_PARAM = new ParameterInfo() {\n\t\t\n\t\t@Override\n\t\tpublic Object[] makeChoices() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getName() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic ParameterLevel getLevel() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getId() {\n\t\t\treturn \"bool\";\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getDescription() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic Object getDefaultValue() {\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getCategory() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String convertToString(Object val) {\n\t\t\treturn String.valueOf(val);\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic Object convertFromString(String val) {\n\t\t\treturn new Boolean(val);\n\t\t}\n\t};", "modifier": "private static final", "type": "ParameterInfo", "declarator": "BOOLEAN_PARAM = new ParameterInfo() {\n\t\t\n\t\t@Override\n\t\tpublic Object[] makeChoices() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getName() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic ParameterLevel getLevel() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getId() {\n\t\t\treturn \"bool\";\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getDescription() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic Object getDefaultValue() {\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getCategory() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String convertToString(Object val) {\n\t\t\treturn String.valueOf(val);\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic Object convertFromString(String val) {\n\t\t\treturn new Boolean(val);\n\t\t}\n\t}", "var_name": "BOOLEAN_PARAM"}, {"original_string": "private static final ParameterInfo INTEGER_PARAM = new ParameterInfo() {\n\t\t\n\t\t@Override\n\t\tpublic Object[] makeChoices() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getName() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic ParameterLevel getLevel() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getId() {\n\t\t\treturn \"int\";\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getDescription() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic Object getDefaultValue() {\n\t\t\treturn 5;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getCategory() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String convertToString(Object val) {\n\t\t\treturn String.valueOf(val);\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic Object convertFromString(String val) {\n\t\t\treturn new Integer(val);\n\t\t}\n\t};", "modifier": "private static final", "type": "ParameterInfo", "declarator": "INTEGER_PARAM = new ParameterInfo() {\n\t\t\n\t\t@Override\n\t\tpublic Object[] makeChoices() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getName() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic ParameterLevel getLevel() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getId() {\n\t\t\treturn \"int\";\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getDescription() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic Object getDefaultValue() {\n\t\t\treturn 5;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getCategory() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String convertToString(Object val) {\n\t\t\treturn String.valueOf(val);\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic Object convertFromString(String val) {\n\t\t\treturn new Integer(val);\n\t\t}\n\t}", "var_name": "INTEGER_PARAM"}, {"original_string": "private static final ParameterInfo FLOAT_PARAM = new ParameterInfo() {\n\t\t\n\t\t@Override\n\t\tpublic Object[] makeChoices() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getName() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic ParameterLevel getLevel() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getId() {\n\t\t\treturn \"float\";\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getDescription() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic Object getDefaultValue() {\n\t\t\treturn 0.5f;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getCategory() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String convertToString(Object val) {\n\t\t\treturn String.valueOf(val);\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic Object convertFromString(String val) {\n\t\t\treturn new Float(val);\n\t\t}\n\t};", "modifier": "private static final", "type": "ParameterInfo", "declarator": "FLOAT_PARAM = new ParameterInfo() {\n\t\t\n\t\t@Override\n\t\tpublic Object[] makeChoices() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getName() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic ParameterLevel getLevel() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getId() {\n\t\t\treturn \"float\";\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getDescription() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic Object getDefaultValue() {\n\t\t\treturn 0.5f;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String getCategory() {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String convertToString(Object val) {\n\t\t\treturn String.valueOf(val);\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic Object convertFromString(String val) {\n\t\t\treturn new Float(val);\n\t\t}\n\t}", "var_name": "FLOAT_PARAM"}, {"original_string": "Parameter f = new Parameter(FLOAT_PARAM);", "modifier": "", "type": "Parameter", "declarator": "f = new Parameter(FLOAT_PARAM)", "var_name": "f"}, {"original_string": "Parameter i = new Parameter(INTEGER_PARAM);", "modifier": "", "type": "Parameter", "declarator": "i = new Parameter(INTEGER_PARAM)", "var_name": "i"}, {"original_string": "Parameter b = new Parameter(BOOLEAN_PARAM);", "modifier": "", "type": "Parameter", "declarator": "b = new Parameter(BOOLEAN_PARAM)", "var_name": "b"}, {"original_string": "private ParameterService ps;", "modifier": "private", "type": "ParameterService", "declarator": "ps", "var_name": "ps"}, {"original_string": "private final RoboStrokeEventBus bus = new RoboStrokeEventBus();", "modifier": "private final", "type": "RoboStrokeEventBus", "declarator": "bus = new RoboStrokeEventBus()", "var_name": "bus"}, {"original_string": "private final ParameterListenerRegistration[] listenerRegistration = {\n\t\t\tnew ParameterListenerRegistration(\"float\", new ParameterChangeListener() {\n\t\t\t\t\n\t\t\t\t@Override\n\t\t\t\tpublic void onParameterChanged(Parameter param) {\n\t\t\t\t}\n\t\t\t}),\n\t\t\tnew ParameterListenerRegistration(\"int\", new ParameterChangeListener() {\n\t\t\t\t\n\t\t\t\t@Override\n\t\t\t\tpublic void onParameterChanged(Parameter param) {\n\t\t\t\t\tintVal = (Integer)param.getValue();\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}),\n\t\t\tnew ParameterListenerRegistration(\"bool\", new ParameterChangeListener() {\n\t\t\t\t\n\t\t\t\t@Override\n\t\t\t\tpublic void onParameterChanged(Parameter param) {\n\t\t\t\t}\n\t\t\t})\n\t};", "modifier": "private final", "type": "ParameterListenerRegistration[]", "declarator": "listenerRegistration = {\n\t\t\tnew ParameterListenerRegistration(\"float\", new ParameterChangeListener() {\n\t\t\t\t\n\t\t\t\t@Override\n\t\t\t\tpublic void onParameterChanged(Parameter param) {\n\t\t\t\t}\n\t\t\t}),\n\t\t\tnew ParameterListenerRegistration(\"int\", new ParameterChangeListener() {\n\t\t\t\t\n\t\t\t\t@Override\n\t\t\t\tpublic void onParameterChanged(Parameter param) {\n\t\t\t\t\tintVal = (Integer)param.getValue();\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}),\n\t\t\tnew ParameterListenerRegistration(\"bool\", new ParameterChangeListener() {\n\t\t\t\t\n\t\t\t\t@Override\n\t\t\t\tpublic void onParameterChanged(Parameter param) {\n\t\t\t\t}\n\t\t\t})\n\t}", "var_name": "listenerRegistration"}, {"original_string": "private int intVal = -1;", "modifier": "private", "type": "int", "declarator": "intVal = -1", "var_name": "intVal"}], "file": "common/src/test/java/org/nargila/robostroke/param/ParameterServiceTest.java"}, "test_case": {"identifier": "testSetParamViaListener", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testSetParamViaListener() {\n\t\tps.setParam(\"int\", \"7\");\n\t\tassertEquals(7, intVal);\n\t\tps.setParam(\"int\", \"8\");\n\t\tassertEquals(8, intVal);\n\t}", "signature": "void testSetParamViaListener()", "full_signature": "@Test public void testSetParamViaListener()", "class_method_signature": "ParameterServiceTest.testSetParamViaListener()", "testcase": true, "constructor": false, "invocations": ["setParam", "assertEquals", "setParam", "assertEquals"]}, "focal_class": {"identifier": "ParameterService", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger logger = LoggerFactory.getLogger(ParameterService.class);", "modifier": "private static final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(ParameterService.class)", "var_name": "logger"}, {"original_string": "private final RoboStrokeEventBus eventBus;", "modifier": "private final", "type": "RoboStrokeEventBus", "declarator": "eventBus", "var_name": "eventBus"}, {"original_string": "private final HashMap<String,HashSet<ParameterChangeListener>> listeners = new HashMap<String, HashSet<ParameterChangeListener>>();", "modifier": "private final", "type": "HashMap<String,HashSet<ParameterChangeListener>>", "declarator": "listeners = new HashMap<String, HashSet<ParameterChangeListener>>()", "var_name": "listeners"}, {"original_string": "private final HashMap<String, Parameter> paramMap = new HashMap<String, Parameter>();", "modifier": "private final", "type": "HashMap<String, Parameter>", "declarator": "paramMap = new HashMap<String, Parameter>()", "var_name": "paramMap"}, {"original_string": "private boolean recursionOn;", "modifier": "private", "type": "boolean", "declarator": "recursionOn", "var_name": "recursionOn"}], "methods": [{"identifier": "ParameterService", "parameters": "(RoboStrokeEventBus bus)", "modifiers": "public", "return": "", "signature": " ParameterService(RoboStrokeEventBus bus)", "full_signature": "public  ParameterService(RoboStrokeEventBus bus)", "class_method_signature": "ParameterService.ParameterService(RoboStrokeEventBus bus)", "testcase": false, "constructor": true}, {"identifier": "addListener", "parameters": "(ParameterListenerRegistration ...value)", "modifiers": "public synchronized", "return": "void", "signature": "void addListener(ParameterListenerRegistration ...value)", "full_signature": "public synchronized void addListener(ParameterListenerRegistration ...value)", "class_method_signature": "ParameterService.addListener(ParameterListenerRegistration ...value)", "testcase": false, "constructor": false}, {"identifier": "removeListener", "parameters": "(ParameterListenerRegistration ...value)", "modifiers": "public synchronized", "return": "void", "signature": "void removeListener(ParameterListenerRegistration ...value)", "full_signature": "public synchronized void removeListener(ParameterListenerRegistration ...value)", "class_method_signature": "ParameterService.removeListener(ParameterListenerRegistration ...value)", "testcase": false, "constructor": false}, {"identifier": "addListeners", "parameters": "(ParameterListenerOwner listenersOwner)", "modifiers": "public", "return": "void", "signature": "void addListeners(ParameterListenerOwner listenersOwner)", "full_signature": "public void addListeners(ParameterListenerOwner listenersOwner)", "class_method_signature": "ParameterService.addListeners(ParameterListenerOwner listenersOwner)", "testcase": false, "constructor": false}, {"identifier": "removeListeners", "parameters": "(ParameterListenerOwner listenersOwner)", "modifiers": "public", "return": "void", "signature": "void removeListeners(ParameterListenerOwner listenersOwner)", "full_signature": "public void removeListeners(ParameterListenerOwner listenersOwner)", "class_method_signature": "ParameterService.removeListeners(ParameterListenerOwner listenersOwner)", "testcase": false, "constructor": false}, {"identifier": "removeListener", "parameters": "(String paramId, ParameterChangeListener listener)", "modifiers": "public synchronized", "return": "void", "signature": "void removeListener(String paramId, ParameterChangeListener listener)", "full_signature": "public synchronized void removeListener(String paramId, ParameterChangeListener listener)", "class_method_signature": "ParameterService.removeListener(String paramId, ParameterChangeListener listener)", "testcase": false, "constructor": false}, {"identifier": "addListener", "parameters": "(String paramId, ParameterChangeListener listener)", "modifiers": "public synchronized", "return": "void", "signature": "void addListener(String paramId, ParameterChangeListener listener)", "full_signature": "public synchronized void addListener(String paramId, ParameterChangeListener listener)", "class_method_signature": "ParameterService.addListener(String paramId, ParameterChangeListener listener)", "testcase": false, "constructor": false}, {"identifier": "registerParam", "parameters": "(Parameter ... param)", "modifiers": "public synchronized", "return": "void", "signature": "void registerParam(Parameter ... param)", "full_signature": "public synchronized void registerParam(Parameter ... param)", "class_method_signature": "ParameterService.registerParam(Parameter ... param)", "testcase": false, "constructor": false}, {"identifier": "setParam", "parameters": "(Parameter param, Object value)", "modifiers": "public synchronized", "return": "void", "signature": "void setParam(Parameter param, Object value)", "full_signature": "public synchronized void setParam(Parameter param, Object value)", "class_method_signature": "ParameterService.setParam(Parameter param, Object value)", "testcase": false, "constructor": false}, {"identifier": "onParamChanged", "parameters": "(Parameter param)", "modifiers": "private", "return": "void", "signature": "void onParamChanged(Parameter param)", "full_signature": "private void onParamChanged(Parameter param)", "class_method_signature": "ParameterService.onParamChanged(Parameter param)", "testcase": false, "constructor": false}, {"identifier": "setParam", "parameters": "(String id, Object value)", "modifiers": "public synchronized", "return": "void", "signature": "void setParam(String id, Object value)", "full_signature": "public synchronized void setParam(String id, Object value)", "class_method_signature": "ParameterService.setParam(String id, Object value)", "testcase": false, "constructor": false}, {"identifier": "getValue", "parameters": "(String id)", "modifiers": "@SuppressWarnings(\"unchecked\") public", "return": "T", "signature": "T getValue(String id)", "full_signature": "@SuppressWarnings(\"unchecked\") public T getValue(String id)", "class_method_signature": "ParameterService.getValue(String id)", "testcase": false, "constructor": false}, {"identifier": "getParamMap", "parameters": "()", "modifiers": "public", "return": "Map<String, Parameter>", "signature": "Map<String, Parameter> getParamMap()", "full_signature": "public Map<String, Parameter> getParamMap()", "class_method_signature": "ParameterService.getParamMap()", "testcase": false, "constructor": false}, {"identifier": "getParam", "parameters": "(String id)", "modifiers": "public synchronized", "return": "Parameter", "signature": "Parameter getParam(String id)", "full_signature": "public synchronized Parameter getParam(String id)", "class_method_signature": "ParameterService.getParam(String id)", "testcase": false, "constructor": false}], "file": "common/src/main/java/org/nargila/robostroke/param/ParameterService.java"}, "focal_method": {"identifier": "setParam", "parameters": "(Parameter param, Object value)", "modifiers": "public synchronized", "return": "void", "body": "public synchronized void setParam(Parameter param, Object value) {\n\t\t\n\t\t// check either param is registered\n\t\tif (getParam(param.getId()) != param) {\n\t\t\tthrow new IllegalArgumentException(String.format(\"parameter provided with id %s is not the same as the registered one\"));\n\t\t}\n\t\t\n\t\ttry {\n\t\t\tif (recursionOn) {\n\t\t\t\tthrow new IllegalStateException(\"recursion detected - parameter listeners are not allowed to modify parameters from within same thread\");\n\t\t\t}\n\t\t\t\n\t\t\trecursionOn = true;\n\t\t\t\n\t\t\tif (param.setParameterValue(value)) {\n\t\t\t\tonParamChanged(param);\n\t\t\t}\n\t\t} finally {\n\t\t\trecursionOn = false;\n\t\t}\n\t}", "signature": "void setParam(Parameter param, Object value)", "full_signature": "public synchronized void setParam(Parameter param, Object value)", "class_method_signature": "ParameterService.setParam(Parameter param, Object value)", "testcase": false, "constructor": false, "invocations": ["getParam", "getId", "format", "setParameterValue", "onParamChanged"]}, "repository": {"repo_id": 5155211, "url": "https://github.com/talos-rowing/talos-rowing", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 9, "size": 6135, "license": "licensed"}}