{"test_class": {"identifier": "BareMetalRemovalUpdaterTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final BareMetalRemovalUpdater bareMetalRemovalUpdater = new BareMetalRemovalUpdater();", "modifier": "private final", "type": "BareMetalRemovalUpdater", "declarator": "bareMetalRemovalUpdater = new BareMetalRemovalUpdater()", "var_name": "bareMetalRemovalUpdater"}, {"original_string": "@Mock\n    private ResultSet values;", "modifier": "@Mock\n    private", "type": "ResultSet", "declarator": "values", "var_name": "values"}, {"original_string": "@Mock\n    private Connection dbConnection;", "modifier": "@Mock\n    private", "type": "Connection", "declarator": "dbConnection", "var_name": "dbConnection"}, {"original_string": "@Mock\n    private PreparedStatement preparedStatement;", "modifier": "@Mock\n    private", "type": "PreparedStatement", "declarator": "preparedStatement", "var_name": "preparedStatement"}], "file": "engine/schema/src/test/java/com/cloud/upgrade/dao/BareMetalRemovalUpdaterTest.java"}, "test_case": {"identifier": "test_updateConfigurationItems_whenThereAreNoUpdates", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void test_updateConfigurationItems_whenThereAreNoUpdates() throws Exception {\n        bareMetalRemovalUpdater.updateConfigurationItems(dbConnection, Collections.<Map<String, String>>emptyList());\n\n        verify(dbConnection, never()).prepareStatement(anyString());\n    }", "signature": "void test_updateConfigurationItems_whenThereAreNoUpdates()", "full_signature": "@Test public void test_updateConfigurationItems_whenThereAreNoUpdates()", "class_method_signature": "BareMetalRemovalUpdaterTest.test_updateConfigurationItems_whenThereAreNoUpdates()", "testcase": true, "constructor": false, "invocations": ["updateConfigurationItems", "emptyList", "prepareStatement", "verify", "never", "anyString"]}, "focal_class": {"identifier": "BareMetalRemovalUpdater", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger logger = Logger.getLogger(BareMetalRemovalUpdater.class);", "modifier": "private static final", "type": "Logger", "declarator": "logger = Logger.getLogger(BareMetalRemovalUpdater.class)", "var_name": "logger"}, {"original_string": "private static final String BARE_METAL = \"baremetal\";", "modifier": "private static final", "type": "String", "declarator": "BARE_METAL = \"baremetal\"", "var_name": "BARE_METAL"}, {"original_string": "private static final String VALUE_SEPARATOR = \",\";", "modifier": "private static final", "type": "String", "declarator": "VALUE_SEPARATOR = \",\"", "var_name": "VALUE_SEPARATOR"}, {"original_string": "private static final String HYPERVISOR_LIST = \"hypervisor.list\";", "modifier": "private static final", "type": "String", "declarator": "HYPERVISOR_LIST = \"hypervisor.list\"", "var_name": "HYPERVISOR_LIST"}, {"original_string": "public static final String VALUE = \"value\";", "modifier": "public static final", "type": "String", "declarator": "VALUE = \"value\"", "var_name": "VALUE"}, {"original_string": "public static final String CATEGORY = \"category\";", "modifier": "public static final", "type": "String", "declarator": "CATEGORY = \"category\"", "var_name": "CATEGORY"}, {"original_string": "public static final String INSTANCE = \"instance\";", "modifier": "public static final", "type": "String", "declarator": "INSTANCE = \"instance\"", "var_name": "INSTANCE"}, {"original_string": "public static final String COMPONENT = \"component\";", "modifier": "public static final", "type": "String", "declarator": "COMPONENT = \"component\"", "var_name": "COMPONENT"}, {"original_string": "public static final String NAME = \"name\";", "modifier": "public static final", "type": "String", "declarator": "NAME = \"name\"", "var_name": "NAME"}, {"original_string": "public static final String SELECT_CONFIGURATION_ITEMS = \"SELECT category, instance, component, name, value FROM configuration WHERE name = ?\";", "modifier": "public static final", "type": "String", "declarator": "SELECT_CONFIGURATION_ITEMS = \"SELECT category, instance, component, name, value FROM configuration WHERE name = ?\"", "var_name": "SELECT_CONFIGURATION_ITEMS"}, {"original_string": "public static final String UPDATE_CONFIGURATION_ITEM = \"UPDATE configuration SET value = ? WHERE category = ? AND instance = ? AND component = ? AND name = ?\";", "modifier": "public static final", "type": "String", "declarator": "UPDATE_CONFIGURATION_ITEM = \"UPDATE configuration SET value = ? WHERE category = ? AND instance = ? AND component = ? AND name = ?\"", "var_name": "UPDATE_CONFIGURATION_ITEM"}], "methods": [{"identifier": "updateConfigurationValuesThatReferenceBareMetal", "parameters": "(final Connection conn)", "modifiers": "public", "return": "void", "signature": "void updateConfigurationValuesThatReferenceBareMetal(final Connection conn)", "full_signature": "public void updateConfigurationValuesThatReferenceBareMetal(final Connection conn)", "class_method_signature": "BareMetalRemovalUpdater.updateConfigurationValuesThatReferenceBareMetal(final Connection conn)", "testcase": false, "constructor": false}, {"identifier": "createUpdatedConfigurationItemValues", "parameters": "(final Connection conn)", "modifiers": "public", "return": "List<Map<String, String>>", "signature": "List<Map<String, String>> createUpdatedConfigurationItemValues(final Connection conn)", "full_signature": "public List<Map<String, String>> createUpdatedConfigurationItemValues(final Connection conn)", "class_method_signature": "BareMetalRemovalUpdater.createUpdatedConfigurationItemValues(final Connection conn)", "testcase": false, "constructor": false}, {"identifier": "updateConfigurationItems", "parameters": "(final Connection conn, final List<Map<String, String>> updatedRows)", "modifiers": "public", "return": "void", "signature": "void updateConfigurationItems(final Connection conn, final List<Map<String, String>> updatedRows)", "full_signature": "public void updateConfigurationItems(final Connection conn, final List<Map<String, String>> updatedRows)", "class_method_signature": "BareMetalRemovalUpdater.updateConfigurationItems(final Connection conn, final List<Map<String, String>> updatedRows)", "testcase": false, "constructor": false}, {"identifier": "updateConfigurationItem", "parameters": "(final Connection conn, final String category, final String instance, final String component, final String name, final String value)", "modifiers": "public", "return": "void", "signature": "void updateConfigurationItem(final Connection conn, final String category, final String instance, final String component, final String name, final String value)", "full_signature": "public void updateConfigurationItem(final Connection conn, final String category, final String instance, final String component, final String name, final String value)", "class_method_signature": "BareMetalRemovalUpdater.updateConfigurationItem(final Connection conn, final String category, final String instance, final String component, final String name, final String value)", "testcase": false, "constructor": false}, {"identifier": "findAndUpdateRowsThatReferenceBareMetal", "parameters": "(final ResultSet values, final List<Map<String, String>> updatedRows)", "modifiers": "public", "return": "void", "signature": "void findAndUpdateRowsThatReferenceBareMetal(final ResultSet values, final List<Map<String, String>> updatedRows)", "full_signature": "public void findAndUpdateRowsThatReferenceBareMetal(final ResultSet values, final List<Map<String, String>> updatedRows)", "class_method_signature": "BareMetalRemovalUpdater.findAndUpdateRowsThatReferenceBareMetal(final ResultSet values, final List<Map<String, String>> updatedRows)", "testcase": false, "constructor": false}, {"identifier": "createUpdatedValue", "parameters": "(final String value)", "modifiers": "public", "return": "String", "signature": "String createUpdatedValue(final String value)", "full_signature": "public String createUpdatedValue(final String value)", "class_method_signature": "BareMetalRemovalUpdater.createUpdatedValue(final String value)", "testcase": false, "constructor": false}, {"identifier": "hasReferenceToBareMetal", "parameters": "(final String value)", "modifiers": "public", "return": "boolean", "signature": "boolean hasReferenceToBareMetal(final String value)", "full_signature": "public boolean hasReferenceToBareMetal(final String value)", "class_method_signature": "BareMetalRemovalUpdater.hasReferenceToBareMetal(final String value)", "testcase": false, "constructor": false}, {"identifier": "createUpdatedRow", "parameters": "(final String category, final String instance, final String component, final String name, final String filteredValue)", "modifiers": "private", "return": "HashMap<String, String>", "signature": "HashMap<String, String> createUpdatedRow(final String category, final String instance, final String component, final String name, final String filteredValue)", "full_signature": "private HashMap<String, String> createUpdatedRow(final String category, final String instance, final String component, final String name, final String filteredValue)", "class_method_signature": "BareMetalRemovalUpdater.createUpdatedRow(final String category, final String instance, final String component, final String name, final String filteredValue)", "testcase": false, "constructor": false}, {"identifier": "printConfigurationItem", "parameters": "(final String category, final String instance, final String component, final String name, final String value)", "modifiers": "private", "return": "String", "signature": "String printConfigurationItem(final String category, final String instance, final String component, final String name, final String value)", "full_signature": "private String printConfigurationItem(final String category, final String instance, final String component, final String name, final String value)", "class_method_signature": "BareMetalRemovalUpdater.printConfigurationItem(final String category, final String instance, final String component, final String name, final String value)", "testcase": false, "constructor": false}], "file": "engine/schema/src/main/java/com/cloud/upgrade/dao/BareMetalRemovalUpdater.java"}, "focal_method": {"identifier": "updateConfigurationItems", "parameters": "(final Connection conn, final List<Map<String, String>> updatedRows)", "modifiers": "public", "return": "void", "body": "public void updateConfigurationItems(final Connection conn, final List<Map<String, String>> updatedRows) {\n        for (final Map<String, String> row : updatedRows) {\n            final String category = row.get(CATEGORY);\n            final String instance = row.get(INSTANCE);\n            final String component = row.get(COMPONENT);\n            final String name = row.get(NAME);\n            final String value = row.get(VALUE);\n            logger.info(\"Updating configuration item: \" + printConfigurationItem(category, instance, component, name, value));\n            updateConfigurationItem(conn, category, instance, component, name, value);\n        }\n    }", "signature": "void updateConfigurationItems(final Connection conn, final List<Map<String, String>> updatedRows)", "full_signature": "public void updateConfigurationItems(final Connection conn, final List<Map<String, String>> updatedRows)", "class_method_signature": "BareMetalRemovalUpdater.updateConfigurationItems(final Connection conn, final List<Map<String, String>> updatedRows)", "testcase": false, "constructor": false, "invocations": ["get", "get", "get", "get", "get", "info", "printConfigurationItem", "updateConfigurationItem"]}, "repository": {"repo_id": 49943894, "url": "https://github.com/MissionCriticalCloudOldRepos/cosmic-core", "language": "Java", "is_fork": false, "fork_count": 3, "stargazer_count": 9, "size": 18165, "license": "licensed"}}