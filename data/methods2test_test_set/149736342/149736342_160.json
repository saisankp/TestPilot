{"test_class": {"identifier": "JsonRpc2_0RxTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final ObjectMapper objectMapper = ObjectMapperFactory.getObjectMapper();", "modifier": "private final", "type": "ObjectMapper", "declarator": "objectMapper = ObjectMapperFactory.getObjectMapper()", "var_name": "objectMapper"}, {"original_string": "private Web3j web3j;", "modifier": "private", "type": "Web3j", "declarator": "web3j", "var_name": "web3j"}, {"original_string": "private Web3jService web3jService;", "modifier": "private", "type": "Web3jService", "declarator": "web3jService", "var_name": "web3jService"}], "file": "core/src/test/java/org/web3j/protocol/rx/JsonRpc2_0RxTest.java"}, "test_case": {"identifier": "testCatchUpToLatestAndSubscribeToNewBlockObservable", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testCatchUpToLatestAndSubscribeToNewBlockObservable() throws Exception {\n        List<EthBlock> expected = Arrays.asList(\n                createBlock(0), createBlock(1), createBlock(2),\n                createBlock(3), createBlock(4), createBlock(5),\n                createBlock(6));\n\n        List<EthBlock> ethBlocks = Arrays.asList(\n                expected.get(2),  // greatest block\n                expected.get(0), expected.get(1), expected.get(2),\n                expected.get(4), // greatest block\n                expected.get(3), expected.get(4),\n                expected.get(4),  // greatest block\n                expected.get(5),  // initial response from ethGetFilterLogs call\n                expected.get(6)); // subsequent block from new block observable\n\n        OngoingStubbing<EthBlock> stubbing =\n                when(web3jService.send(any(Request.class), eq(EthBlock.class)));\n        for (EthBlock ethBlock : ethBlocks) {\n            stubbing = stubbing.thenReturn(ethBlock);\n        }\n\n        EthFilter ethFilter = objectMapper.readValue(\n                \"{\\n\"\n                        + \"  \\\"id\\\":1,\\n\"\n                        + \"  \\\"jsonrpc\\\": \\\"2.0\\\",\\n\"\n                        + \"  \\\"result\\\": \\\"0x1\\\"\\n\"\n                        + \"}\", EthFilter.class);\n        EthLog ethLog = objectMapper.readValue(\n                \"{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"id\\\":1,\\\"result\\\":[\"\n                        + \"\\\"0x31c2342b1e0b8ffda1507fbffddf213c4b3c1e819ff6a84b943faabb0ebf2403\\\"\"\n                        + \"]}\",\n                EthLog.class);\n        EthUninstallFilter ethUninstallFilter = objectMapper.readValue(\n                \"{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"id\\\":1,\\\"result\\\":true}\", EthUninstallFilter.class);\n\n        when(web3jService.send(any(Request.class), eq(EthFilter.class)))\n                .thenReturn(ethFilter);\n        when(web3jService.send(any(Request.class), eq(EthLog.class)))\n                .thenReturn(ethLog);\n        when(web3jService.send(any(Request.class), eq(EthUninstallFilter.class)))\n                .thenReturn(ethUninstallFilter);\n\n        Observable<EthBlock> observable = web3j.catchUpToLatestAndSubscribeToNewBlocksObservable(\n                new DefaultBlockParameterNumber(BigInteger.ZERO),\n                false);\n\n        final CountDownLatch transactionLatch = new CountDownLatch(expected.size());\n        final CountDownLatch completedLatch = new CountDownLatch(1);\n\n        final List<EthBlock> results = new ArrayList<EthBlock>(expected.size());\n        Subscription subscription = observable.subscribe(\n                new Action1<EthBlock>() {\n                    @Override\n                    public void call(EthBlock result) {\n                        results.add(result);\n                        transactionLatch.countDown();\n                    }\n                },\n                new Action1<Throwable>() {\n                    @Override\n                    public void call(Throwable throwable) {\n                        fail(throwable.getMessage());\n                    }\n                },\n                new Action0() {\n                    @Override\n                    public void call() {\n                        completedLatch.countDown();\n                    }\n                });\n\n        transactionLatch.await(1250, TimeUnit.MILLISECONDS);\n        assertThat(results, equalTo(expected));\n\n        subscription.unsubscribe();\n\n        completedLatch.await(1, TimeUnit.SECONDS);\n        assertTrue(subscription.isUnsubscribed());\n    }", "signature": "void testCatchUpToLatestAndSubscribeToNewBlockObservable()", "full_signature": "@Test public void testCatchUpToLatestAndSubscribeToNewBlockObservable()", "class_method_signature": "JsonRpc2_0RxTest.testCatchUpToLatestAndSubscribeToNewBlockObservable()", "testcase": true, "constructor": false, "invocations": ["asList", "createBlock", "createBlock", "createBlock", "createBlock", "createBlock", "createBlock", "createBlock", "asList", "get", "get", "get", "get", "get", "get", "get", "get", "get", "get", "when", "send", "any", "eq", "thenReturn", "readValue", "readValue", "readValue", "thenReturn", "when", "send", "any", "eq", "thenReturn", "when", "send", "any", "eq", "thenReturn", "when", "send", "any", "eq", "catchUpToLatestAndSubscribeToNewBlocksObservable", "size", "size", "subscribe", "add", "countDown", "fail", "getMessage", "countDown", "await", "assertThat", "equalTo", "unsubscribe", "await", "assertTrue", "isUnsubscribed"]}, "focal_class": {"identifier": "JsonRpc2_0Rx", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final Web3j web3j;", "modifier": "private final", "type": "Web3j", "declarator": "web3j", "var_name": "web3j"}, {"original_string": "private final ScheduledExecutorService scheduledExecutorService;", "modifier": "private final", "type": "ScheduledExecutorService", "declarator": "scheduledExecutorService", "var_name": "scheduledExecutorService"}, {"original_string": "private final Scheduler scheduler;", "modifier": "private final", "type": "Scheduler", "declarator": "scheduler", "var_name": "scheduler"}], "methods": [{"identifier": "JsonRpc2_0Rx", "parameters": "(Web3j web3j, ScheduledExecutorService scheduledExecutorService)", "modifiers": "public", "return": "", "signature": " JsonRpc2_0Rx(Web3j web3j, ScheduledExecutorService scheduledExecutorService)", "full_signature": "public  JsonRpc2_0Rx(Web3j web3j, ScheduledExecutorService scheduledExecutorService)", "class_method_signature": "JsonRpc2_0Rx.JsonRpc2_0Rx(Web3j web3j, ScheduledExecutorService scheduledExecutorService)", "testcase": false, "constructor": true}, {"identifier": "ethBlockHashObservable", "parameters": "(final long pollingInterval)", "modifiers": "public", "return": "Observable<String>", "signature": "Observable<String> ethBlockHashObservable(final long pollingInterval)", "full_signature": "public Observable<String> ethBlockHashObservable(final long pollingInterval)", "class_method_signature": "JsonRpc2_0Rx.ethBlockHashObservable(final long pollingInterval)", "testcase": false, "constructor": false}, {"identifier": "ethPendingTransactionHashObservable", "parameters": "(final long pollingInterval)", "modifiers": "public", "return": "Observable<String>", "signature": "Observable<String> ethPendingTransactionHashObservable(final long pollingInterval)", "full_signature": "public Observable<String> ethPendingTransactionHashObservable(final long pollingInterval)", "class_method_signature": "JsonRpc2_0Rx.ethPendingTransactionHashObservable(final long pollingInterval)", "testcase": false, "constructor": false}, {"identifier": "ethLogObservable", "parameters": "(\n            final org.web3j.protocol.core.methods.request.EthFilter ethFilter,\n            final long pollingInterval)", "modifiers": "public", "return": "Observable<Log>", "signature": "Observable<Log> ethLogObservable(\n            final org.web3j.protocol.core.methods.request.EthFilter ethFilter,\n            final long pollingInterval)", "full_signature": "public Observable<Log> ethLogObservable(\n            final org.web3j.protocol.core.methods.request.EthFilter ethFilter,\n            final long pollingInterval)", "class_method_signature": "JsonRpc2_0Rx.ethLogObservable(\n            final org.web3j.protocol.core.methods.request.EthFilter ethFilter,\n            final long pollingInterval)", "testcase": false, "constructor": false}, {"identifier": "run", "parameters": "(\n            final org.web3j.protocol.core.filters.Filter<T> filter,\n            Subscriber<? super T> subscriber,\n            final long pollingInterval)", "modifiers": "private", "return": "void", "signature": "void run(\n            final org.web3j.protocol.core.filters.Filter<T> filter,\n            Subscriber<? super T> subscriber,\n            final long pollingInterval)", "full_signature": "private void run(\n            final org.web3j.protocol.core.filters.Filter<T> filter,\n            Subscriber<? super T> subscriber,\n            final long pollingInterval)", "class_method_signature": "JsonRpc2_0Rx.run(\n            final org.web3j.protocol.core.filters.Filter<T> filter,\n            Subscriber<? super T> subscriber,\n            final long pollingInterval)", "testcase": false, "constructor": false}, {"identifier": "transactionObservable", "parameters": "(final long pollingInterval)", "modifiers": "public", "return": "Observable<Transaction>", "signature": "Observable<Transaction> transactionObservable(final long pollingInterval)", "full_signature": "public Observable<Transaction> transactionObservable(final long pollingInterval)", "class_method_signature": "JsonRpc2_0Rx.transactionObservable(final long pollingInterval)", "testcase": false, "constructor": false}, {"identifier": "pendingTransactionObservable", "parameters": "(final long pollingInterval)", "modifiers": "public", "return": "Observable<Transaction>", "signature": "Observable<Transaction> pendingTransactionObservable(final long pollingInterval)", "full_signature": "public Observable<Transaction> pendingTransactionObservable(final long pollingInterval)", "class_method_signature": "JsonRpc2_0Rx.pendingTransactionObservable(final long pollingInterval)", "testcase": false, "constructor": false}, {"identifier": "blockObservable", "parameters": "(\n            final boolean fullTransactionObjects, final long pollingInterval)", "modifiers": "public", "return": "Observable<EthBlock>", "signature": "Observable<EthBlock> blockObservable(\n            final boolean fullTransactionObjects, final long pollingInterval)", "full_signature": "public Observable<EthBlock> blockObservable(\n            final boolean fullTransactionObjects, final long pollingInterval)", "class_method_signature": "JsonRpc2_0Rx.blockObservable(\n            final boolean fullTransactionObjects, final long pollingInterval)", "testcase": false, "constructor": false}, {"identifier": "replayBlocksObservable", "parameters": "(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock,\n            boolean fullTransactionObjects)", "modifiers": "public", "return": "Observable<EthBlock>", "signature": "Observable<EthBlock> replayBlocksObservable(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock,\n            boolean fullTransactionObjects)", "full_signature": "public Observable<EthBlock> replayBlocksObservable(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock,\n            boolean fullTransactionObjects)", "class_method_signature": "JsonRpc2_0Rx.replayBlocksObservable(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock,\n            boolean fullTransactionObjects)", "testcase": false, "constructor": false}, {"identifier": "replayBlocksObservable", "parameters": "(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock,\n            boolean fullTransactionObjects, boolean ascending)", "modifiers": "public", "return": "Observable<EthBlock>", "signature": "Observable<EthBlock> replayBlocksObservable(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock,\n            boolean fullTransactionObjects, boolean ascending)", "full_signature": "public Observable<EthBlock> replayBlocksObservable(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock,\n            boolean fullTransactionObjects, boolean ascending)", "class_method_signature": "JsonRpc2_0Rx.replayBlocksObservable(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock,\n            boolean fullTransactionObjects, boolean ascending)", "testcase": false, "constructor": false}, {"identifier": "replayBlocksObservableSync", "parameters": "(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock,\n            final boolean fullTransactionObjects)", "modifiers": "private", "return": "Observable<EthBlock>", "signature": "Observable<EthBlock> replayBlocksObservableSync(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock,\n            final boolean fullTransactionObjects)", "full_signature": "private Observable<EthBlock> replayBlocksObservableSync(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock,\n            final boolean fullTransactionObjects)", "class_method_signature": "JsonRpc2_0Rx.replayBlocksObservableSync(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock,\n            final boolean fullTransactionObjects)", "testcase": false, "constructor": false}, {"identifier": "replayBlocksObservableSync", "parameters": "(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock,\n            final boolean fullTransactionObjects, boolean ascending)", "modifiers": "private", "return": "Observable<EthBlock>", "signature": "Observable<EthBlock> replayBlocksObservableSync(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock,\n            final boolean fullTransactionObjects, boolean ascending)", "full_signature": "private Observable<EthBlock> replayBlocksObservableSync(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock,\n            final boolean fullTransactionObjects, boolean ascending)", "class_method_signature": "JsonRpc2_0Rx.replayBlocksObservableSync(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock,\n            final boolean fullTransactionObjects, boolean ascending)", "testcase": false, "constructor": false}, {"identifier": "replayTransactionsObservable", "parameters": "(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock)", "modifiers": "public", "return": "Observable<Transaction>", "signature": "Observable<Transaction> replayTransactionsObservable(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock)", "full_signature": "public Observable<Transaction> replayTransactionsObservable(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock)", "class_method_signature": "JsonRpc2_0Rx.replayTransactionsObservable(\n            DefaultBlockParameter startBlock, DefaultBlockParameter endBlock)", "testcase": false, "constructor": false}, {"identifier": "catchUpToLatestBlockObservable", "parameters": "(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects,\n            Observable<EthBlock> onCompleteObservable)", "modifiers": "public", "return": "Observable<EthBlock>", "signature": "Observable<EthBlock> catchUpToLatestBlockObservable(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects,\n            Observable<EthBlock> onCompleteObservable)", "full_signature": "public Observable<EthBlock> catchUpToLatestBlockObservable(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects,\n            Observable<EthBlock> onCompleteObservable)", "class_method_signature": "JsonRpc2_0Rx.catchUpToLatestBlockObservable(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects,\n            Observable<EthBlock> onCompleteObservable)", "testcase": false, "constructor": false}, {"identifier": "catchUpToLatestBlockObservable", "parameters": "(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects)", "modifiers": "public", "return": "Observable<EthBlock>", "signature": "Observable<EthBlock> catchUpToLatestBlockObservable(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects)", "full_signature": "public Observable<EthBlock> catchUpToLatestBlockObservable(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects)", "class_method_signature": "JsonRpc2_0Rx.catchUpToLatestBlockObservable(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects)", "testcase": false, "constructor": false}, {"identifier": "catchUpToLatestBlockObservableSync", "parameters": "(\n            DefaultBlockParameter startBlock, final boolean fullTransactionObjects,\n            final Observable<EthBlock> onCompleteObservable)", "modifiers": "private", "return": "Observable<EthBlock>", "signature": "Observable<EthBlock> catchUpToLatestBlockObservableSync(\n            DefaultBlockParameter startBlock, final boolean fullTransactionObjects,\n            final Observable<EthBlock> onCompleteObservable)", "full_signature": "private Observable<EthBlock> catchUpToLatestBlockObservableSync(\n            DefaultBlockParameter startBlock, final boolean fullTransactionObjects,\n            final Observable<EthBlock> onCompleteObservable)", "class_method_signature": "JsonRpc2_0Rx.catchUpToLatestBlockObservableSync(\n            DefaultBlockParameter startBlock, final boolean fullTransactionObjects,\n            final Observable<EthBlock> onCompleteObservable)", "testcase": false, "constructor": false}, {"identifier": "catchUpToLatestTransactionObservable", "parameters": "(\n            DefaultBlockParameter startBlock)", "modifiers": "public", "return": "Observable<Transaction>", "signature": "Observable<Transaction> catchUpToLatestTransactionObservable(\n            DefaultBlockParameter startBlock)", "full_signature": "public Observable<Transaction> catchUpToLatestTransactionObservable(\n            DefaultBlockParameter startBlock)", "class_method_signature": "JsonRpc2_0Rx.catchUpToLatestTransactionObservable(\n            DefaultBlockParameter startBlock)", "testcase": false, "constructor": false}, {"identifier": "catchUpToLatestAndSubscribeToNewBlocksObservable", "parameters": "(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects,\n            long pollingInterval)", "modifiers": "public", "return": "Observable<EthBlock>", "signature": "Observable<EthBlock> catchUpToLatestAndSubscribeToNewBlocksObservable(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects,\n            long pollingInterval)", "full_signature": "public Observable<EthBlock> catchUpToLatestAndSubscribeToNewBlocksObservable(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects,\n            long pollingInterval)", "class_method_signature": "JsonRpc2_0Rx.catchUpToLatestAndSubscribeToNewBlocksObservable(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects,\n            long pollingInterval)", "testcase": false, "constructor": false}, {"identifier": "catchUpToLatestAndSubscribeToNewTransactionsObservable", "parameters": "(\n            DefaultBlockParameter startBlock, long pollingInterval)", "modifiers": "public", "return": "Observable<Transaction>", "signature": "Observable<Transaction> catchUpToLatestAndSubscribeToNewTransactionsObservable(\n            DefaultBlockParameter startBlock, long pollingInterval)", "full_signature": "public Observable<Transaction> catchUpToLatestAndSubscribeToNewTransactionsObservable(\n            DefaultBlockParameter startBlock, long pollingInterval)", "class_method_signature": "JsonRpc2_0Rx.catchUpToLatestAndSubscribeToNewTransactionsObservable(\n            DefaultBlockParameter startBlock, long pollingInterval)", "testcase": false, "constructor": false}, {"identifier": "getLatestBlockNumber", "parameters": "()", "modifiers": "private", "return": "BigInteger", "signature": "BigInteger getLatestBlockNumber()", "full_signature": "private BigInteger getLatestBlockNumber()", "class_method_signature": "JsonRpc2_0Rx.getLatestBlockNumber()", "testcase": false, "constructor": false}, {"identifier": "getBlockNumber", "parameters": "(\n            DefaultBlockParameter defaultBlockParameter)", "modifiers": "private", "return": "BigInteger", "signature": "BigInteger getBlockNumber(\n            DefaultBlockParameter defaultBlockParameter)", "full_signature": "private BigInteger getBlockNumber(\n            DefaultBlockParameter defaultBlockParameter)", "class_method_signature": "JsonRpc2_0Rx.getBlockNumber(\n            DefaultBlockParameter defaultBlockParameter)", "testcase": false, "constructor": false}, {"identifier": "toTransactions", "parameters": "(EthBlock ethBlock)", "modifiers": "private static", "return": "List<Transaction>", "signature": "List<Transaction> toTransactions(EthBlock ethBlock)", "full_signature": "private static List<Transaction> toTransactions(EthBlock ethBlock)", "class_method_signature": "JsonRpc2_0Rx.toTransactions(EthBlock ethBlock)", "testcase": false, "constructor": false}], "file": "core/src/main/java/org/web3j/protocol/rx/JsonRpc2_0Rx.java"}, "focal_method": {"identifier": "catchUpToLatestAndSubscribeToNewBlocksObservable", "parameters": "(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects,\n            long pollingInterval)", "modifiers": "public", "return": "Observable<EthBlock>", "body": "public Observable<EthBlock> catchUpToLatestAndSubscribeToNewBlocksObservable(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects,\n            long pollingInterval) {\n\n        return catchUpToLatestBlockObservable(\n                startBlock, fullTransactionObjects,\n                blockObservable(fullTransactionObjects, pollingInterval));\n    }", "signature": "Observable<EthBlock> catchUpToLatestAndSubscribeToNewBlocksObservable(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects,\n            long pollingInterval)", "full_signature": "public Observable<EthBlock> catchUpToLatestAndSubscribeToNewBlocksObservable(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects,\n            long pollingInterval)", "class_method_signature": "JsonRpc2_0Rx.catchUpToLatestAndSubscribeToNewBlocksObservable(\n            DefaultBlockParameter startBlock, boolean fullTransactionObjects,\n            long pollingInterval)", "testcase": false, "constructor": false, "invocations": ["catchUpToLatestBlockObservable", "blockObservable"]}, "repository": {"repo_id": 149736342, "url": "https://github.com/BrahmaOS/brahmaos-web3j", "language": "Java", "is_fork": false, "fork_count": 0, "stargazer_count": 5, "size": 1779, "license": "licensed"}}