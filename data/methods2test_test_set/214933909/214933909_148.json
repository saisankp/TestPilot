{"test_class": {"identifier": "GroupMemberServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n    private GroupMemberService groupMemberService;", "modifier": "@Mock\n    private", "type": "GroupMemberService", "declarator": "groupMemberService", "var_name": "groupMemberService"}], "file": "das-console-manager/src/test/java/com/ppdai/das/console/service/GroupMemberServiceTest.java"}, "test_case": {"identifier": "isUserInGroupTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void isUserInGroupTest() throws Exception {\n        Assert.assertTrue(groupMemberService.isUserInGroup(1L, 1L));\n    }", "signature": "void isUserInGroupTest()", "full_signature": "@Test public void isUserInGroupTest()", "class_method_signature": "GroupMemberServiceTest.isUserInGroupTest()", "testcase": true, "constructor": false, "invocations": ["assertTrue", "isUserInGroup"]}, "focal_class": {"identifier": "GroupMemberService", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Autowired\n    private Consts consts;", "modifier": "@Autowired\n    private", "type": "Consts", "declarator": "consts", "var_name": "consts"}, {"original_string": "@Autowired\n    private UserService userService;", "modifier": "@Autowired\n    private", "type": "UserService", "declarator": "userService", "var_name": "userService"}, {"original_string": "@Autowired\n    private UserGroupDao userGroupDao;", "modifier": "@Autowired\n    private", "type": "UserGroupDao", "declarator": "userGroupDao", "var_name": "userGroupDao"}, {"original_string": "@Autowired\n    private PermissionService permissionService;", "modifier": "@Autowired\n    private", "type": "PermissionService", "declarator": "permissionService", "var_name": "permissionService"}], "methods": [{"identifier": "validatePermisionAdd", "parameters": "(LoginUser user, UserGroup userGroup, Errors errors)", "modifiers": "public", "return": "ValidatorChain", "signature": "ValidatorChain validatePermisionAdd(LoginUser user, UserGroup userGroup, Errors errors)", "full_signature": "public ValidatorChain validatePermisionAdd(LoginUser user, UserGroup userGroup, Errors errors)", "class_method_signature": "GroupMemberService.validatePermisionAdd(LoginUser user, UserGroup userGroup, Errors errors)", "testcase": false, "constructor": false}, {"identifier": "validatePermisionUpdateAndDelete", "parameters": "(LoginUser user, UserGroup userGroup, Errors errors)", "modifiers": "public", "return": "ValidatorChain", "signature": "ValidatorChain validatePermisionUpdateAndDelete(LoginUser user, UserGroup userGroup, Errors errors)", "full_signature": "public ValidatorChain validatePermisionUpdateAndDelete(LoginUser user, UserGroup userGroup, Errors errors)", "class_method_signature": "GroupMemberService.validatePermisionUpdateAndDelete(LoginUser user, UserGroup userGroup, Errors errors)", "testcase": false, "constructor": false}, {"identifier": "validateUserOptUserPermisionInGroup", "parameters": "(LoginUser user, UserGroup userGroup)", "modifiers": "private", "return": "boolean", "signature": "boolean validateUserOptUserPermisionInGroup(LoginUser user, UserGroup userGroup)", "full_signature": "private boolean validateUserOptUserPermisionInGroup(LoginUser user, UserGroup userGroup)", "class_method_signature": "GroupMemberService.validateUserOptUserPermisionInGroup(LoginUser user, UserGroup userGroup)", "testcase": false, "constructor": false}, {"identifier": "validateUserPermisionCompare", "parameters": "(LoginUser user, UserGroup userGroup)", "modifiers": "private", "return": "boolean", "signature": "boolean validateUserPermisionCompare(LoginUser user, UserGroup userGroup)", "full_signature": "private boolean validateUserPermisionCompare(LoginUser user, UserGroup userGroup)", "class_method_signature": "GroupMemberService.validateUserPermisionCompare(LoginUser user, UserGroup userGroup)", "testcase": false, "constructor": false}, {"identifier": "canOpterateGroupMember", "parameters": "(Long userId, Long currentGroupId)", "modifiers": "public", "return": "boolean", "signature": "boolean canOpterateGroupMember(Long userId, Long currentGroupId)", "full_signature": "public boolean canOpterateGroupMember(Long userId, Long currentGroupId)", "class_method_signature": "GroupMemberService.canOpterateGroupMember(Long userId, Long currentGroupId)", "testcase": false, "constructor": false}, {"identifier": "isUserInGroup", "parameters": "(Long userId, Long groupId)", "modifiers": "public", "return": "boolean", "signature": "boolean isUserInGroup(Long userId, Long groupId)", "full_signature": "public boolean isUserInGroup(Long userId, Long groupId)", "class_method_signature": "GroupMemberService.isUserInGroup(Long userId, Long groupId)", "testcase": false, "constructor": false}, {"identifier": "isRepeatMemberInGroup", "parameters": "(Long currentGroupId, Long childGroupId)", "modifiers": "private", "return": "boolean", "signature": "boolean isRepeatMemberInGroup(Long currentGroupId, Long childGroupId)", "full_signature": "private boolean isRepeatMemberInGroup(Long currentGroupId, Long childGroupId)", "class_method_signature": "GroupMemberService.isRepeatMemberInGroup(Long currentGroupId, Long childGroupId)", "testcase": false, "constructor": false}, {"identifier": "findGroupMemberPageList", "parameters": "(Paging<UserGroup> paging)", "modifiers": "public", "return": "ListResult<MemberView>", "signature": "ListResult<MemberView> findGroupMemberPageList(Paging<UserGroup> paging)", "full_signature": "public ListResult<MemberView> findGroupMemberPageList(Paging<UserGroup> paging)", "class_method_signature": "GroupMemberService.findGroupMemberPageList(Paging<UserGroup> paging)", "testcase": false, "constructor": false}], "file": "das-console-manager/src/main/java/com/ppdai/das/console/service/GroupMemberService.java"}, "focal_method": {"identifier": "isUserInGroup", "parameters": "(Long userId, Long groupId)", "modifiers": "public", "return": "boolean", "body": "public boolean isUserInGroup(Long userId, Long groupId) throws SQLException {\n        List<UserGroup> ugGroups = userGroupDao.getUserGroupByUserId(userId);\n        if (CollectionUtils.isNotEmpty(ugGroups)) {\n            return ugGroups.stream().anyMatch(_userGroup -> _userGroup.getGroup_id().equals(groupId));\n        }\n        return false;\n    }", "signature": "boolean isUserInGroup(Long userId, Long groupId)", "full_signature": "public boolean isUserInGroup(Long userId, Long groupId)", "class_method_signature": "GroupMemberService.isUserInGroup(Long userId, Long groupId)", "testcase": false, "constructor": false, "invocations": ["getUserGroupByUserId", "isNotEmpty", "anyMatch", "stream", "equals", "getGroup_id"]}, "repository": {"repo_id": 214933909, "url": "https://github.com/ppdaicorp/das", "stars": 55, "created": "10/14/2019 2:49:17 AM +00:00", "updates": "2020-01-20T09:24:23+00:00", "fork": "False", "license": "licensed"}}