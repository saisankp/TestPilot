{"test_class": {"identifier": "JavaToSiddhiSerializerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private JavaToSiddhiSerializer serializer;", "modifier": "private", "type": "JavaToSiddhiSerializer", "declarator": "serializer", "var_name": "serializer"}, {"original_string": "private StreamMetadataService metadataService;", "modifier": "private", "type": "StreamMetadataService", "declarator": "metadataService", "var_name": "metadataService"}, {"original_string": "private SiddhiManager siddhiManager;", "modifier": "private", "type": "SiddhiManager", "declarator": "siddhiManager", "var_name": "siddhiManager"}], "file": "engine/src/test/java/com/stratio/decision/serializer/impl/JavaToSiddhiSerializerTest.java"}, "test_case": {"identifier": "testDeserialize", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testDeserialize() throws Exception {\n        Object[] values = new Object[5];\n        values[0]= new ColumnNameTypeValue(\"name\", ColumnType.STRING, \"test\");\n        values[1]= new ColumnNameTypeValue(\"value\", ColumnType.INTEGER, 10);\n        values[2]= new ColumnNameTypeValue(\"enabled\", ColumnType.BOOLEAN, true);\n        values[3]= new ColumnNameTypeValue(\"numberl\", ColumnType.LONG, 123L);\n        values[4]= new ColumnNameTypeValue(\"numberf\", ColumnType.FLOAT, 13f);\n\n        Event event= new InEvent(StreamsHelper.STREAM_NAME, System.currentTimeMillis(), values);\n        StratioStreamingMessage message= serializer.deserialize(event);\n\n        assertEquals(\"Expected value not found\", \"test\",\n                ((ColumnNameTypeValue) message.getColumns().get(0).getValue()).getValue());\n        assertEquals(\"Expected value not found\",10,\n                ((ColumnNameTypeValue) message.getColumns().get(1).getValue()).getValue());\n        assertEquals(\"Expected value not found\", true,\n                ((ColumnNameTypeValue) message.getColumns().get(2).getValue()).getValue());\n    }", "signature": "void testDeserialize()", "full_signature": "@Test public void testDeserialize()", "class_method_signature": "JavaToSiddhiSerializerTest.testDeserialize()", "testcase": true, "constructor": false, "invocations": ["currentTimeMillis", "deserialize", "assertEquals", "getValue", "getValue", "get", "getColumns", "assertEquals", "getValue", "getValue", "get", "getColumns", "assertEquals", "getValue", "getValue", "get", "getColumns"]}, "focal_class": {"identifier": "JavaToSiddhiSerializer", "superclass": "", "interfaces": "implements Serializer<StratioStreamingMessage, Event>", "fields": [{"original_string": "private static final long serialVersionUID = 1694881934063941893L;", "modifier": "private static final", "type": "long", "declarator": "serialVersionUID = 1694881934063941893L", "var_name": "serialVersionUID"}, {"original_string": "private final StreamMetadataService streamMetadataService;", "modifier": "private final", "type": "StreamMetadataService", "declarator": "streamMetadataService", "var_name": "streamMetadataService"}], "methods": [{"identifier": "JavaToSiddhiSerializer", "parameters": "(StreamMetadataService streamMetadataService)", "modifiers": "public", "return": "", "signature": " JavaToSiddhiSerializer(StreamMetadataService streamMetadataService)", "full_signature": "public  JavaToSiddhiSerializer(StreamMetadataService streamMetadataService)", "class_method_signature": "JavaToSiddhiSerializer.JavaToSiddhiSerializer(StreamMetadataService streamMetadataService)", "testcase": false, "constructor": true}, {"identifier": "serialize", "parameters": "(StratioStreamingMessage object)", "modifiers": "@Override public", "return": "Event", "signature": "Event serialize(StratioStreamingMessage object)", "full_signature": "@Override public Event serialize(StratioStreamingMessage object)", "class_method_signature": "JavaToSiddhiSerializer.serialize(StratioStreamingMessage object)", "testcase": false, "constructor": false}, {"identifier": "deserialize", "parameters": "(Event object)", "modifiers": "@Override public", "return": "StratioStreamingMessage", "signature": "StratioStreamingMessage deserialize(Event object)", "full_signature": "@Override public StratioStreamingMessage deserialize(Event object)", "class_method_signature": "JavaToSiddhiSerializer.deserialize(Event object)", "testcase": false, "constructor": false}, {"identifier": "serialize", "parameters": "(List<StratioStreamingMessage> object)", "modifiers": "@Override public", "return": "List<Event>", "signature": "List<Event> serialize(List<StratioStreamingMessage> object)", "full_signature": "@Override public List<Event> serialize(List<StratioStreamingMessage> object)", "class_method_signature": "JavaToSiddhiSerializer.serialize(List<StratioStreamingMessage> object)", "testcase": false, "constructor": false}, {"identifier": "deserialize", "parameters": "(List<Event> object)", "modifiers": "@Override public", "return": "List<StratioStreamingMessage>", "signature": "List<StratioStreamingMessage> deserialize(List<Event> object)", "full_signature": "@Override public List<StratioStreamingMessage> deserialize(List<Event> object)", "class_method_signature": "JavaToSiddhiSerializer.deserialize(List<Event> object)", "testcase": false, "constructor": false}, {"identifier": "encodeSiddhiType", "parameters": "(Type type)", "modifiers": "private", "return": "ColumnType", "signature": "ColumnType encodeSiddhiType(Type type)", "full_signature": "private ColumnType encodeSiddhiType(Type type)", "class_method_signature": "JavaToSiddhiSerializer.encodeSiddhiType(Type type)", "testcase": false, "constructor": false}], "file": "engine/src/main/java/com/stratio/decision/serializer/impl/JavaToSiddhiSerializer.java"}, "focal_method": {"identifier": "deserialize", "parameters": "(Event object)", "modifiers": "@Override public", "return": "StratioStreamingMessage", "body": "@Override\n    public StratioStreamingMessage deserialize(Event object) {\n        List<ColumnNameTypeValue> columns = new ArrayList<>();\n        for (int i = 0; i < object.getData().length; i++) {\n            Object data = object.getData()[i];\n            Attribute attribute = streamMetadataService.getAttribute(object.getStreamId(), i);\n            columns.add(new ColumnNameTypeValue(attribute.getName(), encodeSiddhiType(attribute.getType()), data));\n        }\n        return new StratioStreamingMessage(object.getStreamId(), object.getTimeStamp(), columns);\n    }", "signature": "StratioStreamingMessage deserialize(Event object)", "full_signature": "@Override public StratioStreamingMessage deserialize(Event object)", "class_method_signature": "JavaToSiddhiSerializer.deserialize(Event object)", "testcase": false, "constructor": false, "invocations": ["getData", "getData", "getAttribute", "getStreamId", "add", "getName", "encodeSiddhiType", "getType", "getStreamId", "getTimeStamp"]}, "repository": {"repo_id": 20521495, "url": "https://github.com/Stratio/Decision", "language": "Java", "is_fork": false, "fork_count": 85, "stargazer_count": 305, "size": 41858, "license": "licensed"}}