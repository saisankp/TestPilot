{"test_class": {"identifier": "EverrestServletContextInitializerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private ServletContext    servletContext;", "modifier": "private", "type": "ServletContext", "declarator": "servletContext", "var_name": "servletContext"}, {"original_string": "private HashSet<Class<?>> scannedClasses;", "modifier": "private", "type": "HashSet<Class<?>>", "declarator": "scannedClasses", "var_name": "scannedClasses"}], "file": "everrest-core/src/test/java/org/everrest/core/servlet/EverrestServletContextInitializerTest.java"}, "test_case": {"identifier": "scansForJaxRsComponentsAndCreatesApplication", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void scansForJaxRsComponentsAndCreatesApplication() throws Exception {\n        when(servletContext.getInitParameter(\"org.everrest.scan.components\")).thenReturn(\"true\");\n\n        EverrestServletContextInitializer everrestServletContextInitializer = new EverrestServletContextInitializer(servletContext);\n\n        Application application = everrestServletContextInitializer.getApplication();\n        assertEquals(scannedClasses, application.getClasses());\n    }", "signature": "void scansForJaxRsComponentsAndCreatesApplication()", "full_signature": "@Test public void scansForJaxRsComponentsAndCreatesApplication()", "class_method_signature": "EverrestServletContextInitializerTest.scansForJaxRsComponentsAndCreatesApplication()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "getInitParameter", "getApplication", "assertEquals", "getClasses"]}, "focal_class": {"identifier": "EverrestServletContextInitializer", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(EverrestServletContextInitializer.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(EverrestServletContextInitializer.class)", "var_name": "LOG"}, {"original_string": "public static final String EVERREST_SCAN_COMPONENTS    = \"org.everrest.scan.components\";", "modifier": "public static final", "type": "String", "declarator": "EVERREST_SCAN_COMPONENTS    = \"org.everrest.scan.components\"", "var_name": "EVERREST_SCAN_COMPONENTS"}, {"original_string": "public static final String EVERREST_SCAN_SKIP_PACKAGES = \"org.everrest.scan.skip.packages\";", "modifier": "public static final", "type": "String", "declarator": "EVERREST_SCAN_SKIP_PACKAGES = \"org.everrest.scan.skip.packages\"", "var_name": "EVERREST_SCAN_SKIP_PACKAGES"}, {"original_string": "public static final String JAXRS_APPLICATION           = \"javax.ws.rs.Application\";", "modifier": "public static final", "type": "String", "declarator": "JAXRS_APPLICATION           = \"javax.ws.rs.Application\"", "var_name": "JAXRS_APPLICATION"}, {"original_string": "protected final ServletContext servletContext;", "modifier": "protected final", "type": "ServletContext", "declarator": "servletContext", "var_name": "servletContext"}], "methods": [{"identifier": "EverrestServletContextInitializer", "parameters": "(ServletContext servletContext)", "modifiers": "public", "return": "", "signature": " EverrestServletContextInitializer(ServletContext servletContext)", "full_signature": "public  EverrestServletContextInitializer(ServletContext servletContext)", "class_method_signature": "EverrestServletContextInitializer.EverrestServletContextInitializer(ServletContext servletContext)", "testcase": false, "constructor": true}, {"identifier": "getApplication", "parameters": "()", "modifiers": "public", "return": "Application", "signature": "Application getApplication()", "full_signature": "public Application getApplication()", "class_method_signature": "EverrestServletContextInitializer.getApplication()", "testcase": false, "constructor": false}, {"identifier": "createConfiguration", "parameters": "()", "modifiers": "public", "return": "EverrestConfiguration", "signature": "EverrestConfiguration createConfiguration()", "full_signature": "public EverrestConfiguration createConfiguration()", "class_method_signature": "EverrestServletContextInitializer.createConfiguration()", "testcase": false, "constructor": false}, {"identifier": "createRequestHandler", "parameters": "()", "modifiers": "public", "return": "RequestHandler", "signature": "RequestHandler createRequestHandler()", "full_signature": "public RequestHandler createRequestHandler()", "class_method_signature": "EverrestServletContextInitializer.createRequestHandler()", "testcase": false, "constructor": false}, {"identifier": "createRequestDispatcher", "parameters": "()", "modifiers": "public", "return": "RequestDispatcher", "signature": "RequestDispatcher createRequestDispatcher()", "full_signature": "public RequestDispatcher createRequestDispatcher()", "class_method_signature": "EverrestServletContextInitializer.createRequestDispatcher()", "testcase": false, "constructor": false}, {"identifier": "createResourceBinder", "parameters": "()", "modifiers": "public", "return": "ResourceBinder", "signature": "ResourceBinder createResourceBinder()", "full_signature": "public ResourceBinder createResourceBinder()", "class_method_signature": "EverrestServletContextInitializer.createResourceBinder()", "testcase": false, "constructor": false}, {"identifier": "getDependencySupplier", "parameters": "()", "modifiers": "public", "return": "DependencySupplier", "signature": "DependencySupplier getDependencySupplier()", "full_signature": "public DependencySupplier getDependencySupplier()", "class_method_signature": "EverrestServletContextInitializer.getDependencySupplier()", "testcase": false, "constructor": false}, {"identifier": "createProviderBinder", "parameters": "()", "modifiers": "public", "return": "ProviderBinder", "signature": "ProviderBinder createProviderBinder()", "full_signature": "public ProviderBinder createProviderBinder()", "class_method_signature": "EverrestServletContextInitializer.createProviderBinder()", "testcase": false, "constructor": false}, {"identifier": "getEverrestApplication", "parameters": "(EverrestConfiguration configuration)", "modifiers": "private", "return": "EverrestApplication", "signature": "EverrestApplication getEverrestApplication(EverrestConfiguration configuration)", "full_signature": "private EverrestApplication getEverrestApplication(EverrestConfiguration configuration)", "class_method_signature": "EverrestServletContextInitializer.getEverrestApplication(EverrestConfiguration configuration)", "testcase": false, "constructor": false}, {"identifier": "createEverrestProcessor", "parameters": "()", "modifiers": "public", "return": "EverrestProcessor", "signature": "EverrestProcessor createEverrestProcessor()", "full_signature": "public EverrestProcessor createEverrestProcessor()", "class_method_signature": "EverrestServletContextInitializer.createEverrestProcessor()", "testcase": false, "constructor": false}, {"identifier": "getParameterNames", "parameters": "()", "modifiers": "protected", "return": "List<String>", "signature": "List<String> getParameterNames()", "full_signature": "protected List<String> getParameterNames()", "class_method_signature": "EverrestServletContextInitializer.getParameterNames()", "testcase": false, "constructor": false}, {"identifier": "getParameter", "parameters": "(String name)", "modifiers": "protected", "return": "String", "signature": "String getParameter(String name)", "full_signature": "protected String getParameter(String name)", "class_method_signature": "EverrestServletContextInitializer.getParameter(String name)", "testcase": false, "constructor": false}, {"identifier": "getParameter", "parameters": "(String name, String def)", "modifiers": "protected", "return": "String", "signature": "String getParameter(String name, String def)", "full_signature": "protected String getParameter(String name, String def)", "class_method_signature": "EverrestServletContextInitializer.getParameter(String name, String def)", "testcase": false, "constructor": false}, {"identifier": "getBoolean", "parameters": "(String name, boolean def)", "modifiers": "protected", "return": "boolean", "signature": "boolean getBoolean(String name, boolean def)", "full_signature": "protected boolean getBoolean(String name, boolean def)", "class_method_signature": "EverrestServletContextInitializer.getBoolean(String name, boolean def)", "testcase": false, "constructor": false}, {"identifier": "getNumber", "parameters": "(String name, double def)", "modifiers": "protected", "return": "Double", "signature": "Double getNumber(String name, double def)", "full_signature": "protected Double getNumber(String name, double def)", "class_method_signature": "EverrestServletContextInitializer.getNumber(String name, double def)", "testcase": false, "constructor": false}], "file": "everrest-core/src/main/java/org/everrest/core/servlet/EverrestServletContextInitializer.java"}, "focal_method": {"identifier": "getApplication", "parameters": "()", "modifiers": "public", "return": "Application", "body": "public Application getApplication() {\n        Application application = null;\n        String applicationFQN = getParameter(JAXRS_APPLICATION);\n        boolean scan = getBoolean(EVERREST_SCAN_COMPONENTS, false);\n        if (applicationFQN != null) {\n            if (scan) {\n                String msg = \"Scan of JAX-RS components is disabled cause to specified 'javax.ws.rs.Application'.\";\n                LOG.warn(msg);\n            }\n            try {\n                Class<?> cl = Thread.currentThread().getContextClassLoader().loadClass(applicationFQN);\n                application = (Application)cl.newInstance();\n            } catch (ClassNotFoundException | InstantiationException | IllegalAccessException e) {\n                throw new RuntimeException(e);\n            }\n        } else if (scan) {\n            application = new Application() {\n                @Override\n                public Set<Class<?>> getClasses() {\n                    return new LinkedHashSet<>(ComponentFinder.findComponents());\n                }\n            };\n        }\n        return application;\n    }", "signature": "Application getApplication()", "full_signature": "public Application getApplication()", "class_method_signature": "EverrestServletContextInitializer.getApplication()", "testcase": false, "constructor": false, "invocations": ["getParameter", "getBoolean", "warn", "loadClass", "getContextClassLoader", "currentThread", "newInstance", "findComponents"]}, "repository": {"repo_id": 14550159, "url": "https://github.com/codenvy/everrest", "language": "Java", "is_fork": false, "fork_count": 14, "stargazer_count": 24, "size": 4563, "license": "licensed"}}