{"test_class": {"identifier": "FixedCacheControlOutInterceptorTest", "superclass": "", "interfaces": "", "fields": [], "file": "src/modules/rest/impl/src/test/java/it/geosolutions/geostore/services/rest/utils/FixedCacheControlOutInterceptorTest.java"}, "test_case": {"identifier": "testCacheControlHeader", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testCacheControlHeader() {\n    \tMessage message = new MessageImpl();\n    \tByteArrayOutputStream sw = new ByteArrayOutputStream();\n    \tmessage.setContent(OutputStream.class , sw);\n    \tFixedCacheControlOutInterceptor interceptor = new FixedCacheControlOutInterceptor();\n    \tinterceptor.handleMessage(message);\n    \t@SuppressWarnings(\"unchecked\")\n\t\tMetadataMap<String, Object> headers = (MetadataMap<String, Object>) message.get(Message.PROTOCOL_HEADERS);\n    \tassertEquals(((List)headers.get(\"Expires\")).get(0), \"-1\");\n    \tassertEquals(((List)headers.get(\"Cache-Control\")).get(0), \"no-cache\");\n    }", "signature": "void testCacheControlHeader()", "full_signature": "@Test public void testCacheControlHeader()", "class_method_signature": "FixedCacheControlOutInterceptorTest.testCacheControlHeader()", "testcase": true, "constructor": false, "invocations": ["setContent", "handleMessage", "get", "assertEquals", "get", "get", "assertEquals", "get", "get"]}, "focal_class": {"identifier": "FixedCacheControlOutInterceptor", "superclass": "extends AbstractPhaseInterceptor<Message>", "interfaces": "", "fields": [], "methods": [{"identifier": "FixedCacheControlOutInterceptor", "parameters": "()", "modifiers": "public", "return": "", "signature": " FixedCacheControlOutInterceptor()", "full_signature": "public  FixedCacheControlOutInterceptor()", "class_method_signature": "FixedCacheControlOutInterceptor.FixedCacheControlOutInterceptor()", "testcase": false, "constructor": true}, {"identifier": "handleMessage", "parameters": "(Message message)", "modifiers": "@SuppressWarnings(\"unchecked\") public final", "return": "void", "signature": "void handleMessage(Message message)", "full_signature": "@SuppressWarnings(\"unchecked\") public final void handleMessage(Message message)", "class_method_signature": "FixedCacheControlOutInterceptor.handleMessage(Message message)", "testcase": false, "constructor": false}], "file": "src/modules/rest/impl/src/main/java/it/geosolutions/geostore/services/rest/utils/FixedCacheControlOutInterceptor.java"}, "focal_method": {"identifier": "handleMessage", "parameters": "(Message message)", "modifiers": "@SuppressWarnings(\"unchecked\") public final", "return": "void", "body": "@SuppressWarnings(\"unchecked\")\n\tpublic final void handleMessage(Message message) {\n        OutputStream os = message.getContent(OutputStream.class);\n        if (os == null) {\n            return;\n        }\n        MultivaluedMap<String, Object> headers = (MetadataMap<String, Object>) message.get(Message.PROTOCOL_HEADERS);\n        if (headers == null) {\n            headers = new MetadataMap<String, Object>();\n        }   \n        headers.add(\"Cache-Control\", new String(\"no-cache\"));\n        headers.add(\"Expires\", new String(\"-1\"));\n        message.put(Message.PROTOCOL_HEADERS, headers);\n    }", "signature": "void handleMessage(Message message)", "full_signature": "@SuppressWarnings(\"unchecked\") public final void handleMessage(Message message)", "class_method_signature": "FixedCacheControlOutInterceptor.handleMessage(Message message)", "testcase": false, "constructor": false, "invocations": ["getContent", "get", "add", "add", "put"]}, "repository": {"repo_id": 4157021, "url": "https://github.com/geosolutions-it/geostore", "language": "Java", "is_fork": false, "fork_count": 35, "stargazer_count": 19, "size": 1798, "license": "licensed"}}