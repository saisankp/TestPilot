{"test_class": {"identifier": "TestTextPatternValidationUtils", "superclass": "", "interfaces": "", "fields": [{"original_string": "private TextPatternSegment textSegment = new TextPatternSegment( TextPatternMethod.TEXT, \"\\\"FOOBAR\\\"\" );", "modifier": "private", "type": "TextPatternSegment", "declarator": "textSegment = new TextPatternSegment( TextPatternMethod.TEXT, \"\\\"FOOBAR\\\"\" )", "var_name": "textSegment"}, {"original_string": "private TextPatternSegment textSegmentWithSpecialCharacters = new TextPatternSegment( TextPatternMethod.TEXT, \"\\\"\\\\d\\\\x\\\\X\\\\w\\\"\" );", "modifier": "private", "type": "TextPatternSegment", "declarator": "textSegmentWithSpecialCharacters = new TextPatternSegment( TextPatternMethod.TEXT, \"\\\"\\\\d\\\\x\\\\X\\\\w\\\"\" )", "var_name": "textSegmentWithSpecialCharacters"}, {"original_string": "private TextPatternSegment randomSegment = new TextPatternSegment( TextPatternMethod.RANDOM, \"RANDOM(XXxx##)\" );", "modifier": "private", "type": "TextPatternSegment", "declarator": "randomSegment = new TextPatternSegment( TextPatternMethod.RANDOM, \"RANDOM(XXxx##)\" )", "var_name": "randomSegment"}, {"original_string": "private TextPatternSegment sequentialSegment = new TextPatternSegment( TextPatternMethod.SEQUENTIAL,\n        \"SEQUENTIAL(###)\" );", "modifier": "private", "type": "TextPatternSegment", "declarator": "sequentialSegment = new TextPatternSegment( TextPatternMethod.SEQUENTIAL,\n        \"SEQUENTIAL(###)\" )", "var_name": "sequentialSegment"}, {"original_string": "private TextPatternSegment orgUnitCodeSegment = new TextPatternSegment( TextPatternMethod.ORG_UNIT_CODE,\n        \"ORG_UNIT_CODE(...)\" );", "modifier": "private", "type": "TextPatternSegment", "declarator": "orgUnitCodeSegment = new TextPatternSegment( TextPatternMethod.ORG_UNIT_CODE,\n        \"ORG_UNIT_CODE(...)\" )", "var_name": "orgUnitCodeSegment"}, {"original_string": "private TextPatternSegment currentDateSegment = new TextPatternSegment( TextPatternMethod.CURRENT_DATE,\n        \"CURRENT_DATE(dd/mm/yyyy)\" );", "modifier": "private", "type": "TextPatternSegment", "declarator": "currentDateSegment = new TextPatternSegment( TextPatternMethod.CURRENT_DATE,\n        \"CURRENT_DATE(dd/mm/yyyy)\" )", "var_name": "currentDateSegment"}], "file": "dhis-2/dhis-services/dhis-service-core/src/test/java/org/hisp/dhis/textpattern/TestTextPatternValidationUtils.java"}, "test_case": {"identifier": "testValidationUtilsValidateTextPatternValue", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testValidationUtilsValidateTextPatternValue()\n        throws TextPatternParser.TextPatternParsingException\n    {\n        TextPattern tp = TextPatternParser\n            .parse( \"\\\"FOOBAR\\\"+RANDOM(xxx)+\\\"-\\\"+SEQUENTIAL(##)+ORG_UNIT_CODE(...)+CURRENT_DATE(yyyy)\" );\n\n        assertTrue( TextPatternValidationUtils.validateTextPatternValue( tp, \"FOOBARabc-01OSL1990\" ) );\n        assertFalse( TextPatternValidationUtils.validateTextPatternValue( tp, \"FOOBAR abc - 01 OSL 1990\" ) );\n        assertFalse( TextPatternValidationUtils.validateTextPatternValue( tp, \"FOOBARabc-01 OSL 1990\" ) );\n        assertFalse( TextPatternValidationUtils.validateTextPatternValue( tp, \"FOOBARabc-01OSL 1990\" ) );\n        assertFalse( TextPatternValidationUtils.validateTextPatternValue( tp, \"\" ) );\n\n    }", "signature": "void testValidationUtilsValidateTextPatternValue()", "full_signature": "@Test public void testValidationUtilsValidateTextPatternValue()", "class_method_signature": "TestTextPatternValidationUtils.testValidationUtilsValidateTextPatternValue()", "testcase": true, "constructor": false, "invocations": ["parse", "assertTrue", "validateTextPatternValue", "assertFalse", "validateTextPatternValue", "assertFalse", "validateTextPatternValue", "assertFalse", "validateTextPatternValue", "assertFalse", "validateTextPatternValue"]}, "focal_class": {"identifier": "TextPatternValidationUtils", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "validateSegmentValue", "parameters": "( TextPatternSegment segment, String value )", "modifiers": "public static", "return": "boolean", "signature": "boolean validateSegmentValue( TextPatternSegment segment, String value )", "full_signature": "public static boolean validateSegmentValue( TextPatternSegment segment, String value )", "class_method_signature": "TextPatternValidationUtils.validateSegmentValue( TextPatternSegment segment, String value )", "testcase": false, "constructor": false}, {"identifier": "validateTextPatternValue", "parameters": "( TextPattern textPattern, String value )", "modifiers": "public static", "return": "boolean", "signature": "boolean validateTextPatternValue( TextPattern textPattern, String value )", "full_signature": "public static boolean validateTextPatternValue( TextPattern textPattern, String value )", "class_method_signature": "TextPatternValidationUtils.validateTextPatternValue( TextPattern textPattern, String value )", "testcase": false, "constructor": false}, {"identifier": "getTotalValuesPotential", "parameters": "( TextPatternSegment generatedSegment )", "modifiers": "public static", "return": "long", "signature": "long getTotalValuesPotential( TextPatternSegment generatedSegment )", "full_signature": "public static long getTotalValuesPotential( TextPatternSegment generatedSegment )", "class_method_signature": "TextPatternValidationUtils.getTotalValuesPotential( TextPatternSegment generatedSegment )", "testcase": false, "constructor": false}, {"identifier": "validateValueType", "parameters": "( TextPattern textPattern, ValueType valueType )", "modifiers": "public static", "return": "boolean", "signature": "boolean validateValueType( TextPattern textPattern, ValueType valueType )", "full_signature": "public static boolean validateValueType( TextPattern textPattern, ValueType valueType )", "class_method_signature": "TextPatternValidationUtils.validateValueType( TextPattern textPattern, ValueType valueType )", "testcase": false, "constructor": false}, {"identifier": "isNumericOnly", "parameters": "( TextPatternSegment segment )", "modifiers": "private static", "return": "boolean", "signature": "boolean isNumericOnly( TextPatternSegment segment )", "full_signature": "private static boolean isNumericOnly( TextPatternSegment segment )", "class_method_signature": "TextPatternValidationUtils.isNumericOnly( TextPatternSegment segment )", "testcase": false, "constructor": false}], "file": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/textpattern/TextPatternValidationUtils.java"}, "focal_method": {"identifier": "validateTextPatternValue", "parameters": "( TextPattern textPattern, String value )", "modifiers": "public static", "return": "boolean", "body": "public static boolean validateTextPatternValue( TextPattern textPattern, String value )\n    {\n        StringBuilder builder = new StringBuilder();\n\n        builder.append( \"^\" );\n\n        textPattern.getSegments().forEach(\n            ( segment ) -> builder.append( segment.getMethod().getType().getValueRegex( segment.getParameter() ) ) );\n\n        builder.append( \"$\" );\n\n        return Pattern.compile( builder.toString() ).matcher( value ).matches();\n    }", "signature": "boolean validateTextPatternValue( TextPattern textPattern, String value )", "full_signature": "public static boolean validateTextPatternValue( TextPattern textPattern, String value )", "class_method_signature": "TextPatternValidationUtils.validateTextPatternValue( TextPattern textPattern, String value )", "testcase": false, "constructor": false, "invocations": ["append", "forEach", "getSegments", "append", "getValueRegex", "getType", "getMethod", "getParameter", "append", "matches", "matcher", "compile", "toString"]}, "repository": {"repo_id": 66940520, "url": "https://github.com/dhis2/dhis2-core", "stars": 151, "created": "8/30/2016 12:57:05 PM +00:00", "updates": "2020-01-24T18:06:36+00:00", "fork": "False", "license": "licensed"}}