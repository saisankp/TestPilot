{"test_class": {"identifier": "ReportNodeStatisticsViewTest", "superclass": "", "interfaces": "", "fields": [], "file": "step-controller/step-controller-base-plugins/src/test/java/step/plugins/views/functions/ReportNodeStatisticsViewTest.java"}, "test_case": {"identifier": "test", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void test() {\n\t\tReportNodeStatisticsView view = new ReportNodeStatisticsView();\n\t\tview.setResolutions(new int[]{10,100});\n\t\tAbstractTimeBasedModel<ReportNodeStatisticsEntry> model = view.init();\n\t\tfor(int j=0;j<10;j++) {\n\t\t\tfor(int i=0;i<99;i++) {\n\t\t\t\tCallFunctionReportNode node = new CallFunctionReportNode();\n\t\t\t\tCallFunction callFunction = new CallFunction();\n\t\t\t\tnode.setArtefactInstance(callFunction);\n\t\t\t\tnode.setResolvedArtefact(callFunction);\n\t\t\t\tHashMap<String,String> functionAttributes = new HashMap<>();\n\t\t\t\tfunctionAttributes.put(\"name\", \"Function\"+i%2);\n\t\t\t\tnode.setFunctionAttributes(functionAttributes);\n\t\t\t\tnode.setExecutionTime(j*100+i);\n\t\t\t\tnode.setDuration(i%2+1);\n\t\t\t\tview.afterReportNodeExecution(model, node);\n\t\t\t}\n\t\t}\n\t\t\n\t\tAssert.assertEquals(10,model.getIntervals().size());\n\t\tAssert.assertEquals(99,model.getIntervals().get(0l).getCount());\n\t\tAssert.assertEquals(99,model.getIntervals().get(900l).getCount());\n\t\tAssert.assertEquals(50,(int)model.getIntervals().get(900l).byFunctionName.get(\"Function0\").count);\n\t\tAssert.assertEquals(49,(int)model.getIntervals().get(900l).byFunctionName.get(\"Function1\").count);\n\t\tAssert.assertEquals(50,(int)model.getIntervals().get(900l).byFunctionName.get(\"Function0\").sum);\n\t\tAssert.assertEquals(98,(int)model.getIntervals().get(900l).byFunctionName.get(\"Function1\").sum);\n\t}", "signature": "void test()", "full_signature": "@Test public void test()", "class_method_signature": "ReportNodeStatisticsViewTest.test()", "testcase": true, "constructor": false, "invocations": ["setResolutions", "init", "setArtefactInstance", "setResolvedArtefact", "put", "setFunctionAttributes", "setExecutionTime", "setDuration", "afterReportNodeExecution", "assertEquals", "size", "getIntervals", "assertEquals", "getCount", "get", "getIntervals", "assertEquals", "getCount", "get", "getIntervals", "assertEquals", "get", "get", "getIntervals", "assertEquals", "get", "get", "getIntervals", "assertEquals", "get", "get", "getIntervals", "assertEquals", "get", "get", "getIntervals"]}, "focal_class": {"identifier": "ReportNodeStatisticsView", "superclass": "extends AbstractTimeBasedView<ReportNodeStatisticsEntry>", "interfaces": "", "fields": [], "methods": [{"identifier": "afterReportNodeSkeletonCreation", "parameters": "(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node)", "modifiers": "@Override public", "return": "void", "signature": "void afterReportNodeSkeletonCreation(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node)", "full_signature": "@Override public void afterReportNodeSkeletonCreation(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node)", "class_method_signature": "ReportNodeStatisticsView.afterReportNodeSkeletonCreation(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node)", "testcase": false, "constructor": false}, {"identifier": "createPoint", "parameters": "(ReportNode node)", "modifiers": "private", "return": "ReportNodeStatisticsEntry", "signature": "ReportNodeStatisticsEntry createPoint(ReportNode node)", "full_signature": "private ReportNodeStatisticsEntry createPoint(ReportNode node)", "class_method_signature": "ReportNodeStatisticsView.createPoint(ReportNode node)", "testcase": false, "constructor": false}, {"identifier": "afterReportNodeExecution", "parameters": "(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node)", "modifiers": "@Override public", "return": "void", "signature": "void afterReportNodeExecution(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node)", "full_signature": "@Override public void afterReportNodeExecution(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node)", "class_method_signature": "ReportNodeStatisticsView.afterReportNodeExecution(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node)", "testcase": false, "constructor": false}, {"identifier": "mergePoints", "parameters": "(ReportNodeStatisticsEntry target, ReportNodeStatisticsEntry source)", "modifiers": "@Override protected", "return": "void", "signature": "void mergePoints(ReportNodeStatisticsEntry target, ReportNodeStatisticsEntry source)", "full_signature": "@Override protected void mergePoints(ReportNodeStatisticsEntry target, ReportNodeStatisticsEntry source)", "class_method_signature": "ReportNodeStatisticsView.mergePoints(ReportNodeStatisticsEntry target, ReportNodeStatisticsEntry source)", "testcase": false, "constructor": false}, {"identifier": "unMergePoints", "parameters": "(ReportNodeStatisticsEntry target, ReportNodeStatisticsEntry source)", "modifiers": "@Override protected", "return": "void", "signature": "void unMergePoints(ReportNodeStatisticsEntry target, ReportNodeStatisticsEntry source)", "full_signature": "@Override protected void unMergePoints(ReportNodeStatisticsEntry target, ReportNodeStatisticsEntry source)", "class_method_signature": "ReportNodeStatisticsView.unMergePoints(ReportNodeStatisticsEntry target, ReportNodeStatisticsEntry source)", "testcase": false, "constructor": false}, {"identifier": "getViewId", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getViewId()", "full_signature": "@Override public String getViewId()", "class_method_signature": "ReportNodeStatisticsView.getViewId()", "testcase": false, "constructor": false}, {"identifier": "rollbackReportNode", "parameters": "(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node)", "modifiers": "@Override public", "return": "void", "signature": "void rollbackReportNode(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node)", "full_signature": "@Override public void rollbackReportNode(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node)", "class_method_signature": "ReportNodeStatisticsView.rollbackReportNode(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node)", "testcase": false, "constructor": false}], "file": "step-controller/step-controller-base-plugins/src/main/java/step/plugins/views/functions/ReportNodeStatisticsView.java"}, "focal_method": {"identifier": "afterReportNodeExecution", "parameters": "(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node)", "modifiers": "@Override public", "return": "void", "body": "@Override\n\tpublic void afterReportNodeExecution(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node) {\n\t\tReportNodeStatisticsEntry e = createPoint(node);\n\t\tif (e != null) {\n\t\t\taddPoint(model, node.getExecutionTime(), e);\n\t\t}\n\t}", "signature": "void afterReportNodeExecution(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node)", "full_signature": "@Override public void afterReportNodeExecution(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node)", "class_method_signature": "ReportNodeStatisticsView.afterReportNodeExecution(AbstractTimeBasedModel<ReportNodeStatisticsEntry> model, ReportNode node)", "testcase": false, "constructor": false, "invocations": ["createPoint", "addPoint", "getExecutionTime"]}, "repository": {"repo_id": 62342369, "url": "https://github.com/exense/step", "stars": 12, "created": "6/30/2016 9:08:29 PM +00:00", "updates": "2020-01-24T17:13:24+00:00", "fork": "False", "license": "licensed"}}