{"test_class": {"identifier": "ArffDatasetAdapterTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String RELATION_NAME = \"probing_nonan_noid\";", "modifier": "private static final", "type": "String", "declarator": "RELATION_NAME = \"probing_nonan_noid\"", "var_name": "RELATION_NAME"}, {"original_string": "private static final int CLASS_INDEX = 2;", "modifier": "private static final", "type": "int", "declarator": "CLASS_INDEX = 2", "var_name": "CLASS_INDEX"}, {"original_string": "private static final String RELATION_STRING = \"@relation '\" + RELATION_NAME + \": -C \" + CLASS_INDEX + \"'\";", "modifier": "private static final", "type": "String", "declarator": "RELATION_STRING = \"@relation '\" + RELATION_NAME + \": -C \" + CLASS_INDEX + \"'\"", "var_name": "RELATION_STRING"}, {"original_string": "private static final String ATTRIBUTE_NAME = \"myAtt\";", "modifier": "private static final", "type": "String", "declarator": "ATTRIBUTE_NAME = \"myAtt\"", "var_name": "ATTRIBUTE_NAME"}, {"original_string": "private static final String NUMERIC_ATTRIBUTE_STRING = \"@attribute \" + ATTRIBUTE_NAME + \" numeric\";", "modifier": "private static final", "type": "String", "declarator": "NUMERIC_ATTRIBUTE_STRING = \"@attribute \" + ATTRIBUTE_NAME + \" numeric\"", "var_name": "NUMERIC_ATTRIBUTE_STRING"}, {"original_string": "private static final List<String> CATEGORICAL_VALUES = Arrays.asList(\"Agresti\", \"Ashbacher\", \"Auken\", \"Blankenship\", \"Brody\", \"Brown\", \"Bukowsky\", \"CFH\", \"Calvinnme\", \"Chachra\", \"Chandler\", \"Chell\", \"Cholette\", \"Comdet\", \"Corn\",\n\t\t\t\"Cutey\", \"Davisson\", \"Dent\", \"Engineer\", \"Goonan\", \"Grove\", \"Harp\", \"Hayes\", \"Janson\", \"Johnson\", \"Koenig\", \"Kolln\", \"Lawyeraau\", \"Lee\", \"Lovitt\", \"Mahlers2nd\", \"Mark\", \"McKee\", \"Merritt\", \"Messick\", \"Mitchell\", \"Morrison\",\n\t\t\t\"Neal\", \"Nigam\", \"Peterson\", \"Power\", \"Riley\", \"Robert\", \"Shea\", \"Sherwin\", \"Taylor\", \"Vernon\", \"Vision\", \"Walters\", \"Wilson\");", "modifier": "private static final", "type": "List<String>", "declarator": "CATEGORICAL_VALUES = Arrays.asList(\"Agresti\", \"Ashbacher\", \"Auken\", \"Blankenship\", \"Brody\", \"Brown\", \"Bukowsky\", \"CFH\", \"Calvinnme\", \"Chachra\", \"Chandler\", \"Chell\", \"Cholette\", \"Comdet\", \"Corn\",\n\t\t\t\"Cutey\", \"Davisson\", \"Dent\", \"Engineer\", \"Goonan\", \"Grove\", \"Harp\", \"Hayes\", \"Janson\", \"Johnson\", \"Koenig\", \"Kolln\", \"Lawyeraau\", \"Lee\", \"Lovitt\", \"Mahlers2nd\", \"Mark\", \"McKee\", \"Merritt\", \"Messick\", \"Mitchell\", \"Morrison\",\n\t\t\t\"Neal\", \"Nigam\", \"Peterson\", \"Power\", \"Riley\", \"Robert\", \"Shea\", \"Sherwin\", \"Taylor\", \"Vernon\", \"Vision\", \"Walters\", \"Wilson\")", "var_name": "CATEGORICAL_VALUES"}, {"original_string": "private static final String NOMINAL_ATTRIBUTE_STRING = \"@attribute '\" + ATTRIBUTE_NAME + \"' {\" + SetUtil.implode(CATEGORICAL_VALUES, \",\") + \"}\";", "modifier": "private static final", "type": "String", "declarator": "NOMINAL_ATTRIBUTE_STRING = \"@attribute '\" + ATTRIBUTE_NAME + \"' {\" + SetUtil.implode(CATEGORICAL_VALUES, \",\") + \"}\"", "var_name": "NOMINAL_ATTRIBUTE_STRING"}, {"original_string": "private static final String SENSOR_TIME_SERIES_ATTRIBUTE_STRING = \"@attribute \" + ATTRIBUTE_NAME + \" timeseries\";", "modifier": "private static final", "type": "String", "declarator": "SENSOR_TIME_SERIES_ATTRIBUTE_STRING = \"@attribute \" + ATTRIBUTE_NAME + \" timeseries\"", "var_name": "SENSOR_TIME_SERIES_ATTRIBUTE_STRING"}, {"original_string": "private static final IAttribute TEST_NUM_ATT = new NumericAttribute(\"numAtt\");", "modifier": "private static final", "type": "IAttribute", "declarator": "TEST_NUM_ATT = new NumericAttribute(\"numAtt\")", "var_name": "TEST_NUM_ATT"}, {"original_string": "private static final IAttribute TEST_CAT_ATT = new IntBasedCategoricalAttribute(\"catAtt\", CATEGORICAL_VALUES);", "modifier": "private static final", "type": "IAttribute", "declarator": "TEST_CAT_ATT = new IntBasedCategoricalAttribute(\"catAtt\", CATEGORICAL_VALUES)", "var_name": "TEST_CAT_ATT"}, {"original_string": "private static final IAttribute TEST_STS_ATT = new SensorTimeSeriesAttribute(\"sensorTimeSeriesAttibute\");", "modifier": "private static final", "type": "IAttribute", "declarator": "TEST_STS_ATT = new SensorTimeSeriesAttribute(\"sensorTimeSeriesAttibute\")", "var_name": "TEST_STS_ATT"}, {"original_string": "private static final double TEST_NUMERIC_VAL = 231.0;", "modifier": "private static final", "type": "double", "declarator": "TEST_NUMERIC_VAL = 231.0", "var_name": "TEST_NUMERIC_VAL"}, {"original_string": "private static final int TEST_CATEGORICAL_VAL = (int) TEST_CAT_ATT.deserializeAttributeValue(CATEGORICAL_VALUES.get(1));", "modifier": "private static final", "type": "int", "declarator": "TEST_CATEGORICAL_VAL = (int) TEST_CAT_ATT.deserializeAttributeValue(CATEGORICAL_VALUES.get(1))", "var_name": "TEST_CATEGORICAL_VAL"}, {"original_string": "private static final SensorTimeSeries TEST_STS_VAL = (SensorTimeSeries) TEST_STS_ATT.deserializeAttributeValue(\"1#0.5 2#0.34 5#93.4\");", "modifier": "private static final", "type": "SensorTimeSeries", "declarator": "TEST_STS_VAL = (SensorTimeSeries) TEST_STS_ATT.deserializeAttributeValue(\"1#0.5 2#0.34 5#93.4\")", "var_name": "TEST_STS_VAL"}, {"original_string": "private static final Object[] TEST_INSTANCE = { TEST_NUMERIC_VAL, TEST_STS_VAL, TEST_CATEGORICAL_VAL };", "modifier": "private static final", "type": "Object[]", "declarator": "TEST_INSTANCE = { TEST_NUMERIC_VAL, TEST_STS_VAL, TEST_CATEGORICAL_VAL }", "var_name": "TEST_INSTANCE"}, {"original_string": "private static final Object[] TEST_INSTANCE_WITH_MISSING_NUMERIC_VAL = { null, TEST_STS_VAL, TEST_CATEGORICAL_VAL };", "modifier": "private static final", "type": "Object[]", "declarator": "TEST_INSTANCE_WITH_MISSING_NUMERIC_VAL = { null, TEST_STS_VAL, TEST_CATEGORICAL_VAL }", "var_name": "TEST_INSTANCE_WITH_MISSING_NUMERIC_VAL"}, {"original_string": "private static final Object[] TEST_INSTANCE_WITH_MISSING_CATEGORICAL_VAL = { TEST_NUMERIC_VAL, TEST_STS_VAL, null };", "modifier": "private static final", "type": "Object[]", "declarator": "TEST_INSTANCE_WITH_MISSING_CATEGORICAL_VAL = { TEST_NUMERIC_VAL, TEST_STS_VAL, null }", "var_name": "TEST_INSTANCE_WITH_MISSING_CATEGORICAL_VAL"}, {"original_string": "private static final List<IAttribute> TEST_ATTRIBUTES = Arrays.asList(TEST_NUM_ATT, TEST_STS_ATT, TEST_CAT_ATT);", "modifier": "private static final", "type": "List<IAttribute>", "declarator": "TEST_ATTRIBUTES = Arrays.asList(TEST_NUM_ATT, TEST_STS_ATT, TEST_CAT_ATT)", "var_name": "TEST_ATTRIBUTES"}], "file": "JAICore/jaicore-ml/src/test/java/ai/libs/jaicore/ml/core/dataset/serialization/ArffDatasetAdapterTest.java"}, "test_case": {"identifier": "testThatMissingCategoricalValuesAreNullInDenseInstances", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testThatMissingCategoricalValuesAreNullInDenseInstances() {\n\t\tString testInstanceLine = generateDenseInstanceString(TEST_ATTRIBUTES, TEST_INSTANCE_WITH_MISSING_CATEGORICAL_VAL);\n\t\tObject parsedInstance = ArffDatasetAdapter.parseInstance(false, TEST_ATTRIBUTES, CLASS_INDEX, testInstanceLine);\n\t\tassertTrue(\"The returned instance is not in the expected dense instance format\", parsedInstance instanceof List<?>);\n\t\tObject[] parsedDenseInstance = (Object[]) ((List<?>) parsedInstance).get(0);\n\t\tObject label = ((List<?>) parsedInstance).get(1);\n\t\tassertNull(label);\n\t\tassertNotNull(parsedDenseInstance[0]);\n\t}", "signature": "void testThatMissingCategoricalValuesAreNullInDenseInstances()", "full_signature": "@Test public void testThatMissingCategoricalValuesAreNullInDenseInstances()", "class_method_signature": "ArffDatasetAdapterTest.testThatMissingCategoricalValuesAreNullInDenseInstances()", "testcase": true, "constructor": false, "invocations": ["generateDenseInstanceString", "parseInstance", "assertTrue", "get", "get", "assertNull", "assertNotNull"]}, "focal_class": {"identifier": "ArffDatasetAdapter", "superclass": "", "interfaces": "implements IDatasetDeserializer<ILabeledDataset<ILabeledInstance>>", "fields": [{"original_string": "private static final Logger LOGGER = LoggerFactory.getLogger(ArffDatasetAdapter.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(ArffDatasetAdapter.class)", "var_name": "LOGGER"}, {"original_string": "public static final String V_MISSING_VALUE = \"?\";", "modifier": "public static final", "type": "String", "declarator": "V_MISSING_VALUE = \"?\"", "var_name": "V_MISSING_VALUE"}, {"original_string": "public static final String K_RELATION_NAME = \"relationName\";", "modifier": "public static final", "type": "String", "declarator": "K_RELATION_NAME = \"relationName\"", "var_name": "K_RELATION_NAME"}, {"original_string": "public static final String K_CLASS_INDEX = \"classIndex\";", "modifier": "public static final", "type": "String", "declarator": "K_CLASS_INDEX = \"classIndex\"", "var_name": "K_CLASS_INDEX"}, {"original_string": "private static final String F_CLASS_INDEX = \"C\";", "modifier": "private static final", "type": "String", "declarator": "F_CLASS_INDEX = \"C\"", "var_name": "F_CLASS_INDEX"}, {"original_string": "private static final String SEPARATOR_RELATIONNAME = \":\";", "modifier": "private static final", "type": "String", "declarator": "SEPARATOR_RELATIONNAME = \":\"", "var_name": "SEPARATOR_RELATIONNAME"}, {"original_string": "private static final Pattern REG_EXP_ATTRIBUTE_DESCRIPTION = Pattern.compile(\"('[^']*'|[^ ]+)\\\\s+(.*)\");", "modifier": "private static final", "type": "Pattern", "declarator": "REG_EXP_ATTRIBUTE_DESCRIPTION = Pattern.compile(\"('[^']*'|[^ ]+)\\\\s+(.*)\")", "var_name": "REG_EXP_ATTRIBUTE_DESCRIPTION"}, {"original_string": "private static final String SEPARATOR_DENSE_INSTANCE_VALUES = \",\";", "modifier": "private static final", "type": "String", "declarator": "SEPARATOR_DENSE_INSTANCE_VALUES = \",\"", "var_name": "SEPARATOR_DENSE_INSTANCE_VALUES"}, {"original_string": "private final boolean sparseMode;", "modifier": "private final", "type": "boolean", "declarator": "sparseMode", "var_name": "sparseMode"}, {"original_string": "private IDatasetDescriptor datasetDescriptor = null;", "modifier": "private", "type": "IDatasetDescriptor", "declarator": "datasetDescriptor = null", "var_name": "datasetDescriptor"}], "methods": [{"identifier": "ArffDatasetAdapter", "parameters": "(final boolean sparseMode, final IDatasetDescriptor datasetDescriptor)", "modifiers": "public", "return": "", "signature": " ArffDatasetAdapter(final boolean sparseMode, final IDatasetDescriptor datasetDescriptor)", "full_signature": "public  ArffDatasetAdapter(final boolean sparseMode, final IDatasetDescriptor datasetDescriptor)", "class_method_signature": "ArffDatasetAdapter.ArffDatasetAdapter(final boolean sparseMode, final IDatasetDescriptor datasetDescriptor)", "testcase": false, "constructor": true}, {"identifier": "ArffDatasetAdapter", "parameters": "(final boolean sparseMode)", "modifiers": "public", "return": "", "signature": " ArffDatasetAdapter(final boolean sparseMode)", "full_signature": "public  ArffDatasetAdapter(final boolean sparseMode)", "class_method_signature": "ArffDatasetAdapter.ArffDatasetAdapter(final boolean sparseMode)", "testcase": false, "constructor": true}, {"identifier": "ArffDatasetAdapter", "parameters": "()", "modifiers": "public", "return": "", "signature": " ArffDatasetAdapter()", "full_signature": "public  ArffDatasetAdapter()", "class_method_signature": "ArffDatasetAdapter.ArffDatasetAdapter()", "testcase": false, "constructor": true}, {"identifier": "getAttributeWithName", "parameters": "(final IFileDatasetDescriptor datasetFile, final String nameOfAttribute)", "modifiers": "public", "return": "IAttribute", "signature": "IAttribute getAttributeWithName(final IFileDatasetDescriptor datasetFile, final String nameOfAttribute)", "full_signature": "public IAttribute getAttributeWithName(final IFileDatasetDescriptor datasetFile, final String nameOfAttribute)", "class_method_signature": "ArffDatasetAdapter.getAttributeWithName(final IFileDatasetDescriptor datasetFile, final String nameOfAttribute)", "testcase": false, "constructor": false}, {"identifier": "deserializeDataset", "parameters": "(final IFileDatasetDescriptor datasetFile, final String nameOfClassAttribute)", "modifiers": "public", "return": "ILabeledDataset<ILabeledInstance>", "signature": "ILabeledDataset<ILabeledInstance> deserializeDataset(final IFileDatasetDescriptor datasetFile, final String nameOfClassAttribute)", "full_signature": "public ILabeledDataset<ILabeledInstance> deserializeDataset(final IFileDatasetDescriptor datasetFile, final String nameOfClassAttribute)", "class_method_signature": "ArffDatasetAdapter.deserializeDataset(final IFileDatasetDescriptor datasetFile, final String nameOfClassAttribute)", "testcase": false, "constructor": false}, {"identifier": "deserializeDataset", "parameters": "(final IFileDatasetDescriptor datasetDescriptor, final int columnWithClassIndex)", "modifiers": "public", "return": "ILabeledDataset<ILabeledInstance>", "signature": "ILabeledDataset<ILabeledInstance> deserializeDataset(final IFileDatasetDescriptor datasetDescriptor, final int columnWithClassIndex)", "full_signature": "public ILabeledDataset<ILabeledInstance> deserializeDataset(final IFileDatasetDescriptor datasetDescriptor, final int columnWithClassIndex)", "class_method_signature": "ArffDatasetAdapter.deserializeDataset(final IFileDatasetDescriptor datasetDescriptor, final int columnWithClassIndex)", "testcase": false, "constructor": false}, {"identifier": "deserializeDataset", "parameters": "(final IDatasetDescriptor datasetDescriptor)", "modifiers": "@Override public", "return": "ILabeledDataset<ILabeledInstance>", "signature": "ILabeledDataset<ILabeledInstance> deserializeDataset(final IDatasetDescriptor datasetDescriptor)", "full_signature": "@Override public ILabeledDataset<ILabeledInstance> deserializeDataset(final IDatasetDescriptor datasetDescriptor)", "class_method_signature": "ArffDatasetAdapter.deserializeDataset(final IDatasetDescriptor datasetDescriptor)", "testcase": false, "constructor": false}, {"identifier": "deserializeDataset", "parameters": "()", "modifiers": "public", "return": "ILabeledDataset<ILabeledInstance>", "signature": "ILabeledDataset<ILabeledInstance> deserializeDataset()", "full_signature": "public ILabeledDataset<ILabeledInstance> deserializeDataset()", "class_method_signature": "ArffDatasetAdapter.deserializeDataset()", "testcase": false, "constructor": false}, {"identifier": "parseRelation", "parameters": "(final String line)", "modifiers": "protected static", "return": "KVStore", "signature": "KVStore parseRelation(final String line)", "full_signature": "protected static KVStore parseRelation(final String line)", "class_method_signature": "ArffDatasetAdapter.parseRelation(final String line)", "testcase": false, "constructor": false}, {"identifier": "parseAttribute", "parameters": "(final String line)", "modifiers": "protected static", "return": "IAttribute", "signature": "IAttribute parseAttribute(final String line)", "full_signature": "protected static IAttribute parseAttribute(final String line)", "class_method_signature": "ArffDatasetAdapter.parseAttribute(final String line)", "testcase": false, "constructor": false}, {"identifier": "tryParseInt", "parameters": "(final String string)", "modifiers": "private static", "return": "boolean", "signature": "boolean tryParseInt(final String string)", "full_signature": "private static boolean tryParseInt(final String string)", "class_method_signature": "ArffDatasetAdapter.tryParseInt(final String string)", "testcase": false, "constructor": false}, {"identifier": "parseInstance", "parameters": "(final boolean sparseData, final List<IAttribute> attributes, final int targetIndex, final String line)", "modifiers": "protected static", "return": "Object", "signature": "Object parseInstance(final boolean sparseData, final List<IAttribute> attributes, final int targetIndex, final String line)", "full_signature": "protected static Object parseInstance(final boolean sparseData, final List<IAttribute> attributes, final int targetIndex, final String line)", "class_method_signature": "ArffDatasetAdapter.parseInstance(final boolean sparseData, final List<IAttribute> attributes, final int targetIndex, final String line)", "testcase": false, "constructor": false}, {"identifier": "createDataset", "parameters": "(final KVStore relationMetaData, final List<IAttribute> attributes)", "modifiers": "protected static", "return": "ILabeledDataset<ILabeledInstance>", "signature": "ILabeledDataset<ILabeledInstance> createDataset(final KVStore relationMetaData, final List<IAttribute> attributes)", "full_signature": "protected static ILabeledDataset<ILabeledInstance> createDataset(final KVStore relationMetaData, final List<IAttribute> attributes)", "class_method_signature": "ArffDatasetAdapter.createDataset(final KVStore relationMetaData, final List<IAttribute> attributes)", "testcase": false, "constructor": false}, {"identifier": "readDataset", "parameters": "(final File datasetFile)", "modifiers": "public static", "return": "ILabeledDataset<ILabeledInstance>", "signature": "ILabeledDataset<ILabeledInstance> readDataset(final File datasetFile)", "full_signature": "public static ILabeledDataset<ILabeledInstance> readDataset(final File datasetFile)", "class_method_signature": "ArffDatasetAdapter.readDataset(final File datasetFile)", "testcase": false, "constructor": false}, {"identifier": "readDataset", "parameters": "(final boolean sparseMode, final File datasetFile)", "modifiers": "public static", "return": "ILabeledDataset<ILabeledInstance>", "signature": "ILabeledDataset<ILabeledInstance> readDataset(final boolean sparseMode, final File datasetFile)", "full_signature": "public static ILabeledDataset<ILabeledInstance> readDataset(final boolean sparseMode, final File datasetFile)", "class_method_signature": "ArffDatasetAdapter.readDataset(final boolean sparseMode, final File datasetFile)", "testcase": false, "constructor": false}, {"identifier": "readDataset", "parameters": "(final boolean sparseMode, final File datasetFile, final int columnWithClassIndex)", "modifiers": "public static", "return": "ILabeledDataset<ILabeledInstance>", "signature": "ILabeledDataset<ILabeledInstance> readDataset(final boolean sparseMode, final File datasetFile, final int columnWithClassIndex)", "full_signature": "public static ILabeledDataset<ILabeledInstance> readDataset(final boolean sparseMode, final File datasetFile, final int columnWithClassIndex)", "class_method_signature": "ArffDatasetAdapter.readDataset(final boolean sparseMode, final File datasetFile, final int columnWithClassIndex)", "testcase": false, "constructor": false}, {"identifier": "serializeDataset", "parameters": "(final File arffOutputFile, final ILabeledDataset<? extends ILabeledInstance> data)", "modifiers": "public static", "return": "void", "signature": "void serializeDataset(final File arffOutputFile, final ILabeledDataset<? extends ILabeledInstance> data)", "full_signature": "public static void serializeDataset(final File arffOutputFile, final ILabeledDataset<? extends ILabeledInstance> data)", "class_method_signature": "ArffDatasetAdapter.serializeDataset(final File arffOutputFile, final ILabeledDataset<? extends ILabeledInstance> data)", "testcase": false, "constructor": false}, {"identifier": "serializeData", "parameters": "(final BufferedWriter bw, final ILabeledDataset<? extends ILabeledInstance> data)", "modifiers": "private static", "return": "void", "signature": "void serializeData(final BufferedWriter bw, final ILabeledDataset<? extends ILabeledInstance> data)", "full_signature": "private static void serializeData(final BufferedWriter bw, final ILabeledDataset<? extends ILabeledInstance> data)", "class_method_signature": "ArffDatasetAdapter.serializeData(final BufferedWriter bw, final ILabeledDataset<? extends ILabeledInstance> data)", "testcase": false, "constructor": false}, {"identifier": "serializeAttributeValue", "parameters": "(final IAttribute att, final Object value)", "modifiers": "private static", "return": "String", "signature": "String serializeAttributeValue(final IAttribute att, final Object value)", "full_signature": "private static String serializeAttributeValue(final IAttribute att, final Object value)", "class_method_signature": "ArffDatasetAdapter.serializeAttributeValue(final IAttribute att, final Object value)", "testcase": false, "constructor": false}, {"identifier": "serializeMetaData", "parameters": "(final BufferedWriter bw, final ILabeledDataset<? extends ILabeledInstance> data)", "modifiers": "private static", "return": "void", "signature": "void serializeMetaData(final BufferedWriter bw, final ILabeledDataset<? extends ILabeledInstance> data)", "full_signature": "private static void serializeMetaData(final BufferedWriter bw, final ILabeledDataset<? extends ILabeledInstance> data)", "class_method_signature": "ArffDatasetAdapter.serializeMetaData(final BufferedWriter bw, final ILabeledDataset<? extends ILabeledInstance> data)", "testcase": false, "constructor": false}, {"identifier": "serializeAttribute", "parameters": "(final IAttribute att)", "modifiers": "private static", "return": "String", "signature": "String serializeAttribute(final IAttribute att)", "full_signature": "private static String serializeAttribute(final IAttribute att)", "class_method_signature": "ArffDatasetAdapter.serializeAttribute(final IAttribute att)", "testcase": false, "constructor": false}], "file": "JAICore/jaicore-ml/src/main/java/ai/libs/jaicore/ml/core/dataset/serialization/ArffDatasetAdapter.java"}, "focal_method": {"identifier": "parseInstance", "parameters": "(final boolean sparseData, final List<IAttribute> attributes, final int targetIndex, final String line)", "modifiers": "protected static", "return": "Object", "body": "protected static Object parseInstance(final boolean sparseData, final List<IAttribute> attributes, final int targetIndex, final String line) {\n\t\tif (line.trim().startsWith(\"%\")) {\n\t\t\tthrow new IllegalArgumentException(\"Cannot create object for commented line!\");\n\t\t}\n\n\t\tboolean sparseMode = sparseData;\n\t\tString curLine = line;\n\t\tif (curLine.trim().startsWith(\"{\") && curLine.trim().endsWith(\"}\")) {\n\t\t\tcurLine = curLine.substring(1, curLine.length() - 1);\n\t\t\tif (curLine.trim().isEmpty()) { // the instance does not mention any explicit values => return an empty map.\n\t\t\t\treturn new HashMap<>();\n\t\t\t}\n\t\t}\n\n\t\tString[] lineSplit = curLine.split(\",\");\n\t\tif (!(lineSplit[0].startsWith(\"'\") && lineSplit[0].endsWith(\"'\") || lineSplit[0].startsWith(\"\\\"\") && lineSplit[0].endsWith(\"\\\"\")) && lineSplit[0].contains(\" \") && tryParseInt(lineSplit[0].split(\" \")[0])) {\n\t\t\tsparseMode = true;\n\t\t}\n\n\t\tif (!sparseMode) {\n\t\t\tif (lineSplit.length != attributes.size()) {\n\t\t\t\tthrow new IllegalArgumentException(\"Cannot parse instance as this is not a sparse instance but has less columns than there are attributes defined. Expected values: \" + attributes.size() + \". Actual number of values: \"\n\t\t\t\t\t\t+ lineSplit.length + \". Values: \" + Arrays.toString(lineSplit));\n\t\t\t}\n\t\t\tObject[] parsedDenseInstance = new Object[lineSplit.length - 1];\n\t\t\tObject target = null;\n\t\t\tint cI = 0;\n\t\t\tfor (int i = 0; i < lineSplit.length; i++) {\n\t\t\t\tfinal Object value;\n\t\t\t\tif (lineSplit[i].trim().equals(V_MISSING_VALUE)) {\n\t\t\t\t\tvalue = null;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = attributes.get(i).deserializeAttributeValue(lineSplit[i]);\n\t\t\t\t}\n\n\t\t\t\tif (i == targetIndex) {\n\t\t\t\t\ttarget = value;\n\t\t\t\t} else {\n\t\t\t\t\tparsedDenseInstance[cI++] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Arrays.asList(parsedDenseInstance, target);\n\t\t} else {\n\t\t\tMap<Integer, Object> parsedSparseInstance = new HashMap<>();\n\t\t\tfor (String sparseValue : lineSplit) {\n\t\t\t\tsparseValue = sparseValue.trim(); // remove leading or trailing white spaces.\n\t\t\t\tint indexOfFirstSpace = sparseValue.indexOf(' ');\n\t\t\t\tint indexOfAttribute = Integer.parseInt(sparseValue.substring(0, indexOfFirstSpace));\n\t\t\t\tif (indexOfAttribute > targetIndex) {\n\t\t\t\t\tindexOfAttribute--;\n\t\t\t\t}\n\t\t\t\tString attributeValue = sparseValue.substring(indexOfFirstSpace + 1);\n\t\t\t\tparsedSparseInstance.put(indexOfAttribute, attributes.get(indexOfAttribute).deserializeAttributeValue(attributeValue));\n\t\t\t}\n\t\t\treturn parsedSparseInstance;\n\t\t}\n\t}", "signature": "Object parseInstance(final boolean sparseData, final List<IAttribute> attributes, final int targetIndex, final String line)", "full_signature": "protected static Object parseInstance(final boolean sparseData, final List<IAttribute> attributes, final int targetIndex, final String line)", "class_method_signature": "ArffDatasetAdapter.parseInstance(final boolean sparseData, final List<IAttribute> attributes, final int targetIndex, final String line)", "testcase": false, "constructor": false, "invocations": ["startsWith", "trim", "startsWith", "trim", "endsWith", "trim", "substring", "length", "isEmpty", "trim", "split", "startsWith", "endsWith", "startsWith", "endsWith", "contains", "tryParseInt", "split", "size", "size", "toString", "equals", "trim", "deserializeAttributeValue", "get", "asList", "trim", "indexOf", "parseInt", "substring", "substring", "put", "deserializeAttributeValue", "get"]}, "repository": {"repo_id": 95635499, "url": "https://github.com/fmohr/AILibs", "language": "Java", "is_fork": false, "fork_count": 26, "stargazer_count": 25, "size": 155873, "license": "licensed"}}