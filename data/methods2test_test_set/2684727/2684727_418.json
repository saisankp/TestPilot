{"test_class": {"identifier": "SmartReceiptsAuthenticationProviderTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String TOKEN = \"token\";", "modifier": "private static final", "type": "String", "declarator": "TOKEN = \"token\"", "var_name": "TOKEN"}, {"original_string": "private static final String IDENTITY_ID = \"identityId\";", "modifier": "private static final", "type": "String", "declarator": "IDENTITY_ID = \"identityId\"", "var_name": "IDENTITY_ID"}, {"original_string": "SmartReceiptsAuthenticationProvider authenticationProvider;", "modifier": "", "type": "SmartReceiptsAuthenticationProvider", "declarator": "authenticationProvider", "var_name": "authenticationProvider"}, {"original_string": "@Mock\n    CognitoIdentityProvider cognitoIdentityProvider;", "modifier": "@Mock", "type": "CognitoIdentityProvider", "declarator": "cognitoIdentityProvider", "var_name": "cognitoIdentityProvider"}, {"original_string": "@Mock\n    Cognito cognitoToken;", "modifier": "@Mock", "type": "Cognito", "declarator": "cognitoToken", "var_name": "cognitoToken"}], "file": "aws/src/test/java/co/smartreceipts/aws/cognito/SmartReceiptsAuthenticationProviderTest.java"}, "test_case": {"identifier": "refresh", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void refresh() {\n        assertEquals(TOKEN, authenticationProvider.refresh());\n    }", "signature": "void refresh()", "full_signature": "@Test public void refresh()", "class_method_signature": "SmartReceiptsAuthenticationProviderTest.refresh()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "refresh"]}, "focal_class": {"identifier": "SmartReceiptsAuthenticationProvider", "superclass": "extends AWSAbstractCognitoDeveloperIdentityProvider", "interfaces": "", "fields": [{"original_string": "private final CognitoIdentityProvider cognitoIdentityProvider;", "modifier": "private final", "type": "CognitoIdentityProvider", "declarator": "cognitoIdentityProvider", "var_name": "cognitoIdentityProvider"}], "methods": [{"identifier": "SmartReceiptsAuthenticationProvider", "parameters": "(@NonNull CognitoIdentityProvider cognitoIdentityProvider, @NonNull Regions regions)", "modifiers": "public", "return": "", "signature": " SmartReceiptsAuthenticationProvider(@NonNull CognitoIdentityProvider cognitoIdentityProvider, @NonNull Regions regions)", "full_signature": "public  SmartReceiptsAuthenticationProvider(@NonNull CognitoIdentityProvider cognitoIdentityProvider, @NonNull Regions regions)", "class_method_signature": "SmartReceiptsAuthenticationProvider.SmartReceiptsAuthenticationProvider(@NonNull CognitoIdentityProvider cognitoIdentityProvider, @NonNull Regions regions)", "testcase": false, "constructor": true}, {"identifier": "getProviderName", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getProviderName()", "full_signature": "@Override public String getProviderName()", "class_method_signature": "SmartReceiptsAuthenticationProvider.getProviderName()", "testcase": false, "constructor": false}, {"identifier": "refresh", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String refresh()", "full_signature": "@Override public String refresh()", "class_method_signature": "SmartReceiptsAuthenticationProvider.refresh()", "testcase": false, "constructor": false}, {"identifier": "getIdentityId", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getIdentityId()", "full_signature": "@Override public String getIdentityId()", "class_method_signature": "SmartReceiptsAuthenticationProvider.getIdentityId()", "testcase": false, "constructor": false}], "file": "aws/src/main/java/co/smartreceipts/aws/cognito/SmartReceiptsAuthenticationProvider.java"}, "focal_method": {"identifier": "refresh", "parameters": "()", "modifiers": "@Override public", "return": "String", "body": "@Override\n    public String refresh() {\n        Logger.info(this, \"Refreshing Cognito Token\");\n        // Null out our token\n        setToken(null);\n\n        final Cognito cognito = cognitoIdentityProvider.synchronouslyRefreshCognitoToken();\n        Logger.debug(this, \"Refreshed cognito token is null? {}\", cognito == null);\n\n        final String identityId = cognito != null ? cognito.getIdentityId() : null;\n        final String token = cognito != null ? cognito.getCognitoToken() : null;\n\n        update(identityId, token);\n\n        return token;\n    }", "signature": "String refresh()", "full_signature": "@Override public String refresh()", "class_method_signature": "SmartReceiptsAuthenticationProvider.refresh()", "testcase": false, "constructor": false, "invocations": ["info", "setToken", "synchronouslyRefreshCognitoToken", "debug", "getIdentityId", "getCognitoToken", "update"]}, "repository": {"repo_id": 2684727, "url": "https://github.com/wbaumann/SmartReceiptsLibrary", "stars": 166, "created": "11/1/2011 12:32:39 AM +00:00", "updates": "2020-01-26T22:04:24+00:00", "fork": "False", "license": "licensed"}}