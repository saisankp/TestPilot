{"test_class": {"identifier": "MessageAttributeSettersTest", "superclass": "", "interfaces": "", "fields": [], "file": "CommonFeatures/Email/EmailActor/src/test/java/info/smart_tools/smartactors/email/email_actor/email/MessageAttributeSettersTest.java"}, "test_case": {"identifier": "Should_MessageAttributeSettersSetMessageSubjectAndSenderSign", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void Should_MessageAttributeSettersSetMessageSubjectAndSenderSign()\n            throws Exception {\n        IObject context = new DSObject(\"{\\\"senderAddress\\\":\\\"some@address.ru\\\"}\");\n        IObject attributes = new DSObject(\"{\\\"subject\\\":\\\"Subj.\\\",\\\"sign\\\":\\\"Author\\\"}\");\n        MimeMessage mimeMessage = mock(MimeMessage.class);\n        SMTPMessageAdaptor messageAdaptor = mock(SMTPMessageAdaptor.class);\n\n        when(messageAdaptor.getMimeMessage()).thenReturn(mimeMessage);\n\n        MessageAttributeSetters.applyAll(attributes, context, messageAdaptor);\n\n        verify(mimeMessage).setSubject(\"Subj.\");\n        verify(mimeMessage).setFrom(new InternetAddress(\"Author<some@address.ru>\"));\n    }", "signature": "void Should_MessageAttributeSettersSetMessageSubjectAndSenderSign()", "full_signature": "@Test public void Should_MessageAttributeSettersSetMessageSubjectAndSenderSign()", "class_method_signature": "MessageAttributeSettersTest.Should_MessageAttributeSettersSetMessageSubjectAndSenderSign()", "testcase": true, "constructor": false, "invocations": ["mock", "mock", "thenReturn", "when", "getMimeMessage", "applyAll", "setSubject", "verify", "setFrom", "verify"]}, "focal_class": {"identifier": "MessageAttributeSetters", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static Map<String, MessageAttributeSetter> settersMap = new HashMap<>();", "modifier": "private static", "type": "Map<String, MessageAttributeSetter>", "declarator": "settersMap = new HashMap<>()", "var_name": "settersMap"}, {"original_string": "private static Field senderAddress_Context_F;", "modifier": "private static", "type": "Field", "declarator": "senderAddress_Context_F", "var_name": "senderAddress_Context_F"}], "methods": [{"identifier": "applyAll", "parameters": "(final IObject attributes, final IObject context, final SMTPMessageAdaptor to)", "modifiers": "public static", "return": "void", "signature": "void applyAll(final IObject attributes, final IObject context, final SMTPMessageAdaptor to)", "full_signature": "public static void applyAll(final IObject attributes, final IObject context, final SMTPMessageAdaptor to)", "class_method_signature": "MessageAttributeSetters.applyAll(final IObject attributes, final IObject context, final SMTPMessageAdaptor to)", "testcase": false, "constructor": false}, {"identifier": "add", "parameters": "(final String name, final MessageAttributeSetter setter)", "modifiers": "public static", "return": "void", "signature": "void add(final String name, final MessageAttributeSetter setter)", "full_signature": "public static void add(final String name, final MessageAttributeSetter setter)", "class_method_signature": "MessageAttributeSetters.add(final String name, final MessageAttributeSetter setter)", "testcase": false, "constructor": false}], "file": "CommonFeatures/Email/EmailActor/src/main/java/info/smart_tools/smartactors/email/email_actor/email/MessageAttributeSetters.java"}, "focal_method": {"identifier": "applyAll", "parameters": "(final IObject attributes, final IObject context, final SMTPMessageAdaptor to)", "modifiers": "public static", "return": "void", "body": "public static void applyAll(final IObject attributes, final IObject context, final SMTPMessageAdaptor to)\n            throws AttributeSetterException {\n        Iterator<Map.Entry<IFieldName, Object>> iterator = attributes.iterator();\n\n        while (iterator.hasNext()) {\n            Map.Entry<IFieldName, Object> entry = iterator.next();\n            try {\n                settersMap.get(entry.getKey().toString()).setOn(to, context, entry.getValue());\n            } catch (NullPointerException e) {\n                throw new AttributeSetterException(\"Setter not found\", e);\n            } catch (MessagingException | ReadValueException | ChangeValueException e) {\n                throw new AttributeSetterException(\"Failed to set attribute\", e);\n            }\n        }\n    }", "signature": "void applyAll(final IObject attributes, final IObject context, final SMTPMessageAdaptor to)", "full_signature": "public static void applyAll(final IObject attributes, final IObject context, final SMTPMessageAdaptor to)", "class_method_signature": "MessageAttributeSetters.applyAll(final IObject attributes, final IObject context, final SMTPMessageAdaptor to)", "testcase": false, "constructor": false, "invocations": ["iterator", "hasNext", "next", "setOn", "get", "toString", "getKey", "getValue"]}, "repository": {"repo_id": 52972024, "url": "https://github.com/SmartTools/smartactors-core", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 17, "size": 58816, "license": "licensed"}}