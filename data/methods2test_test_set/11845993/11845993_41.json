{"test_class": {"identifier": "AlertTemplateProcessorTest", "superclass": "extends AbstractAlerterTest", "interfaces": "", "fields": [{"original_string": "private AlertTemplateProcessor alertTemplateProcessor;", "modifier": "private", "type": "AlertTemplateProcessor", "declarator": "alertTemplateProcessor", "var_name": "alertTemplateProcessor"}, {"original_string": "private Incident testIncident;", "modifier": "private", "type": "Incident", "declarator": "testIncident", "var_name": "testIncident"}], "file": "stagemonitor-alerting/src/test/java/org/stagemonitor/alerting/alerter/AlertTemplateProcessorTest.java"}, "test_case": {"identifier": "testProcessHtmlTemplate", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testProcessHtmlTemplate() throws Exception {\n\t\tassertEquals(String.format(\n\t\t\t\t\"<h3>Incident for check Test Timer</h3>\\n\" +\n\t\t\t\t\"First failure: %s<br>\\n\" +\n\t\t\t\t\"Old status: OK<br>\\n\" +\n\t\t\t\t\"New status: CRITICAL<br>\\n\" +\n\t\t\t\t\"Failing checks: 2<br>\\n\" +\n\t\t\t\t\"Hosts: testHost2<br>\\n\" +\n\t\t\t\t\"Instances: testInstance<br><br>\\n\" +\n\t\t\t\t\"\\n\" +\n\t\t\t\t\"<table>\\n\" +\n\t\t\t\t\"\\t<thead>\\n\" +\n\t\t\t\t\"\\t<tr>\\n\" +\n\t\t\t\t\"\\t\\t<th>Host</th>\\n\" +\n\t\t\t\t\"\\t\\t<th>Instance</th>\\n\" +\n\t\t\t\t\"\\t\\t<th>Status</th>\\n\" +\n\t\t\t\t\"\\t\\t<th>Description</th>\\n\" +\n\t\t\t\t\"\\t\\t<th>Current Value</th>\\n\" +\n\t\t\t\t\"\\t</tr>\\n\" +\n\t\t\t\t\"\\t</thead>\\n\" +\n\t\t\t\t\"\\t<tbody>\\n\" +\n\t\t\t\t\"\\t\\t\\t<tr>\\n\" +\n\t\t\t\t\"\\t\\t\\t\\t<td>testHost2</td>\\n\" +\n\t\t\t\t\"\\t\\t\\t\\t<td>testInstance</td>\\n\" +\n\t\t\t\t\"\\t\\t\\t\\t<td>CRITICAL</td>\\n\" +\n\t\t\t\t\"\\t\\t\\t\\t<td>test</td>\\n\" +\n\t\t\t\t\"\\t\\t\\t\\t<td>10</td>\\n\" +\n\t\t\t\t\"\\t\\t\\t</tr>\\n\" +\n\t\t\t\t\"\\t\\t\\t<tr>\\n\" +\n\t\t\t\t\"\\t\\t\\t\\t<td>testHost2</td>\\n\" +\n\t\t\t\t\"\\t\\t\\t\\t<td>testInstance</td>\\n\" +\n\t\t\t\t\"\\t\\t\\t\\t<td>ERROR</td>\\n\" +\n\t\t\t\t\"\\t\\t\\t\\t<td>test</td>\\n\" +\n\t\t\t\t\"\\t\\t\\t\\t<td>10</td>\\n\" +\n\t\t\t\t\"\\t\\t\\t</tr>\\n\" +\n\t\t\t\t\"\\t</tbody>\\n\" +\n\t\t\t\t\"</table>\\n\", toFreemarkerIsoLocal(testIncident.getFirstFailureAt())),\n\t\t\t\talertTemplateProcessor.processHtmlTemplate(testIncident));\n\n\t}", "signature": "void testProcessHtmlTemplate()", "full_signature": "@Test public void testProcessHtmlTemplate()", "class_method_signature": "AlertTemplateProcessorTest.testProcessHtmlTemplate()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "format", "toFreemarkerIsoLocal", "getFirstFailureAt", "processHtmlTemplate"]}, "focal_class": {"identifier": "AlertTemplateProcessor", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final AlertingPlugin alertingPlugin;", "modifier": "private final", "type": "AlertingPlugin", "declarator": "alertingPlugin", "var_name": "alertingPlugin"}, {"original_string": "private final Configuration cfg;", "modifier": "private final", "type": "Configuration", "declarator": "cfg", "var_name": "cfg"}], "methods": [{"identifier": "AlertTemplateProcessor", "parameters": "(AlertingPlugin alertingPlugin)", "modifiers": "public", "return": "", "signature": " AlertTemplateProcessor(AlertingPlugin alertingPlugin)", "full_signature": "public  AlertTemplateProcessor(AlertingPlugin alertingPlugin)", "class_method_signature": "AlertTemplateProcessor.AlertTemplateProcessor(AlertingPlugin alertingPlugin)", "testcase": false, "constructor": true}, {"identifier": "processHtmlTemplate", "parameters": "(Incident incident)", "modifiers": "public", "return": "String", "signature": "String processHtmlTemplate(Incident incident)", "full_signature": "public String processHtmlTemplate(Incident incident)", "class_method_signature": "AlertTemplateProcessor.processHtmlTemplate(Incident incident)", "testcase": false, "constructor": false}, {"identifier": "processPlainTextTemplate", "parameters": "(Incident incident)", "modifiers": "public", "return": "String", "signature": "String processPlainTextTemplate(Incident incident)", "full_signature": "public String processPlainTextTemplate(Incident incident)", "class_method_signature": "AlertTemplateProcessor.processPlainTextTemplate(Incident incident)", "testcase": false, "constructor": false}, {"identifier": "processShortDescriptionTemplate", "parameters": "(Incident incident)", "modifiers": "public", "return": "String", "signature": "String processShortDescriptionTemplate(Incident incident)", "full_signature": "public String processShortDescriptionTemplate(Incident incident)", "class_method_signature": "AlertTemplateProcessor.processShortDescriptionTemplate(Incident incident)", "testcase": false, "constructor": false}, {"identifier": "processTemplate", "parameters": "(String templateName, String templateString, Incident incident)", "modifiers": "private", "return": "String", "signature": "String processTemplate(String templateName, String templateString, Incident incident)", "full_signature": "private String processTemplate(String templateName, String templateString, Incident incident)", "class_method_signature": "AlertTemplateProcessor.processTemplate(String templateName, String templateString, Incident incident)", "testcase": false, "constructor": false}], "file": "stagemonitor-alerting/src/main/java/org/stagemonitor/alerting/alerter/AlertTemplateProcessor.java"}, "focal_method": {"identifier": "processHtmlTemplate", "parameters": "(Incident incident)", "modifiers": "public", "return": "String", "body": "public String processHtmlTemplate(Incident incident) {\n\t\treturn processTemplate(\"alertsHtml.ftl\", alertingPlugin.getHtmlAlertTemplate(), incident);\n\t}", "signature": "String processHtmlTemplate(Incident incident)", "full_signature": "public String processHtmlTemplate(Incident incident)", "class_method_signature": "AlertTemplateProcessor.processHtmlTemplate(Incident incident)", "testcase": false, "constructor": false, "invocations": ["processTemplate", "getHtmlAlertTemplate"]}, "repository": {"repo_id": 11845993, "url": "https://github.com/stagemonitor/stagemonitor", "language": "Java", "is_fork": false, "fork_count": 268, "stargazer_count": 1585, "size": 10342, "license": "licensed"}}