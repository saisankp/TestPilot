{"test_class": {"identifier": "ActiveTimeSeriesCounterTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String TEST_SG_PREFIX = \"root.sg_\";", "modifier": "private static final", "type": "String", "declarator": "TEST_SG_PREFIX = \"root.sg_\"", "var_name": "TEST_SG_PREFIX"}, {"original_string": "private static int testStorageGroupNum = 10;", "modifier": "private static", "type": "int", "declarator": "testStorageGroupNum = 10", "var_name": "testStorageGroupNum"}, {"original_string": "private static String[] storageGroups = new String[testStorageGroupNum];", "modifier": "private static", "type": "String[]", "declarator": "storageGroups = new String[testStorageGroupNum]", "var_name": "storageGroups"}, {"original_string": "private static int[] measurementNum = new int[testStorageGroupNum];", "modifier": "private static", "type": "int[]", "declarator": "measurementNum = new int[testStorageGroupNum]", "var_name": "measurementNum"}, {"original_string": "private static double totalSeriesNum = 0;", "modifier": "private static", "type": "double", "declarator": "totalSeriesNum = 0", "var_name": "totalSeriesNum"}], "file": "server/src/test/java/org/apache/iotdb/db/conf/adapter/ActiveTimeSeriesCounterTest.java"}, "test_case": {"identifier": "testInit", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testInit() throws Exception {\n    for (int i = 0; i < testStorageGroupNum; i++) {\n      assertEquals(0D, ActiveTimeSeriesCounter.getInstance().getActiveRatio(storageGroups[i]), 0.0);\n    }\n  }", "signature": "void testInit()", "full_signature": "@Test public void testInit()", "class_method_signature": "ActiveTimeSeriesCounterTest.testInit()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "getActiveRatio", "getInstance"]}, "focal_class": {"identifier": "ActiveTimeSeriesCounter", "superclass": "", "interfaces": "implements IActiveTimeSeriesCounter", "fields": [{"original_string": "private static final Logger LOGGER = LoggerFactory.getLogger(ActiveTimeSeriesCounter.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(ActiveTimeSeriesCounter.class)", "var_name": "LOGGER"}, {"original_string": "private static Map<String, HyperLogLog> storageGroupHllMap = new ConcurrentHashMap<>();", "modifier": "private static", "type": "Map<String, HyperLogLog>", "declarator": "storageGroupHllMap = new ConcurrentHashMap<>()", "var_name": "storageGroupHllMap"}, {"original_string": "private static Map<String, Double> activeRatioMap = new ConcurrentHashMap<>();", "modifier": "private static", "type": "Map<String, Double>", "declarator": "activeRatioMap = new ConcurrentHashMap<>()", "var_name": "activeRatioMap"}, {"original_string": "private static Map<String, Long> activeTimeSeriesNumMap = new ConcurrentHashMap<>();", "modifier": "private static", "type": "Map<String, Long>", "declarator": "activeTimeSeriesNumMap = new ConcurrentHashMap<>()", "var_name": "activeTimeSeriesNumMap"}, {"original_string": "static final int LOG2M = 13;", "modifier": "static final", "type": "int", "declarator": "LOG2M = 13", "var_name": "LOG2M"}, {"original_string": "private ReentrantReadWriteLock lock = new ReentrantReadWriteLock();", "modifier": "private", "type": "ReentrantReadWriteLock", "declarator": "lock = new ReentrantReadWriteLock()", "var_name": "lock"}], "methods": [{"identifier": "init", "parameters": "(String storageGroup)", "modifiers": "@Override public", "return": "void", "signature": "void init(String storageGroup)", "full_signature": "@Override public void init(String storageGroup)", "class_method_signature": "ActiveTimeSeriesCounter.init(String storageGroup)", "testcase": false, "constructor": false}, {"identifier": "offer", "parameters": "(String storageGroup, String device, String measurement)", "modifiers": "@Override public", "return": "void", "signature": "void offer(String storageGroup, String device, String measurement)", "full_signature": "@Override public void offer(String storageGroup, String device, String measurement)", "class_method_signature": "ActiveTimeSeriesCounter.offer(String storageGroup, String device, String measurement)", "testcase": false, "constructor": false}, {"identifier": "updateActiveRatio", "parameters": "(String storageGroup)", "modifiers": "@Override public", "return": "void", "signature": "void updateActiveRatio(String storageGroup)", "full_signature": "@Override public void updateActiveRatio(String storageGroup)", "class_method_signature": "ActiveTimeSeriesCounter.updateActiveRatio(String storageGroup)", "testcase": false, "constructor": false}, {"identifier": "getActiveRatio", "parameters": "(String storageGroup)", "modifiers": "@Override public", "return": "double", "signature": "double getActiveRatio(String storageGroup)", "full_signature": "@Override public double getActiveRatio(String storageGroup)", "class_method_signature": "ActiveTimeSeriesCounter.getActiveRatio(String storageGroup)", "testcase": false, "constructor": false}, {"identifier": "delete", "parameters": "(String storageGroup)", "modifiers": "@Override public", "return": "void", "signature": "void delete(String storageGroup)", "full_signature": "@Override public void delete(String storageGroup)", "class_method_signature": "ActiveTimeSeriesCounter.delete(String storageGroup)", "testcase": false, "constructor": false}, {"identifier": "getInstance", "parameters": "()", "modifiers": "public static", "return": "ActiveTimeSeriesCounter", "signature": "ActiveTimeSeriesCounter getInstance()", "full_signature": "public static ActiveTimeSeriesCounter getInstance()", "class_method_signature": "ActiveTimeSeriesCounter.getInstance()", "testcase": false, "constructor": false}, {"identifier": "clear", "parameters": "()", "modifiers": "public static", "return": "void", "signature": "void clear()", "full_signature": "public static void clear()", "class_method_signature": "ActiveTimeSeriesCounter.clear()", "testcase": false, "constructor": false}], "file": "server/src/main/java/org/apache/iotdb/db/conf/adapter/ActiveTimeSeriesCounter.java"}, "focal_method": {"identifier": "init", "parameters": "(String storageGroup)", "modifiers": "@Override public", "return": "void", "body": "@Override\n  public void init(String storageGroup) {\n    storageGroupHllMap.put(storageGroup, new HyperLogLog(LOG2M));\n    activeRatioMap.put(storageGroup, 0D);\n    activeTimeSeriesNumMap.put(storageGroup, 0L);\n  }", "signature": "void init(String storageGroup)", "full_signature": "@Override public void init(String storageGroup)", "class_method_signature": "ActiveTimeSeriesCounter.init(String storageGroup)", "testcase": false, "constructor": false, "invocations": ["put", "put", "put"]}, "repository": {"repo_id": 158975124, "url": "https://github.com/apache/incubator-iotdb", "stars": 449, "created": "11/24/2018 9:29:17 PM +00:00", "updates": "2020-01-21T08:10:15+00:00", "fork": "False", "license": "licensed"}}