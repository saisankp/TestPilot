{"test_class": {"identifier": "SequoiaTest", "superclass": "extends ResourceTest", "interfaces": "", "fields": [{"original_string": "private RepositoryHandler repositoryHandler;", "modifier": "private", "type": "RepositoryHandler", "declarator": "repositoryHandler", "var_name": "repositoryHandler"}], "file": "server/src/test/java/org/axway/grapes/server/webapp/resources/SequoiaTest.java"}, "test_case": {"identifier": "getModuleGraph", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getModuleGraph() throws UnknownHostException {\n        when(repositoryHandler.getModule(anyString())).thenReturn(new DbModule());\n        WebResource resource = client().resource(\"/\" + ServerAPI.SEQUOIA_RESOURCE + \"/graph/module/1\");\n        ClientResponse response = resource.accept(MediaType.APPLICATION_JSON).get(ClientResponse.class);\n        assertNotNull(response);\n        assertEquals(HttpStatus.OK_200, response.getStatus());\n\n        AbstractGraph graph = response.getEntity(ModuleGraph.class);\n        assertNotNull(graph);\n    }", "signature": "void getModuleGraph()", "full_signature": "@Test public void getModuleGraph()", "class_method_signature": "SequoiaTest.getModuleGraph()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "getModule", "anyString", "resource", "client", "get", "accept", "assertNotNull", "assertEquals", "getStatus", "getEntity", "assertNotNull"]}, "focal_class": {"identifier": "Sequoia", "superclass": "extends AbstractResource", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(Sequoia.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(Sequoia.class)", "var_name": "LOG"}], "methods": [{"identifier": "Sequoia", "parameters": "(final RepositoryHandler repoHandler, final GrapesServerConfig dmConfig)", "modifiers": "public", "return": "", "signature": " Sequoia(final RepositoryHandler repoHandler, final GrapesServerConfig dmConfig)", "full_signature": "public  Sequoia(final RepositoryHandler repoHandler, final GrapesServerConfig dmConfig)", "class_method_signature": "Sequoia.Sequoia(final RepositoryHandler repoHandler, final GrapesServerConfig dmConfig)", "testcase": false, "constructor": true}, {"identifier": "getModuleGraph", "parameters": "(@PathParam(\"name\") final String moduleName,\n                                   @PathParam(\"version\") final String moduleVersion,\n                                   @Context final UriInfo uriInfo)", "modifiers": "@GET @Produces(MediaType.APPLICATION_JSON) @Path(\"/graph/{name}/{version}\") public", "return": "Response", "signature": "Response getModuleGraph(@PathParam(\"name\") final String moduleName,\n                                   @PathParam(\"version\") final String moduleVersion,\n                                   @Context final UriInfo uriInfo)", "full_signature": "@GET @Produces(MediaType.APPLICATION_JSON) @Path(\"/graph/{name}/{version}\") public Response getModuleGraph(@PathParam(\"name\") final String moduleName,\n                                   @PathParam(\"version\") final String moduleVersion,\n                                   @Context final UriInfo uriInfo)", "class_method_signature": "Sequoia.getModuleGraph(@PathParam(\"name\") final String moduleName,\n                                   @PathParam(\"version\") final String moduleVersion,\n                                   @Context final UriInfo uriInfo)", "testcase": false, "constructor": false}, {"identifier": "getModuleTree", "parameters": "(@PathParam(\"name\") final String moduleName,\n                                   @PathParam(\"version\") final String moduleVersion,\n                                   @Context final UriInfo uriInfo)", "modifiers": "@GET @Produces(MediaType.APPLICATION_JSON) @Path(\"/tree/{name}/{version}\") public", "return": "Response", "signature": "Response getModuleTree(@PathParam(\"name\") final String moduleName,\n                                   @PathParam(\"version\") final String moduleVersion,\n                                   @Context final UriInfo uriInfo)", "full_signature": "@GET @Produces(MediaType.APPLICATION_JSON) @Path(\"/tree/{name}/{version}\") public Response getModuleTree(@PathParam(\"name\") final String moduleName,\n                                   @PathParam(\"version\") final String moduleVersion,\n                                   @Context final UriInfo uriInfo)", "class_method_signature": "Sequoia.getModuleTree(@PathParam(\"name\") final String moduleName,\n                                   @PathParam(\"version\") final String moduleVersion,\n                                   @Context final UriInfo uriInfo)", "testcase": false, "constructor": false}], "file": "server/src/main/java/org/axway/grapes/server/webapp/resources/Sequoia.java"}, "focal_method": {"identifier": "getModuleGraph", "parameters": "(@PathParam(\"name\") final String moduleName,\n                                   @PathParam(\"version\") final String moduleVersion,\n                                   @Context final UriInfo uriInfo)", "modifiers": "@GET @Produces(MediaType.APPLICATION_JSON) @Path(\"/graph/{name}/{version}\") public", "return": "Response", "body": "@GET\n    @Produces(MediaType.APPLICATION_JSON)\n    @Path(\"/graph/{name}/{version}\")\n    public Response getModuleGraph(@PathParam(\"name\") final String moduleName,\n                                   @PathParam(\"version\") final String moduleVersion,\n                                   @Context final UriInfo uriInfo){\n\n        LOG.info(\"Dependency Checker got a get module graph export request.\");\n\n        if(moduleName == null || moduleVersion == null){\n            return Response.serverError().status(HttpStatus.NOT_ACCEPTABLE_406).build();\n        }\n\n        final FiltersHolder filters = new FiltersHolder();\n        filters.init(uriInfo.getQueryParameters());\n\n        final String moduleId = DbModule.generateID(moduleName, moduleVersion);\n        final AbstractGraph moduleGraph = getGraphsHandler(filters).getModuleGraph(moduleId);\n\n        return Response.ok(moduleGraph).build();\n    }", "signature": "Response getModuleGraph(@PathParam(\"name\") final String moduleName,\n                                   @PathParam(\"version\") final String moduleVersion,\n                                   @Context final UriInfo uriInfo)", "full_signature": "@GET @Produces(MediaType.APPLICATION_JSON) @Path(\"/graph/{name}/{version}\") public Response getModuleGraph(@PathParam(\"name\") final String moduleName,\n                                   @PathParam(\"version\") final String moduleVersion,\n                                   @Context final UriInfo uriInfo)", "class_method_signature": "Sequoia.getModuleGraph(@PathParam(\"name\") final String moduleName,\n                                   @PathParam(\"version\") final String moduleVersion,\n                                   @Context final UriInfo uriInfo)", "testcase": false, "constructor": false, "invocations": ["info", "build", "status", "serverError", "init", "getQueryParameters", "generateID", "getModuleGraph", "getGraphsHandler", "build", "ok"]}, "repository": {"repo_id": 14858974, "url": "https://github.com/Axway/Grapes", "language": "Java", "is_fork": false, "fork_count": 9, "stargazer_count": 8, "size": 3620, "license": "licensed"}}