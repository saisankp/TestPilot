{"test_class": {"identifier": "PythonExecutionCachedEngineTest", "superclass": "extends AbsExecutionCachedEngineTest", "interfaces": "", "fields": [{"original_string": "@Autowired\n    private PythonExecutionEngine pythonExecutionEngine;", "modifier": "@Autowired\n    private", "type": "PythonExecutionEngine", "declarator": "pythonExecutionEngine", "var_name": "pythonExecutionEngine"}], "file": "runtime-management/runtime-management-impl/src/test/java/io/cloudslang/runtime/impl/python/PythonExecutionCachedEngineTest.java"}, "test_case": {"identifier": "testPythonExecutorReleasedAfterException", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testPythonExecutorReleasedAfterException() {\n        final String script = \"\";\n        final Map<String, Serializable> args = new HashMap<>();\n        final PythonExecutor pythonExecutor = mock(PythonExecutor.class);\n        when(pythonExecutor.exec(script, args)).thenThrow(new IllegalArgumentException(\"\"));\n        PythonExecutionCachedEngine engine = new PythonExecutionCachedEngine() {\n            public PythonExecutor allocateExecutor(Set<String> dependencies) {\n                return pythonExecutor;\n            }\n        };\n        try {\n            engine.exec(Collections.<String>emptySet(),script, args);\n        } catch (Throwable t) {\n            assertTrue(t instanceof IllegalArgumentException);\n        }\n        verify(pythonExecutor).release();\n    }", "signature": "void testPythonExecutorReleasedAfterException()", "full_signature": "@Test public void testPythonExecutorReleasedAfterException()", "class_method_signature": "PythonExecutionCachedEngineTest.testPythonExecutorReleasedAfterException()", "testcase": true, "constructor": false, "invocations": ["mock", "thenThrow", "when", "exec", "exec", "emptySet", "assertTrue", "release", "verify"]}, "focal_class": {"identifier": "PythonExecutionCachedEngine", "superclass": "extends ExecutionCachedEngine<PythonExecutor>", "interfaces": "implements PythonExecutionEngine", "fields": [{"original_string": "@Autowired\n    private DependencyService dependencyService;", "modifier": "@Autowired\n    private", "type": "DependencyService", "declarator": "dependencyService", "var_name": "dependencyService"}, {"original_string": "@Value(\"#{systemProperties['\" + PythonExecutionConfigurationConsts.PYTHON_EXECUTOR_CACHE_SIZE + \"'] != null ? systemProperties['\" + PythonExecutionConfigurationConsts.PYTHON_EXECUTOR_CACHE_SIZE + \"'] : \" + PythonExecutionConfigurationConsts.PYTHON_EXECUTOR_CACHE_DEFAULT_SIZE + \"}\")\n    private int cacheSize;", "modifier": "@Value(\"#{systemProperties['\" + PythonExecutionConfigurationConsts.PYTHON_EXECUTOR_CACHE_SIZE + \"'] != null ? systemProperties['\" + PythonExecutionConfigurationConsts.PYTHON_EXECUTOR_CACHE_SIZE + \"'] : \" + PythonExecutionConfigurationConsts.PYTHON_EXECUTOR_CACHE_DEFAULT_SIZE + \"}\")\n    private", "type": "int", "declarator": "cacheSize", "var_name": "cacheSize"}], "methods": [{"identifier": "exec", "parameters": "(Set<String> dependencies, String script, Map<String, Serializable> vars)", "modifiers": "@Override public", "return": "PythonExecutionResult", "signature": "PythonExecutionResult exec(Set<String> dependencies, String script, Map<String, Serializable> vars)", "full_signature": "@Override public PythonExecutionResult exec(Set<String> dependencies, String script, Map<String, Serializable> vars)", "class_method_signature": "PythonExecutionCachedEngine.exec(Set<String> dependencies, String script, Map<String, Serializable> vars)", "testcase": false, "constructor": false}, {"identifier": "eval", "parameters": "(String prepareEnvironmentScript, String script, Map<String, Serializable> vars)", "modifiers": "@Override public", "return": "PythonEvaluationResult", "signature": "PythonEvaluationResult eval(String prepareEnvironmentScript, String script, Map<String, Serializable> vars)", "full_signature": "@Override public PythonEvaluationResult eval(String prepareEnvironmentScript, String script, Map<String, Serializable> vars)", "class_method_signature": "PythonExecutionCachedEngine.eval(String prepareEnvironmentScript, String script, Map<String, Serializable> vars)", "testcase": false, "constructor": false}, {"identifier": "getDependencyService", "parameters": "()", "modifiers": "@Override protected", "return": "DependencyService", "signature": "DependencyService getDependencyService()", "full_signature": "@Override protected DependencyService getDependencyService()", "class_method_signature": "PythonExecutionCachedEngine.getDependencyService()", "testcase": false, "constructor": false}, {"identifier": "getCacheSize", "parameters": "()", "modifiers": "@Override protected", "return": "int", "signature": "int getCacheSize()", "full_signature": "@Override protected int getCacheSize()", "class_method_signature": "PythonExecutionCachedEngine.getCacheSize()", "testcase": false, "constructor": false}, {"identifier": "createNewExecutor", "parameters": "(Set<String> filePaths)", "modifiers": "@Override protected", "return": "PythonExecutor", "signature": "PythonExecutor createNewExecutor(Set<String> filePaths)", "full_signature": "@Override protected PythonExecutor createNewExecutor(Set<String> filePaths)", "class_method_signature": "PythonExecutionCachedEngine.createNewExecutor(Set<String> filePaths)", "testcase": false, "constructor": false}], "file": "runtime-management/runtime-management-impl/src/main/java/io/cloudslang/runtime/impl/python/PythonExecutionCachedEngine.java"}, "focal_method": {"identifier": "exec", "parameters": "(Set<String> dependencies, String script, Map<String, Serializable> vars)", "modifiers": "@Override public", "return": "PythonExecutionResult", "body": "@Override\n    public PythonExecutionResult exec(Set<String> dependencies, String script, Map<String, Serializable> vars) {\n        PythonExecutor executor = allocateExecutor(dependencies);\n        try {\n            return executor.exec(script, vars);\n        } finally {\n            releaseExecutor(executor);\n        }\n    }", "signature": "PythonExecutionResult exec(Set<String> dependencies, String script, Map<String, Serializable> vars)", "full_signature": "@Override public PythonExecutionResult exec(Set<String> dependencies, String script, Map<String, Serializable> vars)", "class_method_signature": "PythonExecutionCachedEngine.exec(Set<String> dependencies, String script, Map<String, Serializable> vars)", "testcase": false, "constructor": false, "invocations": ["allocateExecutor", "exec", "releaseExecutor"]}, "repository": {"repo_id": 28394156, "url": "https://github.com/CloudSlang/score", "stars": 76, "created": "12/23/2014 11:19:26 AM +00:00", "updates": "2020-01-27T14:36:32+00:00", "fork": "False", "license": "licensed"}}