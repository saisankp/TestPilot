{"test_class": {"identifier": "CliServerRouterTest", "superclass": "", "interfaces": "", "fields": [], "file": "rawhttp-cli/src/test/java/rawhttp/cli/CliServerRouterTest.java"}, "test_case": {"identifier": "canTellIfFileIsModifiedSinceDate", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void canTellIfFileIsModifiedSinceDate() {\n        assertFalse(CliServerRouter.isModified(0L, \"Sat, 29 Oct 1994 19:43:31 GMT\"));\n\n        assertTrue(CliServerRouter.isModified(\n                Instant.parse(\"2007-12-03T10:15:30.00Z\").toEpochMilli(),\n                \"Sat, 29 Oct 1994 19:43:31 GMT\"));\n\n        assertFalse(CliServerRouter.isModified(\n                Instant.parse(\"1994-10-29T19:43:31.00Z\").toEpochMilli(),\n                \"Sat, 29 Oct 1994 19:43:31 GMT\"));\n\n        assertTrue(CliServerRouter.isModified(\n                Instant.parse(\"1994-10-29T19:43:31.01Z\").toEpochMilli(),\n                \"Sat, 29 Oct 1994 19:43:31 GMT\"));\n    }", "signature": "void canTellIfFileIsModifiedSinceDate()", "full_signature": "@Test public void canTellIfFileIsModifiedSinceDate()", "class_method_signature": "CliServerRouterTest.canTellIfFileIsModifiedSinceDate()", "testcase": true, "constructor": false, "invocations": ["assertFalse", "isModified", "assertTrue", "isModified", "toEpochMilli", "parse", "assertFalse", "isModified", "toEpochMilli", "parse", "assertTrue", "isModified", "toEpochMilli", "parse"]}, "focal_class": {"identifier": "CliServerRouter", "superclass": "", "interfaces": "implements Router", "fields": [{"original_string": "static final Map<String, String> mimeByFileExtension;", "modifier": "static final", "type": "Map<String, String>", "declarator": "mimeByFileExtension", "var_name": "mimeByFileExtension"}, {"original_string": "public static final String DIR_BACK_PATTERN = Pattern.quote(\"../\");", "modifier": "public static final", "type": "String", "declarator": "DIR_BACK_PATTERN = Pattern.quote(\"../\")", "var_name": "DIR_BACK_PATTERN"}, {"original_string": "private final FileLocator fileLocator;", "modifier": "private final", "type": "FileLocator", "declarator": "fileLocator", "var_name": "fileLocator"}, {"original_string": "private final PathReader pathReader;", "modifier": "private final", "type": "PathReader", "declarator": "pathReader", "var_name": "pathReader"}], "methods": [{"identifier": "CliServerRouter", "parameters": "(File rootDir, String rootPath)", "modifiers": "", "return": "", "signature": " CliServerRouter(File rootDir, String rootPath)", "full_signature": "  CliServerRouter(File rootDir, String rootPath)", "class_method_signature": "CliServerRouter.CliServerRouter(File rootDir, String rootPath)", "testcase": false, "constructor": true}, {"identifier": "CliServerRouter", "parameters": "(File rootDir, String rootPath, Properties mediaTypes)", "modifiers": "", "return": "", "signature": " CliServerRouter(File rootDir, String rootPath, Properties mediaTypes)", "full_signature": "  CliServerRouter(File rootDir, String rootPath, Properties mediaTypes)", "class_method_signature": "CliServerRouter.CliServerRouter(File rootDir, String rootPath, Properties mediaTypes)", "testcase": false, "constructor": true}, {"identifier": "CliServerRouter", "parameters": "(File rootDir, String rootPath, Map<String, String> mimeMapping)", "modifiers": "private", "return": "", "signature": " CliServerRouter(File rootDir, String rootPath, Map<String, String> mimeMapping)", "full_signature": "private  CliServerRouter(File rootDir, String rootPath, Map<String, String> mimeMapping)", "class_method_signature": "CliServerRouter.CliServerRouter(File rootDir, String rootPath, Map<String, String> mimeMapping)", "testcase": false, "constructor": true}, {"identifier": "convertToMap", "parameters": "(Properties mediaTypes)", "modifiers": "private static", "return": "Map<String, String>", "signature": "Map<String, String> convertToMap(Properties mediaTypes)", "full_signature": "private static Map<String, String> convertToMap(Properties mediaTypes)", "class_method_signature": "CliServerRouter.convertToMap(Properties mediaTypes)", "testcase": false, "constructor": false}, {"identifier": "route", "parameters": "(RawHttpRequest request)", "modifiers": "@Override public", "return": "Optional<RawHttpResponse<?>>", "signature": "Optional<RawHttpResponse<?>> route(RawHttpRequest request)", "full_signature": "@Override public Optional<RawHttpResponse<?>> route(RawHttpRequest request)", "class_method_signature": "CliServerRouter.route(RawHttpRequest request)", "testcase": false, "constructor": false}, {"identifier": "serveFile", "parameters": "(RawHttpRequest request, FileResult fileResult)", "modifiers": "private", "return": "RawHttpResponse<Void>", "signature": "RawHttpResponse<Void> serveFile(RawHttpRequest request, FileResult fileResult)", "full_signature": "private RawHttpResponse<Void> serveFile(RawHttpRequest request, FileResult fileResult)", "class_method_signature": "CliServerRouter.serveFile(RawHttpRequest request, FileResult fileResult)", "testcase": false, "constructor": false}, {"identifier": "isModified", "parameters": "(long fileLastModified, String since)", "modifiers": "static", "return": "boolean", "signature": "boolean isModified(long fileLastModified, String since)", "full_signature": "static boolean isModified(long fileLastModified, String since)", "class_method_signature": "CliServerRouter.isModified(long fileLastModified, String since)", "testcase": false, "constructor": false}], "file": "rawhttp-cli/src/main/java/rawhttp/cli/CliServerRouter.java"}, "focal_method": {"identifier": "isModified", "parameters": "(long fileLastModified, String since)", "modifiers": "static", "return": "boolean", "body": "static boolean isModified(long fileLastModified, String since) {\n        ZonedDateTime sinceDate;\n        try {\n            sinceDate = ZonedDateTime.from(DateTimeFormatter.RFC_1123_DATE_TIME.parse(since));\n        } catch (Exception e) {\n            return true;\n        }\n        return fileLastModified > sinceDate.toInstant().toEpochMilli();\n    }", "signature": "boolean isModified(long fileLastModified, String since)", "full_signature": "static boolean isModified(long fileLastModified, String since)", "class_method_signature": "CliServerRouter.isModified(long fileLastModified, String since)", "testcase": false, "constructor": false, "invocations": ["from", "parse", "toEpochMilli", "toInstant"]}, "repository": {"repo_id": 112115759, "url": "https://github.com/renatoathaydes/rawhttp", "stars": 63, "created": "11/26/2017 8:52:33 PM +00:00", "updates": "2020-01-18T11:12:00+00:00", "fork": "False", "license": "licensed"}}