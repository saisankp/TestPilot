{"test_class": {"identifier": "DefaultCreateOrUpdateBuilderTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private DefaultCreateOrUpdateBuilder<Etl1t> builder;", "modifier": "private", "type": "DefaultCreateOrUpdateBuilder<Etl1t>", "declarator": "builder", "var_name": "builder"}], "file": "link-move/src/test/java/com/nhl/link/move/runtime/task/createorupdate/DefaultCreateOrUpdateBuilderTest.java"}, "test_case": {"identifier": "testCreateListenersBuilder", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testCreateListenersBuilder() {\n\n        ListenersBuilder listenersBuilder = builder.createListenersBuilder();\n\n        L1 l1 = new L1();\n        L2 l2 = new L2();\n        L3 l3 = new L3();\n\n        listenersBuilder.addListener(l1);\n        listenersBuilder.addListener(l2);\n        listenersBuilder.addListener(l3);\n\n        Map<Class<? extends Annotation>, List<StageListener>> listeners = listenersBuilder.getListeners();\n\n        assertNotNull(listeners.get(AfterSourcesMapped.class));\n        assertNotNull(listeners.get(AfterSourceRowsConverted.class));\n        assertNotNull(listeners.get(AfterTargetsMatched.class));\n        assertNotNull(listeners.get(AfterTargetsMapped.class));\n        assertNotNull(listeners.get(AfterTargetsMerged.class));\n        assertNotNull(listeners.get(AfterTargetsCommitted.class));\n\n        assertEquals(1, listeners.get(AfterSourcesMapped.class).size());\n        assertEquals(1, listeners.get(AfterSourceRowsConverted.class).size());\n        assertEquals(1, listeners.get(AfterTargetsMatched.class).size());\n        assertEquals(2, listeners.get(AfterTargetsMapped.class).size());\n        assertEquals(1, listeners.get(AfterTargetsMerged.class).size());\n        assertEquals(1, listeners.get(AfterTargetsCommitted.class).size());\n    }", "signature": "void testCreateListenersBuilder()", "full_signature": "@Test public void testCreateListenersBuilder()", "class_method_signature": "DefaultCreateOrUpdateBuilderTest.testCreateListenersBuilder()", "testcase": true, "constructor": false, "invocations": ["createListenersBuilder", "addListener", "addListener", "addListener", "getListeners", "assertNotNull", "get", "assertNotNull", "get", "assertNotNull", "get", "assertNotNull", "get", "assertNotNull", "get", "assertNotNull", "get", "assertEquals", "size", "get", "assertEquals", "size", "get", "assertEquals", "size", "get", "assertEquals", "size", "get", "assertEquals", "size", "get", "assertEquals", "size", "get"]}, "focal_class": {"identifier": "DefaultCreateOrUpdateBuilder", "superclass": "extends BaseTaskBuilder", "interfaces": "implements CreateOrUpdateBuilder<T>", "fields": [{"original_string": "private final Class<T> type;", "modifier": "private final", "type": "Class<T>", "declarator": "type", "var_name": "type"}, {"original_string": "private final CreateOrUpdateTargetMerger<T> merger;", "modifier": "private final", "type": "CreateOrUpdateTargetMerger<T>", "declarator": "merger", "var_name": "merger"}, {"original_string": "private final IExtractorService extractorService;", "modifier": "private final", "type": "IExtractorService", "declarator": "extractorService", "var_name": "extractorService"}, {"original_string": "private final ITargetCayenneService targetCayenneService;", "modifier": "private final", "type": "ITargetCayenneService", "declarator": "targetCayenneService", "var_name": "targetCayenneService"}, {"original_string": "private final ITokenManager tokenManager;", "modifier": "private final", "type": "ITokenManager", "declarator": "tokenManager", "var_name": "tokenManager"}, {"original_string": "private final RowConverter rowConverter;", "modifier": "private final", "type": "RowConverter", "declarator": "rowConverter", "var_name": "rowConverter"}, {"original_string": "private final MapperBuilder mapperBuilder;", "modifier": "private final", "type": "MapperBuilder", "declarator": "mapperBuilder", "var_name": "mapperBuilder"}, {"original_string": "private Mapper mapper;", "modifier": "private", "type": "Mapper", "declarator": "mapper", "var_name": "mapper"}, {"original_string": "private final FkResolver fkResolver;", "modifier": "private final", "type": "FkResolver", "declarator": "fkResolver", "var_name": "fkResolver"}, {"original_string": "private final ListenersBuilder stageListenersBuilder;", "modifier": "private final", "type": "ListenersBuilder", "declarator": "stageListenersBuilder", "var_name": "stageListenersBuilder"}, {"original_string": "private ExtractorName extractorName;", "modifier": "private", "type": "ExtractorName", "declarator": "extractorName", "var_name": "extractorName"}], "methods": [{"identifier": "DefaultCreateOrUpdateBuilder", "parameters": "(\n            Class<T> type,\n            CreateOrUpdateTargetMerger<T> merger,\n            FkResolver fkResolver,\n            RowConverter rowConverter,\n            ITargetCayenneService targetCayenneService,\n            IExtractorService extractorService,\n            ITokenManager tokenManager,\n            MapperBuilder mapperBuilder)", "modifiers": "public", "return": "", "signature": " DefaultCreateOrUpdateBuilder(\n            Class<T> type,\n            CreateOrUpdateTargetMerger<T> merger,\n            FkResolver fkResolver,\n            RowConverter rowConverter,\n            ITargetCayenneService targetCayenneService,\n            IExtractorService extractorService,\n            ITokenManager tokenManager,\n            MapperBuilder mapperBuilder)", "full_signature": "public  DefaultCreateOrUpdateBuilder(\n            Class<T> type,\n            CreateOrUpdateTargetMerger<T> merger,\n            FkResolver fkResolver,\n            RowConverter rowConverter,\n            ITargetCayenneService targetCayenneService,\n            IExtractorService extractorService,\n            ITokenManager tokenManager,\n            MapperBuilder mapperBuilder)", "class_method_signature": "DefaultCreateOrUpdateBuilder.DefaultCreateOrUpdateBuilder(\n            Class<T> type,\n            CreateOrUpdateTargetMerger<T> merger,\n            FkResolver fkResolver,\n            RowConverter rowConverter,\n            ITargetCayenneService targetCayenneService,\n            IExtractorService extractorService,\n            ITokenManager tokenManager,\n            MapperBuilder mapperBuilder)", "testcase": false, "constructor": true}, {"identifier": "createListenersBuilder", "parameters": "()", "modifiers": "", "return": "ListenersBuilder", "signature": "ListenersBuilder createListenersBuilder()", "full_signature": " ListenersBuilder createListenersBuilder()", "class_method_signature": "DefaultCreateOrUpdateBuilder.createListenersBuilder()", "testcase": false, "constructor": false}, {"identifier": "sourceExtractor", "parameters": "(String location, String name)", "modifiers": "@Override public", "return": "DefaultCreateOrUpdateBuilder<T>", "signature": "DefaultCreateOrUpdateBuilder<T> sourceExtractor(String location, String name)", "full_signature": "@Override public DefaultCreateOrUpdateBuilder<T> sourceExtractor(String location, String name)", "class_method_signature": "DefaultCreateOrUpdateBuilder.sourceExtractor(String location, String name)", "testcase": false, "constructor": false}, {"identifier": "matchBy", "parameters": "(Mapper mapper)", "modifiers": "@Override public", "return": "DefaultCreateOrUpdateBuilder<T>", "signature": "DefaultCreateOrUpdateBuilder<T> matchBy(Mapper mapper)", "full_signature": "@Override public DefaultCreateOrUpdateBuilder<T> matchBy(Mapper mapper)", "class_method_signature": "DefaultCreateOrUpdateBuilder.matchBy(Mapper mapper)", "testcase": false, "constructor": false}, {"identifier": "matchBy", "parameters": "(String... keyAttributes)", "modifiers": "@Override public", "return": "DefaultCreateOrUpdateBuilder<T>", "signature": "DefaultCreateOrUpdateBuilder<T> matchBy(String... keyAttributes)", "full_signature": "@Override public DefaultCreateOrUpdateBuilder<T> matchBy(String... keyAttributes)", "class_method_signature": "DefaultCreateOrUpdateBuilder.matchBy(String... keyAttributes)", "testcase": false, "constructor": false}, {"identifier": "matchBy", "parameters": "(Property<?>... matchAttributes)", "modifiers": "@Override public", "return": "DefaultCreateOrUpdateBuilder<T>", "signature": "DefaultCreateOrUpdateBuilder<T> matchBy(Property<?>... matchAttributes)", "full_signature": "@Override public DefaultCreateOrUpdateBuilder<T> matchBy(Property<?>... matchAttributes)", "class_method_signature": "DefaultCreateOrUpdateBuilder.matchBy(Property<?>... matchAttributes)", "testcase": false, "constructor": false}, {"identifier": "matchById", "parameters": "()", "modifiers": "@Override public", "return": "DefaultCreateOrUpdateBuilder<T>", "signature": "DefaultCreateOrUpdateBuilder<T> matchById()", "full_signature": "@Override public DefaultCreateOrUpdateBuilder<T> matchById()", "class_method_signature": "DefaultCreateOrUpdateBuilder.matchById()", "testcase": false, "constructor": false}, {"identifier": "batchSize", "parameters": "(int batchSize)", "modifiers": "@Override public", "return": "DefaultCreateOrUpdateBuilder<T>", "signature": "DefaultCreateOrUpdateBuilder<T> batchSize(int batchSize)", "full_signature": "@Override public DefaultCreateOrUpdateBuilder<T> batchSize(int batchSize)", "class_method_signature": "DefaultCreateOrUpdateBuilder.batchSize(int batchSize)", "testcase": false, "constructor": false}, {"identifier": "stageListener", "parameters": "(Object listener)", "modifiers": "@Override public", "return": "CreateOrUpdateBuilder<T>", "signature": "CreateOrUpdateBuilder<T> stageListener(Object listener)", "full_signature": "@Override public CreateOrUpdateBuilder<T> stageListener(Object listener)", "class_method_signature": "DefaultCreateOrUpdateBuilder.stageListener(Object listener)", "testcase": false, "constructor": false}, {"identifier": "task", "parameters": "()", "modifiers": "@Override public", "return": "LmTask", "signature": "LmTask task()", "full_signature": "@Override public LmTask task()", "class_method_signature": "DefaultCreateOrUpdateBuilder.task()", "testcase": false, "constructor": false}, {"identifier": "createProcessor", "parameters": "()", "modifiers": "private", "return": "CreateOrUpdateSegmentProcessor<T>", "signature": "CreateOrUpdateSegmentProcessor<T> createProcessor()", "full_signature": "private CreateOrUpdateSegmentProcessor<T> createProcessor()", "class_method_signature": "DefaultCreateOrUpdateBuilder.createProcessor()", "testcase": false, "constructor": false}], "file": "link-move/src/main/java/com/nhl/link/move/runtime/task/createorupdate/DefaultCreateOrUpdateBuilder.java"}, "focal_method": {"identifier": "createListenersBuilder", "parameters": "()", "modifiers": "", "return": "ListenersBuilder", "body": "ListenersBuilder createListenersBuilder() {\n        return new ListenersBuilder(\n                AfterSourceRowsConverted.class,\n                AfterSourcesMapped.class,\n                AfterTargetsMatched.class,\n                AfterTargetsMapped.class,\n                AfterTargetsMerged.class,\n                AfterTargetsCommitted.class);\n    }", "signature": "ListenersBuilder createListenersBuilder()", "full_signature": " ListenersBuilder createListenersBuilder()", "class_method_signature": "DefaultCreateOrUpdateBuilder.createListenersBuilder()", "testcase": false, "constructor": false, "invocations": []}, "repository": {"repo_id": 22876447, "url": "https://github.com/nhl/link-move", "stars": 25, "created": "8/12/2014 12:27:10 PM +00:00", "updates": "2019-12-01T17:30:35+00:00", "fork": "False", "license": "licensed"}}