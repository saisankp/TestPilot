{"test_class": {"identifier": "HttpServletResponseImplTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private HttpServletResponseImpl httpServletResponseImpl;", "modifier": "private", "type": "HttpServletResponseImpl", "declarator": "httpServletResponseImpl", "var_name": "httpServletResponseImpl"}], "file": "http/src/test/java/ro/polak/http/servlet/impl/HttpServletResponseImplTest.java"}, "test_case": {"identifier": "shouldNotCreateASinglePrintWriter", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void shouldNotCreateASinglePrintWriter() throws IOException {\n        assertThat(httpServletResponseImpl.getWriter().equals(httpServletResponseImpl.getWriter()), is(true));\n    }", "signature": "void shouldNotCreateASinglePrintWriter()", "full_signature": "@Test public void shouldNotCreateASinglePrintWriter()", "class_method_signature": "HttpServletResponseImplTest.shouldNotCreateASinglePrintWriter()", "testcase": true, "constructor": false, "invocations": ["assertThat", "equals", "getWriter", "getWriter", "is"]}, "focal_class": {"identifier": "HttpServletResponseImpl", "superclass": "", "interfaces": "implements HttpServletResponse", "fields": [{"original_string": "private static final String NEW_LINE = \"\\r\\n\";", "modifier": "private static final", "type": "String", "declarator": "NEW_LINE = \"\\r\\n\"", "var_name": "NEW_LINE"}, {"original_string": "private static final String TRANSFER_ENCODING_CHUNKED = \"chunked\";", "modifier": "private static final", "type": "String", "declarator": "TRANSFER_ENCODING_CHUNKED = \"chunked\"", "var_name": "TRANSFER_ENCODING_CHUNKED"}, {"original_string": "private static final String CONNECTION_KEEP_ALIVE = \"keep-alive\";", "modifier": "private static final", "type": "String", "declarator": "CONNECTION_KEEP_ALIVE = \"keep-alive\"", "var_name": "CONNECTION_KEEP_ALIVE"}, {"original_string": "private static final String CONNECTION_CLOSE = \"close\";", "modifier": "private static final", "type": "String", "declarator": "CONNECTION_CLOSE = \"close\"", "var_name": "CONNECTION_CLOSE"}, {"original_string": "private static final int DEFAULT_BUFFER_SIZE = 1024;", "modifier": "private static final", "type": "int", "declarator": "DEFAULT_BUFFER_SIZE = 1024", "var_name": "DEFAULT_BUFFER_SIZE"}, {"original_string": "private final Serializer<Headers> headersSerializer;", "modifier": "private final", "type": "Serializer<Headers>", "declarator": "headersSerializer", "var_name": "headersSerializer"}, {"original_string": "private final StreamHelper streamHelper;", "modifier": "private final", "type": "StreamHelper", "declarator": "streamHelper", "var_name": "streamHelper"}, {"original_string": "private final Serializer<Cookie> cookieHeaderSerializer;", "modifier": "private final", "type": "Serializer<Cookie>", "declarator": "cookieHeaderSerializer", "var_name": "cookieHeaderSerializer"}, {"original_string": "private final OutputStream outputStream;", "modifier": "private final", "type": "OutputStream", "declarator": "outputStream", "var_name": "outputStream"}, {"original_string": "private Headers headers;", "modifier": "private", "type": "Headers", "declarator": "headers", "var_name": "headers"}, {"original_string": "private ServletOutputStream wrappedOutputStream;", "modifier": "private", "type": "ServletOutputStream", "declarator": "wrappedOutputStream", "var_name": "wrappedOutputStream"}, {"original_string": "private ServletPrintWriter printWriter;", "modifier": "private", "type": "ServletPrintWriter", "declarator": "printWriter", "var_name": "printWriter"}, {"original_string": "private boolean isCommitted;", "modifier": "private", "type": "boolean", "declarator": "isCommitted", "var_name": "isCommitted"}, {"original_string": "private List<Cookie> cookies;", "modifier": "private", "type": "List<Cookie>", "declarator": "cookies", "var_name": "cookies"}, {"original_string": "private String status;", "modifier": "private", "type": "String", "declarator": "status", "var_name": "status"}, {"original_string": "private int bufferSize = DEFAULT_BUFFER_SIZE;", "modifier": "private", "type": "int", "declarator": "bufferSize = DEFAULT_BUFFER_SIZE", "var_name": "bufferSize"}], "methods": [{"identifier": "HttpServletResponseImpl", "parameters": "(final Serializer<Headers> headersSerializer,\n                                   final Serializer<Cookie> cookieHeaderSerializer,\n                                   final StreamHelper streamHelper,\n                                   final OutputStream outputStream)", "modifiers": "public", "return": "", "signature": " HttpServletResponseImpl(final Serializer<Headers> headersSerializer,\n                                   final Serializer<Cookie> cookieHeaderSerializer,\n                                   final StreamHelper streamHelper,\n                                   final OutputStream outputStream)", "full_signature": "public  HttpServletResponseImpl(final Serializer<Headers> headersSerializer,\n                                   final Serializer<Cookie> cookieHeaderSerializer,\n                                   final StreamHelper streamHelper,\n                                   final OutputStream outputStream)", "class_method_signature": "HttpServletResponseImpl.HttpServletResponseImpl(final Serializer<Headers> headersSerializer,\n                                   final Serializer<Cookie> cookieHeaderSerializer,\n                                   final StreamHelper streamHelper,\n                                   final OutputStream outputStream)", "testcase": false, "constructor": true}, {"identifier": "addCookie", "parameters": "(final Cookie cookie)", "modifiers": "@Override public", "return": "void", "signature": "void addCookie(final Cookie cookie)", "full_signature": "@Override public void addCookie(final Cookie cookie)", "class_method_signature": "HttpServletResponseImpl.addCookie(final Cookie cookie)", "testcase": false, "constructor": false}, {"identifier": "getCookies", "parameters": "()", "modifiers": "@Override public", "return": "List<Cookie>", "signature": "List<Cookie> getCookies()", "full_signature": "@Override public List<Cookie> getCookies()", "class_method_signature": "HttpServletResponseImpl.getCookies()", "testcase": false, "constructor": false}, {"identifier": "isCommitted", "parameters": "()", "modifiers": "@Override public", "return": "boolean", "signature": "boolean isCommitted()", "full_signature": "@Override public boolean isCommitted()", "class_method_signature": "HttpServletResponseImpl.isCommitted()", "testcase": false, "constructor": false}, {"identifier": "reset", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void reset()", "full_signature": "@Override public void reset()", "class_method_signature": "HttpServletResponseImpl.reset()", "testcase": false, "constructor": false}, {"identifier": "resetBuffer", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void resetBuffer()", "full_signature": "@Override public void resetBuffer()", "class_method_signature": "HttpServletResponseImpl.resetBuffer()", "testcase": false, "constructor": false}, {"identifier": "setBufferSize", "parameters": "(final int bufferSize)", "modifiers": "@Override public", "return": "void", "signature": "void setBufferSize(final int bufferSize)", "full_signature": "@Override public void setBufferSize(final int bufferSize)", "class_method_signature": "HttpServletResponseImpl.setBufferSize(final int bufferSize)", "testcase": false, "constructor": false}, {"identifier": "setCharacterEncoding", "parameters": "(final String charset)", "modifiers": "@Override public", "return": "void", "signature": "void setCharacterEncoding(final String charset)", "full_signature": "@Override public void setCharacterEncoding(final String charset)", "class_method_signature": "HttpServletResponseImpl.setCharacterEncoding(final String charset)", "testcase": false, "constructor": false}, {"identifier": "sendRedirect", "parameters": "(final String location)", "modifiers": "@Override public", "return": "void", "signature": "void sendRedirect(final String location)", "full_signature": "@Override public void sendRedirect(final String location)", "class_method_signature": "HttpServletResponseImpl.sendRedirect(final String location)", "testcase": false, "constructor": false}, {"identifier": "setContentType", "parameters": "(final String contentType)", "modifiers": "@Override public", "return": "void", "signature": "void setContentType(final String contentType)", "full_signature": "@Override public void setContentType(final String contentType)", "class_method_signature": "HttpServletResponseImpl.setContentType(final String contentType)", "testcase": false, "constructor": false}, {"identifier": "setLocale", "parameters": "(final Locale loc)", "modifiers": "@Override public", "return": "void", "signature": "void setLocale(final Locale loc)", "full_signature": "@Override public void setLocale(final Locale loc)", "class_method_signature": "HttpServletResponseImpl.setLocale(final Locale loc)", "testcase": false, "constructor": false}, {"identifier": "flushBuffer", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void flushBuffer()", "full_signature": "@Override public void flushBuffer()", "class_method_signature": "HttpServletResponseImpl.flushBuffer()", "testcase": false, "constructor": false}, {"identifier": "getBufferSize", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int getBufferSize()", "full_signature": "@Override public int getBufferSize()", "class_method_signature": "HttpServletResponseImpl.getBufferSize()", "testcase": false, "constructor": false}, {"identifier": "getCharacterEncoding", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getCharacterEncoding()", "full_signature": "@Override public String getCharacterEncoding()", "class_method_signature": "HttpServletResponseImpl.getCharacterEncoding()", "testcase": false, "constructor": false}, {"identifier": "getContentType", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getContentType()", "full_signature": "@Override public String getContentType()", "class_method_signature": "HttpServletResponseImpl.getContentType()", "testcase": false, "constructor": false}, {"identifier": "getLocale", "parameters": "()", "modifiers": "@Override public", "return": "Locale", "signature": "Locale getLocale()", "full_signature": "@Override public Locale getLocale()", "class_method_signature": "HttpServletResponseImpl.getLocale()", "testcase": false, "constructor": false}, {"identifier": "setKeepAlive", "parameters": "(final boolean keepAlive)", "modifiers": "@Override public", "return": "void", "signature": "void setKeepAlive(final boolean keepAlive)", "full_signature": "@Override public void setKeepAlive(final boolean keepAlive)", "class_method_signature": "HttpServletResponseImpl.setKeepAlive(final boolean keepAlive)", "testcase": false, "constructor": false}, {"identifier": "getKeepAliveHeaderValue", "parameters": "(final boolean keepAlive)", "modifiers": "private", "return": "String", "signature": "String getKeepAliveHeaderValue(final boolean keepAlive)", "full_signature": "private String getKeepAliveHeaderValue(final boolean keepAlive)", "class_method_signature": "HttpServletResponseImpl.getKeepAliveHeaderValue(final boolean keepAlive)", "testcase": false, "constructor": false}, {"identifier": "setContentLength", "parameters": "(final int length)", "modifiers": "@Override public", "return": "void", "signature": "void setContentLength(final int length)", "full_signature": "@Override public void setContentLength(final int length)", "class_method_signature": "HttpServletResponseImpl.setContentLength(final int length)", "testcase": false, "constructor": false}, {"identifier": "setContentLength", "parameters": "(final long length)", "modifiers": "@Override public", "return": "void", "signature": "void setContentLength(final long length)", "full_signature": "@Override public void setContentLength(final long length)", "class_method_signature": "HttpServletResponseImpl.setContentLength(final long length)", "testcase": false, "constructor": false}, {"identifier": "getHeaders", "parameters": "()", "modifiers": "@Override public", "return": "Headers", "signature": "Headers getHeaders()", "full_signature": "@Override public Headers getHeaders()", "class_method_signature": "HttpServletResponseImpl.getHeaders()", "testcase": false, "constructor": false}, {"identifier": "setStatus", "parameters": "(final String status)", "modifiers": "@Override public", "return": "void", "signature": "void setStatus(final String status)", "full_signature": "@Override public void setStatus(final String status)", "class_method_signature": "HttpServletResponseImpl.setStatus(final String status)", "testcase": false, "constructor": false}, {"identifier": "setHeader", "parameters": "(final String name, final String value)", "modifiers": "@Override public", "return": "void", "signature": "void setHeader(final String name, final String value)", "full_signature": "@Override public void setHeader(final String name, final String value)", "class_method_signature": "HttpServletResponseImpl.setHeader(final String name, final String value)", "testcase": false, "constructor": false}, {"identifier": "setIntHeader", "parameters": "(final String name, final int value)", "modifiers": "@Override public", "return": "void", "signature": "void setIntHeader(final String name, final int value)", "full_signature": "@Override public void setIntHeader(final String name, final int value)", "class_method_signature": "HttpServletResponseImpl.setIntHeader(final String name, final int value)", "testcase": false, "constructor": false}, {"identifier": "getWriter", "parameters": "()", "modifiers": "@Override public", "return": "PrintWriter", "signature": "PrintWriter getWriter()", "full_signature": "@Override public PrintWriter getWriter()", "class_method_signature": "HttpServletResponseImpl.getWriter()", "testcase": false, "constructor": false}, {"identifier": "getOutputStream", "parameters": "()", "modifiers": "@Override public", "return": "ServletOutputStream", "signature": "ServletOutputStream getOutputStream()", "full_signature": "@Override public ServletOutputStream getOutputStream()", "class_method_signature": "HttpServletResponseImpl.getOutputStream()", "testcase": false, "constructor": false}, {"identifier": "flushHeaders", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void flushHeaders()", "full_signature": "public void flushHeaders()", "class_method_signature": "HttpServletResponseImpl.flushHeaders()", "testcase": false, "constructor": false}, {"identifier": "serveStream", "parameters": "(final InputStream inputStream)", "modifiers": "public", "return": "void", "signature": "void serveStream(final InputStream inputStream)", "full_signature": "public void serveStream(final InputStream inputStream)", "class_method_signature": "HttpServletResponseImpl.serveStream(final InputStream inputStream)", "testcase": false, "constructor": false}, {"identifier": "serveStream", "parameters": "(final InputStream inputStream, final Range range)", "modifiers": "public", "return": "void", "signature": "void serveStream(final InputStream inputStream, final Range range)", "full_signature": "public void serveStream(final InputStream inputStream, final Range range)", "class_method_signature": "HttpServletResponseImpl.serveStream(final InputStream inputStream, final Range range)", "testcase": false, "constructor": false}, {"identifier": "serveStream", "parameters": "(final InputStream inputStream,\n                            final List<Range> rangeList,\n                            final String boundary,\n                            final String contentType,\n                            final long totalLength)", "modifiers": "public", "return": "void", "signature": "void serveStream(final InputStream inputStream,\n                            final List<Range> rangeList,\n                            final String boundary,\n                            final String contentType,\n                            final long totalLength)", "full_signature": "public void serveStream(final InputStream inputStream,\n                            final List<Range> rangeList,\n                            final String boundary,\n                            final String contentType,\n                            final long totalLength)", "class_method_signature": "HttpServletResponseImpl.serveStream(final InputStream inputStream,\n                            final List<Range> rangeList,\n                            final String boundary,\n                            final String contentType,\n                            final long totalLength)", "testcase": false, "constructor": false}, {"identifier": "getStatus", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getStatus()", "full_signature": "public String getStatus()", "class_method_signature": "HttpServletResponseImpl.getStatus()", "testcase": false, "constructor": false}, {"identifier": "isTransferChunked", "parameters": "()", "modifiers": "private", "return": "boolean", "signature": "boolean isTransferChunked()", "full_signature": "private boolean isTransferChunked()", "class_method_signature": "HttpServletResponseImpl.isTransferChunked()", "testcase": false, "constructor": false}, {"identifier": "flush", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void flush()", "full_signature": "public void flush()", "class_method_signature": "HttpServletResponseImpl.flush()", "testcase": false, "constructor": false}], "file": "http/src/main/java/ro/polak/http/servlet/impl/HttpServletResponseImpl.java"}, "focal_method": {"identifier": "getWriter", "parameters": "()", "modifiers": "@Override public", "return": "PrintWriter", "body": "@Override\n    public PrintWriter getWriter() {\n        if (printWriter == null) {\n            if (isTransferChunked()) {\n                printWriter = new ChunkedPrintWriter(wrappedOutputStream);\n            } else {\n                printWriter = new ServletPrintWriter(wrappedOutputStream);\n            }\n        }\n\n        return printWriter;\n    }", "signature": "PrintWriter getWriter()", "full_signature": "@Override public PrintWriter getWriter()", "class_method_signature": "HttpServletResponseImpl.getWriter()", "testcase": false, "constructor": false, "invocations": ["isTransferChunked"]}, "repository": {"repo_id": 42557838, "url": "https://github.com/piotrpolak/android-http-server", "language": "Java", "is_fork": false, "fork_count": 41, "stargazer_count": 136, "size": 2000, "license": "licensed"}}