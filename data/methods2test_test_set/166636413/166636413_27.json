{"test_class": {"identifier": "WidgetAppearanceUtilsTest", "superclass": "", "interfaces": "", "fields": [], "file": "collect_app/src/test/java/org/odk/collect/android/utilities/WidgetAppearanceUtilsTest.java"}, "test_case": {"identifier": "getNumberOfColumnsTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getNumberOfColumnsTest() {\n        FormEntryPrompt formEntryPrompt = mock(FormEntryPrompt.class);\n\n        when(formEntryPrompt.getAppearanceHint()).thenReturn(\"\");\n        assertEquals(1, WidgetAppearanceUtils.getNumberOfColumns(formEntryPrompt, null));\n\n        when(formEntryPrompt.getAppearanceHint()).thenReturn(\"columns-2\");\n        assertEquals(2, WidgetAppearanceUtils.getNumberOfColumns(formEntryPrompt, null));\n\n        when(formEntryPrompt.getAppearanceHint()).thenReturn(\"columns-10\");\n        assertEquals(10, WidgetAppearanceUtils.getNumberOfColumns(formEntryPrompt, null));\n\n        when(formEntryPrompt.getAppearanceHint()).thenReturn(\"columns-10 quick\");\n        assertEquals(10, WidgetAppearanceUtils.getNumberOfColumns(formEntryPrompt, null));\n\n        when(formEntryPrompt.getAppearanceHint()).thenReturn(\"columns-5 autocomplete\");\n        assertEquals(5, WidgetAppearanceUtils.getNumberOfColumns(formEntryPrompt, null));\n\n        when(formEntryPrompt.getAppearanceHint()).thenReturn(\"columns-10quick\");\n        assertEquals(1, WidgetAppearanceUtils.getNumberOfColumns(formEntryPrompt, null));\n\n        when(formEntryPrompt.getAppearanceHint()).thenReturn(\"columns-5autocomplete\");\n        assertEquals(1, WidgetAppearanceUtils.getNumberOfColumns(formEntryPrompt, null));\n\n        when(formEntryPrompt.getAppearanceHint()).thenReturn(\"columns-5 \");\n        assertEquals(5, WidgetAppearanceUtils.getNumberOfColumns(formEntryPrompt, null));\n\n        when(formEntryPrompt.getAppearanceHint()).thenReturn(\"columns-5  \");\n        assertEquals(5, WidgetAppearanceUtils.getNumberOfColumns(formEntryPrompt, null));\n\n        when(formEntryPrompt.getAppearanceHint()).thenReturn(\"  columns-5\");\n        assertEquals(5, WidgetAppearanceUtils.getNumberOfColumns(formEntryPrompt, null));\n\n        when(formEntryPrompt.getAppearanceHint()).thenReturn(\"quick columns-5\");\n        assertEquals(5, WidgetAppearanceUtils.getNumberOfColumns(formEntryPrompt, null));\n\n        when(formEntryPrompt.getAppearanceHint()).thenReturn(\"compact-5\");\n        assertEquals(5, WidgetAppearanceUtils.getNumberOfColumns(formEntryPrompt, null));\n\n        when(formEntryPrompt.getAppearanceHint()).thenReturn(\"compact-9\");\n        assertEquals(9, WidgetAppearanceUtils.getNumberOfColumns(formEntryPrompt, null));\n\n        when(formEntryPrompt.getAppearanceHint()).thenReturn(\"columns-9\");\n        assertEquals(9, WidgetAppearanceUtils.getNumberOfColumns(formEntryPrompt, null));\n\n        when(formEntryPrompt.getAppearanceHint()).thenReturn(\"columns--1\");\n        assertEquals(1, WidgetAppearanceUtils.getNumberOfColumns(formEntryPrompt, null));\n\n        when(formEntryPrompt.getAppearanceHint()).thenReturn(\"columns--10\");\n        assertEquals(1, WidgetAppearanceUtils.getNumberOfColumns(formEntryPrompt, null));\n    }", "signature": "void getNumberOfColumnsTest()", "full_signature": "@Test public void getNumberOfColumnsTest()", "class_method_signature": "WidgetAppearanceUtilsTest.getNumberOfColumnsTest()", "testcase": true, "constructor": false, "invocations": ["mock", "thenReturn", "when", "getAppearanceHint", "assertEquals", "getNumberOfColumns", "thenReturn", "when", "getAppearanceHint", "assertEquals", "getNumberOfColumns", "thenReturn", "when", "getAppearanceHint", "assertEquals", "getNumberOfColumns", "thenReturn", "when", "getAppearanceHint", "assertEquals", "getNumberOfColumns", "thenReturn", "when", "getAppearanceHint", "assertEquals", "getNumberOfColumns", "thenReturn", "when", "getAppearanceHint", "assertEquals", "getNumberOfColumns", "thenReturn", "when", "getAppearanceHint", "assertEquals", "getNumberOfColumns", "thenReturn", "when", "getAppearanceHint", "assertEquals", "getNumberOfColumns", "thenReturn", "when", "getAppearanceHint", "assertEquals", "getNumberOfColumns", "thenReturn", "when", "getAppearanceHint", "assertEquals", "getNumberOfColumns", "thenReturn", "when", "getAppearanceHint", "assertEquals", "getNumberOfColumns", "thenReturn", "when", "getAppearanceHint", "assertEquals", "getNumberOfColumns", "thenReturn", "when", "getAppearanceHint", "assertEquals", "getNumberOfColumns", "thenReturn", "when", "getAppearanceHint", "assertEquals", "getNumberOfColumns", "thenReturn", "when", "getAppearanceHint", "assertEquals", "getNumberOfColumns", "thenReturn", "when", "getAppearanceHint", "assertEquals", "getNumberOfColumns"]}, "focal_class": {"identifier": "WidgetAppearanceUtils", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String EXCEPTION_PARSING_COLUMNS = \"Exception parsing columns\";", "modifier": "private static final", "type": "String", "declarator": "EXCEPTION_PARSING_COLUMNS = \"Exception parsing columns\"", "var_name": "EXCEPTION_PARSING_COLUMNS"}, {"original_string": "public static final String ETHIOPIAN                = \"ethiopian\";", "modifier": "public static final", "type": "String", "declarator": "ETHIOPIAN                = \"ethiopian\"", "var_name": "ETHIOPIAN"}, {"original_string": "public static final String COPTIC                   = \"coptic\";", "modifier": "public static final", "type": "String", "declarator": "COPTIC                   = \"coptic\"", "var_name": "COPTIC"}, {"original_string": "public static final String ISLAMIC                  = \"islamic\";", "modifier": "public static final", "type": "String", "declarator": "ISLAMIC                  = \"islamic\"", "var_name": "ISLAMIC"}, {"original_string": "public static final String BIKRAM_SAMBAT            = \"bikram-sambat\";", "modifier": "public static final", "type": "String", "declarator": "BIKRAM_SAMBAT            = \"bikram-sambat\"", "var_name": "BIKRAM_SAMBAT"}, {"original_string": "public static final String MYANMAR                  = \"myanmar\";", "modifier": "public static final", "type": "String", "declarator": "MYANMAR                  = \"myanmar\"", "var_name": "MYANMAR"}, {"original_string": "public static final String PERSIAN                  = \"persian\";", "modifier": "public static final", "type": "String", "declarator": "PERSIAN                  = \"persian\"", "var_name": "PERSIAN"}, {"original_string": "public static final String NO_CALENDAR              = \"no-calendar\";", "modifier": "public static final", "type": "String", "declarator": "NO_CALENDAR              = \"no-calendar\"", "var_name": "NO_CALENDAR"}, {"original_string": "public static final String MONTH_YEAR               = \"month-year\";", "modifier": "public static final", "type": "String", "declarator": "MONTH_YEAR               = \"month-year\"", "var_name": "MONTH_YEAR"}, {"original_string": "public static final String YEAR                     = \"year\";", "modifier": "public static final", "type": "String", "declarator": "YEAR                     = \"year\"", "var_name": "YEAR"}, {"original_string": "@Deprecated public static final String COMPACT      = \"compact\";", "modifier": "@Deprecated public static final", "type": "String", "declarator": "COMPACT      = \"compact\"", "var_name": "COMPACT"}, {"original_string": "@Deprecated public static final String COMPACT_N    = \"compact-\";", "modifier": "@Deprecated public static final", "type": "String", "declarator": "COMPACT_N    = \"compact-\"", "var_name": "COMPACT_N"}, {"original_string": "public static final String MINIMAL                  = \"minimal\";", "modifier": "public static final", "type": "String", "declarator": "MINIMAL                  = \"minimal\"", "var_name": "MINIMAL"}, {"original_string": "public static final String COLUMNS                  = \"columns\";", "modifier": "public static final", "type": "String", "declarator": "COLUMNS                  = \"columns\"", "var_name": "COLUMNS"}, {"original_string": "public static final String COLUMNS_N                = \"columns-\";", "modifier": "public static final", "type": "String", "declarator": "COLUMNS_N                = \"columns-\"", "var_name": "COLUMNS_N"}, {"original_string": "public static final String COLUMNS_PACK             = \"columns-pack\";", "modifier": "public static final", "type": "String", "declarator": "COLUMNS_PACK             = \"columns-pack\"", "var_name": "COLUMNS_PACK"}, {"original_string": "@Deprecated public static final String QUICKCOMPACT = \"quickcompact\";", "modifier": "@Deprecated public static final", "type": "String", "declarator": "QUICKCOMPACT = \"quickcompact\"", "var_name": "QUICKCOMPACT"}, {"original_string": "@Deprecated public static final String SEARCH       = \"search\";", "modifier": "@Deprecated public static final", "type": "String", "declarator": "SEARCH       = \"search\"", "var_name": "SEARCH"}, {"original_string": "public static final String AUTOCOMPLETE             = \"autocomplete\";", "modifier": "public static final", "type": "String", "declarator": "AUTOCOMPLETE             = \"autocomplete\"", "var_name": "AUTOCOMPLETE"}, {"original_string": "public static final String LIST_NO_LABEL            = \"list-nolabel\";", "modifier": "public static final", "type": "String", "declarator": "LIST_NO_LABEL            = \"list-nolabel\"", "var_name": "LIST_NO_LABEL"}, {"original_string": "public static final String LIST                     = \"list\";", "modifier": "public static final", "type": "String", "declarator": "LIST                     = \"list\"", "var_name": "LIST"}, {"original_string": "public static final String LABEL                    = \"label\";", "modifier": "public static final", "type": "String", "declarator": "LABEL                    = \"label\"", "var_name": "LABEL"}, {"original_string": "public static final String IMAGE_MAP                = \"image-map\";", "modifier": "public static final", "type": "String", "declarator": "IMAGE_MAP                = \"image-map\"", "var_name": "IMAGE_MAP"}, {"original_string": "public static final String NO_BUTTONS               = \"no-buttons\";", "modifier": "public static final", "type": "String", "declarator": "NO_BUTTONS               = \"no-buttons\"", "var_name": "NO_BUTTONS"}, {"original_string": "public static final String QUICK                    = \"quick\";", "modifier": "public static final", "type": "String", "declarator": "QUICK                    = \"quick\"", "var_name": "QUICK"}, {"original_string": "public static final String SIGNATURE                = \"signature\";", "modifier": "public static final", "type": "String", "declarator": "SIGNATURE                = \"signature\"", "var_name": "SIGNATURE"}, {"original_string": "public static final String ANNOTATE                 = \"annotate\";", "modifier": "public static final", "type": "String", "declarator": "ANNOTATE                 = \"annotate\"", "var_name": "ANNOTATE"}, {"original_string": "public static final String DRAW                     = \"draw\";", "modifier": "public static final", "type": "String", "declarator": "DRAW                     = \"draw\"", "var_name": "DRAW"}, {"original_string": "@Deprecated public static final String SELFIE       = \"selfie\";", "modifier": "@Deprecated public static final", "type": "String", "declarator": "SELFIE       = \"selfie\"", "var_name": "SELFIE"}, {"original_string": "public static final String NEW_FRONT                = \"new-front\";", "modifier": "public static final", "type": "String", "declarator": "NEW_FRONT                = \"new-front\"", "var_name": "NEW_FRONT"}, {"original_string": "public static final String NEW                      = \"new\";", "modifier": "public static final", "type": "String", "declarator": "NEW                      = \"new\"", "var_name": "NEW"}, {"original_string": "public static final String FRONT                    = \"front\";", "modifier": "public static final", "type": "String", "declarator": "FRONT                    = \"front\"", "var_name": "FRONT"}, {"original_string": "public static final String PLACEMENT_MAP            = \"placement-map\";", "modifier": "public static final", "type": "String", "declarator": "PLACEMENT_MAP            = \"placement-map\"", "var_name": "PLACEMENT_MAP"}, {"original_string": "public static final String MAPS                     = \"maps\";", "modifier": "public static final", "type": "String", "declarator": "MAPS                     = \"maps\"", "var_name": "MAPS"}, {"original_string": "public static final String NO_APPEARANCE            = \"\";", "modifier": "public static final", "type": "String", "declarator": "NO_APPEARANCE            = \"\"", "var_name": "NO_APPEARANCE"}, {"original_string": "public static final String BEARING                  = \"bearing\";", "modifier": "public static final", "type": "String", "declarator": "BEARING                  = \"bearing\"", "var_name": "BEARING"}, {"original_string": "public static final String EX                       = \"ex:\";", "modifier": "public static final", "type": "String", "declarator": "EX                       = \"ex:\"", "var_name": "EX"}, {"original_string": "public static final String THOUSANDS_SEP            = \"thousands-sep\";", "modifier": "public static final", "type": "String", "declarator": "THOUSANDS_SEP            = \"thousands-sep\"", "var_name": "THOUSANDS_SEP"}, {"original_string": "public static final String PRINTER                  = \"printer\";", "modifier": "public static final", "type": "String", "declarator": "PRINTER                  = \"printer\"", "var_name": "PRINTER"}, {"original_string": "public static final String NUMBERS                  = \"numbers\";", "modifier": "public static final", "type": "String", "declarator": "NUMBERS                  = \"numbers\"", "var_name": "NUMBERS"}, {"original_string": "public static final String URL                      = \"url\";", "modifier": "public static final", "type": "String", "declarator": "URL                      = \"url\"", "var_name": "URL"}, {"original_string": "public static final String RATING                   = \"rating\";", "modifier": "public static final", "type": "String", "declarator": "RATING                   = \"rating\"", "var_name": "RATING"}], "methods": [{"identifier": "WidgetAppearanceUtils", "parameters": "()", "modifiers": "private", "return": "", "signature": " WidgetAppearanceUtils()", "full_signature": "private  WidgetAppearanceUtils()", "class_method_signature": "WidgetAppearanceUtils.WidgetAppearanceUtils()", "testcase": false, "constructor": true}, {"identifier": "getSanitizedAppearanceHint", "parameters": "(FormEntryPrompt fep)", "modifiers": "public static @NonNull", "return": "String", "signature": "String getSanitizedAppearanceHint(FormEntryPrompt fep)", "full_signature": "public static @NonNull String getSanitizedAppearanceHint(FormEntryPrompt fep)", "class_method_signature": "WidgetAppearanceUtils.getSanitizedAppearanceHint(FormEntryPrompt fep)", "testcase": false, "constructor": false}, {"identifier": "hasAppearance", "parameters": "(FormEntryPrompt fep, String appearance)", "modifiers": "public static", "return": "boolean", "signature": "boolean hasAppearance(FormEntryPrompt fep, String appearance)", "full_signature": "public static boolean hasAppearance(FormEntryPrompt fep, String appearance)", "class_method_signature": "WidgetAppearanceUtils.hasAppearance(FormEntryPrompt fep, String appearance)", "testcase": false, "constructor": false}, {"identifier": "getNumberOfColumns", "parameters": "(FormEntryPrompt formEntryPrompt, Context context)", "modifiers": "public static", "return": "int", "signature": "int getNumberOfColumns(FormEntryPrompt formEntryPrompt, Context context)", "full_signature": "public static int getNumberOfColumns(FormEntryPrompt formEntryPrompt, Context context)", "class_method_signature": "WidgetAppearanceUtils.getNumberOfColumns(FormEntryPrompt formEntryPrompt, Context context)", "testcase": false, "constructor": false}, {"identifier": "isNoButtonsAppearance", "parameters": "(FormEntryPrompt prompt)", "modifiers": "public static", "return": "boolean", "signature": "boolean isNoButtonsAppearance(FormEntryPrompt prompt)", "full_signature": "public static boolean isNoButtonsAppearance(FormEntryPrompt prompt)", "class_method_signature": "WidgetAppearanceUtils.isNoButtonsAppearance(FormEntryPrompt prompt)", "testcase": false, "constructor": false}, {"identifier": "isCompactAppearance", "parameters": "(FormEntryPrompt prompt)", "modifiers": "public static", "return": "boolean", "signature": "boolean isCompactAppearance(FormEntryPrompt prompt)", "full_signature": "public static boolean isCompactAppearance(FormEntryPrompt prompt)", "class_method_signature": "WidgetAppearanceUtils.isCompactAppearance(FormEntryPrompt prompt)", "testcase": false, "constructor": false}, {"identifier": "useThousandSeparator", "parameters": "(FormEntryPrompt prompt)", "modifiers": "public static", "return": "boolean", "signature": "boolean useThousandSeparator(FormEntryPrompt prompt)", "full_signature": "public static boolean useThousandSeparator(FormEntryPrompt prompt)", "class_method_signature": "WidgetAppearanceUtils.useThousandSeparator(FormEntryPrompt prompt)", "testcase": false, "constructor": false}], "file": "collect_app/src/main/java/org/odk/collect/android/utilities/WidgetAppearanceUtils.java"}, "focal_method": {"identifier": "getNumberOfColumns", "parameters": "(FormEntryPrompt formEntryPrompt, Context context)", "modifiers": "public static", "return": "int", "body": "public static int getNumberOfColumns(FormEntryPrompt formEntryPrompt, Context context) {\n        int numColumns = 1;\n        String appearance = getSanitizedAppearanceHint(formEntryPrompt);\n        if (appearance.contains(COLUMNS_N) || appearance.contains(COMPACT_N)) {\n            try {\n                String columnsAppearance = appearance.contains(COLUMNS_N) ? COLUMNS_N : COMPACT_N;\n                try {\n                    appearance =\n                            appearance.substring(appearance.indexOf(columnsAppearance));\n                    int idx = appearance.indexOf(columnsAppearance);\n                    if (idx != -1) {\n                        String substringFromNumColumns = appearance.substring(idx + columnsAppearance.length());\n                        numColumns = Integer.parseInt(substringFromNumColumns.substring(0, substringFromNumColumns.contains(\" \")\n                                ? substringFromNumColumns.indexOf(' ')\n                                : substringFromNumColumns.length()));\n\n                        if (numColumns < 1) {\n                            numColumns = 1;\n                        }\n                    }\n                } catch (Exception e) {\n                    Timber.e(EXCEPTION_PARSING_COLUMNS);\n                }\n            } catch (Exception e) {\n                Timber.e(EXCEPTION_PARSING_COLUMNS);\n            }\n        } else if (appearance.contains(COLUMNS)) {\n            switch (context.getResources().getConfiguration().screenLayout & Configuration.SCREENLAYOUT_SIZE_MASK) {\n                case Configuration.SCREENLAYOUT_SIZE_SMALL:\n                    numColumns = 2;\n                    break;\n                case Configuration.SCREENLAYOUT_SIZE_NORMAL:\n                    numColumns = 3;\n                    break;\n                case Configuration.SCREENLAYOUT_SIZE_LARGE:\n                    numColumns = 4;\n                    break;\n                case Configuration.SCREENLAYOUT_SIZE_XLARGE:\n                    numColumns = 5;\n                    break;\n                default:\n                    numColumns = 3;\n            }\n        }\n        return numColumns;\n    }", "signature": "int getNumberOfColumns(FormEntryPrompt formEntryPrompt, Context context)", "full_signature": "public static int getNumberOfColumns(FormEntryPrompt formEntryPrompt, Context context)", "class_method_signature": "WidgetAppearanceUtils.getNumberOfColumns(FormEntryPrompt formEntryPrompt, Context context)", "testcase": false, "constructor": false, "invocations": ["getSanitizedAppearanceHint", "contains", "contains", "contains", "substring", "indexOf", "indexOf", "substring", "length", "parseInt", "substring", "contains", "indexOf", "length", "e", "e", "contains", "getConfiguration", "getResources"]}, "repository": {"repo_id": 166636413, "url": "https://github.com/fieldsight/fieldsight-mobile", "language": "Java", "is_fork": false, "fork_count": 4, "stargazer_count": 14, "size": 41030, "license": "licensed"}}