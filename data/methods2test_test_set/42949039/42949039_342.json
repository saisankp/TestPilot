{"test_class": {"identifier": "StorageUnitHelperTest", "superclass": "extends AbstractServiceTest", "interfaces": "", "fields": [{"original_string": "@Mock\n    private AlternateKeyHelper alternateKeyHelper;", "modifier": "@Mock\n    private", "type": "AlternateKeyHelper", "declarator": "alternateKeyHelper", "var_name": "alternateKeyHelper"}, {"original_string": "@Mock\n    private BusinessObjectDataHelper businessObjectDataHelper;", "modifier": "@Mock\n    private", "type": "BusinessObjectDataHelper", "declarator": "businessObjectDataHelper", "var_name": "businessObjectDataHelper"}, {"original_string": "@Mock\n    private StorageFileHelper storageFileHelper;", "modifier": "@Mock\n    private", "type": "StorageFileHelper", "declarator": "storageFileHelper", "var_name": "storageFileHelper"}, {"original_string": "@InjectMocks\n    private StorageUnitHelper storageUnitHelper;", "modifier": "@InjectMocks\n    private", "type": "StorageUnitHelper", "declarator": "storageUnitHelper", "var_name": "storageUnitHelper"}], "file": "herd-code/herd-service/src/test/java/org/finra/herd/service/helper/StorageUnitHelperTest.java"}, "test_case": {"identifier": "testCreateStorageUnitKeyFromEntity", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testCreateStorageUnitKeyFromEntity()\n    {\n        // Create a business object data storage unit key.\n        BusinessObjectDataStorageUnitKey businessObjectDataStorageUnitKey =\n            new BusinessObjectDataStorageUnitKey(BDEF_NAMESPACE, BDEF_NAME, FORMAT_USAGE_CODE, FORMAT_FILE_TYPE_CODE, FORMAT_VERSION, PARTITION_VALUE,\n                SUBPARTITION_VALUES, DATA_VERSION, STORAGE_NAME);\n\n        // Create a storage unit entity.\n        StorageUnitEntity storageUnitEntity = storageUnitDaoTestHelper.createStorageUnitEntity(businessObjectDataStorageUnitKey, STORAGE_UNIT_STATUS);\n\n        // Mock the external calls.\n        when(businessObjectDataHelper.getSubPartitionValues(storageUnitEntity.getBusinessObjectData())).thenReturn(SUBPARTITION_VALUES);\n\n        // Call the method under test.\n        BusinessObjectDataStorageUnitKey result = storageUnitHelper.createStorageUnitKeyFromEntity(storageUnitEntity);\n\n        // Verify the external calls.\n        verify(businessObjectDataHelper).getSubPartitionValues(storageUnitEntity.getBusinessObjectData());\n        verifyNoMoreInteractionsHelper();\n\n        // Validate the results.\n        assertEquals(new BusinessObjectDataStorageUnitKey(BDEF_NAMESPACE, BDEF_NAME, FORMAT_USAGE_CODE, FORMAT_FILE_TYPE_CODE, FORMAT_VERSION, PARTITION_VALUE,\n            SUBPARTITION_VALUES, DATA_VERSION, STORAGE_NAME), result);\n    }", "signature": "void testCreateStorageUnitKeyFromEntity()", "full_signature": "@Test public void testCreateStorageUnitKeyFromEntity()", "class_method_signature": "StorageUnitHelperTest.testCreateStorageUnitKeyFromEntity()", "testcase": true, "constructor": false, "invocations": ["createStorageUnitEntity", "thenReturn", "when", "getSubPartitionValues", "getBusinessObjectData", "createStorageUnitKeyFromEntity", "getSubPartitionValues", "verify", "getBusinessObjectData", "verifyNoMoreInteractionsHelper", "assertEquals"]}, "focal_class": {"identifier": "StorageUnitHelper", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Autowired\n    private AlternateKeyHelper alternateKeyHelper;", "modifier": "@Autowired\n    private", "type": "AlternateKeyHelper", "declarator": "alternateKeyHelper", "var_name": "alternateKeyHelper"}, {"original_string": "@Autowired\n    private BusinessObjectDataHelper businessObjectDataHelper;", "modifier": "@Autowired\n    private", "type": "BusinessObjectDataHelper", "declarator": "businessObjectDataHelper", "var_name": "businessObjectDataHelper"}, {"original_string": "@Autowired\n    private StorageFileHelper storageFileHelper;", "modifier": "@Autowired\n    private", "type": "StorageFileHelper", "declarator": "storageFileHelper", "var_name": "storageFileHelper"}], "methods": [{"identifier": "createBusinessObjectDataStorageUnitKey", "parameters": "(BusinessObjectDataKey businessObjectDataKey, String storageName)", "modifiers": "public", "return": "BusinessObjectDataStorageUnitKey", "signature": "BusinessObjectDataStorageUnitKey createBusinessObjectDataStorageUnitKey(BusinessObjectDataKey businessObjectDataKey, String storageName)", "full_signature": "public BusinessObjectDataStorageUnitKey createBusinessObjectDataStorageUnitKey(BusinessObjectDataKey businessObjectDataKey, String storageName)", "class_method_signature": "StorageUnitHelper.createBusinessObjectDataStorageUnitKey(BusinessObjectDataKey businessObjectDataKey, String storageName)", "testcase": false, "constructor": false}, {"identifier": "createStorageUnitKey", "parameters": "(BusinessObjectDataKey businessObjectDataKey, String storageName)", "modifiers": "public", "return": "BusinessObjectDataStorageUnitKey", "signature": "BusinessObjectDataStorageUnitKey createStorageUnitKey(BusinessObjectDataKey businessObjectDataKey, String storageName)", "full_signature": "public BusinessObjectDataStorageUnitKey createStorageUnitKey(BusinessObjectDataKey businessObjectDataKey, String storageName)", "class_method_signature": "StorageUnitHelper.createStorageUnitKey(BusinessObjectDataKey businessObjectDataKey, String storageName)", "testcase": false, "constructor": false}, {"identifier": "createStorageUnitKeyFromEntity", "parameters": "(StorageUnitEntity storageUnitEntity)", "modifiers": "public", "return": "BusinessObjectDataStorageUnitKey", "signature": "BusinessObjectDataStorageUnitKey createStorageUnitKeyFromEntity(StorageUnitEntity storageUnitEntity)", "full_signature": "public BusinessObjectDataStorageUnitKey createStorageUnitKeyFromEntity(StorageUnitEntity storageUnitEntity)", "class_method_signature": "StorageUnitHelper.createStorageUnitKeyFromEntity(StorageUnitEntity storageUnitEntity)", "testcase": false, "constructor": false}, {"identifier": "createStorageUnitsFromEntities", "parameters": "(Collection<StorageUnitEntity> storageUnitEntities, Boolean includeStorageUnitStatusHistory,\n        Boolean excludeBusinessObjectDataStorageFiles)", "modifiers": "", "return": "List<StorageUnit>", "signature": "List<StorageUnit> createStorageUnitsFromEntities(Collection<StorageUnitEntity> storageUnitEntities, Boolean includeStorageUnitStatusHistory,\n        Boolean excludeBusinessObjectDataStorageFiles)", "full_signature": " List<StorageUnit> createStorageUnitsFromEntities(Collection<StorageUnitEntity> storageUnitEntities, Boolean includeStorageUnitStatusHistory,\n        Boolean excludeBusinessObjectDataStorageFiles)", "class_method_signature": "StorageUnitHelper.createStorageUnitsFromEntities(Collection<StorageUnitEntity> storageUnitEntities, Boolean includeStorageUnitStatusHistory,\n        Boolean excludeBusinessObjectDataStorageFiles)", "testcase": false, "constructor": false}, {"identifier": "excludeBusinessObjectDataStatus", "parameters": "(List<StorageUnitAvailabilityDto> storageUnitAvailabilityDtos,\n        String excludedBusinessObjectDataStatus)", "modifiers": "public", "return": "List<StorageUnitAvailabilityDto>", "signature": "List<StorageUnitAvailabilityDto> excludeBusinessObjectDataStatus(List<StorageUnitAvailabilityDto> storageUnitAvailabilityDtos,\n        String excludedBusinessObjectDataStatus)", "full_signature": "public List<StorageUnitAvailabilityDto> excludeBusinessObjectDataStatus(List<StorageUnitAvailabilityDto> storageUnitAvailabilityDtos,\n        String excludedBusinessObjectDataStatus)", "class_method_signature": "StorageUnitHelper.excludeBusinessObjectDataStatus(List<StorageUnitAvailabilityDto> storageUnitAvailabilityDtos,\n        String excludedBusinessObjectDataStatus)", "testcase": false, "constructor": false}, {"identifier": "excludePartitions", "parameters": "(List<StorageUnitAvailabilityDto> storageUnitAvailabilityDtos,\n        List<List<String>> excludedPartitions)", "modifiers": "public", "return": "List<StorageUnitAvailabilityDto>", "signature": "List<StorageUnitAvailabilityDto> excludePartitions(List<StorageUnitAvailabilityDto> storageUnitAvailabilityDtos,\n        List<List<String>> excludedPartitions)", "full_signature": "public List<StorageUnitAvailabilityDto> excludePartitions(List<StorageUnitAvailabilityDto> storageUnitAvailabilityDtos,\n        List<List<String>> excludedPartitions)", "class_method_signature": "StorageUnitHelper.excludePartitions(List<StorageUnitAvailabilityDto> storageUnitAvailabilityDtos,\n        List<List<String>> excludedPartitions)", "testcase": false, "constructor": false}, {"identifier": "getBusinessObjectDataKey", "parameters": "(BusinessObjectDataStorageUnitKey businessObjectDataStorageUnitKey)", "modifiers": "public", "return": "BusinessObjectDataKey", "signature": "BusinessObjectDataKey getBusinessObjectDataKey(BusinessObjectDataStorageUnitKey businessObjectDataStorageUnitKey)", "full_signature": "public BusinessObjectDataKey getBusinessObjectDataKey(BusinessObjectDataStorageUnitKey businessObjectDataStorageUnitKey)", "class_method_signature": "StorageUnitHelper.getBusinessObjectDataKey(BusinessObjectDataStorageUnitKey businessObjectDataStorageUnitKey)", "testcase": false, "constructor": false}, {"identifier": "getStorageUnitIds", "parameters": "(List<StorageUnitAvailabilityDto> storageUnitAvailabilityDtos)", "modifiers": "public", "return": "List<Integer>", "signature": "List<Integer> getStorageUnitIds(List<StorageUnitAvailabilityDto> storageUnitAvailabilityDtos)", "full_signature": "public List<Integer> getStorageUnitIds(List<StorageUnitAvailabilityDto> storageUnitAvailabilityDtos)", "class_method_signature": "StorageUnitHelper.getStorageUnitIds(List<StorageUnitAvailabilityDto> storageUnitAvailabilityDtos)", "testcase": false, "constructor": false}, {"identifier": "validateBusinessObjectDataStorageUnitKey", "parameters": "(BusinessObjectDataStorageUnitKey key)", "modifiers": "public", "return": "void", "signature": "void validateBusinessObjectDataStorageUnitKey(BusinessObjectDataStorageUnitKey key)", "full_signature": "public void validateBusinessObjectDataStorageUnitKey(BusinessObjectDataStorageUnitKey key)", "class_method_signature": "StorageUnitHelper.validateBusinessObjectDataStorageUnitKey(BusinessObjectDataStorageUnitKey key)", "testcase": false, "constructor": false}], "file": "herd-code/herd-service/src/main/java/org/finra/herd/service/helper/StorageUnitHelper.java"}, "focal_method": {"identifier": "createStorageUnitKeyFromEntity", "parameters": "(StorageUnitEntity storageUnitEntity)", "modifiers": "public", "return": "BusinessObjectDataStorageUnitKey", "body": "public BusinessObjectDataStorageUnitKey createStorageUnitKeyFromEntity(StorageUnitEntity storageUnitEntity)\n    {\n        // Get the business object data entity.\n        BusinessObjectDataEntity businessObjectDataEntity = storageUnitEntity.getBusinessObjectData();\n\n        // Create and initialize the storage unit key.\n        BusinessObjectDataStorageUnitKey storageUnitKey = new BusinessObjectDataStorageUnitKey();\n        storageUnitKey.setNamespace(businessObjectDataEntity.getBusinessObjectFormat().getBusinessObjectDefinition().getNamespace().getCode());\n        storageUnitKey.setBusinessObjectDefinitionName(businessObjectDataEntity.getBusinessObjectFormat().getBusinessObjectDefinition().getName());\n        storageUnitKey.setBusinessObjectFormatUsage(businessObjectDataEntity.getBusinessObjectFormat().getUsage());\n        storageUnitKey.setBusinessObjectFormatFileType(businessObjectDataEntity.getBusinessObjectFormat().getFileType().getCode());\n        storageUnitKey.setBusinessObjectFormatVersion(businessObjectDataEntity.getBusinessObjectFormat().getBusinessObjectFormatVersion());\n        storageUnitKey.setPartitionValue(businessObjectDataEntity.getPartitionValue());\n        storageUnitKey.setSubPartitionValues(businessObjectDataHelper.getSubPartitionValues(businessObjectDataEntity));\n        storageUnitKey.setBusinessObjectDataVersion(businessObjectDataEntity.getVersion());\n        storageUnitKey.setStorageName(storageUnitEntity.getStorage().getName());\n\n        return storageUnitKey;\n    }", "signature": "BusinessObjectDataStorageUnitKey createStorageUnitKeyFromEntity(StorageUnitEntity storageUnitEntity)", "full_signature": "public BusinessObjectDataStorageUnitKey createStorageUnitKeyFromEntity(StorageUnitEntity storageUnitEntity)", "class_method_signature": "StorageUnitHelper.createStorageUnitKeyFromEntity(StorageUnitEntity storageUnitEntity)", "testcase": false, "constructor": false, "invocations": ["getBusinessObjectData", "setNamespace", "getCode", "getNamespace", "getBusinessObjectDefinition", "getBusinessObjectFormat", "setBusinessObjectDefinitionName", "getName", "getBusinessObjectDefinition", "getBusinessObjectFormat", "setBusinessObjectFormatUsage", "getUsage", "getBusinessObjectFormat", "setBusinessObjectFormatFileType", "getCode", "getFileType", "getBusinessObjectFormat", "setBusinessObjectFormatVersion", "getBusinessObjectFormatVersion", "getBusinessObjectFormat", "setPartitionValue", "getPartitionValue", "setSubPartitionValues", "getSubPartitionValues", "setBusinessObjectDataVersion", "getVersion", "setStorageName", "getName", "getStorage"]}, "repository": {"repo_id": 42949039, "url": "https://github.com/FINRAOS/herd", "language": "Java", "is_fork": false, "fork_count": 36, "stargazer_count": 120, "size": 205797, "license": "licensed"}}