{"test_class": {"identifier": "ReleasePackageJsonToObjectTest", "superclass": "", "interfaces": "", "fields": [], "file": "persistence-mongodb/src/test/java/org/devgateway/ocds/persistence/mongo/spring/json2object/ReleasePackageJsonToObjectTest.java"}, "test_case": {"identifier": "toObject", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void toObject() throws Exception {\n        final String jsonReleasePackage = \"{\\n\"\n                + \"    \\\"uri\\\": \"\n                + \"\\\"http://standard.open-contracting.org/examples/releases/ocds-213czf-000-00001-01-planning.json\\\",\\n\"\n                + \"    \\\"publishedDate\\\": \\\"2009-03-15T14:45:00Z\\\",\\n\"\n                + \"    \\\"publisher\\\": {\\n\"\n                + \"        \\\"scheme\\\": \\\"GB-COH\\\",\\n\"\n                + \"        \\\"uid\\\": \\\"09506232\\\",\\n\"\n                + \"        \\\"name\\\": \\\"Open Data Services Co-operative Limited\\\",\\n\"\n                + \"        \\\"uri\\\": \\\"http://standard.open-contracting.org/examples/\\\"\\n\"\n                + \"    },\\n\"\n                + \"    \\\"license\\\": \\\"http://opendatacommons.org/licenses/pddl/1.0/\\\",\\n\"\n                + \"    \\\"publicationPolicy\\\": \\\"https://github.com/open-contracting/sample-data/\\\",\\n\"\n                + \"    \\\"releases\\\":[{\\n\"\n                + \"        \\\"id\\\": \\\"123\\\",\\n\"\n                + \"        \\\"tag\\\": [\\\"tender\\\"],\\n\"\n                + \"        \\\"planning\\\": {\\n\"\n                + \"            \\\"budget\\\": {\\n\"\n                + \"                \\\"description\\\": \\\"budget desc...\\\",\\n\"\n                + \"                \\\"amount\\\": {\\n\"\n                + \"                    \\\"amount\\\": 10000,\\n\"\n                + \"                    \\\"currency\\\": \\\"USD\\\"\\n\"\n                + \"                }\\n\"\n                + \"            }\\n\"\n                + \"        }\\n\"\n                + \"    }]\\n\"\n                + \"}\";\n\n\n        final JsonToObject releasePackageJsonToObject = new ReleasePackageJsonToObject(jsonReleasePackage);\n\n        Assert.assertTrue(\"Object is a ReleasePackage\",\n                releasePackageJsonToObject.toObject() instanceof ReleasePackage);\n\n        final ReleasePackage releasePackage = (ReleasePackage) releasePackageJsonToObject.toObject();\n\n        Assert.assertEquals(\"Publisher uid are the same\", \"09506232\", releasePackage.getPublisher().getUid());\n        Assert.assertEquals(\"Check published date\",\n                new SimpleDateFormat(\"yyyy-MM-dd'T'hh:mm:sszzzz\").parse(\"2009-03-15T14:45:00-0000\"),\n                releasePackage.getPublishedDate());\n\n        Assert.assertFalse(\"Release array is not empty\", releasePackage.getReleases().isEmpty());\n        final Release release = releasePackage.getReleases().iterator().next();\n\n        Assert.assertEquals(\"Check budget amount\", new BigDecimal(10000),\n                release.getPlanning().getBudget().getAmount().getAmount());\n        Assert.assertEquals(\"Check budget currency\", Amount.Currency.USD,\n                release.getPlanning().getBudget().getAmount().getCurrency());\n    }", "signature": "void toObject()", "full_signature": "@Test public void toObject()", "class_method_signature": "ReleasePackageJsonToObjectTest.toObject()", "testcase": true, "constructor": false, "invocations": ["assertTrue", "toObject", "toObject", "assertEquals", "getUid", "getPublisher", "assertEquals", "parse", "getPublishedDate", "assertFalse", "isEmpty", "getReleases", "next", "iterator", "getReleases", "assertEquals", "getAmount", "getAmount", "getBudget", "getPlanning", "assertEquals", "getCurrency", "getAmount", "getBudget", "getPlanning"]}, "focal_class": {"identifier": "ReleasePackageJsonToObject", "superclass": "extends AbstractJsonToObject<ReleasePackage>", "interfaces": "", "fields": [{"original_string": "private ReleasePackage releasePackage;", "modifier": "private", "type": "ReleasePackage", "declarator": "releasePackage", "var_name": "releasePackage"}], "methods": [{"identifier": "ReleasePackageJsonToObject", "parameters": "(final String jsonObject)", "modifiers": "public", "return": "", "signature": " ReleasePackageJsonToObject(final String jsonObject)", "full_signature": "public  ReleasePackageJsonToObject(final String jsonObject)", "class_method_signature": "ReleasePackageJsonToObject.ReleasePackageJsonToObject(final String jsonObject)", "testcase": false, "constructor": true}, {"identifier": "ReleasePackageJsonToObject", "parameters": "(final InputStream inputStream)", "modifiers": "public", "return": "", "signature": " ReleasePackageJsonToObject(final InputStream inputStream)", "full_signature": "public  ReleasePackageJsonToObject(final InputStream inputStream)", "class_method_signature": "ReleasePackageJsonToObject.ReleasePackageJsonToObject(final InputStream inputStream)", "testcase": false, "constructor": true}, {"identifier": "ReleasePackageJsonToObject", "parameters": "(final File file)", "modifiers": "public", "return": "", "signature": " ReleasePackageJsonToObject(final File file)", "full_signature": "public  ReleasePackageJsonToObject(final File file)", "class_method_signature": "ReleasePackageJsonToObject.ReleasePackageJsonToObject(final File file)", "testcase": false, "constructor": true}, {"identifier": "toObject", "parameters": "()", "modifiers": "@Override public", "return": "ReleasePackage", "signature": "ReleasePackage toObject()", "full_signature": "@Override public ReleasePackage toObject()", "class_method_signature": "ReleasePackageJsonToObject.toObject()", "testcase": false, "constructor": false}], "file": "persistence-mongodb/src/main/java/org/devgateway/ocds/persistence/mongo/spring/json2object/ReleasePackageJsonToObject.java"}, "focal_method": {"identifier": "toObject", "parameters": "()", "modifiers": "@Override public", "return": "ReleasePackage", "body": "@Override\n    public ReleasePackage toObject() throws IOException {\n        if (releasePackage == null) {\n            // Transform JSON String to a Release Object\n            releasePackage = this.mapper.readValue(this.jsonObject, ReleasePackage.class);\n        }\n\n        return releasePackage;\n    }", "signature": "ReleasePackage toObject()", "full_signature": "@Override public ReleasePackage toObject()", "class_method_signature": "ReleasePackageJsonToObject.toObject()", "testcase": false, "constructor": false, "invocations": ["readValue"]}, "repository": {"repo_id": 59118773, "url": "https://github.com/devgateway/oc-explorer", "language": "Java", "is_fork": false, "fork_count": 2, "stargazer_count": 5, "size": 9004, "license": "licensed"}}