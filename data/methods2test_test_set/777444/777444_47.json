{"test_class": {"identifier": "CommandDispatcherTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private PrintStream outBack, errBack;", "modifier": "private", "type": "PrintStream", "declarator": "outBack", "var_name": "outBack"}, {"original_string": "private ByteArrayOutputStream outStream,errStream;", "modifier": "private", "type": "ByteArrayOutputStream", "declarator": "outStream", "var_name": "outStream"}], "file": "agent/jvm/src/test/java/org/jolokia/jvmagent/client/command/CommandDispatcherTest.java"}, "test_case": {"identifier": "descriptionWithPattern", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void descriptionWithPattern() throws AgentInitializationException, InvocationTargetException, IOException, NoSuchMethodException, AgentLoadException, IllegalAccessException {\n        CommandDispatcher d = new CommandDispatcher(opts(\"start\",\"blub\"));\n\n        VirtualMachineHandler vmh = createMock(VirtualMachineHandler.class);\n        VirtualMachine vm = createMock(VirtualMachine.class);\n        expect(vm.getSystemProperties()).andReturn(getProperties(false));\n        expect(vm.getSystemProperties()).andReturn(getProperties(true));\n        // Agent should be loaded for successful switch\n        vm.loadAgent(EasyMock.<String>anyObject(), EasyMock.<String>anyObject());\n\n        expect(vmh.findProcess(patternMatcher(\"blub\"))).andReturn(new ProcessDescription(\"18\", \"bla blub blie\"));\n        replay(vm, vmh);\n\n        int rc = d.dispatchCommand(vm, vmh);\n\n        assertEquals(rc, 0);\n        verify(vm, vmh);\n    }", "signature": "void descriptionWithPattern()", "full_signature": "@Test public void descriptionWithPattern()", "class_method_signature": "CommandDispatcherTest.descriptionWithPattern()", "testcase": true, "constructor": false, "invocations": ["opts", "createMock", "createMock", "andReturn", "expect", "getSystemProperties", "getProperties", "andReturn", "expect", "getSystemProperties", "getProperties", "loadAgent", "anyObject", "anyObject", "andReturn", "expect", "findProcess", "patternMatcher", "replay", "dispatchCommand", "assertEquals", "verify"]}, "focal_class": {"identifier": "CommandDispatcher", "superclass": "", "interfaces": "", "fields": [{"original_string": "private OptionsAndArgs options;", "modifier": "private", "type": "OptionsAndArgs", "declarator": "options", "var_name": "options"}, {"original_string": "private static final Map<String,AbstractBaseCommand> COMMANDS = new HashMap<String, AbstractBaseCommand>();", "modifier": "private static final", "type": "Map<String,AbstractBaseCommand>", "declarator": "COMMANDS = new HashMap<String, AbstractBaseCommand>()", "var_name": "COMMANDS"}], "methods": [{"identifier": "CommandDispatcher", "parameters": "(OptionsAndArgs pOptions)", "modifiers": "public", "return": "", "signature": " CommandDispatcher(OptionsAndArgs pOptions)", "full_signature": "public  CommandDispatcher(OptionsAndArgs pOptions)", "class_method_signature": "CommandDispatcher.CommandDispatcher(OptionsAndArgs pOptions)", "testcase": false, "constructor": true}, {"identifier": "dispatchCommand", "parameters": "(Object pVm,VirtualMachineHandler pHandler)", "modifiers": "public", "return": "int", "signature": "int dispatchCommand(Object pVm,VirtualMachineHandler pHandler)", "full_signature": "public int dispatchCommand(Object pVm,VirtualMachineHandler pHandler)", "class_method_signature": "CommandDispatcher.dispatchCommand(Object pVm,VirtualMachineHandler pHandler)", "testcase": false, "constructor": false}, {"identifier": "getAvailableCommands", "parameters": "()", "modifiers": "public static", "return": "Set<String>", "signature": "Set<String> getAvailableCommands()", "full_signature": "public static Set<String> getAvailableCommands()", "class_method_signature": "CommandDispatcher.getAvailableCommands()", "testcase": false, "constructor": false}, {"identifier": "printHelp", "parameters": "()", "modifiers": "public static", "return": "void", "signature": "void printHelp()", "full_signature": "public static void printHelp()", "class_method_signature": "CommandDispatcher.printHelp()", "testcase": false, "constructor": false}], "file": "agent/jvm/src/main/java/org/jolokia/jvmagent/client/command/CommandDispatcher.java"}, "focal_method": {"identifier": "dispatchCommand", "parameters": "(Object pVm,VirtualMachineHandler pHandler)", "modifiers": "public", "return": "int", "body": "public int dispatchCommand(Object pVm,VirtualMachineHandler pHandler) throws InvocationTargetException, NoSuchMethodException, IllegalAccessException {\n        String commandName = options.getCommand();\n        AbstractBaseCommand command = COMMANDS.get(commandName);\n        if (command == null) {\n            throw new IllegalArgumentException(\"Unknown command '\" + commandName + \"'\");\n        }\n        return command.execute(options,pVm,pHandler);\n    }", "signature": "int dispatchCommand(Object pVm,VirtualMachineHandler pHandler)", "full_signature": "public int dispatchCommand(Object pVm,VirtualMachineHandler pHandler)", "class_method_signature": "CommandDispatcher.dispatchCommand(Object pVm,VirtualMachineHandler pHandler)", "testcase": false, "constructor": false, "invocations": ["getCommand", "get", "execute"]}, "repository": {"repo_id": 777444, "url": "https://github.com/rhuss/jolokia", "language": "Java", "is_fork": false, "fork_count": 187, "stargazer_count": 682, "size": 20451, "license": "licensed"}}