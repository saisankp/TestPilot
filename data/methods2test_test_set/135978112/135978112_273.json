{"test_class": {"identifier": "ConfigDefTest", "superclass": "", "interfaces": "", "fields": [], "file": "clients/src/test/java/org/apache/kafka/common/config/ConfigDefTest.java"}, "test_case": {"identifier": "testValidate", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testValidate() {\n        Map<String, ConfigValue> expected = new HashMap<>();\n        String errorMessageB = \"Missing required configuration \\\"b\\\" which has no default value.\";\n        String errorMessageC = \"Missing required configuration \\\"c\\\" which has no default value.\";\n\n        ConfigValue configA = new ConfigValue(\"a\", 1, Arrays.<Object>asList(1, 2, 3), Collections.<String>emptyList());\n        ConfigValue configB = new ConfigValue(\"b\", null, Arrays.<Object>asList(4, 5), Arrays.asList(errorMessageB, errorMessageB));\n        ConfigValue configC = new ConfigValue(\"c\", null, Arrays.<Object>asList(4, 5), Arrays.asList(errorMessageC));\n        ConfigValue configD = new ConfigValue(\"d\", 10, Arrays.<Object>asList(1, 2, 3), Collections.<String>emptyList());\n\n        expected.put(\"a\", configA);\n        expected.put(\"b\", configB);\n        expected.put(\"c\", configC);\n        expected.put(\"d\", configD);\n\n        ConfigDef def = new ConfigDef()\n            .define(\"a\", Type.INT, Importance.HIGH, \"docs\", \"group\", 1, Width.SHORT, \"a\", Arrays.asList(\"b\", \"c\"), new IntegerRecommender(false))\n            .define(\"b\", Type.INT, Importance.HIGH, \"docs\", \"group\", 2, Width.SHORT, \"b\", new IntegerRecommender(true))\n            .define(\"c\", Type.INT, Importance.HIGH, \"docs\", \"group\", 3, Width.SHORT, \"c\", new IntegerRecommender(true))\n            .define(\"d\", Type.INT, Importance.HIGH, \"docs\", \"group\", 4, Width.SHORT, \"d\", Arrays.asList(\"b\"), new IntegerRecommender(false));\n\n        Map<String, String> props = new HashMap<>();\n        props.put(\"a\", \"1\");\n        props.put(\"d\", \"10\");\n\n        List<ConfigValue> configs = def.validate(props);\n        for (ConfigValue config : configs) {\n            String name = config.name();\n            ConfigValue expectedConfig = expected.get(name);\n            assertEquals(expectedConfig, config);\n        }\n    }", "signature": "void testValidate()", "full_signature": "@Test public void testValidate()", "class_method_signature": "ConfigDefTest.testValidate()", "testcase": true, "constructor": false, "invocations": ["asList", "emptyList", "asList", "asList", "asList", "asList", "asList", "emptyList", "put", "put", "put", "put", "define", "define", "define", "define", "asList", "asList", "put", "put", "validate", "name", "get", "assertEquals"]}, "focal_class": {"identifier": "ConfigDef", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final Object NO_DEFAULT_VALUE = new String(\"\");", "modifier": "public static final", "type": "Object", "declarator": "NO_DEFAULT_VALUE = new String(\"\")", "var_name": "NO_DEFAULT_VALUE"}, {"original_string": "private final Map<String, ConfigKey> configKeys = new HashMap<>();", "modifier": "private final", "type": "Map<String, ConfigKey>", "declarator": "configKeys = new HashMap<>()", "var_name": "configKeys"}, {"original_string": "private final List<String> groups = new LinkedList<>();", "modifier": "private final", "type": "List<String>", "declarator": "groups = new LinkedList<>()", "var_name": "groups"}, {"original_string": "private Set<String> configsWithNoParent;", "modifier": "private", "type": "Set<String>", "declarator": "configsWithNoParent", "var_name": "configsWithNoParent"}], "methods": [{"identifier": "names", "parameters": "()", "modifiers": "public", "return": "Set<String>", "signature": "Set<String> names()", "full_signature": "public Set<String> names()", "class_method_signature": "ConfigDef.names()", "testcase": false, "constructor": false}, {"identifier": "define", "parameters": "(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, List<String> dependents, Recommender recommender)", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef define(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, List<String> dependents, Recommender recommender)", "full_signature": "public ConfigDef define(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, List<String> dependents, Recommender recommender)", "class_method_signature": "ConfigDef.define(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, List<String> dependents, Recommender recommender)", "testcase": false, "constructor": false}, {"identifier": "define", "parameters": "(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, List<String> dependents)", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef define(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, List<String> dependents)", "full_signature": "public ConfigDef define(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, List<String> dependents)", "class_method_signature": "ConfigDef.define(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, List<String> dependents)", "testcase": false, "constructor": false}, {"identifier": "define", "parameters": "(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, Recommender recommender)", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef define(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, Recommender recommender)", "full_signature": "public ConfigDef define(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, Recommender recommender)", "class_method_signature": "ConfigDef.define(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, Recommender recommender)", "testcase": false, "constructor": false}, {"identifier": "define", "parameters": "(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName)", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef define(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName)", "full_signature": "public ConfigDef define(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName)", "class_method_signature": "ConfigDef.define(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName)", "testcase": false, "constructor": false}, {"identifier": "define", "parameters": "(String name, Type type, Object defaultValue, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, List<String> dependents, Recommender recommender)", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef define(String name, Type type, Object defaultValue, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, List<String> dependents, Recommender recommender)", "full_signature": "public ConfigDef define(String name, Type type, Object defaultValue, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, List<String> dependents, Recommender recommender)", "class_method_signature": "ConfigDef.define(String name, Type type, Object defaultValue, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, List<String> dependents, Recommender recommender)", "testcase": false, "constructor": false}, {"identifier": "define", "parameters": "(String name, Type type, Object defaultValue, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, List<String> dependents)", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef define(String name, Type type, Object defaultValue, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, List<String> dependents)", "full_signature": "public ConfigDef define(String name, Type type, Object defaultValue, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, List<String> dependents)", "class_method_signature": "ConfigDef.define(String name, Type type, Object defaultValue, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, List<String> dependents)", "testcase": false, "constructor": false}, {"identifier": "define", "parameters": "(String name, Type type, Object defaultValue, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, Recommender recommender)", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef define(String name, Type type, Object defaultValue, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, Recommender recommender)", "full_signature": "public ConfigDef define(String name, Type type, Object defaultValue, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, Recommender recommender)", "class_method_signature": "ConfigDef.define(String name, Type type, Object defaultValue, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName, Recommender recommender)", "testcase": false, "constructor": false}, {"identifier": "define", "parameters": "(String name, Type type, Object defaultValue, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName)", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef define(String name, Type type, Object defaultValue, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName)", "full_signature": "public ConfigDef define(String name, Type type, Object defaultValue, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName)", "class_method_signature": "ConfigDef.define(String name, Type type, Object defaultValue, Importance importance, String documentation,\n                            String group, int orderInGroup, Width width, String displayName)", "testcase": false, "constructor": false}, {"identifier": "define", "parameters": "(String name, Type type, Importance importance, String documentation, String group, int orderInGroup,\n                            Width width, String displayName, List<String> dependents, Recommender recommender)", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef define(String name, Type type, Importance importance, String documentation, String group, int orderInGroup,\n                            Width width, String displayName, List<String> dependents, Recommender recommender)", "full_signature": "public ConfigDef define(String name, Type type, Importance importance, String documentation, String group, int orderInGroup,\n                            Width width, String displayName, List<String> dependents, Recommender recommender)", "class_method_signature": "ConfigDef.define(String name, Type type, Importance importance, String documentation, String group, int orderInGroup,\n                            Width width, String displayName, List<String> dependents, Recommender recommender)", "testcase": false, "constructor": false}, {"identifier": "define", "parameters": "(String name, Type type, Importance importance, String documentation, String group, int orderInGroup,\n                            Width width, String displayName, List<String> dependents)", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef define(String name, Type type, Importance importance, String documentation, String group, int orderInGroup,\n                            Width width, String displayName, List<String> dependents)", "full_signature": "public ConfigDef define(String name, Type type, Importance importance, String documentation, String group, int orderInGroup,\n                            Width width, String displayName, List<String> dependents)", "class_method_signature": "ConfigDef.define(String name, Type type, Importance importance, String documentation, String group, int orderInGroup,\n                            Width width, String displayName, List<String> dependents)", "testcase": false, "constructor": false}, {"identifier": "define", "parameters": "(String name, Type type, Importance importance, String documentation, String group, int orderInGroup,\n                            Width width, String displayName, Recommender recommender)", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef define(String name, Type type, Importance importance, String documentation, String group, int orderInGroup,\n                            Width width, String displayName, Recommender recommender)", "full_signature": "public ConfigDef define(String name, Type type, Importance importance, String documentation, String group, int orderInGroup,\n                            Width width, String displayName, Recommender recommender)", "class_method_signature": "ConfigDef.define(String name, Type type, Importance importance, String documentation, String group, int orderInGroup,\n                            Width width, String displayName, Recommender recommender)", "testcase": false, "constructor": false}, {"identifier": "define", "parameters": "(String name, Type type, Importance importance, String documentation, String group, int orderInGroup,\n                            Width width, String displayName)", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef define(String name, Type type, Importance importance, String documentation, String group, int orderInGroup,\n                            Width width, String displayName)", "full_signature": "public ConfigDef define(String name, Type type, Importance importance, String documentation, String group, int orderInGroup,\n                            Width width, String displayName)", "class_method_signature": "ConfigDef.define(String name, Type type, Importance importance, String documentation, String group, int orderInGroup,\n                            Width width, String displayName)", "testcase": false, "constructor": false}, {"identifier": "define", "parameters": "(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation)", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef define(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation)", "full_signature": "public ConfigDef define(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation)", "class_method_signature": "ConfigDef.define(String name, Type type, Object defaultValue, Validator validator, Importance importance, String documentation)", "testcase": false, "constructor": false}, {"identifier": "define", "parameters": "(String name, Type type, Object defaultValue, Importance importance, String documentation)", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef define(String name, Type type, Object defaultValue, Importance importance, String documentation)", "full_signature": "public ConfigDef define(String name, Type type, Object defaultValue, Importance importance, String documentation)", "class_method_signature": "ConfigDef.define(String name, Type type, Object defaultValue, Importance importance, String documentation)", "testcase": false, "constructor": false}, {"identifier": "define", "parameters": "(String name, Type type, Importance importance, String documentation)", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef define(String name, Type type, Importance importance, String documentation)", "full_signature": "public ConfigDef define(String name, Type type, Importance importance, String documentation)", "class_method_signature": "ConfigDef.define(String name, Type type, Importance importance, String documentation)", "testcase": false, "constructor": false}, {"identifier": "configKeys", "parameters": "()", "modifiers": "public", "return": "Map<String, ConfigKey>", "signature": "Map<String, ConfigKey> configKeys()", "full_signature": "public Map<String, ConfigKey> configKeys()", "class_method_signature": "ConfigDef.configKeys()", "testcase": false, "constructor": false}, {"identifier": "groups", "parameters": "()", "modifiers": "public", "return": "List<String>", "signature": "List<String> groups()", "full_signature": "public List<String> groups()", "class_method_signature": "ConfigDef.groups()", "testcase": false, "constructor": false}, {"identifier": "withClientSslSupport", "parameters": "()", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef withClientSslSupport()", "full_signature": "public ConfigDef withClientSslSupport()", "class_method_signature": "ConfigDef.withClientSslSupport()", "testcase": false, "constructor": false}, {"identifier": "withClientSaslSupport", "parameters": "()", "modifiers": "public", "return": "ConfigDef", "signature": "ConfigDef withClientSaslSupport()", "full_signature": "public ConfigDef withClientSaslSupport()", "class_method_signature": "ConfigDef.withClientSaslSupport()", "testcase": false, "constructor": false}, {"identifier": "parse", "parameters": "(Map<?, ?> props)", "modifiers": "public", "return": "Map<String, Object>", "signature": "Map<String, Object> parse(Map<?, ?> props)", "full_signature": "public Map<String, Object> parse(Map<?, ?> props)", "class_method_signature": "ConfigDef.parse(Map<?, ?> props)", "testcase": false, "constructor": false}, {"identifier": "validate", "parameters": "(Map<String, String> props)", "modifiers": "public", "return": "List<ConfigValue>", "signature": "List<ConfigValue> validate(Map<String, String> props)", "full_signature": "public List<ConfigValue> validate(Map<String, String> props)", "class_method_signature": "ConfigDef.validate(Map<String, String> props)", "testcase": false, "constructor": false}, {"identifier": "parseForValidate", "parameters": "(Map<String, String> props, Map<String, ConfigValue> configValues)", "modifiers": "", "return": "Map<String, Object>", "signature": "Map<String, Object> parseForValidate(Map<String, String> props, Map<String, ConfigValue> configValues)", "full_signature": " Map<String, Object> parseForValidate(Map<String, String> props, Map<String, ConfigValue> configValues)", "class_method_signature": "ConfigDef.parseForValidate(Map<String, String> props, Map<String, ConfigValue> configValues)", "testcase": false, "constructor": false}, {"identifier": "validate", "parameters": "(Map<String, Object> parsed, Map<String, ConfigValue> configValues)", "modifiers": "private", "return": "List<ConfigValue>", "signature": "List<ConfigValue> validate(Map<String, Object> parsed, Map<String, ConfigValue> configValues)", "full_signature": "private List<ConfigValue> validate(Map<String, Object> parsed, Map<String, ConfigValue> configValues)", "class_method_signature": "ConfigDef.validate(Map<String, Object> parsed, Map<String, ConfigValue> configValues)", "testcase": false, "constructor": false}, {"identifier": "undefinedDependentConfigs", "parameters": "()", "modifiers": "private", "return": "List<String>", "signature": "List<String> undefinedDependentConfigs()", "full_signature": "private List<String> undefinedDependentConfigs()", "class_method_signature": "ConfigDef.undefinedDependentConfigs()", "testcase": false, "constructor": false}, {"identifier": "getConfigsWithNoParent", "parameters": "()", "modifiers": "private", "return": "Set<String>", "signature": "Set<String> getConfigsWithNoParent()", "full_signature": "private Set<String> getConfigsWithNoParent()", "class_method_signature": "ConfigDef.getConfigsWithNoParent()", "testcase": false, "constructor": false}, {"identifier": "parseForValidate", "parameters": "(String name, Map<String, String> props, Map<String, Object> parsed, Map<String, ConfigValue> configs)", "modifiers": "private", "return": "void", "signature": "void parseForValidate(String name, Map<String, String> props, Map<String, Object> parsed, Map<String, ConfigValue> configs)", "full_signature": "private void parseForValidate(String name, Map<String, String> props, Map<String, Object> parsed, Map<String, ConfigValue> configs)", "class_method_signature": "ConfigDef.parseForValidate(String name, Map<String, String> props, Map<String, Object> parsed, Map<String, ConfigValue> configs)", "testcase": false, "constructor": false}, {"identifier": "validate", "parameters": "(String name, Map<String, Object> parsed, Map<String, ConfigValue> configs)", "modifiers": "@SuppressWarnings(\"unchecked\") private", "return": "void", "signature": "void validate(String name, Map<String, Object> parsed, Map<String, ConfigValue> configs)", "full_signature": "@SuppressWarnings(\"unchecked\") private void validate(String name, Map<String, Object> parsed, Map<String, ConfigValue> configs)", "class_method_signature": "ConfigDef.validate(String name, Map<String, Object> parsed, Map<String, ConfigValue> configs)", "testcase": false, "constructor": false}, {"identifier": "parseType", "parameters": "(String name, Object value, Type type)", "modifiers": "private", "return": "Object", "signature": "Object parseType(String name, Object value, Type type)", "full_signature": "private Object parseType(String name, Object value, Type type)", "class_method_signature": "ConfigDef.parseType(String name, Object value, Type type)", "testcase": false, "constructor": false}, {"identifier": "convertToString", "parameters": "(Object parsedValue, Type type)", "modifiers": "public static", "return": "String", "signature": "String convertToString(Object parsedValue, Type type)", "full_signature": "public static String convertToString(Object parsedValue, Type type)", "class_method_signature": "ConfigDef.convertToString(Object parsedValue, Type type)", "testcase": false, "constructor": false}, {"identifier": "toHtmlTable", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String toHtmlTable()", "full_signature": "public String toHtmlTable()", "class_method_signature": "ConfigDef.toHtmlTable()", "testcase": false, "constructor": false}, {"identifier": "toRst", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String toRst()", "full_signature": "public String toRst()", "class_method_signature": "ConfigDef.toRst()", "testcase": false, "constructor": false}, {"identifier": "sortedConfigs", "parameters": "()", "modifiers": "private", "return": "List<ConfigKey>", "signature": "List<ConfigKey> sortedConfigs()", "full_signature": "private List<ConfigKey> sortedConfigs()", "class_method_signature": "ConfigDef.sortedConfigs()", "testcase": false, "constructor": false}], "file": "clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java"}, "focal_method": {"identifier": "validate", "parameters": "(Map<String, String> props)", "modifiers": "public", "return": "List<ConfigValue>", "body": "public List<ConfigValue> validate(Map<String, String> props) {\n        Map<String, ConfigValue> configValues = new HashMap<>();\n        for (String name: configKeys.keySet()) {\n            configValues.put(name, new ConfigValue(name));\n        }\n\n        List<String> undefinedConfigKeys = undefinedDependentConfigs();\n        for (String undefinedConfigKey: undefinedConfigKeys) {\n            ConfigValue undefinedConfigValue = new ConfigValue(undefinedConfigKey);\n            undefinedConfigValue.addErrorMessage(undefinedConfigKey + \" is referred in the dependents, but not defined.\");\n            undefinedConfigValue.visible(false);\n            configValues.put(undefinedConfigKey, undefinedConfigValue);\n        }\n\n        Map<String, Object> parsed = parseForValidate(props, configValues);\n        return validate(parsed, configValues);\n    }", "signature": "List<ConfigValue> validate(Map<String, String> props)", "full_signature": "public List<ConfigValue> validate(Map<String, String> props)", "class_method_signature": "ConfigDef.validate(Map<String, String> props)", "testcase": false, "constructor": false, "invocations": ["keySet", "put", "undefinedDependentConfigs", "addErrorMessage", "visible", "put", "parseForValidate", "validate"]}, "repository": {"repo_id": 135978112, "url": "https://github.com/anurnomeru/kafka-0.10.0.1-source-reading", "language": "Java", "is_fork": false, "fork_count": 1, "stargazer_count": 7, "size": 2953, "license": "licensed"}}