{"test_class": {"identifier": "HostProfilerTest", "superclass": "extends ConsolidationAlgorithmsTest", "interfaces": "", "fields": [{"original_string": "private HostProfiler spyProfiler;", "modifier": "private", "type": "HostProfiler", "declarator": "spyProfiler", "var_name": "spyProfiler"}], "file": "autonomic-administration-algorithms/src/test/java/br/com/autonomiccs/autonomic/administration/algorithms/profilers/HostProfilerTest.java"}, "test_case": {"identifier": "hostVMsResourceProportionTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void hostVMsResourceProportionTest() {\n        HostProfile hostProfile = spyProfiler.hostVMsResourceProportion(createHost(4, 1000l, 0l, 5000l, 0l));\n\n        Assert.assertNotNull(hostProfile);\n        Assert.assertEquals(1.0, hostProfile.getCpuSpeedProfile(), 0.0);\n        Assert.assertEquals(4, hostProfile.getCpusProfile(), 0.0);\n        Assert.assertEquals(10, hostProfile.getMemoryProfile(), 0.0);\n\n        InOrder inOrder = Mockito.inOrder(spyProfiler);\n        inOrder.verify(spyProfiler).getHostsVmsResources();\n        inOrder.verify(spyProfiler).createClusterVmsProfile(Mockito.any(ClusterVmProfile.class));\n    }", "signature": "void hostVMsResourceProportionTest()", "full_signature": "@Test public void hostVMsResourceProportionTest()", "class_method_signature": "HostProfilerTest.hostVMsResourceProportionTest()", "testcase": true, "constructor": false, "invocations": ["hostVMsResourceProportion", "createHost", "assertNotNull", "assertEquals", "getCpuSpeedProfile", "assertEquals", "getCpusProfile", "assertEquals", "getMemoryProfile", "inOrder", "getHostsVmsResources", "verify", "createClusterVmsProfile", "verify", "any"]}, "focal_class": {"identifier": "HostProfiler", "superclass": "", "interfaces": "", "fields": [{"original_string": "protected final static int BYTES_TO_MEGA_BYTES = 1000000;", "modifier": "protected final static", "type": "int", "declarator": "BYTES_TO_MEGA_BYTES = 1000000", "var_name": "BYTES_TO_MEGA_BYTES"}, {"original_string": "private List<HostResources> hosts;", "modifier": "private", "type": "List<HostResources>", "declarator": "hosts", "var_name": "hosts"}], "methods": [{"identifier": "HostProfiler", "parameters": "(List<HostResources> hosts)", "modifiers": "public", "return": "", "signature": " HostProfiler(List<HostResources> hosts)", "full_signature": "public  HostProfiler(List<HostResources> hosts)", "class_method_signature": "HostProfiler.HostProfiler(List<HostResources> hosts)", "testcase": false, "constructor": true}, {"identifier": "hostVMsResourceProportion", "parameters": "(HostResources host)", "modifiers": "public", "return": "HostProfile", "signature": "HostProfile hostVMsResourceProportion(HostResources host)", "full_signature": "public HostProfile hostVMsResourceProportion(HostResources host)", "class_method_signature": "HostProfiler.hostVMsResourceProportion(HostResources host)", "testcase": false, "constructor": false}, {"identifier": "createClusterVmsProfile", "parameters": "(ClusterVmProfile vmsProfile)", "modifiers": "public", "return": "ClusterVmProfile", "signature": "ClusterVmProfile createClusterVmsProfile(ClusterVmProfile vmsProfile)", "full_signature": "public ClusterVmProfile createClusterVmsProfile(ClusterVmProfile vmsProfile)", "class_method_signature": "HostProfiler.createClusterVmsProfile(ClusterVmProfile vmsProfile)", "testcase": false, "constructor": false}, {"identifier": "getHostsVmsResources", "parameters": "()", "modifiers": "public", "return": "ClusterVmProfile", "signature": "ClusterVmProfile getHostsVmsResources()", "full_signature": "public ClusterVmProfile getHostsVmsResources()", "class_method_signature": "HostProfiler.getHostsVmsResources()", "testcase": false, "constructor": false}], "file": "autonomic-administration-algorithms/src/main/java/br/com/autonomiccs/autonomic/administration/algorithms/profilers/HostProfiler.java"}, "focal_method": {"identifier": "hostVMsResourceProportion", "parameters": "(HostResources host)", "modifiers": "public", "return": "HostProfile", "body": "public HostProfile hostVMsResourceProportion(HostResources host) {\n        ClusterVmProfile clusterVmsProfile = createClusterVmsProfile(getHostsVmsResources());\n        HostProfile hostProfile = new HostProfile();\n\n        hostProfile.setCpusProfile(host.getCpus() / clusterVmsProfile.getCpusProfile());\n        hostProfile.setCpuSpeedProfile((host.getSpeed() * host.getCpuOverprovisioning()) / clusterVmsProfile.getCpuSpeedProfile());\n        hostProfile.setMemoryProfile(((host.getTotalMemoryInBytes() / BYTES_TO_MEGA_BYTES) * host.getMemoryOverprovisioning()) / clusterVmsProfile.getMemoryProfile());\n\n        return hostProfile;\n    }", "signature": "HostProfile hostVMsResourceProportion(HostResources host)", "full_signature": "public HostProfile hostVMsResourceProportion(HostResources host)", "class_method_signature": "HostProfiler.hostVMsResourceProportion(HostResources host)", "testcase": false, "constructor": false, "invocations": ["createClusterVmsProfile", "getHostsVmsResources", "setCpusProfile", "getCpus", "getCpusProfile", "setCpuSpeedProfile", "getSpeed", "getCpuOverprovisioning", "getCpuSpeedProfile", "setMemoryProfile", "getTotalMemoryInBytes", "getMemoryOverprovisioning", "getMemoryProfile"]}, "repository": {"repo_id": 56359101, "url": "https://github.com/Autonomiccs/autonomiccs-platform", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 17, "size": 944, "license": "licensed"}}