{"test_class": {"identifier": "FeatureVisitorTest", "superclass": "extends VisitorTest", "interfaces": "", "fields": [{"original_string": "private FeatureVisitor featureVisitor;", "modifier": "private", "type": "FeatureVisitor", "declarator": "featureVisitor", "var_name": "featureVisitor"}, {"original_string": "private AllFeaturesPageRenderer allFeaturesPageRenderer;", "modifier": "private", "type": "AllFeaturesPageRenderer", "declarator": "allFeaturesPageRenderer", "var_name": "allFeaturesPageRenderer"}], "file": "plugin-code/src/test/java/com/trivago/cluecumber/rendering/pages/visitors/FeatureVisitorTest.java"}, "test_case": {"identifier": "visitTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void visitTest() throws CluecumberPluginException {\n        when(allFeaturesPageRenderer.getRenderedContent(any(), any())).thenReturn(\"MyRenderedFeatures\");\n        when(allScenariosPageRenderer.getRenderedContentByFeatureFilter(any(), any(), any())).thenReturn(\"MyRenderedScenarios\");\n        featureVisitor.visit(getAllScenarioPageCollection());\n        verify(fileIo, times(1))\n                .writeContentToFile(\"MyRenderedFeatures\", \"dummyPath/pages/feature-summary.html\");\n        verify(fileIo, times(1))\n                .writeContentToFile(\"MyRenderedScenarios\", \"dummyPath/pages/feature-scenarios/feature_12.html\");\n    }", "signature": "void visitTest()", "full_signature": "@Test public void visitTest()", "class_method_signature": "FeatureVisitorTest.visitTest()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "getRenderedContent", "any", "any", "thenReturn", "when", "getRenderedContentByFeatureFilter", "any", "any", "any", "visit", "getAllScenarioPageCollection", "writeContentToFile", "verify", "times", "writeContentToFile", "verify", "times"]}, "focal_class": {"identifier": "FeatureVisitor", "superclass": "", "interfaces": "implements PageVisitor", "fields": [{"original_string": "private final FileIO fileIO;", "modifier": "private final", "type": "FileIO", "declarator": "fileIO", "var_name": "fileIO"}, {"original_string": "private final TemplateEngine templateEngine;", "modifier": "private final", "type": "TemplateEngine", "declarator": "templateEngine", "var_name": "templateEngine"}, {"original_string": "private final PropertyManager propertyManager;", "modifier": "private final", "type": "PropertyManager", "declarator": "propertyManager", "var_name": "propertyManager"}, {"original_string": "private final AllFeaturesPageRenderer allFeaturesPageRenderer;", "modifier": "private final", "type": "AllFeaturesPageRenderer", "declarator": "allFeaturesPageRenderer", "var_name": "allFeaturesPageRenderer"}, {"original_string": "private final AllScenariosPageRenderer allScenariosPageRenderer;", "modifier": "private final", "type": "AllScenariosPageRenderer", "declarator": "allScenariosPageRenderer", "var_name": "allScenariosPageRenderer"}], "methods": [{"identifier": "FeatureVisitor", "parameters": "(\n            final FileIO fileIO,\n            final TemplateEngine templateEngine,\n            final PropertyManager propertyManager,\n            final AllFeaturesPageRenderer allFeaturesPageRenderer,\n            final AllScenariosPageRenderer allScenariosPageRenderer\n    )", "modifiers": "@Inject public", "return": "", "signature": " FeatureVisitor(\n            final FileIO fileIO,\n            final TemplateEngine templateEngine,\n            final PropertyManager propertyManager,\n            final AllFeaturesPageRenderer allFeaturesPageRenderer,\n            final AllScenariosPageRenderer allScenariosPageRenderer\n    )", "full_signature": "@Inject public  FeatureVisitor(\n            final FileIO fileIO,\n            final TemplateEngine templateEngine,\n            final PropertyManager propertyManager,\n            final AllFeaturesPageRenderer allFeaturesPageRenderer,\n            final AllScenariosPageRenderer allScenariosPageRenderer\n    )", "class_method_signature": "FeatureVisitor.FeatureVisitor(\n            final FileIO fileIO,\n            final TemplateEngine templateEngine,\n            final PropertyManager propertyManager,\n            final AllFeaturesPageRenderer allFeaturesPageRenderer,\n            final AllScenariosPageRenderer allScenariosPageRenderer\n    )", "testcase": false, "constructor": true}, {"identifier": "visit", "parameters": "(final AllScenariosPageCollection allScenariosPageCollection)", "modifiers": "@Override public", "return": "void", "signature": "void visit(final AllScenariosPageCollection allScenariosPageCollection)", "full_signature": "@Override public void visit(final AllScenariosPageCollection allScenariosPageCollection)", "class_method_signature": "FeatureVisitor.visit(final AllScenariosPageCollection allScenariosPageCollection)", "testcase": false, "constructor": false}], "file": "plugin-code/src/main/java/com/trivago/cluecumber/rendering/pages/visitors/FeatureVisitor.java"}, "focal_method": {"identifier": "visit", "parameters": "(final AllScenariosPageCollection allScenariosPageCollection)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void visit(final AllScenariosPageCollection allScenariosPageCollection) throws CluecumberPluginException {\n        AllFeaturesPageCollection allFeaturesPageCollection =\n                new AllFeaturesPageCollection(allScenariosPageCollection.getReports(), propertyManager.getCustomPageTitle());\n\n        // All features summary page\n        fileIO.writeContentToFile(\n                allFeaturesPageRenderer.getRenderedContent(allFeaturesPageCollection,\n                        templateEngine.getTemplate(ALL_FEATURES)),\n                propertyManager.getGeneratedHtmlReportDirectory() + \"/\" + PluginSettings.PAGES_DIRECTORY + \"/\" +\n                        PluginSettings.FEATURE_SUMMARY_PAGE_PATH + PluginSettings.HTML_FILE_EXTENSION);\n\n        // Scenarios by feature pages\n        for (Feature feature : allFeaturesPageCollection.getFeatures()) {\n            fileIO.writeContentToFile(\n                    allScenariosPageRenderer.getRenderedContentByFeatureFilter(\n                            allScenariosPageCollection,\n                            templateEngine.getTemplate(ALL_SCENARIOS),\n                            feature\n                    ),\n                    propertyManager.getGeneratedHtmlReportDirectory() + \"/\" +\n                            PluginSettings.PAGES_DIRECTORY + PluginSettings.FEATURE_SCENARIOS_PAGE_FRAGMENT +\n                            feature.getIndex() + PluginSettings.HTML_FILE_EXTENSION);\n        }\n    }", "signature": "void visit(final AllScenariosPageCollection allScenariosPageCollection)", "full_signature": "@Override public void visit(final AllScenariosPageCollection allScenariosPageCollection)", "class_method_signature": "FeatureVisitor.visit(final AllScenariosPageCollection allScenariosPageCollection)", "testcase": false, "constructor": false, "invocations": ["getReports", "getCustomPageTitle", "writeContentToFile", "getRenderedContent", "getTemplate", "getGeneratedHtmlReportDirectory", "getFeatures", "writeContentToFile", "getRenderedContentByFeatureFilter", "getTemplate", "getGeneratedHtmlReportDirectory", "getIndex"]}, "repository": {"repo_id": 109986674, "url": "https://github.com/trivago/cluecumber-report-plugin", "stars": 124, "created": "11/8/2017 2:30:19 PM +00:00", "updates": "2020-01-27T12:00:16+00:00", "fork": "False", "license": "licensed"}}