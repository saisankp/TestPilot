{"test_class": {"identifier": "LocaleProcessorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final SystemIdKey SYSTEM_ID_KEY = new SystemIdKey(1l);", "modifier": "private static final", "type": "SystemIdKey", "declarator": "SYSTEM_ID_KEY = new SystemIdKey(1l)", "var_name": "SYSTEM_ID_KEY"}, {"original_string": "private static final String FRANCE_CODE = \"FR\";", "modifier": "private static final", "type": "String", "declarator": "FRANCE_CODE = \"FR\"", "var_name": "FRANCE_CODE"}, {"original_string": "private static final String FRENCH_CODE = \"fr\";", "modifier": "private static final", "type": "String", "declarator": "FRENCH_CODE = \"fr\"", "var_name": "FRENCH_CODE"}, {"original_string": "@Autowired\n  private LocaleProcessor processor;", "modifier": "@Autowired\n  private", "type": "LocaleProcessor", "declarator": "processor", "var_name": "processor"}, {"original_string": "@Autowired\n  private CurrentLocaleProcessor current;", "modifier": "@Autowired\n  private", "type": "CurrentLocaleProcessor", "declarator": "current", "var_name": "current"}, {"original_string": "@Autowired\n  private LocaleRegistry registry;", "modifier": "@Autowired\n  private", "type": "LocaleRegistry", "declarator": "registry", "var_name": "registry"}], "file": "GameBoot/src/test/java/com/github/mrstampy/gameboot/locale/processor/LocaleProcessorTest.java"}, "test_case": {"identifier": "testValidation", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testValidation() throws Exception {\n    validationFailExpected(null, \"Null message\");\n\n    LocaleMessage msg = new LocaleMessage();\n    msg.setSystemId(SYSTEM_ID_KEY); // set by the system on the way to\n                                    // processing\n\n    validationFailExpected(msg, \"No lang or country codes\");\n\n    msg.setCountryCode(FRANCE_CODE);\n\n    validationFailExpected(msg, \"No lang code\");\n\n    msg.setLanguageCode(FRENCH_CODE);\n\n    processor.validate(msg);\n  }", "signature": "void testValidation()", "full_signature": "@Test public void testValidation()", "class_method_signature": "LocaleProcessorTest.testValidation()", "testcase": true, "constructor": false, "invocations": ["validationFailExpected", "setSystemId", "validationFailExpected", "setCountryCode", "validationFailExpected", "setLanguageCode", "validate"]}, "focal_class": {"identifier": "LocaleProcessor", "superclass": "extends AbstractGameBootProcessor<LocaleMessage>", "interfaces": "", "fields": [{"original_string": "private static final Logger log = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());", "modifier": "private static final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass())", "var_name": "log"}, {"original_string": "public static final String PROFILE = \"locale\";", "modifier": "public static final", "type": "String", "declarator": "PROFILE = \"locale\"", "var_name": "PROFILE"}, {"original_string": "@Autowired\n  private LocaleRegistry registry;", "modifier": "@Autowired\n  private", "type": "LocaleRegistry", "declarator": "registry", "var_name": "registry"}], "methods": [{"identifier": "getType", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getType()", "full_signature": "@Override public String getType()", "class_method_signature": "LocaleProcessor.getType()", "testcase": false, "constructor": false}, {"identifier": "validate", "parameters": "(LocaleMessage message)", "modifiers": "@Override protected", "return": "void", "signature": "void validate(LocaleMessage message)", "full_signature": "@Override protected void validate(LocaleMessage message)", "class_method_signature": "LocaleProcessor.validate(LocaleMessage message)", "testcase": false, "constructor": false}, {"identifier": "processImpl", "parameters": "(LocaleMessage message)", "modifiers": "@Override protected", "return": "Response", "signature": "Response processImpl(LocaleMessage message)", "full_signature": "@Override protected Response processImpl(LocaleMessage message)", "class_method_signature": "LocaleProcessor.processImpl(LocaleMessage message)", "testcase": false, "constructor": false}], "file": "GameBoot/src/main/java/com/github/mrstampy/gameboot/locale/processor/LocaleProcessor.java"}, "focal_method": {"identifier": "validate", "parameters": "(LocaleMessage message)", "modifiers": "@Override protected", "return": "void", "body": "@Override\n  protected void validate(LocaleMessage message) throws Exception {\n    if (message == null) fail(getResponseContext(NO_MESSAGE), \"No message\");\n\n    if (isEmpty(message.getLanguageCode())) {\n      fail(getResponseContext(LANG_CODE_MISSING, message.getSystemId()), \"Missing lang code\");\n    }\n\n    if (message.getSystemId() == null) {\n      fail(getResponseContext(NO_SYSTEM_ID, message.getSystemId()), \"Missing system id\");\n    }\n  }", "signature": "void validate(LocaleMessage message)", "full_signature": "@Override protected void validate(LocaleMessage message)", "class_method_signature": "LocaleProcessor.validate(LocaleMessage message)", "testcase": false, "constructor": false, "invocations": ["fail", "getResponseContext", "isEmpty", "getLanguageCode", "fail", "getResponseContext", "getSystemId", "getSystemId", "fail", "getResponseContext", "getSystemId"]}, "repository": {"repo_id": 47529369, "url": "https://github.com/mrstampy/gameboot", "language": "Java", "is_fork": false, "fork_count": 5, "stargazer_count": 15, "size": 1118, "license": "licensed"}}