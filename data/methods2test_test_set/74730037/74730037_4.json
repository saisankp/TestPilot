{"test_class": {"identifier": "FreeSilverProtocolTest", "superclass": "", "interfaces": "", "fields": [], "file": "BiliLiveLib/src/test/java/charlie/bililivelib/freesilver/FreeSilverProtocolTest.java"}, "test_case": {"identifier": "waitToGetSilver", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void waitToGetSilver() throws Exception {\n        FreeSilverProtocol protocol = new FreeSilverProtocol(initSession());\n        FreeSilverProtocol.CurrentSilverTaskInfo taskInfo = protocol.getCurrentFreeSilverStatus();\n        if (!taskInfo.hasRemaining()) fail();\n        FreeSilverProtocol.GetSilverInfo info = null;\n        do {\n            try {\n                info = protocol.waitToGetSilver();\n                System.out.println(info);\n            } catch (Exception e) {\n                //if (e.getMessage().contains(\"FINISHED\"))\n                //return;\n                e.printStackTrace();\n            }\n        } while (info == null || !info.isEnd());\n    }", "signature": "void waitToGetSilver()", "full_signature": "@Test public void waitToGetSilver()", "class_method_signature": "FreeSilverProtocolTest.waitToGetSilver()", "testcase": true, "constructor": false, "invocations": ["initSession", "getCurrentFreeSilverStatus", "hasRemaining", "fail", "waitToGetSilver", "println", "printStackTrace", "isEnd"]}, "focal_class": {"identifier": "FreeSilverProtocol", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String GET_CURRENT_TASK_G = \"/FreeSilver/getCurrentTask\";", "modifier": "private static final", "type": "String", "declarator": "GET_CURRENT_TASK_G = \"/FreeSilver/getCurrentTask\"", "var_name": "GET_CURRENT_TASK_G"}, {"original_string": "private static final String GET_TODAY_INFO_G = \"/FreeSilver/getTaskInfo\";", "modifier": "private static final", "type": "String", "declarator": "GET_TODAY_INFO_G = \"/FreeSilver/getTaskInfo\"", "var_name": "GET_TODAY_INFO_G"}, {"original_string": "private static final String CAPTCHA_G = \"/freeSilver/getCaptcha\";", "modifier": "private static final", "type": "String", "declarator": "CAPTCHA_G = \"/freeSilver/getCaptcha\"", "var_name": "CAPTCHA_G"}, {"original_string": "private static final String GET_AWARD_PATTERN_G =\n            \"/FreeSilver/getAward?time_start={0,number,###}&time_end={1,number,###}&captcha={2}&_={3,number,###}\";", "modifier": "private static final", "type": "String", "declarator": "GET_AWARD_PATTERN_G =\n            \"/FreeSilver/getAward?time_start={0,number,###}&time_end={1,number,###}&captcha={2}&_={3,number,###}\"", "var_name": "GET_AWARD_PATTERN_G"}, {"original_string": "private static final String EXCEPTION_KEY = \"exception.freeSilver\";", "modifier": "private static final", "type": "String", "declarator": "EXCEPTION_KEY = \"exception.freeSilver\"", "var_name": "EXCEPTION_KEY"}, {"original_string": "private static final int _1_KB = 1024;", "modifier": "private static final", "type": "int", "declarator": "_1_KB = 1024", "var_name": "_1_KB"}, {"original_string": "private static final String MIME_JPEG = \"image/jpeg\";", "modifier": "private static final", "type": "String", "declarator": "MIME_JPEG = \"image/jpeg\"", "var_name": "MIME_JPEG"}, {"original_string": "private static final int STATUS_NOT_LOGIN = -101;", "modifier": "private static final", "type": "int", "declarator": "STATUS_NOT_LOGIN = -101", "var_name": "STATUS_NOT_LOGIN"}, {"original_string": "private HttpHelper httpHelper;", "modifier": "private", "type": "HttpHelper", "declarator": "httpHelper", "var_name": "httpHelper"}], "methods": [{"identifier": "FreeSilverProtocol", "parameters": "(Session session)", "modifiers": "public", "return": "", "signature": " FreeSilverProtocol(Session session)", "full_signature": "public  FreeSilverProtocol(Session session)", "class_method_signature": "FreeSilverProtocol.FreeSilverProtocol(Session session)", "testcase": false, "constructor": true}, {"identifier": "ocrCaptcha", "parameters": "(BufferedImage image)", "modifiers": "@NotNull public static", "return": "String", "signature": "String ocrCaptcha(BufferedImage image)", "full_signature": "@NotNull public static String ocrCaptcha(BufferedImage image)", "class_method_signature": "FreeSilverProtocol.ocrCaptcha(BufferedImage image)", "testcase": false, "constructor": false}, {"identifier": "getCurrentFreeSilverStatus", "parameters": "()", "modifiers": "public", "return": "CurrentSilverTaskInfo", "signature": "CurrentSilverTaskInfo getCurrentFreeSilverStatus()", "full_signature": "public CurrentSilverTaskInfo getCurrentFreeSilverStatus()", "class_method_signature": "FreeSilverProtocol.getCurrentFreeSilverStatus()", "testcase": false, "constructor": false}, {"identifier": "getTodayFreeSilverStatus", "parameters": "()", "modifiers": "public", "return": "DayFreeSilverTaskInfo", "signature": "DayFreeSilverTaskInfo getTodayFreeSilverStatus()", "full_signature": "public DayFreeSilverTaskInfo getTodayFreeSilverStatus()", "class_method_signature": "FreeSilverProtocol.getTodayFreeSilverStatus()", "testcase": false, "constructor": false}, {"identifier": "getCaptcha", "parameters": "()", "modifiers": "public", "return": "BufferedImage", "signature": "BufferedImage getCaptcha()", "full_signature": "public BufferedImage getCaptcha()", "class_method_signature": "FreeSilverProtocol.getCaptcha()", "testcase": false, "constructor": false}, {"identifier": "waitToGetSilver", "parameters": "()", "modifiers": "public", "return": "GetSilverInfo", "signature": "GetSilverInfo waitToGetSilver()", "full_signature": "public GetSilverInfo waitToGetSilver()", "class_method_signature": "FreeSilverProtocol.waitToGetSilver()", "testcase": false, "constructor": false}, {"identifier": "waitToGetSilver", "parameters": "(CurrentSilverTaskInfo currentInfo)", "modifiers": "public", "return": "GetSilverInfo", "signature": "GetSilverInfo waitToGetSilver(CurrentSilverTaskInfo currentInfo)", "full_signature": "public GetSilverInfo waitToGetSilver(CurrentSilverTaskInfo currentInfo)", "class_method_signature": "FreeSilverProtocol.waitToGetSilver(CurrentSilverTaskInfo currentInfo)", "testcase": false, "constructor": false}, {"identifier": "getWaitTime", "parameters": "(CurrentSilverTaskInfo currentInfo)", "modifiers": "private", "return": "long", "signature": "long getWaitTime(CurrentSilverTaskInfo currentInfo)", "full_signature": "private long getWaitTime(CurrentSilverTaskInfo currentInfo)", "class_method_signature": "FreeSilverProtocol.getWaitTime(CurrentSilverTaskInfo currentInfo)", "testcase": false, "constructor": false}, {"identifier": "getSilver", "parameters": "(long timeStart, long timeEnd, String captcha)", "modifiers": "public", "return": "GetSilverInfo", "signature": "GetSilverInfo getSilver(long timeStart, long timeEnd, String captcha)", "full_signature": "public GetSilverInfo getSilver(long timeStart, long timeEnd, String captcha)", "class_method_signature": "FreeSilverProtocol.getSilver(long timeStart, long timeEnd, String captcha)", "testcase": false, "constructor": false}, {"identifier": "generateGetSilverRequest", "parameters": "(long timeStart, long timeEnd, String captcha)", "modifiers": "@NotNull @Contract(pure = true) private", "return": "String", "signature": "String generateGetSilverRequest(long timeStart, long timeEnd, String captcha)", "full_signature": "@NotNull @Contract(pure = true) private String generateGetSilverRequest(long timeStart, long timeEnd, String captcha)", "class_method_signature": "FreeSilverProtocol.generateGetSilverRequest(long timeStart, long timeEnd, String captcha)", "testcase": false, "constructor": false}], "file": "BiliLiveLib/src/main/java/charlie/bililivelib/freesilver/FreeSilverProtocol.java"}, "focal_method": {"identifier": "waitToGetSilver", "parameters": "()", "modifiers": "public", "return": "GetSilverInfo", "body": "public GetSilverInfo waitToGetSilver() throws BiliLiveException, InterruptedException {\n        return waitToGetSilver(getCurrentFreeSilverStatus());\n    }", "signature": "GetSilverInfo waitToGetSilver()", "full_signature": "public GetSilverInfo waitToGetSilver()", "class_method_signature": "FreeSilverProtocol.waitToGetSilver()", "testcase": false, "constructor": false, "invocations": ["waitToGetSilver", "getCurrentFreeSilverStatus"]}, "repository": {"repo_id": 74730037, "url": "https://github.com/cqjjjzr/BiliLiveLib", "language": "Java", "is_fork": false, "fork_count": 3, "stargazer_count": 17, "size": 535, "license": "licensed"}}