{"test_class": {"identifier": "NewRelicClientTest", "superclass": "extends AbstractRestClientTest", "interfaces": "", "fields": [{"original_string": "private static final String API_KEY = \"0\";", "modifier": "private static final", "type": "String", "declarator": "API_KEY = \"0\"", "var_name": "API_KEY"}, {"original_string": "private static final String RESPONSE_STUB_PATH = \"/stubs/NewRelicMetricsDataResponse.json\";", "modifier": "private static final", "type": "String", "declarator": "RESPONSE_STUB_PATH = \"/stubs/NewRelicMetricsDataResponse.json\"", "var_name": "RESPONSE_STUB_PATH"}, {"original_string": "@InjectMocks\n  private NewRelicClient newRelicClient = new NewRelicClient(API_KEY);", "modifier": "@InjectMocks\n  private", "type": "NewRelicClient", "declarator": "newRelicClient = new NewRelicClient(API_KEY)", "var_name": "newRelicClient"}, {"original_string": "@Spy\n  @InjectMocks\n  private JsonRestClient jsonRestClient = new JsonRestClientImpl();", "modifier": "@Spy\n  @InjectMocks\n  private", "type": "JsonRestClient", "declarator": "jsonRestClient = new JsonRestClientImpl()", "var_name": "jsonRestClient"}], "file": "cw-feedback-handler/src/test/java/eu/cloudwave/wp5/feedbackhandler/metricsources/NewRelicClientTest.java"}, "test_case": {"identifier": "testSummarized", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testSummarized() throws MetricSourceClientException, IOException {\n    final String url = \"https://api.newrelic.com/v2/applications/0/metrics/data.json\";\n    final String applicationId = \"0\";\n    final String className = \"my.Class\";\n    final String methodName = \"myMethod\";\n\n    final String response = getResourceAsString(RESPONSE_STUB_PATH);\n    mockServer.expect(requestTo(url)).andExpect(method(HttpMethod.POST)).andRespond(withSuccess(response, MediaType.APPLICATION_JSON));\n\n    final MethodInfoSummarized actualResponse = newRelicClient.summarized(applicationId, className, methodName);\n    assertThat(actualResponse).isEqualTo(DtoStubs.METHOD_INFO_SUMARIZED);\n  }", "signature": "void testSummarized()", "full_signature": "@Test public void testSummarized()", "class_method_signature": "NewRelicClientTest.testSummarized()", "testcase": true, "constructor": false, "invocations": ["getResourceAsString", "andRespond", "andExpect", "expect", "requestTo", "method", "withSuccess", "summarized", "isEqualTo", "assertThat"]}, "focal_class": {"identifier": "NewRelicClient", "superclass": "extends AbstractMetricSourceClient", "interfaces": "implements MetricSourceClient", "fields": [{"original_string": "private static final String URL_PATTERN__METRICS = Config.NEW_RELIC__URL + \"applications/%s/metrics/data.json\";", "modifier": "private static final", "type": "String", "declarator": "URL_PATTERN__METRICS = Config.NEW_RELIC__URL + \"applications/%s/metrics/data.json\"", "var_name": "URL_PATTERN__METRICS"}, {"original_string": "private static final String METRIC_NAME_PATTERN = \"Java/%s/%s\";", "modifier": "private static final", "type": "String", "declarator": "METRIC_NAME_PATTERN = \"Java/%s/%s\"", "var_name": "METRIC_NAME_PATTERN"}, {"original_string": "private static final String PARAM__NAMES = \"names\";", "modifier": "private static final", "type": "String", "declarator": "PARAM__NAMES = \"names\"", "var_name": "PARAM__NAMES"}, {"original_string": "private static final String PARAM__SUMMARIZE = \"summarize\";", "modifier": "private static final", "type": "String", "declarator": "PARAM__SUMMARIZE = \"summarize\"", "var_name": "PARAM__SUMMARIZE"}, {"original_string": "private static final String HEADER__API_KEY = \"X-Api-Key\";", "modifier": "private static final", "type": "String", "declarator": "HEADER__API_KEY = \"X-Api-Key\"", "var_name": "HEADER__API_KEY"}, {"original_string": "private static final String JSON__AVG_RESPONSE_TIME = \"average_response_time\";", "modifier": "private static final", "type": "String", "declarator": "JSON__AVG_RESPONSE_TIME = \"average_response_time\"", "var_name": "JSON__AVG_RESPONSE_TIME"}, {"original_string": "private static final String JSON__CALL_COUNT = \"call_count\";", "modifier": "private static final", "type": "String", "declarator": "JSON__CALL_COUNT = \"call_count\"", "var_name": "JSON__CALL_COUNT"}, {"original_string": "private static final String JSON__TITLE = \"title\";", "modifier": "private static final", "type": "String", "declarator": "JSON__TITLE = \"title\"", "var_name": "JSON__TITLE"}, {"original_string": "private static final String ERROR__INVALID_APPLICATION_ID = \"No record found with id\";", "modifier": "private static final", "type": "String", "declarator": "ERROR__INVALID_APPLICATION_ID = \"No record found with id\"", "var_name": "ERROR__INVALID_APPLICATION_ID"}, {"original_string": "private static final String ERROR__INVALID_PARAMETER = \"invalid parameter\";", "modifier": "private static final", "type": "String", "declarator": "ERROR__INVALID_PARAMETER = \"invalid parameter\"", "var_name": "ERROR__INVALID_PARAMETER"}, {"original_string": "private static final String ERROR__INVALID_PARAMETER_APPLICATION_ID = \"invalid parameter: application_id\";", "modifier": "private static final", "type": "String", "declarator": "ERROR__INVALID_PARAMETER_APPLICATION_ID = \"invalid parameter: application_id\"", "var_name": "ERROR__INVALID_PARAMETER_APPLICATION_ID"}, {"original_string": "private static final String ERROR__UNKNOWN_METRIC = \"Unknown metric\";", "modifier": "private static final", "type": "String", "declarator": "ERROR__UNKNOWN_METRIC = \"Unknown metric\"", "var_name": "ERROR__UNKNOWN_METRIC"}, {"original_string": "@Autowired\n  private JsonRestClient jsonRestClient;", "modifier": "@Autowired\n  private", "type": "JsonRestClient", "declarator": "jsonRestClient", "var_name": "jsonRestClient"}, {"original_string": "private String apiKey;", "modifier": "private", "type": "String", "declarator": "apiKey", "var_name": "apiKey"}], "methods": [{"identifier": "NewRelicClient", "parameters": "(final String apiKey)", "modifiers": "public", "return": "", "signature": " NewRelicClient(final String apiKey)", "full_signature": "public  NewRelicClient(final String apiKey)", "class_method_signature": "NewRelicClient.NewRelicClient(final String apiKey)", "testcase": false, "constructor": true}, {"identifier": "summarized", "parameters": "(final String applicationId, final String className, final String methodName)", "modifiers": "@Override public", "return": "MethodInfoSummarized", "signature": "MethodInfoSummarized summarized(final String applicationId, final String className, final String methodName)", "full_signature": "@Override public MethodInfoSummarized summarized(final String applicationId, final String className, final String methodName)", "class_method_signature": "NewRelicClient.summarized(final String applicationId, final String className, final String methodName)", "testcase": false, "constructor": false}, {"identifier": "metrics", "parameters": "(final String applicationId, final String className, final String methodName, final Boolean summarized)", "modifiers": "private", "return": "MethodInfoSummarized", "signature": "MethodInfoSummarized metrics(final String applicationId, final String className, final String methodName, final Boolean summarized)", "full_signature": "private MethodInfoSummarized metrics(final String applicationId, final String className, final String methodName, final Boolean summarized)", "class_method_signature": "NewRelicClient.metrics(final String applicationId, final String className, final String methodName, final Boolean summarized)", "testcase": false, "constructor": false}, {"identifier": "metricName", "parameters": "(final String className, final String methodName)", "modifiers": "private", "return": "String", "signature": "String metricName(final String className, final String methodName)", "full_signature": "private String metricName(final String className, final String methodName)", "class_method_signature": "NewRelicClient.metricName(final String className, final String methodName)", "testcase": false, "constructor": false}, {"identifier": "metricsUrl", "parameters": "(final String applicationId)", "modifiers": "private", "return": "String", "signature": "String metricsUrl(final String applicationId)", "full_signature": "private String metricsUrl(final String applicationId)", "class_method_signature": "NewRelicClient.metricsUrl(final String applicationId)", "testcase": false, "constructor": false}, {"identifier": "executePostRequest", "parameters": "(final String url, final RestRequestBody requestBody)", "modifiers": "private", "return": "JsonNode", "signature": "JsonNode executePostRequest(final String url, final RestRequestBody requestBody)", "full_signature": "private JsonNode executePostRequest(final String url, final RestRequestBody requestBody)", "class_method_signature": "NewRelicClient.executePostRequest(final String url, final RestRequestBody requestBody)", "testcase": false, "constructor": false}, {"identifier": "handleHttpServerException", "parameters": "(final HttpStatusCodeException serverError)", "modifiers": "@Override protected", "return": "void", "signature": "void handleHttpServerException(final HttpStatusCodeException serverError)", "full_signature": "@Override protected void handleHttpServerException(final HttpStatusCodeException serverError)", "class_method_signature": "NewRelicClient.handleHttpServerException(final HttpStatusCodeException serverError)", "testcase": false, "constructor": false}], "file": "cw-feedback-handler/src/main/java/eu/cloudwave/wp5/feedbackhandler/metricsources/NewRelicClient.java"}, "focal_method": {"identifier": "summarized", "parameters": "(final String applicationId, final String className, final String methodName)", "modifiers": "@Override public", "return": "MethodInfoSummarized", "body": "@Override\n  public MethodInfoSummarized summarized(final String applicationId, final String className, final String methodName) throws MetricSourceClientException {\n    return metrics(applicationId, className, methodName, true);\n  }", "signature": "MethodInfoSummarized summarized(final String applicationId, final String className, final String methodName)", "full_signature": "@Override public MethodInfoSummarized summarized(final String applicationId, final String className, final String methodName)", "class_method_signature": "NewRelicClient.summarized(final String applicationId, final String className, final String methodName)", "testcase": false, "constructor": false, "invocations": ["metrics"]}, "repository": {"repo_id": 35486799, "url": "https://github.com/sealuzh/PerformanceHat", "language": "Java", "is_fork": false, "fork_count": 5, "stargazer_count": 11, "size": 39905, "license": "licensed"}}