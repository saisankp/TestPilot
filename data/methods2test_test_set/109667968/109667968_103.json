{"test_class": {"identifier": "BoundaryLayerTest", "superclass": "extends BaseKujakuLayerTest", "interfaces": "", "fields": [], "file": "library/src/test/java/io/ona/kujaku/layers/BoundaryLayerTest.java"}, "test_case": {"identifier": "calculateCenterPoints", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void calculateCenterPoints() {\n        ArrayList<Feature> featuresList = new ArrayList<>();\n\n        ArrayList<Point> pointsListLower1 = new ArrayList<>();\n\n        pointsListLower1.add(Point.fromLngLat(5d, 8d));\n        pointsListLower1.add(Point.fromLngLat(8d, 8d));\n        pointsListLower1.add(Point.fromLngLat(8d, 5d));\n        pointsListLower1.add(Point.fromLngLat(5d, 5d));\n\n        ArrayList<List<Point>> pointsListUpper1 = new ArrayList<>();\n        pointsListUpper1.add(pointsListLower1);\n\n        featuresList.add(Feature.fromGeometry(Polygon.fromLngLats(pointsListUpper1)));\n        featuresList.add(Feature.fromGeometry(Point.fromLngLat(9.1d, 9.1d)));\n        featuresList.add(Feature.fromGeometry(Point.fromLngLat(11.1d, 9.1d)));\n        featuresList.add(Feature.fromGeometry(Point.fromLngLat(11.1d, 2.1d)));\n        featuresList.add(Feature.fromGeometry(Point.fromLngLat(9.1d, 2.1d)));\n\n        FeatureCollection featureCollection = FeatureCollection.fromFeatures(featuresList);\n\n        BoundaryLayer.Builder builder = new BoundaryLayer.Builder(featureCollection)\n                .setLabelProperty(\"name\")\n                .setLabelTextSize(20f)\n                .setLabelColorInt(Color.RED)\n                .setBoundaryColor(Color.RED)\n                .setBoundaryWidth(6f);\n\n        BoundaryLayer boundaryLayer = builder.build();\n\n        FeatureCollection centerPointsFeatureCollection = ReflectionHelpers.callInstanceMethod(boundaryLayer\n                , \"calculateCenterPoints\"\n                , ReflectionHelpers.ClassParameter.from(FeatureCollection.class, featureCollection)\n        );\n\n        List<Feature> centerPointFeatures = centerPointsFeatureCollection.features();\n\n        assertEquals(5, centerPointFeatures.size());\n        Point point1 = (Point) centerPointFeatures.get(0).geometry();\n        Point point2 = (Point) centerPointFeatures.get(1).geometry();\n\n        assertPointEquals(Point.fromLngLat(6.5d, 6.5d), point1);\n        assertPointEquals(Point.fromLngLat(9.1d, 9.1d), point2);\n    }", "signature": "void calculateCenterPoints()", "full_signature": "@Test public void calculateCenterPoints()", "class_method_signature": "BoundaryLayerTest.calculateCenterPoints()", "testcase": true, "constructor": false, "invocations": ["add", "fromLngLat", "add", "fromLngLat", "add", "fromLngLat", "add", "fromLngLat", "add", "add", "fromGeometry", "fromLngLats", "add", "fromGeometry", "fromLngLat", "add", "fromGeometry", "fromLngLat", "add", "fromGeometry", "fromLngLat", "add", "fromGeometry", "fromLngLat", "fromFeatures", "setBoundaryWidth", "setBoundaryColor", "setLabelColorInt", "setLabelTextSize", "setLabelProperty", "build", "callInstanceMethod", "from", "features", "assertEquals", "size", "geometry", "get", "geometry", "get", "assertPointEquals", "fromLngLat", "assertPointEquals", "fromLngLat"]}, "focal_class": {"identifier": "BoundaryLayer", "superclass": "extends KujakuLayer", "interfaces": "", "fields": [{"original_string": "private static final String TAG = BoundaryLayer.class.getName();", "modifier": "private static final", "type": "String", "declarator": "TAG = BoundaryLayer.class.getName()", "var_name": "TAG"}, {"original_string": "protected KujakuLayer.Builder builder;", "modifier": "protected", "type": "KujakuLayer.Builder", "declarator": "builder", "var_name": "builder"}, {"original_string": "protected String BOUNDARY_FEATURE_SOURCE_ID = UUID.randomUUID().toString();", "modifier": "protected", "type": "String", "declarator": "BOUNDARY_FEATURE_SOURCE_ID = UUID.randomUUID().toString()", "var_name": "BOUNDARY_FEATURE_SOURCE_ID"}, {"original_string": "protected String BOUNDARY_LABEL_SOURCE_ID = UUID.randomUUID().toString();", "modifier": "protected", "type": "String", "declarator": "BOUNDARY_LABEL_SOURCE_ID = UUID.randomUUID().toString()", "var_name": "BOUNDARY_LABEL_SOURCE_ID"}, {"original_string": "protected String BOUNDARY_LINE_LAYER_ID = UUID.randomUUID().toString();", "modifier": "protected", "type": "String", "declarator": "BOUNDARY_LINE_LAYER_ID = UUID.randomUUID().toString()", "var_name": "BOUNDARY_LINE_LAYER_ID"}, {"original_string": "protected String BOUNDARY_LABEL_LAYER_ID = UUID.randomUUID().toString();", "modifier": "protected", "type": "String", "declarator": "BOUNDARY_LABEL_LAYER_ID = UUID.randomUUID().toString()", "var_name": "BOUNDARY_LABEL_LAYER_ID"}, {"original_string": "private GeoJsonSource boundarySource;", "modifier": "private", "type": "GeoJsonSource", "declarator": "boundarySource", "var_name": "boundarySource"}, {"original_string": "private GeoJsonSource boundaryLabelsSource;", "modifier": "private", "type": "GeoJsonSource", "declarator": "boundaryLabelsSource", "var_name": "boundaryLabelsSource"}, {"original_string": "private LineLayer boundaryLineLayer;", "modifier": "private", "type": "LineLayer", "declarator": "boundaryLineLayer", "var_name": "boundaryLineLayer"}, {"original_string": "private SymbolLayer boundaryLabelLayer;", "modifier": "private", "type": "SymbolLayer", "declarator": "boundaryLabelLayer", "var_name": "boundaryLabelLayer"}], "methods": [{"identifier": "BoundaryLayer", "parameters": "(@NonNull KujakuLayer.Builder builder)", "modifiers": "", "return": "", "signature": " BoundaryLayer(@NonNull KujakuLayer.Builder builder)", "full_signature": "  BoundaryLayer(@NonNull KujakuLayer.Builder builder)", "class_method_signature": "BoundaryLayer.BoundaryLayer(@NonNull KujakuLayer.Builder builder)", "testcase": false, "constructor": true}, {"identifier": "createBoundaryLabelLayer", "parameters": "(@NonNull KujakuLayer.Builder builder)", "modifiers": "private", "return": "void", "signature": "void createBoundaryLabelLayer(@NonNull KujakuLayer.Builder builder)", "full_signature": "private void createBoundaryLabelLayer(@NonNull KujakuLayer.Builder builder)", "class_method_signature": "BoundaryLayer.createBoundaryLabelLayer(@NonNull KujakuLayer.Builder builder)", "testcase": false, "constructor": false}, {"identifier": "createBoundaryLineLayer", "parameters": "(@NonNull KujakuLayer.Builder builder)", "modifiers": "private", "return": "void", "signature": "void createBoundaryLineLayer(@NonNull KujakuLayer.Builder builder)", "full_signature": "private void createBoundaryLineLayer(@NonNull KujakuLayer.Builder builder)", "class_method_signature": "BoundaryLayer.createBoundaryLineLayer(@NonNull KujakuLayer.Builder builder)", "testcase": false, "constructor": false}, {"identifier": "createBoundaryLabelSource", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void createBoundaryLabelSource()", "full_signature": "private void createBoundaryLabelSource()", "class_method_signature": "BoundaryLayer.createBoundaryLabelSource()", "testcase": false, "constructor": false}, {"identifier": "createBoundaryFeatureSource", "parameters": "(@NonNull KujakuLayer.Builder builder)", "modifiers": "private", "return": "void", "signature": "void createBoundaryFeatureSource(@NonNull KujakuLayer.Builder builder)", "full_signature": "private void createBoundaryFeatureSource(@NonNull KujakuLayer.Builder builder)", "class_method_signature": "BoundaryLayer.createBoundaryFeatureSource(@NonNull KujakuLayer.Builder builder)", "testcase": false, "constructor": false}, {"identifier": "updateLineLayerProperties", "parameters": "(@NonNull PropertyValue<?>... properties)", "modifiers": "public", "return": "void", "signature": "void updateLineLayerProperties(@NonNull PropertyValue<?>... properties)", "full_signature": "public void updateLineLayerProperties(@NonNull PropertyValue<?>... properties)", "class_method_signature": "BoundaryLayer.updateLineLayerProperties(@NonNull PropertyValue<?>... properties)", "testcase": false, "constructor": false}, {"identifier": "addLayerToMap", "parameters": "(@NonNull MapboxMap mapboxMap)", "modifiers": "@Override public", "return": "void", "signature": "void addLayerToMap(@NonNull MapboxMap mapboxMap)", "full_signature": "@Override public void addLayerToMap(@NonNull MapboxMap mapboxMap)", "class_method_signature": "BoundaryLayer.addLayerToMap(@NonNull MapboxMap mapboxMap)", "testcase": false, "constructor": false}, {"identifier": "createLayers", "parameters": "(@NonNull MapboxMap mapboxMap)", "modifiers": "protected", "return": "void", "signature": "void createLayers(@NonNull MapboxMap mapboxMap)", "full_signature": "protected void createLayers(@NonNull MapboxMap mapboxMap)", "class_method_signature": "BoundaryLayer.createLayers(@NonNull MapboxMap mapboxMap)", "testcase": false, "constructor": false}, {"identifier": "addLayersBelow", "parameters": "(@NonNull MapboxMap mapboxMap)", "modifiers": "protected", "return": "void", "signature": "void addLayersBelow(@NonNull MapboxMap mapboxMap)", "full_signature": "protected void addLayersBelow(@NonNull MapboxMap mapboxMap)", "class_method_signature": "BoundaryLayer.addLayersBelow(@NonNull MapboxMap mapboxMap)", "testcase": false, "constructor": false}, {"identifier": "addLayers", "parameters": "(@NonNull MapboxMap mapboxMap)", "modifiers": "protected", "return": "void", "signature": "void addLayers(@NonNull MapboxMap mapboxMap)", "full_signature": "protected void addLayers(@NonNull MapboxMap mapboxMap)", "class_method_signature": "BoundaryLayer.addLayers(@NonNull MapboxMap mapboxMap)", "testcase": false, "constructor": false}, {"identifier": "calculateCenterPoints", "parameters": "(@NonNull FeatureCollection featureCollection)", "modifiers": "private", "return": "FeatureCollection", "signature": "FeatureCollection calculateCenterPoints(@NonNull FeatureCollection featureCollection)", "full_signature": "private FeatureCollection calculateCenterPoints(@NonNull FeatureCollection featureCollection)", "class_method_signature": "BoundaryLayer.calculateCenterPoints(@NonNull FeatureCollection featureCollection)", "testcase": false, "constructor": false}, {"identifier": "getCenter", "parameters": "(@NonNull Geometry featureGeometry)", "modifiers": "private", "return": "Point", "signature": "Point getCenter(@NonNull Geometry featureGeometry)", "full_signature": "private Point getCenter(@NonNull Geometry featureGeometry)", "class_method_signature": "BoundaryLayer.getCenter(@NonNull Geometry featureGeometry)", "testcase": false, "constructor": false}, {"identifier": "getLayers", "parameters": "(@NonNull MapboxMap mapboxMap)", "modifiers": "protected", "return": "ArrayList<Layer>", "signature": "ArrayList<Layer> getLayers(@NonNull MapboxMap mapboxMap)", "full_signature": "protected ArrayList<Layer> getLayers(@NonNull MapboxMap mapboxMap)", "class_method_signature": "BoundaryLayer.getLayers(@NonNull MapboxMap mapboxMap)", "testcase": false, "constructor": false}, {"identifier": "enableLayerOnMap", "parameters": "(@NonNull MapboxMap mapboxMap)", "modifiers": "@Override public", "return": "void", "signature": "void enableLayerOnMap(@NonNull MapboxMap mapboxMap)", "full_signature": "@Override public void enableLayerOnMap(@NonNull MapboxMap mapboxMap)", "class_method_signature": "BoundaryLayer.enableLayerOnMap(@NonNull MapboxMap mapboxMap)", "testcase": false, "constructor": false}, {"identifier": "disableLayerOnMap", "parameters": "(@NonNull MapboxMap mapboxMap)", "modifiers": "@Override public", "return": "void", "signature": "void disableLayerOnMap(@NonNull MapboxMap mapboxMap)", "full_signature": "@Override public void disableLayerOnMap(@NonNull MapboxMap mapboxMap)", "class_method_signature": "BoundaryLayer.disableLayerOnMap(@NonNull MapboxMap mapboxMap)", "testcase": false, "constructor": false}, {"identifier": "getLayerIds", "parameters": "()", "modifiers": "@Override @NonNull public", "return": "String[]", "signature": "String[] getLayerIds()", "full_signature": "@Override @NonNull public String[] getLayerIds()", "class_method_signature": "BoundaryLayer.getLayerIds()", "testcase": false, "constructor": false}, {"identifier": "removeLayerOnMap", "parameters": "(@NonNull MapboxMap mapboxMap)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean removeLayerOnMap(@NonNull MapboxMap mapboxMap)", "full_signature": "@Override public boolean removeLayerOnMap(@NonNull MapboxMap mapboxMap)", "class_method_signature": "BoundaryLayer.removeLayerOnMap(@NonNull MapboxMap mapboxMap)", "testcase": false, "constructor": false}, {"identifier": "removeLayers", "parameters": "(@NonNull Style style)", "modifiers": "protected", "return": "void", "signature": "void removeLayers(@NonNull Style style)", "full_signature": "protected void removeLayers(@NonNull Style style)", "class_method_signature": "BoundaryLayer.removeLayers(@NonNull Style style)", "testcase": false, "constructor": false}, {"identifier": "removeSources", "parameters": "(@NonNull Style style)", "modifiers": "protected", "return": "void", "signature": "void removeSources(@NonNull Style style)", "full_signature": "protected void removeSources(@NonNull Style style)", "class_method_signature": "BoundaryLayer.removeSources(@NonNull Style style)", "testcase": false, "constructor": false}, {"identifier": "updateFeatures", "parameters": "(@NonNull FeatureCollection featureCollection)", "modifiers": "@Override public", "return": "void", "signature": "void updateFeatures(@NonNull FeatureCollection featureCollection)", "full_signature": "@Override public void updateFeatures(@NonNull FeatureCollection featureCollection)", "class_method_signature": "BoundaryLayer.updateFeatures(@NonNull FeatureCollection featureCollection)", "testcase": false, "constructor": false}, {"identifier": "getFeatureCollection", "parameters": "()", "modifiers": "@Override public", "return": "FeatureCollection", "signature": "FeatureCollection getFeatureCollection()", "full_signature": "@Override public FeatureCollection getFeatureCollection()", "class_method_signature": "BoundaryLayer.getFeatureCollection()", "testcase": false, "constructor": false}], "file": "library/src/main/java/io/ona/kujaku/layers/BoundaryLayer.java"}, "focal_method": {"identifier": "calculateCenterPoints", "parameters": "(@NonNull FeatureCollection featureCollection)", "modifiers": "private", "return": "FeatureCollection", "body": "private FeatureCollection calculateCenterPoints(@NonNull FeatureCollection featureCollection) {\n        ArrayList<Feature> centerPoints = new ArrayList<>();\n\n        List<Feature> featureList = featureCollection.features();\n        if (featureList != null) {\n            for (Feature feature : featureList) {\n                Geometry featureGeometry = feature.geometry();\n                if (featureGeometry != null) {\n                    Point featurePoint;\n                    if (featureGeometry instanceof Point) {\n                        featurePoint = (Point) featureGeometry;\n                    } else {\n                        featurePoint = getCenter(featureGeometry);\n                    }\n\n                    centerPoints.add(Feature.fromGeometry(featurePoint, feature.properties()));\n                }\n            }\n        }\n\n        return FeatureCollection.fromFeatures(centerPoints);\n    }", "signature": "FeatureCollection calculateCenterPoints(@NonNull FeatureCollection featureCollection)", "full_signature": "private FeatureCollection calculateCenterPoints(@NonNull FeatureCollection featureCollection)", "class_method_signature": "BoundaryLayer.calculateCenterPoints(@NonNull FeatureCollection featureCollection)", "testcase": false, "constructor": false, "invocations": ["features", "geometry", "getCenter", "add", "fromGeometry", "properties", "fromFeatures"]}, "repository": {"repo_id": 109667968, "url": "https://github.com/onaio/kujaku", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 14, "size": 4778, "license": "licensed"}}