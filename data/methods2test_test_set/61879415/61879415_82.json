{"test_class": {"identifier": "DefaultPasswordFilterManagerTest", "superclass": "extends AbstractPasswordFilterIntegrationTest", "interfaces": "", "fields": [], "file": "Realization/backend/acc/src/test/java/eu/bcvsolutions/idm/acc/service/impl/DefaultPasswordFilterManagerTest.java"}, "test_case": {"identifier": "stressTestPasswordEndcoding", "parameters": "()", "modifiers": "@Test @Ignore public", "return": "void", "body": "@Test\n\t@Ignore\n\tpublic void stressTestPasswordEndcoding() {\n\t\tlong sum = 0;\n\t\tint iteration = 100;\n\t\tfor (int index = 0; index < iteration+1; index++) {\n\t\t\tlong before = System.currentTimeMillis();\n\t\t\tpasswordFilterManager.createEcho(UUID.randomUUID(), new GuardedString(getHelper().createName()));\n\t\t\tlong after = System.currentTimeMillis();\n\t\t\t\n\t\t\tlong diff = after - before;\n\t\t\tsum += diff;\n\t\t}\n\t\tSystem.out.println(MessageFormat.format(\"[{0}] iteration takes [{1}]. Average for one iteration [{2}].\", iteration, sum, sum/iteration));\n\t}", "signature": "void stressTestPasswordEndcoding()", "full_signature": "@Test @Ignore public void stressTestPasswordEndcoding()", "class_method_signature": "DefaultPasswordFilterManagerTest.stressTestPasswordEndcoding()", "testcase": true, "constructor": false, "invocations": ["currentTimeMillis", "createEcho", "randomUUID", "createName", "getHelper", "currentTimeMillis", "println", "format"]}, "focal_class": {"identifier": "DefaultPasswordFilterManager", "superclass": "", "interfaces": "implements PasswordFilterManager", "fields": [{"original_string": "private static final org.slf4j.Logger LOG = org.slf4j.LoggerFactory.getLogger(DefaultPasswordFilterManager.class);", "modifier": "private static final", "type": "org.slf4j.Logger", "declarator": "LOG = org.slf4j.LoggerFactory.getLogger(DefaultPasswordFilterManager.class)", "var_name": "LOG"}, {"original_string": "@Autowired\n\tprivate AccUniformPasswordService uniformPasswordService;", "modifier": "@Autowired\n\tprivate", "type": "AccUniformPasswordService", "declarator": "uniformPasswordService", "var_name": "uniformPasswordService"}, {"original_string": "@Autowired\n\tprivate LookupService lookupService;", "modifier": "@Autowired\n\tprivate", "type": "LookupService", "declarator": "lookupService", "var_name": "lookupService"}, {"original_string": "@Autowired\n\tprivate IdmPasswordPolicyService policyService;", "modifier": "@Autowired\n\tprivate", "type": "IdmPasswordPolicyService", "declarator": "policyService", "var_name": "policyService"}, {"original_string": "@Autowired\n\tprivate IdmIdentityService identityService;", "modifier": "@Autowired\n\tprivate", "type": "IdmIdentityService", "declarator": "identityService", "var_name": "identityService"}, {"original_string": "@Autowired\n\tprivate AccAccountService accountService;", "modifier": "@Autowired\n\tprivate", "type": "AccAccountService", "declarator": "accountService", "var_name": "accountService"}, {"original_string": "@Autowired\n\tprivate DefaultTransformFromResourceEvaluator scriptEvaluator;", "modifier": "@Autowired\n\tprivate", "type": "DefaultTransformFromResourceEvaluator", "declarator": "scriptEvaluator", "var_name": "scriptEvaluator"}, {"original_string": "@Autowired\n\tprivate GroovyScriptService groovyScriptService;", "modifier": "@Autowired\n\tprivate", "type": "GroovyScriptService", "declarator": "groovyScriptService", "var_name": "groovyScriptService"}, {"original_string": "@Autowired\n\tprivate IdmCacheManager idmCacheManager;", "modifier": "@Autowired\n\tprivate", "type": "IdmCacheManager", "declarator": "idmCacheManager", "var_name": "idmCacheManager"}, {"original_string": "@Autowired\n\tprivate PasswordFilterEncoderConfiguration uniformPasswordConfiguration;", "modifier": "@Autowired\n\tprivate", "type": "PasswordFilterEncoderConfiguration", "declarator": "uniformPasswordConfiguration", "var_name": "uniformPasswordConfiguration"}, {"original_string": "@Autowired\n\tprivate SysSystemAttributeMappingService systemAttributeMappingService;", "modifier": "@Autowired\n\tprivate", "type": "SysSystemAttributeMappingService", "declarator": "systemAttributeMappingService", "var_name": "systemAttributeMappingService"}, {"original_string": "private PasswordEncoder encoder;", "modifier": "private", "type": "PasswordEncoder", "declarator": "encoder", "var_name": "encoder"}], "methods": [{"identifier": "validate", "parameters": "(AccPasswordFilterRequestDto request)", "modifiers": "@Override public", "return": "void", "signature": "void validate(AccPasswordFilterRequestDto request)", "full_signature": "@Override public void validate(AccPasswordFilterRequestDto request)", "class_method_signature": "DefaultPasswordFilterManager.validate(AccPasswordFilterRequestDto request)", "testcase": false, "constructor": false}, {"identifier": "change", "parameters": "(AccPasswordFilterRequestDto request)", "modifiers": "@Override public", "return": "void", "signature": "void change(AccPasswordFilterRequestDto request)", "full_signature": "@Override public void change(AccPasswordFilterRequestDto request)", "class_method_signature": "DefaultPasswordFilterManager.change(AccPasswordFilterRequestDto request)", "testcase": false, "constructor": false}, {"identifier": "setEchoForChange", "parameters": "(UUID accountId, GuardedString password)", "modifiers": "@Override public", "return": "void", "signature": "void setEchoForChange(UUID accountId, GuardedString password)", "full_signature": "@Override public void setEchoForChange(UUID accountId, GuardedString password)", "class_method_signature": "DefaultPasswordFilterManager.setEchoForChange(UUID accountId, GuardedString password)", "testcase": false, "constructor": false}, {"identifier": "clearChangedEcho", "parameters": "(UUID accountId)", "modifiers": "@Override public", "return": "void", "signature": "void clearChangedEcho(UUID accountId)", "full_signature": "@Override public void clearChangedEcho(UUID accountId)", "class_method_signature": "DefaultPasswordFilterManager.clearChangedEcho(UUID accountId)", "testcase": false, "constructor": false}, {"identifier": "createEchoForValidation", "parameters": "(UUID accountId, GuardedString password, boolean success)", "modifiers": "@Override public", "return": "void", "signature": "void createEchoForValidation(UUID accountId, GuardedString password, boolean success)", "full_signature": "@Override public void createEchoForValidation(UUID accountId, GuardedString password, boolean success)", "class_method_signature": "DefaultPasswordFilterManager.createEchoForValidation(UUID accountId, GuardedString password, boolean success)", "testcase": false, "constructor": false}, {"identifier": "createEcho", "parameters": "(UUID accountId, GuardedString password)", "modifiers": "@Override public", "return": "void", "signature": "void createEcho(UUID accountId, GuardedString password)", "full_signature": "@Override public void createEcho(UUID accountId, GuardedString password)", "class_method_signature": "DefaultPasswordFilterManager.createEcho(UUID accountId, GuardedString password)", "testcase": false, "constructor": false}, {"identifier": "getEcho", "parameters": "(UUID accountId)", "modifiers": "@Override public", "return": "AccPasswordFilterEchoItemDto", "signature": "AccPasswordFilterEchoItemDto getEcho(UUID accountId)", "full_signature": "@Override public AccPasswordFilterEchoItemDto getEcho(UUID accountId)", "class_method_signature": "DefaultPasswordFilterManager.getEcho(UUID accountId)", "testcase": false, "constructor": false}, {"identifier": "evaluateUsernameToIdentity", "parameters": "(SysSystemDto system, AccPasswordFilterRequestDto request, SysSystemAttributeMappingDto passwordFilterAttribute)", "modifiers": "protected", "return": "IdmIdentityDto", "signature": "IdmIdentityDto evaluateUsernameToIdentity(SysSystemDto system, AccPasswordFilterRequestDto request, SysSystemAttributeMappingDto passwordFilterAttribute)", "full_signature": "protected IdmIdentityDto evaluateUsernameToIdentity(SysSystemDto system, AccPasswordFilterRequestDto request, SysSystemAttributeMappingDto passwordFilterAttribute)", "class_method_signature": "DefaultPasswordFilterManager.evaluateUsernameToIdentity(SysSystemDto system, AccPasswordFilterRequestDto request, SysSystemAttributeMappingDto passwordFilterAttribute)", "testcase": false, "constructor": false}, {"identifier": "getPasswordPolicy", "parameters": "(List<SysSystemDto> systems)", "modifiers": "private", "return": "List<IdmPasswordPolicyDto>", "signature": "List<IdmPasswordPolicyDto> getPasswordPolicy(List<SysSystemDto> systems)", "full_signature": "private List<IdmPasswordPolicyDto> getPasswordPolicy(List<SysSystemDto> systems)", "class_method_signature": "DefaultPasswordFilterManager.getPasswordPolicy(List<SysSystemDto> systems)", "testcase": false, "constructor": false}, {"identifier": "getSystemForAccounts", "parameters": "(List<AccAccountDto> accounts)", "modifiers": "private", "return": "List<SysSystemDto>", "signature": "List<SysSystemDto> getSystemForAccounts(List<AccAccountDto> accounts)", "full_signature": "private List<SysSystemDto> getSystemForAccounts(List<AccAccountDto> accounts)", "class_method_signature": "DefaultPasswordFilterManager.getSystemForAccounts(List<AccAccountDto> accounts)", "testcase": false, "constructor": false}, {"identifier": "getSystem", "parameters": "(String resource)", "modifiers": "private", "return": "SysSystemDto", "signature": "SysSystemDto getSystem(String resource)", "full_signature": "private SysSystemDto getSystem(String resource)", "class_method_signature": "DefaultPasswordFilterManager.getSystem(String resource)", "testcase": false, "constructor": false}, {"identifier": "getActiveUniformPasswordDefinitions", "parameters": "(SysSystemDto systemDto)", "modifiers": "private", "return": "List<AccUniformPasswordDto>", "signature": "List<AccUniformPasswordDto> getActiveUniformPasswordDefinitions(SysSystemDto systemDto)", "full_signature": "private List<AccUniformPasswordDto> getActiveUniformPasswordDefinitions(SysSystemDto systemDto)", "class_method_signature": "DefaultPasswordFilterManager.getActiveUniformPasswordDefinitions(SysSystemDto systemDto)", "testcase": false, "constructor": false}, {"identifier": "getAttributeMappingForPasswordFilter", "parameters": "(SysSystemDto system)", "modifiers": "private", "return": "SysSystemAttributeMappingDto", "signature": "SysSystemAttributeMappingDto getAttributeMappingForPasswordFilter(SysSystemDto system)", "full_signature": "private SysSystemAttributeMappingDto getAttributeMappingForPasswordFilter(SysSystemDto system)", "class_method_signature": "DefaultPasswordFilterManager.getAttributeMappingForPasswordFilter(SysSystemDto system)", "testcase": false, "constructor": false}, {"identifier": "getPasswordEncoder", "parameters": "()", "modifiers": "protected", "return": "PasswordEncoder", "signature": "PasswordEncoder getPasswordEncoder()", "full_signature": "protected PasswordEncoder getPasswordEncoder()", "class_method_signature": "DefaultPasswordFilterManager.getPasswordEncoder()", "testcase": false, "constructor": false}, {"identifier": "hashPassword", "parameters": "(GuardedString password)", "modifiers": "protected", "return": "String", "signature": "String hashPassword(GuardedString password)", "full_signature": "protected String hashPassword(GuardedString password)", "class_method_signature": "DefaultPasswordFilterManager.hashPassword(GuardedString password)", "testcase": false, "constructor": false}, {"identifier": "getAccountsForPasswordChange", "parameters": "(List<AccUniformPasswordDto> passwordDefinitions, UUID identityId, Boolean supportPasswordFilter)", "modifiers": "private", "return": "List<AccAccountDto>", "signature": "List<AccAccountDto> getAccountsForPasswordChange(List<AccUniformPasswordDto> passwordDefinitions, UUID identityId, Boolean supportPasswordFilter)", "full_signature": "private List<AccAccountDto> getAccountsForPasswordChange(List<AccUniformPasswordDto> passwordDefinitions, UUID identityId, Boolean supportPasswordFilter)", "class_method_signature": "DefaultPasswordFilterManager.getAccountsForPasswordChange(List<AccUniformPasswordDto> passwordDefinitions, UUID identityId, Boolean supportPasswordFilter)", "testcase": false, "constructor": false}, {"identifier": "getAccountForSystemWithPasswordFilter", "parameters": "(SysSystemDto system, IdmIdentityDto identity)", "modifiers": "private", "return": "List<AccAccountDto>", "signature": "List<AccAccountDto> getAccountForSystemWithPasswordFilter(SysSystemDto system, IdmIdentityDto identity)", "full_signature": "private List<AccAccountDto> getAccountForSystemWithPasswordFilter(SysSystemDto system, IdmIdentityDto identity)", "class_method_signature": "DefaultPasswordFilterManager.getAccountForSystemWithPasswordFilter(SysSystemDto system, IdmIdentityDto identity)", "testcase": false, "constructor": false}, {"identifier": "changeInIdm", "parameters": "(List<AccUniformPasswordDto> passwordDefinitions)", "modifiers": "private", "return": "boolean", "signature": "boolean changeInIdm(List<AccUniformPasswordDto> passwordDefinitions)", "full_signature": "private boolean changeInIdm(List<AccUniformPasswordDto> passwordDefinitions)", "class_method_signature": "DefaultPasswordFilterManager.changeInIdm(List<AccUniformPasswordDto> passwordDefinitions)", "testcase": false, "constructor": false}, {"identifier": "isPasswordEqual", "parameters": "(AccPasswordFilterEchoItemDto echo, GuardedString password)", "modifiers": "private", "return": "boolean", "signature": "boolean isPasswordEqual(AccPasswordFilterEchoItemDto echo, GuardedString password)", "full_signature": "private boolean isPasswordEqual(AccPasswordFilterEchoItemDto echo, GuardedString password)", "class_method_signature": "DefaultPasswordFilterManager.isPasswordEqual(AccPasswordFilterEchoItemDto echo, GuardedString password)", "testcase": false, "constructor": false}], "file": "Realization/backend/acc/src/main/java/eu/bcvsolutions/idm/acc/service/impl/DefaultPasswordFilterManager.java"}, "focal_method": {"identifier": "createEcho", "parameters": "(UUID accountId, GuardedString password)", "modifiers": "@Override public", "return": "void", "body": "@Override\n\tpublic void createEcho(UUID accountId, GuardedString password) {\n\t\tAccPasswordFilterEchoItemDto echo = new AccPasswordFilterEchoItemDto(hashPassword(password), accountId);\n\t\tZonedDateTime now = ZonedDateTime.now();\n\t\techo.setValidityChecked(true);\n\t\techo.setChanged(true);\n\t\techo.setChangeDate(now);\n\t\techo.setValidateDate(now);\n\t\tLOG.info(\"For account [{}] will be created new standard echo with validity and changed record.\", accountId);\n\t\tidmCacheManager.cacheValue(ECHO_CACHE_NAME, accountId, echo);\n\t}", "signature": "void createEcho(UUID accountId, GuardedString password)", "full_signature": "@Override public void createEcho(UUID accountId, GuardedString password)", "class_method_signature": "DefaultPasswordFilterManager.createEcho(UUID accountId, GuardedString password)", "testcase": false, "constructor": false, "invocations": ["hashPassword", "now", "setValidityChecked", "setChanged", "setChangeDate", "setValidateDate", "info", "cacheValue"]}, "repository": {"repo_id": 61879415, "url": "https://github.com/bcvsolutions/CzechIdMng", "stars": 25, "created": "6/24/2016 11:18:23 AM +00:00", "updates": "2020-01-27T15:14:40+00:00", "fork": "False", "license": "licensed"}}