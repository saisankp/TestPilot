{"test_class": {"identifier": "NetStorageCmsSignerTest", "superclass": "", "interfaces": "", "fields": [], "file": "akamai/src/test/java/nl/nn/adapterframework/extensions/akamai/NetStorageCmsSignerTest.java"}, "test_case": {"identifier": "vaidateDataAndSignHeader", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void vaidateDataAndSignHeader() throws URISyntaxException {\n\t\tURI uri = new URI(\"http://127.0.0.1/cpCode123/path\");\n\t\tNetStorageAction action = new NetStorageAction(\"du\");\n\t\tNetStorageCmsSigner signer = new NetStorageCmsSigner(uri, \"myNonce\", \"accessToken\", action) {\n\t\t\t@Override\n\t\t\tprotected String getAuthDataHeaderValue() {\n\t\t\t\treturn \"much auth value\";\n\t\t\t}\n\t\t};\n\t\tMap<String, String> headers = signer.computeHeaders();\n\t\tString sign = headers.get(NetStorageCmsSigner.AUTH_SIGN_HEADER);\n\n\t\tassertEquals(\"w8k5LZTRNKubFvWIqUEgcTrDZhPCo48PeHX45zxSlBU=\", sign);\n\t}", "signature": "void vaidateDataAndSignHeader()", "full_signature": "@Test public void vaidateDataAndSignHeader()", "class_method_signature": "NetStorageCmsSignerTest.vaidateDataAndSignHeader()", "testcase": true, "constructor": false, "invocations": ["computeHeaders", "get", "assertEquals"]}, "focal_class": {"identifier": "NetStorageCmsSigner", "superclass": "", "interfaces": "", "fields": [{"original_string": "protected static final String ACTION_HEADER = \"X-Akamai-ACS-Action\";", "modifier": "protected static final", "type": "String", "declarator": "ACTION_HEADER = \"X-Akamai-ACS-Action\"", "var_name": "ACTION_HEADER"}, {"original_string": "protected static final String AUTH_DATA_HEADER = \"X-Akamai-ACS-Auth-Data\";", "modifier": "protected static final", "type": "String", "declarator": "AUTH_DATA_HEADER = \"X-Akamai-ACS-Auth-Data\"", "var_name": "AUTH_DATA_HEADER"}, {"original_string": "protected static final String AUTH_SIGN_HEADER = \"X-Akamai-ACS-Auth-Sign\";", "modifier": "protected static final", "type": "String", "declarator": "AUTH_SIGN_HEADER = \"X-Akamai-ACS-Auth-Sign\"", "var_name": "AUTH_SIGN_HEADER"}, {"original_string": "private URI uri;", "modifier": "private", "type": "URI", "declarator": "uri", "var_name": "uri"}, {"original_string": "private String nonce;", "modifier": "private", "type": "String", "declarator": "nonce", "var_name": "nonce"}, {"original_string": "private String accessToken;", "modifier": "private", "type": "String", "declarator": "accessToken", "var_name": "accessToken"}, {"original_string": "private NetStorageAction action;", "modifier": "private", "type": "NetStorageAction", "declarator": "action", "var_name": "action"}, {"original_string": "private SignType signVersion;", "modifier": "private", "type": "SignType", "declarator": "signVersion", "var_name": "signVersion"}], "methods": [{"identifier": "NetStorageCmsSigner", "parameters": "(URI uri, String nonce, String accessToken, NetStorageAction action)", "modifiers": "public", "return": "", "signature": " NetStorageCmsSigner(URI uri, String nonce, String accessToken, NetStorageAction action)", "full_signature": "public  NetStorageCmsSigner(URI uri, String nonce, String accessToken, NetStorageAction action)", "class_method_signature": "NetStorageCmsSigner.NetStorageCmsSigner(URI uri, String nonce, String accessToken, NetStorageAction action)", "testcase": false, "constructor": true}, {"identifier": "NetStorageCmsSigner", "parameters": "(URI uri, String nonce, String accessToken, NetStorageAction action, SignType signVersion)", "modifiers": "public", "return": "", "signature": " NetStorageCmsSigner(URI uri, String nonce, String accessToken, NetStorageAction action, SignType signVersion)", "full_signature": "public  NetStorageCmsSigner(URI uri, String nonce, String accessToken, NetStorageAction action, SignType signVersion)", "class_method_signature": "NetStorageCmsSigner.NetStorageCmsSigner(URI uri, String nonce, String accessToken, NetStorageAction action, SignType signVersion)", "testcase": false, "constructor": true}, {"identifier": "getSignVersion", "parameters": "()", "modifiers": "public", "return": "SignType", "signature": "SignType getSignVersion()", "full_signature": "public SignType getSignVersion()", "class_method_signature": "NetStorageCmsSigner.getSignVersion()", "testcase": false, "constructor": false}, {"identifier": "setSignVersion", "parameters": "(SignType signVersion)", "modifiers": "public", "return": "void", "signature": "void setSignVersion(SignType signVersion)", "full_signature": "public void setSignVersion(SignType signVersion)", "class_method_signature": "NetStorageCmsSigner.setSignVersion(SignType signVersion)", "testcase": false, "constructor": false}, {"identifier": "getActionHeaderValue", "parameters": "()", "modifiers": "protected", "return": "String", "signature": "String getActionHeaderValue()", "full_signature": "protected String getActionHeaderValue()", "class_method_signature": "NetStorageCmsSigner.getActionHeaderValue()", "testcase": false, "constructor": false}, {"identifier": "getAuthDataHeaderValue", "parameters": "()", "modifiers": "protected", "return": "String", "signature": "String getAuthDataHeaderValue()", "full_signature": "protected String getAuthDataHeaderValue()", "class_method_signature": "NetStorageCmsSigner.getAuthDataHeaderValue()", "testcase": false, "constructor": false}, {"identifier": "getAuthSignHeaderValue", "parameters": "(String action, String authData)", "modifiers": "protected", "return": "String", "signature": "String getAuthSignHeaderValue(String action, String authData)", "full_signature": "protected String getAuthSignHeaderValue(String action, String authData)", "class_method_signature": "NetStorageCmsSigner.getAuthSignHeaderValue(String action, String authData)", "testcase": false, "constructor": false}, {"identifier": "computeHeaders", "parameters": "()", "modifiers": "public", "return": "Map<String, String>", "signature": "Map<String, String> computeHeaders()", "full_signature": "public Map<String, String> computeHeaders()", "class_method_signature": "NetStorageCmsSigner.computeHeaders()", "testcase": false, "constructor": false}], "file": "akamai/src/main/java/nl/nn/adapterframework/extensions/akamai/NetStorageCmsSigner.java"}, "focal_method": {"identifier": "computeHeaders", "parameters": "()", "modifiers": "public", "return": "Map<String, String>", "body": "public Map<String, String> computeHeaders() {\n\t\tfinal Map<String, String> headers = new HashMap<String, String>(3);\n\t\tfinal String action = getActionHeaderValue();\n\t\tfinal String authData = getAuthDataHeaderValue();\n\t\tfinal String authSign = getAuthSignHeaderValue(action, authData);\n\n\t\theaders.put(NetStorageCmsSigner.ACTION_HEADER, action);\n\t\theaders.put(NetStorageCmsSigner.AUTH_DATA_HEADER, authData);\n\t\theaders.put(NetStorageCmsSigner.AUTH_SIGN_HEADER, authSign);\n\t\treturn headers;\n\t}", "signature": "Map<String, String> computeHeaders()", "full_signature": "public Map<String, String> computeHeaders()", "class_method_signature": "NetStorageCmsSigner.computeHeaders()", "testcase": false, "constructor": false, "invocations": ["getActionHeaderValue", "getAuthDataHeaderValue", "getAuthSignHeaderValue", "put", "put", "put"]}, "repository": {"repo_id": 8927606, "url": "https://github.com/ibissource/iaf", "stars": 17, "created": "3/21/2013 11:48:24 AM +00:00", "updates": "2020-01-27T15:25:21+00:00", "fork": "False", "license": "licensed"}}