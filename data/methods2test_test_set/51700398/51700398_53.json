{"test_class": {"identifier": "RateServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String BRE = \"BRE\";", "modifier": "private static final", "type": "String", "declarator": "BRE = \"BRE\"", "var_name": "BRE"}, {"original_string": "@Autowired\n\tprivate HistoricalRateRepository histoRepo;", "modifier": "@Autowired\n\tprivate", "type": "HistoricalRateRepository", "declarator": "histoRepo", "var_name": "histoRepo"}, {"original_string": "@Autowired\n\tprivate RateService rateService;", "modifier": "@Autowired\n\tprivate", "type": "RateService", "declarator": "rateService", "var_name": "rateService"}], "file": "trading-common/src/test/java/fr/ymanvieu/trading/common/rate/RateServiceTest.java"}, "test_case": {"identifier": "testGetNewestRateDate_NoElement", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testGetNewestRateDate_NoElement() {\n\t\tassertThat(rateService.getNewestRateDate(USD, \"TOTO\")).isNull();\n\t}", "signature": "void testGetNewestRateDate_NoElement()", "full_signature": "@Test public void testGetNewestRateDate_NoElement()", "class_method_signature": "RateServiceTest.testGetNewestRateDate_NoElement()", "testcase": true, "constructor": false, "invocations": ["isNull", "assertThat", "getNewestRateDate"]}, "focal_class": {"identifier": "RateService", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String BASE_CURRENCY = CurrencyUtils.USD;", "modifier": "private static final", "type": "String", "declarator": "BASE_CURRENCY = CurrencyUtils.USD", "var_name": "BASE_CURRENCY"}, {"original_string": "private static final Sort SORT_ASC_DATE = Sort.by(Direction.ASC, \"date\");", "modifier": "private static final", "type": "Sort", "declarator": "SORT_ASC_DATE = Sort.by(Direction.ASC, \"date\")", "var_name": "SORT_ASC_DATE"}, {"original_string": "private static final Sort SORT_DESC_DATE = Sort.by(Direction.DESC, \"date\");", "modifier": "private static final", "type": "Sort", "declarator": "SORT_DESC_DATE = Sort.by(Direction.DESC, \"date\")", "var_name": "SORT_DESC_DATE"}, {"original_string": "@Autowired\n\tprivate HistoricalRateRepository historicalRateRepository;", "modifier": "@Autowired\n\tprivate", "type": "HistoricalRateRepository", "declarator": "historicalRateRepository", "var_name": "historicalRateRepository"}, {"original_string": "@Autowired\n\tprivate LatestRateRepository latestRateRepository;", "modifier": "@Autowired\n\tprivate", "type": "LatestRateRepository", "declarator": "latestRateRepository", "var_name": "latestRateRepository"}, {"original_string": "@Autowired\n\tprivate SymbolRepository symbolRepository;", "modifier": "@Autowired\n\tprivate", "type": "SymbolRepository", "declarator": "symbolRepository", "var_name": "symbolRepository"}, {"original_string": "@Autowired\n\tprivate RateMapper rateMapper;", "modifier": "@Autowired\n\tprivate", "type": "RateMapper", "declarator": "rateMapper", "var_name": "rateMapper"}], "methods": [{"identifier": "getAllLatestWithFavorites", "parameters": "(String username)", "modifiers": "public", "return": "List<FavoriteRate>", "signature": "List<FavoriteRate> getAllLatestWithFavorites(String username)", "full_signature": "public List<FavoriteRate> getAllLatestWithFavorites(String username)", "class_method_signature": "RateService.getAllLatestWithFavorites(String username)", "testcase": false, "constructor": false}, {"identifier": "getOldestRateDate", "parameters": "(String fromcur, String tocur)", "modifiers": "public", "return": "Instant", "signature": "Instant getOldestRateDate(String fromcur, String tocur)", "full_signature": "public Instant getOldestRateDate(String fromcur, String tocur)", "class_method_signature": "RateService.getOldestRateDate(String fromcur, String tocur)", "testcase": false, "constructor": false}, {"identifier": "getNewestRateDate", "parameters": "(String fromcur, String tocur)", "modifiers": "public", "return": "Instant", "signature": "Instant getNewestRateDate(String fromcur, String tocur)", "full_signature": "public Instant getNewestRateDate(String fromcur, String tocur)", "class_method_signature": "RateService.getNewestRateDate(String fromcur, String tocur)", "testcase": false, "constructor": false}, {"identifier": "getLatest", "parameters": "(String fromcur, String tocur)", "modifiers": "public", "return": "Rate", "signature": "Rate getLatest(String fromcur, String tocur)", "full_signature": "public Rate getLatest(String fromcur, String tocur)", "class_method_signature": "RateService.getLatest(String fromcur, String tocur)", "testcase": false, "constructor": false}, {"identifier": "addLatestRate", "parameters": "(Quote quote)", "modifiers": "public", "return": "void", "signature": "void addLatestRate(Quote quote)", "full_signature": "public void addLatestRate(Quote quote)", "class_method_signature": "RateService.addLatestRate(Quote quote)", "testcase": false, "constructor": false}, {"identifier": "getHistoricalValues", "parameters": "(String fromcur, String tocur, Instant startDate, Instant endDate)", "modifiers": "public", "return": "List<DateValue>", "signature": "List<DateValue> getHistoricalValues(String fromcur, String tocur, Instant startDate, Instant endDate)", "full_signature": "public List<DateValue> getHistoricalValues(String fromcur, String tocur, Instant startDate, Instant endDate)", "class_method_signature": "RateService.getHistoricalValues(String fromcur, String tocur, Instant startDate, Instant endDate)", "testcase": false, "constructor": false}, {"identifier": "addHistoricalRates", "parameters": "(List<Quote> quotes)", "modifiers": "@Transactional public", "return": "void", "signature": "void addHistoricalRates(List<Quote> quotes)", "full_signature": "@Transactional public void addHistoricalRates(List<Quote> quotes)", "class_method_signature": "RateService.addHistoricalRates(List<Quote> quotes)", "testcase": false, "constructor": false}], "file": "trading-common/src/main/java/fr/ymanvieu/trading/common/rate/RateService.java"}, "focal_method": {"identifier": "getNewestRateDate", "parameters": "(String fromcur, String tocur)", "modifiers": "public", "return": "Instant", "body": "public Instant getNewestRateDate(String fromcur, String tocur) {\n\t\tHistoricalRate r = historicalRateRepository.findFirstByFromcurCodeAndTocurCode(fromcur, tocur, SORT_DESC_DATE);\n\t\treturn (r == null) ? null : r.getDate();\n\t}", "signature": "Instant getNewestRateDate(String fromcur, String tocur)", "full_signature": "public Instant getNewestRateDate(String fromcur, String tocur)", "class_method_signature": "RateService.getNewestRateDate(String fromcur, String tocur)", "testcase": false, "constructor": false, "invocations": ["findFirstByFromcurCodeAndTocurCode", "getDate"]}, "repository": {"repo_id": 51700398, "url": "https://github.com/ymanvieu/trading", "language": "Java", "is_fork": false, "fork_count": 0, "stargazer_count": 5, "size": 988, "license": "licensed"}}