{"test_class": {"identifier": "AutonomiccsSystemVmsGuruTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private AutonomiccsSystemVmsGuru spy;", "modifier": "private", "type": "AutonomiccsSystemVmsGuru", "declarator": "spy", "var_name": "spy"}, {"original_string": "@Mock\n    private VirtualMachineManager virtualMachineManager;", "modifier": "@Mock\n    private", "type": "VirtualMachineManager", "declarator": "virtualMachineManager", "var_name": "virtualMachineManager"}, {"original_string": "@Mock\n    private AutonomiccsSystemVmDao autonomiccsSystemVmDao;", "modifier": "@Mock\n    private", "type": "AutonomiccsSystemVmDao", "declarator": "autonomiccsSystemVmDao", "var_name": "autonomiccsSystemVmDao"}, {"original_string": "@Mock\n    private ConfigurationDao configurationDao;", "modifier": "@Mock\n    private", "type": "ConfigurationDao", "declarator": "configurationDao", "var_name": "configurationDao"}, {"original_string": "@Mock\n    private DataCenterDao datacenterDao;", "modifier": "@Mock\n    private", "type": "DataCenterDao", "declarator": "datacenterDao", "var_name": "datacenterDao"}, {"original_string": "private NicProfile nic;", "modifier": "private", "type": "NicProfile", "declarator": "nic", "var_name": "nic"}, {"original_string": "private Pod pod;", "modifier": "private", "type": "Pod", "declarator": "pod", "var_name": "pod"}, {"original_string": "private DeployDestination dest;", "modifier": "private", "type": "DeployDestination", "declarator": "dest", "var_name": "dest"}], "file": "autonomic-plugin-common/src/test/java/br/com/autonomiccs/autonomic/plugin/common/guru/AutonomiccsSystemVmsGuruTest.java"}, "test_case": {"identifier": "configureBasicVmProfileTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void configureBasicVmProfileTest() {\n        StringBuilder buf = new StringBuilder();\n        VirtualMachine vm = Mockito.mock(VirtualMachine.class);\n        Mockito.when(vm.getHostName()).thenReturn(\"vmHostName\");\n        DataCenter dc = Mockito.mock(DataCenter.class);\n        Mockito.when(dc.getId()).thenReturn(0l);\n\n        Pod pod = Mockito.mock(Pod.class);\n        Mockito.when(pod.getId()).thenReturn(0l);\n\n        DeployDestination dest = Mockito.mock(DeployDestination.class);\n        Mockito.when(dest.getDataCenter()).thenReturn(dc);\n        Mockito.when(dest.getPod()).thenReturn(pod);\n\n        VirtualMachineProfile profile = Mockito.mock(VirtualMachineProfile.class);\n        Mockito.when(profile.getBootArgsBuilder()).thenReturn(buf);\n        Mockito.when(profile.getVirtualMachine()).thenReturn(vm);\n        Mockito.when(profile.getId()).thenReturn(123l);\n\n        StringBuilder result = spy.configureBasicVmProfile(profile, dest);\n\n        Assert.assertEquals(\" template=domP host=localhost name=vmHostName zone=0 pod=0 guid=autonomiccsSystemVm.123 autonomiccsSystemVm_vm=123\", result.toString());\n        InOrder inOrder = Mockito.inOrder(profile, vm, dest, dc, pod);\n        inOrder.verify(profile).getBootArgsBuilder();\n        inOrder.verify(profile).getVirtualMachine();\n        inOrder.verify(vm).getHostName();\n        inOrder.verify(dest).getDataCenter();\n        inOrder.verify(dc).getId();\n        inOrder.verify(dest).getPod();\n        inOrder.verify(pod).getId();\n        inOrder.verify(profile, Mockito.times(2)).getId();\n    }", "signature": "void configureBasicVmProfileTest()", "full_signature": "@Test public void configureBasicVmProfileTest()", "class_method_signature": "AutonomiccsSystemVmsGuruTest.configureBasicVmProfileTest()", "testcase": true, "constructor": false, "invocations": ["mock", "thenReturn", "when", "getHostName", "mock", "thenReturn", "when", "getId", "mock", "thenReturn", "when", "getId", "mock", "thenReturn", "when", "getDataCenter", "thenReturn", "when", "getPod", "mock", "thenReturn", "when", "getBootArgsBuilder", "thenReturn", "when", "getVirtualMachine", "thenReturn", "when", "getId", "configureBasicVmProfile", "assertEquals", "toString", "inOrder", "getBootArgsBuilder", "verify", "getVirtualMachine", "verify", "getHostName", "verify", "getDataCenter", "verify", "getId", "verify", "getPod", "verify", "getId", "verify", "getId", "verify", "times"]}, "focal_class": {"identifier": "AutonomiccsSystemVmsGuru", "superclass": "", "interfaces": "implements VirtualMachineGuru, InitializingBean", "fields": [{"original_string": "private final Logger logger = LoggerFactory.getLogger(getClass());", "modifier": "private final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(getClass())", "var_name": "logger"}, {"original_string": "@Autowired\n    protected String ipAddressInternet;", "modifier": "@Autowired\n    protected", "type": "String", "declarator": "ipAddressInternet", "var_name": "ipAddressInternet"}, {"original_string": "@Autowired\n    protected String maskForIpAddressInternet;", "modifier": "@Autowired\n    protected", "type": "String", "declarator": "maskForIpAddressInternet", "var_name": "maskForIpAddressInternet"}, {"original_string": "@Autowired\n    protected VirtualMachineManager virtualMachineManager;", "modifier": "@Autowired\n    protected", "type": "VirtualMachineManager", "declarator": "virtualMachineManager", "var_name": "virtualMachineManager"}, {"original_string": "@Autowired\n    protected AutonomiccsSystemVmDao autonomiccsSystemVmDao;", "modifier": "@Autowired\n    protected", "type": "AutonomiccsSystemVmDao", "declarator": "autonomiccsSystemVmDao", "var_name": "autonomiccsSystemVmDao"}, {"original_string": "@Autowired\n    protected ConfigurationDao configurationDao;", "modifier": "@Autowired\n    protected", "type": "ConfigurationDao", "declarator": "configurationDao", "var_name": "configurationDao"}, {"original_string": "@Autowired\n    protected DataCenterDao datacenterDao;", "modifier": "@Autowired\n    protected", "type": "DataCenterDao", "declarator": "datacenterDao", "var_name": "datacenterDao"}], "methods": [{"identifier": "afterPropertiesSet", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void afterPropertiesSet()", "full_signature": "@Override public void afterPropertiesSet()", "class_method_signature": "AutonomiccsSystemVmsGuru.afterPropertiesSet()", "testcase": false, "constructor": false}, {"identifier": "finalizeCommandsOnStart", "parameters": "(Commands arg0, VirtualMachineProfile arg1)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean finalizeCommandsOnStart(Commands arg0, VirtualMachineProfile arg1)", "full_signature": "@Override public boolean finalizeCommandsOnStart(Commands arg0, VirtualMachineProfile arg1)", "class_method_signature": "AutonomiccsSystemVmsGuru.finalizeCommandsOnStart(Commands arg0, VirtualMachineProfile arg1)", "testcase": false, "constructor": false}, {"identifier": "finalizeDeployment", "parameters": "(Commands cmds, VirtualMachineProfile profile, DeployDestination dest, ReservationContext context)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean finalizeDeployment(Commands cmds, VirtualMachineProfile profile, DeployDestination dest, ReservationContext context)", "full_signature": "@Override public boolean finalizeDeployment(Commands cmds, VirtualMachineProfile profile, DeployDestination dest, ReservationContext context)", "class_method_signature": "AutonomiccsSystemVmsGuru.finalizeDeployment(Commands cmds, VirtualMachineProfile profile, DeployDestination dest, ReservationContext context)", "testcase": false, "constructor": false}, {"identifier": "setIpAddressOfEachNic", "parameters": "(AutonomiccsSystemVm autonomiccsSystemVm, DataCenter dc, List<NicProfile> nics)", "modifiers": "protected", "return": "void", "signature": "void setIpAddressOfEachNic(AutonomiccsSystemVm autonomiccsSystemVm, DataCenter dc, List<NicProfile> nics)", "full_signature": "protected void setIpAddressOfEachNic(AutonomiccsSystemVm autonomiccsSystemVm, DataCenter dc, List<NicProfile> nics)", "class_method_signature": "AutonomiccsSystemVmsGuru.setIpAddressOfEachNic(AutonomiccsSystemVm autonomiccsSystemVm, DataCenter dc, List<NicProfile> nics)", "testcase": false, "constructor": false}, {"identifier": "finalizeExpunge", "parameters": "(VirtualMachine vm)", "modifiers": "@Override public", "return": "void", "signature": "void finalizeExpunge(VirtualMachine vm)", "full_signature": "@Override public void finalizeExpunge(VirtualMachine vm)", "class_method_signature": "AutonomiccsSystemVmsGuru.finalizeExpunge(VirtualMachine vm)", "testcase": false, "constructor": false}, {"identifier": "finalizeStart", "parameters": "(VirtualMachineProfile arg0, long arg1, Commands arg2, ReservationContext arg3)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean finalizeStart(VirtualMachineProfile arg0, long arg1, Commands arg2, ReservationContext arg3)", "full_signature": "@Override public boolean finalizeStart(VirtualMachineProfile arg0, long arg1, Commands arg2, ReservationContext arg3)", "class_method_signature": "AutonomiccsSystemVmsGuru.finalizeStart(VirtualMachineProfile arg0, long arg1, Commands arg2, ReservationContext arg3)", "testcase": false, "constructor": false}, {"identifier": "finalizeStop", "parameters": "(VirtualMachineProfile arg0, Answer arg1)", "modifiers": "@Override public", "return": "void", "signature": "void finalizeStop(VirtualMachineProfile arg0, Answer arg1)", "full_signature": "@Override public void finalizeStop(VirtualMachineProfile arg0, Answer arg1)", "class_method_signature": "AutonomiccsSystemVmsGuru.finalizeStop(VirtualMachineProfile arg0, Answer arg1)", "testcase": false, "constructor": false}, {"identifier": "finalizeVirtualMachineProfile", "parameters": "(VirtualMachineProfile profile, DeployDestination dest, ReservationContext context)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean finalizeVirtualMachineProfile(VirtualMachineProfile profile, DeployDestination dest, ReservationContext context)", "full_signature": "@Override public boolean finalizeVirtualMachineProfile(VirtualMachineProfile profile, DeployDestination dest, ReservationContext context)", "class_method_signature": "AutonomiccsSystemVmsGuru.finalizeVirtualMachineProfile(VirtualMachineProfile profile, DeployDestination dest, ReservationContext context)", "testcase": false, "constructor": false}, {"identifier": "configurePassword", "parameters": "(StringBuilder buf)", "modifiers": "protected", "return": "void", "signature": "void configurePassword(StringBuilder buf)", "full_signature": "protected void configurePassword(StringBuilder buf)", "class_method_signature": "AutonomiccsSystemVmsGuru.configurePassword(StringBuilder buf)", "testcase": false, "constructor": false}, {"identifier": "configureBasicVmProfile", "parameters": "(VirtualMachineProfile profile, DeployDestination dest)", "modifiers": "protected", "return": "StringBuilder", "signature": "StringBuilder configureBasicVmProfile(VirtualMachineProfile profile, DeployDestination dest)", "full_signature": "protected StringBuilder configureBasicVmProfile(VirtualMachineProfile profile, DeployDestination dest)", "class_method_signature": "AutonomiccsSystemVmsGuru.configureBasicVmProfile(VirtualMachineProfile profile, DeployDestination dest)", "testcase": false, "constructor": false}, {"identifier": "configureNicDhcpAndDns", "parameters": "(VirtualMachineProfile profile, StringBuilder buf, boolean externalDhcp)", "modifiers": "protected", "return": "String", "signature": "String configureNicDhcpAndDns(VirtualMachineProfile profile, StringBuilder buf, boolean externalDhcp)", "full_signature": "protected String configureNicDhcpAndDns(VirtualMachineProfile profile, StringBuilder buf, boolean externalDhcp)", "class_method_signature": "AutonomiccsSystemVmsGuru.configureNicDhcpAndDns(VirtualMachineProfile profile, StringBuilder buf, boolean externalDhcp)", "testcase": false, "constructor": false}, {"identifier": "configureNicGatewayAndManagementNetwork", "parameters": "(DeployDestination dest, StringBuilder buf, NicProfile nic)", "modifiers": "protected", "return": "void", "signature": "void configureNicGatewayAndManagementNetwork(DeployDestination dest, StringBuilder buf, NicProfile nic)", "full_signature": "protected void configureNicGatewayAndManagementNetwork(DeployDestination dest, StringBuilder buf, NicProfile nic)", "class_method_signature": "AutonomiccsSystemVmsGuru.configureNicGatewayAndManagementNetwork(DeployDestination dest, StringBuilder buf, NicProfile nic)", "testcase": false, "constructor": false}, {"identifier": "configureIpAndMaskOnNicWithIpAddressNullOrNotNull", "parameters": "(StringBuilder buf, NicProfile nic, int deviceId)", "modifiers": "protected", "return": "void", "signature": "void configureIpAndMaskOnNicWithIpAddressNullOrNotNull(StringBuilder buf, NicProfile nic, int deviceId)", "full_signature": "protected void configureIpAndMaskOnNicWithIpAddressNullOrNotNull(StringBuilder buf, NicProfile nic, int deviceId)", "class_method_signature": "AutonomiccsSystemVmsGuru.configureIpAndMaskOnNicWithIpAddressNullOrNotNull(StringBuilder buf, NicProfile nic, int deviceId)", "testcase": false, "constructor": false}, {"identifier": "prepareStop", "parameters": "(VirtualMachineProfile arg0)", "modifiers": "@Override public", "return": "void", "signature": "void prepareStop(VirtualMachineProfile arg0)", "full_signature": "@Override public void prepareStop(VirtualMachineProfile arg0)", "class_method_signature": "AutonomiccsSystemVmsGuru.prepareStop(VirtualMachineProfile arg0)", "testcase": false, "constructor": false}], "file": "autonomic-plugin-common/src/main/java/br/com/autonomiccs/autonomic/plugin/common/guru/AutonomiccsSystemVmsGuru.java"}, "focal_method": {"identifier": "configureBasicVmProfile", "parameters": "(VirtualMachineProfile profile, DeployDestination dest)", "modifiers": "protected", "return": "StringBuilder", "body": "protected StringBuilder configureBasicVmProfile(VirtualMachineProfile profile, DeployDestination dest) {\n        StringBuilder buf = profile.getBootArgsBuilder();\n        buf.append(\" template=domP\");\n        buf.append(\" host=\").append(ApiServiceConfiguration.ManagementHostIPAdr.value());\n        buf.append(\" name=\").append(profile.getVirtualMachine().getHostName());\n        buf.append(\" zone=\").append(dest.getDataCenter().getId());\n        buf.append(\" pod=\").append(dest.getPod().getId());\n        buf.append(\" guid=autonomiccsSystemVm.\").append(profile.getId());\n        buf.append(\" autonomiccsSystemVm_vm=\").append(profile.getId());\n        return buf;\n    }", "signature": "StringBuilder configureBasicVmProfile(VirtualMachineProfile profile, DeployDestination dest)", "full_signature": "protected StringBuilder configureBasicVmProfile(VirtualMachineProfile profile, DeployDestination dest)", "class_method_signature": "AutonomiccsSystemVmsGuru.configureBasicVmProfile(VirtualMachineProfile profile, DeployDestination dest)", "testcase": false, "constructor": false, "invocations": ["getBootArgsBuilder", "append", "append", "append", "value", "append", "append", "getHostName", "getVirtualMachine", "append", "append", "getId", "getDataCenter", "append", "append", "getId", "getPod", "append", "append", "getId", "append", "append", "getId"]}, "repository": {"repo_id": 56359101, "url": "https://github.com/Autonomiccs/autonomiccs-platform", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 17, "size": 944, "license": "licensed"}}