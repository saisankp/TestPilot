{"test_class": {"identifier": "PasswordCredentialVersionTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String PASSWORD = \"my-password\";", "modifier": "private static final", "type": "String", "declarator": "PASSWORD = \"my-password\"", "var_name": "PASSWORD"}, {"original_string": "private PasswordCredentialVersion subject;", "modifier": "private", "type": "PasswordCredentialVersion", "declarator": "subject", "var_name": "subject"}, {"original_string": "private PasswordCredentialVersionData passwordCredentialData;", "modifier": "private", "type": "PasswordCredentialVersionData", "declarator": "passwordCredentialData", "var_name": "passwordCredentialData"}, {"original_string": "private Encryptor encryptor;", "modifier": "private", "type": "Encryptor", "declarator": "encryptor", "var_name": "encryptor"}, {"original_string": "private UUID canaryUuid;", "modifier": "private", "type": "UUID", "declarator": "canaryUuid", "var_name": "canaryUuid"}, {"original_string": "private StringGenerationParameters generationParameters;", "modifier": "private", "type": "StringGenerationParameters", "declarator": "generationParameters", "var_name": "generationParameters"}, {"original_string": "private byte[] encryptedValue;", "modifier": "private", "type": "byte[]", "declarator": "encryptedValue", "var_name": "encryptedValue"}, {"original_string": "private byte[] nonce;", "modifier": "private", "type": "byte[]", "declarator": "nonce", "var_name": "nonce"}, {"original_string": "private byte[] encryptedParametersValue;", "modifier": "private", "type": "byte[]", "declarator": "encryptedParametersValue", "var_name": "encryptedParametersValue"}, {"original_string": "private byte[] parametersNonce;", "modifier": "private", "type": "byte[]", "declarator": "parametersNonce", "var_name": "parametersNonce"}], "file": "components/credentials/src/test/java/org/cloudfoundry/credhub/domain/PasswordCredentialVersionTest.java"}, "test_case": {"identifier": "setPasswordAndGenerationParameters_throwsAnExceptionWhenSettingANullValue", "parameters": "()", "modifiers": "@Test(expected = IllegalArgumentException.class) public", "return": "void", "body": "@Test(expected = IllegalArgumentException.class)\n  public void setPasswordAndGenerationParameters_throwsAnExceptionWhenSettingANullValue() {\n    subject.setPasswordAndGenerationParameters(null, null);\n  }", "signature": "void setPasswordAndGenerationParameters_throwsAnExceptionWhenSettingANullValue()", "full_signature": "@Test(expected = IllegalArgumentException.class) public void setPasswordAndGenerationParameters_throwsAnExceptionWhenSettingANullValue()", "class_method_signature": "PasswordCredentialVersionTest.setPasswordAndGenerationParameters_throwsAnExceptionWhenSettingANullValue()", "testcase": true, "constructor": false, "invocations": ["setPasswordAndGenerationParameters"]}, "focal_class": {"identifier": "PasswordCredentialVersion", "superclass": "extends CredentialVersion", "interfaces": "", "fields": [{"original_string": "private final PasswordCredentialVersionData delegate;", "modifier": "private final", "type": "PasswordCredentialVersionData", "declarator": "delegate", "var_name": "delegate"}, {"original_string": "private String password;", "modifier": "private", "type": "String", "declarator": "password", "var_name": "password"}, {"original_string": "private final JsonObjectMapper jsonObjectMapper;", "modifier": "private final", "type": "JsonObjectMapper", "declarator": "jsonObjectMapper", "var_name": "jsonObjectMapper"}], "methods": [{"identifier": "PasswordCredentialVersion", "parameters": "(final PasswordCredentialVersionData delegate)", "modifiers": "public", "return": "", "signature": " PasswordCredentialVersion(final PasswordCredentialVersionData delegate)", "full_signature": "public  PasswordCredentialVersion(final PasswordCredentialVersionData delegate)", "class_method_signature": "PasswordCredentialVersion.PasswordCredentialVersion(final PasswordCredentialVersionData delegate)", "testcase": false, "constructor": true}, {"identifier": "PasswordCredentialVersion", "parameters": "(final String name)", "modifiers": "public", "return": "", "signature": " PasswordCredentialVersion(final String name)", "full_signature": "public  PasswordCredentialVersion(final String name)", "class_method_signature": "PasswordCredentialVersion.PasswordCredentialVersion(final String name)", "testcase": false, "constructor": true}, {"identifier": "PasswordCredentialVersion", "parameters": "()", "modifiers": "public", "return": "", "signature": " PasswordCredentialVersion()", "full_signature": "public  PasswordCredentialVersion()", "class_method_signature": "PasswordCredentialVersion.PasswordCredentialVersion()", "testcase": false, "constructor": true}, {"identifier": "PasswordCredentialVersion", "parameters": "(\n    final StringCredentialValue password,\n    final StringGenerationParameters generationParameters,\n    final Encryptor encryptor\n  )", "modifiers": "public", "return": "", "signature": " PasswordCredentialVersion(\n    final StringCredentialValue password,\n    final StringGenerationParameters generationParameters,\n    final Encryptor encryptor\n  )", "full_signature": "public  PasswordCredentialVersion(\n    final StringCredentialValue password,\n    final StringGenerationParameters generationParameters,\n    final Encryptor encryptor\n  )", "class_method_signature": "PasswordCredentialVersion.PasswordCredentialVersion(\n    final StringCredentialValue password,\n    final StringGenerationParameters generationParameters,\n    final Encryptor encryptor\n  )", "testcase": false, "constructor": true}, {"identifier": "getPassword", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getPassword()", "full_signature": "public String getPassword()", "class_method_signature": "PasswordCredentialVersion.getPassword()", "testcase": false, "constructor": false}, {"identifier": "setPasswordAndGenerationParameters", "parameters": "(\n    final String password,\n    final StringGenerationParameters generationParameters\n  )", "modifiers": "public", "return": "void", "signature": "void setPasswordAndGenerationParameters(\n    final String password,\n    final StringGenerationParameters generationParameters\n  )", "full_signature": "public void setPasswordAndGenerationParameters(\n    final String password,\n    final StringGenerationParameters generationParameters\n  )", "class_method_signature": "PasswordCredentialVersion.setPasswordAndGenerationParameters(\n    final String password,\n    final StringGenerationParameters generationParameters\n  )", "testcase": false, "constructor": false}, {"identifier": "getGenerationParameters", "parameters": "()", "modifiers": "@Override public", "return": "StringGenerationParameters", "signature": "StringGenerationParameters getGenerationParameters()", "full_signature": "@Override public StringGenerationParameters getGenerationParameters()", "class_method_signature": "PasswordCredentialVersion.getGenerationParameters()", "testcase": false, "constructor": false}, {"identifier": "matchesGenerationParameters", "parameters": "(final GenerationParameters generationParameters)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean matchesGenerationParameters(final GenerationParameters generationParameters)", "full_signature": "@Override public boolean matchesGenerationParameters(final GenerationParameters generationParameters)", "class_method_signature": "PasswordCredentialVersion.matchesGenerationParameters(final GenerationParameters generationParameters)", "testcase": false, "constructor": false}, {"identifier": "getCredentialType", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getCredentialType()", "full_signature": "@Override public String getCredentialType()", "class_method_signature": "PasswordCredentialVersion.getCredentialType()", "testcase": false, "constructor": false}, {"identifier": "rotate", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void rotate()", "full_signature": "@Override public void rotate()", "class_method_signature": "PasswordCredentialVersion.rotate()", "testcase": false, "constructor": false}], "file": "components/credentials/src/main/java/org/cloudfoundry/credhub/domain/PasswordCredentialVersion.java"}, "focal_method": {"identifier": "setPasswordAndGenerationParameters", "parameters": "(\n    final String password,\n    final StringGenerationParameters generationParameters\n  )", "modifiers": "public", "return": "void", "body": "public void setPasswordAndGenerationParameters(\n    final String password,\n    final StringGenerationParameters generationParameters\n  ) {\n    if (password == null) {\n      throw new IllegalArgumentException(\"password cannot be null\");\n    }\n\n    try {\n      final String generationParameterJson = generationParameters != null ? jsonObjectMapper.writeValueAsString(generationParameters) : null;\n\n      if (generationParameterJson != null) {\n        final EncryptedValue encryptedParameters = getEncryptor().encrypt(generationParameterJson);\n        delegate.setEncryptedGenerationParameters(encryptedParameters);\n      }\n\n      final EncryptedValue encryptedPassword = getEncryptor().encrypt(password);\n      delegate.setEncryptedValueData(encryptedPassword);\n    } catch (final Exception e) {\n      throw new RuntimeException(e);\n    }\n  }", "signature": "void setPasswordAndGenerationParameters(\n    final String password,\n    final StringGenerationParameters generationParameters\n  )", "full_signature": "public void setPasswordAndGenerationParameters(\n    final String password,\n    final StringGenerationParameters generationParameters\n  )", "class_method_signature": "PasswordCredentialVersion.setPasswordAndGenerationParameters(\n    final String password,\n    final StringGenerationParameters generationParameters\n  )", "testcase": false, "constructor": false, "invocations": ["writeValueAsString", "encrypt", "getEncryptor", "setEncryptedGenerationParameters", "encrypt", "getEncryptor", "setEncryptedValueData"]}, "repository": {"repo_id": 57061988, "url": "https://github.com/cloudfoundry-incubator/credhub", "stars": 167, "created": "4/25/2016 5:30:51 PM +00:00", "updates": "2020-01-27T21:31:19+00:00", "fork": "False", "license": "licensed"}}