{"test_class": {"identifier": "ElementJsonPostProcessorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private ElementJsonPostProcessor elementJsonPostProcessor;", "modifier": "private", "type": "ElementJsonPostProcessor", "declarator": "elementJsonPostProcessor", "var_name": "elementJsonPostProcessor"}], "file": "plugin-code/src/test/java/com/trivago/cluecumber/json/processors/ElementJsonPostProcessorTest.java"}, "test_case": {"identifier": "postDeserializeTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void postDeserializeTest() {\n        Element element = new Element();\n        List<Step> steps = new ArrayList<>();\n        Step step = new Step();\n        List<Embedding> embeddings = new ArrayList<>();\n        Embedding embedding = new Embedding();\n        embedding.setMimeType(MimeType.PNG);\n        embedding.setData(\"123\");\n        embeddings.add(embedding);\n        step.setEmbeddings(embeddings);\n\n        List<ResultMatch> before = new ArrayList<>();\n        ResultMatch resultMatchBefore = new ResultMatch();\n        before.add(resultMatchBefore);\n        step.setBefore(before);\n\n        List<ResultMatch> after = new ArrayList<>();\n        ResultMatch resultMatchAfter = new ResultMatch();\n        after.add(resultMatchAfter);\n        step.setAfter(after);\n\n        steps.add(step);\n        element.setSteps(steps);\n\n        List<ResultMatch> elementAfter = new ArrayList<>();\n        ResultMatch resultMatchAfterElement = new ResultMatch();\n        elementAfter.add(resultMatchAfter);\n        element.setAfter(elementAfter);\n\n        assertThat(embedding.getData(), is(\"123\"));\n\n        elementJsonPostProcessor.postDeserialize(element, null, null);\n        assertThat(embedding.getFilename(), is(\"attachment001.png\"));\n    }", "signature": "void postDeserializeTest()", "full_signature": "@Test public void postDeserializeTest()", "class_method_signature": "ElementJsonPostProcessorTest.postDeserializeTest()", "testcase": true, "constructor": false, "invocations": ["setMimeType", "setData", "add", "setEmbeddings", "add", "setBefore", "add", "setAfter", "add", "setSteps", "add", "setAfter", "assertThat", "getData", "is", "postDeserialize", "assertThat", "getFilename", "is"]}, "focal_class": {"identifier": "ElementJsonPostProcessor", "superclass": "", "interfaces": "implements PostProcessor<Element>", "fields": [{"original_string": "private final PropertyManager propertyManager;", "modifier": "private final", "type": "PropertyManager", "declarator": "propertyManager", "var_name": "propertyManager"}, {"original_string": "private final FileIO fileIO;", "modifier": "private final", "type": "FileIO", "declarator": "fileIO", "var_name": "fileIO"}, {"original_string": "private final CluecumberLogger logger;", "modifier": "private final", "type": "CluecumberLogger", "declarator": "logger", "var_name": "logger"}, {"original_string": "private int attachmentIndex = 1;", "modifier": "private", "type": "int", "declarator": "attachmentIndex = 1", "var_name": "attachmentIndex"}], "methods": [{"identifier": "ElementJsonPostProcessor", "parameters": "(\n            final PropertyManager propertyManager,\n            final FileIO fileIO,\n            final CluecumberLogger logger\n    )", "modifiers": "@Inject public", "return": "", "signature": " ElementJsonPostProcessor(\n            final PropertyManager propertyManager,\n            final FileIO fileIO,\n            final CluecumberLogger logger\n    )", "full_signature": "@Inject public  ElementJsonPostProcessor(\n            final PropertyManager propertyManager,\n            final FileIO fileIO,\n            final CluecumberLogger logger\n    )", "class_method_signature": "ElementJsonPostProcessor.ElementJsonPostProcessor(\n            final PropertyManager propertyManager,\n            final FileIO fileIO,\n            final CluecumberLogger logger\n    )", "testcase": false, "constructor": true}, {"identifier": "postDeserialize", "parameters": "(final Element element, final JsonElement jsonElement, final Gson gson)", "modifiers": "@Override public", "return": "void", "signature": "void postDeserialize(final Element element, final JsonElement jsonElement, final Gson gson)", "full_signature": "@Override public void postDeserialize(final Element element, final JsonElement jsonElement, final Gson gson)", "class_method_signature": "ElementJsonPostProcessor.postDeserialize(final Element element, final JsonElement jsonElement, final Gson gson)", "testcase": false, "constructor": false}, {"identifier": "processAttachments", "parameters": "(final Element element)", "modifiers": "private", "return": "void", "signature": "void processAttachments(final Element element)", "full_signature": "private void processAttachments(final Element element)", "class_method_signature": "ElementJsonPostProcessor.processAttachments(final Element element)", "testcase": false, "constructor": false}, {"identifier": "processEmbedding", "parameters": "(final List<Embedding> embeddings)", "modifiers": "private", "return": "void", "signature": "void processEmbedding(final List<Embedding> embeddings)", "full_signature": "private void processEmbedding(final List<Embedding> embeddings)", "class_method_signature": "ElementJsonPostProcessor.processEmbedding(final List<Embedding> embeddings)", "testcase": false, "constructor": false}, {"identifier": "saveEmbeddingToFileAndGetFilename", "parameters": "(final Embedding embedding)", "modifiers": "private", "return": "String", "signature": "String saveEmbeddingToFileAndGetFilename(final Embedding embedding)", "full_signature": "private String saveEmbeddingToFileAndGetFilename(final Embedding embedding)", "class_method_signature": "ElementJsonPostProcessor.saveEmbeddingToFileAndGetFilename(final Embedding embedding)", "testcase": false, "constructor": false}, {"identifier": "postSerialize", "parameters": "(final JsonElement jsonElement, final Element element, final Gson gson)", "modifiers": "@Override public", "return": "void", "signature": "void postSerialize(final JsonElement jsonElement, final Element element, final Gson gson)", "full_signature": "@Override public void postSerialize(final JsonElement jsonElement, final Element element, final Gson gson)", "class_method_signature": "ElementJsonPostProcessor.postSerialize(final JsonElement jsonElement, final Element element, final Gson gson)", "testcase": false, "constructor": false}], "file": "plugin-code/src/main/java/com/trivago/cluecumber/json/processors/ElementJsonPostProcessor.java"}, "focal_method": {"identifier": "postDeserialize", "parameters": "(final Element element, final JsonElement jsonElement, final Gson gson)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void postDeserialize(final Element element, final JsonElement jsonElement, final Gson gson) {\n        element.setFailOnPendingOrUndefined(propertyManager.isFailScenariosOnPendingOrUndefinedSteps());\n        processAttachments(element);\n    }", "signature": "void postDeserialize(final Element element, final JsonElement jsonElement, final Gson gson)", "full_signature": "@Override public void postDeserialize(final Element element, final JsonElement jsonElement, final Gson gson)", "class_method_signature": "ElementJsonPostProcessor.postDeserialize(final Element element, final JsonElement jsonElement, final Gson gson)", "testcase": false, "constructor": false, "invocations": ["setFailOnPendingOrUndefined", "isFailScenariosOnPendingOrUndefinedSteps", "processAttachments"]}, "repository": {"repo_id": 109986674, "url": "https://github.com/trivago/cluecumber-report-plugin", "stars": 124, "created": "11/8/2017 2:30:19 PM +00:00", "updates": "2020-01-27T12:00:16+00:00", "fork": "False", "license": "licensed"}}