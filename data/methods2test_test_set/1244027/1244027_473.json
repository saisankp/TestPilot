{"test_class": {"identifier": "ModeShapeRestClientTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static ModeShapeRestClient REST_CLIENT;", "modifier": "private static", "type": "ModeShapeRestClient", "declarator": "REST_CLIENT", "var_name": "REST_CLIENT"}], "file": "modeshape-jdbc/src/test/java/org/modeshape/jdbc/rest/ModeShapeRestClientTest.java"}, "test_case": {"identifier": "shouldGetQueryPlan", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void shouldGetQueryPlan() throws Exception {\n        assertNotNull(REST_CLIENT.queryPlan(\"SELECT node.[jcr:path] FROM [mode:root] AS node\", Query.JCR_SQL2));\n    }", "signature": "void shouldGetQueryPlan()", "full_signature": "@Test public void shouldGetQueryPlan()", "class_method_signature": "ModeShapeRestClientTest.shouldGetQueryPlan()", "testcase": true, "constructor": false, "invocations": ["assertNotNull", "queryPlan"]}, "focal_class": {"identifier": "ModeShapeRestClient", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String NODE_TYPES_SEGMENT = \"jcr:system/jcr:nodeTypes?depth=-1\";", "modifier": "private static final", "type": "String", "declarator": "NODE_TYPES_SEGMENT = \"jcr:system/jcr:nodeTypes?depth=-1\"", "var_name": "NODE_TYPES_SEGMENT"}, {"original_string": "private static final String ITEMS_METHOD = \"items\";", "modifier": "private static final", "type": "String", "declarator": "ITEMS_METHOD = \"items\"", "var_name": "ITEMS_METHOD"}, {"original_string": "private static final String QUERY_METHOD = \"query\";", "modifier": "private static final", "type": "String", "declarator": "QUERY_METHOD = \"query\"", "var_name": "QUERY_METHOD"}, {"original_string": "private static final String QUERY_PLAN_METHOD = \"queryPlan\";", "modifier": "private static final", "type": "String", "declarator": "QUERY_PLAN_METHOD = \"queryPlan\"", "var_name": "QUERY_PLAN_METHOD"}, {"original_string": "private final JSONRestClient jsonRestClient;", "modifier": "private final", "type": "JSONRestClient", "declarator": "jsonRestClient", "var_name": "jsonRestClient"}], "methods": [{"identifier": "ModeShapeRestClient", "parameters": "( String repoUrl,\n                                String username,\n                                String password )", "modifiers": "public", "return": "", "signature": " ModeShapeRestClient( String repoUrl,\n                                String username,\n                                String password )", "full_signature": "public  ModeShapeRestClient( String repoUrl,\n                                String username,\n                                String password )", "class_method_signature": "ModeShapeRestClient.ModeShapeRestClient( String repoUrl,\n                                String username,\n                                String password )", "testcase": false, "constructor": true}, {"identifier": "serverUrl", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String serverUrl()", "full_signature": "public String serverUrl()", "class_method_signature": "ModeShapeRestClient.serverUrl()", "testcase": false, "constructor": false}, {"identifier": "getRepositories", "parameters": "()", "modifiers": "public", "return": "Repositories", "signature": "Repositories getRepositories()", "full_signature": "public Repositories getRepositories()", "class_method_signature": "ModeShapeRestClient.getRepositories()", "testcase": false, "constructor": false}, {"identifier": "getRepository", "parameters": "( String name )", "modifiers": "public", "return": "Repositories.Repository", "signature": "Repositories.Repository getRepository( String name )", "full_signature": "public Repositories.Repository getRepository( String name )", "class_method_signature": "ModeShapeRestClient.getRepository( String name )", "testcase": false, "constructor": false}, {"identifier": "getWorkspaces", "parameters": "( String repositoryName )", "modifiers": "public", "return": "Workspaces", "signature": "Workspaces getWorkspaces( String repositoryName )", "full_signature": "public Workspaces getWorkspaces( String repositoryName )", "class_method_signature": "ModeShapeRestClient.getWorkspaces( String repositoryName )", "testcase": false, "constructor": false}, {"identifier": "getNodeTypes", "parameters": "()", "modifiers": "public", "return": "NodeTypes", "signature": "NodeTypes getNodeTypes()", "full_signature": "public NodeTypes getNodeTypes()", "class_method_signature": "ModeShapeRestClient.getNodeTypes()", "testcase": false, "constructor": false}, {"identifier": "query", "parameters": "( String query,\n                              String queryLanguage )", "modifiers": "public", "return": "QueryResult", "signature": "QueryResult query( String query,\n                              String queryLanguage )", "full_signature": "public QueryResult query( String query,\n                              String queryLanguage )", "class_method_signature": "ModeShapeRestClient.query( String query,\n                              String queryLanguage )", "testcase": false, "constructor": false}, {"identifier": "queryPlan", "parameters": "( String query,\n                             String queryLanguage )", "modifiers": "public", "return": "String", "signature": "String queryPlan( String query,\n                             String queryLanguage )", "full_signature": "public String queryPlan( String query,\n                             String queryLanguage )", "class_method_signature": "ModeShapeRestClient.queryPlan( String query,\n                             String queryLanguage )", "testcase": false, "constructor": false}, {"identifier": "contentTypeForQueryLanguage", "parameters": "( String queryLanguage )", "modifiers": "@SuppressWarnings( \"deprecation\" ) private", "return": "String", "signature": "String contentTypeForQueryLanguage( String queryLanguage )", "full_signature": "@SuppressWarnings( \"deprecation\" ) private String contentTypeForQueryLanguage( String queryLanguage )", "class_method_signature": "ModeShapeRestClient.contentTypeForQueryLanguage( String queryLanguage )", "testcase": false, "constructor": false}], "file": "modeshape-jdbc/src/main/java/org/modeshape/jdbc/rest/ModeShapeRestClient.java"}, "focal_method": {"identifier": "queryPlan", "parameters": "( String query,\n                             String queryLanguage )", "modifiers": "public", "return": "String", "body": "public String queryPlan( String query,\n                             String queryLanguage ) {\n        String url = jsonRestClient.appendToURL(QUERY_PLAN_METHOD);\n        String contentType = contentTypeForQueryLanguage(queryLanguage);\n        JSONRestClient.Response response = jsonRestClient.postStreamTextPlain(new ByteArrayInputStream(query.getBytes()), url,\n                                                                              contentType);\n        if (!response.isOK()) {\n            throw new RuntimeException(JdbcI18n.invalidServerResponse.text(url, response.asString()));\n        }\n        return response.asString();\n    }", "signature": "String queryPlan( String query,\n                             String queryLanguage )", "full_signature": "public String queryPlan( String query,\n                             String queryLanguage )", "class_method_signature": "ModeShapeRestClient.queryPlan( String query,\n                             String queryLanguage )", "testcase": false, "constructor": false, "invocations": ["appendToURL", "contentTypeForQueryLanguage", "postStreamTextPlain", "getBytes", "isOK", "text", "asString", "asString"]}, "repository": {"repo_id": 1244027, "url": "https://github.com/ModeShape/modeshape", "language": "Java", "is_fork": false, "fork_count": 213, "stargazer_count": 208, "size": 134266, "license": "licensed"}}