{"test_class": {"identifier": "DefaultAttributeResolverTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private DefaultAttributeResolver resolver;", "modifier": "private", "type": "DefaultAttributeResolver", "declarator": "resolver", "var_name": "resolver"}], "file": "tiles-template/src/test/java/org/apache/tiles/template/DefaultAttributeResolverTest.java"}, "test_case": {"identifier": "testComputeAttributeInContext", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testComputeAttributeInContext() {\n        TilesContainer container = createMock(TilesContainer.class);\n        AttributeContext attributeContext = createMock(AttributeContext.class);\n        Request request = createMock(Request.class);\n        Attribute attribute = new Attribute(\"myValue\", Expression\n                .createExpression(\"myExpression\", null), \"myRole\", \"myRenderer\");\n\n        expect(container.getAttributeContext(request)).andReturn(attributeContext);\n        expect(attributeContext.getAttribute(\"myName\")).andReturn(attribute);\n\n        replay(container, attributeContext, request);\n        assertEquals(attribute, resolver.computeAttribute(container, null,\n                \"myName\", null, false, null, null, null, request));\n        verify(container, attributeContext, request);\n    }", "signature": "void testComputeAttributeInContext()", "full_signature": "@Test public void testComputeAttributeInContext()", "class_method_signature": "DefaultAttributeResolverTest.testComputeAttributeInContext()", "testcase": true, "constructor": false, "invocations": ["createMock", "createMock", "createMock", "createExpression", "andReturn", "expect", "getAttributeContext", "andReturn", "expect", "getAttribute", "replay", "assertEquals", "computeAttribute", "verify"]}, "focal_class": {"identifier": "DefaultAttributeResolver", "superclass": "", "interfaces": "implements AttributeResolver", "fields": [], "methods": [{"identifier": "computeAttribute", "parameters": "(TilesContainer container, Attribute attribute,\n            String name, String role, boolean ignore,\n            Object defaultValue, String defaultValueRole, String defaultValueType, Request request)", "modifiers": "public", "return": "Attribute", "signature": "Attribute computeAttribute(TilesContainer container, Attribute attribute,\n            String name, String role, boolean ignore,\n            Object defaultValue, String defaultValueRole, String defaultValueType, Request request)", "full_signature": "public Attribute computeAttribute(TilesContainer container, Attribute attribute,\n            String name, String role, boolean ignore,\n            Object defaultValue, String defaultValueRole, String defaultValueType, Request request)", "class_method_signature": "DefaultAttributeResolver.computeAttribute(TilesContainer container, Attribute attribute,\n            String name, String role, boolean ignore,\n            Object defaultValue, String defaultValueRole, String defaultValueType, Request request)", "testcase": false, "constructor": false}, {"identifier": "computeDefaultAttribute", "parameters": "(Object defaultValue,\n            String defaultValueRole, String defaultValueType)", "modifiers": "private", "return": "Attribute", "signature": "Attribute computeDefaultAttribute(Object defaultValue,\n            String defaultValueRole, String defaultValueType)", "full_signature": "private Attribute computeDefaultAttribute(Object defaultValue,\n            String defaultValueRole, String defaultValueType)", "class_method_signature": "DefaultAttributeResolver.computeDefaultAttribute(Object defaultValue,\n            String defaultValueRole, String defaultValueType)", "testcase": false, "constructor": false}], "file": "tiles-template/src/main/java/org/apache/tiles/template/DefaultAttributeResolver.java"}, "focal_method": {"identifier": "computeAttribute", "parameters": "(TilesContainer container, Attribute attribute,\n            String name, String role, boolean ignore,\n            Object defaultValue, String defaultValueRole, String defaultValueType, Request request)", "modifiers": "public", "return": "Attribute", "body": "public Attribute computeAttribute(TilesContainer container, Attribute attribute,\n            String name, String role, boolean ignore,\n            Object defaultValue, String defaultValueRole, String defaultValueType, Request request) {\n        if (attribute == null) {\n            AttributeContext evaluatingContext = container\n                    .getAttributeContext(request);\n            attribute = evaluatingContext.getAttribute(name);\n            if (attribute == null) {\n                attribute = computeDefaultAttribute(defaultValue,\n                        defaultValueRole, defaultValueType);\n                if (attribute == null && !ignore) {\n                    throw new NoSuchAttributeException(\"Attribute '\" + name\n                            + \"' not found.\");\n                }\n            }\n        }\n        if (attribute != null && role != null && !\"\".equals(role.trim())) {\n            attribute = new Attribute(attribute);\n            attribute.setRole(role);\n        }\n        return attribute;\n    }", "signature": "Attribute computeAttribute(TilesContainer container, Attribute attribute,\n            String name, String role, boolean ignore,\n            Object defaultValue, String defaultValueRole, String defaultValueType, Request request)", "full_signature": "public Attribute computeAttribute(TilesContainer container, Attribute attribute,\n            String name, String role, boolean ignore,\n            Object defaultValue, String defaultValueRole, String defaultValueType, Request request)", "class_method_signature": "DefaultAttributeResolver.computeAttribute(TilesContainer container, Attribute attribute,\n            String name, String role, boolean ignore,\n            Object defaultValue, String defaultValueRole, String defaultValueType, Request request)", "testcase": false, "constructor": false, "invocations": ["getAttributeContext", "getAttribute", "computeDefaultAttribute", "equals", "trim", "setRole"]}, "repository": {"repo_id": 2641714, "url": "https://github.com/apache/tiles", "language": "Java", "is_fork": false, "fork_count": 65, "stargazer_count": 99, "size": 12554, "license": "licensed"}}