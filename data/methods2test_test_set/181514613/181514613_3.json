{"test_class": {"identifier": "ServerWrapperTest", "superclass": "", "interfaces": "", "fields": [], "file": "frontend/app/src/test/java/com/eddex/jackle/jumpcutter/internet/ServerWrapperTest.java"}, "test_case": {"identifier": "uploadVideo_VideoUploaded_ReturnsVideoId", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void uploadVideo_VideoUploaded_ReturnsVideoId() {\n\n        final String ExpectedVideoId = \"video_id_1\";\n\n        MockInterceptor okHttpMockInterceptor = new MockInterceptor();\n        okHttpMockInterceptor.addRule()\n                .post()\n                .url(\"https://jumpcutter.letum.ch/upload\")\n                .respond(ExpectedVideoId);\n        OkHttpClient okHttpClient = new OkHttpClient.Builder()\n                .addInterceptor(okHttpMockInterceptor)\n                .build();\n\n        File videoFile = new File(\"./src/test/java/com/eddex/jackle/jumpcutter/internet/test.mp4\");\n        ServerWrapper server = new ServerWrapper(okHttpClient, null);\n        String videoId = server.uploadVideo(videoFile);\n\n        Assert.assertEquals(ExpectedVideoId, videoId);\n    }", "signature": "void uploadVideo_VideoUploaded_ReturnsVideoId()", "full_signature": "@Test public void uploadVideo_VideoUploaded_ReturnsVideoId()", "class_method_signature": "ServerWrapperTest.uploadVideo_VideoUploaded_ReturnsVideoId()", "testcase": true, "constructor": false, "invocations": ["respond", "url", "post", "addRule", "build", "addInterceptor", "uploadVideo", "assertEquals"]}, "focal_class": {"identifier": "ServerWrapper", "superclass": "", "interfaces": "", "fields": [{"original_string": "public boolean HasError = false;", "modifier": "public", "type": "boolean", "declarator": "HasError = false", "var_name": "HasError"}, {"original_string": "private final OkHttpClient okHttpClient;", "modifier": "private final", "type": "OkHttpClient", "declarator": "okHttpClient", "var_name": "okHttpClient"}, {"original_string": "private final FileSystemWrapper filesystemWrapper;", "modifier": "private final", "type": "FileSystemWrapper", "declarator": "filesystemWrapper", "var_name": "filesystemWrapper"}, {"original_string": "private final String Scheme = \"https\";", "modifier": "private final", "type": "String", "declarator": "Scheme = \"https\"", "var_name": "Scheme"}, {"original_string": "private final String Host = \"jumpcutter.letum.ch\";", "modifier": "private final", "type": "String", "declarator": "Host = \"jumpcutter.letum.ch\"", "var_name": "Host"}], "methods": [{"identifier": "ServerWrapper", "parameters": "(OkHttpClient okHttpClient, FileSystemWrapper filesystemWrapper)", "modifiers": "@Inject public", "return": "", "signature": " ServerWrapper(OkHttpClient okHttpClient, FileSystemWrapper filesystemWrapper)", "full_signature": "@Inject public  ServerWrapper(OkHttpClient okHttpClient, FileSystemWrapper filesystemWrapper)", "class_method_signature": "ServerWrapper.ServerWrapper(OkHttpClient okHttpClient, FileSystemWrapper filesystemWrapper)", "testcase": false, "constructor": true}, {"identifier": "ping", "parameters": "()", "modifiers": "public", "return": "Boolean", "signature": "Boolean ping()", "full_signature": "public Boolean ping()", "class_method_signature": "ServerWrapper.ping()", "testcase": false, "constructor": false}, {"identifier": "uploadVideo", "parameters": "(File video)", "modifiers": "public", "return": "String", "signature": "String uploadVideo(File video)", "full_signature": "public String uploadVideo(File video)", "class_method_signature": "ServerWrapper.uploadVideo(File video)", "testcase": false, "constructor": false}, {"identifier": "downloadYouTubeVideo", "parameters": "(String youtubeUrl)", "modifiers": "public", "return": "String", "signature": "String downloadYouTubeVideo(String youtubeUrl)", "full_signature": "public String downloadYouTubeVideo(String youtubeUrl)", "class_method_signature": "ServerWrapper.downloadYouTubeVideo(String youtubeUrl)", "testcase": false, "constructor": false}, {"identifier": "processVideo", "parameters": "(String videoId, SettingsProvider settingsProvider)", "modifiers": "public", "return": "String", "signature": "String processVideo(String videoId, SettingsProvider settingsProvider)", "full_signature": "public String processVideo(String videoId, SettingsProvider settingsProvider)", "class_method_signature": "ServerWrapper.processVideo(String videoId, SettingsProvider settingsProvider)", "testcase": false, "constructor": false}, {"identifier": "downloadVideo", "parameters": "(String downloadId)", "modifiers": "public", "return": "boolean", "signature": "boolean downloadVideo(String downloadId)", "full_signature": "public boolean downloadVideo(String downloadId)", "class_method_signature": "ServerWrapper.downloadVideo(String downloadId)", "testcase": false, "constructor": false}, {"identifier": "getStringResponseFromServer", "parameters": "(Request request)", "modifiers": "private", "return": "String", "signature": "String getStringResponseFromServer(Request request)", "full_signature": "private String getStringResponseFromServer(Request request)", "class_method_signature": "ServerWrapper.getStringResponseFromServer(Request request)", "testcase": false, "constructor": false}], "file": "frontend/app/src/main/java/com/eddex/jackle/jumpcutter/internet/ServerWrapper.java"}, "focal_method": {"identifier": "uploadVideo", "parameters": "(File video)", "modifiers": "public", "return": "String", "body": "public String uploadVideo(File video) {\n\n        HttpUrl url = new HttpUrl.Builder()\n                .scheme(this.Scheme)\n                .host(this.Host)\n                //.port(this.Port)\n                .addPathSegment(\"upload\")\n                .build();\n\n        Log.d(\"ServerWrapper\", \"uploadVideo(), file exists: \" + video.exists());\n        Log.d(\"ServerWrapper\", \"File: \" + video);\n\n        RequestBody requestBody = new MultipartBody.Builder()\n                .setType(MultipartBody.FORM)\n                .addFormDataPart(\n                        \"file\",\n                        video.getName(),\n                        RequestBody.create(MediaType.parse(\"video/\"), video))\n                .build();\n\n        Request request = new Request.Builder()\n                .url(url)\n                .post(requestBody)\n                .build();\n\n        return this.getStringResponseFromServer(request);\n    }", "signature": "String uploadVideo(File video)", "full_signature": "public String uploadVideo(File video)", "class_method_signature": "ServerWrapper.uploadVideo(File video)", "testcase": false, "constructor": false, "invocations": ["build", "addPathSegment", "host", "scheme", "d", "exists", "d", "build", "addFormDataPart", "setType", "getName", "create", "parse", "build", "post", "url", "getStringResponseFromServer"]}, "repository": {"repo_id": 181514613, "url": "https://github.com/eddex/jumpcutter-android", "language": "Java", "is_fork": false, "fork_count": 2, "stargazer_count": 5, "size": 994, "license": "licensed"}}