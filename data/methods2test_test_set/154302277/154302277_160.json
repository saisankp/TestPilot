{"test_class": {"identifier": "GetConfigurationObjectServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final GetConfigurationObjectService instance = new GetConfigurationObjectService() {\n        @Override\n        ConfigurationObjectDto getConfigurationObject(final GetResult result) {\n            return null;\n        }\n\n        @Override\n        Optional<ConfigurationFlagTypeDto> getFlagType(final int bitPosition) {\n            return Optional.empty();\n        }\n\n        @Override\n        public boolean handles(final Protocol protocol) {\n            return true;\n        }\n    };", "modifier": "private final", "type": "GetConfigurationObjectService", "declarator": "instance = new GetConfigurationObjectService() {\n        @Override\n        ConfigurationObjectDto getConfigurationObject(final GetResult result) {\n            return null;\n        }\n\n        @Override\n        Optional<ConfigurationFlagTypeDto> getFlagType(final int bitPosition) {\n            return Optional.empty();\n        }\n\n        @Override\n        public boolean handles(final Protocol protocol) {\n            return true;\n        }\n    }", "var_name": "instance"}, {"original_string": "@Mock\n    private DlmsConnectionManager conn;", "modifier": "@Mock\n    private", "type": "DlmsConnectionManager", "declarator": "conn", "var_name": "conn"}, {"original_string": "@Mock\n    private DlmsMessageListener dlmsMessageListener;", "modifier": "@Mock\n    private", "type": "DlmsMessageListener", "declarator": "dlmsMessageListener", "var_name": "dlmsMessageListener"}, {"original_string": "@Mock\n    private DlmsConnection dlmsConnection;", "modifier": "@Mock\n    private", "type": "DlmsConnection", "declarator": "dlmsConnection", "var_name": "dlmsConnection"}, {"original_string": "@Mock\n    private GetResult getResult;", "modifier": "@Mock\n    private", "type": "GetResult", "declarator": "getResult", "var_name": "getResult"}], "file": "osgp/protocol-adapter-dlms/osgp-protocol-adapter-dlms/src/test/java/org/opensmartgridplatform/adapter/protocol/dlms/domain/commands/configuration/service/GetConfigurationObjectServiceTest.java"}, "test_case": {"identifier": "getConfigurationObjectGetResultUnsuccessful", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getConfigurationObjectGetResultUnsuccessful() throws Exception {\n\n        // SETUP\n        when(this.getResult.getResultCode()).thenReturn(AccessResultCode.READ_WRITE_DENIED);\n        when(this.dlmsConnection.get(any(AttributeAddress.class))).thenReturn(this.getResult);\n\n        // CALL\n        assertThatExceptionOfType(ProtocolAdapterException.class).isThrownBy(() -> {\n            this.instance.getConfigurationObject(this.conn);\n        });\n    }", "signature": "void getConfigurationObjectGetResultUnsuccessful()", "full_signature": "@Test public void getConfigurationObjectGetResultUnsuccessful()", "class_method_signature": "GetConfigurationObjectServiceTest.getConfigurationObjectGetResultUnsuccessful()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "getResultCode", "thenReturn", "when", "get", "any", "isThrownBy", "assertThatExceptionOfType", "getConfigurationObject"]}, "focal_class": {"identifier": "GetConfigurationObjectService", "superclass": "", "interfaces": "implements ProtocolService", "fields": [{"original_string": "private static final Logger LOGGER = LoggerFactory.getLogger(GetConfigurationObjectService.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(GetConfigurationObjectService.class)", "var_name": "LOGGER"}], "methods": [{"identifier": "getConfigurationObject", "parameters": "(final DlmsConnectionManager conn)", "modifiers": "public", "return": "ConfigurationObjectDto", "signature": "ConfigurationObjectDto getConfigurationObject(final DlmsConnectionManager conn)", "full_signature": "public ConfigurationObjectDto getConfigurationObject(final DlmsConnectionManager conn)", "class_method_signature": "GetConfigurationObjectService.getConfigurationObject(final DlmsConnectionManager conn)", "testcase": false, "constructor": false}, {"identifier": "getGetResult", "parameters": "(final DlmsConnectionManager conn, final AttributeAddress attributeAddress)", "modifiers": "private", "return": "GetResult", "signature": "GetResult getGetResult(final DlmsConnectionManager conn, final AttributeAddress attributeAddress)", "full_signature": "private GetResult getGetResult(final DlmsConnectionManager conn, final AttributeAddress attributeAddress)", "class_method_signature": "GetConfigurationObjectService.getGetResult(final DlmsConnectionManager conn, final AttributeAddress attributeAddress)", "testcase": false, "constructor": false}, {"identifier": "handleBadResults", "parameters": "(final GetResult getResult)", "modifiers": "private", "return": "GetResult", "signature": "GetResult handleBadResults(final GetResult getResult)", "full_signature": "private GetResult handleBadResults(final GetResult getResult)", "class_method_signature": "GetConfigurationObjectService.handleBadResults(final GetResult getResult)", "testcase": false, "constructor": false}, {"identifier": "getConfigurationObject", "parameters": "(final GetResult result)", "modifiers": "abstract", "return": "ConfigurationObjectDto", "signature": "ConfigurationObjectDto getConfigurationObject(final GetResult result)", "full_signature": "abstract ConfigurationObjectDto getConfigurationObject(final GetResult result)", "class_method_signature": "GetConfigurationObjectService.getConfigurationObject(final GetResult result)", "testcase": false, "constructor": false}, {"identifier": "toConfigurationFlags", "parameters": "(final byte[] flagBytes)", "modifiers": "", "return": "List<ConfigurationFlagDto>", "signature": "List<ConfigurationFlagDto> toConfigurationFlags(final byte[] flagBytes)", "full_signature": " List<ConfigurationFlagDto> toConfigurationFlags(final byte[] flagBytes)", "class_method_signature": "GetConfigurationObjectService.toConfigurationFlags(final byte[] flagBytes)", "testcase": false, "constructor": false}, {"identifier": "toBinary", "parameters": "(final byte flagByte)", "modifiers": "private", "return": "String", "signature": "String toBinary(final byte flagByte)", "full_signature": "private String toBinary(final byte flagByte)", "class_method_signature": "GetConfigurationObjectService.toBinary(final byte flagByte)", "testcase": false, "constructor": false}, {"identifier": "getFlagType", "parameters": "(final int bitPosition)", "modifiers": "abstract", "return": "Optional<ConfigurationFlagTypeDto>", "signature": "Optional<ConfigurationFlagTypeDto> getFlagType(final int bitPosition)", "full_signature": "abstract Optional<ConfigurationFlagTypeDto> getFlagType(final int bitPosition)", "class_method_signature": "GetConfigurationObjectService.getFlagType(final int bitPosition)", "testcase": false, "constructor": false}], "file": "osgp/protocol-adapter-dlms/osgp-protocol-adapter-dlms/src/main/java/org/opensmartgridplatform/adapter/protocol/dlms/domain/commands/configuration/service/GetConfigurationObjectService.java"}, "focal_method": {"identifier": "getConfigurationObject", "parameters": "(final DlmsConnectionManager conn)", "modifiers": "public", "return": "ConfigurationObjectDto", "body": "public ConfigurationObjectDto getConfigurationObject(final DlmsConnectionManager conn)\n            throws ProtocolAdapterException {\n        final AttributeAddress attributeAddress = AttributeAddressFactory.getConfigurationObjectAddress();\n        conn.getDlmsMessageListener().setDescription(\n                String.format(\"Retrieve current ConfigurationObject, attribute: %s\",\n                        JdlmsObjectToStringUtil.describeAttributes(attributeAddress)));\n        return this.getConfigurationObject(this.getGetResult(conn, attributeAddress));\n    }", "signature": "ConfigurationObjectDto getConfigurationObject(final DlmsConnectionManager conn)", "full_signature": "public ConfigurationObjectDto getConfigurationObject(final DlmsConnectionManager conn)", "class_method_signature": "GetConfigurationObjectService.getConfigurationObject(final DlmsConnectionManager conn)", "testcase": false, "constructor": false, "invocations": ["getConfigurationObjectAddress", "setDescription", "getDlmsMessageListener", "format", "describeAttributes", "getConfigurationObject", "getGetResult"]}, "repository": {"repo_id": 154302277, "url": "https://github.com/OSGP/open-smart-grid-platform", "stars": 30, "created": "10/23/2018 9:41:12 AM +00:00", "updates": "2020-01-26T20:15:09+00:00", "fork": "False", "license": "licensed"}}