{"test_class": {"identifier": "SW360ReleaseClientAdapterAsyncImplTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String RELEASE_DOWNLOAD_URL = \"https://organisation-test.org/\";", "modifier": "private static final", "type": "String", "declarator": "RELEASE_DOWNLOAD_URL = \"https://organisation-test.org/\"", "var_name": "RELEASE_DOWNLOAD_URL"}, {"original_string": "private static final String RELEASE_CLEARING_STATE = \"PROJECT_APPROVED\";", "modifier": "private static final", "type": "String", "declarator": "RELEASE_CLEARING_STATE = \"PROJECT_APPROVED\"", "var_name": "RELEASE_CLEARING_STATE"}, {"original_string": "private static final String RELEASE_DECLEARED_LICENSE = \"The-Test-License\";", "modifier": "private static final", "type": "String", "declarator": "RELEASE_DECLEARED_LICENSE = \"The-Test-License\"", "var_name": "RELEASE_DECLEARED_LICENSE"}, {"original_string": "private static final String RELEASE_OBSERVED_LICENSE = \"A-Test-License\";", "modifier": "private static final", "type": "String", "declarator": "RELEASE_OBSERVED_LICENSE = \"A-Test-License\"", "var_name": "RELEASE_OBSERVED_LICENSE"}, {"original_string": "private static final String RELEASE_RELEASE_TAG_URL = \"https://gitTool.com/project/repository\";", "modifier": "private static final", "type": "String", "declarator": "RELEASE_RELEASE_TAG_URL = \"https://gitTool.com/project/repository\"", "var_name": "RELEASE_RELEASE_TAG_URL"}, {"original_string": "private static final String RELEASE_SOFTWAREHERITGAE_ID = \"swh:1:rel:1234512345123451234512345123451234512345\";", "modifier": "private static final", "type": "String", "declarator": "RELEASE_SOFTWAREHERITGAE_ID = \"swh:1:rel:1234512345123451234512345123451234512345\"", "var_name": "RELEASE_SOFTWAREHERITGAE_ID"}, {"original_string": "private static final String RELEASE_HASH1 = \"b2a4d4ae21c789b689dd162deb819665567f481c\";", "modifier": "private static final", "type": "String", "declarator": "RELEASE_HASH1 = \"b2a4d4ae21c789b689dd162deb819665567f481c\"", "var_name": "RELEASE_HASH1"}, {"original_string": "private static final String RELEASE_CHANGESTATUS = \"AS_IS\";", "modifier": "private static final", "type": "String", "declarator": "RELEASE_CHANGESTATUS = \"AS_IS\"", "var_name": "RELEASE_CHANGESTATUS"}, {"original_string": "private static final String RELEASE_COPYRIGHT = \"Copyright xxxx Some Copyright Enterprise\";", "modifier": "private static final", "type": "String", "declarator": "RELEASE_COPYRIGHT = \"Copyright xxxx Some Copyright Enterprise\"", "var_name": "RELEASE_COPYRIGHT"}, {"original_string": "private static final String ID = \"12345\";", "modifier": "private static final", "type": "String", "declarator": "ID = \"12345\"", "var_name": "ID"}, {"original_string": "private static final String RELEASE_VERSION1 = \"1.0.0\";", "modifier": "private static final", "type": "String", "declarator": "RELEASE_VERSION1 = \"1.0.0\"", "var_name": "RELEASE_VERSION1"}, {"original_string": "private static final String RELEASE_HREF = \"https://sw360.eclipse.org/api/releases/\" + ID;", "modifier": "private static final", "type": "String", "declarator": "RELEASE_HREF = \"https://sw360.eclipse.org/api/releases/\" + ID", "var_name": "RELEASE_HREF"}, {"original_string": "private SW360ReleaseClientAdapterAsync releaseClientAdapter;", "modifier": "private", "type": "SW360ReleaseClientAdapterAsync", "declarator": "releaseClientAdapter", "var_name": "releaseClientAdapter"}, {"original_string": "private SW360ReleaseClient releaseClient;", "modifier": "private", "type": "SW360ReleaseClient", "declarator": "releaseClient", "var_name": "releaseClient"}, {"original_string": "private SW360ComponentClientAdapterAsync componentClientAdapter;", "modifier": "private", "type": "SW360ComponentClientAdapterAsync", "declarator": "componentClientAdapter", "var_name": "componentClientAdapter"}, {"original_string": "private SW360Release release;", "modifier": "private", "type": "SW360Release", "declarator": "release", "var_name": "release"}], "file": "modules/sw360/sw360-client/src/test/java/org/eclipse/sw360/antenna/sw360/client/adapter/SW360ReleaseClientAdapterAsyncImplTest.java"}, "test_case": {"identifier": "testGetReleaseByExternalIdsNotFound", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetReleaseByExternalIdsNotFound() {\n        Map<String, String> externalIds = new HashMap<>();\n        when(releaseClient.getReleasesByExternalIds(externalIds))\n                .thenReturn(CompletableFuture.completedFuture(Collections.emptyList()));\n\n        Optional<SW360SparseRelease> releaseByExternalIds =\n                block(releaseClientAdapter.getSparseReleaseByExternalIds(externalIds));\n        assertThat(releaseByExternalIds).isEmpty();\n    }", "signature": "void testGetReleaseByExternalIdsNotFound()", "full_signature": "@Test public void testGetReleaseByExternalIdsNotFound()", "class_method_signature": "SW360ReleaseClientAdapterAsyncImplTest.testGetReleaseByExternalIdsNotFound()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "getReleasesByExternalIds", "completedFuture", "emptyList", "block", "getSparseReleaseByExternalIds", "isEmpty", "assertThat"]}, "focal_class": {"identifier": "SW360ReleaseClientAdapterAsyncImpl", "superclass": "", "interfaces": "implements SW360ReleaseClientAdapterAsync", "fields": [{"original_string": "private final SW360ReleaseClient releaseClient;", "modifier": "private final", "type": "SW360ReleaseClient", "declarator": "releaseClient", "var_name": "releaseClient"}, {"original_string": "private final SW360ComponentClientAdapterAsync sw360ComponentClientAdapter;", "modifier": "private final", "type": "SW360ComponentClientAdapterAsync", "declarator": "sw360ComponentClientAdapter", "var_name": "sw360ComponentClientAdapter"}], "methods": [{"identifier": "SW360ReleaseClientAdapterAsyncImpl", "parameters": "(SW360ReleaseClient client,\n                                              SW360ComponentClientAdapterAsync componentClientAdapter)", "modifiers": "public", "return": "", "signature": " SW360ReleaseClientAdapterAsyncImpl(SW360ReleaseClient client,\n                                              SW360ComponentClientAdapterAsync componentClientAdapter)", "full_signature": "public  SW360ReleaseClientAdapterAsyncImpl(SW360ReleaseClient client,\n                                              SW360ComponentClientAdapterAsync componentClientAdapter)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.SW360ReleaseClientAdapterAsyncImpl(SW360ReleaseClient client,\n                                              SW360ComponentClientAdapterAsync componentClientAdapter)", "testcase": false, "constructor": true}, {"identifier": "getReleaseClient", "parameters": "()", "modifiers": "@Override public", "return": "SW360ReleaseClient", "signature": "SW360ReleaseClient getReleaseClient()", "full_signature": "@Override public SW360ReleaseClient getReleaseClient()", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.getReleaseClient()", "testcase": false, "constructor": false}, {"identifier": "getComponentAdapter", "parameters": "()", "modifiers": "public", "return": "SW360ComponentClientAdapterAsync", "signature": "SW360ComponentClientAdapterAsync getComponentAdapter()", "full_signature": "public SW360ComponentClientAdapterAsync getComponentAdapter()", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.getComponentAdapter()", "testcase": false, "constructor": false}, {"identifier": "createRelease", "parameters": "(SW360Release release)", "modifiers": "@Override public", "return": "CompletableFuture<SW360Release>", "signature": "CompletableFuture<SW360Release> createRelease(SW360Release release)", "full_signature": "@Override public CompletableFuture<SW360Release> createRelease(SW360Release release)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.createRelease(SW360Release release)", "testcase": false, "constructor": false}, {"identifier": "assignReleaseToComponent", "parameters": "(SW360Release release)", "modifiers": "private", "return": "CompletableFuture<SW360Release>", "signature": "CompletableFuture<SW360Release> assignReleaseToComponent(SW360Release release)", "full_signature": "private CompletableFuture<SW360Release> assignReleaseToComponent(SW360Release release)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.assignReleaseToComponent(SW360Release release)", "testcase": false, "constructor": false}, {"identifier": "fetchComponentToAssign", "parameters": "(SW360Component component)", "modifiers": "private", "return": "CompletableFuture<SW360Component>", "signature": "CompletableFuture<SW360Component> fetchComponentToAssign(SW360Component component)", "full_signature": "private CompletableFuture<SW360Component> fetchComponentToAssign(SW360Component component)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.fetchComponentToAssign(SW360Component component)", "testcase": false, "constructor": false}, {"identifier": "containsRelease", "parameters": "(SW360Component component, SW360Release release)", "modifiers": "private static", "return": "boolean", "signature": "boolean containsRelease(SW360Component component, SW360Release release)", "full_signature": "private static boolean containsRelease(SW360Component component, SW360Release release)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.containsRelease(SW360Component component, SW360Release release)", "testcase": false, "constructor": false}, {"identifier": "uploadAttachments", "parameters": "(AttachmentUploadRequest<SW360Release> uploadRequest)", "modifiers": "@Override public", "return": "CompletableFuture<AttachmentUploadResult<SW360Release>>", "signature": "CompletableFuture<AttachmentUploadResult<SW360Release>> uploadAttachments(AttachmentUploadRequest<SW360Release> uploadRequest)", "full_signature": "@Override public CompletableFuture<AttachmentUploadResult<SW360Release>> uploadAttachments(AttachmentUploadRequest<SW360Release> uploadRequest)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.uploadAttachments(AttachmentUploadRequest<SW360Release> uploadRequest)", "testcase": false, "constructor": false}, {"identifier": "getReleaseById", "parameters": "(String releaseId)", "modifiers": "@Override public", "return": "CompletableFuture<Optional<SW360Release>>", "signature": "CompletableFuture<Optional<SW360Release>> getReleaseById(String releaseId)", "full_signature": "@Override public CompletableFuture<Optional<SW360Release>> getReleaseById(String releaseId)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.getReleaseById(String releaseId)", "testcase": false, "constructor": false}, {"identifier": "enrichSparseRelease", "parameters": "(SW360SparseRelease sparseRelease)", "modifiers": "@Override public", "return": "CompletableFuture<Optional<SW360Release>>", "signature": "CompletableFuture<Optional<SW360Release>> enrichSparseRelease(SW360SparseRelease sparseRelease)", "full_signature": "@Override public CompletableFuture<Optional<SW360Release>> enrichSparseRelease(SW360SparseRelease sparseRelease)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.enrichSparseRelease(SW360SparseRelease sparseRelease)", "testcase": false, "constructor": false}, {"identifier": "getSparseReleaseByExternalIds", "parameters": "(Map<String, ?> externalIds)", "modifiers": "@Override public", "return": "CompletableFuture<Optional<SW360SparseRelease>>", "signature": "CompletableFuture<Optional<SW360SparseRelease>> getSparseReleaseByExternalIds(Map<String, ?> externalIds)", "full_signature": "@Override public CompletableFuture<Optional<SW360SparseRelease>> getSparseReleaseByExternalIds(Map<String, ?> externalIds)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.getSparseReleaseByExternalIds(Map<String, ?> externalIds)", "testcase": false, "constructor": false}, {"identifier": "getSparseReleaseByNameAndVersion", "parameters": "(String componentName,\n                                                                                            String version)", "modifiers": "@Override public", "return": "CompletableFuture<Optional<SW360SparseRelease>>", "signature": "CompletableFuture<Optional<SW360SparseRelease>> getSparseReleaseByNameAndVersion(String componentName,\n                                                                                            String version)", "full_signature": "@Override public CompletableFuture<Optional<SW360SparseRelease>> getSparseReleaseByNameAndVersion(String componentName,\n                                                                                            String version)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.getSparseReleaseByNameAndVersion(String componentName,\n                                                                                            String version)", "testcase": false, "constructor": false}, {"identifier": "getReleaseByVersion", "parameters": "(SW360Component component, String releaseVersion)", "modifiers": "@Override public", "return": "CompletableFuture<Optional<SW360Release>>", "signature": "CompletableFuture<Optional<SW360Release>> getReleaseByVersion(SW360Component component, String releaseVersion)", "full_signature": "@Override public CompletableFuture<Optional<SW360Release>> getReleaseByVersion(SW360Component component, String releaseVersion)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.getReleaseByVersion(SW360Component component, String releaseVersion)", "testcase": false, "constructor": false}, {"identifier": "downloadAttachment", "parameters": "(SW360Release release, SW360SparseAttachment attachment,\n                                                                Path downloadPath)", "modifiers": "@Override public", "return": "CompletableFuture<Optional<Path>>", "signature": "CompletableFuture<Optional<Path>> downloadAttachment(SW360Release release, SW360SparseAttachment attachment,\n                                                                Path downloadPath)", "full_signature": "@Override public CompletableFuture<Optional<Path>> downloadAttachment(SW360Release release, SW360SparseAttachment attachment,\n                                                                Path downloadPath)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.downloadAttachment(SW360Release release, SW360SparseAttachment attachment,\n                                                                Path downloadPath)", "testcase": false, "constructor": false}, {"identifier": "processAttachment", "parameters": "(SW360Release release, String attachmentId, SW360AttachmentAwareClient.AttachmentProcessor<? extends T> processor)", "modifiers": "@Override public", "return": "CompletableFuture<T>", "signature": "CompletableFuture<T> processAttachment(SW360Release release, String attachmentId, SW360AttachmentAwareClient.AttachmentProcessor<? extends T> processor)", "full_signature": "@Override public CompletableFuture<T> processAttachment(SW360Release release, String attachmentId, SW360AttachmentAwareClient.AttachmentProcessor<? extends T> processor)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.processAttachment(SW360Release release, String attachmentId, SW360AttachmentAwareClient.AttachmentProcessor<? extends T> processor)", "testcase": false, "constructor": false}, {"identifier": "deleteAttachments", "parameters": "(SW360Release release, Collection<String> attachmentIds)", "modifiers": "@Override public", "return": "CompletableFuture<SW360Release>", "signature": "CompletableFuture<SW360Release> deleteAttachments(SW360Release release, Collection<String> attachmentIds)", "full_signature": "@Override public CompletableFuture<SW360Release> deleteAttachments(SW360Release release, Collection<String> attachmentIds)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.deleteAttachments(SW360Release release, Collection<String> attachmentIds)", "testcase": false, "constructor": false}, {"identifier": "updateRelease", "parameters": "(SW360Release release)", "modifiers": "@Override public", "return": "CompletableFuture<SW360Release>", "signature": "CompletableFuture<SW360Release> updateRelease(SW360Release release)", "full_signature": "@Override public CompletableFuture<SW360Release> updateRelease(SW360Release release)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.updateRelease(SW360Release release)", "testcase": false, "constructor": false}, {"identifier": "deleteReleases", "parameters": "(Collection<String> idsToDelete)", "modifiers": "@Override public", "return": "CompletableFuture<MultiStatusResponse>", "signature": "CompletableFuture<MultiStatusResponse> deleteReleases(Collection<String> idsToDelete)", "full_signature": "@Override public CompletableFuture<MultiStatusResponse> deleteReleases(Collection<String> idsToDelete)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.deleteReleases(Collection<String> idsToDelete)", "testcase": false, "constructor": false}, {"identifier": "deleteRelease", "parameters": "(String releaseId)", "modifiers": "@Override public", "return": "CompletableFuture<Void>", "signature": "CompletableFuture<Void> deleteRelease(String releaseId)", "full_signature": "@Override public CompletableFuture<Void> deleteRelease(String releaseId)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.deleteRelease(String releaseId)", "testcase": false, "constructor": false}], "file": "modules/sw360/sw360-client/src/main/java/org/eclipse/sw360/antenna/sw360/client/adapter/SW360ReleaseClientAdapterAsyncImpl.java"}, "focal_method": {"identifier": "getSparseReleaseByExternalIds", "parameters": "(Map<String, ?> externalIds)", "modifiers": "@Override public", "return": "CompletableFuture<Optional<SW360SparseRelease>>", "body": "@Override\n    public CompletableFuture<Optional<SW360SparseRelease>> getSparseReleaseByExternalIds(Map<String, ?> externalIds) {\n        return getReleaseClient().getReleasesByExternalIds(externalIds)\n                .thenApply(releases -> {\n                    if (releases.isEmpty()) {\n                        return Optional.empty();\n                    } else if (releases.size() == 1) {\n                        return Optional.of(releases.get(0));\n                    } else {\n                        throw new SW360ClientException(\"Multiple releases in SW360 matched by externalIDs: \" +\n                                externalIds);\n                    }\n                });\n    }", "signature": "CompletableFuture<Optional<SW360SparseRelease>> getSparseReleaseByExternalIds(Map<String, ?> externalIds)", "full_signature": "@Override public CompletableFuture<Optional<SW360SparseRelease>> getSparseReleaseByExternalIds(Map<String, ?> externalIds)", "class_method_signature": "SW360ReleaseClientAdapterAsyncImpl.getSparseReleaseByExternalIds(Map<String, ?> externalIds)", "testcase": false, "constructor": false, "invocations": ["thenApply", "getReleasesByExternalIds", "getReleaseClient", "isEmpty", "empty", "size", "of", "get"]}, "repository": {"repo_id": 140017338, "url": "https://github.com/eclipse/antenna", "stars": 14, "created": "7/6/2018 6:17:28 PM +00:00", "updates": "2020-01-21T13:15:34+00:00", "fork": "False", "license": "licensed"}}