{"test_class": {"identifier": "UserSessionAssistTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String SESSIONS_CACHE_NAME = UserSessionAssist.SESSIONS_CACHE;", "modifier": "private static final", "type": "String", "declarator": "SESSIONS_CACHE_NAME = UserSessionAssist.SESSIONS_CACHE", "var_name": "SESSIONS_CACHE_NAME"}, {"original_string": "private static final String NON_EXISTENT = \"usertest\";", "modifier": "private static final", "type": "String", "declarator": "NON_EXISTENT = \"usertest\"", "var_name": "NON_EXISTENT"}, {"original_string": "private static final String USER_NAME = \"testuser\";", "modifier": "private static final", "type": "String", "declarator": "USER_NAME = \"testuser\"", "var_name": "USER_NAME"}, {"original_string": "@Autowired\n  private UserSessionAssist assist;", "modifier": "@Autowired\n  private", "type": "UserSessionAssist", "declarator": "assist", "var_name": "assist"}, {"original_string": "@Autowired\n  private UserRepository userRepo;", "modifier": "@Autowired\n  private", "type": "UserRepository", "declarator": "userRepo", "var_name": "userRepo"}, {"original_string": "@Autowired\n  private UserSessionRepository userSessionRepo;", "modifier": "@Autowired\n  private", "type": "UserSessionRepository", "declarator": "userSessionRepo", "var_name": "userSessionRepo"}, {"original_string": "@Autowired\n  private CacheManager cacheManager;", "modifier": "@Autowired\n  private", "type": "CacheManager", "declarator": "cacheManager", "var_name": "cacheManager"}, {"original_string": "private Long userId;", "modifier": "private", "type": "Long", "declarator": "userId", "var_name": "userId"}, {"original_string": "private Long sessionId;", "modifier": "private", "type": "Long", "declarator": "sessionId", "var_name": "sessionId"}, {"original_string": "private Cache cache;", "modifier": "private", "type": "Cache", "declarator": "cache", "var_name": "cache"}], "file": "GameBoot/src/test/java/com/github/mrstampy/gameboot/usersession/UserSessionAssistTest.java"}, "test_case": {"identifier": "testLogoutId", "parameters": "()", "modifiers": "@Test @Transactional public", "return": "void", "body": "@Test\n  @Transactional\n  public void testLogoutId() throws Exception {\n    testLogout(() -> assist.logout(sessionId));\n  }", "signature": "void testLogoutId()", "full_signature": "@Test @Transactional public void testLogoutId()", "class_method_signature": "UserSessionAssistTest.testLogoutId()", "testcase": true, "constructor": false, "invocations": ["testLogout", "logout"]}, "focal_class": {"identifier": "UserSessionAssist", "superclass": "", "interfaces": "implements ResponseContextCodes", "fields": [{"original_string": "private static final Logger log = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());", "modifier": "private static final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass())", "var_name": "log"}, {"original_string": "public static final String SESSIONS_CACHE = \"sessions\";", "modifier": "public static final", "type": "String", "declarator": "SESSIONS_CACHE = \"sessions\"", "var_name": "SESSIONS_CACHE"}, {"original_string": "public static final String SESSIONS_KEY = \"ActiveSessions\";", "modifier": "public static final", "type": "String", "declarator": "SESSIONS_KEY = \"ActiveSessions\"", "var_name": "SESSIONS_KEY"}, {"original_string": "private static final String UNCACHED_SESSION_TIMER = \"UncachedSessionTimer\";", "modifier": "private static final", "type": "String", "declarator": "UNCACHED_SESSION_TIMER = \"UncachedSessionTimer\"", "var_name": "UNCACHED_SESSION_TIMER"}, {"original_string": "@Autowired\n  private UserSessionRepository userSessionRepo;", "modifier": "@Autowired\n  private", "type": "UserSessionRepository", "declarator": "userSessionRepo", "var_name": "userSessionRepo"}, {"original_string": "@Autowired\n  private UserRepository userRepo;", "modifier": "@Autowired\n  private", "type": "UserRepository", "declarator": "userRepo", "var_name": "userRepo"}, {"original_string": "@Autowired\n  private ActiveSessions activeSessions;", "modifier": "@Autowired\n  private", "type": "ActiveSessions", "declarator": "activeSessions", "var_name": "activeSessions"}, {"original_string": "@Autowired\n  private MetricsHelper helper;", "modifier": "@Autowired\n  private", "type": "MetricsHelper", "declarator": "helper", "var_name": "helper"}, {"original_string": "@Autowired\n  private ResponseContextLookup lookup;", "modifier": "@Autowired\n  private", "type": "ResponseContextLookup", "declarator": "lookup", "var_name": "lookup"}, {"original_string": "@Autowired\n  private RegistryCleaner cleaner;", "modifier": "@Autowired\n  private", "type": "RegistryCleaner", "declarator": "cleaner", "var_name": "cleaner"}, {"original_string": "private String sessionsKey = SESSIONS_KEY;", "modifier": "private", "type": "String", "declarator": "sessionsKey = SESSIONS_KEY", "var_name": "sessionsKey"}], "methods": [{"identifier": "postConstruct", "parameters": "()", "modifiers": "@PostConstruct public", "return": "void", "signature": "void postConstruct()", "full_signature": "@PostConstruct public void postConstruct()", "class_method_signature": "UserSessionAssist.postConstruct()", "testcase": false, "constructor": false}, {"identifier": "create", "parameters": "(User user)", "modifiers": "public", "return": "UserSession", "signature": "UserSession create(User user)", "full_signature": "public UserSession create(User user)", "class_method_signature": "UserSessionAssist.create(User user)", "testcase": false, "constructor": false}, {"identifier": "expectedUser", "parameters": "(String userName)", "modifiers": "public", "return": "User", "signature": "User expectedUser(String userName)", "full_signature": "public User expectedUser(String userName)", "class_method_signature": "UserSessionAssist.expectedUser(String userName)", "testcase": false, "constructor": false}, {"identifier": "expected", "parameters": "(String userName)", "modifiers": "public", "return": "UserSession", "signature": "UserSession expected(String userName)", "full_signature": "public UserSession expected(String userName)", "class_method_signature": "UserSessionAssist.expected(String userName)", "testcase": false, "constructor": false}, {"identifier": "expected", "parameters": "(User user)", "modifiers": "public", "return": "UserSession", "signature": "UserSession expected(User user)", "full_signature": "public UserSession expected(User user)", "class_method_signature": "UserSessionAssist.expected(User user)", "testcase": false, "constructor": false}, {"identifier": "expected", "parameters": "(Long id)", "modifiers": "public", "return": "UserSession", "signature": "UserSession expected(Long id)", "full_signature": "public UserSession expected(Long id)", "class_method_signature": "UserSessionAssist.expected(Long id)", "testcase": false, "constructor": false}, {"identifier": "hasSession", "parameters": "(String userName)", "modifiers": "public", "return": "boolean", "signature": "boolean hasSession(String userName)", "full_signature": "public boolean hasSession(String userName)", "class_method_signature": "UserSessionAssist.hasSession(String userName)", "testcase": false, "constructor": false}, {"identifier": "hasSession", "parameters": "(Long id)", "modifiers": "public", "return": "boolean", "signature": "boolean hasSession(Long id)", "full_signature": "public boolean hasSession(Long id)", "class_method_signature": "UserSessionAssist.hasSession(Long id)", "testcase": false, "constructor": false}, {"identifier": "logout", "parameters": "(String userName)", "modifiers": "public", "return": "User", "signature": "User logout(String userName)", "full_signature": "public User logout(String userName)", "class_method_signature": "UserSessionAssist.logout(String userName)", "testcase": false, "constructor": false}, {"identifier": "logout", "parameters": "(Long id)", "modifiers": "public", "return": "User", "signature": "User logout(Long id)", "full_signature": "public User logout(Long id)", "class_method_signature": "UserSessionAssist.logout(Long id)", "testcase": false, "constructor": false}, {"identifier": "activeSessions", "parameters": "()", "modifiers": "@Cacheable(cacheNames = SESSIONS_CACHE, key = \"target.sessionsKey\") public", "return": "List<UserSession>", "signature": "List<UserSession> activeSessions()", "full_signature": "@Cacheable(cacheNames = SESSIONS_CACHE, key = \"target.sessionsKey\") public List<UserSession> activeSessions()", "class_method_signature": "UserSessionAssist.activeSessions()", "testcase": false, "constructor": false}, {"identifier": "getSessionsKey", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getSessionsKey()", "full_signature": "public String getSessionsKey()", "class_method_signature": "UserSessionAssist.getSessionsKey()", "testcase": false, "constructor": false}, {"identifier": "closeSession", "parameters": "(UserSession session)", "modifiers": "private", "return": "void", "signature": "void closeSession(UserSession session)", "full_signature": "private void closeSession(UserSession session)", "class_method_signature": "UserSessionAssist.closeSession(UserSession session)", "testcase": false, "constructor": false}, {"identifier": "userCheck", "parameters": "(User user)", "modifiers": "private", "return": "void", "signature": "void userCheck(User user)", "full_signature": "private void userCheck(User user)", "class_method_signature": "UserSessionAssist.userCheck(User user)", "testcase": false, "constructor": false}, {"identifier": "userNameCheck", "parameters": "(String userName)", "modifiers": "private", "return": "void", "signature": "void userNameCheck(String userName)", "full_signature": "private void userNameCheck(String userName)", "class_method_signature": "UserSessionAssist.userNameCheck(String userName)", "testcase": false, "constructor": false}, {"identifier": "check", "parameters": "(int code, boolean condition, String msg)", "modifiers": "private", "return": "void", "signature": "void check(int code, boolean condition, String msg)", "full_signature": "private void check(int code, boolean condition, String msg)", "class_method_signature": "UserSessionAssist.check(int code, boolean condition, String msg)", "testcase": false, "constructor": false}, {"identifier": "fail", "parameters": "(int code, String msg)", "modifiers": "private", "return": "void", "signature": "void fail(int code, String msg)", "full_signature": "private void fail(int code, String msg)", "class_method_signature": "UserSessionAssist.fail(int code, String msg)", "testcase": false, "constructor": false}], "file": "GameBoot/src/main/java/com/github/mrstampy/gameboot/usersession/UserSessionAssist.java"}, "focal_method": {"identifier": "logout", "parameters": "(String userName)", "modifiers": "public", "return": "User", "body": "public User logout(String userName) throws GameBootRuntimeException {\n    UserSession session = expected(userName);\n\n    closeSession(session);\n\n    return session.getUser();\n  }", "signature": "User logout(String userName)", "full_signature": "public User logout(String userName)", "class_method_signature": "UserSessionAssist.logout(String userName)", "testcase": false, "constructor": false, "invocations": ["expected", "closeSession", "getUser"]}, "repository": {"repo_id": 47529369, "url": "https://github.com/mrstampy/gameboot", "language": "Java", "is_fork": false, "fork_count": 5, "stargazer_count": 15, "size": 1118, "license": "licensed"}}