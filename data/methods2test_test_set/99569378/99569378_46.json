{"test_class": {"identifier": "ActorHandlerBaseTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n    private FailureHandler mFailureHandler;", "modifier": "@Mock\n    private", "type": "FailureHandler", "declarator": "mFailureHandler", "var_name": "mFailureHandler"}, {"original_string": "@Mock\n    private Message mMessage;", "modifier": "@Mock\n    private", "type": "Message", "declarator": "mMessage", "var_name": "mMessage"}, {"original_string": "@Mock\n    private ActorInvokeException mException;", "modifier": "@Mock\n    private", "type": "ActorInvokeException", "declarator": "mException", "var_name": "mException"}, {"original_string": "@Captor\n    private ArgumentCaptor<android.os.Message> mMessageCaptor;", "modifier": "@Captor\n    private", "type": "ArgumentCaptor<android.os.Message>", "declarator": "mMessageCaptor", "var_name": "mMessageCaptor"}, {"original_string": "@Captor\n    private ArgumentCaptor<Long> mTimeoutCaptor;", "modifier": "@Captor\n    private", "type": "ArgumentCaptor<Long>", "declarator": "mTimeoutCaptor", "var_name": "mTimeoutCaptor"}, {"original_string": "private final Object mImpl = new Object();", "modifier": "private final", "type": "Object", "declarator": "mImpl = new Object()", "var_name": "mImpl"}], "file": "actors-library/src/test/java/com/truecaller/androidactors/ActorHandlerBaseTest.java"}, "test_case": {"identifier": "sendTransaction_sendMessage_validHandler", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void sendTransaction_sendMessage_validHandler() {\n        ActorHandlerBase handler = createHandler(ActorHandlerBase.NO_DELAY);\n        Transaction transaction = Transaction.<Object>obtain(mImpl, mMessage, mFailureHandler);\n\n        boolean result = handler.sendTransaction(transaction);\n        Assert.assertTrue(result);\n\n        Mockito.verify(handler).sendMessage(mMessageCaptor.capture());\n\n        android.os.Message message = mMessageCaptor.getValue();\n        Assert.assertNotNull(message);\n\n        Assert.assertEquals(ActorHandlerBase.MSG_TRANSACTION, message.what);\n        Assert.assertSame(transaction, message.obj);\n    }", "signature": "void sendTransaction_sendMessage_validHandler()", "full_signature": "@Test public void sendTransaction_sendMessage_validHandler()", "class_method_signature": "ActorHandlerBaseTest.sendTransaction_sendMessage_validHandler()", "testcase": true, "constructor": false, "invocations": ["createHandler", "obtain", "sendTransaction", "assertTrue", "sendMessage", "verify", "capture", "getValue", "assertNotNull", "assertEquals", "assertSame"]}, "focal_class": {"identifier": "ActorHandlerBase", "superclass": "extends Handler", "interfaces": "", "fields": [{"original_string": "static final long NO_DELAY = -1L;", "modifier": "static final", "type": "long", "declarator": "NO_DELAY = -1L", "var_name": "NO_DELAY"}, {"original_string": "@VisibleForTesting\n    /* package */ static final int MSG_TRANSACTION = 1;", "modifier": "@VisibleForTesting\n    /* package */ static final", "type": "int", "declarator": "MSG_TRANSACTION = 1", "var_name": "MSG_TRANSACTION"}, {"original_string": "@VisibleForTesting\n    /* package */ static final int MSG_POISON_PILL = 2;", "modifier": "@VisibleForTesting\n    /* package */ static final", "type": "int", "declarator": "MSG_POISON_PILL = 2", "var_name": "MSG_POISON_PILL"}, {"original_string": "@Nullable\n    private final PowerManager.WakeLock mWakeLock;", "modifier": "@Nullable\n    private final", "type": "PowerManager.WakeLock", "declarator": "mWakeLock", "var_name": "mWakeLock"}, {"original_string": "private final long mStopDelay;", "modifier": "private final", "type": "long", "declarator": "mStopDelay", "var_name": "mStopDelay"}, {"original_string": "private volatile int mLastId = 0;", "modifier": "private volatile", "type": "int", "declarator": "mLastId = 0", "var_name": "mLastId"}], "methods": [{"identifier": "ActorHandlerBase", "parameters": "(Looper looper, long stopDelay, @Nullable PowerManager.WakeLock wakeLock)", "modifiers": "", "return": "", "signature": " ActorHandlerBase(Looper looper, long stopDelay, @Nullable PowerManager.WakeLock wakeLock)", "full_signature": "  ActorHandlerBase(Looper looper, long stopDelay, @Nullable PowerManager.WakeLock wakeLock)", "class_method_signature": "ActorHandlerBase.ActorHandlerBase(Looper looper, long stopDelay, @Nullable PowerManager.WakeLock wakeLock)", "testcase": false, "constructor": true}, {"identifier": "sendTransaction", "parameters": "(@NonNull Transaction transaction)", "modifiers": "", "return": "boolean", "signature": "boolean sendTransaction(@NonNull Transaction transaction)", "full_signature": " boolean sendTransaction(@NonNull Transaction transaction)", "class_method_signature": "ActorHandlerBase.sendTransaction(@NonNull Transaction transaction)", "testcase": false, "constructor": false}, {"identifier": "handleMessage", "parameters": "(@NonNull Message msg)", "modifiers": "@Override public", "return": "void", "signature": "void handleMessage(@NonNull Message msg)", "full_signature": "@Override public void handleMessage(@NonNull Message msg)", "class_method_signature": "ActorHandlerBase.handleMessage(@NonNull Message msg)", "testcase": false, "constructor": false}, {"identifier": "handleTransaction", "parameters": "(@NonNull Transaction transaction, int id)", "modifiers": "@SuppressWarnings(\"unchecked\") private", "return": "void", "signature": "void handleTransaction(@NonNull Transaction transaction, int id)", "full_signature": "@SuppressWarnings(\"unchecked\") private void handleTransaction(@NonNull Transaction transaction, int id)", "class_method_signature": "ActorHandlerBase.handleTransaction(@NonNull Transaction transaction, int id)", "testcase": false, "constructor": false}, {"identifier": "handlePoisonPill", "parameters": "(int id)", "modifiers": "private", "return": "void", "signature": "void handlePoisonPill(int id)", "full_signature": "private void handlePoisonPill(int id)", "class_method_signature": "ActorHandlerBase.handlePoisonPill(int id)", "testcase": false, "constructor": false}, {"identifier": "acquireWakelock", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void acquireWakelock()", "full_signature": "private void acquireWakelock()", "class_method_signature": "ActorHandlerBase.acquireWakelock()", "testcase": false, "constructor": false}, {"identifier": "releaseWakelock", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void releaseWakelock()", "full_signature": "private void releaseWakelock()", "class_method_signature": "ActorHandlerBase.releaseWakelock()", "testcase": false, "constructor": false}, {"identifier": "stopThread", "parameters": "()", "modifiers": "protected abstract", "return": "void", "signature": "void stopThread()", "full_signature": "protected abstract void stopThread()", "class_method_signature": "ActorHandlerBase.stopThread()", "testcase": false, "constructor": false}], "file": "actors-library/src/main/java/com/truecaller/androidactors/ActorHandlerBase.java"}, "focal_method": {"identifier": "sendTransaction", "parameters": "(@NonNull Transaction transaction)", "modifiers": "", "return": "boolean", "body": "boolean sendTransaction(@NonNull Transaction transaction) {\n        final int id;\n        synchronized (this) {\n            if (mLastId == -1) {\n                return false;\n            }\n            id = ++mLastId;\n        }\n\n        return sendMessage(obtainMessage(MSG_TRANSACTION, id, 0, transaction));\n    }", "signature": "boolean sendTransaction(@NonNull Transaction transaction)", "full_signature": " boolean sendTransaction(@NonNull Transaction transaction)", "class_method_signature": "ActorHandlerBase.sendTransaction(@NonNull Transaction transaction)", "testcase": false, "constructor": false, "invocations": ["sendMessage", "obtainMessage"]}, "repository": {"repo_id": 99569378, "url": "https://github.com/truecaller/android-actors-library", "language": "Java", "is_fork": false, "fork_count": 2, "stargazer_count": 20, "size": 352, "license": "licensed"}}