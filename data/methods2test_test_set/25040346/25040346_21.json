{"test_class": {"identifier": "TriangleVerticesCalculatorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final float[] verticalBlackBars = new float[] {\n            //  X,      Y,     Z,     U,     V\n            -1.00f, -0.75f, 0.00f, 0.00f, 0.00f,\n            1.00f, -0.75f, 0.00f, 1.00f, 0.00f,\n            -1.00f, 0.75f, 0.00f, 0.00f, 1.00f,\n            1.00f, 0.75f, 0.00f, 1.00f, 1.00f,\n    };", "modifier": "private final", "type": "float[]", "declarator": "verticalBlackBars = new float[] {\n            //  X,      Y,     Z,     U,     V\n            -1.00f, -0.75f, 0.00f, 0.00f, 0.00f,\n            1.00f, -0.75f, 0.00f, 1.00f, 0.00f,\n            -1.00f, 0.75f, 0.00f, 0.00f, 1.00f,\n            1.00f, 0.75f, 0.00f, 1.00f, 1.00f,\n    }", "var_name": "verticalBlackBars"}, {"original_string": "private final float[] horizontalBlackBars = new float[] {\n        //  X,      Y,     Z,     U,     V\n        -0.75f, -1.00f, 0.00f, 0.00f, 0.00f,\n        0.75f, -1.00f, 0.00f, 1.00f, 0.00f,\n        -0.75f, 1.00f, 0.00f, 0.00f, 1.00f,\n        0.75f, 1.00f, 0.00f, 1.00f, 1.00f,\n    };", "modifier": "private final", "type": "float[]", "declarator": "horizontalBlackBars = new float[] {\n        //  X,      Y,     Z,     U,     V\n        -0.75f, -1.00f, 0.00f, 0.00f, 0.00f,\n        0.75f, -1.00f, 0.00f, 1.00f, 0.00f,\n        -0.75f, 1.00f, 0.00f, 0.00f, 1.00f,\n        0.75f, 1.00f, 0.00f, 1.00f, 1.00f,\n    }", "var_name": "horizontalBlackBars"}, {"original_string": "private final float[] defaultData = new float[] {\n        //  X,     Y,    Z,    U,     V\n        -1.0f, -1.0f, 0.0f, 0.00f, 0.00f,\n        1.0f, -1.0f, 0.0f, 1.00f, 0.00f,\n        -1.0f, 1.0f, 0.0f, 0.00f, 1.00f,\n        1.0f, 1.0f, 0.0f, 1.00f, 1.00f,\n    };", "modifier": "private final", "type": "float[]", "declarator": "defaultData = new float[] {\n        //  X,     Y,    Z,    U,     V\n        -1.0f, -1.0f, 0.0f, 0.00f, 0.00f,\n        1.0f, -1.0f, 0.0f, 1.00f, 0.00f,\n        -1.0f, 1.0f, 0.0f, 0.00f, 1.00f,\n        1.0f, 1.0f, 0.0f, 1.00f, 1.00f,\n    }", "var_name": "defaultData"}, {"original_string": "private final float[] verticalBlackBarsRotated90 = new float[] {\n          //    X,     Y,  Z,   U,   V\n            -1.0f,  1.0f, 0, 0.f, 0.f,\n            -1.0f, -1.0f, 0, 1.f, 0.f,\n             1.0f,  1.0f, 0, 0.f, 1.f,\n             1.0f, -1.0f, 0, 1.f, 1.f,\n    };", "modifier": "private final", "type": "float[]", "declarator": "verticalBlackBarsRotated90 = new float[] {\n          //    X,     Y,  Z,   U,   V\n            -1.0f,  1.0f, 0, 0.f, 0.f,\n            -1.0f, -1.0f, 0, 1.f, 0.f,\n             1.0f,  1.0f, 0, 0.f, 1.f,\n             1.0f, -1.0f, 0, 1.f, 1.f,\n    }", "var_name": "verticalBlackBarsRotated90"}, {"original_string": "private final float[] verticalBlackBarsRotated90ArCorrected = new float[] {\n            //    X,     Y,  Z,   U,   V\n           -0.5f,  1.0f, 0, 0.f, 0.f,\n           -0.5f, -1.0f, 0, 1.f, 0.f,\n            0.5f,  1.0f, 0, 0.f, 1.f,\n            0.5f, -1.0f, 0, 1.f, 1.f,\n    };", "modifier": "private final", "type": "float[]", "declarator": "verticalBlackBarsRotated90ArCorrected = new float[] {\n            //    X,     Y,  Z,   U,   V\n           -0.5f,  1.0f, 0, 0.f, 0.f,\n           -0.5f, -1.0f, 0, 1.f, 0.f,\n            0.5f,  1.0f, 0, 0.f, 1.f,\n            0.5f, -1.0f, 0, 1.f, 1.f,\n    }", "var_name": "verticalBlackBarsRotated90ArCorrected"}], "file": "domain/src/test/java/org/m4m/domain/pipeline/TriangleVerticesCalculatorTest.java"}, "test_case": {"identifier": "testHorizontalBlackBars", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testHorizontalBlackBars() {\n        TriangleVerticesCalculator calculator = new TriangleVerticesCalculator();\n\n        float[] verticesData = calculator.getAspectRatioVerticesData(640, 480, 1280, 720);\n\n        assertAlmostEqual(verticesData, horizontalBlackBars, 0.01);\n    }", "signature": "void testHorizontalBlackBars()", "full_signature": "@Test public void testHorizontalBlackBars()", "class_method_signature": "TriangleVerticesCalculatorTest.testHorizontalBlackBars()", "testcase": true, "constructor": false, "invocations": ["getAspectRatioVerticesData", "assertAlmostEqual"]}, "focal_class": {"identifier": "TriangleVerticesCalculator", "superclass": "", "interfaces": "", "fields": [{"original_string": "static int stride = 5;", "modifier": "static", "type": "int", "declarator": "stride = 5", "var_name": "stride"}, {"original_string": "private final float[] triangleVerticesData;", "modifier": "private final", "type": "float[]", "declarator": "triangleVerticesData", "var_name": "triangleVerticesData"}, {"original_string": "private final float[] defaultTriangleVerticesData ;", "modifier": "private final", "type": "float[]", "declarator": "defaultTriangleVerticesData", "var_name": "defaultTriangleVerticesData"}, {"original_string": "private final float[] scale = {1, 1};", "modifier": "private final", "type": "float[]", "declarator": "scale = {1, 1}", "var_name": "scale"}], "methods": [{"identifier": "TriangleVerticesCalculator", "parameters": "()", "modifiers": "public", "return": "", "signature": " TriangleVerticesCalculator()", "full_signature": "public  TriangleVerticesCalculator()", "class_method_signature": "TriangleVerticesCalculator.TriangleVerticesCalculator()", "testcase": false, "constructor": true}, {"identifier": "TriangleVerticesCalculator", "parameters": "(float[] triangleVerticesData)", "modifiers": "public", "return": "", "signature": " TriangleVerticesCalculator(float[] triangleVerticesData)", "full_signature": "public  TriangleVerticesCalculator(float[] triangleVerticesData)", "class_method_signature": "TriangleVerticesCalculator.TriangleVerticesCalculator(float[] triangleVerticesData)", "testcase": false, "constructor": true}, {"identifier": "getScale_PreserveAspectFit", "parameters": "(int angle, int widthIn, int heightIn, int widthOut, int heightOut)", "modifiers": "public", "return": "float[]", "signature": "float[] getScale_PreserveAspectFit(int angle, int widthIn, int heightIn, int widthOut, int heightOut)", "full_signature": "public float[] getScale_PreserveAspectFit(int angle, int widthIn, int heightIn, int widthOut, int heightOut)", "class_method_signature": "TriangleVerticesCalculator.getScale_PreserveAspectFit(int angle, int widthIn, int heightIn, int widthOut, int heightOut)", "testcase": false, "constructor": false}, {"identifier": "getScale_PreserveAspectCrop", "parameters": "(int angle, int widthIn, int heightIn, int widthOut, int heightOut)", "modifiers": "public", "return": "float[]", "signature": "float[] getScale_PreserveAspectCrop(int angle, int widthIn, int heightIn, int widthOut, int heightOut)", "full_signature": "public float[] getScale_PreserveAspectCrop(int angle, int widthIn, int heightIn, int widthOut, int heightOut)", "class_method_signature": "TriangleVerticesCalculator.getScale_PreserveAspectCrop(int angle, int widthIn, int heightIn, int widthOut, int heightOut)", "testcase": false, "constructor": false}, {"identifier": "getAspectRatioVerticesData", "parameters": "(int widthIn, int heightIn, int widthOut, int heightOut)", "modifiers": "public", "return": "float[]", "signature": "float[] getAspectRatioVerticesData(int widthIn, int heightIn, int widthOut, int heightOut)", "full_signature": "public float[] getAspectRatioVerticesData(int widthIn, int heightIn, int widthOut, int heightOut)", "class_method_signature": "TriangleVerticesCalculator.getAspectRatioVerticesData(int widthIn, int heightIn, int widthOut, int heightOut)", "testcase": false, "constructor": false}, {"identifier": "getDefaultTriangleVerticesData", "parameters": "()", "modifiers": "public static", "return": "float[]", "signature": "float[] getDefaultTriangleVerticesData()", "full_signature": "public static float[] getDefaultTriangleVerticesData()", "class_method_signature": "TriangleVerticesCalculator.getDefaultTriangleVerticesData()", "testcase": false, "constructor": false}], "file": "domain/src/main/java/org/m4m/domain/pipeline/TriangleVerticesCalculator.java"}, "focal_method": {"identifier": "getAspectRatioVerticesData", "parameters": "(int widthIn, int heightIn, int widthOut, int heightOut)", "modifiers": "public", "return": "float[]", "body": "public float[] getAspectRatioVerticesData(int widthIn, int heightIn, int widthOut, int heightOut) {\n        System.arraycopy(defaultTriangleVerticesData, 0, triangleVerticesData, 0, defaultTriangleVerticesData.length);\n\n        float aspectRatioIn = (float) widthIn / heightIn;\n        float heightOutCalculated = (float) widthOut / aspectRatioIn;\n\n        if (heightOutCalculated < heightOut) {\n            float deltaHeight = (heightOut - heightOutCalculated) / heightOut;\n            GetMinMax vertical = new GetMinMax(1).invoke();\n            triangleVerticesData[vertical.getMin1()] += deltaHeight;\n            triangleVerticesData[vertical.getMin2()] += deltaHeight;\n            triangleVerticesData[vertical.getMax1()] -= deltaHeight;\n            triangleVerticesData[vertical.getMax2()] -= deltaHeight;\n        } else {\n            float deltaWidth = (widthOut - heightOut * aspectRatioIn) / widthOut;\n            GetMinMax horizontal = new GetMinMax(0).invoke();\n            triangleVerticesData[horizontal.getMin1()] += deltaWidth;\n            triangleVerticesData[horizontal.getMin2()] += deltaWidth;\n            triangleVerticesData[horizontal.getMax1()] -= deltaWidth;\n            triangleVerticesData[horizontal.getMax2()] -= deltaWidth;\n        }\n\n        return triangleVerticesData;\n    }", "signature": "float[] getAspectRatioVerticesData(int widthIn, int heightIn, int widthOut, int heightOut)", "full_signature": "public float[] getAspectRatioVerticesData(int widthIn, int heightIn, int widthOut, int heightOut)", "class_method_signature": "TriangleVerticesCalculator.getAspectRatioVerticesData(int widthIn, int heightIn, int widthOut, int heightOut)", "testcase": false, "constructor": false, "invocations": ["arraycopy", "invoke", "getMin1", "getMin2", "getMax1", "getMax2", "invoke", "getMin1", "getMin2", "getMax1", "getMax2"]}, "repository": {"repo_id": 25040346, "url": "https://github.com/INDExOS/media-for-mobile", "language": "Java", "is_fork": false, "fork_count": 167, "stargazer_count": 416, "size": 619, "license": "licensed"}}