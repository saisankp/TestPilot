{"test_class": {"identifier": "OContentShareResourceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(OContentShareResourceTest.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(OContentShareResourceTest.class)", "var_name": "LOG"}, {"original_string": "@Inject\n    private WicketTester tester;", "modifier": "@Inject\n    private", "type": "WicketTester", "declarator": "tester", "var_name": "tester"}, {"original_string": "private ODocument doc;", "modifier": "private", "type": "ODocument", "declarator": "doc", "var_name": "doc"}], "file": "orienteer-core/src/test/java/org/orienteer/core/resource/OContentShareResourceTest.java"}, "test_case": {"identifier": "testUrls", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testUrls() {\n    \ttester.setUseRequestUrlAsBase(true);\n    \tSystem.out.println(\"Local URL: \"+OContentShareResource.urlFor(doc, \"phone\", \"text/plain\", false));\n    \tSystem.out.println(\"Full  URL: \"+OContentShareResource.urlFor(doc, \"phone\", \"text/plain\", true));\n\n    \ttester.executeUrl(\"./api/echo/\"+doc.getIdentity().toString().substring(1)+\"/phone?full=false\");\n    \tMockHttpServletResponse response = tester.getLastResponse();\n    \tString ret = response.getDocument();\n    \tassertEquals(excludeVersion(OContentShareResource.urlFor(doc, \"phone\", \"text/plain\", false)), excludeVersion(ret));\n    \t\n    \ttester.executeUrl(\"./api/echo/\"+doc.getIdentity().toString().substring(1)+\"/phone?full=true\");\n    \tresponse = tester.getLastResponse();\n    \tret = response.getDocument();\n    \tassertEquals(excludeVersion(OContentShareResource.urlFor(doc, \"phone\", \"text/plain\", true)), excludeVersion(ret));\n    }", "signature": "void testUrls()", "full_signature": "@Test public void testUrls()", "class_method_signature": "OContentShareResourceTest.testUrls()", "testcase": true, "constructor": false, "invocations": ["setUseRequestUrlAsBase", "println", "urlFor", "println", "urlFor", "executeUrl", "substring", "toString", "getIdentity", "getLastResponse", "getDocument", "assertEquals", "excludeVersion", "urlFor", "excludeVersion", "executeUrl", "substring", "toString", "getIdentity", "getLastResponse", "getDocument", "assertEquals", "excludeVersion", "urlFor", "excludeVersion"]}, "focal_class": {"identifier": "OContentShareResource", "superclass": "extends AbstractResource", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(OContentShareResource.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(OContentShareResource.class)", "var_name": "LOG"}], "methods": [{"identifier": "getSharedResourceReference", "parameters": "()", "modifiers": "public static", "return": "SharedResourceReference", "signature": "SharedResourceReference getSharedResourceReference()", "full_signature": "public static SharedResourceReference getSharedResourceReference()", "class_method_signature": "OContentShareResource.getSharedResourceReference()", "testcase": false, "constructor": false}, {"identifier": "urlFor", "parameters": "(ODocument document, String field, String contentType,  boolean fullUrl)", "modifiers": "public static", "return": "CharSequence", "signature": "CharSequence urlFor(ODocument document, String field, String contentType,  boolean fullUrl)", "full_signature": "public static CharSequence urlFor(ODocument document, String field, String contentType,  boolean fullUrl)", "class_method_signature": "OContentShareResource.urlFor(ODocument document, String field, String contentType,  boolean fullUrl)", "testcase": false, "constructor": false}, {"identifier": "urlFor", "parameters": "(ODocument document, String field, String contentType, Integer imageSize, boolean fullUrl)", "modifiers": "public static", "return": "CharSequence", "signature": "CharSequence urlFor(ODocument document, String field, String contentType, Integer imageSize, boolean fullUrl)", "full_signature": "public static CharSequence urlFor(ODocument document, String field, String contentType, Integer imageSize, boolean fullUrl)", "class_method_signature": "OContentShareResource.urlFor(ODocument document, String field, String contentType, Integer imageSize, boolean fullUrl)", "testcase": false, "constructor": false}, {"identifier": "urlFor", "parameters": "(ODocument document, String field, String contentType, Integer imageSize, Double imageQuality, boolean fullUrl)", "modifiers": "public static", "return": "CharSequence", "signature": "CharSequence urlFor(ODocument document, String field, String contentType, Integer imageSize, Double imageQuality, boolean fullUrl)", "full_signature": "public static CharSequence urlFor(ODocument document, String field, String contentType, Integer imageSize, Double imageQuality, boolean fullUrl)", "class_method_signature": "OContentShareResource.urlFor(ODocument document, String field, String contentType, Integer imageSize, Double imageQuality, boolean fullUrl)", "testcase": false, "constructor": false}, {"identifier": "urlFor", "parameters": "(ResourceReference ref, ODocument document, String field, String contentType, Integer imageSize, Double imageQuality, boolean fullUrl)", "modifiers": "protected static", "return": "CharSequence", "signature": "CharSequence urlFor(ResourceReference ref, ODocument document, String field, String contentType, Integer imageSize, Double imageQuality, boolean fullUrl)", "full_signature": "protected static CharSequence urlFor(ResourceReference ref, ODocument document, String field, String contentType, Integer imageSize, Double imageQuality, boolean fullUrl)", "class_method_signature": "OContentShareResource.urlFor(ResourceReference ref, ODocument document, String field, String contentType, Integer imageSize, Double imageQuality, boolean fullUrl)", "testcase": false, "constructor": false}, {"identifier": "newResourceResponse", "parameters": "(IResource.Attributes attributes)", "modifiers": "@Override protected", "return": "ResourceResponse", "signature": "ResourceResponse newResourceResponse(IResource.Attributes attributes)", "full_signature": "@Override protected ResourceResponse newResourceResponse(IResource.Attributes attributes)", "class_method_signature": "OContentShareResource.newResourceResponse(IResource.Attributes attributes)", "testcase": false, "constructor": false}, {"identifier": "isCacheAllowed", "parameters": "()", "modifiers": "protected", "return": "boolean", "signature": "boolean isCacheAllowed()", "full_signature": "protected boolean isCacheAllowed()", "class_method_signature": "OContentShareResource.isCacheAllowed()", "testcase": false, "constructor": false}, {"identifier": "getContent", "parameters": "(OIdentifiable rid, String field)", "modifiers": "protected", "return": "byte[]", "signature": "byte[] getContent(OIdentifiable rid, String field)", "full_signature": "protected byte[] getContent(OIdentifiable rid, String field)", "class_method_signature": "OContentShareResource.getContent(OIdentifiable rid, String field)", "testcase": false, "constructor": false}, {"identifier": "createWriteCallback", "parameters": "(byte [] data)", "modifiers": "private", "return": "WriteCallback", "signature": "WriteCallback createWriteCallback(byte [] data)", "full_signature": "private WriteCallback createWriteCallback(byte [] data)", "class_method_signature": "OContentShareResource.createWriteCallback(byte [] data)", "testcase": false, "constructor": false}], "file": "orienteer-core/src/main/java/org/orienteer/core/resource/OContentShareResource.java"}, "focal_method": {"identifier": "urlFor", "parameters": "(ODocument document, String field, String contentType,  boolean fullUrl)", "modifiers": "public static", "return": "CharSequence", "body": "public static CharSequence urlFor(ODocument document, String field, String contentType,  boolean fullUrl) {\n    \treturn urlFor(getSharedResourceReference(), document, field, contentType, null, null, fullUrl);\n    }", "signature": "CharSequence urlFor(ODocument document, String field, String contentType,  boolean fullUrl)", "full_signature": "public static CharSequence urlFor(ODocument document, String field, String contentType,  boolean fullUrl)", "class_method_signature": "OContentShareResource.urlFor(ODocument document, String field, String contentType,  boolean fullUrl)", "testcase": false, "constructor": false, "invocations": ["urlFor", "getSharedResourceReference"]}, "repository": {"repo_id": 20936653, "url": "https://github.com/OrienteerBAP/Orienteer", "stars": 108, "created": "6/17/2014 7:21:32 PM +00:00", "updates": "2020-01-27T07:16:30+00:00", "fork": "False", "license": "licensed"}}