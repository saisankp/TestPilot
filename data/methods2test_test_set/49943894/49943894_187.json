{"test_class": {"identifier": "RESTServiceConnectorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final BasicStatusLine HTTP_200_STATUS_LINE = new BasicStatusLine(new ProtocolVersion(\"HTTP\", 1, 1), 200, \"OK\");", "modifier": "private static final", "type": "BasicStatusLine", "declarator": "HTTP_200_STATUS_LINE = new BasicStatusLine(new ProtocolVersion(\"HTTP\", 1, 1), 200, \"OK\")", "var_name": "HTTP_200_STATUS_LINE"}, {"original_string": "private static final Gson gson = new GsonBuilder().setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES).create();", "modifier": "private static final", "type": "Gson", "declarator": "gson = new GsonBuilder().setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES).create()", "var_name": "gson"}, {"original_string": "private static final Map<String, String> DEFAULT_TEST_PARAMETERS = new HashMap<String, String>();", "modifier": "private static final", "type": "Map<String, String>", "declarator": "DEFAULT_TEST_PARAMETERS = new HashMap<String, String>()", "var_name": "DEFAULT_TEST_PARAMETERS"}], "file": "utils/src/test/java/com/cloud/utils/rest/RESTServiceConnectorTest.java"}, "test_case": {"identifier": "testExecuteUpdateObject", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testExecuteUpdateObject() throws Exception {\n        final TestPojo newObject = new TestPojo();\n        newObject.setField(\"newValue\");\n        final String newObjectJson = gson.toJson(newObject);\n        final CloseableHttpResponse response = mock(CloseableHttpResponse.class);\n        when(response.getStatusLine()).thenReturn(HTTP_200_STATUS_LINE);\n        final CloseableHttpClient httpClient = mock(CloseableHttpClient.class);\n        when(httpClient.execute(any(HttpHost.class), any(HttpRequest.class), any(HttpClientContext.class))).thenReturn(response);\n        final RestClient restClient = new BasicRestClient(httpClient, HttpClientContext.create(), \"localhost\");\n        final RESTServiceConnector connector = new RESTServiceConnector.Builder().client(restClient).build();\n\n        connector.executeUpdateObject(newObject, \"/somepath\");\n\n        verify(httpClient).execute(any(HttpHost.class), HttpUriRequestMethodMatcher.aMethod(\"PUT\"), any(HttpClientContext.class));\n        verify(httpClient).execute(any(HttpHost.class), HttpUriRequestPayloadMatcher.aPayload(newObjectJson), any(HttpClientContext.class));\n    }", "signature": "void testExecuteUpdateObject()", "full_signature": "@Test public void testExecuteUpdateObject()", "class_method_signature": "RESTServiceConnectorTest.testExecuteUpdateObject()", "testcase": true, "constructor": false, "invocations": ["setField", "toJson", "mock", "thenReturn", "when", "getStatusLine", "mock", "thenReturn", "when", "execute", "any", "any", "any", "create", "build", "client", "executeUpdateObject", "execute", "verify", "any", "aMethod", "any", "execute", "verify", "any", "aPayload", "any"]}, "focal_class": {"identifier": "RESTServiceConnector", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger s_logger = LoggerFactory.getLogger(RESTServiceConnector.class);", "modifier": "private static final", "type": "Logger", "declarator": "s_logger = LoggerFactory.getLogger(RESTServiceConnector.class)", "var_name": "s_logger"}, {"original_string": "private static final Optional<String> ABSENT = Optional.absent();", "modifier": "private static final", "type": "Optional<String>", "declarator": "ABSENT = Optional.absent()", "var_name": "ABSENT"}, {"original_string": "private final RestClient client;", "modifier": "private final", "type": "RestClient", "declarator": "client", "var_name": "client"}, {"original_string": "private final Gson gson;", "modifier": "private final", "type": "Gson", "declarator": "gson", "var_name": "gson"}], "methods": [{"identifier": "RESTServiceConnector", "parameters": "(final Builder builder)", "modifiers": "private", "return": "", "signature": " RESTServiceConnector(final Builder builder)", "full_signature": "private  RESTServiceConnector(final Builder builder)", "class_method_signature": "RESTServiceConnector.RESTServiceConnector(final Builder builder)", "testcase": false, "constructor": true}, {"identifier": "setGsonDeserializer", "parameters": "(final Map<Class<?>, JsonDeserializer<?>> classToDeserializerMap)", "modifiers": "private static", "return": "Gson", "signature": "Gson setGsonDeserializer(final Map<Class<?>, JsonDeserializer<?>> classToDeserializerMap)", "full_signature": "private static Gson setGsonDeserializer(final Map<Class<?>, JsonDeserializer<?>> classToDeserializerMap)", "class_method_signature": "RESTServiceConnector.setGsonDeserializer(final Map<Class<?>, JsonDeserializer<?>> classToDeserializerMap)", "testcase": false, "constructor": false}, {"identifier": "create", "parameters": "()", "modifiers": "public static", "return": "Builder", "signature": "Builder create()", "full_signature": "public static Builder create()", "class_method_signature": "RESTServiceConnector.create()", "testcase": false, "constructor": false}, {"identifier": "executeUpdateObject", "parameters": "(final T newObject, final String path, final Map<String, String> parameters)", "modifiers": "public", "return": "void", "signature": "void executeUpdateObject(final T newObject, final String path, final Map<String, String> parameters)", "full_signature": "public void executeUpdateObject(final T newObject, final String path, final Map<String, String> parameters)", "class_method_signature": "RESTServiceConnector.executeUpdateObject(final T newObject, final String path, final Map<String, String> parameters)", "testcase": false, "constructor": false}, {"identifier": "executeUpdateObject", "parameters": "(final T newObject, final String path)", "modifiers": "public", "return": "void", "signature": "void executeUpdateObject(final T newObject, final String path)", "full_signature": "public void executeUpdateObject(final T newObject, final String path)", "class_method_signature": "RESTServiceConnector.executeUpdateObject(final T newObject, final String path)", "testcase": false, "constructor": false}, {"identifier": "executeCreateObject", "parameters": "(final T newObject, final String path, final Map<String, String> parameters)", "modifiers": "@SuppressWarnings(\"unchecked\") public", "return": "T", "signature": "T executeCreateObject(final T newObject, final String path, final Map<String, String> parameters)", "full_signature": "@SuppressWarnings(\"unchecked\") public T executeCreateObject(final T newObject, final String path, final Map<String, String> parameters)", "class_method_signature": "RESTServiceConnector.executeCreateObject(final T newObject, final String path, final Map<String, String> parameters)", "testcase": false, "constructor": false}, {"identifier": "executeCreateObject", "parameters": "(final T newObject, final String uri)", "modifiers": "public", "return": "T", "signature": "T executeCreateObject(final T newObject, final String uri)", "full_signature": "public T executeCreateObject(final T newObject, final String uri)", "class_method_signature": "RESTServiceConnector.executeCreateObject(final T newObject, final String uri)", "testcase": false, "constructor": false}, {"identifier": "executeDeleteObject", "parameters": "(final String path)", "modifiers": "public", "return": "void", "signature": "void executeDeleteObject(final String path)", "full_signature": "public void executeDeleteObject(final String path)", "class_method_signature": "RESTServiceConnector.executeDeleteObject(final String path)", "testcase": false, "constructor": false}, {"identifier": "executeRetrieveObject", "parameters": "(final Type returnObjectType, final String path, final Map<String, String> parameters)", "modifiers": "public", "return": "T", "signature": "T executeRetrieveObject(final Type returnObjectType, final String path, final Map<String, String> parameters)", "full_signature": "public T executeRetrieveObject(final Type returnObjectType, final String path, final Map<String, String> parameters)", "class_method_signature": "RESTServiceConnector.executeRetrieveObject(final Type returnObjectType, final String path, final Map<String, String> parameters)", "testcase": false, "constructor": false}, {"identifier": "executeRetrieveObject", "parameters": "(final Type returnObjectType, final String path)", "modifiers": "public", "return": "T", "signature": "T executeRetrieveObject(final Type returnObjectType, final String path)", "full_signature": "public T executeRetrieveObject(final Type returnObjectType, final String path)", "class_method_signature": "RESTServiceConnector.executeRetrieveObject(final Type returnObjectType, final String path)", "testcase": false, "constructor": false}, {"identifier": "createAndExecuteRequest", "parameters": "(final HttpMethods method, final String path, final Map<String, String> parameters, final Optional<String> jsonPayLoad)", "modifiers": "private", "return": "CloseableHttpResponse", "signature": "CloseableHttpResponse createAndExecuteRequest(final HttpMethods method, final String path, final Map<String, String> parameters, final Optional<String> jsonPayLoad)", "full_signature": "private CloseableHttpResponse createAndExecuteRequest(final HttpMethods method, final String path, final Map<String, String> parameters, final Optional<String> jsonPayLoad)", "class_method_signature": "RESTServiceConnector.createAndExecuteRequest(final HttpMethods method, final String path, final Map<String, String> parameters, final Optional<String> jsonPayLoad)", "testcase": false, "constructor": false}, {"identifier": "executeRequest", "parameters": "(final HttpUriRequest httpRequest)", "modifiers": "private", "return": "CloseableHttpResponse", "signature": "CloseableHttpResponse executeRequest(final HttpUriRequest httpRequest)", "full_signature": "private CloseableHttpResponse executeRequest(final HttpUriRequest httpRequest)", "class_method_signature": "RESTServiceConnector.executeRequest(final HttpUriRequest httpRequest)", "testcase": false, "constructor": false}, {"identifier": "readResponseBody", "parameters": "(final CloseableHttpResponse response, final Type type)", "modifiers": "private", "return": "T", "signature": "T readResponseBody(final CloseableHttpResponse response, final Type type)", "full_signature": "private T readResponseBody(final CloseableHttpResponse response, final Type type)", "class_method_signature": "RESTServiceConnector.readResponseBody(final CloseableHttpResponse response, final Type type)", "testcase": false, "constructor": false}], "file": "utils/src/main/java/com/cloud/utils/rest/RESTServiceConnector.java"}, "focal_method": {"identifier": "executeUpdateObject", "parameters": "(final T newObject, final String path, final Map<String, String> parameters)", "modifiers": "public", "return": "void", "body": "public <T> void executeUpdateObject(final T newObject, final String path, final Map<String, String> parameters) throws CloudstackRESTException {\n        s_logger.debug(\"Executing update object on \" + path);\n        client.closeResponse(createAndExecuteRequest(HttpMethods.PUT, path, parameters, Optional.fromNullable(gson.toJson(newObject))));\n    }", "signature": "void executeUpdateObject(final T newObject, final String path, final Map<String, String> parameters)", "full_signature": "public void executeUpdateObject(final T newObject, final String path, final Map<String, String> parameters)", "class_method_signature": "RESTServiceConnector.executeUpdateObject(final T newObject, final String path, final Map<String, String> parameters)", "testcase": false, "constructor": false, "invocations": ["debug", "closeResponse", "createAndExecuteRequest", "fromNullable", "toJson"]}, "repository": {"repo_id": 49943894, "url": "https://github.com/MissionCriticalCloudOldRepos/cosmic-core", "language": "Java", "is_fork": false, "fork_count": 3, "stargazer_count": 9, "size": 18165, "license": "licensed"}}