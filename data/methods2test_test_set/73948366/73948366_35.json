{"test_class": {"identifier": "ConfigPropertiesTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static String ROOT_DIR;", "modifier": "private static", "type": "String", "declarator": "ROOT_DIR", "var_name": "ROOT_DIR"}, {"original_string": "public static final String STR_DEF_ROOT     = \"/home/athenz\";", "modifier": "public static final", "type": "String", "declarator": "STR_DEF_ROOT     = \"/home/athenz\"", "var_name": "STR_DEF_ROOT"}, {"original_string": "private static final String CONFIG_TEST_PROP_ROOT_DIR = \"athenz.config.properties.test.root.dir\";", "modifier": "private static final", "type": "String", "declarator": "CONFIG_TEST_PROP_ROOT_DIR = \"athenz.config.properties.test.root.dir\"", "var_name": "CONFIG_TEST_PROP_ROOT_DIR"}], "file": "libs/java/server_common/src/test/java/com/yahoo/athenz/common/server/util/ConfigPropertiesTest.java"}, "test_case": {"identifier": "testGetPortNumberInvalidFormat", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetPortNumberInvalidFormat() {\n        System.setProperty(\"athenz.port\", \"abc\");\n        assertEquals(ConfigProperties.getPortNumber(\"athenz.port\", 4080), 4080);\n    }", "signature": "void testGetPortNumberInvalidFormat()", "full_signature": "@Test public void testGetPortNumberInvalidFormat()", "class_method_signature": "ConfigPropertiesTest.testGetPortNumberInvalidFormat()", "testcase": true, "constructor": false, "invocations": ["setProperty", "assertEquals", "getPortNumber"]}, "focal_class": {"identifier": "ConfigProperties", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOGGER = LoggerFactory.getLogger(ConfigProperties.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(ConfigProperties.class)", "var_name": "LOGGER"}], "methods": [{"identifier": "loadProperties", "parameters": "(String propFile)", "modifiers": "public static", "return": "void", "signature": "void loadProperties(String propFile)", "full_signature": "public static void loadProperties(String propFile)", "class_method_signature": "ConfigProperties.loadProperties(String propFile)", "testcase": false, "constructor": false}, {"identifier": "getPortNumber", "parameters": "(String property, int defaultValue)", "modifiers": "public static", "return": "int", "signature": "int getPortNumber(String property, int defaultValue)", "full_signature": "public static int getPortNumber(String property, int defaultValue)", "class_method_signature": "ConfigProperties.getPortNumber(String property, int defaultValue)", "testcase": false, "constructor": false}, {"identifier": "retrieveConfigSetting", "parameters": "(String property, int defaultValue)", "modifiers": "public static", "return": "int", "signature": "int retrieveConfigSetting(String property, int defaultValue)", "full_signature": "public static int retrieveConfigSetting(String property, int defaultValue)", "class_method_signature": "ConfigProperties.retrieveConfigSetting(String property, int defaultValue)", "testcase": false, "constructor": false}], "file": "libs/java/server_common/src/main/java/com/yahoo/athenz/common/server/util/ConfigProperties.java"}, "focal_method": {"identifier": "getPortNumber", "parameters": "(String property, int defaultValue)", "modifiers": "public static", "return": "int", "body": "public static int getPortNumber(String property, int defaultValue) {\n        \n        String propValue = System.getProperty(property);\n        if (propValue == null) {\n            return defaultValue;\n        }\n        \n        int port;\n        try {\n            // first try to convert the string property to integer\n            \n            port = Integer.parseInt(propValue);\n            \n            // now verify that it's a valid port number\n            \n            if (port < 0 || port > 65535) {\n                throw new NumberFormatException();\n            }\n            \n        } catch (NumberFormatException ex) {\n            LOGGER.info(\"invalid port: {}. Using default port: {}\", propValue, defaultValue);\n            port = defaultValue;\n        }\n        \n        return port;\n    }", "signature": "int getPortNumber(String property, int defaultValue)", "full_signature": "public static int getPortNumber(String property, int defaultValue)", "class_method_signature": "ConfigProperties.getPortNumber(String property, int defaultValue)", "testcase": false, "constructor": false, "invocations": ["getProperty", "parseInt", "info"]}, "repository": {"repo_id": 73948366, "url": "https://github.com/yahoo/athenz", "stars": 394, "created": "11/16/2016 6:23:08 PM +00:00", "updates": "2020-01-27T15:36:13+00:00", "fork": "False", "license": "licensed"}}