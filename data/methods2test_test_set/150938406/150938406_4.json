{"test_class": {"identifier": "GridSearchCVTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private Row[] testArray;", "modifier": "private", "type": "Row[]", "declarator": "testArray", "var_name": "testArray"}, {"original_string": "private MemSourceBatchOp memSourceBatchOp;", "modifier": "private", "type": "MemSourceBatchOp", "declarator": "memSourceBatchOp", "var_name": "memSourceBatchOp"}, {"original_string": "private String[] colNames;", "modifier": "private", "type": "String[]", "declarator": "colNames", "var_name": "colNames"}], "file": "core/src/test/java/com/alibaba/alink/pipeline/tuning/GridSearchCVTest.java"}, "test_case": {"identifier": "findBest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void findBest() {\n        GbdtClassifier gbdtClassifier = new GbdtClassifier()\n            .setFeatureCols(colNames[0], colNames[1])\n            .setLabelCol(colNames[2])\n            .setMinSamplesPerLeaf(1)\n            .setPredictionCol(\"pred\")\n            .setPredictionDetailCol(\"pred_detail\");\n\n        ParamGrid grid = new ParamGrid()\n            .addGrid(gbdtClassifier, GbdtClassifier.NUM_TREES, new Integer[]{1, 2})\n            .addGrid(gbdtClassifier, GbdtClassifier.MAX_DEPTH, new Integer[]{3});\n\n        GridSearchCV gridSearchCV = new GridSearchCV()\n            .setEstimator(gbdtClassifier)\n            .setParamGrid(grid)\n            .setNumFolds(2)\n            .enableLazyPrintTrainInfo()\n            .setTuningEvaluator(\n                new BinaryClassificationTuningEvaluator()\n                    .setTuningBinaryClassMetric(TuningBinaryClassMetric.ACCURACY)\n                    .setLabelCol(colNames[2])\n                    .setPositiveLabelValueString(\"1\")\n                    .setPredictionDetailCol(\"pred_detail\")\n            );\n\n        GridSearchCVModel model = gridSearchCV.fit(memSourceBatchOp);\n\n        Assert.assertEquals(\n            testArray.length,\n            model.transform(memSourceBatchOp).collect().size()\n        );\n    }", "signature": "void findBest()", "full_signature": "@Test public void findBest()", "class_method_signature": "GridSearchCVTest.findBest()", "testcase": true, "constructor": false, "invocations": ["setPredictionDetailCol", "setPredictionCol", "setMinSamplesPerLeaf", "setLabelCol", "setFeatureCols", "addGrid", "addGrid", "setTuningEvaluator", "enableLazyPrintTrainInfo", "setNumFolds", "setParamGrid", "setEstimator", "setPredictionDetailCol", "setPositiveLabelValueString", "setLabelCol", "setTuningBinaryClassMetric", "fit", "assertEquals", "size", "collect", "transform"]}, "focal_class": {"identifier": "GridSearchCV", "superclass": "extends BaseGridSearch<GridSearchCV, GridSearchCVModel>", "interfaces": "implements HasNumFolds<GridSearchCV>", "fields": [], "methods": [{"identifier": "GridSearchCV", "parameters": "()", "modifiers": "public", "return": "", "signature": " GridSearchCV()", "full_signature": "public  GridSearchCV()", "class_method_signature": "GridSearchCV.GridSearchCV()", "testcase": false, "constructor": true}, {"identifier": "findBest", "parameters": "(BatchOperator in, PipelineCandidatesGrid candidates)", "modifiers": "@Override protected", "return": "Tuple2<Pipeline, Report>", "signature": "Tuple2<Pipeline, Report> findBest(BatchOperator in, PipelineCandidatesGrid candidates)", "full_signature": "@Override protected Tuple2<Pipeline, Report> findBest(BatchOperator in, PipelineCandidatesGrid candidates)", "class_method_signature": "GridSearchCV.findBest(BatchOperator in, PipelineCandidatesGrid candidates)", "testcase": false, "constructor": false}], "file": "core/src/main/java/com/alibaba/alink/pipeline/tuning/GridSearchCV.java"}, "focal_method": {"identifier": "findBest", "parameters": "(BatchOperator in, PipelineCandidatesGrid candidates)", "modifiers": "@Override protected", "return": "Tuple2<Pipeline, Report>", "body": "@Override\n\tprotected Tuple2<Pipeline, Report> findBest(BatchOperator in, PipelineCandidatesGrid candidates) {\n\t\treturn findBestCV(in, getNumFolds(), candidates);\n\t}", "signature": "Tuple2<Pipeline, Report> findBest(BatchOperator in, PipelineCandidatesGrid candidates)", "full_signature": "@Override protected Tuple2<Pipeline, Report> findBest(BatchOperator in, PipelineCandidatesGrid candidates)", "class_method_signature": "GridSearchCV.findBest(BatchOperator in, PipelineCandidatesGrid candidates)", "testcase": false, "constructor": false, "invocations": ["findBestCV", "getNumFolds"]}, "repository": {"repo_id": 150938406, "url": "https://github.com/alibaba/Alink", "stars": 1923, "created": "9/30/2018 6:36:11 AM +00:00", "updates": "2020-01-27T10:24:34+00:00", "fork": "False", "license": "licensed"}}