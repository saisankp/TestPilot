{"test_class": {"identifier": "PlaylistServiceTest", "superclass": "extends PrimeTimeTest", "interfaces": "", "fields": [{"original_string": "private PageService pageService;", "modifier": "private", "type": "PageService", "declarator": "pageService", "var_name": "pageService"}, {"original_string": "private PlaylistService playlistService;", "modifier": "private", "type": "PlaylistService", "declarator": "playlistService", "var_name": "playlistService"}, {"original_string": "private ScreenService screenService;", "modifier": "private", "type": "ScreenService", "declarator": "screenService", "var_name": "screenService"}, {"original_string": "private FileService fileService;", "modifier": "private", "type": "FileService", "declarator": "fileService", "var_name": "fileService"}], "file": "common/app/src/test/java/com/sap/primetime/api/PlaylistServiceTest.java"}, "test_case": {"identifier": "testMovePage", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testMovePage() throws Exception {\n\t\tPage page1 = pageService.createPage(new Page(\"p1\"));\n\t\tPage page2 = pageService.createPage(new Page(\"p2\"));\n\t\tPage page3 = pageService.createPage(new Page(\"p3\"));\n\n\t\tPlaylist playlist = new Playlist(\"d1\");\n\t\tplaylist.addPageReference(new PageReference(page1));\n\t\tplaylist.addPageReference(new PageReference(page2));\n\t\tplaylist.addPageReference(new PageReference(page3));\n\t\tplaylist = playlistService.createPlaylist(playlist);\n\t\tlong id = playlist.getId();\n\n\t\tassertEquals(\"p1\", getPlaylist(id).getPageReferences().get(0).getPage().getName());\n\t\tassertEquals(\"p2\", getPlaylist(id).getPageReferences().get(1).getPage().getName());\n\n\t\t// swap\n\t\tplaylistService.movePage(id, getPlaylist(id).getPageReferences().get(1).getId(), 0);\n\t\tassertEquals(3, getPlaylist(id).getPageReferences().size());\n\t\tassertEquals(\"p2\", getPlaylist(id).getPageReferences().get(0).getPage().getName());\n\t\tassertEquals(\"p1\", getPlaylist(id).getPageReferences().get(1).getPage().getName());\n\n\t\t// switch back\n\t\tplaylistService.movePage(id, getPlaylist(id).getPageReferences().get(0).getId(), 1);\n\t\tassertEquals(3, getPlaylist(id).getPageReferences().size());\n\t\tassertEquals(\"p1\", getPlaylist(id).getPageReferences().get(0).getPage().getName());\n\t\tassertEquals(\"p2\", getPlaylist(id).getPageReferences().get(1).getPage().getName());\n\n\t\t// switch to same position\n\t\tplaylistService.movePage(id, getPlaylist(id).getPageReferences().get(0).getId(), 0);\n\t\tassertEquals(3, getPlaylist(id).getPageReferences().size());\n\t\tassertEquals(\"p1\", getPlaylist(id).getPageReferences().get(0).getPage().getName());\n\t\tassertEquals(\"p2\", getPlaylist(id).getPageReferences().get(1).getPage().getName());\n\t\tassertEquals(\"p3\", getPlaylist(id).getPageReferences().get(2).getPage().getName());\n\n\t\t// add some more pages\n\t\tPage page4 = pageService.createPage(new Page(\"p4\"));\n\t\tPage page5 = pageService.createPage(new Page(\"p5\"));\n\t\tplaylistService.addPage(id, page4);\n\t\tplaylistService.addPage(id, page5);\n\n\t\tassertEquals(5, getPlaylist(id).getPageReferences().size());\n\t\tassertEquals(\"p1\", getPlaylist(id).getPageReferences().get(0).getPage().getName());\n\t\tassertEquals(\"p2\", getPlaylist(id).getPageReferences().get(1).getPage().getName());\n\t\tassertEquals(\"p3\", getPlaylist(id).getPageReferences().get(2).getPage().getName());\n\t\tassertEquals(\"p4\", getPlaylist(id).getPageReferences().get(3).getPage().getName());\n\t\tassertEquals(\"p5\", getPlaylist(id).getPageReferences().get(4).getPage().getName());\n\t\tplaylistService.movePage(id, getPlaylist(id).getPageReferences().get(3).getId(), 2);\n\t\tassertEquals(5, getPlaylist(id).getPageReferences().size());\n\t\tassertEquals(\"p1\", getPlaylist(id).getPageReferences().get(0).getPage().getName());\n\t\tassertEquals(\"p2\", getPlaylist(id).getPageReferences().get(1).getPage().getName());\n\t\tassertEquals(\"p4\", getPlaylist(id).getPageReferences().get(2).getPage().getName());\n\t\tassertEquals(\"p3\", getPlaylist(id).getPageReferences().get(3).getPage().getName());\n\t\tassertEquals(\"p5\", getPlaylist(id).getPageReferences().get(4).getPage().getName());\n\t}", "signature": "void testMovePage()", "full_signature": "@Test public void testMovePage()", "class_method_signature": "PlaylistServiceTest.testMovePage()", "testcase": true, "constructor": false, "invocations": ["createPage", "createPage", "createPage", "addPageReference", "addPageReference", "addPageReference", "createPlaylist", "getId", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "movePage", "getId", "get", "getPageReferences", "getPlaylist", "assertEquals", "size", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "movePage", "getId", "get", "getPageReferences", "getPlaylist", "assertEquals", "size", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "movePage", "getId", "get", "getPageReferences", "getPlaylist", "assertEquals", "size", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "createPage", "createPage", "addPage", "addPage", "assertEquals", "size", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "movePage", "getId", "get", "getPageReferences", "getPlaylist", "assertEquals", "size", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist", "assertEquals", "getName", "getPage", "get", "getPageReferences", "getPlaylist"]}, "focal_class": {"identifier": "PlaylistService", "superclass": "extends BasicService", "interfaces": "implements OwnerAPISupport<Playlist>", "fields": [], "methods": [{"identifier": "getPlaylists", "parameters": "(@DefaultValue(\"false\") @QueryParam(\"expand\") boolean expand,\n\t\t\t@QueryParam(\"userId\") String userId)", "modifiers": "@GET @Path(\"/playlists\") @Produces(MediaType.APPLICATION_JSON) public", "return": "List<Playlist>", "signature": "List<Playlist> getPlaylists(@DefaultValue(\"false\") @QueryParam(\"expand\") boolean expand,\n\t\t\t@QueryParam(\"userId\") String userId)", "full_signature": "@GET @Path(\"/playlists\") @Produces(MediaType.APPLICATION_JSON) public List<Playlist> getPlaylists(@DefaultValue(\"false\") @QueryParam(\"expand\") boolean expand,\n\t\t\t@QueryParam(\"userId\") String userId)", "class_method_signature": "PlaylistService.getPlaylists(@DefaultValue(\"false\") @QueryParam(\"expand\") boolean expand,\n\t\t\t@QueryParam(\"userId\") String userId)", "testcase": false, "constructor": false}, {"identifier": "getPlaylistCatalog", "parameters": "(@DefaultValue(\"0\") @QueryParam(\"exclude\") long excludeId)", "modifiers": "@GET @Path(\"/catalog\") @Produces(MediaType.APPLICATION_JSON) public", "return": "List<Playlist>", "signature": "List<Playlist> getPlaylistCatalog(@DefaultValue(\"0\") @QueryParam(\"exclude\") long excludeId)", "full_signature": "@GET @Path(\"/catalog\") @Produces(MediaType.APPLICATION_JSON) public List<Playlist> getPlaylistCatalog(@DefaultValue(\"0\") @QueryParam(\"exclude\") long excludeId)", "class_method_signature": "PlaylistService.getPlaylistCatalog(@DefaultValue(\"0\") @QueryParam(\"exclude\") long excludeId)", "testcase": false, "constructor": false}, {"identifier": "getPlaylist", "parameters": "(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@DefaultValue(\"false\") @QueryParam(\"visibleOnly\") boolean visibleOnly,\n\t\t\t@DefaultValue(\"false\") @QueryParam(\"expand\") boolean expand,\n\t\t\t@DefaultValue(\"true\") @QueryParam(\"includeMetrics\") boolean includeMetrics)", "modifiers": "@GET @Path(\"/playlists/{playlistId}\") @Produces(MediaType.APPLICATION_JSON) public", "return": "Playlist", "signature": "Playlist getPlaylist(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@DefaultValue(\"false\") @QueryParam(\"visibleOnly\") boolean visibleOnly,\n\t\t\t@DefaultValue(\"false\") @QueryParam(\"expand\") boolean expand,\n\t\t\t@DefaultValue(\"true\") @QueryParam(\"includeMetrics\") boolean includeMetrics)", "full_signature": "@GET @Path(\"/playlists/{playlistId}\") @Produces(MediaType.APPLICATION_JSON) public Playlist getPlaylist(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@DefaultValue(\"false\") @QueryParam(\"visibleOnly\") boolean visibleOnly,\n\t\t\t@DefaultValue(\"false\") @QueryParam(\"expand\") boolean expand,\n\t\t\t@DefaultValue(\"true\") @QueryParam(\"includeMetrics\") boolean includeMetrics)", "class_method_signature": "PlaylistService.getPlaylist(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@DefaultValue(\"false\") @QueryParam(\"visibleOnly\") boolean visibleOnly,\n\t\t\t@DefaultValue(\"false\") @QueryParam(\"expand\") boolean expand,\n\t\t\t@DefaultValue(\"true\") @QueryParam(\"includeMetrics\") boolean includeMetrics)", "testcase": false, "constructor": false}, {"identifier": "updatePlaylist", "parameters": "(@PathParam(\"playlistId\") long playlistId, Playlist playlistData)", "modifiers": "@PUT @Path(\"/playlists/{playlistId}\") @Produces(MediaType.APPLICATION_JSON) public", "return": "Playlist", "signature": "Playlist updatePlaylist(@PathParam(\"playlistId\") long playlistId, Playlist playlistData)", "full_signature": "@PUT @Path(\"/playlists/{playlistId}\") @Produces(MediaType.APPLICATION_JSON) public Playlist updatePlaylist(@PathParam(\"playlistId\") long playlistId, Playlist playlistData)", "class_method_signature": "PlaylistService.updatePlaylist(@PathParam(\"playlistId\") long playlistId, Playlist playlistData)", "testcase": false, "constructor": false}, {"identifier": "createPlaylist", "parameters": "(Playlist playlist)", "modifiers": "@POST @Path(\"/playlists\") @Consumes(MediaType.APPLICATION_JSON) @Produces(MediaType.APPLICATION_JSON) public", "return": "Playlist", "signature": "Playlist createPlaylist(Playlist playlist)", "full_signature": "@POST @Path(\"/playlists\") @Consumes(MediaType.APPLICATION_JSON) @Produces(MediaType.APPLICATION_JSON) public Playlist createPlaylist(Playlist playlist)", "class_method_signature": "PlaylistService.createPlaylist(Playlist playlist)", "testcase": false, "constructor": false}, {"identifier": "addPage", "parameters": "(@PathParam(\"playlistId\") long playlistId, Page page)", "modifiers": "@POST @Path(\"/playlists/{playlistId}/pages\") @Consumes(MediaType.APPLICATION_JSON) public", "return": "Playlist", "signature": "Playlist addPage(@PathParam(\"playlistId\") long playlistId, Page page)", "full_signature": "@POST @Path(\"/playlists/{playlistId}/pages\") @Consumes(MediaType.APPLICATION_JSON) public Playlist addPage(@PathParam(\"playlistId\") long playlistId, Page page)", "class_method_signature": "PlaylistService.addPage(@PathParam(\"playlistId\") long playlistId, Page page)", "testcase": false, "constructor": false}, {"identifier": "addPlaylist", "parameters": "(@PathParam(\"playlistId\") long playlistId, Playlist playlist)", "modifiers": "@POST @Path(\"/playlists/{playlistId}/playlists\") @Consumes(MediaType.APPLICATION_JSON) public", "return": "Playlist", "signature": "Playlist addPlaylist(@PathParam(\"playlistId\") long playlistId, Playlist playlist)", "full_signature": "@POST @Path(\"/playlists/{playlistId}/playlists\") @Consumes(MediaType.APPLICATION_JSON) public Playlist addPlaylist(@PathParam(\"playlistId\") long playlistId, Playlist playlist)", "class_method_signature": "PlaylistService.addPlaylist(@PathParam(\"playlistId\") long playlistId, Playlist playlist)", "testcase": false, "constructor": false}, {"identifier": "addFile", "parameters": "(@PathParam(\"playlistId\") long playlistId, File file)", "modifiers": "@POST @Path(\"/playlists/{playlistId}/files\") @Consumes(MediaType.APPLICATION_JSON) public", "return": "Playlist", "signature": "Playlist addFile(@PathParam(\"playlistId\") long playlistId, File file)", "full_signature": "@POST @Path(\"/playlists/{playlistId}/files\") @Consumes(MediaType.APPLICATION_JSON) public Playlist addFile(@PathParam(\"playlistId\") long playlistId, File file)", "class_method_signature": "PlaylistService.addFile(@PathParam(\"playlistId\") long playlistId, File file)", "testcase": false, "constructor": false}, {"identifier": "updatePageReference", "parameters": "(@PathParam(\"pageRefId\") long pageRefId, PageReference pageRef)", "modifiers": "@PUT @Path(\"/playlists/{playlistId}/pagereferences/{pageRefId}\") @Produces(MediaType.APPLICATION_JSON) public", "return": "PageReference", "signature": "PageReference updatePageReference(@PathParam(\"pageRefId\") long pageRefId, PageReference pageRef)", "full_signature": "@PUT @Path(\"/playlists/{playlistId}/pagereferences/{pageRefId}\") @Produces(MediaType.APPLICATION_JSON) public PageReference updatePageReference(@PathParam(\"pageRefId\") long pageRefId, PageReference pageRef)", "class_method_signature": "PlaylistService.updatePageReference(@PathParam(\"pageRefId\") long pageRefId, PageReference pageRef)", "testcase": false, "constructor": false}, {"identifier": "copyPlaylist", "parameters": "(@PathParam(\"playlistId\") long playlistId, Playlist newPlaylist)", "modifiers": "@POST @Path(\"/playlists/{playlistId}/copy\") @Consumes(MediaType.APPLICATION_JSON) public", "return": "Playlist", "signature": "Playlist copyPlaylist(@PathParam(\"playlistId\") long playlistId, Playlist newPlaylist)", "full_signature": "@POST @Path(\"/playlists/{playlistId}/copy\") @Consumes(MediaType.APPLICATION_JSON) public Playlist copyPlaylist(@PathParam(\"playlistId\") long playlistId, Playlist newPlaylist)", "class_method_signature": "PlaylistService.copyPlaylist(@PathParam(\"playlistId\") long playlistId, Playlist newPlaylist)", "testcase": false, "constructor": false}, {"identifier": "deletePlaylist", "parameters": "(@PathParam(\"playlistId\") long playlistId)", "modifiers": "@DELETE @Path(\"/playlists/{playlistId}\") public", "return": "Response", "signature": "Response deletePlaylist(@PathParam(\"playlistId\") long playlistId)", "full_signature": "@DELETE @Path(\"/playlists/{playlistId}\") public Response deletePlaylist(@PathParam(\"playlistId\") long playlistId)", "class_method_signature": "PlaylistService.deletePlaylist(@PathParam(\"playlistId\") long playlistId)", "testcase": false, "constructor": false}, {"identifier": "deletePage", "parameters": "(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@PathParam(\"pageReferenceId\") long pageReferenceId)", "modifiers": "@DELETE @Path(\"/playlists/{playlistId}/pagereferences/{pageReferenceId}\") @Produces(MediaType.APPLICATION_JSON) public", "return": "Playlist", "signature": "Playlist deletePage(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@PathParam(\"pageReferenceId\") long pageReferenceId)", "full_signature": "@DELETE @Path(\"/playlists/{playlistId}/pagereferences/{pageReferenceId}\") @Produces(MediaType.APPLICATION_JSON) public Playlist deletePage(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@PathParam(\"pageReferenceId\") long pageReferenceId)", "class_method_signature": "PlaylistService.deletePage(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@PathParam(\"pageReferenceId\") long pageReferenceId)", "testcase": false, "constructor": false}, {"identifier": "movePage", "parameters": "(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@PathParam(\"pageReferenceId\") long pageReferenceId, @PathParam(\"idx\") int newPosition)", "modifiers": "@POST @Path(\"/playlists/{playlistId}/pagereferences/{pageReferenceId}/moveto/{idx}\") @Produces(MediaType.APPLICATION_JSON) public", "return": "Playlist", "signature": "Playlist movePage(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@PathParam(\"pageReferenceId\") long pageReferenceId, @PathParam(\"idx\") int newPosition)", "full_signature": "@POST @Path(\"/playlists/{playlistId}/pagereferences/{pageReferenceId}/moveto/{idx}\") @Produces(MediaType.APPLICATION_JSON) public Playlist movePage(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@PathParam(\"pageReferenceId\") long pageReferenceId, @PathParam(\"idx\") int newPosition)", "class_method_signature": "PlaylistService.movePage(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@PathParam(\"pageReferenceId\") long pageReferenceId, @PathParam(\"idx\") int newPosition)", "testcase": false, "constructor": false}, {"identifier": "getReferences", "parameters": "(@PathParam(\"playlistId\") long playlistId)", "modifiers": "@GET @Path(\"/playlists/{playlistId}/references\") @Produces(MediaType.APPLICATION_JSON) public", "return": "PlaylistReferences", "signature": "PlaylistReferences getReferences(@PathParam(\"playlistId\") long playlistId)", "full_signature": "@GET @Path(\"/playlists/{playlistId}/references\") @Produces(MediaType.APPLICATION_JSON) public PlaylistReferences getReferences(@PathParam(\"playlistId\") long playlistId)", "class_method_signature": "PlaylistService.getReferences(@PathParam(\"playlistId\") long playlistId)", "testcase": false, "constructor": false}, {"identifier": "addOwners", "parameters": "(@PathParam(\"playlistId\") long playlistId, Owner[] ownerData)", "modifiers": "@Override @POST @Path(\"/playlists/{playlistId}/owners\") @Consumes(MediaType.APPLICATION_JSON) public", "return": "Playlist", "signature": "Playlist addOwners(@PathParam(\"playlistId\") long playlistId, Owner[] ownerData)", "full_signature": "@Override @POST @Path(\"/playlists/{playlistId}/owners\") @Consumes(MediaType.APPLICATION_JSON) public Playlist addOwners(@PathParam(\"playlistId\") long playlistId, Owner[] ownerData)", "class_method_signature": "PlaylistService.addOwners(@PathParam(\"playlistId\") long playlistId, Owner[] ownerData)", "testcase": false, "constructor": false}, {"identifier": "deleteOwner", "parameters": "(@PathParam(\"playlistId\") long playlistId, @PathParam(\"ownerId\") long ownerId)", "modifiers": "@Override @DELETE @Path(\"/playlists/{playlistId}/owners/{ownerId}\") @Produces(MediaType.APPLICATION_JSON) public", "return": "Playlist", "signature": "Playlist deleteOwner(@PathParam(\"playlistId\") long playlistId, @PathParam(\"ownerId\") long ownerId)", "full_signature": "@Override @DELETE @Path(\"/playlists/{playlistId}/owners/{ownerId}\") @Produces(MediaType.APPLICATION_JSON) public Playlist deleteOwner(@PathParam(\"playlistId\") long playlistId, @PathParam(\"ownerId\") long ownerId)", "class_method_signature": "PlaylistService.deleteOwner(@PathParam(\"playlistId\") long playlistId, @PathParam(\"ownerId\") long ownerId)", "testcase": false, "constructor": false}], "file": "common/app/src/main/java/com/sap/primetime/api/PlaylistService.java"}, "focal_method": {"identifier": "movePage", "parameters": "(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@PathParam(\"pageReferenceId\") long pageReferenceId, @PathParam(\"idx\") int newPosition)", "modifiers": "@POST @Path(\"/playlists/{playlistId}/pagereferences/{pageReferenceId}/moveto/{idx}\") @Produces(MediaType.APPLICATION_JSON) public", "return": "Playlist", "body": "@POST\n\t@Path(\"/playlists/{playlistId}/pagereferences/{pageReferenceId}/moveto/{idx}\")\n\t@Produces(MediaType.APPLICATION_JSON)\n\tpublic Playlist movePage(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@PathParam(\"pageReferenceId\") long pageReferenceId, @PathParam(\"idx\") int newPosition) {\n\t\tPlaylist existingPlaylist = getExistingPlaylist(playlistId, true);\n\n\t\t// find current position\n\t\tint newIdx = -1;\n\t\tint oldIdx = -1;\n\t\tint oldPosition = -1;\n\t\tList<PageReference> pageReferences = existingPlaylist.getPageReferences();\n\t\tfor (int i = 0; i < pageReferences.size(); i++) {\n\t\t\tif (pageReferences.get(i).getId() == pageReferenceId) {\n\t\t\t\toldIdx = i;\n\t\t\t\toldPosition = pageReferences.get(i).getPosition();\n\t\t\t}\n\t\t\tif (pageReferences.get(i).getPosition() == newPosition) {\n\t\t\t\tnewIdx = i;\n\t\t\t}\n\t\t}\n\t\tif (oldIdx == newIdx) {\n\t\t\treturn existingPlaylist;\n\t\t}\n\t\tif (oldIdx == -1 || newIdx == -1) {\n\t\t\tthrowNotFound();\n\t\t}\n\n\t\t// create new list\n\t\tList<PageReference> newPageReferences = new ArrayList<>();\n\t\tif (oldPosition > newPosition) {\n\t\t\tif (newIdx > 0) {\n\t\t\t\tnewPageReferences.addAll(pageReferences.subList(0, newIdx));\n\t\t\t}\n\t\t\tnewPageReferences.add(pageReferences.get(oldIdx));\n\t\t\tpageReferences.remove(oldIdx);\n\t\t\tnewPageReferences.addAll(pageReferences.subList(newIdx, pageReferences.size()));\n\t\t} else {\n\t\t\tPageReference tmp = pageReferences.get(oldIdx);\n\t\t\tpageReferences.remove(oldIdx);\n\t\t\tif (newIdx > 0) {\n\t\t\t\tnewPageReferences.addAll(pageReferences.subList(0, newIdx));\n\t\t\t}\n\t\t\tnewPageReferences.add(tmp);\n\t\t\tnewPageReferences.addAll(pageReferences.subList(newIdx, pageReferences.size()));\n\t\t}\n\n\t\t// re-index list\n\t\tfor (int i = 0; i < newPageReferences.size(); i++) {\n\t\t\tnewPageReferences.get(i).setPosition(i);\n\t\t}\n\t\texistingPlaylist.setPageReferences(newPageReferences);\n\n\t\treturn PlaylistDAO.save(existingPlaylist);\n\t}", "signature": "Playlist movePage(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@PathParam(\"pageReferenceId\") long pageReferenceId, @PathParam(\"idx\") int newPosition)", "full_signature": "@POST @Path(\"/playlists/{playlistId}/pagereferences/{pageReferenceId}/moveto/{idx}\") @Produces(MediaType.APPLICATION_JSON) public Playlist movePage(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@PathParam(\"pageReferenceId\") long pageReferenceId, @PathParam(\"idx\") int newPosition)", "class_method_signature": "PlaylistService.movePage(@PathParam(\"playlistId\") long playlistId,\n\t\t\t@PathParam(\"pageReferenceId\") long pageReferenceId, @PathParam(\"idx\") int newPosition)", "testcase": false, "constructor": false, "invocations": ["getExistingPlaylist", "getPageReferences", "size", "getId", "get", "getPosition", "get", "getPosition", "get", "throwNotFound", "addAll", "subList", "add", "get", "remove", "addAll", "subList", "size", "get", "remove", "addAll", "subList", "add", "addAll", "subList", "size", "size", "setPosition", "get", "setPageReferences", "save"]}, "repository": {"repo_id": 172529766, "url": "https://github.com/SAP/cloud-primetime", "language": "Java", "is_fork": false, "fork_count": 2, "stargazer_count": 25, "size": 7529, "license": "licensed"}}