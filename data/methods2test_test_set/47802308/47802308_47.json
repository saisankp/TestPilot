{"test_class": {"identifier": "JavaScriptInvokerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private JavaScriptInvoker javaScriptInvoker = new JavaScriptInvoker();", "modifier": "private", "type": "JavaScriptInvoker", "declarator": "javaScriptInvoker = new JavaScriptInvoker()", "var_name": "javaScriptInvoker"}], "file": "core/modules/spring/src/test/java/org/onetwo/common/spring/utils/JavaScriptInvokerTest.java"}, "test_case": {"identifier": "testReturn", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testReturn(){\n\t\tAssertions.assertThatExceptionOfType(RuntimeException.class)\n\t\t\t\t\t.isThrownBy(()->{\n\t\t\t\t\t\tScriptEnginer enginer = this.javaScriptInvoker.createScriptEnginer()\n\t\t\t\t\t\t\t\t.evalClassPathFile(\"org/onetwo/common/spring/utils/test_return.js\");\n\t\t\t\t\t\tenginer.invokeFunc(\"funcAfterReturn\", new JsContext());\n\t\t\t\t\t})\n\t\t\t\t\t.withMessage(\"eval javascript error:%s\", \"org/onetwo/common/spring/utils/test_return.js\")\n\t\t\t\t\t;\n\t}", "signature": "void testReturn()", "full_signature": "@Test public void testReturn()", "class_method_signature": "JavaScriptInvokerTest.testReturn()", "testcase": true, "constructor": false, "invocations": ["withMessage", "isThrownBy", "assertThatExceptionOfType", "evalClassPathFile", "createScriptEnginer", "invokeFunc"]}, "focal_class": {"identifier": "JavaScriptInvoker", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String SCRIPT_ENGINE_NAME = \"nashorn\";", "modifier": "private static final", "type": "String", "declarator": "SCRIPT_ENGINE_NAME = \"nashorn\"", "var_name": "SCRIPT_ENGINE_NAME"}, {"original_string": "private final Logger logger = LoggerFactory.getLogger(this.getClass());", "modifier": "private final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(this.getClass())", "var_name": "logger"}, {"original_string": "private ScriptEngineManager scriptEngineManager;", "modifier": "private", "type": "ScriptEngineManager", "declarator": "scriptEngineManager", "var_name": "scriptEngineManager"}, {"original_string": "private Optional<Consumer<Throwable>> errorHandler = Optional.empty();", "modifier": "private", "type": "Optional<Consumer<Throwable>>", "declarator": "errorHandler = Optional.empty()", "var_name": "errorHandler"}], "methods": [{"identifier": "JavaScriptInvoker", "parameters": "()", "modifiers": "public", "return": "", "signature": " JavaScriptInvoker()", "full_signature": "public  JavaScriptInvoker()", "class_method_signature": "JavaScriptInvoker.JavaScriptInvoker()", "testcase": false, "constructor": true}, {"identifier": "createScriptEnginer", "parameters": "()", "modifiers": "public", "return": "ScriptEnginer", "signature": "ScriptEnginer createScriptEnginer()", "full_signature": "public ScriptEnginer createScriptEnginer()", "class_method_signature": "JavaScriptInvoker.createScriptEnginer()", "testcase": false, "constructor": false}, {"identifier": "whenError", "parameters": "(Consumer<Throwable> errorHandler)", "modifiers": "public", "return": "JavaScriptInvoker", "signature": "JavaScriptInvoker whenError(Consumer<Throwable> errorHandler)", "full_signature": "public JavaScriptInvoker whenError(Consumer<Throwable> errorHandler)", "class_method_signature": "JavaScriptInvoker.whenError(Consumer<Throwable> errorHandler)", "testcase": false, "constructor": false}, {"identifier": "eval", "parameters": "(String script, Object... args)", "modifiers": "public", "return": "T", "signature": "T eval(String script, Object... args)", "full_signature": "public T eval(String script, Object... args)", "class_method_signature": "JavaScriptInvoker.eval(String script, Object... args)", "testcase": false, "constructor": false}], "file": "core/modules/spring/src/main/java/org/onetwo/common/spring/utils/JavaScriptInvoker.java"}, "focal_method": {"identifier": "createScriptEnginer", "parameters": "()", "modifiers": "public", "return": "ScriptEnginer", "body": "public ScriptEnginer createScriptEnginer(){\n\t\treturn new ScriptEnginer();\n\t}", "signature": "ScriptEnginer createScriptEnginer()", "full_signature": "public ScriptEnginer createScriptEnginer()", "class_method_signature": "JavaScriptInvoker.createScriptEnginer()", "testcase": false, "constructor": false, "invocations": []}, "repository": {"repo_id": 47802308, "url": "https://github.com/wayshall/onetwo", "language": "Java", "is_fork": false, "fork_count": 10, "stargazer_count": 16, "size": 57582, "license": "licensed"}}