{"test_class": {"identifier": "ServletContextHelperTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private ServletContextImpl servletContext;", "modifier": "private", "type": "ServletContextImpl", "declarator": "servletContext", "var_name": "servletContext"}, {"original_string": "private ServletContextHelper servletContextHelper = new ServletContextHelper();", "modifier": "private", "type": "ServletContextHelper", "declarator": "servletContextHelper = new ServletContextHelper()", "var_name": "servletContextHelper"}], "file": "http/src/test/java/ro/polak/http/servlet/helper/ServletContextHelperTest.java"}, "test_case": {"identifier": "shouldReturnFilteredFiltersWithExclude", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void shouldReturnFilteredFiltersWithExclude() {\n        List<FilterMapping> filterMappings = new ArrayList<>();\n        filterMappings.add(new FilterMappingImpl(Pattern.compile(\"^/secured/.*$\"), null, FakeAbstractFilter.class));\n        filterMappings.add(new FilterMappingImpl(Pattern.compile(\"^/secured/abc.*$\"),\n                Pattern.compile(\"^/secured/abc/exclude.*$\"), FakeAbstractFilter.class));\n        filterMappings.add(new FilterMappingImpl(Pattern.compile(\"^/demo/.*$\"), null, FakeAbstractFilter.class));\n        when(servletContext.getFilterMappings()).thenReturn(filterMappings);\n        assertThat(servletContextHelper.getFilterMappingsForPath(servletContext, \"/context/secured/abc/excluded\"),\n                hasSize(1));\n    }", "signature": "void shouldReturnFilteredFiltersWithExclude()", "full_signature": "@Test public void shouldReturnFilteredFiltersWithExclude()", "class_method_signature": "ServletContextHelperTest.shouldReturnFilteredFiltersWithExclude()", "testcase": true, "constructor": false, "invocations": ["add", "compile", "add", "compile", "compile", "add", "compile", "thenReturn", "when", "getFilterMappings", "assertThat", "getFilterMappingsForPath", "hasSize"]}, "focal_class": {"identifier": "ServletContextHelper", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "getResolvedServletMapping", "parameters": "(final ServletContext servletContext, final String path)", "modifiers": "public", "return": "ServletMapping", "signature": "ServletMapping getResolvedServletMapping(final ServletContext servletContext, final String path)", "full_signature": "public ServletMapping getResolvedServletMapping(final ServletContext servletContext, final String path)", "class_method_signature": "ServletContextHelper.getResolvedServletMapping(final ServletContext servletContext, final String path)", "testcase": false, "constructor": false}, {"identifier": "getResolvedContext", "parameters": "(final List<ServletContextImpl> servletContexts, final String path)", "modifiers": "public", "return": "ServletContextImpl", "signature": "ServletContextImpl getResolvedContext(final List<ServletContextImpl> servletContexts, final String path)", "full_signature": "public ServletContextImpl getResolvedContext(final List<ServletContextImpl> servletContexts, final String path)", "class_method_signature": "ServletContextHelper.getResolvedContext(final List<ServletContextImpl> servletContexts, final String path)", "testcase": false, "constructor": false}, {"identifier": "getFilterMappingsForPath", "parameters": "(final ServletContext servletContext, final String path)", "modifiers": "public", "return": "List<FilterMapping>", "signature": "List<FilterMapping> getFilterMappingsForPath(final ServletContext servletContext, final String path)", "full_signature": "public List<FilterMapping> getFilterMappingsForPath(final ServletContext servletContext, final String path)", "class_method_signature": "ServletContextHelper.getFilterMappingsForPath(final ServletContext servletContext, final String path)", "testcase": false, "constructor": false}, {"identifier": "getPathInContext", "parameters": "(final ServletContext servletContext, final String path)", "modifiers": "private", "return": "String", "signature": "String getPathInContext(final ServletContext servletContext, final String path)", "full_signature": "private String getPathInContext(final ServletContext servletContext, final String path)", "class_method_signature": "ServletContextHelper.getPathInContext(final ServletContext servletContext, final String path)", "testcase": false, "constructor": false}], "file": "http/src/main/java/ro/polak/http/servlet/helper/ServletContextHelper.java"}, "focal_method": {"identifier": "getFilterMappingsForPath", "parameters": "(final ServletContext servletContext, final String path)", "modifiers": "public", "return": "List<FilterMapping>", "body": "public List<FilterMapping> getFilterMappingsForPath(final ServletContext servletContext, final String path) {\n        Objects.requireNonNull(servletContext);\n        String inContextPath = getPathInContext(servletContext, path);\n\n        List<FilterMapping> filterMappings = new ArrayList<>();\n        for (FilterMapping filterMapping : servletContext.getFilterMappings()) {\n            if (filterMapping.getUrlPattern().matcher(inContextPath).matches()) {\n                if (filterMapping.getUrlExcludePattern() != null) {\n                    if (!filterMapping.getUrlExcludePattern().matcher(inContextPath).matches()) {\n                        filterMappings.add(filterMapping);\n                    }\n                } else {\n                    filterMappings.add(filterMapping);\n                }\n            }\n        }\n\n        return filterMappings;\n    }", "signature": "List<FilterMapping> getFilterMappingsForPath(final ServletContext servletContext, final String path)", "full_signature": "public List<FilterMapping> getFilterMappingsForPath(final ServletContext servletContext, final String path)", "class_method_signature": "ServletContextHelper.getFilterMappingsForPath(final ServletContext servletContext, final String path)", "testcase": false, "constructor": false, "invocations": ["requireNonNull", "getPathInContext", "getFilterMappings", "matches", "matcher", "getUrlPattern", "getUrlExcludePattern", "matches", "matcher", "getUrlExcludePattern", "add", "add"]}, "repository": {"repo_id": 42557838, "url": "https://github.com/piotrpolak/android-http-server", "language": "Java", "is_fork": false, "fork_count": 41, "stargazer_count": 136, "size": 2000, "license": "licensed"}}