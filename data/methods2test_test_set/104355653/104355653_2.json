{"test_class": {"identifier": "OrderControllerTest", "superclass": "extends BaseTest", "interfaces": "", "fields": [], "file": "service/settlement-service/src/test/java/com/meiduimall/service/settlement/api/OrderControllerTest.java"}, "test_case": {"identifier": "testSyncVerifyStatus", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testSyncVerifyStatus() throws Exception {\n\t\tResultActions results = mockMvc\n\t\t\t\t.perform(MockMvcRequestBuilders.post(\"/settlementservice/orderservice/v1/syncverifystatus\")\n\t\t\t\t\t\t.param(\"orderSn\", \"D4405110000011704060002\").param(\"verifyStatus\", \"1\")\n\t\t\t\t\t\t.param(\"verifyTime\", \"1484192393\").param(\"verifyName\", \"admin\"))\n\t\t\t\t.andExpect(status().isOk());\n\t\t\n\t\tresults.andDo(new ResultHandler() {\n\t\t\t@Override\n\t\t\tpublic void handle(MvcResult result) throws Exception {\n\t\t\t\tSystem.out.println(\"*********\"+result.getResponse().getContentAsString());\n\t\t\t}\n\t\t});\n\t}", "signature": "void testSyncVerifyStatus()", "full_signature": "@Test public void testSyncVerifyStatus()", "class_method_signature": "OrderControllerTest.testSyncVerifyStatus()", "testcase": true, "constructor": false, "invocations": ["andExpect", "perform", "param", "param", "param", "param", "post", "isOk", "status", "andDo", "println", "getContentAsString", "getResponse"]}, "focal_class": {"identifier": "OrderController", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger log = LoggerFactory.getLogger(OrderController.class);", "modifier": "private static final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(OrderController.class)", "var_name": "log"}, {"original_string": "@Autowired\n\tprivate OrderService orderService;", "modifier": "@Autowired\n\tprivate", "type": "OrderService", "declarator": "orderService", "var_name": "orderService"}, {"original_string": "@Autowired\n\tprivate AsyncTaskService asyncTaskService;", "modifier": "@Autowired\n\tprivate", "type": "AsyncTaskService", "declarator": "asyncTaskService", "var_name": "asyncTaskService"}], "methods": [{"identifier": "shareProfit", "parameters": "(@Validated EcmOrder ecmOrder)", "modifiers": "@PostMapping(\"/shareprofit\") public", "return": "ResBodyData", "signature": "ResBodyData shareProfit(@Validated EcmOrder ecmOrder)", "full_signature": "@PostMapping(\"/shareprofit\") public ResBodyData shareProfit(@Validated EcmOrder ecmOrder)", "class_method_signature": "OrderController.shareProfit(@Validated EcmOrder ecmOrder)", "testcase": false, "constructor": false}, {"identifier": "queryOrderStatus", "parameters": "(String[] orderSns)", "modifiers": "@PostMapping(value=\"/queryorderstatus\") public", "return": "ResBodyData", "signature": "ResBodyData queryOrderStatus(String[] orderSns)", "full_signature": "@PostMapping(value=\"/queryorderstatus\") public ResBodyData queryOrderStatus(String[] orderSns)", "class_method_signature": "OrderController.queryOrderStatus(String[] orderSns)", "testcase": false, "constructor": false}, {"identifier": "syncVerifyStatus", "parameters": "(@Validated EcmMzfOrderStatus orderStatus)", "modifiers": "@PostMapping(value=\"/syncverifystatus\") public", "return": "ResBodyData", "signature": "ResBodyData syncVerifyStatus(@Validated EcmMzfOrderStatus orderStatus)", "full_signature": "@PostMapping(value=\"/syncverifystatus\") public ResBodyData syncVerifyStatus(@Validated EcmMzfOrderStatus orderStatus)", "class_method_signature": "OrderController.syncVerifyStatus(@Validated EcmMzfOrderStatus orderStatus)", "testcase": false, "constructor": false}, {"identifier": "queryShareProfit", "parameters": "(String[] orderSns)", "modifiers": "@PostMapping(\"/queryshareprofit\") public", "return": "ResBodyData", "signature": "ResBodyData queryShareProfit(String[] orderSns)", "full_signature": "@PostMapping(\"/queryshareprofit\") public ResBodyData queryShareProfit(String[] orderSns)", "class_method_signature": "OrderController.queryShareProfit(String[] orderSns)", "testcase": false, "constructor": false}, {"identifier": "queryProfitByRole", "parameters": "(String code,Integer accountRoleType)", "modifiers": "@PostMapping(\"/queryprofitbyrole\") public", "return": "ResBodyData", "signature": "ResBodyData queryProfitByRole(String code,Integer accountRoleType)", "full_signature": "@PostMapping(\"/queryprofitbyrole\") public ResBodyData queryProfitByRole(String code,Integer accountRoleType)", "class_method_signature": "OrderController.queryProfitByRole(String code,Integer accountRoleType)", "testcase": false, "constructor": false}, {"identifier": "queryTotalProfit", "parameters": "(String[] codes,Integer billStartDate,Integer billEndDate)", "modifiers": "@PostMapping(\"/querytotalprofit\") public", "return": "ResBodyData", "signature": "ResBodyData queryTotalProfit(String[] codes,Integer billStartDate,Integer billEndDate)", "full_signature": "@PostMapping(\"/querytotalprofit\") public ResBodyData queryTotalProfit(String[] codes,Integer billStartDate,Integer billEndDate)", "class_method_signature": "OrderController.queryTotalProfit(String[] codes,Integer billStartDate,Integer billEndDate)", "testcase": false, "constructor": false}], "file": "service/settlement-service/src/main/java/com/meiduimall/service/settlement/api/OrderController.java"}, "focal_method": {"identifier": "syncVerifyStatus", "parameters": "(@Validated EcmMzfOrderStatus orderStatus)", "modifiers": "@PostMapping(value=\"/syncverifystatus\") public", "return": "ResBodyData", "body": "@PostMapping(value=\"/syncverifystatus\")\n\tpublic ResBodyData syncVerifyStatus(@Validated EcmMzfOrderStatus orderStatus) {\n\t\tlog.info(\"syncVerifyStatus() in the OrderController start--\");\n\t\t\n\t\tint statusCode=ShareProfitConstants.RESPONSE_STATUS_CODE_SUCCESS;\n\n\t\tboolean isSuccess=true;\n\t\tString msg=\"\u540c\u6b65\u8ba2\u5355\u5ba1\u6838\u72b6\u6001\u6570\u636e\u5230\u7ed3\u7b97\u7cfb\u7edf\u6210\u529f!\";\n\t\ttry {\n\t\t\tisSuccess = orderService.syncVerifyStatus(orderStatus);\n\t\t} catch (Exception e) {\n\t\t\tisSuccess=false;\n\t\t\tlog.error(\"\u540c\u6b65\u8ba2\u5355\u5ba1\u6838\u72b6\u6001\u63a5\u53e3 \u51fa\u9519\uff0corderService.syncVerifyStatus() for orderSn:{} got error:{}\",orderStatus.getOrderSn(),e.getMessage(),e);\n\t\t}\n\t\t\n\t\tif(!isSuccess){\n\t\t\tmsg=\"\u540c\u6b65\u8ba2\u5355\u5ba1\u6838\u72b6\u6001\u6570\u636e\u5230\u7ed3\u7b97\u7cfb\u7edf\u5931\u8d25!\";\n\t\t\tstatusCode=ShareProfitConstants.RESPONSE_STATUS_CODE_FAILURE;\n\t\t\tlog.info(msg);\n\t\t}\n\t\t\t\n\t\treturn SettlementUtil.buildReponseData(\"\", statusCode, msg);\n\t\t\n\t}", "signature": "ResBodyData syncVerifyStatus(@Validated EcmMzfOrderStatus orderStatus)", "full_signature": "@PostMapping(value=\"/syncverifystatus\") public ResBodyData syncVerifyStatus(@Validated EcmMzfOrderStatus orderStatus)", "class_method_signature": "OrderController.syncVerifyStatus(@Validated EcmMzfOrderStatus orderStatus)", "testcase": false, "constructor": false, "invocations": ["info", "syncVerifyStatus", "error", "),e);", "", "info", "buildReponseData"]}, "repository": {"repo_id": 104355653, "url": "https://github.com/chenjy16/mall", "language": "Java", "is_fork": false, "fork_count": 4, "stargazer_count": 5, "size": 403, "license": "licensed"}}