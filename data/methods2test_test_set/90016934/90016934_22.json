{"test_class": {"identifier": "TestProductCartDao", "superclass": "extends TestAbstractHibernateDao<ProductCart, String>", "interfaces": "", "fields": [{"original_string": "@Autowired\n   private ProductCartDao dao;", "modifier": "@Autowired\n   private", "type": "ProductCartDao", "declarator": "dao", "var_name": "dao"}, {"original_string": "@Autowired\n   private ProductDao pdao;", "modifier": "@Autowired\n   private", "type": "ProductDao", "declarator": "pdao", "var_name": "pdao"}, {"original_string": "@Autowired\n   private UserDao udao;", "modifier": "@Autowired\n   private", "type": "UserDao", "declarator": "udao", "var_name": "udao"}], "file": "core/src/test/java/fr/gael/dhus/database/dao/TestProductCartDao.java"}, "test_case": {"identifier": "getCartOfUser", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n   public void getCartOfUser()\n   {\n      User user = udao.read(\"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa3\");\n      ProductCart cart = dao.getCartOfUser(user);\n      assertNotNull(cart);\n      assertEquals(cart.getUUID(), \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1\");\n      assertEquals(cart.getUser(), user, \"User not owner of the found cart.\");\n\n      // No cart attached to User #1\n      user = udao.read(\"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1\");\n      cart = dao.getCartOfUser(user);\n      assertNull(cart);\n\n      // User #2 has 2 carts\n      user = udao.read(\"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa2\");\n      cart = dao.getCartOfUser(user);\n      assertNotNull(cart);\n   }", "signature": "void getCartOfUser()", "full_signature": "@Test public void getCartOfUser()", "class_method_signature": "TestProductCartDao.getCartOfUser()", "testcase": true, "constructor": false, "invocations": ["read", "getCartOfUser", "assertNotNull", "assertEquals", "getUUID", "assertEquals", "getUser", "read", "getCartOfUser", "assertNull", "read", "getCartOfUser", "assertNotNull"]}, "focal_class": {"identifier": "ProductCartDao", "superclass": "extends HibernateDao<ProductCart, String>", "interfaces": "", "fields": [{"original_string": "@Autowired\n   private ConfigurationManager conf;", "modifier": "@Autowired\n   private", "type": "ConfigurationManager", "declarator": "conf", "var_name": "conf"}], "methods": [{"identifier": "getCartOfUser", "parameters": "(final User user)", "modifiers": "@SuppressWarnings(\"unchecked\") public", "return": "ProductCart", "signature": "ProductCart getCartOfUser(final User user)", "full_signature": "@SuppressWarnings(\"unchecked\") public ProductCart getCartOfUser(final User user)", "class_method_signature": "ProductCartDao.getCartOfUser(final User user)", "testcase": false, "constructor": false}, {"identifier": "deleteCartOfUser", "parameters": "(User user)", "modifiers": "public", "return": "void", "signature": "void deleteCartOfUser(User user)", "full_signature": "public void deleteCartOfUser(User user)", "class_method_signature": "ProductCartDao.deleteCartOfUser(User user)", "testcase": false, "constructor": false}, {"identifier": "deleteProductReferences", "parameters": "(final Product product)", "modifiers": "public", "return": "void", "signature": "void deleteProductReferences(final Product product)", "full_signature": "public void deleteProductReferences(final Product product)", "class_method_signature": "ProductCartDao.deleteProductReferences(final Product product)", "testcase": false, "constructor": false}, {"identifier": "scrollCartOfUser", "parameters": "(final User user, final int skip, final int top)", "modifiers": "public", "return": "List<Product>", "signature": "List<Product> scrollCartOfUser(final User user, final int skip, final int top)", "full_signature": "public List<Product> scrollCartOfUser(final User user, final int skip, final int top)", "class_method_signature": "ProductCartDao.scrollCartOfUser(final User user, final int skip, final int top)", "testcase": false, "constructor": false}, {"identifier": "setToLimitedList", "parameters": "(Set<Product> input, int skip, int n)", "modifiers": "private", "return": "List<Product>", "signature": "List<Product> setToLimitedList(Set<Product> input, int skip, int n)", "full_signature": "private List<Product> setToLimitedList(Set<Product> input, int skip, int n)", "class_method_signature": "ProductCartDao.setToLimitedList(Set<Product> input, int skip, int n)", "testcase": false, "constructor": false}, {"identifier": "getProductsIdOfCart", "parameters": "(User user)", "modifiers": "public", "return": "List<Long>", "signature": "List<Long> getProductsIdOfCart(User user)", "full_signature": "public List<Long> getProductsIdOfCart(User user)", "class_method_signature": "ProductCartDao.getProductsIdOfCart(User user)", "testcase": false, "constructor": false}, {"identifier": "toId", "parameters": "(List<Product> products)", "modifiers": "private", "return": "List<Long>", "signature": "List<Long> toId(List<Product> products)", "full_signature": "private List<Long> toId(List<Product> products)", "class_method_signature": "ProductCartDao.toId(List<Product> products)", "testcase": false, "constructor": false}], "file": "core/src/main/java/fr/gael/dhus/database/dao/ProductCartDao.java"}, "focal_method": {"identifier": "getCartOfUser", "parameters": "(final User user)", "modifiers": "@SuppressWarnings(\"unchecked\") public", "return": "ProductCart", "body": "@SuppressWarnings(\"unchecked\")\n   public ProductCart getCartOfUser(final User user)\n   {\n      List<ProductCart> result =\n            (List<ProductCart>) getHibernateTemplate().find(\"from ProductCart where user=?\", user);\n      return (result.isEmpty()) ? null : result.get(0);\n   }", "signature": "ProductCart getCartOfUser(final User user)", "full_signature": "@SuppressWarnings(\"unchecked\") public ProductCart getCartOfUser(final User user)", "class_method_signature": "ProductCartDao.getCartOfUser(final User user)", "testcase": false, "constructor": false, "invocations": ["find", "getHibernateTemplate", "isEmpty", "get"]}, "repository": {"repo_id": 90016934, "url": "https://github.com/SentinelDataHub/dhus-core", "language": "Java", "is_fork": false, "fork_count": 9, "stargazer_count": 5, "size": 2371, "license": "licensed"}}