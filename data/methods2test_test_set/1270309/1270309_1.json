{"test_class": {"identifier": "VOIUtilsTest", "superclass": "", "interfaces": "", "fields": [], "file": "apps/dcm4che/dcm4che-2.0.25-src/dcm4che-image/src/test/java/org/dcm4che2/image/VOIUtilsTest.java"}, "test_case": {"identifier": "testSelectVOIObjectShouldReturnNullIfWindowWidthWithoutCenter", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testSelectVOIObjectShouldReturnNullIfWindowWidthWithoutCenter() {\n        DicomObject obj = new BasicDicomObject();\n        obj.putFloat(Tag.WindowWidth, VR.DS, 10.0f);\n\n        assertNull(VOIUtils.selectVoiObject(obj, null, 1));\n    }", "signature": "void testSelectVOIObjectShouldReturnNullIfWindowWidthWithoutCenter()", "full_signature": "@Test public void testSelectVOIObjectShouldReturnNullIfWindowWidthWithoutCenter()", "class_method_signature": "VOIUtilsTest.testSelectVOIObjectShouldReturnNullIfWindowWidthWithoutCenter()", "testcase": true, "constructor": false, "invocations": ["putFloat", "assertNull", "selectVoiObject"]}, "focal_class": {"identifier": "VOIUtils", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger log = LoggerFactory.getLogger(VOIUtils.class);", "modifier": "private static final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(VOIUtils.class)", "var_name": "log"}], "methods": [{"identifier": "containsVOIAttributes", "parameters": "(DicomObject dobj)", "modifiers": "public static", "return": "boolean", "signature": "boolean containsVOIAttributes(DicomObject dobj)", "full_signature": "public static boolean containsVOIAttributes(DicomObject dobj)", "class_method_signature": "VOIUtils.containsVOIAttributes(DicomObject dobj)", "testcase": false, "constructor": false}, {"identifier": "getLUT", "parameters": "(DicomObject dobj, int sqTag)", "modifiers": "public static", "return": "DicomObject", "signature": "DicomObject getLUT(DicomObject dobj, int sqTag)", "full_signature": "public static DicomObject getLUT(DicomObject dobj, int sqTag)", "class_method_signature": "VOIUtils.getLUT(DicomObject dobj, int sqTag)", "testcase": false, "constructor": false}, {"identifier": "isModalityLUTcontainsPixelIntensityRelationshipLUT", "parameters": "(\n            DicomObject img)", "modifiers": "public static", "return": "boolean", "signature": "boolean isModalityLUTcontainsPixelIntensityRelationshipLUT(\n            DicomObject img)", "full_signature": "public static boolean isModalityLUTcontainsPixelIntensityRelationshipLUT(\n            DicomObject img)", "class_method_signature": "VOIUtils.isModalityLUTcontainsPixelIntensityRelationshipLUT(\n            DicomObject img)", "testcase": false, "constructor": false}, {"identifier": "isModalityLUTcontainsPixelIntensityRelationshipLUT", "parameters": "(\n            String uid)", "modifiers": "public static", "return": "boolean", "signature": "boolean isModalityLUTcontainsPixelIntensityRelationshipLUT(\n            String uid)", "full_signature": "public static boolean isModalityLUTcontainsPixelIntensityRelationshipLUT(\n            String uid)", "class_method_signature": "VOIUtils.isModalityLUTcontainsPixelIntensityRelationshipLUT(\n            String uid)", "testcase": false, "constructor": false}, {"identifier": "selectModalityLUTObject", "parameters": "(DicomObject img,\n            DicomObject pr, int frame)", "modifiers": "public static", "return": "DicomObject", "signature": "DicomObject selectModalityLUTObject(DicomObject img,\n            DicomObject pr, int frame)", "full_signature": "public static DicomObject selectModalityLUTObject(DicomObject img,\n            DicomObject pr, int frame)", "class_method_signature": "VOIUtils.selectModalityLUTObject(DicomObject img,\n            DicomObject pr, int frame)", "testcase": false, "constructor": false}, {"identifier": "selectVoiObject", "parameters": "(DicomObject img, DicomObject pr, int frame)", "modifiers": "public static", "return": "DicomObject", "signature": "DicomObject selectVoiObject(DicomObject img, DicomObject pr, int frame)", "full_signature": "public static DicomObject selectVoiObject(DicomObject img, DicomObject pr, int frame)", "class_method_signature": "VOIUtils.selectVoiObject(DicomObject img, DicomObject pr, int frame)", "testcase": false, "constructor": false}, {"identifier": "selectVoiItemFromPr", "parameters": "(String iuid, DicomObject pr,\n            int frame)", "modifiers": "public static", "return": "DicomObject", "signature": "DicomObject selectVoiItemFromPr(String iuid, DicomObject pr,\n            int frame)", "full_signature": "public static DicomObject selectVoiItemFromPr(String iuid, DicomObject pr,\n            int frame)", "class_method_signature": "VOIUtils.selectVoiItemFromPr(String iuid, DicomObject pr,\n            int frame)", "testcase": false, "constructor": false}, {"identifier": "getMinMaxWindowCenterWidth", "parameters": "(DicomObject img,\n            DicomObject pr, int frame, Raster raster)", "modifiers": "public static", "return": "float[]", "signature": "float[] getMinMaxWindowCenterWidth(DicomObject img,\n            DicomObject pr, int frame, Raster raster)", "full_signature": "public static float[] getMinMaxWindowCenterWidth(DicomObject img,\n            DicomObject pr, int frame, Raster raster)", "class_method_signature": "VOIUtils.getMinMaxWindowCenterWidth(DicomObject img,\n            DicomObject pr, int frame, Raster raster)", "testcase": false, "constructor": false}, {"identifier": "calcMinMax", "parameters": "(DicomObject img, Raster raster)", "modifiers": "public static", "return": "int[]", "signature": "int[] calcMinMax(DicomObject img, Raster raster)", "full_signature": "public static int[] calcMinMax(DicomObject img, Raster raster)", "class_method_signature": "VOIUtils.calcMinMax(DicomObject img, Raster raster)", "testcase": false, "constructor": false}, {"identifier": "calcMinMax", "parameters": "(int signbit, int mask, int w, int h,\n            int scanlineStride, short[] data, int paddingMin, int paddingMax)", "modifiers": "static", "return": "int[]", "signature": "int[] calcMinMax(int signbit, int mask, int w, int h,\n            int scanlineStride, short[] data, int paddingMin, int paddingMax)", "full_signature": "static int[] calcMinMax(int signbit, int mask, int w, int h,\n            int scanlineStride, short[] data, int paddingMin, int paddingMax)", "class_method_signature": "VOIUtils.calcMinMax(int signbit, int mask, int w, int h,\n            int scanlineStride, short[] data, int paddingMin, int paddingMax)", "testcase": false, "constructor": false}, {"identifier": "calcMinMax", "parameters": "(int signbit, int mask, int w, int h,\n            int scanlineStride, byte[] data, int paddingMin, int paddingMax)", "modifiers": "static", "return": "int[]", "signature": "int[] calcMinMax(int signbit, int mask, int w, int h,\n            int scanlineStride, byte[] data, int paddingMin, int paddingMax)", "full_signature": "static int[] calcMinMax(int signbit, int mask, int w, int h,\n            int scanlineStride, byte[] data, int paddingMin, int paddingMax)", "class_method_signature": "VOIUtils.calcMinMax(int signbit, int mask, int w, int h,\n            int scanlineStride, byte[] data, int paddingMin, int paddingMax)", "testcase": false, "constructor": false}, {"identifier": "calcMinMax", "parameters": "(DicomObject lut)", "modifiers": "static", "return": "int[]", "signature": "int[] calcMinMax(DicomObject lut)", "full_signature": "static int[] calcMinMax(DicomObject lut)", "class_method_signature": "VOIUtils.calcMinMax(DicomObject lut)", "testcase": false, "constructor": false}], "file": "apps/dcm4che/dcm4che-2.0.25-src/dcm4che-image/src/main/java/org/dcm4che2/image/VOIUtils.java"}, "focal_method": {"identifier": "selectVoiObject", "parameters": "(DicomObject img, DicomObject pr, int frame)", "modifiers": "public static", "return": "DicomObject", "body": "public static DicomObject selectVoiObject(DicomObject img, DicomObject pr, int frame) {\n        String iuid = img.getString(Tag.SOPInstanceUID);\n        DicomObject voi = selectVoiItemFromPr(iuid, pr, frame);\n        if (voi != null) {\n            return voi;\n        }\n        if (pr != null) {\n            return pr;\n        }\n\n        DicomElement framed = img.get(Tag.PerFrameFunctionalGroupsSequence);\n        if (framed != null) {\n            int size = framed.countItems();\n            if (frame >= 1 && frame <= size) {\n                DicomObject frameObj = framed.getDicomObject(frame - 1);\n                if (frameObj != null) {\n                    DicomObject voiObj = frameObj.getNestedDicomObject(Tag.FrameVOILUTSequence);\n                    if (voiObj != null && containsVOIAttributes(voiObj)) {\n                        return voiObj;\n                    }\n                }\n            }\n        }\n        DicomObject shared = img.getNestedDicomObject(Tag.SharedFunctionalGroupsSequence);\n        if (shared != null) {\n            DicomObject voiObj = shared.getNestedDicomObject(Tag.FrameVOILUTSequence);\n            if (voiObj != null && containsVOIAttributes(voiObj)) {\n                return voiObj;\n            }\n        }\n        if (containsVOIAttributes(img))\n            return img;\n        return null;\n    }", "signature": "DicomObject selectVoiObject(DicomObject img, DicomObject pr, int frame)", "full_signature": "public static DicomObject selectVoiObject(DicomObject img, DicomObject pr, int frame)", "class_method_signature": "VOIUtils.selectVoiObject(DicomObject img, DicomObject pr, int frame)", "testcase": false, "constructor": false, "invocations": ["getString", "selectVoiItemFromPr", "get", "countItems", "getDicomObject", "getNestedDicomObject", "containsVOIAttributes", "getNestedDicomObject", "getNestedDicomObject", "containsVOIAttributes", "containsVOIAttributes"]}, "repository": {"repo_id": 1270309, "url": "https://github.com/curasystems/externals", "language": "Java", "is_fork": false, "fork_count": 3, "stargazer_count": 5, "size": 87603, "license": "licensed"}}