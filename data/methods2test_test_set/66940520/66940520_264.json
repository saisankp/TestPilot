{"test_class": {"identifier": "JpaQueryUtilsTest", "superclass": "", "interfaces": "", "fields": [], "file": "dhis-2/dhis-services/dhis-service-core/src/test/java/org/hisp/dhis/query/JpaQueryUtilsTest.java"}, "test_case": {"identifier": "createOrderExpressionSingle", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void createOrderExpressionSingle()\n    {\n        final Property property1 = new Property();\n        property1.setName( \"value1\" );\n        property1.setSimple( true );\n        property1.setPersisted( true );\n\n        Assert.assertEquals( \"value1 asc\", JpaQueryUtils.createOrderExpression( Collections.singletonList( new Order( property1, Direction.ASCENDING ) ), null ) );\n    }", "signature": "void createOrderExpressionSingle()", "full_signature": "@Test public void createOrderExpressionSingle()", "class_method_signature": "JpaQueryUtilsTest.createOrderExpressionSingle()", "testcase": true, "constructor": false, "invocations": ["setName", "setSimple", "setPersisted", "assertEquals", "createOrderExpression", "singletonList"]}, "focal_class": {"identifier": "JpaQueryUtils", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final String HIBERNATE_CACHEABLE_HINT = \"org.hibernate.cacheable\";", "modifier": "public static final", "type": "String", "declarator": "HIBERNATE_CACHEABLE_HINT = \"org.hibernate.cacheable\"", "var_name": "HIBERNATE_CACHEABLE_HINT"}], "methods": [{"identifier": "getOrders", "parameters": "( CriteriaBuilder builder, String field )", "modifiers": "public static", "return": "Function<Root<?>, Order>", "signature": "Function<Root<?>, Order> getOrders( CriteriaBuilder builder, String field )", "full_signature": "public static Function<Root<?>, Order> getOrders( CriteriaBuilder builder, String field )", "class_method_signature": "JpaQueryUtils.getOrders( CriteriaBuilder builder, String field )", "testcase": false, "constructor": false}, {"identifier": "stringPredicateCaseSensitive", "parameters": "( CriteriaBuilder builder,\n        Expression<String> expressionPath, Object objectValue, StringSearchMode searchMode )", "modifiers": "public static", "return": "Predicate", "signature": "Predicate stringPredicateCaseSensitive( CriteriaBuilder builder,\n        Expression<String> expressionPath, Object objectValue, StringSearchMode searchMode )", "full_signature": "public static Predicate stringPredicateCaseSensitive( CriteriaBuilder builder,\n        Expression<String> expressionPath, Object objectValue, StringSearchMode searchMode )", "class_method_signature": "JpaQueryUtils.stringPredicateCaseSensitive( CriteriaBuilder builder,\n        Expression<String> expressionPath, Object objectValue, StringSearchMode searchMode )", "testcase": false, "constructor": false}, {"identifier": "stringPredicateIgnoreCase", "parameters": "( CriteriaBuilder builder,\n        Expression<String> expressionPath, Object objectValue, StringSearchMode searchMode )", "modifiers": "public static", "return": "Predicate", "signature": "Predicate stringPredicateIgnoreCase( CriteriaBuilder builder,\n        Expression<String> expressionPath, Object objectValue, StringSearchMode searchMode )", "full_signature": "public static Predicate stringPredicateIgnoreCase( CriteriaBuilder builder,\n        Expression<String> expressionPath, Object objectValue, StringSearchMode searchMode )", "class_method_signature": "JpaQueryUtils.stringPredicateIgnoreCase( CriteriaBuilder builder,\n        Expression<String> expressionPath, Object objectValue, StringSearchMode searchMode )", "testcase": false, "constructor": false}, {"identifier": "stringPredicate", "parameters": "( CriteriaBuilder builder,\n        Expression<String> expressionPath, Object objectValue, StringSearchMode searchMode, boolean caseSesnitive )", "modifiers": "private static", "return": "Predicate", "signature": "Predicate stringPredicate( CriteriaBuilder builder,\n        Expression<String> expressionPath, Object objectValue, StringSearchMode searchMode, boolean caseSesnitive )", "full_signature": "private static Predicate stringPredicate( CriteriaBuilder builder,\n        Expression<String> expressionPath, Object objectValue, StringSearchMode searchMode, boolean caseSesnitive )", "class_method_signature": "JpaQueryUtils.stringPredicate( CriteriaBuilder builder,\n        Expression<String> expressionPath, Object objectValue, StringSearchMode searchMode, boolean caseSesnitive )", "testcase": false, "constructor": false}, {"identifier": "getPredicate", "parameters": "( CriteriaBuilder builder, Property property, Path<?> path, String operator, String value )", "modifiers": "public static", "return": "Predicate", "signature": "Predicate getPredicate( CriteriaBuilder builder, Property property, Path<?> path, String operator, String value )", "full_signature": "public static Predicate getPredicate( CriteriaBuilder builder, Property property, Path<?> path, String operator, String value )", "class_method_signature": "JpaQueryUtils.getPredicate( CriteriaBuilder builder, Property property, Path<?> path, String operator, String value )", "testcase": false, "constructor": false}, {"identifier": "createOrderExpression", "parameters": "( @Nullable List<org.hisp.dhis.query.Order> orders, @Nullable String alias )", "modifiers": "@Nullable public static", "return": "String", "signature": "String createOrderExpression( @Nullable List<org.hisp.dhis.query.Order> orders, @Nullable String alias )", "full_signature": "@Nullable public static String createOrderExpression( @Nullable List<org.hisp.dhis.query.Order> orders, @Nullable String alias )", "class_method_signature": "JpaQueryUtils.createOrderExpression( @Nullable List<org.hisp.dhis.query.Order> orders, @Nullable String alias )", "testcase": false, "constructor": false}, {"identifier": "createSelectOrderExpression", "parameters": "( @Nullable List<org.hisp.dhis.query.Order> orders, @Nullable String alias )", "modifiers": "@Nullable public static", "return": "String", "signature": "String createSelectOrderExpression( @Nullable List<org.hisp.dhis.query.Order> orders, @Nullable String alias )", "full_signature": "@Nullable public static String createSelectOrderExpression( @Nullable List<org.hisp.dhis.query.Order> orders, @Nullable String alias )", "class_method_signature": "JpaQueryUtils.createSelectOrderExpression( @Nullable List<org.hisp.dhis.query.Order> orders, @Nullable String alias )", "testcase": false, "constructor": false}, {"identifier": "isIgnoreCase", "parameters": "( org.hisp.dhis.query.Order o )", "modifiers": "private static", "return": "boolean", "signature": "boolean isIgnoreCase( org.hisp.dhis.query.Order o )", "full_signature": "private static boolean isIgnoreCase( org.hisp.dhis.query.Order o )", "class_method_signature": "JpaQueryUtils.isIgnoreCase( org.hisp.dhis.query.Order o )", "testcase": false, "constructor": false}], "file": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/query/JpaQueryUtils.java"}, "focal_method": {"identifier": "createOrderExpression", "parameters": "( @Nullable List<org.hisp.dhis.query.Order> orders, @Nullable String alias )", "modifiers": "@Nullable public static", "return": "String", "body": "@Nullable\n    public static String createOrderExpression( @Nullable List<org.hisp.dhis.query.Order> orders, @Nullable String alias )\n    {\n        if ( orders == null )\n        {\n            return null;\n        }\n\n        return StringUtils.defaultIfEmpty( orders.stream().filter( org.hisp.dhis.query.Order::isPersisted ).map( o -> {\n            final StringBuilder sb = new StringBuilder();\n            final boolean ignoreCase = isIgnoreCase( o );\n\n            if ( ignoreCase )\n            {\n                sb.append( \"lower(\" );\n            }\n\n            if ( alias != null )\n            {\n                sb.append( alias ).append( '.' );\n            }\n\n            sb.append( o.getProperty().getName() );\n\n            if ( ignoreCase )\n            {\n                sb.append( \")\" );\n            }\n\n            sb.append( ' ' );\n            sb.append( o.isAscending() ? \"asc\" : \"desc\" );\n\n            return sb.toString();\n        } ).collect( Collectors.joining( \",\" ) ), null );\n    }", "signature": "String createOrderExpression( @Nullable List<org.hisp.dhis.query.Order> orders, @Nullable String alias )", "full_signature": "@Nullable public static String createOrderExpression( @Nullable List<org.hisp.dhis.query.Order> orders, @Nullable String alias )", "class_method_signature": "JpaQueryUtils.createOrderExpression( @Nullable List<org.hisp.dhis.query.Order> orders, @Nullable String alias )", "testcase": false, "constructor": false, "invocations": ["defaultIfEmpty", "collect", "map", "filter", "stream", "isIgnoreCase", "append", "append", "append", "append", "getName", "getProperty", "append", "append", "append", "isAscending", "toString", "joining"]}, "repository": {"repo_id": 66940520, "url": "https://github.com/dhis2/dhis2-core", "stars": 151, "created": "8/30/2016 12:57:05 PM +00:00", "updates": "2020-01-24T18:06:36+00:00", "fork": "False", "license": "licensed"}}