{"test_class": {"identifier": "MoPubNativeTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private MoPubNative subject;", "modifier": "private", "type": "MoPubNative", "declarator": "subject", "var_name": "subject"}, {"original_string": "private MethodBuilder methodBuilder;", "modifier": "private", "type": "MethodBuilder", "declarator": "methodBuilder", "var_name": "methodBuilder"}, {"original_string": "private Activity context;", "modifier": "private", "type": "Activity", "declarator": "context", "var_name": "context"}, {"original_string": "private MoPubNative.NativeGpsHelperListener nativeGpsHelperListener;", "modifier": "private", "type": "MoPubNative.NativeGpsHelperListener", "declarator": "nativeGpsHelperListener", "var_name": "nativeGpsHelperListener"}, {"original_string": "private Semaphore semaphore;", "modifier": "private", "type": "Semaphore", "declarator": "semaphore", "var_name": "semaphore"}, {"original_string": "private static final String adUnitId = \"test_adunit_id\";", "modifier": "private static final", "type": "String", "declarator": "adUnitId = \"test_adunit_id\"", "var_name": "adUnitId"}, {"original_string": "@Mock private MoPubNativeEventListener mockEventListener;", "modifier": "@Mock private", "type": "MoPubNativeEventListener", "declarator": "mockEventListener", "var_name": "mockEventListener"}, {"original_string": "@Mock private MoPubNativeNetworkListener mockNetworkListener;", "modifier": "@Mock private", "type": "MoPubNativeNetworkListener", "declarator": "mockNetworkListener", "var_name": "mockNetworkListener"}], "file": "MoPubAd/mopub-sdk/src/test/java/com/mopub/nativeads/MoPubNativeTest.java"}, "test_case": {"identifier": "requestNativeAd_withInvalidUrl_shouldFireNativeFailAndNotStartAsyncTask", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void requestNativeAd_withInvalidUrl_shouldFireNativeFailAndNotStartAsyncTask() {\n        Robolectric.getUiThreadScheduler().pause();\n\n        subject.requestNativeAd(\"//\\\\//\\\\::::\");\n\n        verify(mockNetworkListener).onNativeFail(any(NativeErrorCode.class));\n        assertThat(wasDownloadTaskExecuted()).isFalse();\n    }", "signature": "void requestNativeAd_withInvalidUrl_shouldFireNativeFailAndNotStartAsyncTask()", "full_signature": "@Test public void requestNativeAd_withInvalidUrl_shouldFireNativeFailAndNotStartAsyncTask()", "class_method_signature": "MoPubNativeTest.requestNativeAd_withInvalidUrl_shouldFireNativeFailAndNotStartAsyncTask()", "testcase": true, "constructor": false, "invocations": ["pause", "getUiThreadScheduler", "requestNativeAd", "onNativeFail", "verify", "any", "isFalse", "assertThat", "wasDownloadTaskExecuted"]}, "focal_class": {"identifier": "MoPubNative", "superclass": "", "interfaces": "", "fields": [{"original_string": "static final MoPubNativeNetworkListener EMPTY_NETWORK_LISTENER = new\n            MoPubNativeNetworkListener() {\n        @Override\n        public void onNativeLoad(@NonNull final NativeResponse nativeResponse) {\n            // If this listener is invoked, it means that MoPubNative instance has been destroyed\n            // so destroy any leftover incoming NativeResponses\n            nativeResponse.destroy();\n        }\n        @Override\n        public void onNativeFail(final NativeErrorCode errorCode) {\n        }\n    };", "modifier": "static final", "type": "MoPubNativeNetworkListener", "declarator": "EMPTY_NETWORK_LISTENER = new\n            MoPubNativeNetworkListener() {\n        @Override\n        public void onNativeLoad(@NonNull final NativeResponse nativeResponse) {\n            // If this listener is invoked, it means that MoPubNative instance has been destroyed\n            // so destroy any leftover incoming NativeResponses\n            nativeResponse.destroy();\n        }\n        @Override\n        public void onNativeFail(final NativeErrorCode errorCode) {\n        }\n    }", "var_name": "EMPTY_NETWORK_LISTENER"}, {"original_string": "static final MoPubNativeEventListener EMPTY_EVENT_LISTENER = new\n            MoPubNativeEventListener() {\n        @Override\n        public void onNativeImpression(@Nullable final View view) {\n        }\n        @Override\n        public void onNativeClick(@Nullable final View view) {\n        }\n    };", "modifier": "static final", "type": "MoPubNativeEventListener", "declarator": "EMPTY_EVENT_LISTENER = new\n            MoPubNativeEventListener() {\n        @Override\n        public void onNativeImpression(@Nullable final View view) {\n        }\n        @Override\n        public void onNativeClick(@Nullable final View view) {\n        }\n    }", "var_name": "EMPTY_EVENT_LISTENER"}, {"original_string": "@NonNull private final WeakReference<Context> mContext;", "modifier": "@NonNull private final", "type": "WeakReference<Context>", "declarator": "mContext", "var_name": "mContext"}, {"original_string": "@NonNull private final String mAdUnitId;", "modifier": "@NonNull private final", "type": "String", "declarator": "mAdUnitId", "var_name": "mAdUnitId"}, {"original_string": "@NonNull private MoPubNativeNetworkListener mMoPubNativeNetworkListener;", "modifier": "@NonNull private", "type": "MoPubNativeNetworkListener", "declarator": "mMoPubNativeNetworkListener", "var_name": "mMoPubNativeNetworkListener"}, {"original_string": "@NonNull private MoPubNativeEventListener mMoPubNativeEventListener;", "modifier": "@NonNull private", "type": "MoPubNativeEventListener", "declarator": "mMoPubNativeEventListener", "var_name": "mMoPubNativeEventListener"}, {"original_string": "@NonNull private Map<String, Object> mLocalExtras = Collections.emptyMap();", "modifier": "@NonNull private", "type": "Map<String, Object>", "declarator": "mLocalExtras = Collections.emptyMap()", "var_name": "mLocalExtras"}], "methods": [{"identifier": "MoPubNative", "parameters": "(@NonNull final Context context,\n            @NonNull final String adUnitId,\n            @NonNull final MoPubNativeListener moPubNativeListener)", "modifiers": "@Deprecated public", "return": "", "signature": " MoPubNative(@NonNull final Context context,\n            @NonNull final String adUnitId,\n            @NonNull final MoPubNativeListener moPubNativeListener)", "full_signature": "@Deprecated public  MoPubNative(@NonNull final Context context,\n            @NonNull final String adUnitId,\n            @NonNull final MoPubNativeListener moPubNativeListener)", "class_method_signature": "MoPubNative.MoPubNative(@NonNull final Context context,\n            @NonNull final String adUnitId,\n            @NonNull final MoPubNativeListener moPubNativeListener)", "testcase": false, "constructor": true}, {"identifier": "MoPubNative", "parameters": "(@NonNull final Context context,\n                @NonNull final String adUnitId,\n                @NonNull final MoPubNativeNetworkListener moPubNativeNetworkListener)", "modifiers": "public", "return": "", "signature": " MoPubNative(@NonNull final Context context,\n                @NonNull final String adUnitId,\n                @NonNull final MoPubNativeNetworkListener moPubNativeNetworkListener)", "full_signature": "public  MoPubNative(@NonNull final Context context,\n                @NonNull final String adUnitId,\n                @NonNull final MoPubNativeNetworkListener moPubNativeNetworkListener)", "class_method_signature": "MoPubNative.MoPubNative(@NonNull final Context context,\n                @NonNull final String adUnitId,\n                @NonNull final MoPubNativeNetworkListener moPubNativeNetworkListener)", "testcase": false, "constructor": true}, {"identifier": "setNativeEventListener", "parameters": "(@Nullable final MoPubNativeEventListener nativeEventListener)", "modifiers": "public", "return": "void", "signature": "void setNativeEventListener(@Nullable final MoPubNativeEventListener nativeEventListener)", "full_signature": "public void setNativeEventListener(@Nullable final MoPubNativeEventListener nativeEventListener)", "class_method_signature": "MoPubNative.setNativeEventListener(@Nullable final MoPubNativeEventListener nativeEventListener)", "testcase": false, "constructor": false}, {"identifier": "destroy", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void destroy()", "full_signature": "public void destroy()", "class_method_signature": "MoPubNative.destroy()", "testcase": false, "constructor": false}, {"identifier": "setLocalExtras", "parameters": "(@Nullable final Map<String, Object> localExtras)", "modifiers": "public", "return": "void", "signature": "void setLocalExtras(@Nullable final Map<String, Object> localExtras)", "full_signature": "public void setLocalExtras(@Nullable final Map<String, Object> localExtras)", "class_method_signature": "MoPubNative.setLocalExtras(@Nullable final Map<String, Object> localExtras)", "testcase": false, "constructor": false}, {"identifier": "makeRequest", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void makeRequest()", "full_signature": "public void makeRequest()", "class_method_signature": "MoPubNative.makeRequest()", "testcase": false, "constructor": false}, {"identifier": "makeRequest", "parameters": "(@Nullable final RequestParameters requestParameters)", "modifiers": "public", "return": "void", "signature": "void makeRequest(@Nullable final RequestParameters requestParameters)", "full_signature": "public void makeRequest(@Nullable final RequestParameters requestParameters)", "class_method_signature": "MoPubNative.makeRequest(@Nullable final RequestParameters requestParameters)", "testcase": false, "constructor": false}, {"identifier": "makeRequest", "parameters": "(@Nullable final RequestParameters requestParameters,\n            @Nullable Integer sequenceNumber)", "modifiers": "public", "return": "void", "signature": "void makeRequest(@Nullable final RequestParameters requestParameters,\n            @Nullable Integer sequenceNumber)", "full_signature": "public void makeRequest(@Nullable final RequestParameters requestParameters,\n            @Nullable Integer sequenceNumber)", "class_method_signature": "MoPubNative.makeRequest(@Nullable final RequestParameters requestParameters,\n            @Nullable Integer sequenceNumber)", "testcase": false, "constructor": false}, {"identifier": "makeRequest", "parameters": "(@NonNull final NativeGpsHelperListener nativeGpsHelperListener)", "modifiers": "", "return": "void", "signature": "void makeRequest(@NonNull final NativeGpsHelperListener nativeGpsHelperListener)", "full_signature": " void makeRequest(@NonNull final NativeGpsHelperListener nativeGpsHelperListener)", "class_method_signature": "MoPubNative.makeRequest(@NonNull final NativeGpsHelperListener nativeGpsHelperListener)", "testcase": false, "constructor": false}, {"identifier": "loadNativeAd", "parameters": "(\n            @Nullable final RequestParameters requestParameters,\n            @Nullable final Integer sequenceNumber)", "modifiers": "private", "return": "void", "signature": "void loadNativeAd(\n            @Nullable final RequestParameters requestParameters,\n            @Nullable final Integer sequenceNumber)", "full_signature": "private void loadNativeAd(\n            @Nullable final RequestParameters requestParameters,\n            @Nullable final Integer sequenceNumber)", "class_method_signature": "MoPubNative.loadNativeAd(\n            @Nullable final RequestParameters requestParameters,\n            @Nullable final Integer sequenceNumber)", "testcase": false, "constructor": false}, {"identifier": "loadNativeAd", "parameters": "(final RequestParameters requestParameters)", "modifiers": "", "return": "void", "signature": "void loadNativeAd(final RequestParameters requestParameters)", "full_signature": " void loadNativeAd(final RequestParameters requestParameters)", "class_method_signature": "MoPubNative.loadNativeAd(final RequestParameters requestParameters)", "testcase": false, "constructor": false}, {"identifier": "requestNativeAd", "parameters": "(@Nullable final String endpointUrl)", "modifiers": "", "return": "void", "signature": "void requestNativeAd(@Nullable final String endpointUrl)", "full_signature": " void requestNativeAd(@Nullable final String endpointUrl)", "class_method_signature": "MoPubNative.requestNativeAd(@Nullable final String endpointUrl)", "testcase": false, "constructor": false}, {"identifier": "downloadJson", "parameters": "(final HttpUriRequest httpUriRequest)", "modifiers": "private", "return": "void", "signature": "void downloadJson(final HttpUriRequest httpUriRequest)", "full_signature": "private void downloadJson(final HttpUriRequest httpUriRequest)", "class_method_signature": "MoPubNative.downloadJson(final HttpUriRequest httpUriRequest)", "testcase": false, "constructor": false}, {"identifier": "getContextOrDestroy", "parameters": "()", "modifiers": "", "return": "Context", "signature": "Context getContextOrDestroy()", "full_signature": " Context getContextOrDestroy()", "class_method_signature": "MoPubNative.getContextOrDestroy()", "testcase": false, "constructor": false}, {"identifier": "getMoPubNativeNetworkListener", "parameters": "()", "modifiers": "@NonNull @VisibleForTesting @Deprecated", "return": "MoPubNativeNetworkListener", "signature": "MoPubNativeNetworkListener getMoPubNativeNetworkListener()", "full_signature": "@NonNull @VisibleForTesting @Deprecated MoPubNativeNetworkListener getMoPubNativeNetworkListener()", "class_method_signature": "MoPubNative.getMoPubNativeNetworkListener()", "testcase": false, "constructor": false}, {"identifier": "getMoPubNativeEventListener", "parameters": "()", "modifiers": "@NonNull @VisibleForTesting @Deprecated", "return": "MoPubNativeEventListener", "signature": "MoPubNativeEventListener getMoPubNativeEventListener()", "full_signature": "@NonNull @VisibleForTesting @Deprecated MoPubNativeEventListener getMoPubNativeEventListener()", "class_method_signature": "MoPubNative.getMoPubNativeEventListener()", "testcase": false, "constructor": false}], "file": "MoPubAd/mopub-sdk/src/main/java/com/mopub/nativeads/MoPubNative.java"}, "focal_method": {"identifier": "requestNativeAd", "parameters": "(@Nullable final String endpointUrl)", "modifiers": "", "return": "void", "body": "void requestNativeAd(@Nullable final String endpointUrl) {\n        final Context context = getContextOrDestroy();\n        if (context == null) {\n            return;\n        }\n\n        if (endpointUrl == null) {\n            mMoPubNativeNetworkListener.onNativeFail(INVALID_REQUEST_URL);\n            return;\n        }\n\n        final HttpGet httpGet;\n        try {\n            httpGet = HttpClient.initializeHttpGet(endpointUrl, context);\n        } catch (IllegalArgumentException e) {\n            mMoPubNativeNetworkListener.onNativeFail(INVALID_REQUEST_URL);\n            return;\n        }\n\n        downloadJson(httpGet);\n    }", "signature": "void requestNativeAd(@Nullable final String endpointUrl)", "full_signature": " void requestNativeAd(@Nullable final String endpointUrl)", "class_method_signature": "MoPubNative.requestNativeAd(@Nullable final String endpointUrl)", "testcase": false, "constructor": false, "invocations": ["getContextOrDestroy", "onNativeFail", "initializeHttpGet", "onNativeFail", "downloadJson"]}, "repository": {"repo_id": 38092182, "url": "https://github.com/harshalbenake/hbworkspace2-100", "language": "Java", "is_fork": false, "fork_count": 160, "stargazer_count": 191, "size": 307516, "license": "licensed"}}