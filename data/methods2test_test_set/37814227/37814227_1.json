{"test_class": {"identifier": "TravisApiTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Autowired\n  private TravisApi client;", "modifier": "@Autowired\n  private", "type": "TravisApi", "declarator": "client", "var_name": "client"}, {"original_string": "@Autowired\n  private MockRestServiceServer server;", "modifier": "@Autowired\n  private", "type": "MockRestServiceServer", "declarator": "server", "var_name": "server"}, {"original_string": "private String output = \"{\\\"build\\\":{\\\"id\\\":79083233,\\\"repository_id\\\":5431030,\\\"commit_id\\\":22542817,\\\"number\\\":\\\"9\\\",\\\"event_type\\\":\\\"push\\\",\\\"pull_request\\\":false,\\\"pull_request_title\\\":null,\\\"pull_request_number\\\":null,\\\"config\\\":{\\\"language\\\":\\\"java\\\",\\\"jdk\\\":[\\\"oraclejdk7\\\"],\\\"install\\\":\\\"/bin/true\\\",\\\"before_script\\\":[\\\"wget http://jandy.io/jandy-runner.egg\\\"],\\\"script\\\":[\\\"mvn clean package\\\",\\\"python jandy-runner.egg java -jar target/jasypt-test-1.0-SNAPSHOT.jar Password123 \\\\\\\"I am opensource developer\\\\\\\"\\\",\\\"ls -al\\\"],\\\".result\\\":\\\"configured\\\",\\\"group\\\":\\\"stable\\\",\\\"dist\\\":\\\"precise\\\"},\\\"state\\\":\\\"failed\\\",\\\"started_at\\\":\\\"2015-12-28T03:20:20Z\\\",\\\"finished_at\\\":\\\"2015-12-28T03:21:16Z\\\",\\\"duration\\\":56,\\\"job_ids\\\":[79083234]},\\\"commit\\\":{\\\"id\\\":22542817,\\\"sha\\\":\\\"70795c31635e24ea5780cce2481cc4cc777a4de7\\\",\\\"branch\\\":\\\"master\\\",\\\"branch_is_default\\\":true,\\\"message\\\":\\\"add depedency of icu4j\\\",\\\"committed_at\\\":\\\"2015-09-07T07:52:18Z\\\",\\\"author_name\\\":\\\"JCooky\\\",\\\"author_email\\\":\\\"bak723@gmail.com\\\",\\\"committer_name\\\":\\\"JCooky\\\",\\\"committer_email\\\":\\\"bak723@gmail.com\\\",\\\"compare_url\\\":\\\"https://github.com/jcooky/jasypt-test/compare/3e6d56f9f062...70795c31635e\\\"},\\\"jobs\\\":[{\\\"id\\\":79083234,\\\"repository_id\\\":5431030,\\\"build_id\\\":79083233,\\\"commit_id\\\":22542817,\\\"log_id\\\":55823659,\\\"state\\\":\\\"failed\\\",\\\"number\\\":\\\"9.1\\\",\\\"config\\\":{\\\"language\\\":\\\"java\\\",\\\"jdk\\\":\\\"oraclejdk7\\\",\\\"install\\\":\\\"/bin/true\\\",\\\"before_script\\\":[\\\"wget http://jandy.io/jandy-runner.egg\\\"],\\\"script\\\":[\\\"mvn clean package\\\",\\\"python jandy-runner.egg java -jar target/jasypt-test-1.0-SNAPSHOT.jar Password123 \\\\\\\"I am opensource developer\\\\\\\"\\\",\\\"ls -al\\\"],\\\".result\\\":\\\"configured\\\",\\\"os\\\":\\\"linux\\\"},\\\"started_at\\\":\\\"2015-12-28T03:20:20Z\\\",\\\"finished_at\\\":\\\"2015-12-28T03:21:16Z\\\",\\\"queue\\\":\\\"builds.docker\\\",\\\"allow_failure\\\":false,\\\"tags\\\":null,\\\"annotation_ids\\\":[]}],\\\"annotations\\\":[]}\";", "modifier": "private", "type": "String", "declarator": "output = \"{\\\"build\\\":{\\\"id\\\":79083233,\\\"repository_id\\\":5431030,\\\"commit_id\\\":22542817,\\\"number\\\":\\\"9\\\",\\\"event_type\\\":\\\"push\\\",\\\"pull_request\\\":false,\\\"pull_request_title\\\":null,\\\"pull_request_number\\\":null,\\\"config\\\":{\\\"language\\\":\\\"java\\\",\\\"jdk\\\":[\\\"oraclejdk7\\\"],\\\"install\\\":\\\"/bin/true\\\",\\\"before_script\\\":[\\\"wget http://jandy.io/jandy-runner.egg\\\"],\\\"script\\\":[\\\"mvn clean package\\\",\\\"python jandy-runner.egg java -jar target/jasypt-test-1.0-SNAPSHOT.jar Password123 \\\\\\\"I am opensource developer\\\\\\\"\\\",\\\"ls -al\\\"],\\\".result\\\":\\\"configured\\\",\\\"group\\\":\\\"stable\\\",\\\"dist\\\":\\\"precise\\\"},\\\"state\\\":\\\"failed\\\",\\\"started_at\\\":\\\"2015-12-28T03:20:20Z\\\",\\\"finished_at\\\":\\\"2015-12-28T03:21:16Z\\\",\\\"duration\\\":56,\\\"job_ids\\\":[79083234]},\\\"commit\\\":{\\\"id\\\":22542817,\\\"sha\\\":\\\"70795c31635e24ea5780cce2481cc4cc777a4de7\\\",\\\"branch\\\":\\\"master\\\",\\\"branch_is_default\\\":true,\\\"message\\\":\\\"add depedency of icu4j\\\",\\\"committed_at\\\":\\\"2015-09-07T07:52:18Z\\\",\\\"author_name\\\":\\\"JCooky\\\",\\\"author_email\\\":\\\"bak723@gmail.com\\\",\\\"committer_name\\\":\\\"JCooky\\\",\\\"committer_email\\\":\\\"bak723@gmail.com\\\",\\\"compare_url\\\":\\\"https://github.com/jcooky/jasypt-test/compare/3e6d56f9f062...70795c31635e\\\"},\\\"jobs\\\":[{\\\"id\\\":79083234,\\\"repository_id\\\":5431030,\\\"build_id\\\":79083233,\\\"commit_id\\\":22542817,\\\"log_id\\\":55823659,\\\"state\\\":\\\"failed\\\",\\\"number\\\":\\\"9.1\\\",\\\"config\\\":{\\\"language\\\":\\\"java\\\",\\\"jdk\\\":\\\"oraclejdk7\\\",\\\"install\\\":\\\"/bin/true\\\",\\\"before_script\\\":[\\\"wget http://jandy.io/jandy-runner.egg\\\"],\\\"script\\\":[\\\"mvn clean package\\\",\\\"python jandy-runner.egg java -jar target/jasypt-test-1.0-SNAPSHOT.jar Password123 \\\\\\\"I am opensource developer\\\\\\\"\\\",\\\"ls -al\\\"],\\\".result\\\":\\\"configured\\\",\\\"os\\\":\\\"linux\\\"},\\\"started_at\\\":\\\"2015-12-28T03:20:20Z\\\",\\\"finished_at\\\":\\\"2015-12-28T03:21:16Z\\\",\\\"queue\\\":\\\"builds.docker\\\",\\\"allow_failure\\\":false,\\\"tags\\\":null,\\\"annotation_ids\\\":[]}],\\\"annotations\\\":[]}\"", "var_name": "output"}], "file": "jandy-server/src/test/java/io/jandy/util/api/TravisApiTest.java"}, "test_case": {"identifier": "testGetBuild", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testGetBuild() throws Exception {\n    long buildId = 79083233;\n    server.expect(requestTo(\"https://api.travis-ci.org/builds/\"+buildId))\n            .andExpect(method(HttpMethod.GET))\n            .andExpect(header(HttpHeaders.ACCEPT, \"application/vnd.travis-ci.2+json\"))\n            .andRespond(withSuccess(output, MediaType.APPLICATION_JSON_UTF8));\n\n    TResult result = client.getBuild(79083233);\n\n    System.out.println(result);\n\n    Calendar calendar = DatatypeConverter.parseDateTime((String)result.getBuild().getStartedAt());\n    PrettyTime p = new PrettyTime(Locale.ENGLISH);\n\n    System.out.println(p.format(calendar));\n    \n    assertThat(result.getBuild().getCommitId(), is(result.getCommit().getId()));\n    assertThat(result.getCommit().getId(), is(22542817L));\n    assertThat(result.getCommit().getMessage(), is(\"add depedency of icu4j\"));\n    assertThat(result.getCommit().getCommitterName(), is(\"JCooky\"));\n  }", "signature": "void testGetBuild()", "full_signature": "@Test public void testGetBuild()", "class_method_signature": "TravisApiTest.testGetBuild()", "testcase": true, "constructor": false, "invocations": ["andRespond", "andExpect", "andExpect", "expect", "requestTo", "method", "header", "withSuccess", "getBuild", "println", "parseDateTime", "getStartedAt", "getBuild", "println", "format", "assertThat", "getCommitId", "getBuild", "is", "getId", "getCommit", "assertThat", "getId", "getCommit", "is", "assertThat", "getMessage", "getCommit", "is", "assertThat", "getCommitterName", "getCommit", "is"]}, "focal_class": {"identifier": "TravisApi", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String TRAVIS_URI = \"https://api.travis-ci.org\";", "modifier": "private static final", "type": "String", "declarator": "TRAVIS_URI = \"https://api.travis-ci.org\"", "var_name": "TRAVIS_URI"}, {"original_string": "private RestTemplate restTemplate;", "modifier": "private", "type": "RestTemplate", "declarator": "restTemplate", "var_name": "restTemplate"}], "methods": [{"identifier": "TravisApi", "parameters": "(RestTemplateBuilder builder)", "modifiers": "public", "return": "", "signature": " TravisApi(RestTemplateBuilder builder)", "full_signature": "public  TravisApi(RestTemplateBuilder builder)", "class_method_signature": "TravisApi.TravisApi(RestTemplateBuilder builder)", "testcase": false, "constructor": true}, {"identifier": "getBuild", "parameters": "(long buildId)", "modifiers": "public", "return": "TResult", "signature": "TResult getBuild(long buildId)", "full_signature": "public TResult getBuild(long buildId)", "class_method_signature": "TravisApi.getBuild(long buildId)", "testcase": false, "constructor": false}], "file": "jandy-server/src/main/java/io/jandy/util/api/TravisApi.java"}, "focal_method": {"identifier": "getBuild", "parameters": "(long buildId)", "modifiers": "public", "return": "TResult", "body": "public TResult getBuild(long buildId) throws IOException {\n    return restTemplate.getForObject(TRAVIS_URI + \"/builds/\" + buildId, TResult.class);\n  }", "signature": "TResult getBuild(long buildId)", "full_signature": "public TResult getBuild(long buildId)", "class_method_signature": "TravisApi.getBuild(long buildId)", "testcase": false, "constructor": false, "invocations": ["getForObject"]}, "repository": {"repo_id": 37814227, "url": "https://github.com/jandy-team/jandy", "language": "Java", "is_fork": false, "fork_count": 13, "stargazer_count": 12, "size": 5059, "license": "licensed"}}