{"test_class": {"identifier": "TripsTableTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String NAME_1 = \"Trip1\";", "modifier": "private static final", "type": "String", "declarator": "NAME_1 = \"Trip1\"", "var_name": "NAME_1"}, {"original_string": "private static final String NAME_2 = \"Trip2\";", "modifier": "private static final", "type": "String", "declarator": "NAME_2 = \"Trip2\"", "var_name": "NAME_2"}, {"original_string": "private static final String NAME_3 = \"Trip3\";", "modifier": "private static final", "type": "String", "declarator": "NAME_3 = \"Trip3\"", "var_name": "NAME_3"}, {"original_string": "private static final long START_DATE_2 = 1409703721000L;", "modifier": "private static final", "type": "long", "declarator": "START_DATE_2 = 1409703721000L", "var_name": "START_DATE_2"}, {"original_string": "private static final long START_DATE_1 = 1409703722000L;", "modifier": "private static final", "type": "long", "declarator": "START_DATE_1 = 1409703722000L", "var_name": "START_DATE_1"}, {"original_string": "private static final long END_DATE_2 = 1409703793000L;", "modifier": "private static final", "type": "long", "declarator": "END_DATE_2 = 1409703793000L", "var_name": "END_DATE_2"}, {"original_string": "private static final long END_DATE_1 = 1409703794000L;", "modifier": "private static final", "type": "long", "declarator": "END_DATE_1 = 1409703794000L", "var_name": "END_DATE_1"}, {"original_string": "private static final long START_DATE_3 = 1409703891000L;", "modifier": "private static final", "type": "long", "declarator": "START_DATE_3 = 1409703891000L", "var_name": "START_DATE_3"}, {"original_string": "private static final long END_DATE_3 = 1409703893000L;", "modifier": "private static final", "type": "long", "declarator": "END_DATE_3 = 1409703893000L", "var_name": "END_DATE_3"}, {"original_string": "private static final String START_TIMEZONE = TimeZone.getAvailableIDs()[0];", "modifier": "private static final", "type": "String", "declarator": "START_TIMEZONE = TimeZone.getAvailableIDs()[0]", "var_name": "START_TIMEZONE"}, {"original_string": "private static final String END_TIMEZONE = TimeZone.getAvailableIDs()[1];", "modifier": "private static final", "type": "String", "declarator": "END_TIMEZONE = TimeZone.getAvailableIDs()[1]", "var_name": "END_TIMEZONE"}, {"original_string": "private static final String COMMENT = \"Comment\";", "modifier": "private static final", "type": "String", "declarator": "COMMENT = \"Comment\"", "var_name": "COMMENT"}, {"original_string": "private static final String COST_CENTER = \"Cost Center\";", "modifier": "private static final", "type": "String", "declarator": "COST_CENTER = \"Cost Center\"", "var_name": "COST_CENTER"}, {"original_string": "private static final String CURRENCY_CODE = \"USD\";", "modifier": "private static final", "type": "String", "declarator": "CURRENCY_CODE = \"USD\"", "var_name": "CURRENCY_CODE"}, {"original_string": "private static final String USER_PREFERENCES_CURRENCY_CODE = \"EUR\";", "modifier": "private static final", "type": "String", "declarator": "USER_PREFERENCES_CURRENCY_CODE = \"EUR\"", "var_name": "USER_PREFERENCES_CURRENCY_CODE"}, {"original_string": "TripsTable mTripsTable;", "modifier": "", "type": "TripsTable", "declarator": "mTripsTable", "var_name": "mTripsTable"}, {"original_string": "@Mock\n    SQLiteDatabase mSQLiteDatabase;", "modifier": "@Mock", "type": "SQLiteDatabase", "declarator": "mSQLiteDatabase", "var_name": "mSQLiteDatabase"}, {"original_string": "@Mock\n    TableDefaultsCustomizer mTableDefaultsCustomizer;", "modifier": "@Mock", "type": "TableDefaultsCustomizer", "declarator": "mTableDefaultsCustomizer", "var_name": "mTableDefaultsCustomizer"}, {"original_string": "@Mock\n    PersistenceManager mPersistenceManager;", "modifier": "@Mock", "type": "PersistenceManager", "declarator": "mPersistenceManager", "var_name": "mPersistenceManager"}, {"original_string": "@Mock\n    StorageManager mStorageManager;", "modifier": "@Mock", "type": "StorageManager", "declarator": "mStorageManager", "var_name": "mStorageManager"}, {"original_string": "@Mock\n    UserPreferenceManager mPreferences;", "modifier": "@Mock", "type": "UserPreferenceManager", "declarator": "mPreferences", "var_name": "mPreferences"}, {"original_string": "@Captor\n    ArgumentCaptor<String> mSqlCaptor;", "modifier": "@Captor", "type": "ArgumentCaptor<String>", "declarator": "mSqlCaptor", "var_name": "mSqlCaptor"}, {"original_string": "SQLiteOpenHelper mSQLiteOpenHelper;", "modifier": "", "type": "SQLiteOpenHelper", "declarator": "mSQLiteOpenHelper", "var_name": "mSQLiteOpenHelper"}, {"original_string": "Trip mTrip1;", "modifier": "", "type": "Trip", "declarator": "mTrip1", "var_name": "mTrip1"}, {"original_string": "Trip mTrip2;", "modifier": "", "type": "Trip", "declarator": "mTrip2", "var_name": "mTrip2"}, {"original_string": "TripBuilderFactory mBuilder;", "modifier": "", "type": "TripBuilderFactory", "declarator": "mBuilder", "var_name": "mBuilder"}], "file": "app/src/test/java/co/smartreceipts/android/persistence/database/tables/TripsTableTest.java"}, "test_case": {"identifier": "onCreate", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void onCreate() {\n        final TableDefaultsCustomizer customizer = mock(TableDefaultsCustomizer.class);\n        mTripsTable.onCreate(mSQLiteDatabase, customizer);\n        verify(mSQLiteDatabase).execSQL(mSqlCaptor.capture());\n        verifyZeroInteractions(customizer);\n\n        final String creatingTable = mSqlCaptor.getValue();\n        assertTrue(creatingTable.contains(\"CREATE TABLE trips\")); // Table name\n        assertTrue(creatingTable.contains(\"id INTEGER PRIMARY KEY AUTOINCREMENT\"));\n        assertTrue(creatingTable.contains(\"name TEXT UNIQUE\"));\n        assertTrue(creatingTable.contains(\"from_date DATE\"));\n        assertTrue(creatingTable.contains(\"to_date DATE\"));\n        assertTrue(creatingTable.contains(\"from_timezone TEXT\"));\n        assertTrue(creatingTable.contains(\"to_timezone TEXT\"));\n        assertTrue(creatingTable.contains(\"trips_comment TEXT\"));\n        assertTrue(creatingTable.contains(\"trips_cost_center TEXT\"));\n        assertTrue(creatingTable.contains(\"trips_default_currency TEXT\"));\n        assertTrue(creatingTable.contains(\"trips_filters TEXT\"));\n        assertTrue(creatingTable.contains(\"trip_processing_status TEXT\"));\n        assertTrue(creatingTable.contains(\"drive_sync_id TEXT\"));\n        assertTrue(creatingTable.contains(\"drive_is_synced BOOLEAN DEFAULT 0\"));\n        assertTrue(creatingTable.contains(\"drive_marked_for_deletion BOOLEAN DEFAULT 0\"));\n        assertTrue(creatingTable.contains(\"last_local_modification_time DATE\"));\n        assertTrue(creatingTable.contains(\"entity_uuid TEXT\"));\n        assertTrue(creatingTable.contains(\"name_hidden_auto_complete BOOLEAN DEFAULT 0\"));\n        assertTrue(creatingTable.contains(\"comment_hidden_auto_complete BOOLEAN DEFAULT 0\"));\n        assertTrue(creatingTable.contains(\"costcenter_hidden_auto_complete BOOLEAN DEFAULT 0\"));\n    }", "signature": "void onCreate()", "full_signature": "@Test public void onCreate()", "class_method_signature": "TripsTableTest.onCreate()", "testcase": true, "constructor": false, "invocations": ["mock", "onCreate", "execSQL", "verify", "capture", "verifyZeroInteractions", "getValue", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains"]}, "focal_class": {"identifier": "TripsTable", "superclass": "extends AbstractSqlTable<Trip>", "interfaces": "", "fields": [{"original_string": "public static final String TABLE_NAME = \"trips\";", "modifier": "public static final", "type": "String", "declarator": "TABLE_NAME = \"trips\"", "var_name": "TABLE_NAME"}, {"original_string": "public static final String COLUMN_NAME = \"name\";", "modifier": "public static final", "type": "String", "declarator": "COLUMN_NAME = \"name\"", "var_name": "COLUMN_NAME"}, {"original_string": "public static final String COLUMN_FROM = \"from_date\";", "modifier": "public static final", "type": "String", "declarator": "COLUMN_FROM = \"from_date\"", "var_name": "COLUMN_FROM"}, {"original_string": "public static final String COLUMN_TO = \"to_date\";", "modifier": "public static final", "type": "String", "declarator": "COLUMN_TO = \"to_date\"", "var_name": "COLUMN_TO"}, {"original_string": "public static final String COLUMN_FROM_TIMEZONE = \"from_timezone\";", "modifier": "public static final", "type": "String", "declarator": "COLUMN_FROM_TIMEZONE = \"from_timezone\"", "var_name": "COLUMN_FROM_TIMEZONE"}, {"original_string": "public static final String COLUMN_TO_TIMEZONE = \"to_timezone\";", "modifier": "public static final", "type": "String", "declarator": "COLUMN_TO_TIMEZONE = \"to_timezone\"", "var_name": "COLUMN_TO_TIMEZONE"}, {"original_string": "public static final String COLUMN_MILEAGE = \"miles_new\";", "modifier": "public static final", "type": "String", "declarator": "COLUMN_MILEAGE = \"miles_new\"", "var_name": "COLUMN_MILEAGE"}, {"original_string": "public static final String COLUMN_COMMENT = \"trips_comment\";", "modifier": "public static final", "type": "String", "declarator": "COLUMN_COMMENT = \"trips_comment\"", "var_name": "COLUMN_COMMENT"}, {"original_string": "public static final String COLUMN_COST_CENTER = \"trips_cost_center\";", "modifier": "public static final", "type": "String", "declarator": "COLUMN_COST_CENTER = \"trips_cost_center\"", "var_name": "COLUMN_COST_CENTER"}, {"original_string": "public static final String COLUMN_DEFAULT_CURRENCY = \"trips_default_currency\";", "modifier": "public static final", "type": "String", "declarator": "COLUMN_DEFAULT_CURRENCY = \"trips_default_currency\"", "var_name": "COLUMN_DEFAULT_CURRENCY"}, {"original_string": "public static final String COLUMN_FILTERS = \"trips_filters\";", "modifier": "public static final", "type": "String", "declarator": "COLUMN_FILTERS = \"trips_filters\"", "var_name": "COLUMN_FILTERS"}, {"original_string": "public static final String COLUMN_PROCESSING_STATUS = \"trip_processing_status\";", "modifier": "public static final", "type": "String", "declarator": "COLUMN_PROCESSING_STATUS = \"trip_processing_status\"", "var_name": "COLUMN_PROCESSING_STATUS"}, {"original_string": "public static final String COLUMN_NAME_HIDDEN_AUTO_COMPLETE = \"name_hidden_auto_complete\";", "modifier": "public static final", "type": "String", "declarator": "COLUMN_NAME_HIDDEN_AUTO_COMPLETE = \"name_hidden_auto_complete\"", "var_name": "COLUMN_NAME_HIDDEN_AUTO_COMPLETE"}, {"original_string": "public static final String COLUMN_COMMENT_HIDDEN_AUTO_COMPLETE = \"comment_hidden_auto_complete\";", "modifier": "public static final", "type": "String", "declarator": "COLUMN_COMMENT_HIDDEN_AUTO_COMPLETE = \"comment_hidden_auto_complete\"", "var_name": "COLUMN_COMMENT_HIDDEN_AUTO_COMPLETE"}, {"original_string": "public static final String COLUMN_COSTCENTER_HIDDEN_AUTO_COMPLETE = \"costcenter_hidden_auto_complete\";", "modifier": "public static final", "type": "String", "declarator": "COLUMN_COSTCENTER_HIDDEN_AUTO_COMPLETE = \"costcenter_hidden_auto_complete\"", "var_name": "COLUMN_COSTCENTER_HIDDEN_AUTO_COMPLETE"}, {"original_string": "@SuppressWarnings(\"unused\")\n    @Deprecated\n    private static final String COLUMN_PRICE = \"price\";", "modifier": "@SuppressWarnings(\"unused\")\n    @Deprecated\n    private static final", "type": "String", "declarator": "COLUMN_PRICE = \"price\"", "var_name": "COLUMN_PRICE"}], "methods": [{"identifier": "TripsTable", "parameters": "(@NonNull SQLiteOpenHelper sqLiteOpenHelper, @NonNull StorageManager storageManager, @NonNull UserPreferenceManager preferences)", "modifiers": "public", "return": "", "signature": " TripsTable(@NonNull SQLiteOpenHelper sqLiteOpenHelper, @NonNull StorageManager storageManager, @NonNull UserPreferenceManager preferences)", "full_signature": "public  TripsTable(@NonNull SQLiteOpenHelper sqLiteOpenHelper, @NonNull StorageManager storageManager, @NonNull UserPreferenceManager preferences)", "class_method_signature": "TripsTable.TripsTable(@NonNull SQLiteOpenHelper sqLiteOpenHelper, @NonNull StorageManager storageManager, @NonNull UserPreferenceManager preferences)", "testcase": false, "constructor": true}, {"identifier": "onCreate", "parameters": "(@NonNull SQLiteDatabase db, @NonNull TableDefaultsCustomizer customizer)", "modifiers": "@Override public synchronized", "return": "void", "signature": "void onCreate(@NonNull SQLiteDatabase db, @NonNull TableDefaultsCustomizer customizer)", "full_signature": "@Override public synchronized void onCreate(@NonNull SQLiteDatabase db, @NonNull TableDefaultsCustomizer customizer)", "class_method_signature": "TripsTable.onCreate(@NonNull SQLiteDatabase db, @NonNull TableDefaultsCustomizer customizer)", "testcase": false, "constructor": false}, {"identifier": "onUpgrade", "parameters": "(@NonNull SQLiteDatabase db, int oldVersion, int newVersion, @NonNull TableDefaultsCustomizer customizer)", "modifiers": "@Override public synchronized", "return": "void", "signature": "void onUpgrade(@NonNull SQLiteDatabase db, int oldVersion, int newVersion, @NonNull TableDefaultsCustomizer customizer)", "full_signature": "@Override public synchronized void onUpgrade(@NonNull SQLiteDatabase db, int oldVersion, int newVersion, @NonNull TableDefaultsCustomizer customizer)", "class_method_signature": "TripsTable.onUpgrade(@NonNull SQLiteDatabase db, int oldVersion, int newVersion, @NonNull TableDefaultsCustomizer customizer)", "testcase": false, "constructor": false}], "file": "app/src/main/java/co/smartreceipts/android/persistence/database/tables/TripsTable.java"}, "focal_method": {"identifier": "onCreate", "parameters": "(@NonNull SQLiteDatabase db, @NonNull TableDefaultsCustomizer customizer)", "modifiers": "@Override public synchronized", "return": "void", "body": "@Override\n    public synchronized void onCreate(@NonNull SQLiteDatabase db, @NonNull TableDefaultsCustomizer customizer) {\n        super.onCreate(db, customizer);\n        final String trips = \"CREATE TABLE \" + getTableName() + \" (\"\n                + AbstractSqlTable.COLUMN_ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \"\n                + COLUMN_NAME + \" TEXT UNIQUE, \"\n                + COLUMN_FROM + \" DATE, \"\n                + COLUMN_TO + \" DATE, \"\n                + COLUMN_FROM_TIMEZONE + \" TEXT, \"\n                + COLUMN_TO_TIMEZONE + \" TEXT, \"\n                + COLUMN_COMMENT + \" TEXT, \"\n                + COLUMN_COST_CENTER + \" TEXT, \"\n                + COLUMN_DEFAULT_CURRENCY + \" TEXT, \"\n                + COLUMN_PROCESSING_STATUS + \" TEXT, \"\n                + COLUMN_FILTERS + \" TEXT, \"\n                + COLUMN_NAME_HIDDEN_AUTO_COMPLETE + \" BOOLEAN DEFAULT 0, \"\n                + COLUMN_COMMENT_HIDDEN_AUTO_COMPLETE + \" BOOLEAN DEFAULT 0, \"\n                + COLUMN_COSTCENTER_HIDDEN_AUTO_COMPLETE + \" BOOLEAN DEFAULT 0, \"\n                + AbstractSqlTable.COLUMN_DRIVE_SYNC_ID + \" TEXT, \"\n                + AbstractSqlTable.COLUMN_DRIVE_IS_SYNCED + \" BOOLEAN DEFAULT 0, \"\n                + AbstractSqlTable.COLUMN_DRIVE_MARKED_FOR_DELETION + \" BOOLEAN DEFAULT 0, \"\n                + AbstractSqlTable.COLUMN_LAST_LOCAL_MODIFICATION_TIME + \" DATE, \"\n                + AbstractSqlTable.COLUMN_UUID + \" TEXT \"\n                + \");\";\n        Logger.debug(this, trips);\n        db.execSQL(trips);\n    }", "signature": "void onCreate(@NonNull SQLiteDatabase db, @NonNull TableDefaultsCustomizer customizer)", "full_signature": "@Override public synchronized void onCreate(@NonNull SQLiteDatabase db, @NonNull TableDefaultsCustomizer customizer)", "class_method_signature": "TripsTable.onCreate(@NonNull SQLiteDatabase db, @NonNull TableDefaultsCustomizer customizer)", "testcase": false, "constructor": false, "invocations": ["onCreate", "getTableName", "debug", "execSQL"]}, "repository": {"repo_id": 2684727, "url": "https://github.com/wbaumann/SmartReceiptsLibrary", "stars": 166, "created": "11/1/2011 12:32:39 AM +00:00", "updates": "2020-01-26T22:04:24+00:00", "fork": "False", "license": "licensed"}}