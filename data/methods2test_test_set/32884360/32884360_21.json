{"test_class": {"identifier": "OrdinalOrderingTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final TypesTranslator typesTranslator = MTypesTranslator.INSTANCE;", "modifier": "private final", "type": "TypesTranslator", "declarator": "typesTranslator = MTypesTranslator.INSTANCE", "var_name": "typesTranslator"}], "file": "fdb-sql-layer-core/src/test/java/com/foundationdb/ais/model/validation/OrdinalOrderingTest.java"}, "test_case": {"identifier": "lowerOrdinal", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void lowerOrdinal() {\n        AkibanInformationSchema ais = AISBBasedBuilder\n            .create(\"test\", typesTranslator)\n            .table(\"p\").colInt(\"pid\").pk(\"pid\")\n            .table(\"c\").colInt(\"cid\").colInt(\"pid\").pk(\"cid\").joinTo(\"p\").on(\"pid\", \"pid\")\n            .unvalidatedAIS();\n        ais.getTable(\"test\", \"p\").setOrdinal(2);\n        ais.getTable(\"test\", \"c\").setOrdinal(1);\n        Collection<AISValidationFailure> failures = validate(ais);\n        assertEquals(\"failures\", 1, failures.size());\n    }", "signature": "void lowerOrdinal()", "full_signature": "@Test public void lowerOrdinal()", "class_method_signature": "OrdinalOrderingTest.lowerOrdinal()", "testcase": true, "constructor": false, "invocations": ["unvalidatedAIS", "on", "joinTo", "pk", "colInt", "colInt", "table", "pk", "colInt", "table", "create", "setOrdinal", "getTable", "setOrdinal", "getTable", "validate", "assertEquals", "size"]}, "focal_class": {"identifier": "OrdinalOrdering", "superclass": "", "interfaces": "implements AISValidation", "fields": [], "methods": [{"identifier": "validate", "parameters": "(AkibanInformationSchema ais, AISValidationOutput output)", "modifiers": "@Override public", "return": "void", "signature": "void validate(AkibanInformationSchema ais, AISValidationOutput output)", "full_signature": "@Override public void validate(AkibanInformationSchema ais, AISValidationOutput output)", "class_method_signature": "OrdinalOrdering.validate(AkibanInformationSchema ais, AISValidationOutput output)", "testcase": false, "constructor": false}, {"identifier": "noOrdinal", "parameters": "(Table t)", "modifiers": "private static", "return": "AISValidationException", "signature": "AISValidationException noOrdinal(Table t)", "full_signature": "private static AISValidationException noOrdinal(Table t)", "class_method_signature": "OrdinalOrdering.noOrdinal(Table t)", "testcase": false, "constructor": false}, {"identifier": "lowerOrdinal", "parameters": "(Table parent, Table child)", "modifiers": "private static", "return": "AISValidationException", "signature": "AISValidationException lowerOrdinal(Table parent, Table child)", "full_signature": "private static AISValidationException lowerOrdinal(Table parent, Table child)", "class_method_signature": "OrdinalOrdering.lowerOrdinal(Table parent, Table child)", "testcase": false, "constructor": false}], "file": "fdb-sql-layer-core/src/main/java/com/foundationdb/ais/model/validation/OrdinalOrdering.java"}, "focal_method": {"identifier": "lowerOrdinal", "parameters": "(Table parent, Table child)", "modifiers": "private static", "return": "AISValidationException", "body": "private static AISValidationException lowerOrdinal(Table parent, Table child) {\n        return new AISValidationException(\n            String.format(\"Table %s has ordinal %d lower than parent %s ordinal %d\",\n                          child.getName(), child.getOrdinal(), parent.getName(), parent.getOrdinal())\n        );\n    }", "signature": "AISValidationException lowerOrdinal(Table parent, Table child)", "full_signature": "private static AISValidationException lowerOrdinal(Table parent, Table child)", "class_method_signature": "OrdinalOrdering.lowerOrdinal(Table parent, Table child)", "testcase": false, "constructor": false, "invocations": ["format", "getName", "getOrdinal", "getName", "getOrdinal"]}, "repository": {"repo_id": 32884360, "url": "https://github.com/jaytaylor/sql-layer", "language": "Java", "is_fork": false, "fork_count": 120, "stargazer_count": 77, "size": 138665, "license": "licensed"}}