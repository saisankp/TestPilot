{"test_class": {"identifier": "TestPropertyValidationContext", "superclass": "", "interfaces": "", "fields": [], "file": "efm/efm-flow-designer/efm-flow-designer-framework/src/test/java/com/cloudera/cem/efm/validation/TestPropertyValidationContext.java"}, "test_case": {"identifier": "testExtraProperties", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testExtraProperties() {\n        final Map<String, PropertyDescriptor> descriptors = new HashMap<>();\n        final VersionedProcessGroup flow = new VersionedProcessGroup();\n\n        final Map<String, String> properties = new HashMap<>();\n        properties.put(\"Extra Property\", \"Extra Value\");\n\n        final ControllerServiceLookup serviceLookup = Mockito.mock(ControllerServiceLookup.class);\n\n        final PropertyValidationContext dynamicNotAllowed = new PropertyValidationContext(descriptors, false);\n        Collection<String> validationErrors = dynamicNotAllowed.validateProperties(properties, flow, \"flow-a\", serviceLookup);\n        assertEquals(1, validationErrors.size());\n\n        final PropertyValidationContext dynamicAllowed = new PropertyValidationContext(descriptors, true);\n        validationErrors = dynamicAllowed.validateProperties(properties, flow,\"flow-a\", serviceLookup);\n        assertTrue(validationErrors.isEmpty());\n    }", "signature": "void testExtraProperties()", "full_signature": "@Test public void testExtraProperties()", "class_method_signature": "TestPropertyValidationContext.testExtraProperties()", "testcase": true, "constructor": false, "invocations": ["put", "mock", "validateProperties", "assertEquals", "size", "validateProperties", "assertTrue", "isEmpty"]}, "focal_class": {"identifier": "PropertyValidationContext", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger logger = LoggerFactory.getLogger(PropertyValidationContext.class);", "modifier": "private static final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(PropertyValidationContext.class)", "var_name": "logger"}, {"original_string": "private final Map<String, PropertyDescriptor> propertyDescriptors;", "modifier": "private final", "type": "Map<String, PropertyDescriptor>", "declarator": "propertyDescriptors", "var_name": "propertyDescriptors"}, {"original_string": "private final boolean dynamicPropertiesSupported;", "modifier": "private final", "type": "boolean", "declarator": "dynamicPropertiesSupported", "var_name": "dynamicPropertiesSupported"}], "methods": [{"identifier": "PropertyValidationContext", "parameters": "(final Map<String, PropertyDescriptor> propertyDescriptors, final boolean dynamicPropertiesSupported)", "modifiers": "public", "return": "", "signature": " PropertyValidationContext(final Map<String, PropertyDescriptor> propertyDescriptors, final boolean dynamicPropertiesSupported)", "full_signature": "public  PropertyValidationContext(final Map<String, PropertyDescriptor> propertyDescriptors, final boolean dynamicPropertiesSupported)", "class_method_signature": "PropertyValidationContext.PropertyValidationContext(final Map<String, PropertyDescriptor> propertyDescriptors, final boolean dynamicPropertiesSupported)", "testcase": false, "constructor": true}, {"identifier": "validateProperties", "parameters": "(final Map<String, String> properties, final VersionedProcessGroup flow, final String flowId,\n                                                    final ControllerServiceLookup controllerServiceLookup)", "modifiers": "protected", "return": "Collection<String>", "signature": "Collection<String> validateProperties(final Map<String, String> properties, final VersionedProcessGroup flow, final String flowId,\n                                                    final ControllerServiceLookup controllerServiceLookup)", "full_signature": "protected Collection<String> validateProperties(final Map<String, String> properties, final VersionedProcessGroup flow, final String flowId,\n                                                    final ControllerServiceLookup controllerServiceLookup)", "class_method_signature": "PropertyValidationContext.validateProperties(final Map<String, String> properties, final VersionedProcessGroup flow, final String flowId,\n                                                    final ControllerServiceLookup controllerServiceLookup)", "testcase": false, "constructor": false}, {"identifier": "validateNoExtraProperties", "parameters": "(final Map<String, String> properties, final Collection<String> validationErrors)", "modifiers": "private", "return": "void", "signature": "void validateNoExtraProperties(final Map<String, String> properties, final Collection<String> validationErrors)", "full_signature": "private void validateNoExtraProperties(final Map<String, String> properties, final Collection<String> validationErrors)", "class_method_signature": "PropertyValidationContext.validateNoExtraProperties(final Map<String, String> properties, final Collection<String> validationErrors)", "testcase": false, "constructor": false}, {"identifier": "computePropertyValidationErrors", "parameters": "(final Map<String, String> properties, final Collection<String> validationErrors)", "modifiers": "private", "return": "void", "signature": "void computePropertyValidationErrors(final Map<String, String> properties, final Collection<String> validationErrors)", "full_signature": "private void computePropertyValidationErrors(final Map<String, String> properties, final Collection<String> validationErrors)", "class_method_signature": "PropertyValidationContext.computePropertyValidationErrors(final Map<String, String> properties, final Collection<String> validationErrors)", "testcase": false, "constructor": false}, {"identifier": "validateControllerServiceReferences", "parameters": "(final Map<String, String> properties, final VersionedProcessGroup flow, final String flowId,\n                                                     final ControllerServiceLookup controllerServiceLookup, final Collection<String> validationErrors)", "modifiers": "private", "return": "void", "signature": "void validateControllerServiceReferences(final Map<String, String> properties, final VersionedProcessGroup flow, final String flowId,\n                                                     final ControllerServiceLookup controllerServiceLookup, final Collection<String> validationErrors)", "full_signature": "private void validateControllerServiceReferences(final Map<String, String> properties, final VersionedProcessGroup flow, final String flowId,\n                                                     final ControllerServiceLookup controllerServiceLookup, final Collection<String> validationErrors)", "class_method_signature": "PropertyValidationContext.validateControllerServiceReferences(final Map<String, String> properties, final VersionedProcessGroup flow, final String flowId,\n                                                     final ControllerServiceLookup controllerServiceLookup, final Collection<String> validationErrors)", "testcase": false, "constructor": false}, {"identifier": "isServiceOfCorrectType", "parameters": "(final VersionedControllerService service, final DefinedType expectedType)", "modifiers": "private", "return": "boolean", "signature": "boolean isServiceOfCorrectType(final VersionedControllerService service, final DefinedType expectedType)", "full_signature": "private boolean isServiceOfCorrectType(final VersionedControllerService service, final DefinedType expectedType)", "class_method_signature": "PropertyValidationContext.isServiceOfCorrectType(final VersionedControllerService service, final DefinedType expectedType)", "testcase": false, "constructor": false}, {"identifier": "findControllerService", "parameters": "(final VersionedProcessGroup group, final String serviceId)", "modifiers": "private", "return": "Optional<VersionedControllerService>", "signature": "Optional<VersionedControllerService> findControllerService(final VersionedProcessGroup group, final String serviceId)", "full_signature": "private Optional<VersionedControllerService> findControllerService(final VersionedProcessGroup group, final String serviceId)", "class_method_signature": "PropertyValidationContext.findControllerService(final VersionedProcessGroup group, final String serviceId)", "testcase": false, "constructor": false}, {"identifier": "getDisplayName", "parameters": "(final PropertyDescriptor descriptor)", "modifiers": "private", "return": "String", "signature": "String getDisplayName(final PropertyDescriptor descriptor)", "full_signature": "private String getDisplayName(final PropertyDescriptor descriptor)", "class_method_signature": "PropertyValidationContext.getDisplayName(final PropertyDescriptor descriptor)", "testcase": false, "constructor": false}, {"identifier": "getPropertyValue", "parameters": "(final PropertyDescriptor descriptor, final Map<String, String> properties)", "modifiers": "private", "return": "String", "signature": "String getPropertyValue(final PropertyDescriptor descriptor, final Map<String, String> properties)", "full_signature": "private String getPropertyValue(final PropertyDescriptor descriptor, final Map<String, String> properties)", "class_method_signature": "PropertyValidationContext.getPropertyValue(final PropertyDescriptor descriptor, final Map<String, String> properties)", "testcase": false, "constructor": false}], "file": "efm/efm-flow-designer/efm-flow-designer-framework/src/main/java/com/cloudera/cem/efm/validation/PropertyValidationContext.java"}, "focal_method": {"identifier": "validateProperties", "parameters": "(final Map<String, String> properties, final VersionedProcessGroup flow, final String flowId,\n                                                    final ControllerServiceLookup controllerServiceLookup)", "modifiers": "protected", "return": "Collection<String>", "body": "protected Collection<String> validateProperties(final Map<String, String> properties, final VersionedProcessGroup flow, final String flowId,\n                                                    final ControllerServiceLookup controllerServiceLookup) {\n        final List<String> validationErrors = new ArrayList<>();\n\n        computePropertyValidationErrors(properties, validationErrors);\n        validateNoExtraProperties(properties, validationErrors);\n        validateControllerServiceReferences(properties, flow, flowId, controllerServiceLookup, validationErrors);\n\n        return validationErrors;\n    }", "signature": "Collection<String> validateProperties(final Map<String, String> properties, final VersionedProcessGroup flow, final String flowId,\n                                                    final ControllerServiceLookup controllerServiceLookup)", "full_signature": "protected Collection<String> validateProperties(final Map<String, String> properties, final VersionedProcessGroup flow, final String flowId,\n                                                    final ControllerServiceLookup controllerServiceLookup)", "class_method_signature": "PropertyValidationContext.validateProperties(final Map<String, String> properties, final VersionedProcessGroup flow, final String flowId,\n                                                    final ControllerServiceLookup controllerServiceLookup)", "testcase": false, "constructor": false, "invocations": ["computePropertyValidationErrors", "validateNoExtraProperties", "validateControllerServiceReferences"]}, "repository": {"repo_id": 181071001, "url": "https://github.com/hortonworks/efm", "language": "Java", "is_fork": false, "fork_count": 5, "stargazer_count": 7, "size": 2003, "license": "licensed"}}