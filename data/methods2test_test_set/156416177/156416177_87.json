{"test_class": {"identifier": "SvDebitCmdBuildTest", "superclass": "", "interfaces": "", "fields": [], "file": "java/component/keyple-calypso/src/test/java/org/eclipse/keyple/calypso/command/po/builder/storedvalue/SvDebitCmdBuildTest.java"}, "test_case": {"identifier": "svDebitCmdBuild_mode_compat_get_debit_data", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void svDebitCmdBuild_mode_compat_get_debit_data() {\n    SvDebitCmdBuild svDebitCmdBuild =\n        new SvDebitCmdBuild(\n            PoClass.ISO,\n            PoRevision.REV3_1,\n            /* amount */ 1, /*\n                             * KVC\n                             */\n            (byte) 0xAA, /* date */\n            ByteArrayUtil.fromHex(\"1122\"),\n            /* time */ ByteArrayUtil.fromHex(\"3344\"));\n    byte[] svDebitData = svDebitCmdBuild.getSvDebitData();\n    Assert.assertArrayEquals(ByteArrayUtil.fromHex(\"BA00001400FFFF11223344AA\"), svDebitData);\n  }", "signature": "void svDebitCmdBuild_mode_compat_get_debit_data()", "full_signature": "@Test public void svDebitCmdBuild_mode_compat_get_debit_data()", "class_method_signature": "SvDebitCmdBuildTest.svDebitCmdBuild_mode_compat_get_debit_data()", "testcase": true, "constructor": false, "invocations": ["fromHex", "fromHex", "getSvDebitData", "assertArrayEquals", "fromHex"]}, "focal_class": {"identifier": "SvDebitCmdBuild", "superclass": "extends AbstractPoCommandBuilder<SvDebitRespPars>", "interfaces": "", "fields": [{"original_string": "private static final CalypsoPoCommand command = CalypsoPoCommand.SV_DEBIT;", "modifier": "private static final", "type": "CalypsoPoCommand", "declarator": "command = CalypsoPoCommand.SV_DEBIT", "var_name": "command"}, {"original_string": "private final PoClass poClass;", "modifier": "private final", "type": "PoClass", "declarator": "poClass", "var_name": "poClass"}, {"original_string": "private final PoRevision poRevision;", "modifier": "private final", "type": "PoRevision", "declarator": "poRevision", "var_name": "poRevision"}, {"original_string": "private final byte[] dataIn;", "modifier": "private final", "type": "byte[]", "declarator": "dataIn", "var_name": "dataIn"}], "methods": [{"identifier": "SvDebitCmdBuild", "parameters": "(\n      PoClass poClass, PoRevision poRevision, int amount, byte kvc, byte[] date, byte[] time)", "modifiers": "public", "return": "", "signature": " SvDebitCmdBuild(\n      PoClass poClass, PoRevision poRevision, int amount, byte kvc, byte[] date, byte[] time)", "full_signature": "public  SvDebitCmdBuild(\n      PoClass poClass, PoRevision poRevision, int amount, byte kvc, byte[] date, byte[] time)", "class_method_signature": "SvDebitCmdBuild.SvDebitCmdBuild(\n      PoClass poClass, PoRevision poRevision, int amount, byte kvc, byte[] date, byte[] time)", "testcase": false, "constructor": true}, {"identifier": "finalizeBuilder", "parameters": "(byte[] debitComplementaryData)", "modifiers": "public", "return": "void", "signature": "void finalizeBuilder(byte[] debitComplementaryData)", "full_signature": "public void finalizeBuilder(byte[] debitComplementaryData)", "class_method_signature": "SvDebitCmdBuild.finalizeBuilder(byte[] debitComplementaryData)", "testcase": false, "constructor": false}, {"identifier": "getSvDebitData", "parameters": "()", "modifiers": "public", "return": "byte[]", "signature": "byte[] getSvDebitData()", "full_signature": "public byte[] getSvDebitData()", "class_method_signature": "SvDebitCmdBuild.getSvDebitData()", "testcase": false, "constructor": false}, {"identifier": "createResponseParser", "parameters": "(ApduResponse apduResponse)", "modifiers": "@Override public", "return": "SvDebitRespPars", "signature": "SvDebitRespPars createResponseParser(ApduResponse apduResponse)", "full_signature": "@Override public SvDebitRespPars createResponseParser(ApduResponse apduResponse)", "class_method_signature": "SvDebitCmdBuild.createResponseParser(ApduResponse apduResponse)", "testcase": false, "constructor": false}, {"identifier": "isSessionBufferUsed", "parameters": "()", "modifiers": "@Override public", "return": "boolean", "signature": "boolean isSessionBufferUsed()", "full_signature": "@Override public boolean isSessionBufferUsed()", "class_method_signature": "SvDebitCmdBuild.isSessionBufferUsed()", "testcase": false, "constructor": false}], "file": "java/component/keyple-calypso/src/main/java/org/eclipse/keyple/calypso/command/po/builder/storedvalue/SvDebitCmdBuild.java"}, "focal_method": {"identifier": "getSvDebitData", "parameters": "()", "modifiers": "public", "return": "byte[]", "body": "public byte[] getSvDebitData() {\n    byte[] svDebitData = new byte[12];\n    svDebitData[0] = command.getInstructionByte();\n    // svDebitData[1,2] / P1P2 not set because ignored\n    // Lc is 5 bytes longer in revision 3.2\n    svDebitData[3] = poRevision == PoRevision.REV3_2 ? (byte) 0x19 : (byte) 0x14;\n    // appends the fixed part of dataIn\n    System.arraycopy(dataIn, 0, svDebitData, 4, 8);\n    return svDebitData;\n  }", "signature": "byte[] getSvDebitData()", "full_signature": "public byte[] getSvDebitData()", "class_method_signature": "SvDebitCmdBuild.getSvDebitData()", "testcase": false, "constructor": false, "invocations": ["getInstructionByte", "arraycopy"]}, "repository": {"repo_id": 156416177, "url": "https://github.com/eclipse/keyple-java", "language": "Java", "is_fork": false, "fork_count": 11, "stargazer_count": 8, "size": 10325, "license": "licensed"}}