{"test_class": {"identifier": "SettingsDialogControllerTest", "superclass": "extends ApplicationTest", "interfaces": "", "fields": [{"original_string": "private SettingsDialogController controller;", "modifier": "private", "type": "SettingsDialogController", "declarator": "controller", "var_name": "controller"}, {"original_string": "private Node root;", "modifier": "private", "type": "Node", "declarator": "root", "var_name": "root"}], "file": "app/src/test/java/edu/wpi/first/shuffleboard/app/prefs/SettingsDialogControllerTest.java"}, "test_case": {"identifier": "testSingleCategory", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testSingleCategory() {\n    Category category = Category.of(\"Category\",\n        Group.of(\"Group 1\",\n            Setting.of(\"Setting 1\", new SimpleBooleanProperty()),\n            Setting.of(\"Setting 2\", new SimpleBooleanProperty())\n        ),\n        Group.of(\"Group 2\",\n            Setting.of(\"Setting 3\", new SimpleDoubleProperty()),\n            Setting.of(\"Setting 4\", new SimpleDoubleProperty())\n        )\n    );\n\n    FxUtils.runOnFxThread(() -> controller.setRootCategories(Collections.singleton(category)));\n\n    waitForFxEvents();\n\n    // Check the tree view - there should only be one item\n    TreeView<Category> tree = lookup(\".settings-categories\").query();\n    ObservableList<TreeItem<Category>> children = tree.getRoot().getChildren();\n    assertEquals(1, children.size(), \"Only one category should be present\");\n    assertEquals(category, children.get(0).getValue(), \"Root category was wrong\");\n\n    // Check the property sheet\n    PropertySheet propertySheet = (PropertySheet) root.lookup(\".property-sheet\");\n    assertNotNull(propertySheet, \"Property sheet for category was not added\");\n\n    // Check group headers\n    Set<Label> headers = lookup(\".h5\").queryAll();\n    assertAll(\"Check header text\",\n        () -> assertEquals(\"Group 1\", Iterables.get(headers, 0).getText(), \"Different first header text\"),\n        () -> assertEquals(\"Group 2\", Iterables.get(headers, 1).getText(), \"Different second header text\")\n    );\n\n    // Check settings editors are present\n    assertAll(\"Check presence of editors for the settings\",\n        () -> assertNotNull(lookup(TextMatchers.hasText(\"Setting 1\")).query()),\n        () -> assertNotNull(lookup(TextMatchers.hasText(\"Setting 2\")).query()),\n        () -> assertNotNull(lookup(TextMatchers.hasText(\"Setting 3\")).query()),\n        () -> assertNotNull(lookup(TextMatchers.hasText(\"Setting 4\")).query())\n    );\n  }", "signature": "void testSingleCategory()", "full_signature": "@Test public void testSingleCategory()", "class_method_signature": "SettingsDialogControllerTest.testSingleCategory()", "testcase": true, "constructor": false, "invocations": ["of", "of", "of", "of", "of", "of", "of", "runOnFxThread", "setRootCategories", "singleton", "waitForFxEvents", "query", "lookup", "getChildren", "getRoot", "assertEquals", "size", "assertEquals", "getValue", "get", "lookup", "assertNotNull", "queryAll", "lookup", "assertAll", "assertEquals", "getText", "get", "assertEquals", "getText", "get", "assertAll", "assertNotNull", "query", "lookup", "hasText", "assertNotNull", "query", "lookup", "hasText", "assertNotNull", "query", "lookup", "hasText", "assertNotNull", "query", "lookup", "hasText"]}, "focal_class": {"identifier": "SettingsDialogController", "superclass": "", "interfaces": "", "fields": [{"original_string": "@FXML\n  private SplitPane root;", "modifier": "@FXML\n  private", "type": "SplitPane", "declarator": "root", "var_name": "root"}, {"original_string": "@FXML\n  private TreeView<Category> categories;", "modifier": "@FXML\n  private", "type": "TreeView<Category>", "declarator": "categories", "var_name": "categories"}, {"original_string": "@FXML\n  private TreeItem<Category> rootItem;", "modifier": "@FXML\n  private", "type": "TreeItem<Category>", "declarator": "rootItem", "var_name": "rootItem"}, {"original_string": "@FXML\n  private StackPane view;", "modifier": "@FXML\n  private", "type": "StackPane", "declarator": "view", "var_name": "view"}], "methods": [{"identifier": "initialize", "parameters": "()", "modifiers": "@FXML private", "return": "void", "signature": "void initialize()", "full_signature": "@FXML private void initialize()", "class_method_signature": "SettingsDialogController.initialize()", "testcase": false, "constructor": false}, {"identifier": "setViewForCategory", "parameters": "(Category category)", "modifiers": "private", "return": "void", "signature": "void setViewForCategory(Category category)", "full_signature": "private void setViewForCategory(Category category)", "class_method_signature": "SettingsDialogController.setViewForCategory(Category category)", "testcase": false, "constructor": false}, {"identifier": "setRootCategories", "parameters": "(Collection<Category> rootCategories)", "modifiers": "public", "return": "void", "signature": "void setRootCategories(Collection<Category> rootCategories)", "full_signature": "public void setRootCategories(Collection<Category> rootCategories)", "class_method_signature": "SettingsDialogController.setRootCategories(Collection<Category> rootCategories)", "testcase": false, "constructor": false}, {"identifier": "addSubcategories", "parameters": "(TreeItem<Category> rootItem)", "modifiers": "private", "return": "void", "signature": "void addSubcategories(TreeItem<Category> rootItem)", "full_signature": "private void addSubcategories(TreeItem<Category> rootItem)", "class_method_signature": "SettingsDialogController.addSubcategories(TreeItem<Category> rootItem)", "testcase": false, "constructor": false}, {"identifier": "applySettings", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void applySettings()", "full_signature": "public void applySettings()", "class_method_signature": "SettingsDialogController.applySettings()", "testcase": false, "constructor": false}, {"identifier": "applySettings", "parameters": "(TreeItem<Category> item)", "modifiers": "private", "return": "void", "signature": "void applySettings(TreeItem<Category> item)", "full_signature": "private void applySettings(TreeItem<Category> item)", "class_method_signature": "SettingsDialogController.applySettings(TreeItem<Category> item)", "testcase": false, "constructor": false}], "file": "app/src/main/java/edu/wpi/first/shuffleboard/app/prefs/SettingsDialogController.java"}, "focal_method": {"identifier": "setRootCategories", "parameters": "(Collection<Category> rootCategories)", "modifiers": "public", "return": "void", "body": "public void setRootCategories(Collection<Category> rootCategories) {\n    rootItem.getChildren().clear();\n    for (Category rootCategory : rootCategories) {\n      TreeItem<Category> item = new TreeItem<>(rootCategory);\n      addSubcategories(item);\n      rootItem.getChildren().add(item);\n    }\n  }", "signature": "void setRootCategories(Collection<Category> rootCategories)", "full_signature": "public void setRootCategories(Collection<Category> rootCategories)", "class_method_signature": "SettingsDialogController.setRootCategories(Collection<Category> rootCategories)", "testcase": false, "constructor": false, "invocations": ["clear", "getChildren", "addSubcategories", "add", "getChildren"]}, "repository": {"repo_id": 91855299, "url": "https://github.com/wpilibsuite/shuffleboard", "stars": 52, "created": "5/20/2017 12:38:25 AM +00:00", "updates": "2020-01-23T20:11:35+00:00", "fork": "False", "license": "licensed"}}