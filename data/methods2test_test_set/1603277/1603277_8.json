{"test_class": {"identifier": "ProfileFromItsKdeWhoServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private ProfileFromItsKdeWhoService service;", "modifier": "private", "type": "ProfileFromItsKdeWhoService", "declarator": "service", "var_name": "service"}], "file": "eu.alert-project.iccs.stardom.core/eu.alert-project.iccs.stardom.analyzers/eu.alert-project.iccs.startdom.analyzers.its/src/test/java/eu/alertproject/iccs/stardom/analyzers/its/internal/ProfileFromItsKdeWhoServiceTest.java"}, "test_case": {"identifier": "testSimpleName", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testSimpleName(){\n\n        Profile p  = new Profile();\n        p.setName(\"Fotis Paras\");\n        p.setEmail(\"fotisp mail ntua gr\");\n        Profile generate = service.generate(p);\n\n        Assert.assertNotNull(generate);\n        Assert.assertEquals(\"Fotis\",generate.getName());\n        Assert.assertEquals(\"Paras\",generate.getLastname());\n        Assert.assertEquals(\"fotisp mail ntua gr\",generate.getEmail());\n\n    }", "signature": "void testSimpleName()", "full_signature": "@Test public void testSimpleName()", "class_method_signature": "ProfileFromItsKdeWhoServiceTest.testSimpleName()", "testcase": true, "constructor": false, "invocations": ["setName", "setEmail", "generate", "assertNotNull", "assertEquals", "getName", "assertEquals", "getLastname", "assertEquals", "getEmail"]}, "focal_class": {"identifier": "ProfileFromItsKdeWhoService", "superclass": "", "interfaces": "", "fields": [{"original_string": "private Logger logger = LoggerFactory.getLogger(ProfileFromItsKdeWhoService.class);", "modifier": "private", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(ProfileFromItsKdeWhoService.class)", "var_name": "logger"}], "methods": [{"identifier": "generate", "parameters": "(Profile dirty)", "modifiers": "public", "return": "Profile", "signature": "Profile generate(Profile dirty)", "full_signature": "public Profile generate(Profile dirty)", "class_method_signature": "ProfileFromItsKdeWhoService.generate(Profile dirty)", "testcase": false, "constructor": false}], "file": "eu.alert-project.iccs.stardom.core/eu.alert-project.iccs.stardom.analyzers/eu.alert-project.iccs.startdom.analyzers.its/src/main/java/eu/alertproject/iccs/stardom/analyzers/its/internal/ProfileFromItsKdeWhoService.java"}, "focal_method": {"identifier": "generate", "parameters": "(Profile dirty)", "modifiers": "public", "return": "Profile", "body": "public Profile generate(Profile dirty){\n\n        String name = StringUtils.trimToEmpty(dirty.getName());\n        String email = StringUtils.trimToEmpty(dirty.getEmail());\n\n        Profile profile = new Profile();\n        profile.setUsername(dirty.getUsername());\n        profile.setEmail(email);\n        profile.setSourceId(dirty.getSourceId());\n\n        /**\n         * 1.) Names are composed of a single word, the rest is the last name\n         */\n        Pattern p = Pattern.compile(\"([\\\\p{L}\\\\w\\\\?-]+) *([\\\\p{L}\\\\w\\\\?\\\\.\\\\d=\\\\\\\\ -]+)?\");\n\n        Matcher matcher = p.matcher(name);\n\n        logger.trace(\"Profile generate() {} \",name,email);\n\n        if(matcher.matches()){\n            logger.trace(\"Profile generate() ************* MATCHES ***************\");\n\n            profile.setName(matcher.group(1));\n            profile.setLastname(matcher.group(2));\n\n        }else{\n            logger.trace(\"Profile generate() ----------------   NOT MATCHED\");\n            profile.setName(null);\n            profile.setLastname(null);\n        }\n\n\n\n        //check none\n        if(StringUtils.trimToEmpty(profile.getName()).toLowerCase().equals(\"none\")){\n            profile.setName(null);\n        }\n        if(StringUtils.trimToEmpty(profile.getLastname()).toLowerCase().equals(\"none\")){\n            profile.setLastname(null);\n        }\n\n        if(StringUtils.trimToEmpty(profile.getUsername()).toLowerCase().equals(\"none\")){\n            profile.setUsername(null);\n        }\n\n        if(StringUtils.trimToEmpty(profile.getEmail()).toLowerCase().equals(\"none\")){\n            profile.setEmail(null);\n        }\n\n\n        logger.trace(\"Profile generate() Returning {} \",profile);\n        return profile;\n\n    }", "signature": "Profile generate(Profile dirty)", "full_signature": "public Profile generate(Profile dirty)", "class_method_signature": "ProfileFromItsKdeWhoService.generate(Profile dirty)", "testcase": false, "constructor": false, "invocations": ["trimToEmpty", "getName", "trimToEmpty", "getEmail", "setUsername", "getUsername", "setEmail", "setSourceId", "getSourceId", "compile", "matcher", "trace", "matches", "trace", "setName", "group", "setLastname", "group", "trace", "setName", "setLastname", "equals", "toLowerCase", "trimToEmpty", "getName", "setName", "equals", "toLowerCase", "trimToEmpty", "getLastname", "setLastname", "equals", "toLowerCase", "trimToEmpty", "getUsername", "setUsername", "equals", "toLowerCase", "trimToEmpty", "getEmail", "setEmail", "trace"]}, "repository": {"repo_id": 1603277, "url": "https://github.com/iccs/STARDOM", "language": "Java", "is_fork": false, "fork_count": 4, "stargazer_count": 7, "size": 39514, "license": "licensed"}}