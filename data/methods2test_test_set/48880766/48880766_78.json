{"test_class": {"identifier": "WindowSpecificationTest", "superclass": "", "interfaces": "", "fields": [], "file": "core/src/test/java/tech/tablesaw/analytic/WindowSpecificationTest.java"}, "test_case": {"identifier": "testToSqlString", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testToSqlString() {\n    WindowSpecification windowSpecification =\n        WindowSpecification.builder()\n            .setWindowName(\"mainWindow\")\n            .setSort(Sort.on(\"col1\", Sort.Order.ASCEND).next(\"col2\", Sort.Order.DESCEND))\n            .setPartitionColumns(ImmutableList.of(\"col1\", \"col2\"))\n            .build();\n\n    String expected =\n        \"PARTITION BY col1, col2\" + System.lineSeparator() + \"ORDER BY col1 ASC, col2 DESC\";\n\n    assertEquals(expected, windowSpecification.toSqlString());\n  }", "signature": "void testToSqlString()", "full_signature": "@Test public void testToSqlString()", "class_method_signature": "WindowSpecificationTest.testToSqlString()", "testcase": true, "constructor": false, "invocations": ["build", "setPartitionColumns", "setSort", "setWindowName", "builder", "next", "on", "of", "lineSeparator", "assertEquals", "toSqlString"]}, "focal_class": {"identifier": "WindowSpecification", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final String windowName;", "modifier": "private final", "type": "String", "declarator": "windowName", "var_name": "windowName"}, {"original_string": "private final Set<String> partitionColumns;", "modifier": "private final", "type": "Set<String>", "declarator": "partitionColumns", "var_name": "partitionColumns"}, {"original_string": "private final Sort sort;", "modifier": "private final", "type": "Sort", "declarator": "sort", "var_name": "sort"}], "methods": [{"identifier": "WindowSpecification", "parameters": "(String windowName, Set<String> partitionColumns, Sort sort)", "modifiers": "private", "return": "", "signature": " WindowSpecification(String windowName, Set<String> partitionColumns, Sort sort)", "full_signature": "private  WindowSpecification(String windowName, Set<String> partitionColumns, Sort sort)", "class_method_signature": "WindowSpecification.WindowSpecification(String windowName, Set<String> partitionColumns, Sort sort)", "testcase": false, "constructor": true}, {"identifier": "builder", "parameters": "()", "modifiers": "static", "return": "Builder", "signature": "Builder builder()", "full_signature": "static Builder builder()", "class_method_signature": "WindowSpecification.builder()", "testcase": false, "constructor": false}, {"identifier": "toSqlString", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String toSqlString()", "full_signature": "public String toSqlString()", "class_method_signature": "WindowSpecification.toSqlString()", "testcase": false, "constructor": false}, {"identifier": "isEmpty", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isEmpty()", "full_signature": "public boolean isEmpty()", "class_method_signature": "WindowSpecification.isEmpty()", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String toString()", "full_signature": "@Override public String toString()", "class_method_signature": "WindowSpecification.toString()", "testcase": false, "constructor": false}, {"identifier": "getWindowName", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getWindowName()", "full_signature": "public String getWindowName()", "class_method_signature": "WindowSpecification.getWindowName()", "testcase": false, "constructor": false}, {"identifier": "getPartitionColumns", "parameters": "()", "modifiers": "public", "return": "Set<String>", "signature": "Set<String> getPartitionColumns()", "full_signature": "public Set<String> getPartitionColumns()", "class_method_signature": "WindowSpecification.getPartitionColumns()", "testcase": false, "constructor": false}, {"identifier": "getSort", "parameters": "()", "modifiers": "public", "return": "Optional<Sort>", "signature": "Optional<Sort> getSort()", "full_signature": "public Optional<Sort> getSort()", "class_method_signature": "WindowSpecification.getSort()", "testcase": false, "constructor": false}, {"identifier": "formatOrdering", "parameters": "(Map.Entry<String, Sort.Order> sortEntry)", "modifiers": "private", "return": "String", "signature": "String formatOrdering(Map.Entry<String, Sort.Order> sortEntry)", "full_signature": "private String formatOrdering(Map.Entry<String, Sort.Order> sortEntry)", "class_method_signature": "WindowSpecification.formatOrdering(Map.Entry<String, Sort.Order> sortEntry)", "testcase": false, "constructor": false}, {"identifier": "equals", "parameters": "(Object o)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean equals(Object o)", "full_signature": "@Override public boolean equals(Object o)", "class_method_signature": "WindowSpecification.equals(Object o)", "testcase": false, "constructor": false}, {"identifier": "hashCode", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int hashCode()", "full_signature": "@Override public int hashCode()", "class_method_signature": "WindowSpecification.hashCode()", "testcase": false, "constructor": false}], "file": "core/src/main/java/tech/tablesaw/analytic/WindowSpecification.java"}, "focal_method": {"identifier": "toSqlString", "parameters": "()", "modifiers": "public", "return": "String", "body": "public String toSqlString() {\n    StringBuilder sb = new StringBuilder();\n    if (!partitionColumns.isEmpty()) {\n      sb.append(\"PARTITION BY \");\n      sb.append(String.join(\", \", partitionColumns));\n      sb.append(System.lineSeparator());\n    }\n    if (!sort.isEmpty()) {\n      sb.append(\"ORDER BY \");\n      sb.append(\n          Streams.stream(sort.iterator())\n              .map(this::formatOrdering)\n              .collect(Collectors.joining(\", \")));\n    }\n    return sb.toString();\n  }", "signature": "String toSqlString()", "full_signature": "public String toSqlString()", "class_method_signature": "WindowSpecification.toSqlString()", "testcase": false, "constructor": false, "invocations": ["isEmpty", "append", "append", "join", "append", "lineSeparator", "isEmpty", "append", "append", "collect", "map", "stream", "iterator", "joining", "toString"]}, "repository": {"repo_id": 48880766, "url": "https://github.com/jtablesaw/tablesaw", "stars": 2021, "created": "1/1/2016 2:58:28 PM +00:00", "updates": "2020-01-24T23:26:07+00:00", "fork": "False", "license": "licensed"}}