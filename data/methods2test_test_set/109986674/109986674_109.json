{"test_class": {"identifier": "CluecumberReportPluginTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private CluecumberReportPlugin cluecumberReportPlugin;", "modifier": "private", "type": "CluecumberReportPlugin", "declarator": "cluecumberReportPlugin", "var_name": "cluecumberReportPlugin"}, {"original_string": "private JsonPojoConverter jsonPojoConverter;", "modifier": "private", "type": "JsonPojoConverter", "declarator": "jsonPojoConverter", "var_name": "jsonPojoConverter"}, {"original_string": "private FileIO fileIO;", "modifier": "private", "type": "FileIO", "declarator": "fileIO", "var_name": "fileIO"}], "file": "plugin-code/src/test/java/com/trivago/cluecumber/CluecumberReportPluginTest.java"}, "test_case": {"identifier": "executeTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void executeTest() throws CluecumberPluginException {\n        cluecumberReportPlugin.execute();\n    }", "signature": "void executeTest()", "full_signature": "@Test public void executeTest()", "class_method_signature": "CluecumberReportPluginTest.executeTest()", "testcase": true, "constructor": false, "invocations": ["execute"]}, "focal_class": {"identifier": "CluecumberReportPlugin", "superclass": "extends PropertyCollector", "interfaces": "", "fields": [{"original_string": "private final CluecumberLogger logger;", "modifier": "private final", "type": "CluecumberLogger", "declarator": "logger", "var_name": "logger"}, {"original_string": "private final PropertyManager propertyManager;", "modifier": "private final", "type": "PropertyManager", "declarator": "propertyManager", "var_name": "propertyManager"}, {"original_string": "private final FileSystemManager fileSystemManager;", "modifier": "private final", "type": "FileSystemManager", "declarator": "fileSystemManager", "var_name": "fileSystemManager"}, {"original_string": "private final FileIO fileIO;", "modifier": "private final", "type": "FileIO", "declarator": "fileIO", "var_name": "fileIO"}, {"original_string": "private final JsonPojoConverter jsonPojoConverter;", "modifier": "private final", "type": "JsonPojoConverter", "declarator": "jsonPojoConverter", "var_name": "jsonPojoConverter"}, {"original_string": "private final ElementIndexPreProcessor elementIndexPreProcessor;", "modifier": "private final", "type": "ElementIndexPreProcessor", "declarator": "elementIndexPreProcessor", "var_name": "elementIndexPreProcessor"}, {"original_string": "private final ReportGenerator reportGenerator;", "modifier": "private final", "type": "ReportGenerator", "declarator": "reportGenerator", "var_name": "reportGenerator"}, {"original_string": "@SuppressWarnings(\"unused\")\n    @Parameter(defaultValue = \"false\", property = \"skip\")\n    private boolean skip;", "modifier": "@SuppressWarnings(\"unused\")\n    @Parameter(defaultValue = \"false\", property = \"skip\")\n    private", "type": "boolean", "declarator": "skip", "var_name": "skip"}], "methods": [{"identifier": "CluecumberReportPlugin", "parameters": "(\n            final CluecumberLogger logger,\n            final PropertyManager propertyManager,\n            final FileSystemManager fileSystemManager,\n            final FileIO fileIO,\n            final JsonPojoConverter jsonPojoConverter,\n            final ElementIndexPreProcessor elementIndexPreProcessor,\n            final ReportGenerator reportGenerator\n    )", "modifiers": "@Inject public", "return": "", "signature": " CluecumberReportPlugin(\n            final CluecumberLogger logger,\n            final PropertyManager propertyManager,\n            final FileSystemManager fileSystemManager,\n            final FileIO fileIO,\n            final JsonPojoConverter jsonPojoConverter,\n            final ElementIndexPreProcessor elementIndexPreProcessor,\n            final ReportGenerator reportGenerator\n    )", "full_signature": "@Inject public  CluecumberReportPlugin(\n            final CluecumberLogger logger,\n            final PropertyManager propertyManager,\n            final FileSystemManager fileSystemManager,\n            final FileIO fileIO,\n            final JsonPojoConverter jsonPojoConverter,\n            final ElementIndexPreProcessor elementIndexPreProcessor,\n            final ReportGenerator reportGenerator\n    )", "class_method_signature": "CluecumberReportPlugin.CluecumberReportPlugin(\n            final CluecumberLogger logger,\n            final PropertyManager propertyManager,\n            final FileSystemManager fileSystemManager,\n            final FileIO fileIO,\n            final JsonPojoConverter jsonPojoConverter,\n            final ElementIndexPreProcessor elementIndexPreProcessor,\n            final ReportGenerator reportGenerator\n    )", "testcase": false, "constructor": true}, {"identifier": "execute", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void execute()", "full_signature": "public void execute()", "class_method_signature": "CluecumberReportPlugin.execute()", "testcase": false, "constructor": false}], "file": "plugin-code/src/main/java/com/trivago/cluecumber/CluecumberReportPlugin.java"}, "focal_method": {"identifier": "execute", "parameters": "()", "modifiers": "public", "return": "void", "body": "public void execute() throws CluecumberPluginException {\n        // Initialize logger to be available outside the AbstractMojo class\n        logger.initialize(getLog(), logLevel);\n\n        if (skip) {\n            logger.info(\"Cluecumber report generation was skipped using the <skip> property.\",\n                    DEFAULT);\n            return;\n        }\n\n        logger.logInfoSeparator(DEFAULT);\n        logger.info(String.format(\" Cluecumber Report Maven Plugin, version %s\", getClass().getPackage()\n                .getImplementationVersion()), DEFAULT);\n        logger.logInfoSeparator(DEFAULT, COMPACT);\n\n        super.execute();\n\n        // Create attachment directory here since they are handled during json generation.\n        fileSystemManager.createDirectory(propertyManager.getGeneratedHtmlReportDirectory() + \"/attachments\");\n\n        AllScenariosPageCollection allScenariosPageCollection = new AllScenariosPageCollection(propertyManager.getCustomPageTitle());\n        List<Path> jsonFilePaths = fileSystemManager.getJsonFilePaths(propertyManager.getSourceJsonReportDirectory());\n        for (Path jsonFilePath : jsonFilePaths) {\n            String jsonString = fileIO.readContentFromFile(jsonFilePath.toString());\n            try {\n                Report[] reports = jsonPojoConverter.convertJsonToReportPojos(jsonString);\n                allScenariosPageCollection.addReports(reports);\n            } catch (CluecumberPluginException e) {\n                logger.warn(\"Could not parse JSON in file '\" + jsonFilePath.toString() + \"': \" + e.getMessage());\n            }\n        }\n        elementIndexPreProcessor.addScenarioIndices(allScenariosPageCollection.getReports());\n        reportGenerator.generateReport(allScenariosPageCollection);\n        logger.info(\n                \"=> Cluecumber Report: \" + propertyManager.getGeneratedHtmlReportDirectory() + \"/\" +\n                        PluginSettings.START_PAGE_PATH + PluginSettings.HTML_FILE_EXTENSION,\n                DEFAULT,\n                COMPACT,\n                CluecumberLogger.CluecumberLogLevel.MINIMAL\n        );\n    }", "signature": "void execute()", "full_signature": "public void execute()", "class_method_signature": "CluecumberReportPlugin.execute()", "testcase": false, "constructor": false, "invocations": ["initialize", "getLog", "info", "logInfoSeparator", "info", "format", "getImplementationVersion", "getPackage", "getClass", "logInfoSeparator", "execute", "createDirectory", "getGeneratedHtmlReportDirectory", "getCustomPageTitle", "getJsonFilePaths", "getSourceJsonReportDirectory", "readContentFromFile", "toString", "convertJsonToReportPojos", "addReports", "warn", "toString", "getMessage", "addScenarioIndices", "getReports", "generateReport", "info", "getGeneratedHtmlReportDirectory"]}, "repository": {"repo_id": 109986674, "url": "https://github.com/trivago/cluecumber-report-plugin", "stars": 124, "created": "11/8/2017 2:30:19 PM +00:00", "updates": "2020-01-27T12:00:16+00:00", "fork": "False", "license": "licensed"}}