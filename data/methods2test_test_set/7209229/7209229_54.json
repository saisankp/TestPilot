{"test_class": {"identifier": "TestConfigHelper", "superclass": "", "interfaces": "", "fields": [], "file": "databus-core/databus-core-impl/src/test/java/com/linkedin/databus/core/util/TestConfigHelper.java"}, "test_case": {"identifier": "testParseByteSizeInvalid", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testParseByteSizeInvalid()\n  {\n    try\n    {\n      ConfigHelper.parseByteSize(\"\");\n      Assert.fail();\n    }\n    catch (InvalidConfigException e) {/*OK*/}\n    try\n    {\n      ConfigHelper.parseByteSize(\"1mega\");\n      Assert.fail();\n    }\n    catch (InvalidConfigException e) {/*OK*/}\n    try\n    {\n      ConfigHelper.parseByteSize(\"100MB\");\n      Assert.fail();\n    }\n    catch (InvalidConfigException e) {/*OK*/}\n    try\n    {\n      ConfigHelper.parseByteSize(\"1.5g\");\n      Assert.fail();\n    }\n    catch (InvalidConfigException e) {/*OK*/}\n    try\n    {\n      ConfigHelper.parseByteSize(\"-12k\");\n      Assert.fail();\n    }\n    catch (InvalidConfigException e) {/*OK*/}\n  }", "signature": "void testParseByteSizeInvalid()", "full_signature": "@Test public void testParseByteSizeInvalid()", "class_method_signature": "TestConfigHelper.testParseByteSizeInvalid()", "testcase": true, "constructor": false, "invocations": ["parseByteSize", "fail", "parseByteSize", "fail", "parseByteSize", "fail", "parseByteSize", "fail", "parseByteSize", "fail"]}, "focal_class": {"identifier": "ConfigHelper", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final Pattern DURATION_PATTERN =\n      Pattern.compile(\"\\\\s*(\\\\d+)\\\\s*(ns|nanos|nanosecond|nanoseconds|\" +\n      \t\t          \"us|micros|microsecond|microseconds|\" +\n      \t\t          \"ms|millis|millisecond|milliseconds|\" +\n      \t\t          \"s|sec|second|seconds|\" +\n      \t\t          \"min|minute|minutes|\" +\n      \t\t          \"h|hr|hour|hours|\" +\n      \t\t          \"d|day|days)?\\\\s*\",\n      \t\t          Pattern.CASE_INSENSITIVE);", "modifier": "public static final", "type": "Pattern", "declarator": "DURATION_PATTERN =\n      Pattern.compile(\"\\\\s*(\\\\d+)\\\\s*(ns|nanos|nanosecond|nanoseconds|\" +\n      \t\t          \"us|micros|microsecond|microseconds|\" +\n      \t\t          \"ms|millis|millisecond|milliseconds|\" +\n      \t\t          \"s|sec|second|seconds|\" +\n      \t\t          \"min|minute|minutes|\" +\n      \t\t          \"h|hr|hour|hours|\" +\n      \t\t          \"d|day|days)?\\\\s*\",\n      \t\t          Pattern.CASE_INSENSITIVE)", "var_name": "DURATION_PATTERN"}, {"original_string": "public static final Pattern BYTE_SIZE_PATTERN =\n      Pattern.compile(\"\\\\s*(\\\\d+)\\\\s*(k|K|m|M|g|G|t|T|p|P|e|E)?\\\\s*\");", "modifier": "public static final", "type": "Pattern", "declarator": "BYTE_SIZE_PATTERN =\n      Pattern.compile(\"\\\\s*(\\\\d+)\\\\s*(k|K|m|M|g|G|t|T|p|P|e|E)?\\\\s*\")", "var_name": "BYTE_SIZE_PATTERN"}], "methods": [{"identifier": "parseDuration", "parameters": "(String durationStr, TimeUnit defaultUnit)", "modifiers": "public static", "return": "long", "signature": "long parseDuration(String durationStr, TimeUnit defaultUnit)", "full_signature": "public static long parseDuration(String durationStr, TimeUnit defaultUnit)", "class_method_signature": "ConfigHelper.parseDuration(String durationStr, TimeUnit defaultUnit)", "testcase": false, "constructor": false}, {"identifier": "parseByteSize", "parameters": "(String sizeString)", "modifiers": "public static", "return": "long", "signature": "long parseByteSize(String sizeString)", "full_signature": "public static long parseByteSize(String sizeString)", "class_method_signature": "ConfigHelper.parseByteSize(String sizeString)", "testcase": false, "constructor": false}], "file": "databus-core/databus-core-impl/src/main/java/com/linkedin/databus/core/util/ConfigHelper.java"}, "focal_method": {"identifier": "parseByteSize", "parameters": "(String sizeString)", "modifiers": "public static", "return": "long", "body": "public static long parseByteSize(String sizeString) throws InvalidConfigException\n  {\n    if (null == sizeString) return 0;\n    long unit = 1L;\n    Matcher m = BYTE_SIZE_PATTERN.matcher(sizeString);\n    if (!m.matches()) throw new InvalidConfigException(\"invalid byte-size string: \" + sizeString);\n    if (1 < m.groupCount() && null != m.group(2) && 0 < m.group(2).length())\n    {\n      char unitChar1 = m.group(2).charAt(0);\n      switch (unitChar1)\n      {\n      case 'k': unit = 1000L; break;\n      case 'K': unit = 1024L; break;\n      case 'm': unit = 1000L * 1000L; break;\n      case 'M': unit = 1024L * 1024L; break;\n      case 'g': unit = 1000L * 1000L * 1000L; break;\n      case 'G': unit = 1024L * 1024L * 1024L; break;\n      case 't': unit = 1000L * 1000L * 1000L * 1000L; break;\n      case 'T': unit = 1024L * 1024L * 1024L * 1024L; break;\n      case 'p': unit = 1000L * 1000L * 1000L * 1000L * 1000L; break;\n      case 'P': unit = 1024L * 1024L * 1024L * 1024L * 1024L; break;\n      case 'e': unit = 1000L * 1000L * 1000L * 1000L * 1000L * 1000L; break;\n      case 'E': unit = 1024L * 1024L * 1024L * 1024L * 1024L * 1024L; break;\n      }\n    }\n\n    long value = Long.parseLong(m.group(1));\n    return unit * value;\n\n  }", "signature": "long parseByteSize(String sizeString)", "full_signature": "public static long parseByteSize(String sizeString)", "class_method_signature": "ConfigHelper.parseByteSize(String sizeString)", "testcase": false, "constructor": false, "invocations": ["matcher", "matches", "groupCount", "group", "length", "group", "charAt", "group", "parseLong", "group"]}, "repository": {"repo_id": 7209229, "url": "https://github.com/linkedin/databus", "language": "Java", "is_fork": false, "fork_count": 653, "stargazer_count": 2899, "size": 51191, "license": "licensed"}}