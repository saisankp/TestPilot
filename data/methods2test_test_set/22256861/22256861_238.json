{"test_class": {"identifier": "LandsatQAFactoryTest", "superclass": "", "interfaces": "", "fields": [], "file": "s3tbx-landsat-reader/src/test/java/org/esa/s3tbx/dataio/landsat/geotiff/LandsatQAFactoryTest.java"}, "test_case": {"identifier": "testCollectionOLIQA", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testCollectionOLIQA() throws Exception {\n        File testFile = getTestFile(\"test_CollectionOLI.txt\");\n        LandsatQA landsatQA = LandsatQAFactory.create(testFile);\n        assertTrue(landsatQA instanceof CollectionOLILandsatQA);\n    }", "signature": "void testCollectionOLIQA()", "full_signature": "@Test public void testCollectionOLIQA()", "class_method_signature": "LandsatQAFactoryTest.testCollectionOLIQA()", "testcase": true, "constructor": false, "invocations": ["getTestFile", "create", "assertTrue"]}, "focal_class": {"identifier": "LandsatQAFactory", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "create", "parameters": "(File mtlFile)", "modifiers": "static", "return": "LandsatQA", "signature": "LandsatQA create(File mtlFile)", "full_signature": "static LandsatQA create(File mtlFile)", "class_method_signature": "LandsatQAFactory.create(File mtlFile)", "testcase": false, "constructor": false}], "file": "s3tbx-landsat-reader/src/main/java/org/esa/s3tbx/dataio/landsat/geotiff/LandsatQAFactory.java"}, "focal_method": {"identifier": "create", "parameters": "(File mtlFile)", "modifiers": "static", "return": "LandsatQA", "body": "static LandsatQA create(File mtlFile) throws IOException {\n\n        boolean isCollectionProduct = false;\n        boolean isOLI = false;\n        boolean isMSS = false;\n        boolean isTM = false;\n\n        BufferedReader reader = null;\n        try {\n            FileReader fileReader = new FileReader(mtlFile);\n            reader = new BufferedReader(fileReader);\n            String line = reader.readLine();\n            while (line != null) {\n                if (line.contains(\"COLLECTION_NUMBER\")) {\n                    isCollectionProduct = true;\n                }\n                if (line.contains(\"SENSOR_ID\")) {\n                    if (line.contains(\"OLI\")) {\n                        isOLI = true;\n                    } else if (line.contains(\"MSS\")) {\n                        isMSS = true;\n                    } else if (line.contains(\"TM\")) {\n                        isTM = true;\n                    }\n                }\n\n                if(isCollectionProduct && isMSS) return new CollectionMSSLandsatQA();\n                if(isCollectionProduct && isOLI) return new CollectionOLILandsatQA();\n                if(isCollectionProduct && isTM) return new CollectionTMLandsatQA();\n                if(!isCollectionProduct && isOLI) return new PreCollectionLandsatQA();\n\n                line = reader.readLine();\n            }\n        } finally {\n            if (reader != null) {\n                reader.close();\n            }\n        }\n        return null;\n    }", "signature": "LandsatQA create(File mtlFile)", "full_signature": "static LandsatQA create(File mtlFile)", "class_method_signature": "LandsatQAFactory.create(File mtlFile)", "testcase": false, "constructor": false, "invocations": ["readLine", "contains", "contains", "contains", "contains", "contains", "readLine", "close"]}, "repository": {"repo_id": 22256861, "url": "https://github.com/senbox-org/s3tbx", "stars": 22, "created": "7/25/2014 12:57:22 PM +00:00", "updates": "2020-01-27T10:23:46+00:00", "fork": "False", "license": "licensed"}}