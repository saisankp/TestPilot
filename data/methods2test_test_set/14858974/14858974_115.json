{"test_class": {"identifier": "ModuleResourceTest", "superclass": "extends ResourceTest", "interfaces": "", "fields": [{"original_string": "private RepositoryHandler repositoryHandler;", "modifier": "private", "type": "RepositoryHandler", "declarator": "repositoryHandler", "var_name": "repositoryHandler"}, {"original_string": "private GrapesServerConfig config;", "modifier": "private", "type": "GrapesServerConfig", "declarator": "config", "var_name": "config"}], "file": "server/src/test/java/org/axway/grapes/server/webapp/resources/ModuleResourceTest.java"}, "test_case": {"identifier": "postBuildInfoOnModuleThatDoesNotExist", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void postBuildInfoOnModuleThatDoesNotExist() {\n        final WebResource resource = client().resource(\"/\" + ServerAPI.MODULE_RESOURCE + \"/doesNotExist/doesNotExist\" + ServerAPI.GET_BUILD_INFO);\n        final ClientResponse response = resource.accept(MediaType.APPLICATION_JSON).get(ClientResponse.class);\n        assertNotNull(response);\n        assertEquals(HttpStatus.NOT_FOUND_404, response.getStatus());\n    }", "signature": "void postBuildInfoOnModuleThatDoesNotExist()", "full_signature": "@Test public void postBuildInfoOnModuleThatDoesNotExist()", "class_method_signature": "ModuleResourceTest.postBuildInfoOnModuleThatDoesNotExist()", "testcase": true, "constructor": false, "invocations": ["resource", "client", "get", "accept", "assertNotNull", "assertEquals", "getStatus"]}, "focal_class": {"identifier": "ModuleResource", "superclass": "extends AbstractResource", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(ModuleResource.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(ModuleResource.class)", "var_name": "LOG"}], "methods": [{"identifier": "ModuleResource", "parameters": "(final RepositoryHandler repoHandler, final GrapesServerConfig dmConfig)", "modifiers": "public", "return": "", "signature": " ModuleResource(final RepositoryHandler repoHandler, final GrapesServerConfig dmConfig)", "full_signature": "public  ModuleResource(final RepositoryHandler repoHandler, final GrapesServerConfig dmConfig)", "class_method_signature": "ModuleResource.ModuleResource(final RepositoryHandler repoHandler, final GrapesServerConfig dmConfig)", "testcase": false, "constructor": true}, {"identifier": "postModule", "parameters": "(@Auth final DbCredential credential, final Module module)", "modifiers": "@POST @Produces(MediaType.TEXT_HTML) public", "return": "Response", "signature": "Response postModule(@Auth final DbCredential credential, final Module module)", "full_signature": "@POST @Produces(MediaType.TEXT_HTML) public Response postModule(@Auth final DbCredential credential, final Module module)", "class_method_signature": "ModuleResource.postModule(@Auth final DbCredential credential, final Module module)", "testcase": false, "constructor": false}, {"identifier": "getNames", "parameters": "(@Context final UriInfo uriInfo)", "modifiers": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(ServerAPI.GET_NAMES) public", "return": "Response", "signature": "Response getNames(@Context final UriInfo uriInfo)", "full_signature": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(ServerAPI.GET_NAMES) public Response getNames(@Context final UriInfo uriInfo)", "class_method_signature": "ModuleResource.getNames(@Context final UriInfo uriInfo)", "testcase": false, "constructor": false}, {"identifier": "getVersionsRedirection", "parameters": "(@PathParam(\"name\") final String name, @Context final UriInfo uriInfo)", "modifiers": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}\") public", "return": "Response", "signature": "Response getVersionsRedirection(@PathParam(\"name\") final String name, @Context final UriInfo uriInfo)", "full_signature": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}\") public Response getVersionsRedirection(@PathParam(\"name\") final String name, @Context final UriInfo uriInfo)", "class_method_signature": "ModuleResource.getVersionsRedirection(@PathParam(\"name\") final String name, @Context final UriInfo uriInfo)", "testcase": false, "constructor": false}, {"identifier": "getVersions", "parameters": "(@PathParam(\"name\") final String name, @Context final UriInfo uriInfo)", "modifiers": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}\" + ServerAPI.GET_VERSIONS) public", "return": "Response", "signature": "Response getVersions(@PathParam(\"name\") final String name, @Context final UriInfo uriInfo)", "full_signature": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}\" + ServerAPI.GET_VERSIONS) public Response getVersions(@PathParam(\"name\") final String name, @Context final UriInfo uriInfo)", "class_method_signature": "ModuleResource.getVersions(@PathParam(\"name\") final String name, @Context final UriInfo uriInfo)", "testcase": false, "constructor": false}, {"identifier": "get", "parameters": "(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "modifiers": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}/{version}\") public", "return": "Response", "signature": "Response get(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "full_signature": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}/{version}\") public Response get(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "class_method_signature": "ModuleResource.get(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "testcase": false, "constructor": false}, {"identifier": "delete", "parameters": "(@Auth final DbCredential credential, @PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "modifiers": "@DELETE @Path(\"/{name}/{version}\") public", "return": "Response", "signature": "Response delete(@Auth final DbCredential credential, @PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "full_signature": "@DELETE @Path(\"/{name}/{version}\") public Response delete(@Auth final DbCredential credential, @PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "class_method_signature": "ModuleResource.delete(@Auth final DbCredential credential, @PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "testcase": false, "constructor": false}, {"identifier": "getOrganization", "parameters": "(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "modifiers": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}/{version}\" + ServerAPI.GET_ORGANIZATION) public", "return": "Response", "signature": "Response getOrganization(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "full_signature": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}/{version}\" + ServerAPI.GET_ORGANIZATION) public Response getOrganization(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "class_method_signature": "ModuleResource.getOrganization(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "testcase": false, "constructor": false}, {"identifier": "getAncestors", "parameters": "(@PathParam(\"name\") final String name,\n                                 @PathParam(\"version\") final String version,\n                                 @Context final UriInfo uriInfo)", "modifiers": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}/{version}\" + ServerAPI.GET_ANCESTORS) public", "return": "Response", "signature": "Response getAncestors(@PathParam(\"name\") final String name,\n                                 @PathParam(\"version\") final String version,\n                                 @Context final UriInfo uriInfo)", "full_signature": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}/{version}\" + ServerAPI.GET_ANCESTORS) public Response getAncestors(@PathParam(\"name\") final String name,\n                                 @PathParam(\"version\") final String version,\n                                 @Context final UriInfo uriInfo)", "class_method_signature": "ModuleResource.getAncestors(@PathParam(\"name\") final String name,\n                                 @PathParam(\"version\") final String version,\n                                 @Context final UriInfo uriInfo)", "testcase": false, "constructor": false}, {"identifier": "getDependencies", "parameters": "(@PathParam(\"name\") final String name,\n                                    @PathParam(\"version\") final String version,\n                                    @Context final UriInfo uriInfo)", "modifiers": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}/{version}\" + ServerAPI.GET_DEPENDENCIES) public", "return": "Response", "signature": "Response getDependencies(@PathParam(\"name\") final String name,\n                                    @PathParam(\"version\") final String version,\n                                    @Context final UriInfo uriInfo)", "full_signature": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}/{version}\" + ServerAPI.GET_DEPENDENCIES) public Response getDependencies(@PathParam(\"name\") final String name,\n                                    @PathParam(\"version\") final String version,\n                                    @Context final UriInfo uriInfo)", "class_method_signature": "ModuleResource.getDependencies(@PathParam(\"name\") final String name,\n                                    @PathParam(\"version\") final String version,\n                                    @Context final UriInfo uriInfo)", "testcase": false, "constructor": false}, {"identifier": "getDependencyReport", "parameters": "(@PathParam(\"name\") final String name,\n                                        @PathParam(\"version\") final String version,\n                                        @Context final UriInfo uriInfo)", "modifiers": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}/{version}\" + ServerAPI.GET_DEPENDENCIES + ServerAPI.GET_REPORT) public", "return": "Response", "signature": "Response getDependencyReport(@PathParam(\"name\") final String name,\n                                        @PathParam(\"version\") final String version,\n                                        @Context final UriInfo uriInfo)", "full_signature": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}/{version}\" + ServerAPI.GET_DEPENDENCIES + ServerAPI.GET_REPORT) public Response getDependencyReport(@PathParam(\"name\") final String name,\n                                        @PathParam(\"version\") final String version,\n                                        @Context final UriInfo uriInfo)", "class_method_signature": "ModuleResource.getDependencyReport(@PathParam(\"name\") final String name,\n                                        @PathParam(\"version\") final String version,\n                                        @Context final UriInfo uriInfo)", "testcase": false, "constructor": false}, {"identifier": "getLicenses", "parameters": "(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "modifiers": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}/{version}\" + ServerAPI.GET_LICENSES) public", "return": "Response", "signature": "Response getLicenses(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "full_signature": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}/{version}\" + ServerAPI.GET_LICENSES) public Response getLicenses(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "class_method_signature": "ModuleResource.getLicenses(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "testcase": false, "constructor": false}, {"identifier": "promote", "parameters": "(@Auth final DbCredential credential, @PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "modifiers": "@POST @Path(\"/{name}/{version}\" + ServerAPI.PROMOTION) public", "return": "Response", "signature": "Response promote(@Auth final DbCredential credential, @PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "full_signature": "@POST @Path(\"/{name}/{version}\" + ServerAPI.PROMOTION) public Response promote(@Auth final DbCredential credential, @PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "class_method_signature": "ModuleResource.promote(@Auth final DbCredential credential, @PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "testcase": false, "constructor": false}, {"identifier": "canBePromoted", "parameters": "(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "modifiers": "@GET @Produces(MediaType.APPLICATION_JSON) @Path(\"/{name}/{version}\" + ServerAPI.PROMOTION + ServerAPI.GET_FEASIBLE) public", "return": "Response", "signature": "Response canBePromoted(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "full_signature": "@GET @Produces(MediaType.APPLICATION_JSON) @Path(\"/{name}/{version}\" + ServerAPI.PROMOTION + ServerAPI.GET_FEASIBLE) public Response canBePromoted(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "class_method_signature": "ModuleResource.canBePromoted(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "testcase": false, "constructor": false}, {"identifier": "getPromotionStatusReport", "parameters": "(@PathParam(\"name\") final String name,\n                                             @PathParam(\"version\") final String version,\n                                             @QueryParam(ServerAPI.EXCLUDE_SNAPSHOT_PARAM) boolean excludeSnapshot)", "modifiers": "@GET @Produces({MediaType.APPLICATION_JSON}) @Path(\"/{name}/{version}\" + ServerAPI.PROMOTION + ServerAPI.GET_REPORT) public", "return": "Response", "signature": "Response getPromotionStatusReport(@PathParam(\"name\") final String name,\n                                             @PathParam(\"version\") final String version,\n                                             @QueryParam(ServerAPI.EXCLUDE_SNAPSHOT_PARAM) boolean excludeSnapshot)", "full_signature": "@GET @Produces({MediaType.APPLICATION_JSON}) @Path(\"/{name}/{version}\" + ServerAPI.PROMOTION + ServerAPI.GET_REPORT) public Response getPromotionStatusReport(@PathParam(\"name\") final String name,\n                                             @PathParam(\"version\") final String version,\n                                             @QueryParam(ServerAPI.EXCLUDE_SNAPSHOT_PARAM) boolean excludeSnapshot)", "class_method_signature": "ModuleResource.getPromotionStatusReport(@PathParam(\"name\") final String name,\n                                             @PathParam(\"version\") final String version,\n                                             @QueryParam(ServerAPI.EXCLUDE_SNAPSHOT_PARAM) boolean excludeSnapshot)", "testcase": false, "constructor": false}, {"identifier": "isPromoted", "parameters": "(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "modifiers": "@GET @Produces(MediaType.APPLICATION_JSON) @Path(\"/{name}/{version}\" + ServerAPI.PROMOTION) public", "return": "Response", "signature": "Response isPromoted(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "full_signature": "@GET @Produces(MediaType.APPLICATION_JSON) @Path(\"/{name}/{version}\" + ServerAPI.PROMOTION) public Response isPromoted(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "class_method_signature": "ModuleResource.isPromoted(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "testcase": false, "constructor": false}, {"identifier": "getBuildInfo", "parameters": "(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "modifiers": "@GET @Produces(MediaType.APPLICATION_JSON) @Path(\"/{name}/{version}\" + ServerAPI.GET_BUILD_INFO) public", "return": "Response", "signature": "Response getBuildInfo(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "full_signature": "@GET @Produces(MediaType.APPLICATION_JSON) @Path(\"/{name}/{version}\" + ServerAPI.GET_BUILD_INFO) public Response getBuildInfo(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "class_method_signature": "ModuleResource.getBuildInfo(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "testcase": false, "constructor": false}, {"identifier": "updateBuildInfo", "parameters": "(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version, final Map<String, String> buildInfo)", "modifiers": "@POST @Path(\"/{name}/{version}\" + ServerAPI.GET_BUILD_INFO) public", "return": "Response", "signature": "Response updateBuildInfo(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version, final Map<String, String> buildInfo)", "full_signature": "@POST @Path(\"/{name}/{version}\" + ServerAPI.GET_BUILD_INFO) public Response updateBuildInfo(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version, final Map<String, String> buildInfo)", "class_method_signature": "ModuleResource.updateBuildInfo(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version, final Map<String, String> buildInfo)", "testcase": false, "constructor": false}, {"identifier": "getAllModules", "parameters": "(@Context final UriInfo uriInfo)", "modifiers": "@GET @Produces(MediaType.APPLICATION_JSON) @Path(ServerAPI.GET_ALL) public", "return": "Response", "signature": "Response getAllModules(@Context final UriInfo uriInfo)", "full_signature": "@GET @Produces(MediaType.APPLICATION_JSON) @Path(ServerAPI.GET_ALL) public Response getAllModules(@Context final UriInfo uriInfo)", "class_method_signature": "ModuleResource.getAllModules(@Context final UriInfo uriInfo)", "testcase": false, "constructor": false}], "file": "server/src/main/java/org/axway/grapes/server/webapp/resources/ModuleResource.java"}, "focal_method": {"identifier": "get", "parameters": "(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "modifiers": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}/{version}\") public", "return": "Response", "body": "@GET\n    @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON})\n    @Path(\"/{name}/{version}\")\n    public Response get(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version) {\n        LOG.info(\"Got a get module request.\");\n        final ModuleView view = new ModuleView();\n\n        final String moduleId = DbModule.generateID(name, version);\n        final DbModule dbModule = getModuleHandler().getModule(moduleId);\n        final Module module = getModelMapper().getModule(dbModule);\n        view.setModule(module);\n        view.setOrganization(dbModule.getOrganization());\n\n        return Response.ok(view).build();\n    }", "signature": "Response get(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "full_signature": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}/{version}\") public Response get(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "class_method_signature": "ModuleResource.get(@PathParam(\"name\") final String name, @PathParam(\"version\") final String version)", "testcase": false, "constructor": false, "invocations": ["info", "generateID", "getModule", "getModuleHandler", "getModule", "getModelMapper", "setModule", "setOrganization", "getOrganization", "build", "ok"]}, "repository": {"repo_id": 14858974, "url": "https://github.com/Axway/Grapes", "language": "Java", "is_fork": false, "fork_count": 9, "stargazer_count": 8, "size": 3620, "license": "licensed"}}