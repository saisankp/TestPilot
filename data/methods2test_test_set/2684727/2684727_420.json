{"test_class": {"identifier": "LocalCognitoTokenStoreTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String TOKEN = \"token\";", "modifier": "private static final", "type": "String", "declarator": "TOKEN = \"token\"", "var_name": "TOKEN"}, {"original_string": "private static final String IDENTITY_ID = \"identityId\";", "modifier": "private static final", "type": "String", "declarator": "IDENTITY_ID = \"identityId\"", "var_name": "IDENTITY_ID"}, {"original_string": "private static final Date EXPIRES_AT = new Date(5);", "modifier": "private static final", "type": "Date", "declarator": "EXPIRES_AT = new Date(5)", "var_name": "EXPIRES_AT"}, {"original_string": "LocalCognitoTokenStore localCognitoTokenStore;", "modifier": "", "type": "LocalCognitoTokenStore", "declarator": "localCognitoTokenStore", "var_name": "localCognitoTokenStore"}, {"original_string": "SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(ApplicationProvider.getApplicationContext());", "modifier": "", "type": "SharedPreferences", "declarator": "preferences = PreferenceManager.getDefaultSharedPreferences(ApplicationProvider.getApplicationContext())", "var_name": "preferences"}, {"original_string": "@Mock\n    Lazy<SharedPreferences> lazy;", "modifier": "@Mock", "type": "Lazy<SharedPreferences>", "declarator": "lazy", "var_name": "lazy"}], "file": "aws/src/test/java/co/smartreceipts/aws/cognito/LocalCognitoTokenStoreTest.java"}, "test_case": {"identifier": "nothingPersisted", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void nothingPersisted() {\n        assertEquals(null, localCognitoTokenStore.getCognitoToken());\n    }", "signature": "void nothingPersisted()", "full_signature": "@Test public void nothingPersisted()", "class_method_signature": "LocalCognitoTokenStoreTest.nothingPersisted()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "getCognitoToken"]}, "focal_class": {"identifier": "LocalCognitoTokenStore", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String KEY_COGNITO_TOKEN = \"key_cognito_token\";", "modifier": "private static final", "type": "String", "declarator": "KEY_COGNITO_TOKEN = \"key_cognito_token\"", "var_name": "KEY_COGNITO_TOKEN"}, {"original_string": "private static final String KEY_COGNITO_IDENTITY_ID = \"key_cognito_identity_id\";", "modifier": "private static final", "type": "String", "declarator": "KEY_COGNITO_IDENTITY_ID = \"key_cognito_identity_id\"", "var_name": "KEY_COGNITO_IDENTITY_ID"}, {"original_string": "private static final String KEY_COGNITO_TOKEN_EXPIRATION = \"key_cognito_token_expiration\";", "modifier": "private static final", "type": "String", "declarator": "KEY_COGNITO_TOKEN_EXPIRATION = \"key_cognito_token_expiration\"", "var_name": "KEY_COGNITO_TOKEN_EXPIRATION"}, {"original_string": "private final Lazy<SharedPreferences> sharedPreferences;", "modifier": "private final", "type": "Lazy<SharedPreferences>", "declarator": "sharedPreferences", "var_name": "sharedPreferences"}], "methods": [{"identifier": "LocalCognitoTokenStore", "parameters": "(@NonNull Lazy<SharedPreferences> sharedPreferences)", "modifiers": "@Inject public", "return": "", "signature": " LocalCognitoTokenStore(@NonNull Lazy<SharedPreferences> sharedPreferences)", "full_signature": "@Inject public  LocalCognitoTokenStore(@NonNull Lazy<SharedPreferences> sharedPreferences)", "class_method_signature": "LocalCognitoTokenStore.LocalCognitoTokenStore(@NonNull Lazy<SharedPreferences> sharedPreferences)", "testcase": false, "constructor": true}, {"identifier": "getCognitoToken", "parameters": "()", "modifiers": "@Nullable public", "return": "Cognito", "signature": "Cognito getCognitoToken()", "full_signature": "@Nullable public Cognito getCognitoToken()", "class_method_signature": "LocalCognitoTokenStore.getCognitoToken()", "testcase": false, "constructor": false}, {"identifier": "persist", "parameters": "(@Nullable Cognito cognito)", "modifiers": "public", "return": "void", "signature": "void persist(@Nullable Cognito cognito)", "full_signature": "public void persist(@Nullable Cognito cognito)", "class_method_signature": "LocalCognitoTokenStore.persist(@Nullable Cognito cognito)", "testcase": false, "constructor": false}], "file": "aws/src/main/java/co/smartreceipts/aws/cognito/LocalCognitoTokenStore.java"}, "focal_method": {"identifier": "getCognitoToken", "parameters": "()", "modifiers": "@Nullable public", "return": "Cognito", "body": "@Nullable\n    public Cognito getCognitoToken() {\n        final SharedPreferences preferences = sharedPreferences.get();\n        final String token = preferences.getString(KEY_COGNITO_TOKEN, null);\n        final String identityId = preferences.getString(KEY_COGNITO_IDENTITY_ID, null);\n        final long expirationTimeStamp = preferences.getLong(KEY_COGNITO_TOKEN_EXPIRATION, -1);\n        if (token == null || identityId == null) {\n            return null;\n        } else {\n            return new Cognito(token, identityId, new Date(expirationTimeStamp));\n        }\n    }", "signature": "Cognito getCognitoToken()", "full_signature": "@Nullable public Cognito getCognitoToken()", "class_method_signature": "LocalCognitoTokenStore.getCognitoToken()", "testcase": false, "constructor": false, "invocations": ["get", "getString", "getString", "getLong"]}, "repository": {"repo_id": 2684727, "url": "https://github.com/wbaumann/SmartReceiptsLibrary", "stars": 166, "created": "11/1/2011 12:32:39 AM +00:00", "updates": "2020-01-26T22:04:24+00:00", "fork": "False", "license": "licensed"}}