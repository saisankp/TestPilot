{"test_class": {"identifier": "BaseAddEmrStepTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@InjectMocks\n    private BaseAddEmrStep baseAddEmrStep;", "modifier": "@InjectMocks\n    private", "type": "BaseAddEmrStep", "declarator": "baseAddEmrStep", "var_name": "baseAddEmrStep"}, {"original_string": "@Mock\n    private EmrStepHelperFactory emrStepHelperFactory;", "modifier": "@Mock\n    private", "type": "EmrStepHelperFactory", "declarator": "emrStepHelperFactory", "var_name": "emrStepHelperFactory"}, {"original_string": "@Mock\n    private ActivitiHelper activitiHelper;", "modifier": "@Mock\n    private", "type": "ActivitiHelper", "declarator": "activitiHelper", "var_name": "activitiHelper"}, {"original_string": "@Mock\n    private Expression namespace;", "modifier": "@Mock\n    private", "type": "Expression", "declarator": "namespace", "var_name": "namespace"}, {"original_string": "@Mock\n    private Expression emrClusterDefinitionName;", "modifier": "@Mock\n    private", "type": "Expression", "declarator": "emrClusterDefinitionName", "var_name": "emrClusterDefinitionName"}, {"original_string": "@Mock\n    private Expression emrClusterName;", "modifier": "@Mock\n    private", "type": "Expression", "declarator": "emrClusterName", "var_name": "emrClusterName"}, {"original_string": "@Mock\n    private Expression stepName;", "modifier": "@Mock\n    private", "type": "Expression", "declarator": "stepName", "var_name": "stepName"}, {"original_string": "@Mock\n    private Expression continueOnError;", "modifier": "@Mock\n    private", "type": "Expression", "declarator": "continueOnError", "var_name": "continueOnError"}, {"original_string": "@Mock\n    private Expression scriptLocation;", "modifier": "@Mock\n    private", "type": "Expression", "declarator": "scriptLocation", "var_name": "scriptLocation"}, {"original_string": "@Mock\n    private Expression scriptArguments;", "modifier": "@Mock\n    private", "type": "Expression", "declarator": "scriptArguments", "var_name": "scriptArguments"}, {"original_string": "@Mock\n    private Expression emrClusterId;", "modifier": "@Mock\n    private", "type": "Expression", "declarator": "emrClusterId", "var_name": "emrClusterId"}], "file": "herd-code/herd-service/src/test/java/org/finra/herd/service/activiti/task/BaseAddEmrStepTest.java"}, "test_case": {"identifier": "populateCommonParamsAssertEmrStepHelperPopulatedCorrectly", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void populateCommonParamsAssertEmrStepHelperPopulatedCorrectly()\n    {\n        Object request = \"request\";\n        DelegateExecution execution = mock(DelegateExecution.class);\n\n        EmrStepHelper emrStepHelper = mock(EmrStepHelper.class);\n        when(emrStepHelperFactory.getStepHelper(any())).thenReturn(emrStepHelper);\n        String namespaceString = \"namespaceString\";\n        when(activitiHelper.getExpressionVariableAsString(same(namespace), any())).thenReturn(namespaceString);\n        String stepNameString = \"stepNameString\";\n        when(activitiHelper.getExpressionVariableAsString(same(stepName), any())).thenReturn(stepNameString);\n        Boolean continueOnErrorBoolean = false;\n        when(activitiHelper.getExpressionVariableAsBoolean(same(continueOnError), any(), any(), anyBoolean(), any())).thenReturn(continueOnErrorBoolean);\n        String emrClusterDefinitionNameString = \"emrClusterDefinitionNameString\";\n        when(activitiHelper.getExpressionVariableAsString(same(emrClusterDefinitionName), any())).thenReturn(emrClusterDefinitionNameString);\n        String emrClusterNameString = \"emrClusterNameString\";\n        when(activitiHelper.getExpressionVariableAsString(same(emrClusterName), any())).thenReturn(emrClusterNameString);\n        String emrClusterIdString = \"emrClusterIdString\";\n        when(activitiHelper.getExpressionVariableAsString(same(emrClusterId), any())).thenReturn(emrClusterIdString);\n\n        baseAddEmrStep.populateCommonParams(request, execution);\n\n        verify(emrStepHelper).setRequestStepName(request, stepNameString);\n        verify(emrStepHelper).setRequestContinueOnError(request, continueOnErrorBoolean);\n        verify(emrStepHelper).setRequestNamespace(request, namespaceString);\n        verify(emrStepHelper).setRequestEmrClusterDefinitionName(request, emrClusterDefinitionNameString);\n        verify(emrStepHelper).setRequestEmrClusterName(request, emrClusterNameString);\n        verify(emrStepHelper).setRequestEmrClusterId(request, emrClusterIdString);\n    }", "signature": "void populateCommonParamsAssertEmrStepHelperPopulatedCorrectly()", "full_signature": "@Test public void populateCommonParamsAssertEmrStepHelperPopulatedCorrectly()", "class_method_signature": "BaseAddEmrStepTest.populateCommonParamsAssertEmrStepHelperPopulatedCorrectly()", "testcase": true, "constructor": false, "invocations": ["mock", "mock", "thenReturn", "when", "getStepHelper", "any", "thenReturn", "when", "getExpressionVariableAsString", "same", "any", "thenReturn", "when", "getExpressionVariableAsString", "same", "any", "thenReturn", "when", "getExpressionVariableAsBoolean", "same", "any", "any", "anyBoolean", "any", "thenReturn", "when", "getExpressionVariableAsString", "same", "any", "thenReturn", "when", "getExpressionVariableAsString", "same", "any", "thenReturn", "when", "getExpressionVariableAsString", "same", "any", "populateCommonParams", "setRequestStepName", "verify", "setRequestContinueOnError", "verify", "setRequestNamespace", "verify", "setRequestEmrClusterDefinitionName", "verify", "setRequestEmrClusterName", "verify", "setRequestEmrClusterId", "verify"]}, "focal_class": {"identifier": "BaseAddEmrStep", "superclass": "extends BaseJavaDelegate", "interfaces": "", "fields": [{"original_string": "public static final String VARIABLE_EMR_STEP_ID = \"emrStepId\";", "modifier": "public static final", "type": "String", "declarator": "VARIABLE_EMR_STEP_ID = \"emrStepId\"", "var_name": "VARIABLE_EMR_STEP_ID"}, {"original_string": "@Autowired\n    private EmrService emrService;", "modifier": "@Autowired\n    private", "type": "EmrService", "declarator": "emrService", "var_name": "emrService"}, {"original_string": "@Autowired\n    private EmrStepHelperFactory emrStepHelperFactory;", "modifier": "@Autowired\n    private", "type": "EmrStepHelperFactory", "declarator": "emrStepHelperFactory", "var_name": "emrStepHelperFactory"}, {"original_string": "protected Expression namespace;", "modifier": "protected", "type": "Expression", "declarator": "namespace", "var_name": "namespace"}, {"original_string": "protected Expression emrClusterDefinitionName;", "modifier": "protected", "type": "Expression", "declarator": "emrClusterDefinitionName", "var_name": "emrClusterDefinitionName"}, {"original_string": "protected Expression emrClusterName;", "modifier": "protected", "type": "Expression", "declarator": "emrClusterName", "var_name": "emrClusterName"}, {"original_string": "protected Expression stepName;", "modifier": "protected", "type": "Expression", "declarator": "stepName", "var_name": "stepName"}, {"original_string": "protected Expression continueOnError;", "modifier": "protected", "type": "Expression", "declarator": "continueOnError", "var_name": "continueOnError"}, {"original_string": "protected Expression scriptLocation;", "modifier": "protected", "type": "Expression", "declarator": "scriptLocation", "var_name": "scriptLocation"}, {"original_string": "protected Expression scriptArguments;", "modifier": "protected", "type": "Expression", "declarator": "scriptArguments", "var_name": "scriptArguments"}, {"original_string": "protected Expression emrClusterId;", "modifier": "protected", "type": "Expression", "declarator": "emrClusterId", "var_name": "emrClusterId"}, {"original_string": "protected Expression accountId;", "modifier": "protected", "type": "Expression", "declarator": "accountId", "var_name": "accountId"}], "methods": [{"identifier": "addEmrStepAndSetWorkflowVariables", "parameters": "(Object request, DelegateExecution execution)", "modifiers": "protected", "return": "void", "signature": "void addEmrStepAndSetWorkflowVariables(Object request, DelegateExecution execution)", "full_signature": "protected void addEmrStepAndSetWorkflowVariables(Object request, DelegateExecution execution)", "class_method_signature": "BaseAddEmrStep.addEmrStepAndSetWorkflowVariables(Object request, DelegateExecution execution)", "testcase": false, "constructor": false}, {"identifier": "getNamespace", "parameters": "(DelegateExecution execution)", "modifiers": "protected", "return": "String", "signature": "String getNamespace(DelegateExecution execution)", "full_signature": "protected String getNamespace(DelegateExecution execution)", "class_method_signature": "BaseAddEmrStep.getNamespace(DelegateExecution execution)", "testcase": false, "constructor": false}, {"identifier": "getEmrClusterDefinitionName", "parameters": "(DelegateExecution execution)", "modifiers": "protected", "return": "String", "signature": "String getEmrClusterDefinitionName(DelegateExecution execution)", "full_signature": "protected String getEmrClusterDefinitionName(DelegateExecution execution)", "class_method_signature": "BaseAddEmrStep.getEmrClusterDefinitionName(DelegateExecution execution)", "testcase": false, "constructor": false}, {"identifier": "getEmrClusterName", "parameters": "(DelegateExecution execution)", "modifiers": "protected", "return": "String", "signature": "String getEmrClusterName(DelegateExecution execution)", "full_signature": "protected String getEmrClusterName(DelegateExecution execution)", "class_method_signature": "BaseAddEmrStep.getEmrClusterName(DelegateExecution execution)", "testcase": false, "constructor": false}, {"identifier": "getStepName", "parameters": "(DelegateExecution execution)", "modifiers": "protected", "return": "String", "signature": "String getStepName(DelegateExecution execution)", "full_signature": "protected String getStepName(DelegateExecution execution)", "class_method_signature": "BaseAddEmrStep.getStepName(DelegateExecution execution)", "testcase": false, "constructor": false}, {"identifier": "getContinueOnError", "parameters": "(DelegateExecution execution)", "modifiers": "protected", "return": "boolean", "signature": "boolean getContinueOnError(DelegateExecution execution)", "full_signature": "protected boolean getContinueOnError(DelegateExecution execution)", "class_method_signature": "BaseAddEmrStep.getContinueOnError(DelegateExecution execution)", "testcase": false, "constructor": false}, {"identifier": "getScriptLocation", "parameters": "(DelegateExecution execution)", "modifiers": "protected", "return": "String", "signature": "String getScriptLocation(DelegateExecution execution)", "full_signature": "protected String getScriptLocation(DelegateExecution execution)", "class_method_signature": "BaseAddEmrStep.getScriptLocation(DelegateExecution execution)", "testcase": false, "constructor": false}, {"identifier": "getScriptArguments", "parameters": "(DelegateExecution execution)", "modifiers": "protected", "return": "List<String>", "signature": "List<String> getScriptArguments(DelegateExecution execution)", "full_signature": "protected List<String> getScriptArguments(DelegateExecution execution)", "class_method_signature": "BaseAddEmrStep.getScriptArguments(DelegateExecution execution)", "testcase": false, "constructor": false}, {"identifier": "getEmrClusterId", "parameters": "(DelegateExecution execution)", "modifiers": "protected", "return": "String", "signature": "String getEmrClusterId(DelegateExecution execution)", "full_signature": "protected String getEmrClusterId(DelegateExecution execution)", "class_method_signature": "BaseAddEmrStep.getEmrClusterId(DelegateExecution execution)", "testcase": false, "constructor": false}, {"identifier": "getAccountId", "parameters": "(DelegateExecution execution)", "modifiers": "protected", "return": "String", "signature": "String getAccountId(DelegateExecution execution)", "full_signature": "protected String getAccountId(DelegateExecution execution)", "class_method_signature": "BaseAddEmrStep.getAccountId(DelegateExecution execution)", "testcase": false, "constructor": false}, {"identifier": "populateCommonParams", "parameters": "(Object request, DelegateExecution execution)", "modifiers": "protected", "return": "void", "signature": "void populateCommonParams(Object request, DelegateExecution execution)", "full_signature": "protected void populateCommonParams(Object request, DelegateExecution execution)", "class_method_signature": "BaseAddEmrStep.populateCommonParams(Object request, DelegateExecution execution)", "testcase": false, "constructor": false}], "file": "herd-code/herd-service/src/main/java/org/finra/herd/service/activiti/task/BaseAddEmrStep.java"}, "focal_method": {"identifier": "populateCommonParams", "parameters": "(Object request, DelegateExecution execution)", "modifiers": "protected", "return": "void", "body": "protected void populateCommonParams(Object request, DelegateExecution execution)\n    {\n        EmrStepHelper stepHelper = emrStepHelperFactory.getStepHelper(request.getClass().getName());\n\n        stepHelper.setRequestStepName(request, getStepName(execution));\n        stepHelper.setRequestContinueOnError(request, getContinueOnError(execution));\n        stepHelper.setRequestNamespace(request, getNamespace(execution));\n        stepHelper.setRequestEmrClusterDefinitionName(request, getEmrClusterDefinitionName(execution));\n        stepHelper.setRequestEmrClusterName(request, getEmrClusterName(execution));\n        stepHelper.setRequestEmrClusterId(request, getEmrClusterId(execution));\n        stepHelper.setRequestAccountId(request, getAccountId(execution));\n    }", "signature": "void populateCommonParams(Object request, DelegateExecution execution)", "full_signature": "protected void populateCommonParams(Object request, DelegateExecution execution)", "class_method_signature": "BaseAddEmrStep.populateCommonParams(Object request, DelegateExecution execution)", "testcase": false, "constructor": false, "invocations": ["getStepHelper", "getName", "getClass", "setRequestStepName", "getStepName", "setRequestContinueOnError", "getContinueOnError", "setRequestNamespace", "getNamespace", "setRequestEmrClusterDefinitionName", "getEmrClusterDefinitionName", "setRequestEmrClusterName", "getEmrClusterName", "setRequestEmrClusterId", "getEmrClusterId", "setRequestAccountId", "getAccountId"]}, "repository": {"repo_id": 42949039, "url": "https://github.com/FINRAOS/herd", "language": "Java", "is_fork": false, "fork_count": 36, "stargazer_count": 120, "size": 205797, "license": "licensed"}}