{"test_class": {"identifier": "AlertTemplateProcessorTest", "superclass": "extends AbstractAlerterTest", "interfaces": "", "fields": [{"original_string": "private AlertTemplateProcessor alertTemplateProcessor;", "modifier": "private", "type": "AlertTemplateProcessor", "declarator": "alertTemplateProcessor", "var_name": "alertTemplateProcessor"}, {"original_string": "private Incident testIncident;", "modifier": "private", "type": "Incident", "declarator": "testIncident", "var_name": "testIncident"}], "file": "stagemonitor-alerting/src/test/java/org/stagemonitor/alerting/alerter/AlertTemplateProcessorTest.java"}, "test_case": {"identifier": "testProcessPlainTextTemplate", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testProcessPlainTextTemplate() throws Exception {\n\t\tassertEquals(String.format(\"Incident for check 'Test Timer':\\n\" +\n\t\t\t\t\"First failure: %s\\n\" +\n\t\t\t\t\"Old status: OK\\n\" +\n\t\t\t\t\"New status: CRITICAL\\n\" +\n\t\t\t\t\"Failing checks: 2\\n\" +\n\t\t\t\t\"Hosts: testHost2\\n\" +\n\t\t\t\t\"Instances: testInstance\\n\" +\n\t\t\t\t\"\\n\" +\n\t\t\t\t\"Details:\" +\n\t\t\t\t\"\\n\" +\n\t\t\t\t\"Host:\t\t\ttestHost2\\n\" +\n\t\t\t\t\"Instance:\t\ttestInstance\\n\" +\n\t\t\t\t\"Status: \t\tCRITICAL\\n\" +\n\t\t\t\t\"Description:\ttest\\n\" +\n\t\t\t\t\"Current value:\t10\\n\" +\n\t\t\t\t\"\\n\" +\n\t\t\t\t\"Host:\t\t\ttestHost2\\n\" +\n\t\t\t\t\"Instance:\t\ttestInstance\\n\" +\n\t\t\t\t\"Status: \t\tERROR\\n\" +\n\t\t\t\t\"Description:\ttest\\n\" +\n\t\t\t\t\"Current value:\t10\\n\\n\", toFreemarkerIsoLocal(testIncident.getFirstFailureAt())),\n\t\t\t\talertTemplateProcessor.processPlainTextTemplate(testIncident));\n\t}", "signature": "void testProcessPlainTextTemplate()", "full_signature": "@Test public void testProcessPlainTextTemplate()", "class_method_signature": "AlertTemplateProcessorTest.testProcessPlainTextTemplate()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "format", "toFreemarkerIsoLocal", "getFirstFailureAt", "processPlainTextTemplate"]}, "focal_class": {"identifier": "AlertTemplateProcessor", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final AlertingPlugin alertingPlugin;", "modifier": "private final", "type": "AlertingPlugin", "declarator": "alertingPlugin", "var_name": "alertingPlugin"}, {"original_string": "private final Configuration cfg;", "modifier": "private final", "type": "Configuration", "declarator": "cfg", "var_name": "cfg"}], "methods": [{"identifier": "AlertTemplateProcessor", "parameters": "(AlertingPlugin alertingPlugin)", "modifiers": "public", "return": "", "signature": " AlertTemplateProcessor(AlertingPlugin alertingPlugin)", "full_signature": "public  AlertTemplateProcessor(AlertingPlugin alertingPlugin)", "class_method_signature": "AlertTemplateProcessor.AlertTemplateProcessor(AlertingPlugin alertingPlugin)", "testcase": false, "constructor": true}, {"identifier": "processHtmlTemplate", "parameters": "(Incident incident)", "modifiers": "public", "return": "String", "signature": "String processHtmlTemplate(Incident incident)", "full_signature": "public String processHtmlTemplate(Incident incident)", "class_method_signature": "AlertTemplateProcessor.processHtmlTemplate(Incident incident)", "testcase": false, "constructor": false}, {"identifier": "processPlainTextTemplate", "parameters": "(Incident incident)", "modifiers": "public", "return": "String", "signature": "String processPlainTextTemplate(Incident incident)", "full_signature": "public String processPlainTextTemplate(Incident incident)", "class_method_signature": "AlertTemplateProcessor.processPlainTextTemplate(Incident incident)", "testcase": false, "constructor": false}, {"identifier": "processShortDescriptionTemplate", "parameters": "(Incident incident)", "modifiers": "public", "return": "String", "signature": "String processShortDescriptionTemplate(Incident incident)", "full_signature": "public String processShortDescriptionTemplate(Incident incident)", "class_method_signature": "AlertTemplateProcessor.processShortDescriptionTemplate(Incident incident)", "testcase": false, "constructor": false}, {"identifier": "processTemplate", "parameters": "(String templateName, String templateString, Incident incident)", "modifiers": "private", "return": "String", "signature": "String processTemplate(String templateName, String templateString, Incident incident)", "full_signature": "private String processTemplate(String templateName, String templateString, Incident incident)", "class_method_signature": "AlertTemplateProcessor.processTemplate(String templateName, String templateString, Incident incident)", "testcase": false, "constructor": false}], "file": "stagemonitor-alerting/src/main/java/org/stagemonitor/alerting/alerter/AlertTemplateProcessor.java"}, "focal_method": {"identifier": "processPlainTextTemplate", "parameters": "(Incident incident)", "modifiers": "public", "return": "String", "body": "public String processPlainTextTemplate(Incident incident) {\n\t\treturn processTemplate(\"alertsPlainText.ftl\", alertingPlugin.getPlainTextAlertTemplate(), incident);\n\t}", "signature": "String processPlainTextTemplate(Incident incident)", "full_signature": "public String processPlainTextTemplate(Incident incident)", "class_method_signature": "AlertTemplateProcessor.processPlainTextTemplate(Incident incident)", "testcase": false, "constructor": false, "invocations": ["processTemplate", "getPlainTextAlertTemplate"]}, "repository": {"repo_id": 11845993, "url": "https://github.com/stagemonitor/stagemonitor", "language": "Java", "is_fork": false, "fork_count": 268, "stargazer_count": 1585, "size": 10342, "license": "licensed"}}