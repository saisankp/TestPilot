{"test_class": {"identifier": "OverlappingBloomFilterBasedWindowTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private OverlappingBloomFilterBasedWindow window;", "modifier": "private", "type": "OverlappingBloomFilterBasedWindow", "declarator": "window", "var_name": "window"}, {"original_string": "private int count;", "modifier": "private", "type": "int", "declarator": "count", "var_name": "count"}, {"original_string": "int windowSize;", "modifier": "", "type": "int", "declarator": "windowSize", "var_name": "windowSize"}], "file": "bigdata-intro/cep-intro/siddhi3-quick-start/src/main/java/org/wso2/siddhi/bloomfilter/OverlappingBloomFilterBasedWindowTest.java"}, "test_case": {"identifier": "testGetLast", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetLast() {\n\n        StreamEvent event = createStreamEvent(\"Dell\", 245.95, 78);\n        addStreamEvent(event);\n\n        addStreamEvent(createStreamEvent(\"Hp\", 210.45, 23));\n        addStreamEvent(createStreamEvent(\"Apple\", 3500.50, 10));\n\n        Assert.assertEquals(event, (StreamEvent) window.getLast(false));\n        Assert.assertEquals(event, (StreamEvent) window.getLast(true));\n        Assert.assertNotSame(event, (StreamEvent) window.getLast(false));\n\n    }", "signature": "void testGetLast()", "full_signature": "@Test public void testGetLast()", "class_method_signature": "OverlappingBloomFilterBasedWindowTest.testGetLast()", "testcase": true, "constructor": false, "invocations": ["createStreamEvent", "addStreamEvent", "addStreamEvent", "createStreamEvent", "addStreamEvent", "createStreamEvent", "assertEquals", "getLast", "assertEquals", "getLast", "assertNotSame", "getLast"]}, "focal_class": {"identifier": "OverlappingBloomFilterBasedWindow", "superclass": "", "interfaces": "", "fields": [{"original_string": "private int expectedNoOfEventsPerWindow;", "modifier": "private", "type": "int", "declarator": "expectedNoOfEventsPerWindow", "var_name": "expectedNoOfEventsPerWindow"}, {"original_string": "private int[] joinAttributeId;", "modifier": "private", "type": "int[]", "declarator": "joinAttributeId", "var_name": "joinAttributeId"}, {"original_string": "private int overLapPrecentage;", "modifier": "private", "type": "int", "declarator": "overLapPrecentage", "var_name": "overLapPrecentage"}, {"original_string": "private ArrayList<BloomFilter> filterList;", "modifier": "private", "type": "ArrayList<BloomFilter>", "declarator": "filterList", "var_name": "filterList"}, {"original_string": "private ArrayList<Integer> noOfEventList;", "modifier": "private", "type": "ArrayList<Integer>", "declarator": "noOfEventList", "var_name": "noOfEventList"}, {"original_string": "private BlockingQueue<StreamEvent> eventQueue;", "modifier": "private", "type": "BlockingQueue<StreamEvent>", "declarator": "eventQueue", "var_name": "eventQueue"}, {"original_string": "private int bloomFilterSize;", "modifier": "private", "type": "int", "declarator": "bloomFilterSize", "var_name": "bloomFilterSize"}, {"original_string": "private int nonOverLapEvents;", "modifier": "private", "type": "int", "declarator": "nonOverLapEvents", "var_name": "nonOverLapEvents"}, {"original_string": "private int noOfHash;", "modifier": "private", "type": "int", "declarator": "noOfHash", "var_name": "noOfHash"}, {"original_string": "private int oldestAddingFilter;", "modifier": "private", "type": "int", "declarator": "oldestAddingFilter", "var_name": "oldestAddingFilter"}, {"original_string": "private int newestAddingFilter;", "modifier": "private", "type": "int", "declarator": "newestAddingFilter", "var_name": "newestAddingFilter"}, {"original_string": "private int removeEventCount;", "modifier": "private", "type": "int", "declarator": "removeEventCount", "var_name": "removeEventCount"}], "methods": [{"identifier": "init", "parameters": "(Expression[] expressions)", "modifiers": "public", "return": "void", "signature": "void init(Expression[] expressions)", "full_signature": "public void init(Expression[] expressions)", "class_method_signature": "OverlappingBloomFilterBasedWindow.init(Expression[] expressions)", "testcase": false, "constructor": false}, {"identifier": "add", "parameters": "(ComplexEvent event)", "modifiers": "public", "return": "void", "signature": "void add(ComplexEvent event)", "full_signature": "public void add(ComplexEvent event)", "class_method_signature": "OverlappingBloomFilterBasedWindow.add(ComplexEvent event)", "testcase": false, "constructor": false}, {"identifier": "getLast", "parameters": "(Boolean remove)", "modifiers": "public", "return": "ComplexEvent", "signature": "ComplexEvent getLast(Boolean remove)", "full_signature": "public ComplexEvent getLast(Boolean remove)", "class_method_signature": "OverlappingBloomFilterBasedWindow.getLast(Boolean remove)", "testcase": false, "constructor": false}, {"identifier": "find", "parameters": "(String attributeName, Object value)", "modifiers": "public", "return": "List<ComplexEvent>", "signature": "List<ComplexEvent> find(String attributeName, Object value)", "full_signature": "public List<ComplexEvent> find(String attributeName, Object value)", "class_method_signature": "OverlappingBloomFilterBasedWindow.find(String attributeName, Object value)", "testcase": false, "constructor": false}, {"identifier": "remove", "parameters": "(ComplexEvent event)", "modifiers": "public", "return": "void", "signature": "void remove(ComplexEvent event)", "full_signature": "public void remove(ComplexEvent event)", "class_method_signature": "OverlappingBloomFilterBasedWindow.remove(ComplexEvent event)", "testcase": false, "constructor": false}, {"identifier": "currentState", "parameters": "()", "modifiers": "public", "return": "Object[]", "signature": "Object[] currentState()", "full_signature": "public Object[] currentState()", "class_method_signature": "OverlappingBloomFilterBasedWindow.currentState()", "testcase": false, "constructor": false}, {"identifier": "restoreState", "parameters": "(Object[] objects)", "modifiers": "public", "return": "void", "signature": "void restoreState(Object[] objects)", "full_signature": "public void restoreState(Object[] objects)", "class_method_signature": "OverlappingBloomFilterBasedWindow.restoreState(Object[] objects)", "testcase": false, "constructor": false}, {"identifier": "size", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int size()", "full_signature": "public int size()", "class_method_signature": "OverlappingBloomFilterBasedWindow.size()", "testcase": false, "constructor": false}, {"identifier": "destroy", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void destroy()", "full_signature": "public void destroy()", "class_method_signature": "OverlappingBloomFilterBasedWindow.destroy()", "testcase": false, "constructor": false}, {"identifier": "addStreamEvent", "parameters": "(StreamEvent streamEvent)", "modifiers": "private", "return": "void", "signature": "void addStreamEvent(StreamEvent streamEvent)", "full_signature": "private void addStreamEvent(StreamEvent streamEvent)", "class_method_signature": "OverlappingBloomFilterBasedWindow.addStreamEvent(StreamEvent streamEvent)", "testcase": false, "constructor": false}, {"identifier": "removLastEventFromFilters", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void removLastEventFromFilters()", "full_signature": "private void removLastEventFromFilters()", "class_method_signature": "OverlappingBloomFilterBasedWindow.removLastEventFromFilters()", "testcase": false, "constructor": false}], "file": "bigdata-intro/cep-intro/siddhi3-quick-start/src/main/java/org/wso2/siddhi/bloomfilter/OverlappingBloomFilterBasedWindow.java"}, "focal_method": {"identifier": "getLast", "parameters": "(Boolean remove)", "modifiers": "public", "return": "ComplexEvent", "body": "public ComplexEvent getLast(Boolean remove) {\n        if (remove) {\n            removLastEventFromFilters();\n            return eventQueue.poll();\n        } else {\n            return eventQueue.peek();\n        }\n    }", "signature": "ComplexEvent getLast(Boolean remove)", "full_signature": "public ComplexEvent getLast(Boolean remove)", "class_method_signature": "OverlappingBloomFilterBasedWindow.getLast(Boolean remove)", "testcase": false, "constructor": false, "invocations": ["removLastEventFromFilters", "poll", "peek"]}, "repository": {"repo_id": 44512524, "url": "https://github.com/zqhxuyuan/bigdata", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 8, "size": 91550, "license": "licensed"}}