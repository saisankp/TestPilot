{"test_class": {"identifier": "ZKToolsTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static ZooKeeper zooKeeper;", "modifier": "private static", "type": "ZooKeeper", "declarator": "zooKeeper", "var_name": "zooKeeper"}], "file": "tbschedule-core/src/test/java/com/taobao/pamirs/schedule/zk/ZKToolsTest.java"}, "test_case": {"identifier": "getTree", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getTree() throws Exception {\n        String[] paths = ZKTools.getTree(zooKeeper, \"/schedule\");\n        for (int i = paths.length -1; i >= 0; i--) {\n            System.out.println(paths[i]);\n        }\n    }", "signature": "void getTree()", "full_signature": "@Test public void getTree()", "class_method_signature": "ZKToolsTest.getTree()", "testcase": true, "constructor": false, "invocations": ["getTree", "println"]}, "focal_class": {"identifier": "ZKTools", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "createPath", "parameters": "(ZooKeeper zk, String path, CreateMode createMode, List<ACL> acl)", "modifiers": "public static", "return": "void", "signature": "void createPath(ZooKeeper zk, String path, CreateMode createMode, List<ACL> acl)", "full_signature": "public static void createPath(ZooKeeper zk, String path, CreateMode createMode, List<ACL> acl)", "class_method_signature": "ZKTools.createPath(ZooKeeper zk, String path, CreateMode createMode, List<ACL> acl)", "testcase": false, "constructor": false}, {"identifier": "printTree", "parameters": "(ZooKeeper zk, String path, Writer writer, String lineSplitChar)", "modifiers": "public static", "return": "void", "signature": "void printTree(ZooKeeper zk, String path, Writer writer, String lineSplitChar)", "full_signature": "public static void printTree(ZooKeeper zk, String path, Writer writer, String lineSplitChar)", "class_method_signature": "ZKTools.printTree(ZooKeeper zk, String path, Writer writer, String lineSplitChar)", "testcase": false, "constructor": false}, {"identifier": "deleteTree", "parameters": "(ZooKeeper zk, String path)", "modifiers": "public static", "return": "void", "signature": "void deleteTree(ZooKeeper zk, String path)", "full_signature": "public static void deleteTree(ZooKeeper zk, String path)", "class_method_signature": "ZKTools.deleteTree(ZooKeeper zk, String path)", "testcase": false, "constructor": false}, {"identifier": "getTree", "parameters": "(ZooKeeper zk, String path)", "modifiers": "public static", "return": "String[]", "signature": "String[] getTree(ZooKeeper zk, String path)", "full_signature": "public static String[] getTree(ZooKeeper zk, String path)", "class_method_signature": "ZKTools.getTree(ZooKeeper zk, String path)", "testcase": false, "constructor": false}], "file": "tbschedule-core/src/main/java/com/taobao/pamirs/schedule/zk/ZKTools.java"}, "focal_method": {"identifier": "getTree", "parameters": "(ZooKeeper zk, String path)", "modifiers": "public static", "return": "String[]", "body": "public static String[] getTree(ZooKeeper zk, String path) throws Exception {\n        if (zk.exists(path, false) == null) {\n            return new String[0];\n        }\n        List<String> dealList = new ArrayList<>();\n        dealList.add(path);\n        int index = 0;\n        while (index < dealList.size()) {\n            String tempPath = dealList.get(index);\n            List<String> children = zk.getChildren(tempPath, false);\n            if (tempPath.equalsIgnoreCase(\"/\") == false) {\n                tempPath = tempPath + \"/\";\n            }\n            Collections.sort(children);\n            for (int i = children.size() - 1; i >= 0; i--) {\n                dealList.add(index + 1, tempPath + children.get(i));\n            }\n            index++;\n        }\n        return dealList.toArray(new String[0]);\n    }", "signature": "String[] getTree(ZooKeeper zk, String path)", "full_signature": "public static String[] getTree(ZooKeeper zk, String path)", "class_method_signature": "ZKTools.getTree(ZooKeeper zk, String path)", "testcase": false, "constructor": false, "invocations": ["exists", "add", "size", "get", "getChildren", "equalsIgnoreCase", "sort", "size", "add", "get", "toArray"]}, "repository": {"repo_id": 81745315, "url": "https://github.com/nmyphp/tbschedule", "language": "Java", "is_fork": false, "fork_count": 112, "stargazer_count": 185, "size": 1199, "license": "licensed"}}