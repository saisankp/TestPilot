{"test_class": {"identifier": "KiePMMLModelFactoryUtilsTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String SOURCE = \"TransformationsSample.pmml\";", "modifier": "private static final", "type": "String", "declarator": "SOURCE = \"TransformationsSample.pmml\"", "var_name": "SOURCE"}, {"original_string": "private static final String TEMPLATE_SOURCE = \"Template.tmpl\";", "modifier": "private static final", "type": "String", "declarator": "TEMPLATE_SOURCE = \"Template.tmpl\"", "var_name": "TEMPLATE_SOURCE"}, {"original_string": "private static final String TEMPLATE_CLASS_NAME = \"Template\";", "modifier": "private static final", "type": "String", "declarator": "TEMPLATE_CLASS_NAME = \"Template\"", "var_name": "TEMPLATE_CLASS_NAME"}, {"original_string": "private static PMML pmmlModel;", "modifier": "private static", "type": "PMML", "declarator": "pmmlModel", "var_name": "pmmlModel"}, {"original_string": "private static TreeModel model;", "modifier": "private static", "type": "TreeModel", "declarator": "model", "var_name": "model"}, {"original_string": "private ConstructorDeclaration constructorDeclaration;", "modifier": "private", "type": "ConstructorDeclaration", "declarator": "constructorDeclaration", "var_name": "constructorDeclaration"}, {"original_string": "private ClassOrInterfaceDeclaration classOrInterfaceDeclaration;", "modifier": "private", "type": "ClassOrInterfaceDeclaration", "declarator": "classOrInterfaceDeclaration", "var_name": "classOrInterfaceDeclaration"}], "file": "kie-pmml-trusty/kie-pmml-compiler/kie-pmml-compiler-commons/src/test/java/org/kie/pmml/compiler/commons/utils/KiePMMLModelFactoryUtilsTest.java"}, "test_case": {"identifier": "addTransformationsInClassOrInterfaceDeclaration", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void addTransformationsInClassOrInterfaceDeclaration() {\n        KiePMMLModelFactoryUtils.addTransformationsInClassOrInterfaceDeclaration(classOrInterfaceDeclaration,\n                                                                                 pmmlModel.getTransformationDictionary(),\n                                                                                 model.getLocalTransformations());\n        pmmlModel.getTransformationDictionary().getDerivedFields().forEach(derivedField -> commonVerifyDerivedFieldTransformation(derivedField, null, \"commonTransformationsMap\"));\n        model.getLocalTransformations().getDerivedFields().forEach(derivedField -> commonVerifyDerivedFieldTransformation(derivedField, null, \"localTransformationsMap\"));\n        commonVerifyConstructorClass(\"commonTransformationsMap\");\n        commonVerifyConstructorClass(\"localTransformationsMap\");\n    }", "signature": "void addTransformationsInClassOrInterfaceDeclaration()", "full_signature": "@Test public void addTransformationsInClassOrInterfaceDeclaration()", "class_method_signature": "KiePMMLModelFactoryUtilsTest.addTransformationsInClassOrInterfaceDeclaration()", "testcase": true, "constructor": false, "invocations": ["addTransformationsInClassOrInterfaceDeclaration", "getTransformationDictionary", "getLocalTransformations", "forEach", "getDerivedFields", "getTransformationDictionary", "commonVerifyDerivedFieldTransformation", "forEach", "getDerivedFields", "getLocalTransformations", "commonVerifyDerivedFieldTransformation", "commonVerifyConstructorClass", "commonVerifyConstructorClass"]}, "focal_class": {"identifier": "KiePMMLModelFactoryUtils", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "KiePMMLModelFactoryUtils", "parameters": "()", "modifiers": "private", "return": "", "signature": " KiePMMLModelFactoryUtils()", "full_signature": "private  KiePMMLModelFactoryUtils()", "class_method_signature": "KiePMMLModelFactoryUtils.KiePMMLModelFactoryUtils()", "testcase": false, "constructor": true}, {"identifier": "setConstructorSuperNameInvocation", "parameters": "(final String generatedClassName,\n                                      final ConstructorDeclaration constructorDeclaration,\n                                      final String name)", "modifiers": "public static", "return": "void", "signature": "void setConstructorSuperNameInvocation(final String generatedClassName,\n                                      final ConstructorDeclaration constructorDeclaration,\n                                      final String name)", "full_signature": "public static void setConstructorSuperNameInvocation(final String generatedClassName,\n                                      final ConstructorDeclaration constructorDeclaration,\n                                      final String name)", "class_method_signature": "KiePMMLModelFactoryUtils.setConstructorSuperNameInvocation(final String generatedClassName,\n                                      final ConstructorDeclaration constructorDeclaration,\n                                      final String name)", "testcase": false, "constructor": false}, {"identifier": "addOutputFieldsPopulation", "parameters": "(final BlockStmt body, final List<KiePMMLOutputField> outputFields)", "modifiers": "public static", "return": "void", "signature": "void addOutputFieldsPopulation(final BlockStmt body, final List<KiePMMLOutputField> outputFields)", "full_signature": "public static void addOutputFieldsPopulation(final BlockStmt body, final List<KiePMMLOutputField> outputFields)", "class_method_signature": "KiePMMLModelFactoryUtils.addOutputFieldsPopulation(final BlockStmt body, final List<KiePMMLOutputField> outputFields)", "testcase": false, "constructor": false}, {"identifier": "addTransformationsInClassOrInterfaceDeclaration", "parameters": "(final ClassOrInterfaceDeclaration toPopulate, final TransformationDictionary transformationDictionary, final LocalTransformations localTransformations)", "modifiers": "public static", "return": "void", "signature": "void addTransformationsInClassOrInterfaceDeclaration(final ClassOrInterfaceDeclaration toPopulate, final TransformationDictionary transformationDictionary, final LocalTransformations localTransformations)", "full_signature": "public static void addTransformationsInClassOrInterfaceDeclaration(final ClassOrInterfaceDeclaration toPopulate, final TransformationDictionary transformationDictionary, final LocalTransformations localTransformations)", "class_method_signature": "KiePMMLModelFactoryUtils.addTransformationsInClassOrInterfaceDeclaration(final ClassOrInterfaceDeclaration toPopulate, final TransformationDictionary transformationDictionary, final LocalTransformations localTransformations)", "testcase": false, "constructor": false}, {"identifier": "populateTransformationsInConstructor", "parameters": "(final ConstructorDeclaration constructorDeclaration, final Map<String, MethodDeclaration> commonDerivedFieldsMethodMap, final Map<String, MethodDeclaration> localDerivedFieldsMethodMap)", "modifiers": "static", "return": "void", "signature": "void populateTransformationsInConstructor(final ConstructorDeclaration constructorDeclaration, final Map<String, MethodDeclaration> commonDerivedFieldsMethodMap, final Map<String, MethodDeclaration> localDerivedFieldsMethodMap)", "full_signature": "static void populateTransformationsInConstructor(final ConstructorDeclaration constructorDeclaration, final Map<String, MethodDeclaration> commonDerivedFieldsMethodMap, final Map<String, MethodDeclaration> localDerivedFieldsMethodMap)", "class_method_signature": "KiePMMLModelFactoryUtils.populateTransformationsInConstructor(final ConstructorDeclaration constructorDeclaration, final Map<String, MethodDeclaration> commonDerivedFieldsMethodMap, final Map<String, MethodDeclaration> localDerivedFieldsMethodMap)", "testcase": false, "constructor": false}], "file": "kie-pmml-trusty/kie-pmml-compiler/kie-pmml-compiler-commons/src/main/java/org/kie/pmml/compiler/commons/utils/KiePMMLModelFactoryUtils.java"}, "focal_method": {"identifier": "addTransformationsInClassOrInterfaceDeclaration", "parameters": "(final ClassOrInterfaceDeclaration toPopulate, final TransformationDictionary transformationDictionary, final LocalTransformations localTransformations)", "modifiers": "public static", "return": "void", "body": "public static void addTransformationsInClassOrInterfaceDeclaration(final ClassOrInterfaceDeclaration toPopulate, final TransformationDictionary transformationDictionary, final LocalTransformations localTransformations) {\n        final AtomicInteger arityCounter = new AtomicInteger(0);\n        final Map<String, MethodDeclaration> commonDerivedFieldsMethodMap = (transformationDictionary != null && transformationDictionary.getDerivedFields() != null) ? getDerivedFieldsMethodMap(transformationDictionary.getDerivedFields(), arityCounter) : Collections.emptyMap();\n        final Map<String, MethodDeclaration> localDerivedFieldsMethodMap = (localTransformations != null && localTransformations.getDerivedFields() != null) ? getDerivedFieldsMethodMap(localTransformations.getDerivedFields(), arityCounter) : Collections.emptyMap();\n        final Map<String, MethodDeclaration> defineFunctionsMethodMap = (transformationDictionary != null && transformationDictionary.getDefineFunctions() != null) ? getDefineFunctionsMethodMap(transformationDictionary.getDefineFunctions()) : Collections.emptyMap();\n        populateMethodDeclarations(toPopulate, commonDerivedFieldsMethodMap.values());\n        populateMethodDeclarations(toPopulate, localDerivedFieldsMethodMap.values());\n        populateMethodDeclarations(toPopulate, defineFunctionsMethodMap.values());\n        final ConstructorDeclaration constructorDeclaration = toPopulate.getDefaultConstructor().orElseThrow(() -> new KiePMMLInternalException(String.format(MISSING_DEFAULT_CONSTRUCTOR, toPopulate.getName())));\n        populateTransformationsInConstructor(constructorDeclaration, commonDerivedFieldsMethodMap, localDerivedFieldsMethodMap);\n        //\n    }", "signature": "void addTransformationsInClassOrInterfaceDeclaration(final ClassOrInterfaceDeclaration toPopulate, final TransformationDictionary transformationDictionary, final LocalTransformations localTransformations)", "full_signature": "public static void addTransformationsInClassOrInterfaceDeclaration(final ClassOrInterfaceDeclaration toPopulate, final TransformationDictionary transformationDictionary, final LocalTransformations localTransformations)", "class_method_signature": "KiePMMLModelFactoryUtils.addTransformationsInClassOrInterfaceDeclaration(final ClassOrInterfaceDeclaration toPopulate, final TransformationDictionary transformationDictionary, final LocalTransformations localTransformations)", "testcase": false, "constructor": false, "invocations": ["getDerivedFields", "getDerivedFieldsMethodMap", "getDerivedFields", "emptyMap", "getDerivedFields", "getDerivedFieldsMethodMap", "getDerivedFields", "emptyMap", "getDefineFunctions", "getDefineFunctionsMethodMap", "getDefineFunctions", "emptyMap", "populateMethodDeclarations", "values", "populateMethodDeclarations", "values", "populateMethodDeclarations", "values", "orElseThrow", "getDefaultConstructor", "format", "getName", "populateTransformationsInConstructor"]}, "repository": {"repo_id": 1381673, "url": "https://github.com/kiegroup/drools", "stars": 2733, "created": "2/18/2011 8:37:05 AM +00:00", "updates": "2020-01-27T13:12:15+00:00", "fork": "False", "license": "licensed"}}