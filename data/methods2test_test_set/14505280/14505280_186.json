{"test_class": {"identifier": "StaticDispatcherUrlServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String TEST = \"http://test/url\";", "modifier": "private static final", "type": "String", "declarator": "TEST = \"http://test/url\"", "var_name": "TEST"}, {"original_string": "private static final String LOCAL = \"http://localhost:8080/url\";", "modifier": "private static final", "type": "String", "declarator": "LOCAL = \"http://localhost:8080/url\"", "var_name": "LOCAL"}, {"original_string": "private static final String EXT1 = \"http://test/url/something\";", "modifier": "private static final", "type": "String", "declarator": "EXT1 = \"http://test/url/something\"", "var_name": "EXT1"}, {"original_string": "private static final String LOCAL1 = \"http://localhost:8080/url/something\";", "modifier": "private static final", "type": "String", "declarator": "LOCAL1 = \"http://localhost:8080/url/something\"", "var_name": "LOCAL1"}, {"original_string": "private static final String BAD = \"http://other/url/something\";", "modifier": "private static final", "type": "String", "declarator": "BAD = \"http://other/url/something\"", "var_name": "BAD"}], "file": "impl/src/test/java/org/geomajas/service/impl/StaticDispatcherUrlServiceTest.java"}, "test_case": {"identifier": "testLocalize", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testLocalize() {\n\t\tStaticDispatcherUrlService sdus = new StaticDispatcherUrlService();\n\t\tsdus.setDispatcherUrl(TEST);\n\t\tsdus.setLocalDispatcherUrl(LOCAL);\n\t\tAssert.assertEquals(LOCAL, sdus.getLocalDispatcherUrl());\n\t\tAssert.assertEquals(LOCAL1, sdus.localize(EXT1));\n\t\tAssert.assertEquals(BAD, sdus.localize(BAD));\n\t}", "signature": "void testLocalize()", "full_signature": "@Test public void testLocalize()", "class_method_signature": "StaticDispatcherUrlServiceTest.testLocalize()", "testcase": true, "constructor": false, "invocations": ["setDispatcherUrl", "setLocalDispatcherUrl", "assertEquals", "getLocalDispatcherUrl", "assertEquals", "localize", "assertEquals", "localize"]}, "focal_class": {"identifier": "StaticDispatcherUrlService", "superclass": "", "interfaces": "implements DispatcherUrlService", "fields": [{"original_string": "@NotNull\n\tprivate String dispatcherUrl;", "modifier": "@NotNull\n\tprivate", "type": "String", "declarator": "dispatcherUrl", "var_name": "dispatcherUrl"}, {"original_string": "private String localDispatcherUrl;", "modifier": "private", "type": "String", "declarator": "localDispatcherUrl", "var_name": "localDispatcherUrl"}], "methods": [{"identifier": "setDispatcherUrl", "parameters": "(String dispatcherUrl)", "modifiers": "public", "return": "void", "signature": "void setDispatcherUrl(String dispatcherUrl)", "full_signature": "public void setDispatcherUrl(String dispatcherUrl)", "class_method_signature": "StaticDispatcherUrlService.setDispatcherUrl(String dispatcherUrl)", "testcase": false, "constructor": false}, {"identifier": "getDispatcherUrl", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String getDispatcherUrl()", "full_signature": "@Override public String getDispatcherUrl()", "class_method_signature": "StaticDispatcherUrlService.getDispatcherUrl()", "testcase": false, "constructor": false}, {"identifier": "setLocalDispatcherUrl", "parameters": "(String localDispatcherUrl)", "modifiers": "public", "return": "void", "signature": "void setLocalDispatcherUrl(String localDispatcherUrl)", "full_signature": "public void setLocalDispatcherUrl(String localDispatcherUrl)", "class_method_signature": "StaticDispatcherUrlService.setLocalDispatcherUrl(String localDispatcherUrl)", "testcase": false, "constructor": false}, {"identifier": "getLocalDispatcherUrl", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getLocalDispatcherUrl()", "full_signature": "public String getLocalDispatcherUrl()", "class_method_signature": "StaticDispatcherUrlService.getLocalDispatcherUrl()", "testcase": false, "constructor": false}, {"identifier": "localize", "parameters": "(String externalUrl)", "modifiers": "public", "return": "String", "signature": "String localize(String externalUrl)", "full_signature": "public String localize(String externalUrl)", "class_method_signature": "StaticDispatcherUrlService.localize(String externalUrl)", "testcase": false, "constructor": false}], "file": "impl/src/main/java/org/geomajas/service/impl/StaticDispatcherUrlService.java"}, "focal_method": {"identifier": "localize", "parameters": "(String externalUrl)", "modifiers": "public", "return": "String", "body": "public String localize(String externalUrl) {\n\t\tString localBase = getLocalDispatcherUrl();\n\t\tif (localBase == null) {\n\t\t\treturn externalUrl;\n\t\t} else {\n\t\t\tString dispatcherBase = getDispatcherUrl();\n\t\t\tif (externalUrl.startsWith(dispatcherBase)) {\n\t\t\t\treturn localBase + externalUrl.substring(dispatcherBase.length());\n\t\t\t} else {\n\t\t\t\t// not a dispatcher url, return the original one\n\t\t\t\treturn externalUrl;\n\t\t\t}\n\t\t}\n\t}", "signature": "String localize(String externalUrl)", "full_signature": "public String localize(String externalUrl)", "class_method_signature": "StaticDispatcherUrlService.localize(String externalUrl)", "testcase": false, "constructor": false, "invocations": ["getLocalDispatcherUrl", "getDispatcherUrl", "startsWith", "substring", "length"]}, "repository": {"repo_id": 14505280, "url": "https://github.com/geomajas/geomajas-project-server", "language": "Java", "is_fork": false, "fork_count": 15, "stargazer_count": 13, "size": 124882, "license": "licensed"}}