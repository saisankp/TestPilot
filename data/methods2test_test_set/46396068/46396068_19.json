{"test_class": {"identifier": "DecimalStringSplitTest", "superclass": "", "interfaces": "", "fields": [], "file": "hbase0.98/hbase-common-0.98/src/test/java/com/kakao/hbase/common/util/DecimalStringSplitTest.java"}, "test_case": {"identifier": "testSplitPoint", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testSplitPoint() throws Exception {\n        assertEquals(1, DecimalStringSplit.splitPoint(10, 10, 0));\n        assertEquals(9, DecimalStringSplit.splitPoint(10, 10, 8));\n        try {\n            assertEquals(1, DecimalStringSplit.splitPoint(10, 10, 9));\n            fail();\n        } catch (IndexOutOfBoundsException ignore) {\n        }\n\n        assertEquals(10, DecimalStringSplit.splitPoint(10, 100, 0));\n        assertEquals(90, DecimalStringSplit.splitPoint(10, 100, 8));\n        try {\n            assertEquals(10, DecimalStringSplit.splitPoint(10, 100, 9));\n            fail();\n        } catch (IndexOutOfBoundsException ignore) {\n        }\n\n        assertEquals(3, DecimalStringSplit.splitPoint(30, 100, 0));\n        assertEquals(6, DecimalStringSplit.splitPoint(30, 100, 1));\n        assertEquals(10, DecimalStringSplit.splitPoint(30, 100, 2));\n        assertEquals(13, DecimalStringSplit.splitPoint(30, 100, 3));\n\n        assertEquals(3, DecimalStringSplit.splitPoint(333, 1000, 0));\n        assertEquals(6, DecimalStringSplit.splitPoint(333, 1000, 1));\n        assertEquals(9, DecimalStringSplit.splitPoint(333, 1000, 2));\n        assertEquals(12, DecimalStringSplit.splitPoint(333, 1000, 3));\n        assertEquals(996, DecimalStringSplit.splitPoint(333, 1000, 331));\n\n        assertEquals(33, DecimalStringSplit.splitPoint(3, 100, 0));\n        assertEquals(66, DecimalStringSplit.splitPoint(3, 100, 1));\n\n        assertEquals(33, DecimalStringSplit.splitPoint(30, 1000, 0));\n        assertEquals(66, DecimalStringSplit.splitPoint(30, 1000, 1));\n        assertEquals(100, DecimalStringSplit.splitPoint(30, 1000, 2));\n        assertEquals(133, DecimalStringSplit.splitPoint(30, 1000, 3));\n        assertEquals(166, DecimalStringSplit.splitPoint(30, 1000, 4));\n        assertEquals(200, DecimalStringSplit.splitPoint(30, 1000, 5));\n\n        assertEquals(2, DecimalStringSplit.splitPoint(50, 100, 0));\n        assertEquals(4, DecimalStringSplit.splitPoint(50, 100, 1));\n    }", "signature": "void testSplitPoint()", "full_signature": "@Test public void testSplitPoint()", "class_method_signature": "DecimalStringSplitTest.testSplitPoint()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "fail", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "fail", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint", "assertEquals", "splitPoint"]}, "focal_class": {"identifier": "DecimalStringSplit", "superclass": "", "interfaces": "implements org.apache.hadoop.hbase.util.RegionSplitter.SplitAlgorithm", "fields": [{"original_string": "static final int MAX_NUM_REGIONS = 10000;", "modifier": "static final", "type": "int", "declarator": "MAX_NUM_REGIONS = 10000", "var_name": "MAX_NUM_REGIONS"}, {"original_string": "private final int cardinality;", "modifier": "private final", "type": "int", "declarator": "cardinality", "var_name": "cardinality"}], "methods": [{"identifier": "DecimalStringSplit", "parameters": "(int cardinality)", "modifiers": "public", "return": "", "signature": " DecimalStringSplit(int cardinality)", "full_signature": "public  DecimalStringSplit(int cardinality)", "class_method_signature": "DecimalStringSplit.DecimalStringSplit(int cardinality)", "testcase": false, "constructor": true}, {"identifier": "digits", "parameters": "(int number)", "modifiers": "@VisibleForTesting static", "return": "int", "signature": "int digits(int number)", "full_signature": "@VisibleForTesting static int digits(int number)", "class_method_signature": "DecimalStringSplit.digits(int number)", "testcase": false, "constructor": false}, {"identifier": "splitPoint", "parameters": "(int numRegions, int cardinality, int index)", "modifiers": "@VisibleForTesting static", "return": "int", "signature": "int splitPoint(int numRegions, int cardinality, int index)", "full_signature": "@VisibleForTesting static int splitPoint(int numRegions, int cardinality, int index)", "class_method_signature": "DecimalStringSplit.splitPoint(int numRegions, int cardinality, int index)", "testcase": false, "constructor": false}, {"identifier": "split", "parameters": "(byte[] start, byte[] end)", "modifiers": "@Override public", "return": "byte[]", "signature": "byte[] split(byte[] start, byte[] end)", "full_signature": "@Override public byte[] split(byte[] start, byte[] end)", "class_method_signature": "DecimalStringSplit.split(byte[] start, byte[] end)", "testcase": false, "constructor": false}, {"identifier": "split", "parameters": "(int numRegions)", "modifiers": "@Override public", "return": "byte[][]", "signature": "byte[][] split(int numRegions)", "full_signature": "@Override public byte[][] split(int numRegions)", "class_method_signature": "DecimalStringSplit.split(int numRegions)", "testcase": false, "constructor": false}, {"identifier": "firstRow", "parameters": "()", "modifiers": "@Override public", "return": "byte[]", "signature": "byte[] firstRow()", "full_signature": "@Override public byte[] firstRow()", "class_method_signature": "DecimalStringSplit.firstRow()", "testcase": false, "constructor": false}, {"identifier": "lastRow", "parameters": "()", "modifiers": "@Override public", "return": "byte[]", "signature": "byte[] lastRow()", "full_signature": "@Override public byte[] lastRow()", "class_method_signature": "DecimalStringSplit.lastRow()", "testcase": false, "constructor": false}, {"identifier": "setFirstRow", "parameters": "(String userInput)", "modifiers": "@Override public", "return": "void", "signature": "void setFirstRow(String userInput)", "full_signature": "@Override public void setFirstRow(String userInput)", "class_method_signature": "DecimalStringSplit.setFirstRow(String userInput)", "testcase": false, "constructor": false}, {"identifier": "setLastRow", "parameters": "(String userInput)", "modifiers": "@Override public", "return": "void", "signature": "void setLastRow(String userInput)", "full_signature": "@Override public void setLastRow(String userInput)", "class_method_signature": "DecimalStringSplit.setLastRow(String userInput)", "testcase": false, "constructor": false}, {"identifier": "strToRow", "parameters": "(String input)", "modifiers": "@Override public", "return": "byte[]", "signature": "byte[] strToRow(String input)", "full_signature": "@Override public byte[] strToRow(String input)", "class_method_signature": "DecimalStringSplit.strToRow(String input)", "testcase": false, "constructor": false}, {"identifier": "rowToStr", "parameters": "(byte[] row)", "modifiers": "@Override public", "return": "String", "signature": "String rowToStr(byte[] row)", "full_signature": "@Override public String rowToStr(byte[] row)", "class_method_signature": "DecimalStringSplit.rowToStr(byte[] row)", "testcase": false, "constructor": false}, {"identifier": "separator", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String separator()", "full_signature": "@Override public String separator()", "class_method_signature": "DecimalStringSplit.separator()", "testcase": false, "constructor": false}, {"identifier": "setFirstRow", "parameters": "(byte[] userInput)", "modifiers": "public", "return": "void", "signature": "void setFirstRow(byte[] userInput)", "full_signature": "public void setFirstRow(byte[] userInput)", "class_method_signature": "DecimalStringSplit.setFirstRow(byte[] userInput)", "testcase": false, "constructor": false}, {"identifier": "setLastRow", "parameters": "(byte[] userInput)", "modifiers": "public", "return": "void", "signature": "void setLastRow(byte[] userInput)", "full_signature": "public void setLastRow(byte[] userInput)", "class_method_signature": "DecimalStringSplit.setLastRow(byte[] userInput)", "testcase": false, "constructor": false}], "file": "hbase0.98/hbase-common-0.98/src/main/java/com/kakao/hbase/common/util/DecimalStringSplit.java"}, "focal_method": {"identifier": "splitPoint", "parameters": "(int numRegions, int cardinality, int index)", "modifiers": "@VisibleForTesting static", "return": "int", "body": "@VisibleForTesting\n    static int splitPoint(int numRegions, int cardinality, int index) {\n        if (numRegions < index + 2) throw new IndexOutOfBoundsException(\"numRegions < index + 2\");\n        if (numRegions > cardinality) throw new IllegalArgumentException(\"numRegions > cardinality\");\n\n        return (int) (Math.floor((double) cardinality / (double) numRegions * (double)(index + 1)));\n    }", "signature": "int splitPoint(int numRegions, int cardinality, int index)", "full_signature": "@VisibleForTesting static int splitPoint(int numRegions, int cardinality, int index)", "class_method_signature": "DecimalStringSplit.splitPoint(int numRegions, int cardinality, int index)", "testcase": false, "constructor": false, "invocations": ["floor"]}, "repository": {"repo_id": 46396068, "url": "https://github.com/kakao/hbase-tools", "language": "Java", "is_fork": false, "fork_count": 21, "stargazer_count": 49, "size": 1758, "license": "licensed"}}