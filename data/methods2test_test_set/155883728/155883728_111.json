{"test_class": {"identifier": "CndExporterTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "final File testBaseDir = new File(\"target/repos/CndExporterTest\");", "modifier": "final", "type": "File", "declarator": "testBaseDir = new File(\"target/repos/CndExporterTest\")", "var_name": "testBaseDir"}], "file": "webster/src/test/java/net/adamcin/oakpal/webster/CndExporterTest.java"}, "test_case": {"identifier": "testCombineCauseMessages_reflectiveError", "parameters": "()", "modifiers": "@Test(expected = IllegalStateException.class) public", "return": "void", "body": "@Test(expected = IllegalStateException.class)\n    public void testCombineCauseMessages_reflectiveError() throws NoStringConstructorException {\n        CndExporter.combineCauseMessages(\n                Stream.of(\n                        Result.failure(new Exception(\"one\")),\n                        Result.failure(new Exception(\"two\"))),\n                Exception.class,\n                NoStringConstructorException.class);\n    }", "signature": "void testCombineCauseMessages_reflectiveError()", "full_signature": "@Test(expected = IllegalStateException.class) public void testCombineCauseMessages_reflectiveError()", "class_method_signature": "CndExporterTest.testCombineCauseMessages_reflectiveError()", "testcase": true, "constructor": false, "invocations": ["combineCauseMessages", "of", "failure", "failure"]}, "focal_class": {"identifier": "CndExporter", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final List<Rule> scopeExportNames;", "modifier": "private final", "type": "List<Rule>", "declarator": "scopeExportNames", "var_name": "scopeExportNames"}, {"original_string": "private final List<Rule> scopeReplaceNames;", "modifier": "private final", "type": "List<Rule>", "declarator": "scopeReplaceNames", "var_name": "scopeReplaceNames"}, {"original_string": "private final boolean includeBuiltins;", "modifier": "private final", "type": "boolean", "declarator": "includeBuiltins", "var_name": "includeBuiltins"}, {"original_string": "public static final List<String> BUILTIN_NODETYPES = JsonCnd.BUILTIN_NODETYPES;", "modifier": "public static final", "type": "List<String>", "declarator": "BUILTIN_NODETYPES = JsonCnd.BUILTIN_NODETYPES", "var_name": "BUILTIN_NODETYPES"}], "methods": [{"identifier": "CndExporter", "parameters": "(final List<Rule> scopeExportNames,\n                        final List<Rule> scopeReplaceNames,\n                        final boolean includeBuiltins)", "modifiers": "private", "return": "", "signature": " CndExporter(final List<Rule> scopeExportNames,\n                        final List<Rule> scopeReplaceNames,\n                        final boolean includeBuiltins)", "full_signature": "private  CndExporter(final List<Rule> scopeExportNames,\n                        final List<Rule> scopeReplaceNames,\n                        final boolean includeBuiltins)", "class_method_signature": "CndExporter.CndExporter(final List<Rule> scopeExportNames,\n                        final List<Rule> scopeReplaceNames,\n                        final boolean includeBuiltins)", "testcase": false, "constructor": true}, {"identifier": "writeNodetypes", "parameters": "(final @NotNull File cndFile,\n                               final @NotNull Session session,\n                               final @NotNull List<String> desiredTypeNames)", "modifiers": "public", "return": "void", "signature": "void writeNodetypes(final @NotNull File cndFile,\n                               final @NotNull Session session,\n                               final @NotNull List<String> desiredTypeNames)", "full_signature": "public void writeNodetypes(final @NotNull File cndFile,\n                               final @NotNull Session session,\n                               final @NotNull List<String> desiredTypeNames)", "class_method_signature": "CndExporter.writeNodetypes(final @NotNull File cndFile,\n                               final @NotNull Session session,\n                               final @NotNull List<String> desiredTypeNames)", "testcase": false, "constructor": false}, {"identifier": "writeNodetypes", "parameters": "(final @NotNull WriterOpener writerOpener,\n                               final @NotNull Session session,\n                               final @NotNull List<String> desiredTypeNames,\n                               final @Nullable File initialCnd)", "modifiers": "public", "return": "void", "signature": "void writeNodetypes(final @NotNull WriterOpener writerOpener,\n                               final @NotNull Session session,\n                               final @NotNull List<String> desiredTypeNames,\n                               final @Nullable File initialCnd)", "full_signature": "public void writeNodetypes(final @NotNull WriterOpener writerOpener,\n                               final @NotNull Session session,\n                               final @NotNull List<String> desiredTypeNames,\n                               final @Nullable File initialCnd)", "class_method_signature": "CndExporter.writeNodetypes(final @NotNull WriterOpener writerOpener,\n                               final @NotNull Session session,\n                               final @NotNull List<String> desiredTypeNames,\n                               final @Nullable File initialCnd)", "testcase": false, "constructor": false}, {"identifier": "retrieveNodeTypes", "parameters": "(final @NotNull Session session,\n                                                                  final @NotNull Collection<Name> desiredTypeNames)", "modifiers": "public static", "return": "Map<Name, NodeTypeDefinition>", "signature": "Map<Name, NodeTypeDefinition> retrieveNodeTypes(final @NotNull Session session,\n                                                                  final @NotNull Collection<Name> desiredTypeNames)", "full_signature": "public static Map<Name, NodeTypeDefinition> retrieveNodeTypes(final @NotNull Session session,\n                                                                  final @NotNull Collection<Name> desiredTypeNames)", "class_method_signature": "CndExporter.retrieveNodeTypes(final @NotNull Session session,\n                                                                  final @NotNull Collection<Name> desiredTypeNames)", "testcase": false, "constructor": false}, {"identifier": "retrieveNodeTypes", "parameters": "(final @NotNull Session session,\n                      final @NotNull Collection<Name> desiredTypeNames,\n                      final @Nullable BiPredicate<NamePathResolver, NodeType> nodeTypeSelector)", "modifiers": "public static", "return": "Map<Name, NodeTypeDefinition>", "signature": "Map<Name, NodeTypeDefinition> retrieveNodeTypes(final @NotNull Session session,\n                      final @NotNull Collection<Name> desiredTypeNames,\n                      final @Nullable BiPredicate<NamePathResolver, NodeType> nodeTypeSelector)", "full_signature": "public static Map<Name, NodeTypeDefinition> retrieveNodeTypes(final @NotNull Session session,\n                      final @NotNull Collection<Name> desiredTypeNames,\n                      final @Nullable BiPredicate<NamePathResolver, NodeType> nodeTypeSelector)", "class_method_signature": "CndExporter.retrieveNodeTypes(final @NotNull Session session,\n                      final @NotNull Collection<Name> desiredTypeNames,\n                      final @Nullable BiPredicate<NamePathResolver, NodeType> nodeTypeSelector)", "testcase": false, "constructor": false}, {"identifier": "combineCauseMessages", "parameters": "(final @NotNull Stream<Result<T>> results,\n                                                              final @NotNull Class<? extends Throwable> causeType,\n                                                              final @NotNull Class<E> andThrow)", "modifiers": "static", "return": "void", "signature": "void combineCauseMessages(final @NotNull Stream<Result<T>> results,\n                                                              final @NotNull Class<? extends Throwable> causeType,\n                                                              final @NotNull Class<E> andThrow)", "full_signature": "static void combineCauseMessages(final @NotNull Stream<Result<T>> results,\n                                                              final @NotNull Class<? extends Throwable> causeType,\n                                                              final @NotNull Class<E> andThrow)", "class_method_signature": "CndExporter.combineCauseMessages(final @NotNull Stream<Result<T>> results,\n                                                              final @NotNull Class<? extends Throwable> causeType,\n                                                              final @NotNull Class<E> andThrow)", "testcase": false, "constructor": false}, {"identifier": "optStream", "parameters": "(final T element)", "modifiers": "static", "return": "Stream<T>", "signature": "Stream<T> optStream(final T element)", "full_signature": "static Stream<T> optStream(final T element)", "class_method_signature": "CndExporter.optStream(final T element)", "testcase": false, "constructor": false}, {"identifier": "ntDepStream", "parameters": "(final NodeTypeTemplate ntDef)", "modifiers": "@SuppressWarnings(\"unchecked\") static", "return": "Stream<String>", "signature": "Stream<String> ntDepStream(final NodeTypeTemplate ntDef)", "full_signature": "@SuppressWarnings(\"unchecked\") static Stream<String> ntDepStream(final NodeTypeTemplate ntDef)", "class_method_signature": "CndExporter.ntDepStream(final NodeTypeTemplate ntDef)", "testcase": false, "constructor": false}, {"identifier": "addType", "parameters": "(final @NotNull NamePathResolver resolver,\n                        final @NotNull Map<Name, NodeTypeDefinition> typeSet,\n                        final @NotNull NodeType def)", "modifiers": "static", "return": "void", "signature": "void addType(final @NotNull NamePathResolver resolver,\n                        final @NotNull Map<Name, NodeTypeDefinition> typeSet,\n                        final @NotNull NodeType def)", "full_signature": "static void addType(final @NotNull NamePathResolver resolver,\n                        final @NotNull Map<Name, NodeTypeDefinition> typeSet,\n                        final @NotNull NodeType def)", "class_method_signature": "CndExporter.addType(final @NotNull NamePathResolver resolver,\n                        final @NotNull Map<Name, NodeTypeDefinition> typeSet,\n                        final @NotNull NodeType def)", "testcase": false, "constructor": false}], "file": "webster/src/main/java/net/adamcin/oakpal/webster/CndExporter.java"}, "focal_method": {"identifier": "combineCauseMessages", "parameters": "(final @NotNull Stream<Result<T>> results,\n                                                              final @NotNull Class<? extends Throwable> causeType,\n                                                              final @NotNull Class<E> andThrow)", "modifiers": "static", "return": "void", "body": "static <T, E extends Throwable> void combineCauseMessages(final @NotNull Stream<Result<T>> results,\n                                                              final @NotNull Class<? extends Throwable> causeType,\n                                                              final @NotNull Class<E> andThrow) throws E {\n        final String combined = results.filter(Result::isFailure)\n                .map(result -> result.findCause(causeType))\n                .filter(Optional::isPresent)\n                .map(Optional::get)\n                .map(Throwable::getMessage)\n                .collect(Collectors.joining(\", \"));\n        if (!combined.isEmpty()) {\n            E rethrow;\n            try {\n                rethrow = andThrow.getConstructor(String.class).newInstance(combined);\n            } catch (final ReflectiveOperationException e) {\n                throw new IllegalStateException(combined, e);\n            }\n            throw rethrow;\n        }\n    }", "signature": "void combineCauseMessages(final @NotNull Stream<Result<T>> results,\n                                                              final @NotNull Class<? extends Throwable> causeType,\n                                                              final @NotNull Class<E> andThrow)", "full_signature": "static void combineCauseMessages(final @NotNull Stream<Result<T>> results,\n                                                              final @NotNull Class<? extends Throwable> causeType,\n                                                              final @NotNull Class<E> andThrow)", "class_method_signature": "CndExporter.combineCauseMessages(final @NotNull Stream<Result<T>> results,\n                                                              final @NotNull Class<? extends Throwable> causeType,\n                                                              final @NotNull Class<E> andThrow)", "testcase": false, "constructor": false, "invocations": ["collect", "map", "map", "filter", "map", "filter", "findCause", "joining", "isEmpty", "newInstance", "getConstructor"]}, "repository": {"repo_id": 155883728, "url": "https://github.com/adamcin/oakpal", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 6, "size": 13349, "license": "licensed"}}