{"test_class": {"identifier": "TestGraph", "superclass": "", "interfaces": "", "fields": [], "file": "modules/x-gsn/src/main/java/org/openiot/gsn/utils/graph/TestGraph.java"}, "test_case": {"identifier": "testRemoveNode", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testRemoveNode() throws NodeNotExistsExeption{\n\t\tGraph<String> graph = new Graph<String>();\n\t\tgraph.addNode(\"n1\");\n\t\tgraph.addNode(\"n2\");\n\t\tgraph.addNode(\"n3\");\n\t\tgraph.addNode(\"n4\");\n\t\tgraph.addNode(\"n5\");\n\t\tgraph.addNode(\"n6\");\n\t\tgraph.addEdge(\"n2\", \"n3\");\n\t\tgraph.addEdge(\"n3\", \"n4\");\n\t\tgraph.addEdge(\"n1\", \"n5\");\n\t\tgraph.addEdge(\"n2\", \"n6\");\n\t\tprintGraph(graph, \"testRemoveNode1\");\n\t\tgraph.removeNode(\"n4\");\n\t\tassertNull(graph.findNode(\"n2\"));\n\t\tassertNotNull(graph.findNode(\"n6\"));\n\t\tprintGraph(graph, \"testRemoveNode2\");\n\t}", "signature": "void testRemoveNode()", "full_signature": "@Test public void testRemoveNode()", "class_method_signature": "TestGraph.testRemoveNode()", "testcase": true, "constructor": false, "invocations": ["addNode", "addNode", "addNode", "addNode", "addNode", "addNode", "addEdge", "addEdge", "addEdge", "addEdge", "printGraph", "removeNode", "assertNull", "findNode", "assertNotNull", "findNode", "printGraph"]}, "focal_class": {"identifier": "Graph", "superclass": "", "interfaces": "implements Serializable", "fields": [{"original_string": "private ArrayList<Node<T>> nodes;", "modifier": "private", "type": "ArrayList<Node<T>>", "declarator": "nodes", "var_name": "nodes"}, {"original_string": "private ArrayList<Node<T>> rootNodes;", "modifier": "private", "type": "ArrayList<Node<T>>", "declarator": "rootNodes", "var_name": "rootNodes"}], "methods": [{"identifier": "Graph", "parameters": "()", "modifiers": "public", "return": "", "signature": " Graph()", "full_signature": "public  Graph()", "class_method_signature": "Graph.Graph()", "testcase": false, "constructor": true}, {"identifier": "getDescendingNodes", "parameters": "(Node<T> node)", "modifiers": "public", "return": "List<Node<T>>", "signature": "List<Node<T>> getDescendingNodes(Node<T> node)", "full_signature": "public List<Node<T>> getDescendingNodes(Node<T> node)", "class_method_signature": "Graph.getDescendingNodes(Node<T> node)", "testcase": false, "constructor": false}, {"identifier": "getNodesByDFSSearch", "parameters": "()", "modifiers": "public", "return": "List<T>", "signature": "List<T> getNodesByDFSSearch()", "full_signature": "public List<T> getNodesByDFSSearch()", "class_method_signature": "Graph.getNodesByDFSSearch()", "testcase": false, "constructor": false}, {"identifier": "getAscendingNodes", "parameters": "(Node<T> node)", "modifiers": "private", "return": "List<Node<T>>", "signature": "List<Node<T>> getAscendingNodes(Node<T> node)", "full_signature": "private List<Node<T>> getAscendingNodes(Node<T> node)", "class_method_signature": "Graph.getAscendingNodes(Node<T> node)", "testcase": false, "constructor": false}, {"identifier": "rdfs", "parameters": "(Node<T> node, ArrayList<Node<T>> list)", "modifiers": "private", "return": "void", "signature": "void rdfs(Node<T> node, ArrayList<Node<T>> list)", "full_signature": "private void rdfs(Node<T> node, ArrayList<Node<T>> list)", "class_method_signature": "Graph.rdfs(Node<T> node, ArrayList<Node<T>> list)", "testcase": false, "constructor": false}, {"identifier": "nodesAffectedByRemoval", "parameters": "(Node<T> node)", "modifiers": "public", "return": "List<Node<T>>", "signature": "List<Node<T>> nodesAffectedByRemoval(Node<T> node)", "full_signature": "public List<Node<T>> nodesAffectedByRemoval(Node<T> node)", "class_method_signature": "Graph.nodesAffectedByRemoval(Node<T> node)", "testcase": false, "constructor": false}, {"identifier": "hasCycle", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean hasCycle()", "full_signature": "public boolean hasCycle()", "class_method_signature": "Graph.hasCycle()", "testcase": false, "constructor": false}, {"identifier": "isNodeInCycle", "parameters": "(Node<T> node)", "modifiers": "private", "return": "boolean", "signature": "boolean isNodeInCycle(Node<T> node)", "full_signature": "private boolean isNodeInCycle(Node<T> node)", "class_method_signature": "Graph.isNodeInCycle(Node<T> node)", "testcase": false, "constructor": false}, {"identifier": "addNode", "parameters": "(T object)", "modifiers": "public", "return": "Node<T>", "signature": "Node<T> addNode(T object)", "full_signature": "public Node<T> addNode(T object)", "class_method_signature": "Graph.addNode(T object)", "testcase": false, "constructor": false}, {"identifier": "addEdge", "parameters": "(T startObject, T endObject)", "modifiers": "public", "return": "void", "signature": "void addEdge(T startObject, T endObject)", "full_signature": "public void addEdge(T startObject, T endObject)", "class_method_signature": "Graph.addEdge(T startObject, T endObject)", "testcase": false, "constructor": false}, {"identifier": "findRootNode", "parameters": "(Node<T> startNode)", "modifiers": "public", "return": "Node<T>", "signature": "Node<T> findRootNode(Node<T> startNode)", "full_signature": "public Node<T> findRootNode(Node<T> startNode)", "class_method_signature": "Graph.findRootNode(Node<T> startNode)", "testcase": false, "constructor": false}, {"identifier": "removeNode", "parameters": "(T object)", "modifiers": "public", "return": "boolean", "signature": "boolean removeNode(T object)", "full_signature": "public boolean removeNode(T object)", "class_method_signature": "Graph.removeNode(T object)", "testcase": false, "constructor": false}, {"identifier": "findNode", "parameters": "(T object)", "modifiers": "public", "return": "Node<T>", "signature": "Node<T> findNode(T object)", "full_signature": "public Node<T> findNode(T object)", "class_method_signature": "Graph.findNode(T object)", "testcase": false, "constructor": false}, {"identifier": "dfs", "parameters": "(Node<T> node, List<Node<T>> list)", "modifiers": "private", "return": "void", "signature": "void dfs(Node<T> node, List<Node<T>> list)", "full_signature": "private void dfs(Node<T> node, List<Node<T>> list)", "class_method_signature": "Graph.dfs(Node<T> node, List<Node<T>> list)", "testcase": false, "constructor": false}, {"identifier": "resetVisitingStatus", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void resetVisitingStatus()", "full_signature": "private void resetVisitingStatus()", "class_method_signature": "Graph.resetVisitingStatus()", "testcase": false, "constructor": false}, {"identifier": "getNodes", "parameters": "()", "modifiers": "public", "return": "ArrayList<Node<T>>", "signature": "ArrayList<Node<T>> getNodes()", "full_signature": "public ArrayList<Node<T>> getNodes()", "class_method_signature": "Graph.getNodes()", "testcase": false, "constructor": false}, {"identifier": "getRootNodes", "parameters": "()", "modifiers": "public", "return": "ArrayList<Node<T>>", "signature": "ArrayList<Node<T>> getRootNodes()", "full_signature": "public ArrayList<Node<T>> getRootNodes()", "class_method_signature": "Graph.getRootNodes()", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String toString()", "full_signature": "@Override public String toString()", "class_method_signature": "Graph.toString()", "testcase": false, "constructor": false}], "file": "modules/x-gsn/src/main/java/org/openiot/gsn/utils/graph/Graph.java"}, "focal_method": {"identifier": "removeNode", "parameters": "(T object)", "modifiers": "public", "return": "boolean", "body": "public boolean removeNode(T object) throws NodeNotExistsExeption {\n\t\tNode<T> node = findNode(object);\n\t\tif (node == null)\n\t\t\tthrow new NodeNotExistsExeption(object == null ? \"null\" : object.toString());\n\n\t\tList<Node<T>> ascendingNodes = getAscendingNodes(node);\n\t\tfor (Node<T> ascendingNode : ascendingNodes) {\n\t\t\tArrayList<Edge<T>> outputEdges = ascendingNode.getOutputEdges();\n\t\t\tArrayList<Node<T>> nodesToRemove = new ArrayList<Node<T>>(\n\t\t\t\t\toutputEdges.size());\n\t\t\tfor (Edge<T> edge : outputEdges) {\n\t\t\t\tnodesToRemove.add(edge.getEndNode());\n\t\t\t}\n\t\t\tfor (Node<T> node2 : nodesToRemove) {\n\t\t\t\tascendingNode.removeEdge(node2);\n\t\t\t}\n\n\t\t\tnodes.remove(ascendingNode);\n\t\t\trootNodes.remove(ascendingNode);\n\t\t}\n\t\tnodes.remove(node);\n\t\trootNodes.remove(node);\n\n\t\tfor (Node<T> remainedNode : nodes) {\n\t\t\tif (remainedNode.getInputEdges().isEmpty()\n\t\t\t\t\t&& rootNodes.contains(remainedNode) == false)\n\t\t\t\trootNodes.add(remainedNode);\n\t\t}\n\t\treturn true;\n\t}", "signature": "boolean removeNode(T object)", "full_signature": "public boolean removeNode(T object)", "class_method_signature": "Graph.removeNode(T object)", "testcase": false, "constructor": false, "invocations": ["findNode", "toString", "getAscendingNodes", "getOutputEdges", "size", "add", "getEndNode", "removeEdge", "remove", "remove", "remove", "remove", "isEmpty", "getInputEdges", "contains", "add"]}, "repository": {"repo_id": 9221446, "url": "https://github.com/OpenIotOrg/openiot", "language": "Java", "is_fork": false, "fork_count": 201, "stargazer_count": 417, "size": 101270, "license": "licensed"}}