{"test_class": {"identifier": "FCMapTableTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static String testDir = TestUtil.TEST_BASE_DIR + \"sdb/unit/level_2_table_test\";", "modifier": "private static", "type": "String", "declarator": "testDir = TestUtil.TEST_BASE_DIR + \"sdb/unit/level_2_table_test\"", "var_name": "testDir"}, {"original_string": "private FCMapTable mapTable;", "modifier": "private", "type": "FCMapTable", "declarator": "mapTable", "var_name": "mapTable"}], "file": "zava/src/test/java/com/ctriposs/sdb/table/FCMapTableTest.java"}, "test_case": {"identifier": "testEmtpy", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testEmtpy() throws IOException, ClassNotFoundException {\n\t\tlong createdTime = System.nanoTime();\n\t\tmapTable = new FCMapTable(testDir, 1, createdTime, 1000);\n\n\t\tassertTrue(mapTable.getLevel() == 1);\n\t\tassertTrue(mapTable.getCreatedTime() == createdTime);\n\t\tassertTrue(mapTable.getAppendedSize() == 0);\n\t\tassertTrue(mapTable.isEmpty());\n\t\tassertTrue(mapTable.getBackFileSize() == HashMapTable.INIT_INDEX_FILE_SIZE + HashMapTable.INIT_DATA_FILE_SIZE + HashMapTable.INDEX_ITEM_LENGTH);\n\t\tassertFalse(mapTable.isUsable());\n\n\t\ttry {\n\t\t\t@SuppressWarnings(\"unused\")\n\t\t\tGetResult result = mapTable.get(\"empty\".getBytes());\n\t\t\tfail();\n\t\t} catch (IllegalArgumentException iae) {\n\n\t\t}\n\n\t\ttry {\n\t\t\tmapTable.getMapEntry(-1);\n\t\t\tfail();\n\t\t} catch (IllegalArgumentException iae) {\n\n\t\t}\n\n\t\ttry {\n\t\t\tmapTable.getMapEntry(0);\n\t\t} catch (IllegalArgumentException iae) {\n\n\t\t}\n\t}", "signature": "void testEmtpy()", "full_signature": "@Test public void testEmtpy()", "class_method_signature": "FCMapTableTest.testEmtpy()", "testcase": true, "constructor": false, "invocations": ["nanoTime", "assertTrue", "getLevel", "assertTrue", "getCreatedTime", "assertTrue", "getAppendedSize", "assertTrue", "isEmpty", "assertTrue", "getBackFileSize", "assertFalse", "isUsable", "get", "getBytes", "fail", "getMapEntry", "fail", "getMapEntry"]}, "focal_class": {"identifier": "FCMapTable", "superclass": "extends AbstractSortedMapTable", "interfaces": "", "fields": [], "methods": [{"identifier": "FCMapTable", "parameters": "(String dir, int level, long createdTime, int expectedInsertions)", "modifiers": "public", "return": "", "signature": " FCMapTable(String dir, int level, long createdTime, int expectedInsertions)", "full_signature": "public  FCMapTable(String dir, int level, long createdTime, int expectedInsertions)", "class_method_signature": "FCMapTable.FCMapTable(String dir, int level, long createdTime, int expectedInsertions)", "testcase": false, "constructor": true}, {"identifier": "FCMapTable", "parameters": "(String dir, short shard, int level, long createdTime, int expectedInsertions)", "modifiers": "public", "return": "", "signature": " FCMapTable(String dir, short shard, int level, long createdTime, int expectedInsertions)", "full_signature": "public  FCMapTable(String dir, short shard, int level, long createdTime, int expectedInsertions)", "class_method_signature": "FCMapTable.FCMapTable(String dir, short shard, int level, long createdTime, int expectedInsertions)", "testcase": false, "constructor": true}, {"identifier": "FCMapTable", "parameters": "(String dir, String fileName)", "modifiers": "public", "return": "", "signature": " FCMapTable(String dir, String fileName)", "full_signature": "public  FCMapTable(String dir, String fileName)", "class_method_signature": "FCMapTable.FCMapTable(String dir, String fileName)", "testcase": false, "constructor": true}, {"identifier": "appendNew", "parameters": "(byte[] key, byte[] value, long timeToLive)", "modifiers": "public", "return": "IMapEntry", "signature": "IMapEntry appendNew(byte[] key, byte[] value, long timeToLive)", "full_signature": "public IMapEntry appendNew(byte[] key, byte[] value, long timeToLive)", "class_method_signature": "FCMapTable.appendNew(byte[] key, byte[] value, long timeToLive)", "testcase": false, "constructor": false}, {"identifier": "appendNew", "parameters": "(byte[] key, int keyHash, byte[] value, long timeToLive, long createdTime, boolean deleted, boolean compressed)", "modifiers": "@Override public", "return": "IMapEntry", "signature": "IMapEntry appendNew(byte[] key, int keyHash, byte[] value, long timeToLive, long createdTime, boolean deleted, boolean compressed)", "full_signature": "@Override public IMapEntry appendNew(byte[] key, int keyHash, byte[] value, long timeToLive, long createdTime, boolean deleted, boolean compressed)", "class_method_signature": "FCMapTable.appendNew(byte[] key, int keyHash, byte[] value, long timeToLive, long createdTime, boolean deleted, boolean compressed)", "testcase": false, "constructor": false}, {"identifier": "getMapEntry", "parameters": "(int index)", "modifiers": "@Override public", "return": "IMapEntry", "signature": "IMapEntry getMapEntry(int index)", "full_signature": "@Override public IMapEntry getMapEntry(int index)", "class_method_signature": "FCMapTable.getMapEntry(int index)", "testcase": false, "constructor": false}], "file": "zava/src/main/java/com/ctriposs/sdb/table/FCMapTable.java"}, "focal_method": {"identifier": "getMapEntry", "parameters": "(int index)", "modifiers": "@Override public", "return": "IMapEntry", "body": "@Override\n\tpublic IMapEntry getMapEntry(int index) {\n\t\tensureNotClosed();\n\t\tPreconditions.checkArgument(index >= 0, \"index (%s) must be equal to or greater than 0\", index);\n\t\tPreconditions.checkArgument(!isEmpty(), \"Can't get map entry since the map is empty\");\n\t\treturn new FCMapEntryImpl(index, this.indexMappedByteBuffer, this.dataChannel);\n\t}", "signature": "IMapEntry getMapEntry(int index)", "full_signature": "@Override public IMapEntry getMapEntry(int index)", "class_method_signature": "FCMapTable.getMapEntry(int index)", "testcase": false, "constructor": false, "invocations": ["ensureNotClosed", "checkArgument", "checkArgument", "isEmpty"]}, "repository": {"repo_id": 33645537, "url": "https://github.com/zqhxuyuan/tutorials", "language": "Java", "is_fork": false, "fork_count": 8, "stargazer_count": 5, "size": 35273, "license": "licensed"}}