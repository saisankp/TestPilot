{"test_class": {"identifier": "MostVotedJobTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Autowired\n    private MostVotedJob mostVotedJob;", "modifier": "@Autowired\n    private", "type": "MostVotedJob", "declarator": "mostVotedJob", "var_name": "mostVotedJob"}], "file": "backend/src/test/java/com/running/coins/job/MostVotedJobTest.java"}, "test_case": {"identifier": "insertDailyVotedCount", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void insertDailyVotedCount() {\n        mostVotedJob.insertDailyVotedCount();\n    }", "signature": "void insertDailyVotedCount()", "full_signature": "@Test public void insertDailyVotedCount()", "class_method_signature": "MostVotedJobTest.insertDailyVotedCount()", "testcase": true, "constructor": false, "invocations": ["insertDailyVotedCount"]}, "focal_class": {"identifier": "MostVotedJob", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Autowired\n    private VoteRecordMapper voteRecordMapper;", "modifier": "@Autowired\n    private", "type": "VoteRecordMapper", "declarator": "voteRecordMapper", "var_name": "voteRecordMapper"}, {"original_string": "@Autowired\n    private UserGroupMapper userGroupMapper;", "modifier": "@Autowired\n    private", "type": "UserGroupMapper", "declarator": "userGroupMapper", "var_name": "userGroupMapper"}, {"original_string": "@Autowired\n    private MostVotedRecordMapper mostVotedRecordMapper;", "modifier": "@Autowired\n    private", "type": "MostVotedRecordMapper", "declarator": "mostVotedRecordMapper", "var_name": "mostVotedRecordMapper"}, {"original_string": "@Autowired\n    private DailyMostVotedRecordMapper dailyMostVotedRecordMapper;", "modifier": "@Autowired\n    private", "type": "DailyMostVotedRecordMapper", "declarator": "dailyMostVotedRecordMapper", "var_name": "dailyMostVotedRecordMapper"}], "methods": [{"identifier": "insertDailyVotedCount", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void insertDailyVotedCount()", "full_signature": "public void insertDailyVotedCount()", "class_method_signature": "MostVotedJob.insertDailyVotedCount()", "testcase": false, "constructor": false}, {"identifier": "calculateThePersonToGetCoin", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void calculateThePersonToGetCoin()", "full_signature": "public void calculateThePersonToGetCoin()", "class_method_signature": "MostVotedJob.calculateThePersonToGetCoin()", "testcase": false, "constructor": false}], "file": "backend/src/main/java/com/running/coins/job/MostVotedJob.java"}, "focal_method": {"identifier": "insertDailyVotedCount", "parameters": "()", "modifiers": "public", "return": "void", "body": "public void insertDailyVotedCount() {\n        List<UserGroup> userGroups = userGroupMapper.selectByGroupId(1);\n        /**\n         * \u7edf\u8ba1\u6bcf\u4eba\u6bcf\u5929\u7684\u6295\u7968\u6570\n         */\n        for (UserGroup userGroup : userGroups) {\n            Integer count = voteRecordMapper.selectDailyVotedCountByGroupUserId(userGroup.getUserGroupId(),new Date());\n            MostVotedRecord mostVotedRecord = mostVotedRecordMapper.selectByVotedDateAndUserGroupId(new Date(), userGroup.getUserGroupId());\n            if (mostVotedRecord == null) {\n                mostVotedRecord = new MostVotedRecord();\n                mostVotedRecord.setGroupId(1);\n                mostVotedRecord.setUserGroupId(userGroup.getUserGroupId());\n                mostVotedRecord.setVotedCount(count);\n                mostVotedRecord.setCoinGiveStatus(0);\n                mostVotedRecord.setVotedDate(new Date());\n                mostVotedRecordMapper.insertSelective(mostVotedRecord);\n            }else {\n                mostVotedRecord.setVotedCount(count);\n                mostVotedRecordMapper.updateByPrimaryKeySelective(mostVotedRecord);\n            }\n        }\n\n        calculateThePersonToGetCoin();\n    }", "signature": "void insertDailyVotedCount()", "full_signature": "public void insertDailyVotedCount()", "class_method_signature": "MostVotedJob.insertDailyVotedCount()", "testcase": false, "constructor": false, "invocations": ["selectByGroupId", "selectDailyVotedCountByGroupUserId", "getUserGroupId", "selectByVotedDateAndUserGroupId", "getUserGroupId", "setGroupId", "setUserGroupId", "getUserGroupId", "setVotedCount", "setCoinGiveStatus", "setVotedDate", "insertSelective", "setVotedCount", "updateByPrimaryKeySelective", "calculateThePersonToGetCoin"]}, "repository": {"repo_id": 129255460, "url": "https://github.com/artbite008/running_coin", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 5, "size": 3010, "license": "licensed"}}