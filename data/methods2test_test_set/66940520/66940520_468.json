{"test_class": {"identifier": "AnalyticsIndexTest", "superclass": "", "interfaces": "", "fields": [], "file": "dhis-2/dhis-services/dhis-service-analytics/src/test/java/org/hisp/dhis/analytics/AnalyticsIndexTest.java"}, "test_case": {"identifier": "testGetIndexName", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetIndexName()\n    {\n        AnalyticsIndex indexA = new AnalyticsIndex( \"analytics_2017_temp\", Lists.newArrayList( quote( \"quarterly\" ) ), null );\n        AnalyticsIndex indexB = new AnalyticsIndex( \"analytics_2018_temp\", Lists.newArrayList( quote( \"ax\" ), quote( \"co\" ) ), null );\n        AnalyticsIndex indexC = new AnalyticsIndex( \"analytics_2019_temp\", Lists.newArrayList( quote( \"YtbsuPPo010\" ) ), null );\n\n        assertTrue( indexA.getIndexName( AnalyticsTableType.DATA_VALUE ).startsWith( QUOTE + \"in_quarterly_ax_2017_\" ) );\n        assertTrue( indexB.getIndexName( AnalyticsTableType.DATA_VALUE ).startsWith( QUOTE + \"in_ax_co_ax_2018_\" ) );\n        assertTrue( indexC.getIndexName( AnalyticsTableType.DATA_VALUE ).startsWith( QUOTE + \"in_YtbsuPPo010_ax_2019_\" ) );\n    }", "signature": "void testGetIndexName()", "full_signature": "@Test public void testGetIndexName()", "class_method_signature": "AnalyticsIndexTest.testGetIndexName()", "testcase": true, "constructor": false, "invocations": ["newArrayList", "quote", "newArrayList", "quote", "quote", "newArrayList", "quote", "assertTrue", "startsWith", "getIndexName", "assertTrue", "startsWith", "getIndexName", "assertTrue", "startsWith", "getIndexName"]}, "focal_class": {"identifier": "AnalyticsIndex", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final String PREFIX_INDEX = \"in_\";", "modifier": "public static final", "type": "String", "declarator": "PREFIX_INDEX = \"in_\"", "var_name": "PREFIX_INDEX"}, {"original_string": "private String table;", "modifier": "private", "type": "String", "declarator": "table", "var_name": "table"}, {"original_string": "private List<String> columns = new ArrayList<>();", "modifier": "private", "type": "List<String>", "declarator": "columns = new ArrayList<>()", "var_name": "columns"}, {"original_string": "private String type;", "modifier": "private", "type": "String", "declarator": "type", "var_name": "type"}], "methods": [{"identifier": "AnalyticsIndex", "parameters": "( String table, List<String> columns, String type )", "modifiers": "public", "return": "", "signature": " AnalyticsIndex( String table, List<String> columns, String type )", "full_signature": "public  AnalyticsIndex( String table, List<String> columns, String type )", "class_method_signature": "AnalyticsIndex.AnalyticsIndex( String table, List<String> columns, String type )", "testcase": false, "constructor": true}, {"identifier": "getIndexName", "parameters": "( AnalyticsTableType tableType )", "modifiers": "public", "return": "String", "signature": "String getIndexName( AnalyticsTableType tableType )", "full_signature": "public String getIndexName( AnalyticsTableType tableType )", "class_method_signature": "AnalyticsIndex.getIndexName( AnalyticsTableType tableType )", "testcase": false, "constructor": false}, {"identifier": "shortenTableName", "parameters": "( String table, AnalyticsTableType tableType )", "modifiers": "private static", "return": "String", "signature": "String shortenTableName( String table, AnalyticsTableType tableType )", "full_signature": "private static String shortenTableName( String table, AnalyticsTableType tableType )", "class_method_signature": "AnalyticsIndex.shortenTableName( String table, AnalyticsTableType tableType )", "testcase": false, "constructor": false}, {"identifier": "hasType", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean hasType()", "full_signature": "public boolean hasType()", "class_method_signature": "AnalyticsIndex.hasType()", "testcase": false, "constructor": false}, {"identifier": "getTable", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getTable()", "full_signature": "public String getTable()", "class_method_signature": "AnalyticsIndex.getTable()", "testcase": false, "constructor": false}, {"identifier": "getColumns", "parameters": "()", "modifiers": "public", "return": "List<String>", "signature": "List<String> getColumns()", "full_signature": "public List<String> getColumns()", "class_method_signature": "AnalyticsIndex.getColumns()", "testcase": false, "constructor": false}, {"identifier": "getType", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getType()", "full_signature": "public String getType()", "class_method_signature": "AnalyticsIndex.getType()", "testcase": false, "constructor": false}, {"identifier": "hashCode", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int hashCode()", "full_signature": "@Override public int hashCode()", "class_method_signature": "AnalyticsIndex.hashCode()", "testcase": false, "constructor": false}, {"identifier": "equals", "parameters": "( Object object )", "modifiers": "@Override public", "return": "boolean", "signature": "boolean equals( Object object )", "full_signature": "@Override public boolean equals( Object object )", "class_method_signature": "AnalyticsIndex.equals( Object object )", "testcase": false, "constructor": false}], "file": "dhis-2/dhis-services/dhis-service-analytics/src/main/java/org/hisp/dhis/analytics/AnalyticsIndex.java"}, "focal_method": {"identifier": "getIndexName", "parameters": "( AnalyticsTableType tableType )", "modifiers": "public", "return": "String", "body": "public String getIndexName( AnalyticsTableType tableType )\n    {\n        String columnName = StringUtils.join( this.getColumns(), \"_\" );\n\n        return quote( PREFIX_INDEX + removeQuote( columnName ) + \"_\" + shortenTableName( this.getTable(), tableType ) + \"_\" + CodeGenerator.generateCode( 5 ) );\n    }", "signature": "String getIndexName( AnalyticsTableType tableType )", "full_signature": "public String getIndexName( AnalyticsTableType tableType )", "class_method_signature": "AnalyticsIndex.getIndexName( AnalyticsTableType tableType )", "testcase": false, "constructor": false, "invocations": ["join", "getColumns", "quote", "removeQuote", "shortenTableName", "getTable", "generateCode"]}, "repository": {"repo_id": 66940520, "url": "https://github.com/dhis2/dhis2-core", "stars": 151, "created": "8/30/2016 12:57:05 PM +00:00", "updates": "2020-01-24T18:06:36+00:00", "fork": "False", "license": "licensed"}}