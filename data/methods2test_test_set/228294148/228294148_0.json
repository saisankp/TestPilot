{"test_class": {"identifier": "JwtTokenTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final static Key key = Keys.secretKeyFor(SignatureAlgorithm.HS256);", "modifier": "private final static", "type": "Key", "declarator": "key = Keys.secretKeyFor(SignatureAlgorithm.HS256)", "var_name": "key"}], "file": "frostmourne-monitor/src/test/java/com/autohome/frostmourne/monitor/tool/JwtTokenTest.java"}, "test_case": {"identifier": "generateTokenTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void generateTokenTest() {\n        JwtToken jwtToken = new JwtToken();\n        AccountInfo accountInfo = new AccountInfo();\n        accountInfo.setAccount(\"admin\");\n        accountInfo.setTeamId(1L);\n        String token = jwtToken.generateToken(accountInfo);\n    }", "signature": "void generateTokenTest()", "full_signature": "@Test public void generateTokenTest()", "class_method_signature": "JwtTokenTest.generateTokenTest()", "testcase": true, "constructor": false, "invocations": ["setAccount", "setTeamId", "generateToken"]}, "focal_class": {"identifier": "JwtToken", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final static Long EXPIRE = 1000 * 60 * 60 * 24L;", "modifier": "private final static", "type": "Long", "declarator": "EXPIRE = 1000 * 60 * 60 * 24L", "var_name": "EXPIRE"}, {"original_string": "private final static Key key = Keys.hmacShaKeyFor(\"\u4f0f\u5730\u9b54,\u72d7\u5230\u5929\u8352\u5730\u8001,\u72d7\u51fa\u65b0\u9ad8\u5ea6\".getBytes(StandardCharsets.UTF_8));", "modifier": "private final static", "type": "Key", "declarator": "key = Keys.hmacShaKeyFor(\"\u4f0f\u5730\u9b54,\u72d7\u5230\u5929\u8352\u5730\u8001,\u72d7\u51fa\u65b0\u9ad8\u5ea6\".getBytes(StandardCharsets.UTF_8));", "var_name": "key"}, {"original_string": "private final static String SALT = \"\u522b\u6740\u6211\uff0c\u6211\u662f\u9c81\u73ed7\u53f7\";", "modifier": "private final static", "type": "String", "declarator": "SALT = \"\u522b\u6740\u6211\uff0c\u6211\u662f\u9c81\u73ed7\u53f7\";", "var_name": "SALT"}], "methods": [{"identifier": "generateToken", "parameters": "(AccountInfo accountInfo)", "modifiers": "public", "return": "String", "signature": "String generateToken(AccountInfo accountInfo)", "full_signature": "public String generateToken(AccountInfo accountInfo)", "class_method_signature": "JwtToken.generateToken(AccountInfo accountInfo)", "testcase": false, "constructor": false}, {"identifier": "parseToken", "parameters": "(String token)", "modifiers": "public", "return": "Claims", "signature": "Claims parseToken(String token)", "full_signature": "public Claims parseToken(String token)", "class_method_signature": "JwtToken.parseToken(String token)", "testcase": false, "constructor": false}, {"identifier": "parseAccount", "parameters": "(String token)", "modifiers": "public", "return": "String", "signature": "String parseAccount(String token)", "full_signature": "public String parseAccount(String token)", "class_method_signature": "JwtToken.parseAccount(String token)", "testcase": false, "constructor": false}], "file": "frostmourne-monitor/src/main/java/com/autohome/frostmourne/monitor/tool/JwtToken.java"}, "focal_method": {"identifier": "generateToken", "parameters": "(AccountInfo accountInfo)", "modifiers": "public", "return": "String", "body": "public String generateToken(AccountInfo accountInfo) {\n        return Jwts.builder()\n                .claim(\"salt\", SALT)\n                .claim(\"userinfo\", JacksonUtil.serialize(accountInfo))\n                .setSubject(accountInfo.getAccount())\n                .setExpiration(new Date(System.currentTimeMillis() + EXPIRE))\n                .signWith(key).compact();\n    }", "signature": "String generateToken(AccountInfo accountInfo)", "full_signature": "public String generateToken(AccountInfo accountInfo)", "class_method_signature": "JwtToken.generateToken(AccountInfo accountInfo)", "testcase": false, "constructor": false, "invocations": ["compact", "signWith", "setExpiration", "setSubject", "claim", "claim", "builder", "serialize", "getAccount", "currentTimeMillis"]}, "repository": {"repo_id": 228294148, "url": "https://github.com/AutohomeCorp/frostmourne", "stars": 36, "created": "12/16/2019 3:22:03 AM +00:00", "updates": "2020-01-21T06:49:00+00:00", "fork": "False", "license": "licensed"}}