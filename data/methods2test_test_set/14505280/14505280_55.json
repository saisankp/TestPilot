{"test_class": {"identifier": "PrintServiceImplTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Autowired\n\tprivate PrintService printService;", "modifier": "@Autowired\n\tprivate", "type": "PrintService", "declarator": "printService", "var_name": "printService"}, {"original_string": "private final Logger log = LoggerFactory.getLogger(PrintServiceImplTest.class);", "modifier": "private final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(PrintServiceImplTest.class)", "var_name": "log"}], "file": "plugin/print/print/src/test/java/org/geomajas/plugin/printing/service/PrintServiceImplTest.java"}, "test_case": {"identifier": "testGetAllTemplates", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testGetAllTemplates() throws Exception {\n\t\tList<PrintTemplate> templates = printService.getAllTemplates();\n\t\tAssert.assertEquals(11, templates.size());\n\t}", "signature": "void testGetAllTemplates()", "full_signature": "@Test public void testGetAllTemplates()", "class_method_signature": "PrintServiceImplTest.testGetAllTemplates()", "testcase": true, "constructor": false, "invocations": ["getAllTemplates", "assertEquals", "size"]}, "focal_class": {"identifier": "PrintServiceImpl", "superclass": "", "interfaces": "implements PrintService", "fields": [{"original_string": "private final Logger log = LoggerFactory.getLogger(PrintServiceImpl.class);", "modifier": "private final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(PrintServiceImpl.class)", "var_name": "log"}, {"original_string": "private static final String ORG_GEOMAJAS = \"org.geomajas.\";", "modifier": "private static final", "type": "String", "declarator": "ORG_GEOMAJAS = \"org.geomajas.\"", "var_name": "ORG_GEOMAJAS"}, {"original_string": "private static final long MB = 1024L * 1024L;", "modifier": "private static final", "type": "long", "declarator": "MB = 1024L * 1024L", "var_name": "MB"}, {"original_string": "@Autowired\n\tprivate PrintTemplateDao printTemplateDao;", "modifier": "@Autowired\n\tprivate", "type": "PrintTemplateDao", "declarator": "printTemplateDao", "var_name": "printTemplateDao"}, {"original_string": "@Autowired\n\tprivate ApplicationContext applicationContext;", "modifier": "@Autowired\n\tprivate", "type": "ApplicationContext", "declarator": "applicationContext", "var_name": "applicationContext"}, {"original_string": "@Autowired\n\t@Qualifier(\"printing.printMarshaller\")\n\tprivate Marshaller marshaller;", "modifier": "@Autowired\n\t@Qualifier(\"printing.printMarshaller\")\n\tprivate", "type": "Marshaller", "declarator": "marshaller", "var_name": "marshaller"}, {"original_string": "@Autowired\n\t@Qualifier(\"printing.printMarshaller\")\n\tprivate Unmarshaller unMarshaller;", "modifier": "@Autowired\n\t@Qualifier(\"printing.printMarshaller\")\n\tprivate", "type": "Unmarshaller", "declarator": "unMarshaller", "var_name": "unMarshaller"}, {"original_string": "private int jaiTileCacheInMb = 64;", "modifier": "private", "type": "int", "declarator": "jaiTileCacheInMb = 64", "var_name": "jaiTileCacheInMb"}, {"original_string": "private Map<String, Document> documentMap = Collections.synchronizedMap(new HashMap<String, Document>());", "modifier": "private", "type": "Map<String, Document>", "declarator": "documentMap = Collections.synchronizedMap(new HashMap<String, Document>())", "var_name": "documentMap"}], "methods": [{"identifier": "getAllTemplates", "parameters": "()", "modifiers": "public", "return": "List<PrintTemplate>", "signature": "List<PrintTemplate> getAllTemplates()", "full_signature": "public List<PrintTemplate> getAllTemplates()", "class_method_signature": "PrintServiceImpl.getAllTemplates()", "testcase": false, "constructor": false}, {"identifier": "createDefaultTemplate", "parameters": "(String pageSize, boolean landscape)", "modifiers": "public", "return": "PrintTemplate", "signature": "PrintTemplate createDefaultTemplate(String pageSize, boolean landscape)", "full_signature": "public PrintTemplate createDefaultTemplate(String pageSize, boolean landscape)", "class_method_signature": "PrintServiceImpl.createDefaultTemplate(String pageSize, boolean landscape)", "testcase": false, "constructor": false}, {"identifier": "saveOrUpdateTemplate", "parameters": "(PrintTemplate template)", "modifiers": "public", "return": "void", "signature": "void saveOrUpdateTemplate(PrintTemplate template)", "full_signature": "public void saveOrUpdateTemplate(PrintTemplate template)", "class_method_signature": "PrintServiceImpl.saveOrUpdateTemplate(PrintTemplate template)", "testcase": false, "constructor": false}, {"identifier": "putDocument", "parameters": "(Document document)", "modifiers": "public", "return": "String", "signature": "String putDocument(Document document)", "full_signature": "public String putDocument(Document document)", "class_method_signature": "PrintServiceImpl.putDocument(Document document)", "testcase": false, "constructor": false}, {"identifier": "removeDocument", "parameters": "(String key)", "modifiers": "public", "return": "Document", "signature": "Document removeDocument(String key)", "full_signature": "public Document removeDocument(String key)", "class_method_signature": "PrintServiceImpl.removeDocument(String key)", "testcase": false, "constructor": false}, {"identifier": "getDefaults", "parameters": "()", "modifiers": "private", "return": "List<PrintTemplate>", "signature": "List<PrintTemplate> getDefaults()", "full_signature": "private List<PrintTemplate> getDefaults()", "class_method_signature": "PrintServiceImpl.getDefaults()", "testcase": false, "constructor": false}, {"identifier": "createTemplate", "parameters": "(String pageSize, boolean landscape)", "modifiers": "public", "return": "PrintTemplate", "signature": "PrintTemplate createTemplate(String pageSize, boolean landscape)", "full_signature": "public PrintTemplate createTemplate(String pageSize, boolean landscape)", "class_method_signature": "PrintServiceImpl.createTemplate(String pageSize, boolean landscape)", "testcase": false, "constructor": false}, {"identifier": "getJaiTileCacheInMb", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getJaiTileCacheInMb()", "full_signature": "public int getJaiTileCacheInMb()", "class_method_signature": "PrintServiceImpl.getJaiTileCacheInMb()", "testcase": false, "constructor": false}, {"identifier": "setJaiTileCacheInMB", "parameters": "(int jaiTileCacheInMb)", "modifiers": "@Api @Deprecated public", "return": "void", "signature": "void setJaiTileCacheInMB(int jaiTileCacheInMb)", "full_signature": "@Api @Deprecated public void setJaiTileCacheInMB(int jaiTileCacheInMb)", "class_method_signature": "PrintServiceImpl.setJaiTileCacheInMB(int jaiTileCacheInMb)", "testcase": false, "constructor": false}, {"identifier": "setJaiTileCacheInMb", "parameters": "(int jaiTileCacheInMb)", "modifiers": "@Api public", "return": "void", "signature": "void setJaiTileCacheInMb(int jaiTileCacheInMb)", "full_signature": "@Api public void setJaiTileCacheInMb(int jaiTileCacheInMb)", "class_method_signature": "PrintServiceImpl.setJaiTileCacheInMb(int jaiTileCacheInMb)", "testcase": false, "constructor": false}, {"identifier": "initJai", "parameters": "()", "modifiers": "@PostConstruct protected", "return": "void", "signature": "void initJai()", "full_signature": "@PostConstruct protected void initJai()", "class_method_signature": "PrintServiceImpl.initJai()", "testcase": false, "constructor": false}, {"identifier": "createMap", "parameters": "()", "modifiers": "private", "return": "MapComponentImpl", "signature": "MapComponentImpl createMap()", "full_signature": "private MapComponentImpl createMap()", "class_method_signature": "PrintServiceImpl.createMap()", "testcase": false, "constructor": false}, {"identifier": "createArrow", "parameters": "()", "modifiers": "private", "return": "ImageComponentImpl", "signature": "ImageComponentImpl createArrow()", "full_signature": "private ImageComponentImpl createArrow()", "class_method_signature": "PrintServiceImpl.createArrow()", "testcase": false, "constructor": false}, {"identifier": "createTitle", "parameters": "()", "modifiers": "private", "return": "LabelComponentImpl", "signature": "LabelComponentImpl createTitle()", "full_signature": "private LabelComponentImpl createTitle()", "class_method_signature": "PrintServiceImpl.createTitle()", "testcase": false, "constructor": false}, {"identifier": "createBar", "parameters": "()", "modifiers": "private", "return": "ScaleBarComponentImpl", "signature": "ScaleBarComponentImpl createBar()", "full_signature": "private ScaleBarComponentImpl createBar()", "class_method_signature": "PrintServiceImpl.createBar()", "testcase": false, "constructor": false}, {"identifier": "createInstance", "parameters": "(Class<T> clazz)", "modifiers": "@SuppressWarnings(\"unchecked\") private", "return": "T", "signature": "T createInstance(Class<T> clazz)", "full_signature": "@SuppressWarnings(\"unchecked\") private T createInstance(Class<T> clazz)", "class_method_signature": "PrintServiceImpl.createInstance(Class<T> clazz)", "testcase": false, "constructor": false}, {"identifier": "getPrototypeName", "parameters": "(Class serviceClass)", "modifiers": "private", "return": "String", "signature": "String getPrototypeName(Class serviceClass)", "full_signature": "private String getPrototypeName(Class serviceClass)", "class_method_signature": "PrintServiceImpl.getPrototypeName(Class serviceClass)", "testcase": false, "constructor": false}], "file": "plugin/print/print/src/main/java/org/geomajas/plugin/printing/service/PrintServiceImpl.java"}, "focal_method": {"identifier": "getAllTemplates", "parameters": "()", "modifiers": "public", "return": "List<PrintTemplate>", "body": "public List<PrintTemplate> getAllTemplates() throws PrintingException {\n\t\tList<PrintTemplate> allTemplates = new ArrayList<PrintTemplate>();\n\t\tif (printTemplateDao != null) {\n\t\t\ttry {\n\t\t\t\tallTemplates = printTemplateDao.findAll();\n\t\t\t} catch (IOException e) {\n\t\t\t\tlog.warn(\"could not access templates in dao\", e);\n\t\t\t}\n\t\t}\n\t\tallTemplates.addAll(getDefaults());\n\t\tList<PrintTemplate> badTemplates = new ArrayList<PrintTemplate>();\n\t\tfor (PrintTemplate printTemplate : allTemplates) {\n\t\t\tif (printTemplate.getPage() == null) {\n\t\t\t\ttry {\n\t\t\t\t\tObject o = unMarshaller.unmarshal(new StreamSource(new StringReader(printTemplate.getPageXml())));\n\t\t\t\t\tprintTemplate.setPage((PageComponentImpl) o);\n\t\t\t\t} catch (Exception e) { // NOSONAR\n\t\t\t\t\tbadTemplates.add(printTemplate);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tallTemplates.removeAll(badTemplates);\n\t\tCollections.sort(allTemplates, new Comparator<PrintTemplate>() {\n\n\t\t\tpublic int compare(PrintTemplate p1, PrintTemplate p2) {\n\t\t\t\treturn p1.getName().compareTo(p2.getName());\n\t\t\t}\n\t\t});\n\t\treturn allTemplates;\n\t}", "signature": "List<PrintTemplate> getAllTemplates()", "full_signature": "public List<PrintTemplate> getAllTemplates()", "class_method_signature": "PrintServiceImpl.getAllTemplates()", "testcase": false, "constructor": false, "invocations": ["findAll", "warn", "addAll", "getDefaults", "getPage", "unmarshal", "getPageXml", "setPage", "add", "removeAll", "sort", "compareTo", "getName", "getName"]}, "repository": {"repo_id": 14505280, "url": "https://github.com/geomajas/geomajas-project-server", "language": "Java", "is_fork": false, "fork_count": 15, "stargazer_count": 13, "size": 124882, "license": "licensed"}}