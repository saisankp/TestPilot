{"test_class": {"identifier": "JsonWriterTest", "superclass": "", "interfaces": "", "fields": [], "file": "json/src/test/java/tech/tablesaw/io/json/JsonWriterTest.java"}, "test_case": {"identifier": "arrayOfObjects", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void arrayOfObjects() {\n    String json =\n        \"[{\\\"a\\\":1453438800000,\\\"b\\\":-2.144},{\\\"a\\\":1454043600000,\\\"b\\\":-2.976},{\\\"a\\\":1454648400000,\\\"b\\\":-2.954}]\";\n    Table table = Table.read().string(json, \"json\");\n    String output = table.write().toString(\"json\");\n    assertEquals(json, output);\n  }", "signature": "void arrayOfObjects()", "full_signature": "@Test public void arrayOfObjects()", "class_method_signature": "JsonWriterTest.arrayOfObjects()", "testcase": true, "constructor": false, "invocations": ["string", "read", "toString", "write", "assertEquals"]}, "focal_class": {"identifier": "JsonWriter", "superclass": "", "interfaces": "implements DataWriter<JsonWriteOptions>", "fields": [{"original_string": "private static final JsonWriter INSTANCE = new JsonWriter();", "modifier": "private static final", "type": "JsonWriter", "declarator": "INSTANCE = new JsonWriter()", "var_name": "INSTANCE"}, {"original_string": "private static final ObjectMapper mapper =\n      new ObjectMapper().registerModule(new JavaTimeModule());", "modifier": "private static final", "type": "ObjectMapper", "declarator": "mapper =\n      new ObjectMapper().registerModule(new JavaTimeModule())", "var_name": "mapper"}], "methods": [{"identifier": "register", "parameters": "(WriterRegistry registry)", "modifiers": "public static", "return": "void", "signature": "void register(WriterRegistry registry)", "full_signature": "public static void register(WriterRegistry registry)", "class_method_signature": "JsonWriter.register(WriterRegistry registry)", "testcase": false, "constructor": false}, {"identifier": "write", "parameters": "(Table table, JsonWriteOptions options)", "modifiers": "public", "return": "void", "signature": "void write(Table table, JsonWriteOptions options)", "full_signature": "public void write(Table table, JsonWriteOptions options)", "class_method_signature": "JsonWriter.write(Table table, JsonWriteOptions options)", "testcase": false, "constructor": false}, {"identifier": "write", "parameters": "(Table table, Destination dest)", "modifiers": "@Override public", "return": "void", "signature": "void write(Table table, Destination dest)", "full_signature": "@Override public void write(Table table, Destination dest)", "class_method_signature": "JsonWriter.write(Table table, Destination dest)", "testcase": false, "constructor": false}], "file": "json/src/main/java/tech/tablesaw/io/json/JsonWriter.java"}, "focal_method": {"identifier": "write", "parameters": "(Table table, JsonWriteOptions options)", "modifiers": "public", "return": "void", "body": "public void write(Table table, JsonWriteOptions options) throws IOException {\n    ArrayNode output = mapper.createArrayNode();\n    if (options.asObjects()) {\n      for (int r = 0; r < table.rowCount(); r++) {\n        ObjectNode row = mapper.createObjectNode();\n        for (int c = 0; c < table.columnCount(); c++) {\n          row.set(table.column(c).name(), mapper.convertValue(table.get(r, c), JsonNode.class));\n        }\n        output.add(row);\n      }\n    } else {\n      if (options.header()) {\n        ArrayNode row = mapper.createArrayNode();\n        for (int c = 0; c < table.columnCount(); c++) {\n          row.add(mapper.convertValue(table.column(c).name(), JsonNode.class));\n        }\n        output.add(row);\n      }\n      for (int r = 0; r < table.rowCount(); r++) {\n        ArrayNode row = mapper.createArrayNode();\n        for (int c = 0; c < table.columnCount(); c++) {\n          row.add(mapper.convertValue(table.get(r, c), JsonNode.class));\n        }\n        output.add(row);\n      }\n    }\n\n    String str = mapper.writeValueAsString(output);\n    try (Writer writer = options.destination().createWriter()) {\n      writer.write(str);\n    }\n  }", "signature": "void write(Table table, JsonWriteOptions options)", "full_signature": "public void write(Table table, JsonWriteOptions options)", "class_method_signature": "JsonWriter.write(Table table, JsonWriteOptions options)", "testcase": false, "constructor": false, "invocations": ["createArrayNode", "asObjects", "rowCount", "createObjectNode", "columnCount", "set", "name", "column", "convertValue", "get", "add", "header", "createArrayNode", "columnCount", "add", "convertValue", "name", "column", "add", "rowCount", "createArrayNode", "columnCount", "add", "convertValue", "get", "add", "writeValueAsString", "createWriter", "destination", "write"]}, "repository": {"repo_id": 48880766, "url": "https://github.com/jtablesaw/tablesaw", "stars": 2021, "created": "1/1/2016 2:58:28 PM +00:00", "updates": "2020-01-24T23:26:07+00:00", "fork": "False", "license": "licensed"}}