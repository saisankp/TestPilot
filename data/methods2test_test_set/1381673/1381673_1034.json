{"test_class": {"identifier": "IndexedKeyTreeMapTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final static KeyDefinition NAME_KEY_DEFINITION = KeyDefinition.newKeyDefinition().withId(\"name\").build();", "modifier": "private final static", "type": "KeyDefinition", "declarator": "NAME_KEY_DEFINITION = KeyDefinition.newKeyDefinition().withId(\"name\").build()", "var_name": "NAME_KEY_DEFINITION"}, {"original_string": "private final static KeyDefinition AGE_KEY_DEFINITION = KeyDefinition.newKeyDefinition().withId(\"age\").updatable().build();", "modifier": "private final static", "type": "KeyDefinition", "declarator": "AGE_KEY_DEFINITION = KeyDefinition.newKeyDefinition().withId(\"age\").updatable().build()", "var_name": "AGE_KEY_DEFINITION"}, {"original_string": "private IndexedKeyTreeMap<Person> map;", "modifier": "private", "type": "IndexedKeyTreeMap<Person>", "declarator": "map", "var_name": "map"}, {"original_string": "private Person toni;", "modifier": "private", "type": "Person", "declarator": "toni", "var_name": "toni"}, {"original_string": "private Person eder;", "modifier": "private", "type": "Person", "declarator": "eder", "var_name": "eder"}, {"original_string": "private Person michael;", "modifier": "private", "type": "Person", "declarator": "michael", "var_name": "michael"}], "file": "drools-verifier/drools-verifier-core/src/test/java/org/drools/verifier/core/maps/IndexedKeyTreeMapTest.java"}, "test_case": {"identifier": "testRemove", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testRemove() throws Exception {\n\n        // Removing one by one to check the index stays on track.\n\n        toni.uuidKey.retract();\n\n        assertEquals(eder, map.get(IndexKey.INDEX_ID).get(new Value(0)).iterator().next());\n        assertEquals(michael, map.get(IndexKey.INDEX_ID).get(new Value(1)).iterator().next());\n\n        eder.uuidKey.retract();\n\n        Person next = map.get(IndexKey.INDEX_ID).get(new Value(0)).iterator().next();\n        assertEquals(michael, next);\n    }", "signature": "void testRemove()", "full_signature": "@Test public void testRemove()", "class_method_signature": "IndexedKeyTreeMapTest.testRemove()", "testcase": true, "constructor": false, "invocations": ["retract", "assertEquals", "next", "iterator", "get", "get", "assertEquals", "next", "iterator", "get", "get", "retract", "next", "iterator", "get", "get", "assertEquals"]}, "focal_class": {"identifier": "IndexedKeyTreeMap", "superclass": "extends KeyTreeMap<T>", "interfaces": "", "fields": [], "methods": [{"identifier": "IndexedKeyTreeMap", "parameters": "(final KeyDefinition... keyIDs)", "modifiers": "public", "return": "", "signature": " IndexedKeyTreeMap(final KeyDefinition... keyIDs)", "full_signature": "public  IndexedKeyTreeMap(final KeyDefinition... keyIDs)", "class_method_signature": "IndexedKeyTreeMap.IndexedKeyTreeMap(final KeyDefinition... keyIDs)", "testcase": false, "constructor": true}, {"identifier": "put", "parameters": "(final T object,\n                    final int index)", "modifiers": "public", "return": "void", "signature": "void put(final T object,\n                    final int index)", "full_signature": "public void put(final T object,\n                    final int index)", "class_method_signature": "IndexedKeyTreeMap.put(final T object,\n                    final int index)", "testcase": false, "constructor": false}, {"identifier": "doForAll", "parameters": "(final int index,\n                          final Callback<T> callback)", "modifiers": "private", "return": "void", "signature": "void doForAll(final int index,\n                          final Callback<T> callback)", "full_signature": "private void doForAll(final int index,\n                          final Callback<T> callback)", "class_method_signature": "IndexedKeyTreeMap.doForAll(final int index,\n                          final Callback<T> callback)", "testcase": false, "constructor": false}, {"identifier": "remove", "parameters": "(final UUIDKey uuidKey)", "modifiers": "@Override protected", "return": "T", "signature": "T remove(final UUIDKey uuidKey)", "full_signature": "@Override protected T remove(final UUIDKey uuidKey)", "class_method_signature": "IndexedKeyTreeMap.remove(final UUIDKey uuidKey)", "testcase": false, "constructor": false}, {"identifier": "put", "parameters": "(final T object)", "modifiers": "@Override public", "return": "void", "signature": "void put(final T object)", "full_signature": "@Override public void put(final T object)", "class_method_signature": "IndexedKeyTreeMap.put(final T object)", "testcase": false, "constructor": false}], "file": "drools-verifier/drools-verifier-core/src/main/java/org/drools/verifier/core/maps/IndexedKeyTreeMap.java"}, "focal_method": {"identifier": "remove", "parameters": "(final UUIDKey uuidKey)", "modifiers": "@Override protected", "return": "T", "body": "@Override\n    protected T remove(final UUIDKey uuidKey) {\n        final T remove = super.remove(uuidKey);\n\n        if (remove != null) {\n            doForAll(remove.getIndex(),\n                     new Callback<T>() {\n                         @Override\n                         public void callback(final T t) {\n                             t.setIndex(t.getIndex() - 1);\n                         }\n                     });\n        }\n\n        return remove;\n    }", "signature": "T remove(final UUIDKey uuidKey)", "full_signature": "@Override protected T remove(final UUIDKey uuidKey)", "class_method_signature": "IndexedKeyTreeMap.remove(final UUIDKey uuidKey)", "testcase": false, "constructor": false, "invocations": ["remove", "doForAll", "getIndex", "setIndex", "getIndex"]}, "repository": {"repo_id": 1381673, "url": "https://github.com/kiegroup/drools", "stars": 2733, "created": "2/18/2011 8:37:05 AM +00:00", "updates": "2020-01-27T13:12:15+00:00", "fork": "False", "license": "licensed"}}