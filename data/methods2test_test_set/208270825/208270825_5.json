{"test_class": {"identifier": "SolrControllerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Autowired\n    private SolrService solrService;", "modifier": "@Autowired\n    private", "type": "SolrService", "declarator": "solrService", "var_name": "solrService"}, {"original_string": "@Autowired\n    private SolrClient solrClient;", "modifier": "@Autowired\n    private", "type": "SolrClient", "declarator": "solrClient", "var_name": "solrClient"}], "file": "13/Solr/src/test/java/com/example/demo/controller/SolrControllerTest.java"}, "test_case": {"identifier": "delById", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void delById()  throws IOException, SolrServerException {\n        //\u6839\u636eid\u5220\u9664\u4fe1\u606f\n        UpdateResponse updateResponse = solrClient.deleteById(\"8888888\");\n        //\u6267\u884c\u7684\u65f6\u95f4\n        long elapsedTime = updateResponse.getElapsedTime();\n        int qTime = updateResponse.getQTime();\n        //\u8bf7\u6c42\u5730\u5740\n        String requestUrl = updateResponse.getRequestUrl();\n        //\u8bf7\u6c42\u7684\u7ed3\u679c{responseHeader={status=0,QTime=2}}\n        NamedList<Object> response = updateResponse.getResponse();\n        //\u8bf7\u6c42\u7ed3\u679c\u7684\u5934{status=0,QTime=2}\n        NamedList responseHeader = updateResponse.getResponseHeader();\n        //\u8bf7\u6c42\u7684\u72b6\u6001 0\n        solrClient.commit();\n        int status = updateResponse.getStatus();\n        //\u6210\u529f\u5219\u8fd4\u56de0.\u8981\u662f\u6ca1\u6709\u6587\u6863\u88ab\u5220\u9664\u4e5f\u4f1a\u8fd4\u56de0,\u4ee3\u8868\u6839\u672c\u6ca1\u6709\n\n    }", "signature": "void delById()", "full_signature": "@Test public void delById()", "class_method_signature": "SolrControllerTest.delById()", "testcase": true, "constructor": false, "invocations": ["deleteById", "getElapsedTime", "getQTime", "getRequestUrl", "getResponse", "getResponseHeader", "commit", "getStatus"]}, "focal_class": {"identifier": "SolrController", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Autowired\n    private SolrService solrService;", "modifier": "@Autowired\n    private", "type": "SolrService", "declarator": "solrService", "var_name": "solrService"}, {"original_string": "@Autowired\n    private SolrClient solrClient;", "modifier": "@Autowired\n    private", "type": "SolrClient", "declarator": "solrClient", "var_name": "solrClient"}], "methods": [{"identifier": "addUsers", "parameters": "()", "modifiers": "@RequestMapping(\"/addUsers\") public", "return": "void", "signature": "void addUsers()", "full_signature": "@RequestMapping(\"/addUsers\") public void addUsers()", "class_method_signature": "SolrController.addUsers()", "testcase": false, "constructor": false}, {"identifier": "addUser", "parameters": "()", "modifiers": "@RequestMapping(\"/addUser\") public", "return": "void", "signature": "void addUser()", "full_signature": "@RequestMapping(\"/addUser\") public void addUser()", "class_method_signature": "SolrController.addUser()", "testcase": false, "constructor": false}, {"identifier": "getByIdFromSolr", "parameters": "(@PathVariable(\"id\") String id)", "modifiers": "@RequestMapping(\"/getById/{id}\") public", "return": "String", "signature": "String getByIdFromSolr(@PathVariable(\"id\") String id)", "full_signature": "@RequestMapping(\"/getById/{id}\") public String getByIdFromSolr(@PathVariable(\"id\") String id)", "class_method_signature": "SolrController.getByIdFromSolr(@PathVariable(\"id\") String id)", "testcase": false, "constructor": false}, {"identifier": "updateUser", "parameters": "()", "modifiers": "@RequestMapping(\"/updateUser\") public", "return": "void", "signature": "void updateUser()", "full_signature": "@RequestMapping(\"/updateUser\") public void updateUser()", "class_method_signature": "SolrController.updateUser()", "testcase": false, "constructor": false}, {"identifier": "delById", "parameters": "(@PathVariable(\"id\") String id)", "modifiers": "@RequestMapping(\"/delById/{id}\") public", "return": "String", "signature": "String delById(@PathVariable(\"id\") String id)", "full_signature": "@RequestMapping(\"/delById/{id}\") public String delById(@PathVariable(\"id\") String id)", "class_method_signature": "SolrController.delById(@PathVariable(\"id\") String id)", "testcase": false, "constructor": false}, {"identifier": "delAll", "parameters": "()", "modifiers": "@RequestMapping(\"/delAll\") public", "return": "void", "signature": "void delAll()", "full_signature": "@RequestMapping(\"/delAll\") public void delAll()", "class_method_signature": "SolrController.delAll()", "testcase": false, "constructor": false}, {"identifier": "queryAllOne", "parameters": "()", "modifiers": "@RequestMapping(\"/queryAllOne\") public", "return": "String", "signature": "String queryAllOne()", "full_signature": "@RequestMapping(\"/queryAllOne\") public String queryAllOne()", "class_method_signature": "SolrController.queryAllOne()", "testcase": false, "constructor": false}, {"identifier": "queryAll", "parameters": "()", "modifiers": "@RequestMapping(\"/queryAll\") public", "return": "Object", "signature": "Object queryAll()", "full_signature": "@RequestMapping(\"/queryAll\") public Object queryAll()", "class_method_signature": "SolrController.queryAll()", "testcase": false, "constructor": false}], "file": "13/Solr/src/main/java/com/example/demo/controller/SolrController.java"}, "focal_method": {"identifier": "delById", "parameters": "(@PathVariable(\"id\") String id)", "modifiers": "@RequestMapping(\"/delById/{id}\") public", "return": "String", "body": "@RequestMapping(\"/delById/{id}\")\n    public String delById(@PathVariable(\"id\") String id) throws IOException, SolrServerException {\n        //\u6839\u636eid\u5220\u9664\u4fe1\u606f\n        UpdateResponse updateResponse = solrClient.deleteById(id);\n        //\u6267\u884c\u7684\u65f6\u95f4\n        long elapsedTime = updateResponse.getElapsedTime();\n\n        int qTime = updateResponse.getQTime();\n        //\u8bf7\u6c42\u5730\u5740\n        String requestUrl = updateResponse.getRequestUrl();\n        //\u8bf7\u6c42\u7684\u7ed3\u679c{responseHeader={status=0,QTime=2}}\n        NamedList<Object> response = updateResponse.getResponse();\n        //\u8bf7\u6c42\u7ed3\u679c\u7684\u5934{status=0,QTime=2}\n        NamedList responseHeader = updateResponse.getResponseHeader();\n        //\u8bf7\u6c42\u7684\u72b6\u6001 0\n        solrClient.commit();\n        int status = updateResponse.getStatus();\n        //\u6210\u529f\u5219\u8fd4\u56de0.\u8981\u662f\u6ca1\u6709\u6587\u6863\u88ab\u5220\u9664\u4e5f\u4f1a\u8fd4\u56de0,\u4ee3\u8868\u6839\u672c\u6ca1\u6709\n        return status == 0 ? \"success\" : \"failed\";\n    }", "signature": "String delById(@PathVariable(\"id\") String id)", "full_signature": "@RequestMapping(\"/delById/{id}\") public String delById(@PathVariable(\"id\") String id)", "class_method_signature": "SolrController.delById(@PathVariable(\"id\") String id)", "testcase": false, "constructor": false, "invocations": ["deleteById", "getElapsedTime", "getQTime", "getRequestUrl", "getResponse", "getResponseHeader", "commit", "getStatus"]}, "repository": {"repo_id": 208270825, "url": "https://github.com/xiuhuai/Spring-Boot-Book", "language": "Java", "is_fork": false, "fork_count": 39, "stargazer_count": 56, "size": 2704, "license": "licensed"}}