{"test_class": {"identifier": "ValuesHKeyTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private Schema schema;", "modifier": "private", "type": "Schema", "declarator": "schema", "var_name": "schema"}, {"original_string": "private TypesRegistryService registry;", "modifier": "private", "type": "TypesRegistryService", "declarator": "registry", "var_name": "registry"}], "file": "fdb-sql-layer-core/src/test/java/com/foundationdb/qp/row/ValuesHKeyTest.java"}, "test_case": {"identifier": "extendWithNull", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void extendWithNull() {\n        ValuesHKey key = createHKey(\"customer\");\n        key.valueAt(0).putInt32(42);\n        ValuesHKey target = createHKey(\"order\");\n        key.copyTo((HKey) target);\n        assertEquals(target.valueAt(0).getInt32(),42);\n        assertEquals(target.segments(), 1);\n        \n        target.extendWithOrdinal(ordinal(\"order\"));\n        assertEquals(target.segments(), 2);\n        target.extendWithNull();\n        assertTrue (target.valueAt(1).isNull());\n        \n    }", "signature": "void extendWithNull()", "full_signature": "@Test public void extendWithNull()", "class_method_signature": "ValuesHKeyTest.extendWithNull()", "testcase": true, "constructor": false, "invocations": ["createHKey", "putInt32", "valueAt", "createHKey", "copyTo", "assertEquals", "getInt32", "valueAt", "assertEquals", "segments", "extendWithOrdinal", "ordinal", "assertEquals", "segments", "extendWithNull", "assertTrue", "isNull", "valueAt"]}, "focal_class": {"identifier": "ValuesHKey", "superclass": "extends AbstractValuesHolderRow", "interfaces": "implements HKey", "fields": [{"original_string": "private int[] ordinals;", "modifier": "private", "type": "int[]", "declarator": "ordinals", "var_name": "ordinals"}, {"original_string": "private int[] keyDepth;", "modifier": "private", "type": "int[]", "declarator": "keyDepth", "var_name": "keyDepth"}, {"original_string": "private int hKeySegments;", "modifier": "private", "type": "int", "declarator": "hKeySegments", "var_name": "hKeySegments"}, {"original_string": "private static final Logger LOG = LoggerFactory.getLogger(ValuesHKey.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(ValuesHKey.class)", "var_name": "LOG"}, {"original_string": "private final TypesRegistryService registry;", "modifier": "private final", "type": "TypesRegistryService", "declarator": "registry", "var_name": "registry"}, {"original_string": "private static final EnumMap<UnderlyingType, Class<?>> underlyingExpectedClasses = createPUnderlyingExpectedClasses();", "modifier": "private static final", "type": "EnumMap<UnderlyingType, Class<?>>", "declarator": "underlyingExpectedClasses = createPUnderlyingExpectedClasses()", "var_name": "underlyingExpectedClasses"}], "methods": [{"identifier": "equals", "parameters": "(Object that)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean equals(Object that)", "full_signature": "@Override public boolean equals(Object that)", "class_method_signature": "ValuesHKey.equals(Object that)", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "()", "modifiers": "@Override // TODO: This is overkill, but several tests rely upon the older PersistitHKey(key#toString()) behavior, // See ITBase#compareTwoRows(line 190ff). public", "return": "String", "signature": "String toString()", "full_signature": "@Override // TODO: This is overkill, but several tests rely upon the older PersistitHKey(key#toString()) behavior, // See ITBase#compareTwoRows(line 190ff). public String toString()", "class_method_signature": "ValuesHKey.toString()", "testcase": false, "constructor": false}, {"identifier": "compareTo", "parameters": "(HKey o)", "modifiers": "@Override public", "return": "int", "signature": "int compareTo(HKey o)", "full_signature": "@Override public int compareTo(HKey o)", "class_method_signature": "ValuesHKey.compareTo(HKey o)", "testcase": false, "constructor": false}, {"identifier": "prefixOf", "parameters": "(HKey hKey)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean prefixOf(HKey hKey)", "full_signature": "@Override public boolean prefixOf(HKey hKey)", "class_method_signature": "ValuesHKey.prefixOf(HKey hKey)", "testcase": false, "constructor": false}, {"identifier": "segments", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int segments()", "full_signature": "@Override public int segments()", "class_method_signature": "ValuesHKey.segments()", "testcase": false, "constructor": false}, {"identifier": "useSegments", "parameters": "(int segments)", "modifiers": "@Override public", "return": "void", "signature": "void useSegments(int segments)", "full_signature": "@Override public void useSegments(int segments)", "class_method_signature": "ValuesHKey.useSegments(int segments)", "testcase": false, "constructor": false}, {"identifier": "copyTo", "parameters": "(HKey target)", "modifiers": "@Override public", "return": "void", "signature": "void copyTo(HKey target)", "full_signature": "@Override public void copyTo(HKey target)", "class_method_signature": "ValuesHKey.copyTo(HKey target)", "testcase": false, "constructor": false}, {"identifier": "copyValueTo", "parameters": "(ValueSource value, int columnIndex)", "modifiers": "public", "return": "void", "signature": "void copyValueTo(ValueSource value, int columnIndex)", "full_signature": "public void copyValueTo(ValueSource value, int columnIndex)", "class_method_signature": "ValuesHKey.copyValueTo(ValueSource value, int columnIndex)", "testcase": false, "constructor": false}, {"identifier": "extendWithOrdinal", "parameters": "(int ordinal)", "modifiers": "@Override public", "return": "void", "signature": "void extendWithOrdinal(int ordinal)", "full_signature": "@Override public void extendWithOrdinal(int ordinal)", "class_method_signature": "ValuesHKey.extendWithOrdinal(int ordinal)", "testcase": false, "constructor": false}, {"identifier": "extendWithNull", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void extendWithNull()", "full_signature": "@Override public void extendWithNull()", "class_method_signature": "ValuesHKey.extendWithNull()", "testcase": false, "constructor": false}, {"identifier": "copyTo", "parameters": "(Key target)", "modifiers": "@Override public", "return": "void", "signature": "void copyTo(Key target)", "full_signature": "@Override public void copyTo(Key target)", "class_method_signature": "ValuesHKey.copyTo(Key target)", "testcase": false, "constructor": false}, {"identifier": "copyFrom", "parameters": "(Key source)", "modifiers": "@Override public", "return": "void", "signature": "void copyFrom(Key source)", "full_signature": "@Override public void copyFrom(Key source)", "class_method_signature": "ValuesHKey.copyFrom(Key source)", "testcase": false, "constructor": false}, {"identifier": "copyFrom", "parameters": "(byte[] source)", "modifiers": "public", "return": "void", "signature": "void copyFrom(byte[] source)", "full_signature": "public void copyFrom(byte[] source)", "class_method_signature": "ValuesHKey.copyFrom(byte[] source)", "testcase": false, "constructor": false}, {"identifier": "hKeyBytes", "parameters": "()", "modifiers": "public", "return": "byte[]", "signature": "byte[] hKeyBytes()", "full_signature": "public byte[] hKeyBytes()", "class_method_signature": "ValuesHKey.hKeyBytes()", "testcase": false, "constructor": false}, {"identifier": "hKey", "parameters": "()", "modifiers": "@Override public", "return": "HKey", "signature": "HKey hKey()", "full_signature": "@Override public HKey hKey()", "class_method_signature": "ValuesHKey.hKey()", "testcase": false, "constructor": false}, {"identifier": "valueAt", "parameters": "(int index)", "modifiers": "public", "return": "Value", "signature": "Value valueAt(int index)", "full_signature": "public Value valueAt(int index)", "class_method_signature": "ValuesHKey.valueAt(int index)", "testcase": false, "constructor": false}, {"identifier": "ancestorHKey", "parameters": "(Table table)", "modifiers": "@Override public", "return": "HKey", "signature": "HKey ancestorHKey(Table table)", "full_signature": "@Override public HKey ancestorHKey(Table table)", "class_method_signature": "ValuesHKey.ancestorHKey(Table table)", "testcase": false, "constructor": false}, {"identifier": "ValuesHKey", "parameters": "(HKeyRowType rowType, TypesRegistryService registry)", "modifiers": "public", "return": "", "signature": " ValuesHKey(HKeyRowType rowType, TypesRegistryService registry)", "full_signature": "public  ValuesHKey(HKeyRowType rowType, TypesRegistryService registry)", "class_method_signature": "ValuesHKey.ValuesHKey(HKeyRowType rowType, TypesRegistryService registry)", "testcase": false, "constructor": true}, {"identifier": "setOrdinals", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void setOrdinals()", "full_signature": "private void setOrdinals()", "class_method_signature": "ValuesHKey.setOrdinals()", "testcase": false, "constructor": false}, {"identifier": "copyValue", "parameters": "(ValueSource valueSource, Value valueTarget)", "modifiers": "private", "return": "void", "signature": "void copyValue(ValueSource valueSource, Value valueTarget)", "full_signature": "private void copyValue(ValueSource valueSource, Value valueTarget)", "class_method_signature": "ValuesHKey.copyValue(ValueSource valueSource, Value valueTarget)", "testcase": false, "constructor": false}, {"identifier": "ordinals", "parameters": "()", "modifiers": "public", "return": "int[]", "signature": "int[] ordinals()", "full_signature": "public int[] ordinals()", "class_method_signature": "ValuesHKey.ordinals()", "testcase": false, "constructor": false}, {"identifier": "createPUnderlyingExpectedClasses", "parameters": "()", "modifiers": "private static", "return": "EnumMap<UnderlyingType, Class<?>>", "signature": "EnumMap<UnderlyingType, Class<?>> createPUnderlyingExpectedClasses()", "full_signature": "private static EnumMap<UnderlyingType, Class<?>> createPUnderlyingExpectedClasses()", "class_method_signature": "ValuesHKey.createPUnderlyingExpectedClasses()", "testcase": false, "constructor": false}], "file": "fdb-sql-layer-core/src/main/java/com/foundationdb/qp/row/ValuesHKey.java"}, "focal_method": {"identifier": "extendWithNull", "parameters": "()", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void extendWithNull() {\n        int columnIndex = -1;\n        int segment;\n        for (segment = 0; segment < hKeySegments; segment++) {\n            columnIndex += keyDepth[segment];\n        }\n        for (int i = 0; i < keyDepth[segment-1] && columnIndex < values.size() ; columnIndex++, i++) {\n            valueAt(columnIndex).putNull();\n        }\n    }", "signature": "void extendWithNull()", "full_signature": "@Override public void extendWithNull()", "class_method_signature": "ValuesHKey.extendWithNull()", "testcase": false, "constructor": false, "invocations": ["size", "putNull", "valueAt"]}, "repository": {"repo_id": 32884360, "url": "https://github.com/jaytaylor/sql-layer", "language": "Java", "is_fork": false, "fork_count": 120, "stargazer_count": 77, "size": 138665, "license": "licensed"}}