{"test_class": {"identifier": "HerdApiClientOperationsTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@InjectMocks\n    private HerdApiClientOperations herdApiClientOperations;", "modifier": "@InjectMocks\n    private", "type": "HerdApiClientOperations", "declarator": "herdApiClientOperations", "var_name": "herdApiClientOperations"}, {"original_string": "@Mock\n    private PropertiesHelper propertiesHelper;", "modifier": "@Mock\n    private", "type": "PropertiesHelper", "declarator": "propertiesHelper", "var_name": "propertiesHelper"}], "file": "herd-code/herd-tools/herd-access-validator/src/test/java/org/finra/herd/tools/access/validator/HerdApiClientOperationsTest.java"}, "test_case": {"identifier": "testMapJsontoBdataKey", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testMapJsontoBdataKey() throws Exception\n    {\n        String fileName = \"sqsMessage.txt\";\n        String expectedNamespace = \"DMFormatNamespace1\";\n\n        Path path = Paths.get(getClass().getClassLoader().getResource(fileName).toURI());\n\n        Stream<String> lines = Files.lines(path);\n        String messageBody = lines.collect(Collectors.joining(\"\\n\")).trim();\n        lines.close();\n\n        BusinessObjectDataKey bdataKey = herdApiClientOperations.mapJsontoBdataKey(messageBody).getBusinessObjectDataKey();\n\n        Assert.assertEquals(\"Did not get the correct namespace\", expectedNamespace, bdataKey.getNamespace());\n    }", "signature": "void testMapJsontoBdataKey()", "full_signature": "@Test public void testMapJsontoBdataKey()", "class_method_signature": "HerdApiClientOperationsTest.testMapJsontoBdataKey()", "testcase": true, "constructor": false, "invocations": ["get", "toURI", "getResource", "getClassLoader", "getClass", "lines", "trim", "collect", "joining", "close", "getBusinessObjectDataKey", "mapJsontoBdataKey", "assertEquals", "getNamespace"]}, "focal_class": {"identifier": "HerdApiClientOperations", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOGGER = LoggerFactory.getLogger(HerdApiClientOperations.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(HerdApiClientOperations.class)", "var_name": "LOGGER"}, {"original_string": "private static final String SEARCH_KEYWORD_1 = \"businessObjectDataKey\";", "modifier": "private static final", "type": "String", "declarator": "SEARCH_KEYWORD_1 = \"businessObjectDataKey\"", "var_name": "SEARCH_KEYWORD_1"}, {"original_string": "private static final String SEARCH_KEYWORD_2 = \"BUS_OBJCT_DATA_STTS_CHG\";", "modifier": "private static final", "type": "String", "declarator": "SEARCH_KEYWORD_2 = \"BUS_OBJCT_DATA_STTS_CHG\"", "var_name": "SEARCH_KEYWORD_2"}, {"original_string": "private static final String JSON_KEY = \"Message\";", "modifier": "private static final", "type": "String", "declarator": "JSON_KEY = \"Message\"", "var_name": "JSON_KEY"}, {"original_string": "private static final int MAX_NUM_MESSAGES = 10;", "modifier": "private static final", "type": "int", "declarator": "MAX_NUM_MESSAGES = 10", "var_name": "MAX_NUM_MESSAGES"}, {"original_string": "private static final int WAIT_TIME_SECS = 1;", "modifier": "private static final", "type": "int", "declarator": "WAIT_TIME_SECS = 1", "var_name": "WAIT_TIME_SECS"}, {"original_string": "private static final int VISIBILITY_TIMEOUT_SECS = 0;", "modifier": "private static final", "type": "int", "declarator": "VISIBILITY_TIMEOUT_SECS = 0", "var_name": "VISIBILITY_TIMEOUT_SECS"}], "methods": [{"identifier": "applicationGetBuildInfo", "parameters": "(ApplicationApi applicationApi)", "modifiers": "", "return": "BuildInformation", "signature": "BuildInformation applicationGetBuildInfo(ApplicationApi applicationApi)", "full_signature": " BuildInformation applicationGetBuildInfo(ApplicationApi applicationApi)", "class_method_signature": "HerdApiClientOperations.applicationGetBuildInfo(ApplicationApi applicationApi)", "testcase": false, "constructor": false}, {"identifier": "businessObjectDataGetBusinessObjectData", "parameters": "(BusinessObjectDataApi businessObjectDataApi, String namespace,\n        String businessObjectDefinitionName, String businessObjectFormatUsage, String businessObjectFormatFileType, String partitionKey, String partitionValue,\n        String subPartitionValues, Integer businessObjectFormatVersion, Integer businessObjectDataVersion, String businessObjectDataStatus,\n        Boolean includeBusinessObjectDataStatusHistory, Boolean includeStorageUnitStatusHistory, Boolean excludeBusinessObjectDataStorageFiles)", "modifiers": "", "return": "BusinessObjectData", "signature": "BusinessObjectData businessObjectDataGetBusinessObjectData(BusinessObjectDataApi businessObjectDataApi, String namespace,\n        String businessObjectDefinitionName, String businessObjectFormatUsage, String businessObjectFormatFileType, String partitionKey, String partitionValue,\n        String subPartitionValues, Integer businessObjectFormatVersion, Integer businessObjectDataVersion, String businessObjectDataStatus,\n        Boolean includeBusinessObjectDataStatusHistory, Boolean includeStorageUnitStatusHistory, Boolean excludeBusinessObjectDataStorageFiles)", "full_signature": " BusinessObjectData businessObjectDataGetBusinessObjectData(BusinessObjectDataApi businessObjectDataApi, String namespace,\n        String businessObjectDefinitionName, String businessObjectFormatUsage, String businessObjectFormatFileType, String partitionKey, String partitionValue,\n        String subPartitionValues, Integer businessObjectFormatVersion, Integer businessObjectDataVersion, String businessObjectDataStatus,\n        Boolean includeBusinessObjectDataStatusHistory, Boolean includeStorageUnitStatusHistory, Boolean excludeBusinessObjectDataStorageFiles)", "class_method_signature": "HerdApiClientOperations.businessObjectDataGetBusinessObjectData(BusinessObjectDataApi businessObjectDataApi, String namespace,\n        String businessObjectDefinitionName, String businessObjectFormatUsage, String businessObjectFormatFileType, String partitionKey, String partitionValue,\n        String subPartitionValues, Integer businessObjectFormatVersion, Integer businessObjectDataVersion, String businessObjectDataStatus,\n        Boolean includeBusinessObjectDataStatusHistory, Boolean includeStorageUnitStatusHistory, Boolean excludeBusinessObjectDataStorageFiles)", "testcase": false, "constructor": false}, {"identifier": "getBdataKeySqs", "parameters": "(AmazonSQS client, String queueUrl)", "modifiers": "@Retryable(value = ApiException.class, backoff = @Backoff(delay = 2000, multiplier = 2))", "return": "BusinessObjectDataKey", "signature": "BusinessObjectDataKey getBdataKeySqs(AmazonSQS client, String queueUrl)", "full_signature": "@Retryable(value = ApiException.class, backoff = @Backoff(delay = 2000, multiplier = 2)) BusinessObjectDataKey getBdataKeySqs(AmazonSQS client, String queueUrl)", "class_method_signature": "HerdApiClientOperations.getBdataKeySqs(AmazonSQS client, String queueUrl)", "testcase": false, "constructor": false}, {"identifier": "mapJsontoBdataKey", "parameters": "(String messageBody)", "modifiers": "", "return": "JsonSqsMessageBody", "signature": "JsonSqsMessageBody mapJsontoBdataKey(String messageBody)", "full_signature": " JsonSqsMessageBody mapJsontoBdataKey(String messageBody)", "class_method_signature": "HerdApiClientOperations.mapJsontoBdataKey(String messageBody)", "testcase": false, "constructor": false}, {"identifier": "checkPropertiesFile", "parameters": "(PropertiesHelper propertiesHelper, Boolean messageFlag)", "modifiers": "", "return": "void", "signature": "void checkPropertiesFile(PropertiesHelper propertiesHelper, Boolean messageFlag)", "full_signature": " void checkPropertiesFile(PropertiesHelper propertiesHelper, Boolean messageFlag)", "class_method_signature": "HerdApiClientOperations.checkPropertiesFile(PropertiesHelper propertiesHelper, Boolean messageFlag)", "testcase": false, "constructor": false}, {"identifier": "currentUserGetCurrentUser", "parameters": "(CurrentUserApi currentUserApi)", "modifiers": "", "return": "UserAuthorizations", "signature": "UserAuthorizations currentUserGetCurrentUser(CurrentUserApi currentUserApi)", "full_signature": " UserAuthorizations currentUserGetCurrentUser(CurrentUserApi currentUserApi)", "class_method_signature": "HerdApiClientOperations.currentUserGetCurrentUser(CurrentUserApi currentUserApi)", "testcase": false, "constructor": false}], "file": "herd-code/herd-tools/herd-access-validator/src/main/java/org/finra/herd/tools/access/validator/HerdApiClientOperations.java"}, "focal_method": {"identifier": "mapJsontoBdataKey", "parameters": "(String messageBody)", "modifiers": "", "return": "JsonSqsMessageBody", "body": "JsonSqsMessageBody mapJsontoBdataKey(String messageBody) throws IOException\n    {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\n        mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n\n        return mapper.readValue(new JSONObject(messageBody).getString(JSON_KEY), JsonSqsMessageBody.class);\n    }", "signature": "JsonSqsMessageBody mapJsontoBdataKey(String messageBody)", "full_signature": " JsonSqsMessageBody mapJsontoBdataKey(String messageBody)", "class_method_signature": "HerdApiClientOperations.mapJsontoBdataKey(String messageBody)", "testcase": false, "constructor": false, "invocations": ["configure", "disable", "readValue", "getString"]}, "repository": {"repo_id": 42949039, "url": "https://github.com/FINRAOS/herd", "language": "Java", "is_fork": false, "fork_count": 36, "stargazer_count": 120, "size": 205797, "license": "licensed"}}