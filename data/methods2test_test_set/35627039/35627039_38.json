{"test_class": {"identifier": "EventCorrelatingOutputCollectorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "protected static final String TEST_COMPONENT_NAME_FOR_STORM = \"1-testComponent\";", "modifier": "protected static final", "type": "String", "declarator": "TEST_COMPONENT_NAME_FOR_STORM = \"1-testComponent\"", "var_name": "TEST_COMPONENT_NAME_FOR_STORM"}, {"original_string": "protected static final String TEST_TARGET_COMPONENT_FOR_TASK_0_FOR_STORM = \"0-testTargetComponent0\";", "modifier": "protected static final", "type": "String", "declarator": "TEST_TARGET_COMPONENT_FOR_TASK_0_FOR_STORM = \"0-testTargetComponent0\"", "var_name": "TEST_TARGET_COMPONENT_FOR_TASK_0_FOR_STORM"}, {"original_string": "protected static final int TASK_0 = 0;", "modifier": "protected static final", "type": "int", "declarator": "TASK_0 = 0", "var_name": "TASK_0"}, {"original_string": "protected static final int TASK_1 = 1;", "modifier": "protected static final", "type": "int", "declarator": "TASK_1 = 1", "var_name": "TASK_1"}, {"original_string": "protected static final int TASK_2 = 2;", "modifier": "protected static final", "type": "int", "declarator": "TASK_2 = 2", "var_name": "TASK_2"}, {"original_string": "@Injectable\n    protected TopologyContext mockedTopologyContext;", "modifier": "@Injectable\n    protected", "type": "TopologyContext", "declarator": "mockedTopologyContext", "var_name": "mockedTopologyContext"}, {"original_string": "@Injectable\n    protected OutputCollector mockedOutputCollector;", "modifier": "@Injectable\n    protected", "type": "OutputCollector", "declarator": "mockedOutputCollector", "var_name": "mockedOutputCollector"}, {"original_string": "protected StormEventCorrelationInjector mockStormEventCorrelationInjector = new StormEventCorrelationInjector();", "modifier": "protected", "type": "StormEventCorrelationInjector", "declarator": "mockStormEventCorrelationInjector = new StormEventCorrelationInjector()", "var_name": "mockStormEventCorrelationInjector"}, {"original_string": "protected EventCorrelationInjector eventCorrelationInjector = new EventCorrelationInjector();", "modifier": "protected", "type": "EventCorrelationInjector", "declarator": "eventCorrelationInjector = new EventCorrelationInjector()", "var_name": "eventCorrelationInjector"}, {"original_string": "public static final StreamlineEventImpl INPUT_STREAMLINE_EVENT = StreamlineEventImpl.builder()\n            .fieldsAndValues(new HashMap<String, Object>() {{\n                put(\"illuminance\", 70);\n                put(\"temp\", 104);\n                put(\"foo\", 100);\n                put(\"humidity\", \"40h\");\n            }})\n            .dataSourceId(\"ds-\" + System.currentTimeMillis())\n            .build();", "modifier": "public static final", "type": "StreamlineEventImpl", "declarator": "INPUT_STREAMLINE_EVENT = StreamlineEventImpl.builder()\n            .fieldsAndValues(new HashMap<String, Object>() {{\n                put(\"illuminance\", 70);\n                put(\"temp\", 104);\n                put(\"foo\", 100);\n                put(\"humidity\", \"40h\");\n            }})\n            .dataSourceId(\"ds-\" + System.currentTimeMillis())\n            .build()", "var_name": "INPUT_STREAMLINE_EVENT"}, {"original_string": "public static final StreamlineEventImpl PARENT_STREAMLINE_EVENT = StreamlineEventImpl.builder()\n            .from(INPUT_STREAMLINE_EVENT)\n            .build();", "modifier": "public static final", "type": "StreamlineEventImpl", "declarator": "PARENT_STREAMLINE_EVENT = StreamlineEventImpl.builder()\n            .from(INPUT_STREAMLINE_EVENT)\n            .build()", "var_name": "PARENT_STREAMLINE_EVENT"}], "file": "streams/runners/storm/runtime/src/test/java/com/hortonworks/streamline/streams/runtime/storm/event/correlation/EventCorrelatingOutputCollectorTest.java"}, "test_case": {"identifier": "testAck", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testAck() throws Exception {\n        setupExpectationsForTuple();\n        setupExpectationsForTopologyContextNoEmit();\n\n        EventCorrelatingOutputCollector sut = getSystemUnderTest();\n\n        Tuple anchor = new TupleImpl(mockedTopologyContext, new Values(PARENT_STREAMLINE_EVENT), TASK_0,\n                Utils.DEFAULT_STREAM_ID);\n\n        sut.ack(anchor);\n\n        new Verifications() {{\n            mockedOutputCollector.ack(anchor); times = 1;\n        }};\n    }", "signature": "void testAck()", "full_signature": "@Test public void testAck()", "class_method_signature": "EventCorrelatingOutputCollectorTest.testAck()", "testcase": true, "constructor": false, "invocations": ["setupExpectationsForTuple", "setupExpectationsForTopologyContextNoEmit", "getSystemUnderTest", "ack", "ack"]}, "focal_class": {"identifier": "EventCorrelatingOutputCollector", "superclass": "extends OutputCollector", "interfaces": "", "fields": [{"original_string": "private final TopologyContext topologyContext;", "modifier": "private final", "type": "TopologyContext", "declarator": "topologyContext", "var_name": "topologyContext"}, {"original_string": "private final OutputCollector delegate;", "modifier": "private final", "type": "OutputCollector", "declarator": "delegate", "var_name": "delegate"}, {"original_string": "private final StormEventCorrelationInjector eventCorrelationInjector;", "modifier": "private final", "type": "StormEventCorrelationInjector", "declarator": "eventCorrelationInjector", "var_name": "eventCorrelationInjector"}], "methods": [{"identifier": "EventCorrelatingOutputCollector", "parameters": "(TopologyContext topologyContext, OutputCollector delegate)", "modifiers": "public", "return": "", "signature": " EventCorrelatingOutputCollector(TopologyContext topologyContext, OutputCollector delegate)", "full_signature": "public  EventCorrelatingOutputCollector(TopologyContext topologyContext, OutputCollector delegate)", "class_method_signature": "EventCorrelatingOutputCollector.EventCorrelatingOutputCollector(TopologyContext topologyContext, OutputCollector delegate)", "testcase": false, "constructor": true}, {"identifier": "emit", "parameters": "(String streamId, Tuple anchor, List<Object> tuple)", "modifiers": "@Override public", "return": "List<Integer>", "signature": "List<Integer> emit(String streamId, Tuple anchor, List<Object> tuple)", "full_signature": "@Override public List<Integer> emit(String streamId, Tuple anchor, List<Object> tuple)", "class_method_signature": "EventCorrelatingOutputCollector.emit(String streamId, Tuple anchor, List<Object> tuple)", "testcase": false, "constructor": false}, {"identifier": "emit", "parameters": "(Tuple anchor, List<Object> tuple)", "modifiers": "@Override public", "return": "List<Integer>", "signature": "List<Integer> emit(Tuple anchor, List<Object> tuple)", "full_signature": "@Override public List<Integer> emit(Tuple anchor, List<Object> tuple)", "class_method_signature": "EventCorrelatingOutputCollector.emit(Tuple anchor, List<Object> tuple)", "testcase": false, "constructor": false}, {"identifier": "emit", "parameters": "(String streamId, List<Object> tuple)", "modifiers": "@Override public", "return": "List<Integer>", "signature": "List<Integer> emit(String streamId, List<Object> tuple)", "full_signature": "@Override public List<Integer> emit(String streamId, List<Object> tuple)", "class_method_signature": "EventCorrelatingOutputCollector.emit(String streamId, List<Object> tuple)", "testcase": false, "constructor": false}, {"identifier": "emit", "parameters": "(List<Object> tuple)", "modifiers": "@Override public", "return": "List<Integer>", "signature": "List<Integer> emit(List<Object> tuple)", "full_signature": "@Override public List<Integer> emit(List<Object> tuple)", "class_method_signature": "EventCorrelatingOutputCollector.emit(List<Object> tuple)", "testcase": false, "constructor": false}, {"identifier": "emit", "parameters": "(Collection<Tuple> anchors, List<Object> tuple)", "modifiers": "@Override public", "return": "List<Integer>", "signature": "List<Integer> emit(Collection<Tuple> anchors, List<Object> tuple)", "full_signature": "@Override public List<Integer> emit(Collection<Tuple> anchors, List<Object> tuple)", "class_method_signature": "EventCorrelatingOutputCollector.emit(Collection<Tuple> anchors, List<Object> tuple)", "testcase": false, "constructor": false}, {"identifier": "emit", "parameters": "(String streamId, Collection<Tuple> anchors, List<Object> tuple)", "modifiers": "@Override public", "return": "List<Integer>", "signature": "List<Integer> emit(String streamId, Collection<Tuple> anchors, List<Object> tuple)", "full_signature": "@Override public List<Integer> emit(String streamId, Collection<Tuple> anchors, List<Object> tuple)", "class_method_signature": "EventCorrelatingOutputCollector.emit(String streamId, Collection<Tuple> anchors, List<Object> tuple)", "testcase": false, "constructor": false}, {"identifier": "emitDirect", "parameters": "(int taskId, String streamId, Tuple anchor, List<Object> tuple)", "modifiers": "@Override public", "return": "void", "signature": "void emitDirect(int taskId, String streamId, Tuple anchor, List<Object> tuple)", "full_signature": "@Override public void emitDirect(int taskId, String streamId, Tuple anchor, List<Object> tuple)", "class_method_signature": "EventCorrelatingOutputCollector.emitDirect(int taskId, String streamId, Tuple anchor, List<Object> tuple)", "testcase": false, "constructor": false}, {"identifier": "emitDirect", "parameters": "(int taskId, String streamId, List<Object> tuple)", "modifiers": "@Override public", "return": "void", "signature": "void emitDirect(int taskId, String streamId, List<Object> tuple)", "full_signature": "@Override public void emitDirect(int taskId, String streamId, List<Object> tuple)", "class_method_signature": "EventCorrelatingOutputCollector.emitDirect(int taskId, String streamId, List<Object> tuple)", "testcase": false, "constructor": false}, {"identifier": "emitDirect", "parameters": "(int taskId, Collection<Tuple> anchors, List<Object> tuple)", "modifiers": "@Override public", "return": "void", "signature": "void emitDirect(int taskId, Collection<Tuple> anchors, List<Object> tuple)", "full_signature": "@Override public void emitDirect(int taskId, Collection<Tuple> anchors, List<Object> tuple)", "class_method_signature": "EventCorrelatingOutputCollector.emitDirect(int taskId, Collection<Tuple> anchors, List<Object> tuple)", "testcase": false, "constructor": false}, {"identifier": "emitDirect", "parameters": "(int taskId, Tuple anchor, List<Object> tuple)", "modifiers": "@Override public", "return": "void", "signature": "void emitDirect(int taskId, Tuple anchor, List<Object> tuple)", "full_signature": "@Override public void emitDirect(int taskId, Tuple anchor, List<Object> tuple)", "class_method_signature": "EventCorrelatingOutputCollector.emitDirect(int taskId, Tuple anchor, List<Object> tuple)", "testcase": false, "constructor": false}, {"identifier": "emitDirect", "parameters": "(int taskId, List<Object> tuple)", "modifiers": "@Override public", "return": "void", "signature": "void emitDirect(int taskId, List<Object> tuple)", "full_signature": "@Override public void emitDirect(int taskId, List<Object> tuple)", "class_method_signature": "EventCorrelatingOutputCollector.emitDirect(int taskId, List<Object> tuple)", "testcase": false, "constructor": false}, {"identifier": "emitDirect", "parameters": "(int taskId, String streamId, Collection<Tuple> anchors, List<Object> tuple)", "modifiers": "@Override public", "return": "void", "signature": "void emitDirect(int taskId, String streamId, Collection<Tuple> anchors, List<Object> tuple)", "full_signature": "@Override public void emitDirect(int taskId, String streamId, Collection<Tuple> anchors, List<Object> tuple)", "class_method_signature": "EventCorrelatingOutputCollector.emitDirect(int taskId, String streamId, Collection<Tuple> anchors, List<Object> tuple)", "testcase": false, "constructor": false}, {"identifier": "ack", "parameters": "(Tuple tuple)", "modifiers": "@Override public", "return": "void", "signature": "void ack(Tuple tuple)", "full_signature": "@Override public void ack(Tuple tuple)", "class_method_signature": "EventCorrelatingOutputCollector.ack(Tuple tuple)", "testcase": false, "constructor": false}, {"identifier": "fail", "parameters": "(Tuple tuple)", "modifiers": "@Override public", "return": "void", "signature": "void fail(Tuple tuple)", "full_signature": "@Override public void fail(Tuple tuple)", "class_method_signature": "EventCorrelatingOutputCollector.fail(Tuple tuple)", "testcase": false, "constructor": false}, {"identifier": "resetTimeout", "parameters": "(Tuple tuple)", "modifiers": "@Override public", "return": "void", "signature": "void resetTimeout(Tuple tuple)", "full_signature": "@Override public void resetTimeout(Tuple tuple)", "class_method_signature": "EventCorrelatingOutputCollector.resetTimeout(Tuple tuple)", "testcase": false, "constructor": false}, {"identifier": "reportError", "parameters": "(Throwable throwable)", "modifiers": "@Override public", "return": "void", "signature": "void reportError(Throwable throwable)", "full_signature": "@Override public void reportError(Throwable throwable)", "class_method_signature": "EventCorrelatingOutputCollector.reportError(Throwable throwable)", "testcase": false, "constructor": false}, {"identifier": "injectCorrelationInformation", "parameters": "(Tuple anchor, List<Object> tuple)", "modifiers": "private", "return": "StreamlineEvent", "signature": "StreamlineEvent injectCorrelationInformation(Tuple anchor, List<Object> tuple)", "full_signature": "private StreamlineEvent injectCorrelationInformation(Tuple anchor, List<Object> tuple)", "class_method_signature": "EventCorrelatingOutputCollector.injectCorrelationInformation(Tuple anchor, List<Object> tuple)", "testcase": false, "constructor": false}, {"identifier": "injectCorrelationInformation", "parameters": "(List<Object> tuple)", "modifiers": "private", "return": "StreamlineEvent", "signature": "StreamlineEvent injectCorrelationInformation(List<Object> tuple)", "full_signature": "private StreamlineEvent injectCorrelationInformation(List<Object> tuple)", "class_method_signature": "EventCorrelatingOutputCollector.injectCorrelationInformation(List<Object> tuple)", "testcase": false, "constructor": false}, {"identifier": "injectCorrelationInformation", "parameters": "(Collection<Tuple> anchors, List<Object> tuple)", "modifiers": "private", "return": "StreamlineEvent", "signature": "StreamlineEvent injectCorrelationInformation(Collection<Tuple> anchors, List<Object> tuple)", "full_signature": "private StreamlineEvent injectCorrelationInformation(Collection<Tuple> anchors, List<Object> tuple)", "class_method_signature": "EventCorrelatingOutputCollector.injectCorrelationInformation(Collection<Tuple> anchors, List<Object> tuple)", "testcase": false, "constructor": false}], "file": "streams/runners/storm/runtime/src/main/java/com/hortonworks/streamline/streams/runtime/storm/event/correlation/EventCorrelatingOutputCollector.java"}, "focal_method": {"identifier": "ack", "parameters": "(Tuple tuple)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void ack(Tuple tuple) {\n        delegate.ack(tuple);\n    }", "signature": "void ack(Tuple tuple)", "full_signature": "@Override public void ack(Tuple tuple)", "class_method_signature": "EventCorrelatingOutputCollector.ack(Tuple tuple)", "testcase": false, "constructor": false, "invocations": ["ack"]}, "repository": {"repo_id": 35627039, "url": "https://github.com/hortonworks/streamline", "language": "Java", "is_fork": false, "fork_count": 94, "stargazer_count": 147, "size": 69226, "license": "licensed"}}