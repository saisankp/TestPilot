{"test_class": {"identifier": "ClassLoadersTest", "superclass": "", "interfaces": "", "fields": [], "file": "agent/core/src/test/java/org/glowroot/agent/weaving/ClassLoadersTest.java"}, "test_case": {"identifier": "shouldDeleteRegularFile", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void shouldDeleteRegularFile() throws IOException {\n        // given\n        File file = File.createTempFile(\"glowroot-unit-test-\", \"\");\n        // when\n        ClassLoaders.createDirectoryOrCleanPreviousContentsWithPrefix(file, \"abc\");\n        // then\n        assertThat(file.isDirectory()).isTrue();\n    }", "signature": "void shouldDeleteRegularFile()", "full_signature": "@Test public void shouldDeleteRegularFile()", "class_method_signature": "ClassLoadersTest.shouldDeleteRegularFile()", "testcase": true, "constructor": false, "invocations": ["createTempFile", "createDirectoryOrCleanPreviousContentsWithPrefix", "isTrue", "assertThat", "isDirectory"]}, "focal_class": {"identifier": "ClassLoaders", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger logger = LoggerFactory.getLogger(ClassLoaders.class);", "modifier": "private static final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(ClassLoaders.class)", "var_name": "logger"}, {"original_string": "private static final Object lock = new Object();", "modifier": "private static final", "type": "Object", "declarator": "lock = new Object()", "var_name": "lock"}], "methods": [{"identifier": "ClassLoaders", "parameters": "()", "modifiers": "private", "return": "", "signature": " ClassLoaders()", "full_signature": "private  ClassLoaders()", "class_method_signature": "ClassLoaders.ClassLoaders()", "testcase": false, "constructor": true}, {"identifier": "defineClassesInBootstrapClassLoader", "parameters": "(Collection<LazyDefinedClass> lazyDefinedClasses,\n            Instrumentation instrumentation, File generatedJarFile)", "modifiers": "static", "return": "void", "signature": "void defineClassesInBootstrapClassLoader(Collection<LazyDefinedClass> lazyDefinedClasses,\n            Instrumentation instrumentation, File generatedJarFile)", "full_signature": "static void defineClassesInBootstrapClassLoader(Collection<LazyDefinedClass> lazyDefinedClasses,\n            Instrumentation instrumentation, File generatedJarFile)", "class_method_signature": "ClassLoaders.defineClassesInBootstrapClassLoader(Collection<LazyDefinedClass> lazyDefinedClasses,\n            Instrumentation instrumentation, File generatedJarFile)", "testcase": false, "constructor": false}, {"identifier": "defineClasses", "parameters": "(Collection<LazyDefinedClass> lazyDefinedClasses, ClassLoader loader)", "modifiers": "static", "return": "void", "signature": "void defineClasses(Collection<LazyDefinedClass> lazyDefinedClasses, ClassLoader loader)", "full_signature": "static void defineClasses(Collection<LazyDefinedClass> lazyDefinedClasses, ClassLoader loader)", "class_method_signature": "ClassLoaders.defineClasses(Collection<LazyDefinedClass> lazyDefinedClasses, ClassLoader loader)", "testcase": false, "constructor": false}, {"identifier": "defineClassIfNotExists", "parameters": "(LazyDefinedClass lazyDefinedClass, ClassLoader loader)", "modifiers": "static", "return": "void", "signature": "void defineClassIfNotExists(LazyDefinedClass lazyDefinedClass, ClassLoader loader)", "full_signature": "static void defineClassIfNotExists(LazyDefinedClass lazyDefinedClass, ClassLoader loader)", "class_method_signature": "ClassLoaders.defineClassIfNotExists(LazyDefinedClass lazyDefinedClass, ClassLoader loader)", "testcase": false, "constructor": false}, {"identifier": "defineClass", "parameters": "(String name, byte[] bytes, ClassLoader loader)", "modifiers": "static", "return": "void", "signature": "void defineClass(String name, byte[] bytes, ClassLoader loader)", "full_signature": "static void defineClass(String name, byte[] bytes, ClassLoader loader)", "class_method_signature": "ClassLoaders.defineClass(String name, byte[] bytes, ClassLoader loader)", "testcase": false, "constructor": false}, {"identifier": "createDirectoryOrCleanPreviousContentsWithPrefix", "parameters": "(File dir, String prefix)", "modifiers": "static", "return": "void", "signature": "void createDirectoryOrCleanPreviousContentsWithPrefix(File dir, String prefix)", "full_signature": "static void createDirectoryOrCleanPreviousContentsWithPrefix(File dir, String prefix)", "class_method_signature": "ClassLoaders.createDirectoryOrCleanPreviousContentsWithPrefix(File dir, String prefix)", "testcase": false, "constructor": false}, {"identifier": "defineClass", "parameters": "(LazyDefinedClass lazyDefinedClass, ClassLoader loader,\n            boolean ifNotExists)", "modifiers": "private static", "return": "void", "signature": "void defineClass(LazyDefinedClass lazyDefinedClass, ClassLoader loader,\n            boolean ifNotExists)", "full_signature": "private static void defineClass(LazyDefinedClass lazyDefinedClass, ClassLoader loader,\n            boolean ifNotExists)", "class_method_signature": "ClassLoaders.defineClass(LazyDefinedClass lazyDefinedClass, ClassLoader loader,\n            boolean ifNotExists)", "testcase": false, "constructor": false}, {"identifier": "classExists", "parameters": "(String name, ClassLoader loader)", "modifiers": "private static", "return": "boolean", "signature": "boolean classExists(String name, ClassLoader loader)", "full_signature": "private static boolean classExists(String name, ClassLoader loader)", "class_method_signature": "ClassLoaders.classExists(String name, ClassLoader loader)", "testcase": false, "constructor": false}, {"identifier": "generate", "parameters": "(Collection<LazyDefinedClass> lazyDefinedClasses,\n            JarOutputStream jarOut)", "modifiers": "private static", "return": "void", "signature": "void generate(Collection<LazyDefinedClass> lazyDefinedClasses,\n            JarOutputStream jarOut)", "full_signature": "private static void generate(Collection<LazyDefinedClass> lazyDefinedClasses,\n            JarOutputStream jarOut)", "class_method_signature": "ClassLoaders.generate(Collection<LazyDefinedClass> lazyDefinedClasses,\n            JarOutputStream jarOut)", "testcase": false, "constructor": false}, {"identifier": "deleteIfRegularFile", "parameters": "(File file)", "modifiers": "private static", "return": "void", "signature": "void deleteIfRegularFile(File file)", "full_signature": "private static void deleteIfRegularFile(File file)", "class_method_signature": "ClassLoaders.deleteIfRegularFile(File file)", "testcase": false, "constructor": false}, {"identifier": "deleteFilesWithPrefix", "parameters": "(File dir, String prefix)", "modifiers": "private static", "return": "void", "signature": "void deleteFilesWithPrefix(File dir, String prefix)", "full_signature": "private static void deleteFilesWithPrefix(File dir, String prefix)", "class_method_signature": "ClassLoaders.deleteFilesWithPrefix(File dir, String prefix)", "testcase": false, "constructor": false}, {"identifier": "createDirectory", "parameters": "(File dir)", "modifiers": "private static", "return": "void", "signature": "void createDirectory(File dir)", "full_signature": "private static void createDirectory(File dir)", "class_method_signature": "ClassLoaders.createDirectory(File dir)", "testcase": false, "constructor": false}, {"identifier": "appendToBootstrapResourcePath", "parameters": "(File generatedJarFile)", "modifiers": "private static", "return": "void", "signature": "void appendToBootstrapResourcePath(File generatedJarFile)", "full_signature": "private static void appendToBootstrapResourcePath(File generatedJarFile)", "class_method_signature": "ClassLoaders.appendToBootstrapResourcePath(File generatedJarFile)", "testcase": false, "constructor": false}], "file": "agent/core/src/main/java/org/glowroot/agent/weaving/ClassLoaders.java"}, "focal_method": {"identifier": "createDirectoryOrCleanPreviousContentsWithPrefix", "parameters": "(File dir, String prefix)", "modifiers": "static", "return": "void", "body": "static void createDirectoryOrCleanPreviousContentsWithPrefix(File dir, String prefix)\n            throws IOException {\n        deleteIfRegularFile(dir);\n        if (dir.exists()) {\n            deleteFilesWithPrefix(dir, prefix);\n        } else {\n            createDirectory(dir);\n        }\n    }", "signature": "void createDirectoryOrCleanPreviousContentsWithPrefix(File dir, String prefix)", "full_signature": "static void createDirectoryOrCleanPreviousContentsWithPrefix(File dir, String prefix)", "class_method_signature": "ClassLoaders.createDirectoryOrCleanPreviousContentsWithPrefix(File dir, String prefix)", "testcase": false, "constructor": false, "invocations": ["deleteIfRegularFile", "exists", "deleteFilesWithPrefix", "createDirectory"]}, "repository": {"repo_id": 16336212, "url": "https://github.com/glowroot/glowroot", "stars": 736, "created": "1/29/2014 5:25:58 AM +00:00", "updates": "2020-01-24T11:13:42+00:00", "fork": "False", "license": "licensed"}}