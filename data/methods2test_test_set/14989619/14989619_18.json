{"test_class": {"identifier": "JsonApiResponseTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mocked\n\tprivate UriInfo uriInfo;", "modifier": "@Mocked\n\tprivate", "type": "UriInfo", "declarator": "uriInfo", "var_name": "uriInfo"}], "file": "server/src/test/java/org/jvalue/ods/rest/v2/jsonapi/response/JsonApiResponseTest.java"}, "test_case": {"identifier": "testGetResponseRestrictTo", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testGetResponseRestrictTo() {\n\t\t//Record\n\t\tsetUpExpectations();\n\t\tJsonApiIdentifiable entity = createEntityWithAttributes();\n\n\t\t//Replay\n\t\tResponse result = JsonApiResponse\n\t\t\t.createGetResponse(uriInfo)\n\t\t\t.data(entity)\n\t\t\t.restrictTo(\"intAttribute\")\n\t\t\t.build();\n\n\t\t//Verify\n\t\tassertIsValidJsonApiDataResponse(result);\n\t\tJsonNode resultJson = extractJsonEntity(result).get(\"data\");\n\t\tAssert.assertEquals(3, resultJson.size());\n\t\tAssert.assertTrue(resultJson.has(\"attributes\"));\n\t\tAssert.assertEquals(1, resultJson.get(\"attributes\").size());\n\t\tAssert.assertEquals(1, resultJson.get(\"attributes\").get(\"intAttribute\").asInt());\n\t}", "signature": "void testGetResponseRestrictTo()", "full_signature": "@Test public void testGetResponseRestrictTo()", "class_method_signature": "JsonApiResponseTest.testGetResponseRestrictTo()", "testcase": true, "constructor": false, "invocations": ["setUpExpectations", "createEntityWithAttributes", "build", "restrictTo", "data", "createGetResponse", "assertIsValidJsonApiDataResponse", "get", "extractJsonEntity", "assertEquals", "size", "assertTrue", "has", "assertEquals", "size", "get", "assertEquals", "asInt", "get", "get"]}, "focal_class": {"identifier": "JsonApiResponse", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final String JSONAPI_TYPE = \"application/vnd.api+json\";", "modifier": "public static final", "type": "String", "declarator": "JSONAPI_TYPE = \"application/vnd.api+json\"", "var_name": "JSONAPI_TYPE"}, {"original_string": "private UriInfo uriInfo;", "modifier": "private", "type": "UriInfo", "declarator": "uriInfo", "var_name": "uriInfo"}, {"original_string": "private JsonApiDocument jsonApiEntity;", "modifier": "private", "type": "JsonApiDocument", "declarator": "jsonApiEntity", "var_name": "jsonApiEntity"}, {"original_string": "private final Response.StatusType statusCode;", "modifier": "private final", "type": "Response.StatusType", "declarator": "statusCode", "var_name": "statusCode"}], "methods": [{"identifier": "JsonApiResponse", "parameters": "(UriInfo uriInfo, Response.StatusType statusCode)", "modifiers": "private", "return": "", "signature": " JsonApiResponse(UriInfo uriInfo, Response.StatusType statusCode)", "full_signature": "private  JsonApiResponse(UriInfo uriInfo, Response.StatusType statusCode)", "class_method_signature": "JsonApiResponse.JsonApiResponse(UriInfo uriInfo, Response.StatusType statusCode)", "testcase": false, "constructor": true}, {"identifier": "JsonApiResponse", "parameters": "(Response.StatusType statusCode)", "modifiers": "private", "return": "", "signature": " JsonApiResponse(Response.StatusType statusCode)", "full_signature": "private  JsonApiResponse(Response.StatusType statusCode)", "class_method_signature": "JsonApiResponse.JsonApiResponse(Response.StatusType statusCode)", "testcase": false, "constructor": true}, {"identifier": "createGetResponse", "parameters": "(UriInfo uriInfo)", "modifiers": "public static", "return": "RequiredEntity", "signature": "RequiredEntity createGetResponse(UriInfo uriInfo)", "full_signature": "public static RequiredEntity createGetResponse(UriInfo uriInfo)", "class_method_signature": "JsonApiResponse.createGetResponse(UriInfo uriInfo)", "testcase": false, "constructor": false}, {"identifier": "createPostResponse", "parameters": "(UriInfo uriInfo)", "modifiers": "public static", "return": "RequiredEntity", "signature": "RequiredEntity createPostResponse(UriInfo uriInfo)", "full_signature": "public static RequiredEntity createPostResponse(UriInfo uriInfo)", "class_method_signature": "JsonApiResponse.createPostResponse(UriInfo uriInfo)", "testcase": false, "constructor": false}, {"identifier": "createPutResponse", "parameters": "(UriInfo uriInfo)", "modifiers": "public static", "return": "RequiredEntity", "signature": "RequiredEntity createPutResponse(UriInfo uriInfo)", "full_signature": "public static RequiredEntity createPutResponse(UriInfo uriInfo)", "class_method_signature": "JsonApiResponse.createPutResponse(UriInfo uriInfo)", "testcase": false, "constructor": false}, {"identifier": "createExceptionResponse", "parameters": "(Response.Status code)", "modifiers": "public static", "return": "BuildableException", "signature": "BuildableException createExceptionResponse(Response.Status code)", "full_signature": "public static BuildableException createExceptionResponse(Response.Status code)", "class_method_signature": "JsonApiResponse.createExceptionResponse(Response.Status code)", "testcase": false, "constructor": false}, {"identifier": "assertIsValidErrCode", "parameters": "(int code)", "modifiers": "private static", "return": "void", "signature": "void assertIsValidErrCode(int code)", "full_signature": "private static void assertIsValidErrCode(int code)", "class_method_signature": "JsonApiResponse.assertIsValidErrCode(int code)", "testcase": false, "constructor": false}], "file": "server/src/main/java/org/jvalue/ods/rest/v2/jsonapi/response/JsonApiResponse.java"}, "focal_method": {"identifier": "createGetResponse", "parameters": "(UriInfo uriInfo)", "modifiers": "public static", "return": "RequiredEntity", "body": "public static RequiredEntity createGetResponse(UriInfo uriInfo) {\n\t\tAssert.assertNotNull(uriInfo);\n\n\t\treturn new Builder(new JsonApiResponse(uriInfo, Response.Status.OK));\n\t}", "signature": "RequiredEntity createGetResponse(UriInfo uriInfo)", "full_signature": "public static RequiredEntity createGetResponse(UriInfo uriInfo)", "class_method_signature": "JsonApiResponse.createGetResponse(UriInfo uriInfo)", "testcase": false, "constructor": false, "invocations": ["assertNotNull"]}, "repository": {"repo_id": 14989619, "url": "https://github.com/jvalue/open-data-service-v1", "language": "Java", "is_fork": false, "fork_count": 8, "stargazer_count": 6, "size": 4525, "license": "licensed"}}