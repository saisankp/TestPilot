{"test_class": {"identifier": "WadlGeneratorResourceDocSupportTest", "superclass": "", "interfaces": "", "fields": [], "file": "jersey-server/src/test/java/com/sun/jersey/server/wadl/generators/resourcedoc/WadlGeneratorResourceDocSupportTest.java"}, "test_case": {"identifier": "wadlIsGeneratedWithUnknownCustomParameterAnnotation", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void wadlIsGeneratedWithUnknownCustomParameterAnnotation() throws JAXBException, PrivilegedActionException\n    {\n        /* Set up a ClassDocType that has something for a custom-annotated parameter */\n        ClassDocType cdt = new ClassDocType();\n        cdt.setClassName(TestResource.class.getName());\n\n        MethodDocType mdt = new MethodDocType();\n        mdt.setMethodName(\"method\");\n        cdt.getMethodDocs().add(mdt);\n\n        ParamDocType pdt = new ParamDocType(\"x\", \"comment about x\");\n        mdt.getParamDocs().add(pdt);\n\n        AnnotationDocType adt = new AnnotationDocType();\n        adt.setAnnotationTypeName(CustomParam.class.getName());\n        adt.getAttributeDocs().add(new NamedValueType(\"value\", \"x\"));\n\n        pdt.getAnnotationDocs().add(adt);\n\n        ResourceDocType rdt = new ResourceDocType();\n        rdt.getDocs().add(cdt);\n\n\n        /* Generate WADL for that class */\n        WadlGenerator wg = new WadlGeneratorResourceDocSupport(new WadlGeneratorImpl(), rdt);\n\n        WadlBuilder wb = new WadlBuilder(wg);\n        AbstractResource resource = IntrospectionModeller.createResource(TestResource.class);\n        ApplicationDescription app = wb.generate(null,null,null, Collections.singleton(resource));\n\n\n        /* Confirm that it can be marshalled without error */\n        StringWriter sw = new StringWriter();\n\n        JAXBContext context =\n                AccessController.doPrivileged(new PrivilegedExceptionAction<JAXBContext>(){\n\n                    @Override\n                    public JAXBContext run() throws JAXBException {\n                        return JAXBContext.newInstance(Application.class);\n                    }\n                });\n\n        Marshaller m = context.createMarshaller();\n        m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n\n        m.marshal(app.getApplication(), sw);\n    }", "signature": "void wadlIsGeneratedWithUnknownCustomParameterAnnotation()", "full_signature": "@Test public void wadlIsGeneratedWithUnknownCustomParameterAnnotation()", "class_method_signature": "WadlGeneratorResourceDocSupportTest.wadlIsGeneratedWithUnknownCustomParameterAnnotation()", "testcase": true, "constructor": false, "invocations": ["setClassName", "getName", "setMethodName", "add", "getMethodDocs", "add", "getParamDocs", "setAnnotationTypeName", "getName", "add", "getAttributeDocs", "add", "getAnnotationDocs", "add", "getDocs", "createResource", "generate", "singleton", "doPrivileged", "newInstance", "createMarshaller", "setProperty", "marshal", "getApplication"]}, "focal_class": {"identifier": "WadlGeneratorResourceDocSupport", "superclass": "", "interfaces": "implements WadlGenerator", "fields": [{"original_string": "private WadlGenerator _delegate;", "modifier": "private", "type": "WadlGenerator", "declarator": "_delegate", "var_name": "_delegate"}, {"original_string": "private File resourceDocFile;", "modifier": "private", "type": "File", "declarator": "resourceDocFile", "var_name": "resourceDocFile"}, {"original_string": "private InputStream resourceDocStream;", "modifier": "private", "type": "InputStream", "declarator": "resourceDocStream", "var_name": "resourceDocStream"}, {"original_string": "private ResourceDocAccessor resourceDoc;", "modifier": "private", "type": "ResourceDocAccessor", "declarator": "resourceDoc", "var_name": "resourceDoc"}], "methods": [{"identifier": "WadlGeneratorResourceDocSupport", "parameters": "()", "modifiers": "public", "return": "", "signature": " WadlGeneratorResourceDocSupport()", "full_signature": "public  WadlGeneratorResourceDocSupport()", "class_method_signature": "WadlGeneratorResourceDocSupport.WadlGeneratorResourceDocSupport()", "testcase": false, "constructor": true}, {"identifier": "WadlGeneratorResourceDocSupport", "parameters": "( WadlGenerator wadlGenerator, ResourceDocType resourceDoc )", "modifiers": "public", "return": "", "signature": " WadlGeneratorResourceDocSupport( WadlGenerator wadlGenerator, ResourceDocType resourceDoc )", "full_signature": "public  WadlGeneratorResourceDocSupport( WadlGenerator wadlGenerator, ResourceDocType resourceDoc )", "class_method_signature": "WadlGeneratorResourceDocSupport.WadlGeneratorResourceDocSupport( WadlGenerator wadlGenerator, ResourceDocType resourceDoc )", "testcase": false, "constructor": true}, {"identifier": "setWadlGeneratorDelegate", "parameters": "( WadlGenerator delegate )", "modifiers": "public", "return": "void", "signature": "void setWadlGeneratorDelegate( WadlGenerator delegate )", "full_signature": "public void setWadlGeneratorDelegate( WadlGenerator delegate )", "class_method_signature": "WadlGeneratorResourceDocSupport.setWadlGeneratorDelegate( WadlGenerator delegate )", "testcase": false, "constructor": false}, {"identifier": "setEnvironment", "parameters": "(Environment env)", "modifiers": "@Override public", "return": "void", "signature": "void setEnvironment(Environment env)", "full_signature": "@Override public void setEnvironment(Environment env)", "class_method_signature": "WadlGeneratorResourceDocSupport.setEnvironment(Environment env)", "testcase": false, "constructor": false}, {"identifier": "setResourceDocFile", "parameters": "( File resourceDocFile )", "modifiers": "public", "return": "void", "signature": "void setResourceDocFile( File resourceDocFile )", "full_signature": "public void setResourceDocFile( File resourceDocFile )", "class_method_signature": "WadlGeneratorResourceDocSupport.setResourceDocFile( File resourceDocFile )", "testcase": false, "constructor": false}, {"identifier": "setResourceDocStream", "parameters": "( InputStream resourceDocStream )", "modifiers": "public", "return": "void", "signature": "void setResourceDocStream( InputStream resourceDocStream )", "full_signature": "public void setResourceDocStream( InputStream resourceDocStream )", "class_method_signature": "WadlGeneratorResourceDocSupport.setResourceDocStream( InputStream resourceDocStream )", "testcase": false, "constructor": false}, {"identifier": "init", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void init()", "full_signature": "public void init()", "class_method_signature": "WadlGeneratorResourceDocSupport.init()", "testcase": false, "constructor": false}, {"identifier": "getRequiredJaxbContextPath", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getRequiredJaxbContextPath()", "full_signature": "public String getRequiredJaxbContextPath()", "class_method_signature": "WadlGeneratorResourceDocSupport.getRequiredJaxbContextPath()", "testcase": false, "constructor": false}, {"identifier": "createApplication", "parameters": "(UriInfo requestInfo)", "modifiers": "public", "return": "Application", "signature": "Application createApplication(UriInfo requestInfo)", "full_signature": "public Application createApplication(UriInfo requestInfo)", "class_method_signature": "WadlGeneratorResourceDocSupport.createApplication(UriInfo requestInfo)", "testcase": false, "constructor": false}, {"identifier": "createResource", "parameters": "( AbstractResource r, String path )", "modifiers": "public", "return": "Resource", "signature": "Resource createResource( AbstractResource r, String path )", "full_signature": "public Resource createResource( AbstractResource r, String path )", "class_method_signature": "WadlGeneratorResourceDocSupport.createResource( AbstractResource r, String path )", "testcase": false, "constructor": false}, {"identifier": "createMethod", "parameters": "( AbstractResource r, AbstractResourceMethod m )", "modifiers": "public", "return": "Method", "signature": "Method createMethod( AbstractResource r, AbstractResourceMethod m )", "full_signature": "public Method createMethod( AbstractResource r, AbstractResourceMethod m )", "class_method_signature": "WadlGeneratorResourceDocSupport.createMethod( AbstractResource r, AbstractResourceMethod m )", "testcase": false, "constructor": false}, {"identifier": "createRequestRepresentation", "parameters": "( AbstractResource r,\n                                                       AbstractResourceMethod m, MediaType mediaType )", "modifiers": "public", "return": "Representation", "signature": "Representation createRequestRepresentation( AbstractResource r,\n                                                       AbstractResourceMethod m, MediaType mediaType )", "full_signature": "public Representation createRequestRepresentation( AbstractResource r,\n                                                       AbstractResourceMethod m, MediaType mediaType )", "class_method_signature": "WadlGeneratorResourceDocSupport.createRequestRepresentation( AbstractResource r,\n                                                       AbstractResourceMethod m, MediaType mediaType )", "testcase": false, "constructor": false}, {"identifier": "createRequest", "parameters": "( AbstractResource r, AbstractResourceMethod m )", "modifiers": "public", "return": "Request", "signature": "Request createRequest( AbstractResource r, AbstractResourceMethod m )", "full_signature": "public Request createRequest( AbstractResource r, AbstractResourceMethod m )", "class_method_signature": "WadlGeneratorResourceDocSupport.createRequest( AbstractResource r, AbstractResourceMethod m )", "testcase": false, "constructor": false}, {"identifier": "createResponses", "parameters": "( AbstractResource r, AbstractResourceMethod m )", "modifiers": "public", "return": "List<Response>", "signature": "List<Response> createResponses( AbstractResource r, AbstractResourceMethod m )", "full_signature": "public List<Response> createResponses( AbstractResource r, AbstractResourceMethod m )", "class_method_signature": "WadlGeneratorResourceDocSupport.createResponses( AbstractResource r, AbstractResourceMethod m )", "testcase": false, "constructor": false}, {"identifier": "addDocForExample", "parameters": "( final List<Doc> docs, final String example )", "modifiers": "private", "return": "void", "signature": "void addDocForExample( final List<Doc> docs, final String example )", "full_signature": "private void addDocForExample( final List<Doc> docs, final String example )", "class_method_signature": "WadlGeneratorResourceDocSupport.addDocForExample( final List<Doc> docs, final String example )", "testcase": false, "constructor": false}, {"identifier": "addDoc", "parameters": "( final List<Doc> docs, final String text )", "modifiers": "private", "return": "void", "signature": "void addDoc( final List<Doc> docs, final String text )", "full_signature": "private void addDoc( final List<Doc> docs, final String text )", "class_method_signature": "WadlGeneratorResourceDocSupport.addDoc( final List<Doc> docs, final String text )", "testcase": false, "constructor": false}, {"identifier": "createParam", "parameters": "(AbstractResource r,\n                             AbstractMethod m, Parameter p)", "modifiers": "public", "return": "Param", "signature": "Param createParam(AbstractResource r,\n                             AbstractMethod m, Parameter p)", "full_signature": "public Param createParam(AbstractResource r,\n                             AbstractMethod m, Parameter p)", "class_method_signature": "WadlGeneratorResourceDocSupport.createParam(AbstractResource r,\n                             AbstractMethod m, Parameter p)", "testcase": false, "constructor": false}, {"identifier": "createResources", "parameters": "()", "modifiers": "public", "return": "Resources", "signature": "Resources createResources()", "full_signature": "public Resources createResources()", "class_method_signature": "WadlGeneratorResourceDocSupport.createResources()", "testcase": false, "constructor": false}, {"identifier": "isEmpty", "parameters": "( String text )", "modifiers": "private", "return": "boolean", "signature": "boolean isEmpty( String text )", "full_signature": "private boolean isEmpty( String text )", "class_method_signature": "WadlGeneratorResourceDocSupport.isEmpty( String text )", "testcase": false, "constructor": false}, {"identifier": "createExternalGrammar", "parameters": "()", "modifiers": "@Override public", "return": "ExternalGrammarDefinition", "signature": "ExternalGrammarDefinition createExternalGrammar()", "full_signature": "@Override public ExternalGrammarDefinition createExternalGrammar()", "class_method_signature": "WadlGeneratorResourceDocSupport.createExternalGrammar()", "testcase": false, "constructor": false}, {"identifier": "attachTypes", "parameters": "(ApplicationDescription egd)", "modifiers": "@Override public", "return": "void", "signature": "void attachTypes(ApplicationDescription egd)", "full_signature": "@Override public void attachTypes(ApplicationDescription egd)", "class_method_signature": "WadlGeneratorResourceDocSupport.attachTypes(ApplicationDescription egd)", "testcase": false, "constructor": false}], "file": "jersey-server/src/main/java/com/sun/jersey/server/wadl/generators/resourcedoc/WadlGeneratorResourceDocSupport.java"}, "focal_method": {"identifier": "createResource", "parameters": "( AbstractResource r, String path )", "modifiers": "public", "return": "Resource", "body": "public Resource createResource( AbstractResource r, String path ) {\n        final Resource result = _delegate.createResource( r, path );\n        final ClassDocType classDoc = resourceDoc.getClassDoc( r.getResourceClass() );\n        if ( classDoc != null && !isEmpty( classDoc.getCommentText() ) ) {\n            final Doc doc = new Doc();\n            doc.getContent().add( classDoc.getCommentText() );\n            result.getDoc().add( doc );\n        }\n        return result;\n    }", "signature": "Resource createResource( AbstractResource r, String path )", "full_signature": "public Resource createResource( AbstractResource r, String path )", "class_method_signature": "WadlGeneratorResourceDocSupport.createResource( AbstractResource r, String path )", "testcase": false, "constructor": false, "invocations": ["createResource", "getClassDoc", "getResourceClass", "isEmpty", "getCommentText", "add", "getContent", "getCommentText", "add", "getDoc"]}, "repository": {"repo_id": 14029306, "url": "https://github.com/jersey/jersey-1.x", "language": "Java", "is_fork": false, "fork_count": 69, "stargazer_count": 25, "size": 34261, "license": "licensed"}}