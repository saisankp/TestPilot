{"test_class": {"identifier": "BoshBackedSessionContextTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private IMocksControl mocksControl;", "modifier": "private", "type": "IMocksControl", "declarator": "mocksControl", "var_name": "mocksControl"}, {"original_string": "private BoshHandler boshHandler;", "modifier": "private", "type": "BoshHandler", "declarator": "boshHandler", "var_name": "boshHandler"}, {"original_string": "private ServerRuntimeContext serverRuntimeContext;", "modifier": "private", "type": "ServerRuntimeContext", "declarator": "serverRuntimeContext", "var_name": "serverRuntimeContext"}, {"original_string": "private StanzaProcessor stanzaProcessor;", "modifier": "private", "type": "StanzaProcessor", "declarator": "stanzaProcessor", "var_name": "stanzaProcessor"}, {"original_string": "private InactivityChecker inactivityChecker;", "modifier": "private", "type": "InactivityChecker", "declarator": "inactivityChecker", "var_name": "inactivityChecker"}], "file": "server/extensions/xep0124-xep0206-bosh/src/test/java/org/apache/vysper/xmpp/extension/xep0124/BoshBackedSessionContextTest.java"}, "test_case": {"identifier": "testRequestExpired", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testRequestExpired() throws IOException {\n        Stanza emtpyStanza = BoshStanzaUtils.EMPTY_BOSH_RESPONSE;\n\n        // addRequest\n        HttpServletRequest httpServletRequest = mocksControl.createMock(HttpServletRequest.class);\n        AsyncContext asyncContext = mocksControl.createMock(AsyncContext.class);\n        expect(httpServletRequest.startAsync()).andReturn(asyncContext).atLeastOnce();\n        expect(httpServletRequest.getAsyncContext()).andReturn(asyncContext).atLeastOnce();\n        asyncContext.setTimeout(anyLong());\n        httpServletRequest.setAttribute(eq(BOSH_REQUEST_ATTRIBUTE), EasyMock.<BoshRequest>notNull());\n\n        expect(asyncContext.getRequest()).andReturn(httpServletRequest).atLeastOnce();\n        asyncContext.dispatch();\n        expectLastCall().atLeastOnce();\n\n        Capture<AsyncListener> listenerCaptured = new Capture<AsyncListener>();\n        asyncContext.addListener(EasyMock.<AsyncListener> capture(listenerCaptured));\n\n        AsyncEvent asyncEvent = mocksControl.createMock(AsyncEvent.class);\n\n        BoshRequest br = new BoshRequest(httpServletRequest, emtpyStanza, 1L);\n\n        // requestExpired\n        expect(httpServletRequest.getAttribute(BOSH_REQUEST_ATTRIBUTE)).andReturn(br);\n        Capture<BoshResponse> responseCaptured = new Capture<BoshResponse>();\n        httpServletRequest.setAttribute(eq(BOSH_RESPONSE_ATTRIBUTE), EasyMock.<BoshResponse> capture(responseCaptured));\n\n        // write0\n        mocksControl.replay();\n        BoshBackedSessionContext boshBackedSessionContext = new BoshBackedSessionContext(serverRuntimeContext, stanzaProcessor, null, inactivityChecker);\n        \n        boshBackedSessionContext.insertRequest(br);\n        listenerCaptured.getValue().onTimeout(asyncEvent);\n        mocksControl.verify();\n\n        assertEquals(new Renderer(emtpyStanza).getComplete(), new String(responseCaptured.getValue().getContent()));\n        assertEquals(BoshServlet.XML_CONTENT_TYPE, responseCaptured.getValue().getContentType());\n    }", "signature": "void testRequestExpired()", "full_signature": "@Test public void testRequestExpired()", "class_method_signature": "BoshBackedSessionContextTest.testRequestExpired()", "testcase": true, "constructor": false, "invocations": ["createMock", "createMock", "atLeastOnce", "andReturn", "expect", "startAsync", "atLeastOnce", "andReturn", "expect", "getAsyncContext", "setTimeout", "anyLong", "setAttribute", "eq", "notNull", "atLeastOnce", "andReturn", "expect", "getRequest", "dispatch", "atLeastOnce", "expectLastCall", "addListener", "capture", "createMock", "andReturn", "expect", "getAttribute", "setAttribute", "eq", "capture", "replay", "insertRequest", "onTimeout", "getValue", "verify", "assertEquals", "getComplete", "getContent", "getValue", "assertEquals", "getContentType", "getValue"]}, "focal_class": {"identifier": "BoshBackedSessionContext", "superclass": "extends AbstractSessionContext", "interfaces": "implements StanzaWriter", "fields": [{"original_string": "private final static Logger LOGGER = LoggerFactory.getLogger(BoshBackedSessionContext.class);", "modifier": "private final static", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(BoshBackedSessionContext.class)", "var_name": "LOGGER"}, {"original_string": "public final static String HTTP_SESSION_ATTRIBUTE = \"org.apache.vysper.xmpp.extension.xep0124.BoshBackedSessionContext\";", "modifier": "public final static", "type": "String", "declarator": "HTTP_SESSION_ATTRIBUTE = \"org.apache.vysper.xmpp.extension.xep0124.BoshBackedSessionContext\"", "var_name": "HTTP_SESSION_ATTRIBUTE"}, {"original_string": "public final static String BOSH_REQUEST_ATTRIBUTE = \"boshRequest\";", "modifier": "public final static", "type": "String", "declarator": "BOSH_REQUEST_ATTRIBUTE = \"boshRequest\"", "var_name": "BOSH_REQUEST_ATTRIBUTE"}, {"original_string": "public final static String BOSH_RESPONSE_ATTRIBUTE = \"boshResponse\";", "modifier": "public final static", "type": "String", "declarator": "BOSH_RESPONSE_ATTRIBUTE = \"boshResponse\"", "var_name": "BOSH_RESPONSE_ATTRIBUTE"}, {"original_string": "protected static final Charset UTF8_CHARSET = Charset.forName(\"UTF-8\");", "modifier": "protected static final", "type": "Charset", "declarator": "UTF8_CHARSET = Charset.forName(\"UTF-8\")", "var_name": "UTF8_CHARSET"}, {"original_string": "private final int maxpauseSeconds = 120;", "modifier": "private final", "type": "int", "declarator": "maxpauseSeconds = 120", "var_name": "maxpauseSeconds"}, {"original_string": "private final int inactivitySeconds = 60;", "modifier": "private final", "type": "int", "declarator": "inactivitySeconds = 60", "var_name": "inactivitySeconds"}, {"original_string": "private final int pollingSeconds = 15;", "modifier": "private final", "type": "int", "declarator": "pollingSeconds = 15", "var_name": "pollingSeconds"}, {"original_string": "private final int maximumSentResponses = 100;", "modifier": "private final", "type": "int", "declarator": "maximumSentResponses = 100", "var_name": "maximumSentResponses"}, {"original_string": "private final int brokenConnectionReportTimeoutMillis = 1000;", "modifier": "private final", "type": "int", "declarator": "brokenConnectionReportTimeoutMillis = 1000", "var_name": "brokenConnectionReportTimeoutMillis"}, {"original_string": "protected final RequestsWindow requestsWindow;", "modifier": "protected final", "type": "RequestsWindow", "declarator": "requestsWindow", "var_name": "requestsWindow"}, {"original_string": "private final Queue<Stanza> delayedResponseQueue = new LinkedList<Stanza>();", "modifier": "private final", "type": "Queue<Stanza>", "declarator": "delayedResponseQueue = new LinkedList<Stanza>()", "var_name": "delayedResponseQueue"}, {"original_string": "private final SortedMap<Long, BoshResponse> sentResponses = new TreeMap<Long, BoshResponse>();", "modifier": "private final", "type": "SortedMap<Long, BoshResponse>", "declarator": "sentResponses = new TreeMap<Long, BoshResponse>()", "var_name": "sentResponses"}, {"original_string": "private final ResponsesBuffer sentResponsesBacklog = new ResponsesBuffer();", "modifier": "private final", "type": "ResponsesBuffer", "declarator": "sentResponsesBacklog = new ResponsesBuffer()", "var_name": "sentResponsesBacklog"}, {"original_string": "private int parallelRequestsCount = 2;", "modifier": "private", "type": "int", "declarator": "parallelRequestsCount = 2", "var_name": "parallelRequestsCount"}, {"original_string": "private String boshVersion = \"1.9\";", "modifier": "private", "type": "String", "declarator": "boshVersion = \"1.9\"", "var_name": "boshVersion"}, {"original_string": "private String contentType = BoshServlet.XML_CONTENT_TYPE;", "modifier": "private", "type": "String", "declarator": "contentType = BoshServlet.XML_CONTENT_TYPE", "var_name": "contentType"}, {"original_string": "private int wait = 60;", "modifier": "private", "type": "int", "declarator": "wait = 60", "var_name": "wait"}, {"original_string": "private int hold = 1;", "modifier": "private", "type": "int", "declarator": "hold = 1", "var_name": "hold"}, {"original_string": "private int currentInactivitySeconds = inactivitySeconds;", "modifier": "private", "type": "int", "declarator": "currentInactivitySeconds = inactivitySeconds", "var_name": "currentInactivitySeconds"}, {"original_string": "private Long latestEmptyPollingRequestTimestamp = 0L;", "modifier": "private", "type": "Long", "declarator": "latestEmptyPollingRequestTimestamp = 0L", "var_name": "latestEmptyPollingRequestTimestamp"}, {"original_string": "private boolean clientAcknowledgements;", "modifier": "private", "type": "boolean", "declarator": "clientAcknowledgements", "var_name": "clientAcknowledgements"}, {"original_string": "private long latestWriteTimestamp = System.currentTimeMillis();", "modifier": "private", "type": "long", "declarator": "latestWriteTimestamp = System.currentTimeMillis()", "var_name": "latestWriteTimestamp"}, {"original_string": "private final InactivityChecker inactivityChecker;", "modifier": "private final", "type": "InactivityChecker", "declarator": "inactivityChecker", "var_name": "inactivityChecker"}, {"original_string": "private Long lastInactivityExpireTime;", "modifier": "private", "type": "Long", "declarator": "lastInactivityExpireTime", "var_name": "lastInactivityExpireTime"}, {"original_string": "private boolean isWatchedByInactivityChecker;", "modifier": "private", "type": "boolean", "declarator": "isWatchedByInactivityChecker", "var_name": "isWatchedByInactivityChecker"}, {"original_string": "private boolean propagateSessionContextToHTTPSession = false;", "modifier": "private", "type": "boolean", "declarator": "propagateSessionContextToHTTPSession = false", "var_name": "propagateSessionContextToHTTPSession"}], "methods": [{"identifier": "BoshBackedSessionContext", "parameters": "(ServerRuntimeContext serverRuntimeContext, StanzaProcessor stanzaProcessor, BoshHandler boshHandler, InactivityChecker inactivityChecker)", "modifiers": "public", "return": "", "signature": " BoshBackedSessionContext(ServerRuntimeContext serverRuntimeContext, StanzaProcessor stanzaProcessor, BoshHandler boshHandler, InactivityChecker inactivityChecker)", "full_signature": "public  BoshBackedSessionContext(ServerRuntimeContext serverRuntimeContext, StanzaProcessor stanzaProcessor, BoshHandler boshHandler, InactivityChecker inactivityChecker)", "class_method_signature": "BoshBackedSessionContext.BoshBackedSessionContext(ServerRuntimeContext serverRuntimeContext, StanzaProcessor stanzaProcessor, BoshHandler boshHandler, InactivityChecker inactivityChecker)", "testcase": false, "constructor": true}, {"identifier": "isWatchedByInactivityChecker", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isWatchedByInactivityChecker()", "full_signature": "public boolean isWatchedByInactivityChecker()", "class_method_signature": "BoshBackedSessionContext.isWatchedByInactivityChecker()", "testcase": false, "constructor": false}, {"identifier": "updateInactivityChecker", "parameters": "()", "modifiers": "private synchronized", "return": "void", "signature": "void updateInactivityChecker()", "full_signature": "private synchronized void updateInactivityChecker()", "class_method_signature": "BoshBackedSessionContext.updateInactivityChecker()", "testcase": false, "constructor": false}, {"identifier": "getStateHolder", "parameters": "()", "modifiers": "public", "return": "SessionStateHolder", "signature": "SessionStateHolder getStateHolder()", "full_signature": "public SessionStateHolder getStateHolder()", "class_method_signature": "BoshBackedSessionContext.getStateHolder()", "testcase": false, "constructor": false}, {"identifier": "getResponseWriter", "parameters": "()", "modifiers": "public", "return": "StanzaWriter", "signature": "StanzaWriter getResponseWriter()", "full_signature": "public StanzaWriter getResponseWriter()", "class_method_signature": "BoshBackedSessionContext.getResponseWriter()", "testcase": false, "constructor": false}, {"identifier": "setIsReopeningXMLStream", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void setIsReopeningXMLStream()", "full_signature": "public void setIsReopeningXMLStream()", "class_method_signature": "BoshBackedSessionContext.setIsReopeningXMLStream()", "testcase": false, "constructor": false}, {"identifier": "propagateSessionContext", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean propagateSessionContext()", "full_signature": "public boolean propagateSessionContext()", "class_method_signature": "BoshBackedSessionContext.propagateSessionContext()", "testcase": false, "constructor": false}, {"identifier": "write", "parameters": "(Stanza stanza)", "modifiers": "synchronized public", "return": "void", "signature": "void write(Stanza stanza)", "full_signature": "synchronized public void write(Stanza stanza)", "class_method_signature": "BoshBackedSessionContext.write(Stanza stanza)", "testcase": false, "constructor": false}, {"identifier": "writeBoshResponse", "parameters": "(Stanza responseStanza)", "modifiers": "", "return": "void", "signature": "void writeBoshResponse(Stanza responseStanza)", "full_signature": " void writeBoshResponse(Stanza responseStanza)", "class_method_signature": "BoshBackedSessionContext.writeBoshResponse(Stanza responseStanza)", "testcase": false, "constructor": false}, {"identifier": "logRIDSequence", "parameters": "()", "modifiers": "private", "return": "String", "signature": "String logRIDSequence()", "full_signature": "private String logRIDSequence()", "class_method_signature": "BoshBackedSessionContext.logRIDSequence()", "testcase": false, "constructor": false}, {"identifier": "setLatestWriteTimestamp", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void setLatestWriteTimestamp()", "full_signature": "private void setLatestWriteTimestamp()", "class_method_signature": "BoshBackedSessionContext.setLatestWriteTimestamp()", "testcase": false, "constructor": false}, {"identifier": "isResponseSavable", "parameters": "(BoshRequest req, Stanza response)", "modifiers": "private static", "return": "boolean", "signature": "boolean isResponseSavable(BoshRequest req, Stanza response)", "full_signature": "private static boolean isResponseSavable(BoshRequest req, Stanza response)", "class_method_signature": "BoshBackedSessionContext.isResponseSavable(BoshRequest req, Stanza response)", "testcase": false, "constructor": false}, {"identifier": "sendError", "parameters": "(String condition)", "modifiers": "public", "return": "void", "signature": "void sendError(String condition)", "full_signature": "public void sendError(String condition)", "class_method_signature": "BoshBackedSessionContext.sendError(String condition)", "testcase": false, "constructor": false}, {"identifier": "sendError", "parameters": "(BoshRequest req, String condition)", "modifiers": "protected", "return": "void", "signature": "void sendError(BoshRequest req, String condition)", "full_signature": "protected void sendError(BoshRequest req, String condition)", "class_method_signature": "BoshBackedSessionContext.sendError(BoshRequest req, String condition)", "testcase": false, "constructor": false}, {"identifier": "close", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void close()", "full_signature": "public void close()", "class_method_signature": "BoshBackedSessionContext.close()", "testcase": false, "constructor": false}, {"identifier": "switchToTLS", "parameters": "(boolean delayed, boolean clientTls)", "modifiers": "public", "return": "void", "signature": "void switchToTLS(boolean delayed, boolean clientTls)", "full_signature": "public void switchToTLS(boolean delayed, boolean clientTls)", "class_method_signature": "BoshBackedSessionContext.switchToTLS(boolean delayed, boolean clientTls)", "testcase": false, "constructor": false}, {"identifier": "setContentType", "parameters": "(String contentType)", "modifiers": "public", "return": "void", "signature": "void setContentType(String contentType)", "full_signature": "public void setContentType(String contentType)", "class_method_signature": "BoshBackedSessionContext.setContentType(String contentType)", "testcase": false, "constructor": false}, {"identifier": "getContentType", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getContentType()", "full_signature": "public String getContentType()", "class_method_signature": "BoshBackedSessionContext.getContentType()", "testcase": false, "constructor": false}, {"identifier": "getMaxPause", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getMaxPause()", "full_signature": "public int getMaxPause()", "class_method_signature": "BoshBackedSessionContext.getMaxPause()", "testcase": false, "constructor": false}, {"identifier": "setWait", "parameters": "(int wait)", "modifiers": "public", "return": "void", "signature": "void setWait(int wait)", "full_signature": "public void setWait(int wait)", "class_method_signature": "BoshBackedSessionContext.setWait(int wait)", "testcase": false, "constructor": false}, {"identifier": "getWait", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getWait()", "full_signature": "public int getWait()", "class_method_signature": "BoshBackedSessionContext.getWait()", "testcase": false, "constructor": false}, {"identifier": "setHold", "parameters": "(int hold)", "modifiers": "public", "return": "void", "signature": "void setHold(int hold)", "full_signature": "public void setHold(int hold)", "class_method_signature": "BoshBackedSessionContext.setHold(int hold)", "testcase": false, "constructor": false}, {"identifier": "getHold", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getHold()", "full_signature": "public int getHold()", "class_method_signature": "BoshBackedSessionContext.getHold()", "testcase": false, "constructor": false}, {"identifier": "setClientAcknowledgements", "parameters": "(boolean value)", "modifiers": "public", "return": "void", "signature": "void setClientAcknowledgements(boolean value)", "full_signature": "public void setClientAcknowledgements(boolean value)", "class_method_signature": "BoshBackedSessionContext.setClientAcknowledgements(boolean value)", "testcase": false, "constructor": false}, {"identifier": "isClientAcknowledgements", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isClientAcknowledgements()", "full_signature": "public boolean isClientAcknowledgements()", "class_method_signature": "BoshBackedSessionContext.isClientAcknowledgements()", "testcase": false, "constructor": false}, {"identifier": "setBoshVersion", "parameters": "(String version)", "modifiers": "public", "return": "void", "signature": "void setBoshVersion(String version)", "full_signature": "public void setBoshVersion(String version)", "class_method_signature": "BoshBackedSessionContext.setBoshVersion(String version)", "testcase": false, "constructor": false}, {"identifier": "getBoshVersion", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getBoshVersion()", "full_signature": "public String getBoshVersion()", "class_method_signature": "BoshBackedSessionContext.getBoshVersion()", "testcase": false, "constructor": false}, {"identifier": "getInactivity", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getInactivity()", "full_signature": "public int getInactivity()", "class_method_signature": "BoshBackedSessionContext.getInactivity()", "testcase": false, "constructor": false}, {"identifier": "getPolling", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getPolling()", "full_signature": "public int getPolling()", "class_method_signature": "BoshBackedSessionContext.getPolling()", "testcase": false, "constructor": false}, {"identifier": "getRequests", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getRequests()", "full_signature": "public int getRequests()", "class_method_signature": "BoshBackedSessionContext.getRequests()", "testcase": false, "constructor": false}, {"identifier": "requestExpired", "parameters": "(final AsyncContext context)", "modifiers": "private", "return": "void", "signature": "void requestExpired(final AsyncContext context)", "full_signature": "private void requestExpired(final AsyncContext context)", "class_method_signature": "BoshBackedSessionContext.requestExpired(final AsyncContext context)", "testcase": false, "constructor": false}, {"identifier": "insertRequest", "parameters": "(final BoshRequest br)", "modifiers": "public", "return": "void", "signature": "void insertRequest(final BoshRequest br)", "full_signature": "public void insertRequest(final BoshRequest br)", "class_method_signature": "BoshBackedSessionContext.insertRequest(final BoshRequest br)", "testcase": false, "constructor": false}, {"identifier": "logSentResponsesBuffer", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String logSentResponsesBuffer()", "full_signature": "public String logSentResponsesBuffer()", "class_method_signature": "BoshBackedSessionContext.logSentResponsesBuffer()", "testcase": false, "constructor": false}, {"identifier": "respondToPause", "parameters": "(int pause)", "modifiers": "protected", "return": "void", "signature": "void respondToPause(int pause)", "full_signature": "protected void respondToPause(int pause)", "class_method_signature": "BoshBackedSessionContext.respondToPause(int pause)", "testcase": false, "constructor": false}, {"identifier": "sendBrokenConnectionReport", "parameters": "(long report, long delta)", "modifiers": "protected", "return": "void", "signature": "void sendBrokenConnectionReport(long report, long delta)", "full_signature": "protected void sendBrokenConnectionReport(long report, long delta)", "class_method_signature": "BoshBackedSessionContext.sendBrokenConnectionReport(long report, long delta)", "testcase": false, "constructor": false}, {"identifier": "addContinuationExpirationListener", "parameters": "(final AsyncContext context)", "modifiers": "protected", "return": "void", "signature": "void addContinuationExpirationListener(final AsyncContext context)", "full_signature": "protected void addContinuationExpirationListener(final AsyncContext context)", "class_method_signature": "BoshBackedSessionContext.addContinuationExpirationListener(final AsyncContext context)", "testcase": false, "constructor": false}, {"identifier": "handleAsyncEventError", "parameters": "(AsyncEvent event)", "modifiers": "protected", "return": "void", "signature": "void handleAsyncEventError(AsyncEvent event)", "full_signature": "protected void handleAsyncEventError(AsyncEvent event)", "class_method_signature": "BoshBackedSessionContext.handleAsyncEventError(AsyncEvent event)", "testcase": false, "constructor": false}, {"identifier": "resendResponse", "parameters": "(BoshRequest br)", "modifiers": "protected", "return": "void", "signature": "void resendResponse(BoshRequest br)", "full_signature": "protected void resendResponse(BoshRequest br)", "class_method_signature": "BoshBackedSessionContext.resendResponse(BoshRequest br)", "testcase": false, "constructor": false}, {"identifier": "resendResponse", "parameters": "(BoshRequest br, Long rid, BoshResponse boshResponse)", "modifiers": "protected", "return": "void", "signature": "void resendResponse(BoshRequest br, Long rid, BoshResponse boshResponse)", "full_signature": "protected void resendResponse(BoshRequest br, Long rid, BoshResponse boshResponse)", "class_method_signature": "BoshBackedSessionContext.resendResponse(BoshRequest br, Long rid, BoshResponse boshResponse)", "testcase": false, "constructor": false}, {"identifier": "getBoshResponse", "parameters": "(Stanza stanza, Long ack)", "modifiers": "protected", "return": "BoshResponse", "signature": "BoshResponse getBoshResponse(Stanza stanza, Long ack)", "full_signature": "protected BoshResponse getBoshResponse(Stanza stanza, Long ack)", "class_method_signature": "BoshBackedSessionContext.getBoshResponse(Stanza stanza, Long ack)", "testcase": false, "constructor": false}, {"identifier": "queueRequest", "parameters": "(BoshRequest br)", "modifiers": "protected", "return": "void", "signature": "void queueRequest(BoshRequest br)", "full_signature": "protected void queueRequest(BoshRequest br)", "class_method_signature": "BoshBackedSessionContext.queueRequest(BoshRequest br)", "testcase": false, "constructor": false}, {"identifier": "saveResponse", "parameters": "(final BoshRequest boshRequest, final BoshResponse boshResponse)", "modifiers": "protected", "return": "AsyncContext", "signature": "AsyncContext saveResponse(final BoshRequest boshRequest, final BoshResponse boshResponse)", "full_signature": "protected AsyncContext saveResponse(final BoshRequest boshRequest, final BoshResponse boshResponse)", "class_method_signature": "BoshBackedSessionContext.saveResponse(final BoshRequest boshRequest, final BoshResponse boshResponse)", "testcase": false, "constructor": false}], "file": "server/extensions/xep0124-xep0206-bosh/src/main/java/org/apache/vysper/xmpp/extension/xep0124/BoshBackedSessionContext.java"}, "focal_method": {"identifier": "requestExpired", "parameters": "(final AsyncContext context)", "modifiers": "private", "return": "void", "body": "private void requestExpired(final AsyncContext context) {\n        final BoshRequest req =\n                (BoshRequest) context.getRequest().getAttribute(BOSH_REQUEST_ATTRIBUTE);\n        if (req == null) {\n            LOGGER.warn(\"SID = \" + getSessionId() + \" - Continuation expired without having \"\n                    + \"an associated request!\");\n            return;\n        }\n        LOGGER.debug(\"SID = \" + getSessionId() + \" - rid = {} - BOSH request expired\", req.getRid());\n        while (!requestsWindow.isEmpty() && requestsWindow.firstRid() <= req.getRid()) {\n            writeBoshResponse(BoshStanzaUtils.EMPTY_BOSH_RESPONSE);\n        }\n    }", "signature": "void requestExpired(final AsyncContext context)", "full_signature": "private void requestExpired(final AsyncContext context)", "class_method_signature": "BoshBackedSessionContext.requestExpired(final AsyncContext context)", "testcase": false, "constructor": false, "invocations": ["getAttribute", "getRequest", "warn", "getSessionId", "debug", "getSessionId", "getRid", "isEmpty", "firstRid", "getRid", "writeBoshResponse"]}, "repository": {"repo_id": 165370485, "url": "https://github.com/apache/mina-vysper", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 8, "size": 29305, "license": "licensed"}}