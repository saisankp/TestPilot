{"test_class": {"identifier": "UserServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "MockMvc mockMvc;", "modifier": "", "type": "MockMvc", "declarator": "mockMvc", "var_name": "mockMvc"}, {"original_string": "@InjectMocks\n\tUserService service;", "modifier": "@InjectMocks", "type": "UserService", "declarator": "service", "var_name": "service"}, {"original_string": "@Mock\n\tUserRepository repo;", "modifier": "@Mock", "type": "UserRepository", "declarator": "repo", "var_name": "repo"}], "file": "user-service/src/test/java/io/pivotal/user/service/UserServiceTest.java"}, "test_case": {"identifier": "doFindNullAccountByAuthToken", "parameters": "()", "modifiers": "@Test(expected=AuthenticationException.class) public", "return": "void", "body": "@Test(expected=AuthenticationException.class)\n\tpublic void doFindNullAccountByAuthToken() {\n\t\twhen(repo.findByAuthtoken(\"faef8649-280d-4ba4-bdf6-574e758a04a8\")).thenReturn(null);\n\t\t\n\t\tservice.findAccountprofileByAuthtoken(\"faef8649-280d-4ba4-bdf6-574e758a04a8\");\n\t}", "signature": "void doFindNullAccountByAuthToken()", "full_signature": "@Test(expected=AuthenticationException.class) public void doFindNullAccountByAuthToken()", "class_method_signature": "UserServiceTest.doFindNullAccountByAuthToken()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "findByAuthtoken", "findAccountprofileByAuthtoken"]}, "focal_class": {"identifier": "UserService", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger logger = LoggerFactory\n\t\t\t.getLogger(UserService.class);", "modifier": "private static final", "type": "Logger", "declarator": "logger = LoggerFactory\n\t\t\t.getLogger(UserService.class)", "var_name": "logger"}, {"original_string": "@Autowired\n\tUserRepository user;", "modifier": "@Autowired", "type": "UserRepository", "declarator": "user", "var_name": "user"}], "methods": [{"identifier": "findUser", "parameters": "(Integer id)", "modifiers": "public", "return": "User", "signature": "User findUser(Integer id)", "full_signature": "public User findUser(Integer id)", "class_method_signature": "UserService.findUser(Integer id)", "testcase": false, "constructor": false}, {"identifier": "findUser", "parameters": "(String username)", "modifiers": "public", "return": "User", "signature": "User findUser(String username)", "full_signature": "public User findUser(String username)", "class_method_signature": "UserService.findUser(String username)", "testcase": false, "constructor": false}, {"identifier": "findAccountprofileByAuthtoken", "parameters": "(String token)", "modifiers": "@Cacheable(value = \"authorizationCache\") public", "return": "User", "signature": "User findAccountprofileByAuthtoken(String token)", "full_signature": "@Cacheable(value = \"authorizationCache\") public User findAccountprofileByAuthtoken(String token)", "class_method_signature": "UserService.findAccountprofileByAuthtoken(String token)", "testcase": false, "constructor": false}, {"identifier": "saveUser", "parameters": "(User userRequest)", "modifiers": "public", "return": "Integer", "signature": "Integer saveUser(User userRequest)", "full_signature": "public Integer saveUser(User userRequest)", "class_method_signature": "UserService.saveUser(User userRequest)", "testcase": false, "constructor": false}, {"identifier": "login", "parameters": "(String username, String password)", "modifiers": "public", "return": "Map<String, Object>", "signature": "Map<String, Object> login(String username, String password)", "full_signature": "public Map<String, Object> login(String username, String password)", "class_method_signature": "UserService.login(String username, String password)", "testcase": false, "constructor": false}, {"identifier": "logout", "parameters": "(String userId)", "modifiers": "public", "return": "User", "signature": "User logout(String userId)", "full_signature": "public User logout(String userId)", "class_method_signature": "UserService.logout(String userId)", "testcase": false, "constructor": false}], "file": "user-service/src/main/java/io/pivotal/user/service/UserService.java"}, "focal_method": {"identifier": "findAccountprofileByAuthtoken", "parameters": "(String token)", "modifiers": "@Cacheable(value = \"authorizationCache\") public", "return": "User", "body": "@Cacheable(value = \"authorizationCache\")\n\tpublic User findAccountprofileByAuthtoken(String token) {\n\t\tlogger.debug(\"UserService.findAccountprofileByAuthtoken looking for authToken: \"\n\t\t\t\t+ token);\n\t\tif (token == null) {\n\t\t\t// TODO: no point in checking database. throw exception here.\n\t\t\tlogger.error(\"UserService.findAccountprofileByAuthtoken(): token is null\");\n\t\t\tthrow new AuthenticationException(\"Authorization Token is null\");\n\t\t}\n\t\tUser accountProfile = null;\n\t\taccountProfile = user.findByAuthtoken(token);\n\t\tif (accountProfile == null) {\n\t\t\tlogger.error(\"UserService.findAccountprofileByAuthtoken(): accountProfile is null for token=\"\n\t\t\t\t\t+ token);\n\t\t\tthrow new AuthenticationException(\"Authorization Token not found\");\n\t\t}\n\n\t\treturn accountProfile;\n\t}", "signature": "User findAccountprofileByAuthtoken(String token)", "full_signature": "@Cacheable(value = \"authorizationCache\") public User findAccountprofileByAuthtoken(String token)", "class_method_signature": "UserService.findAccountprofileByAuthtoken(String token)", "testcase": false, "constructor": false, "invocations": ["debug", "error", "findByAuthtoken", "error"]}, "repository": {"repo_id": 143926791, "url": "https://github.com/Pivotal-Field-Engineering/pivotal-bank-demo", "language": "Java", "is_fork": false, "fork_count": 48, "stargazer_count": 35, "size": 45556, "license": "licensed"}}