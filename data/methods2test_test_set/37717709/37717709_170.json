{"test_class": {"identifier": "TestFieldFormItem", "superclass": "", "interfaces": "", "fields": [{"original_string": "private VoiceXmlInterpreterContext context;", "modifier": "private", "type": "VoiceXmlInterpreterContext", "declarator": "context", "var_name": "context"}, {"original_string": "private VoiceXmlDocument document;", "modifier": "private", "type": "VoiceXmlDocument", "declarator": "document", "var_name": "document"}, {"original_string": "private Field field;", "modifier": "private", "type": "Field", "declarator": "field", "var_name": "field"}, {"original_string": "private FieldFormItem item;", "modifier": "private", "type": "FieldFormItem", "declarator": "item", "var_name": "item"}], "file": "org.jvoicexml/src/test/java/org/jvoicexml/interpreter/formitem/TestFieldFormItem.java"}, "test_case": {"identifier": "setFormItemVariable", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void setFormItemVariable() throws JVoiceXMLEvent {\n        final DataModel model = Mockito.mock(DataModel.class);\n        Mockito.when(context.getDataModel()).thenReturn(model);\n\n        final String value = \"test\";\n        item.setFormItemVariable(value);\n        Mockito.verify(model).updateVariable(item.getName(), value);\n        final LastResult result = new LastResult(value);\n        Mockito.verify(model).updateVariable(item.getName() + \"$\", result);\n    }", "signature": "void setFormItemVariable()", "full_signature": "@Test public void setFormItemVariable()", "class_method_signature": "TestFieldFormItem.setFormItemVariable()", "testcase": true, "constructor": false, "invocations": ["mock", "thenReturn", "when", "getDataModel", "setFormItemVariable", "updateVariable", "verify", "getName", "updateVariable", "verify", "getName"]}, "focal_class": {"identifier": "FieldFormItem", "superclass": "extends AbstractGrammarContainer", "interfaces": "", "fields": [{"original_string": "private static final Logger LOGGER =\n            LogManager.getLogger(FieldFormItem.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER =\n            LogManager.getLogger(FieldFormItem.class)", "var_name": "LOGGER"}, {"original_string": "private OptionConverter converter;", "modifier": "private", "type": "OptionConverter", "declarator": "converter", "var_name": "converter"}], "methods": [{"identifier": "FieldFormItem", "parameters": "()", "modifiers": "public", "return": "", "signature": " FieldFormItem()", "full_signature": "public  FieldFormItem()", "class_method_signature": "FieldFormItem.FieldFormItem()", "testcase": false, "constructor": true}, {"identifier": "FieldFormItem", "parameters": "(final VoiceXmlInterpreterContext context,\n            final VoiceXmlNode voiceNode)", "modifiers": "public", "return": "", "signature": " FieldFormItem(final VoiceXmlInterpreterContext context,\n            final VoiceXmlNode voiceNode)", "full_signature": "public  FieldFormItem(final VoiceXmlInterpreterContext context,\n            final VoiceXmlNode voiceNode)", "class_method_signature": "FieldFormItem.FieldFormItem(final VoiceXmlInterpreterContext context,\n            final VoiceXmlNode voiceNode)", "testcase": false, "constructor": true}, {"identifier": "newInstance", "parameters": "(final VoiceXmlInterpreterContext ctx,\n            final VoiceXmlNode voiceNode)", "modifiers": "@Override public", "return": "AbstractFormItem", "signature": "AbstractFormItem newInstance(final VoiceXmlInterpreterContext ctx,\n            final VoiceXmlNode voiceNode)", "full_signature": "@Override public AbstractFormItem newInstance(final VoiceXmlInterpreterContext ctx,\n            final VoiceXmlNode voiceNode)", "class_method_signature": "FieldFormItem.newInstance(final VoiceXmlInterpreterContext ctx,\n            final VoiceXmlNode voiceNode)", "testcase": false, "constructor": false}, {"identifier": "setOptionConverter", "parameters": "(final OptionConverter optionConverter)", "modifiers": "public", "return": "void", "signature": "void setOptionConverter(final OptionConverter optionConverter)", "full_signature": "public void setOptionConverter(final OptionConverter optionConverter)", "class_method_signature": "FieldFormItem.setOptionConverter(final OptionConverter optionConverter)", "testcase": false, "constructor": false}, {"identifier": "accept", "parameters": "(final FormItemVisitor visitor)", "modifiers": "public", "return": "void", "signature": "void accept(final FormItemVisitor visitor)", "full_signature": "public void accept(final FormItemVisitor visitor)", "class_method_signature": "FieldFormItem.accept(final FormItemVisitor visitor)", "testcase": false, "constructor": false}, {"identifier": "setFormItemVariable", "parameters": "(final RecognitionResult result)", "modifiers": "public", "return": "int", "signature": "int setFormItemVariable(final RecognitionResult result)", "full_signature": "public int setFormItemVariable(final RecognitionResult result)", "class_method_signature": "FieldFormItem.setFormItemVariable(final RecognitionResult result)", "testcase": false, "constructor": false}, {"identifier": "setFormItemVariable", "parameters": "(final String utterance)", "modifiers": "public", "return": "int", "signature": "int setFormItemVariable(final String utterance)", "full_signature": "public int setFormItemVariable(final String utterance)", "class_method_signature": "FieldFormItem.setFormItemVariable(final String utterance)", "testcase": false, "constructor": false}, {"identifier": "toLastResult", "parameters": "(final DataModel model,\n            final RecognitionResult result)", "modifiers": "private", "return": "LastResult", "signature": "LastResult toLastResult(final DataModel model,\n            final RecognitionResult result)", "full_signature": "private LastResult toLastResult(final DataModel model,\n            final RecognitionResult result)", "class_method_signature": "FieldFormItem.toLastResult(final DataModel model,\n            final RecognitionResult result)", "testcase": false, "constructor": false}, {"identifier": "setFormItemVariable", "parameters": "(final Object value)", "modifiers": "@Override public", "return": "int", "signature": "int setFormItemVariable(final Object value)", "full_signature": "@Override public int setFormItemVariable(final Object value)", "class_method_signature": "FieldFormItem.setFormItemVariable(final Object value)", "testcase": false, "constructor": false}, {"identifier": "getField", "parameters": "()", "modifiers": "private", "return": "Field", "signature": "Field getField()", "full_signature": "private Field getField()", "class_method_signature": "FieldFormItem.getField()", "testcase": false, "constructor": false}, {"identifier": "addCustomGrammars", "parameters": "(final Collection<Grammar> grammars)", "modifiers": "@Override protected", "return": "void", "signature": "void addCustomGrammars(final Collection<Grammar> grammars)", "full_signature": "@Override protected void addCustomGrammars(final Collection<Grammar> grammars)", "class_method_signature": "FieldFormItem.addCustomGrammars(final Collection<Grammar> grammars)", "testcase": false, "constructor": false}, {"identifier": "addCustomBuiltinGrammars", "parameters": "(final Collection<Grammar> grammars,\n            final Field field, final Locale locale)", "modifiers": "private", "return": "void", "signature": "void addCustomBuiltinGrammars(final Collection<Grammar> grammars,\n            final Field field, final Locale locale)", "full_signature": "private void addCustomBuiltinGrammars(final Collection<Grammar> grammars,\n            final Field field, final Locale locale)", "class_method_signature": "FieldFormItem.addCustomBuiltinGrammars(final Collection<Grammar> grammars,\n            final Field field, final Locale locale)", "testcase": false, "constructor": false}, {"identifier": "addCustomOptionGrammars", "parameters": "(final Collection<Grammar> grammars,\n            final Field field, final Locale locale)", "modifiers": "private", "return": "void", "signature": "void addCustomOptionGrammars(final Collection<Grammar> grammars,\n            final Field field, final Locale locale)", "full_signature": "private void addCustomOptionGrammars(final Collection<Grammar> grammars,\n            final Field field, final Locale locale)", "class_method_signature": "FieldFormItem.addCustomOptionGrammars(final Collection<Grammar> grammars,\n            final Field field, final Locale locale)", "testcase": false, "constructor": false}, {"identifier": "addCustomGrammar", "parameters": "(final Field field, final String type,\n            final Locale language)", "modifiers": "private", "return": "Grammar", "signature": "Grammar addCustomGrammar(final Field field, final String type,\n            final Locale language)", "full_signature": "private Grammar addCustomGrammar(final Field field, final String type,\n            final Locale language)", "class_method_signature": "FieldFormItem.addCustomGrammar(final Field field, final String type,\n            final Locale language)", "testcase": false, "constructor": false}, {"identifier": "getSlot", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getSlot()", "full_signature": "public String getSlot()", "class_method_signature": "FieldFormItem.getSlot()", "testcase": false, "constructor": false}, {"identifier": "isModal", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isModal()", "full_signature": "public boolean isModal()", "class_method_signature": "FieldFormItem.isModal()", "testcase": false, "constructor": false}], "file": "org.jvoicexml/src/main/java/org/jvoicexml/interpreter/formitem/FieldFormItem.java"}, "focal_method": {"identifier": "setFormItemVariable", "parameters": "(final RecognitionResult result)", "modifiers": "public", "return": "int", "body": "public int setFormItemVariable(final RecognitionResult result)\n            throws SemanticError {\n        // Propagate the result to the field's shadow variable container.\n        final VoiceXmlInterpreterContext context = getContext();\n        final DataModel model = context.getDataModel();\n        final String shadowVariableName = getShadowVarContainerName();\n        final LastResult lastresult = toLastResult(model, result);\n        model.updateVariable(shadowVariableName, lastresult);\n\n        // Check for semantic interpretation\n        final Object interpretation = result.getSemanticInterpretation(model);\n        if (interpretation == null) {\n            final String utterance = result.getUtterance();\n            return super.setFormItemVariable(utterance);\n        } else {\n            // Check if the we need to pick a subproperty of the semantic\n            // interpretation\n            final String slot = getSlot();\n            final String slotPath = \"application.lastresult$.interpretation.\"\n                    + slot;\n            if (model.existsVariable(slotPath)) {\n                final Object value = model.readVariable(slotPath, Object.class);\n                return super.setFormItemVariable(value);\n            } else {\n                return super.setFormItemVariable(interpretation);\n            }\n        }\n    }", "signature": "int setFormItemVariable(final RecognitionResult result)", "full_signature": "public int setFormItemVariable(final RecognitionResult result)", "class_method_signature": "FieldFormItem.setFormItemVariable(final RecognitionResult result)", "testcase": false, "constructor": false, "invocations": ["getContext", "getDataModel", "getShadowVarContainerName", "toLastResult", "updateVariable", "getSemanticInterpretation", "getUtterance", "setFormItemVariable", "getSlot", "existsVariable", "readVariable", "setFormItemVariable", "setFormItemVariable"]}, "repository": {"repo_id": 37717709, "url": "https://github.com/JVoiceXML/JVoiceXML", "language": "Java", "is_fork": false, "fork_count": 32, "stargazer_count": 50, "size": 436089, "license": "licensed"}}