{"test_class": {"identifier": "DefaultTychoResolverTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private DefaultTychoResolver defaultTychoResolver;", "modifier": "private", "type": "DefaultTychoResolver", "declarator": "defaultTychoResolver", "var_name": "defaultTychoResolver"}], "file": "tycho-core/src/test/java/org/eclipse/tycho/core/resolver/DefaultTychoResolverTest.java"}, "test_case": {"identifier": "testTychoEnvironmentPropertiesGetSet", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testTychoEnvironmentPropertiesGetSet() {\n        System.setProperty(\"os.name\", PlatformPropertiesUtils.INTERNAL_OS_LINUX);\n        System.setProperty(\"os.arch\", PlatformPropertiesUtils.INTERNAL_AMD64);\n\n        MavenProject project = mock(MavenProject.class);\n        Properties mergedProperties = new Properties();\n        Properties projectProperties = new Properties();\n        when(project.getProperties()).thenReturn(projectProperties);\n\n        defaultTychoResolver.setTychoEnvironmentProperties(mergedProperties, project);\n\n        Object ws = projectProperties.getProperty(DefaultTychoResolver.TYCHO_ENV_OSGI_WS);\n        Object os = projectProperties.getProperty(DefaultTychoResolver.TYCHO_ENV_OSGI_OS);\n        Object arch = projectProperties.getProperty(DefaultTychoResolver.TYCHO_ENV_OSGI_ARCH);\n\n        Assert.assertEquals(3, projectProperties.size());\n        Assert.assertEquals(PlatformPropertiesUtils.ARCH_X86_64, arch);\n        Assert.assertEquals(PlatformPropertiesUtils.OS_LINUX, os);\n        Assert.assertEquals(PlatformPropertiesUtils.WS_GTK, ws);\n    }", "signature": "void testTychoEnvironmentPropertiesGetSet()", "full_signature": "@Test public void testTychoEnvironmentPropertiesGetSet()", "class_method_signature": "DefaultTychoResolverTest.testTychoEnvironmentPropertiesGetSet()", "testcase": true, "constructor": false, "invocations": ["setProperty", "setProperty", "mock", "thenReturn", "when", "getProperties", "setTychoEnvironmentProperties", "getProperty", "getProperty", "getProperty", "assertEquals", "size", "assertEquals", "assertEquals", "assertEquals"]}, "focal_class": {"identifier": "DefaultTychoResolver", "superclass": "", "interfaces": "implements TychoResolver", "fields": [{"original_string": "@Requirement\n    private Logger logger;", "modifier": "@Requirement\n    private", "type": "Logger", "declarator": "logger", "var_name": "logger"}, {"original_string": "@Requirement\n    private DefaultTargetPlatformConfigurationReader configurationReader;", "modifier": "@Requirement\n    private", "type": "DefaultTargetPlatformConfigurationReader", "declarator": "configurationReader", "var_name": "configurationReader"}, {"original_string": "@Requirement\n    private DefaultDependencyResolverFactory dependencyResolverLocator;", "modifier": "@Requirement\n    private", "type": "DefaultDependencyResolverFactory", "declarator": "dependencyResolverLocator", "var_name": "dependencyResolverLocator"}, {"original_string": "@Requirement(role = TychoProject.class)\n    private Map<String, TychoProject> projectTypes;", "modifier": "@Requirement(role = TychoProject.class)\n    private", "type": "Map<String, TychoProject>", "declarator": "projectTypes", "var_name": "projectTypes"}, {"original_string": "@Requirement\n    private ToolchainManager toolchainManager;", "modifier": "@Requirement\n    private", "type": "ToolchainManager", "declarator": "toolchainManager", "var_name": "toolchainManager"}, {"original_string": "public static final String TYCHO_ENV_OSGI_WS = \"tycho.env.osgi.ws\";", "modifier": "public static final", "type": "String", "declarator": "TYCHO_ENV_OSGI_WS = \"tycho.env.osgi.ws\"", "var_name": "TYCHO_ENV_OSGI_WS"}, {"original_string": "public static final String TYCHO_ENV_OSGI_OS = \"tycho.env.osgi.os\";", "modifier": "public static final", "type": "String", "declarator": "TYCHO_ENV_OSGI_OS = \"tycho.env.osgi.os\"", "var_name": "TYCHO_ENV_OSGI_OS"}, {"original_string": "public static final String TYCHO_ENV_OSGI_ARCH = \"tycho.env.osgi.arch\";", "modifier": "public static final", "type": "String", "declarator": "TYCHO_ENV_OSGI_ARCH = \"tycho.env.osgi.arch\"", "var_name": "TYCHO_ENV_OSGI_ARCH"}, {"original_string": "public static final String PROPERTY_PREFIX = \"pom.model.property.\";", "modifier": "public static final", "type": "String", "declarator": "PROPERTY_PREFIX = \"pom.model.property.\"", "var_name": "PROPERTY_PREFIX"}], "methods": [{"identifier": "setupProject", "parameters": "(MavenSession session, MavenProject project, ReactorProject reactorProject)", "modifiers": "@Override public", "return": "void", "signature": "void setupProject(MavenSession session, MavenProject project, ReactorProject reactorProject)", "full_signature": "@Override public void setupProject(MavenSession session, MavenProject project, ReactorProject reactorProject)", "class_method_signature": "DefaultTychoResolver.setupProject(MavenSession session, MavenProject project, ReactorProject reactorProject)", "testcase": false, "constructor": false}, {"identifier": "resolveProject", "parameters": "(MavenSession session, MavenProject project, List<ReactorProject> reactorProjects)", "modifiers": "@Override public", "return": "void", "signature": "void resolveProject(MavenSession session, MavenProject project, List<ReactorProject> reactorProjects)", "full_signature": "@Override public void resolveProject(MavenSession session, MavenProject project, List<ReactorProject> reactorProjects)", "class_method_signature": "DefaultTychoResolver.resolveProject(MavenSession session, MavenProject project, List<ReactorProject> reactorProjects)", "testcase": false, "constructor": false}, {"identifier": "traverse", "parameters": "(MavenProject project, final DependencyVisitor visitor)", "modifiers": "@Override public", "return": "void", "signature": "void traverse(MavenProject project, final DependencyVisitor visitor)", "full_signature": "@Override public void traverse(MavenProject project, final DependencyVisitor visitor)", "class_method_signature": "DefaultTychoResolver.traverse(MavenProject project, final DependencyVisitor visitor)", "testcase": false, "constructor": false}, {"identifier": "setTychoEnvironmentProperties", "parameters": "(Properties properties, MavenProject project)", "modifiers": "protected", "return": "void", "signature": "void setTychoEnvironmentProperties(Properties properties, MavenProject project)", "full_signature": "protected void setTychoEnvironmentProperties(Properties properties, MavenProject project)", "class_method_signature": "DefaultTychoResolver.setTychoEnvironmentProperties(Properties properties, MavenProject project)", "testcase": false, "constructor": false}, {"identifier": "setBuildProperties", "parameters": "(MavenProject project)", "modifiers": "protected", "return": "void", "signature": "void setBuildProperties(MavenProject project)", "full_signature": "protected void setBuildProperties(MavenProject project)", "class_method_signature": "DefaultTychoResolver.setBuildProperties(MavenProject project)", "testcase": false, "constructor": false}], "file": "tycho-core/src/main/java/org/eclipse/tycho/core/resolver/DefaultTychoResolver.java"}, "focal_method": {"identifier": "setTychoEnvironmentProperties", "parameters": "(Properties properties, MavenProject project)", "modifiers": "protected", "return": "void", "body": "protected void setTychoEnvironmentProperties(Properties properties, MavenProject project) {\n        String arch = PlatformPropertiesUtils.getArch(properties);\n        String os = PlatformPropertiesUtils.getOS(properties);\n        String ws = PlatformPropertiesUtils.getWS(properties);\n        project.getProperties().put(TYCHO_ENV_OSGI_WS, ws);\n        project.getProperties().put(TYCHO_ENV_OSGI_OS, os);\n        project.getProperties().put(TYCHO_ENV_OSGI_ARCH, arch);\n    }", "signature": "void setTychoEnvironmentProperties(Properties properties, MavenProject project)", "full_signature": "protected void setTychoEnvironmentProperties(Properties properties, MavenProject project)", "class_method_signature": "DefaultTychoResolver.setTychoEnvironmentProperties(Properties properties, MavenProject project)", "testcase": false, "constructor": false, "invocations": ["getArch", "getOS", "getWS", "put", "getProperties", "put", "getProperties", "put", "getProperties"]}, "repository": {"repo_id": 2666698, "url": "https://github.com/eclipse/tycho", "language": "Java", "is_fork": false, "fork_count": 67, "stargazer_count": 61, "size": 22429, "license": "licensed"}}