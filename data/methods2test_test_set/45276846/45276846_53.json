{"test_class": {"identifier": "TestQueryTaskUtils", "superclass": "", "interfaces": "", "fields": [], "file": "xenon-common/src/test/java/com/vmware/xenon/services/common/TestQueryTaskUtils.java"}, "test_case": {"identifier": "testGetMultiLevelNestedQueryPropertyNames", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetMultiLevelNestedQueryPropertyNames() throws Throwable {\n        ServiceDocumentDescription desc = Builder.create().buildDescription(\n                ComplexServiceState.class);\n        Set<String> queryPropertyNames = QueryTaskUtils.getExpandedQueryPropertyNames(desc);\n\n        Set<String> expectedPropertyNames = new HashSet<>();\n        expectedPropertyNames.add(\"name\");\n\n        expectedPropertyNames.add(\"innerServices.item.nameInner\");\n\n        expectedPropertyNames.add(\"singleInnerService.nameInner\");\n        expectedPropertyNames.add(\"singleInnerService.singleInnerService.nameSecondInner\");\n\n        assertEquals(expectedPropertyNames, queryPropertyNames);\n    }", "signature": "void testGetMultiLevelNestedQueryPropertyNames()", "full_signature": "@Test public void testGetMultiLevelNestedQueryPropertyNames()", "class_method_signature": "TestQueryTaskUtils.testGetMultiLevelNestedQueryPropertyNames()", "testcase": true, "constructor": false, "invocations": ["buildDescription", "create", "getExpandedQueryPropertyNames", "add", "add", "add", "add", "assertEquals"]}, "focal_class": {"identifier": "QueryTaskUtils", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final int MAX_NEST_LEVEL_EXPAND_PROPERTY = 2;", "modifier": "private static final", "type": "int", "declarator": "MAX_NEST_LEVEL_EXPAND_PROPERTY = 2", "var_name": "MAX_NEST_LEVEL_EXPAND_PROPERTY"}], "methods": [{"identifier": "QueryTaskUtils", "parameters": "()", "modifiers": "private", "return": "", "signature": " QueryTaskUtils()", "full_signature": "private  QueryTaskUtils()", "class_method_signature": "QueryTaskUtils.QueryTaskUtils()", "testcase": false, "constructor": true}, {"identifier": "mergeCountQueries", "parameters": "(\n            List<ServiceDocumentQueryResult> dataSources, ServiceDocumentQueryResult result)", "modifiers": "private static", "return": "void", "signature": "void mergeCountQueries(\n            List<ServiceDocumentQueryResult> dataSources, ServiceDocumentQueryResult result)", "full_signature": "private static void mergeCountQueries(\n            List<ServiceDocumentQueryResult> dataSources, ServiceDocumentQueryResult result)", "class_method_signature": "QueryTaskUtils.mergeCountQueries(\n            List<ServiceDocumentQueryResult> dataSources, ServiceDocumentQueryResult result)", "testcase": false, "constructor": false}, {"identifier": "processQueryResults", "parameters": "(ServiceHost host,\n            List<ServiceDocumentQueryResult> dataSources,\n            boolean isAscOrder, EnumSet<QueryOption> queryOptions,\n            NodeGroupBroadcastResponse nodeGroupResponse, ServiceDocumentQueryResult result,\n            BiConsumer<ServiceDocumentQueryResult, Throwable> onCompletion)", "modifiers": "public static", "return": "void", "signature": "void processQueryResults(ServiceHost host,\n            List<ServiceDocumentQueryResult> dataSources,\n            boolean isAscOrder, EnumSet<QueryOption> queryOptions,\n            NodeGroupBroadcastResponse nodeGroupResponse, ServiceDocumentQueryResult result,\n            BiConsumer<ServiceDocumentQueryResult, Throwable> onCompletion)", "full_signature": "public static void processQueryResults(ServiceHost host,\n            List<ServiceDocumentQueryResult> dataSources,\n            boolean isAscOrder, EnumSet<QueryOption> queryOptions,\n            NodeGroupBroadcastResponse nodeGroupResponse, ServiceDocumentQueryResult result,\n            BiConsumer<ServiceDocumentQueryResult, Throwable> onCompletion)", "class_method_signature": "QueryTaskUtils.processQueryResults(ServiceHost host,\n            List<ServiceDocumentQueryResult> dataSources,\n            boolean isAscOrder, EnumSet<QueryOption> queryOptions,\n            NodeGroupBroadcastResponse nodeGroupResponse, ServiceDocumentQueryResult result,\n            BiConsumer<ServiceDocumentQueryResult, Throwable> onCompletion)", "testcase": false, "constructor": false}, {"identifier": "mergeQueryResults", "parameters": "(\n            List<ServiceDocumentQueryResult> dataSources, boolean isAscOrder, ServiceDocumentQueryResult result)", "modifiers": "public static", "return": "void", "signature": "void mergeQueryResults(\n            List<ServiceDocumentQueryResult> dataSources, boolean isAscOrder, ServiceDocumentQueryResult result)", "full_signature": "public static void mergeQueryResults(\n            List<ServiceDocumentQueryResult> dataSources, boolean isAscOrder, ServiceDocumentQueryResult result)", "class_method_signature": "QueryTaskUtils.mergeQueryResults(\n            List<ServiceDocumentQueryResult> dataSources, boolean isAscOrder, ServiceDocumentQueryResult result)", "testcase": false, "constructor": false}, {"identifier": "mergeQueryResults", "parameters": "(\n            List<ServiceDocumentQueryResult> dataSources,\n            boolean isAscOrder, EnumSet<QueryOption> queryOptions, ServiceDocumentQueryResult result)", "modifiers": "public static", "return": "void", "signature": "void mergeQueryResults(\n            List<ServiceDocumentQueryResult> dataSources,\n            boolean isAscOrder, EnumSet<QueryOption> queryOptions, ServiceDocumentQueryResult result)", "full_signature": "public static void mergeQueryResults(\n            List<ServiceDocumentQueryResult> dataSources,\n            boolean isAscOrder, EnumSet<QueryOption> queryOptions, ServiceDocumentQueryResult result)", "class_method_signature": "QueryTaskUtils.mergeQueryResults(\n            List<ServiceDocumentQueryResult> dataSources,\n            boolean isAscOrder, EnumSet<QueryOption> queryOptions, ServiceDocumentQueryResult result)", "testcase": false, "constructor": false}, {"identifier": "mergeForReadAfterWriteConsistency", "parameters": "(\n            ServiceHost host,\n            List<ServiceDocumentQueryResult> dataSources,\n            boolean isAscOrder, EnumSet<QueryOption> queryOptions,\n            NodeGroupBroadcastResponse nodeGroupResponse,\n            ServiceDocumentQueryResult returnResult,\n            BiConsumer<ServiceDocumentQueryResult, Throwable> onCompletion)", "modifiers": "private static", "return": "void", "signature": "void mergeForReadAfterWriteConsistency(\n            ServiceHost host,\n            List<ServiceDocumentQueryResult> dataSources,\n            boolean isAscOrder, EnumSet<QueryOption> queryOptions,\n            NodeGroupBroadcastResponse nodeGroupResponse,\n            ServiceDocumentQueryResult returnResult,\n            BiConsumer<ServiceDocumentQueryResult, Throwable> onCompletion)", "full_signature": "private static void mergeForReadAfterWriteConsistency(\n            ServiceHost host,\n            List<ServiceDocumentQueryResult> dataSources,\n            boolean isAscOrder, EnumSet<QueryOption> queryOptions,\n            NodeGroupBroadcastResponse nodeGroupResponse,\n            ServiceDocumentQueryResult returnResult,\n            BiConsumer<ServiceDocumentQueryResult, Throwable> onCompletion)", "class_method_signature": "QueryTaskUtils.mergeForReadAfterWriteConsistency(\n            ServiceHost host,\n            List<ServiceDocumentQueryResult> dataSources,\n            boolean isAscOrder, EnumSet<QueryOption> queryOptions,\n            NodeGroupBroadcastResponse nodeGroupResponse,\n            ServiceDocumentQueryResult returnResult,\n            BiConsumer<ServiceDocumentQueryResult, Throwable> onCompletion)", "testcase": false, "constructor": false}, {"identifier": "populateResultObject", "parameters": "(Map<String, Object> documents,\n            EnumSet<QueryOption> queryOptions, ServiceDocumentQueryResult returnResult, boolean isAscOrder)", "modifiers": "private static", "return": "ServiceDocumentQueryResult", "signature": "ServiceDocumentQueryResult populateResultObject(Map<String, Object> documents,\n            EnumSet<QueryOption> queryOptions, ServiceDocumentQueryResult returnResult, boolean isAscOrder)", "full_signature": "private static ServiceDocumentQueryResult populateResultObject(Map<String, Object> documents,\n            EnumSet<QueryOption> queryOptions, ServiceDocumentQueryResult returnResult, boolean isAscOrder)", "class_method_signature": "QueryTaskUtils.populateResultObject(Map<String, Object> documents,\n            EnumSet<QueryOption> queryOptions, ServiceDocumentQueryResult returnResult, boolean isAscOrder)", "testcase": false, "constructor": false}, {"identifier": "expandLinks", "parameters": "(ServiceHost host, QueryTask task, Operation op)", "modifiers": "public static", "return": "void", "signature": "void expandLinks(ServiceHost host, QueryTask task, Operation op)", "full_signature": "public static void expandLinks(ServiceHost host, QueryTask task, Operation op)", "class_method_signature": "QueryTaskUtils.expandLinks(ServiceHost host, QueryTask task, Operation op)", "testcase": false, "constructor": false}, {"identifier": "getExpandedQueryPropertyNames", "parameters": "(ServiceDocumentDescription description)", "modifiers": "public static", "return": "Set<String>", "signature": "Set<String> getExpandedQueryPropertyNames(ServiceDocumentDescription description)", "full_signature": "public static Set<String> getExpandedQueryPropertyNames(ServiceDocumentDescription description)", "class_method_signature": "QueryTaskUtils.getExpandedQueryPropertyNames(ServiceDocumentDescription description)", "testcase": false, "constructor": false}, {"identifier": "getExpandedQueryPropertyNames", "parameters": "(\n            Map<String, PropertyDescription> propertyDescriptions, int complexFieldNestLevel)", "modifiers": "private static", "return": "Set<String>", "signature": "Set<String> getExpandedQueryPropertyNames(\n            Map<String, PropertyDescription> propertyDescriptions, int complexFieldNestLevel)", "full_signature": "private static Set<String> getExpandedQueryPropertyNames(\n            Map<String, PropertyDescription> propertyDescriptions, int complexFieldNestLevel)", "class_method_signature": "QueryTaskUtils.getExpandedQueryPropertyNames(\n            Map<String, PropertyDescription> propertyDescriptions, int complexFieldNestLevel)", "testcase": false, "constructor": false}, {"identifier": "getExpandedQueryPropertyNames", "parameters": "(String propertyName,\n            PropertyDescription pd, int complexFieldNestLevel)", "modifiers": "private static", "return": "Set<String>", "signature": "Set<String> getExpandedQueryPropertyNames(String propertyName,\n            PropertyDescription pd, int complexFieldNestLevel)", "full_signature": "private static Set<String> getExpandedQueryPropertyNames(String propertyName,\n            PropertyDescription pd, int complexFieldNestLevel)", "class_method_signature": "QueryTaskUtils.getExpandedQueryPropertyNames(String propertyName,\n            PropertyDescription pd, int complexFieldNestLevel)", "testcase": false, "constructor": false}, {"identifier": "failTask", "parameters": "(Operation get, Throwable ex)", "modifiers": "public static", "return": "void", "signature": "void failTask(Operation get, Throwable ex)", "full_signature": "public static void failTask(Operation get, Throwable ex)", "class_method_signature": "QueryTaskUtils.failTask(Operation get, Throwable ex)", "testcase": false, "constructor": false}], "file": "xenon-common/src/main/java/com/vmware/xenon/services/common/QueryTaskUtils.java"}, "focal_method": {"identifier": "getExpandedQueryPropertyNames", "parameters": "(ServiceDocumentDescription description)", "modifiers": "public static", "return": "Set<String>", "body": "public static Set<String> getExpandedQueryPropertyNames(ServiceDocumentDescription description) {\n        if (description == null) {\n            throw new IllegalArgumentException(\"description is required\");\n        }\n\n        return getExpandedQueryPropertyNames(description.propertyDescriptions,\n                MAX_NEST_LEVEL_EXPAND_PROPERTY);\n    }", "signature": "Set<String> getExpandedQueryPropertyNames(ServiceDocumentDescription description)", "full_signature": "public static Set<String> getExpandedQueryPropertyNames(ServiceDocumentDescription description)", "class_method_signature": "QueryTaskUtils.getExpandedQueryPropertyNames(ServiceDocumentDescription description)", "testcase": false, "constructor": false, "invocations": ["getExpandedQueryPropertyNames"]}, "repository": {"repo_id": 45276846, "url": "https://github.com/vmware-archive/xenon", "language": "Java", "is_fork": false, "fork_count": 97, "stargazer_count": 226, "size": 52010, "license": "licensed"}}