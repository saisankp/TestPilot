{"test_class": {"identifier": "TestThriftLegacySource", "superclass": "", "interfaces": "", "fields": [{"original_string": "private int selectedPort;", "modifier": "private", "type": "int", "declarator": "selectedPort", "var_name": "selectedPort"}, {"original_string": "private ThriftLegacySource source;", "modifier": "private", "type": "ThriftLegacySource", "declarator": "source", "var_name": "source"}, {"original_string": "private Channel channel;", "modifier": "private", "type": "Channel", "declarator": "channel", "var_name": "channel"}], "file": "flume-ng-legacy-sources/flume-thrift-source/src/test/java/org/apache/flume/source/thriftLegacy/TestThriftLegacySource.java"}, "test_case": {"identifier": "testLifecycle", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testLifecycle() throws InterruptedException {\n    bind();\n    stop();\n  }", "signature": "void testLifecycle()", "full_signature": "@Test public void testLifecycle()", "class_method_signature": "TestThriftLegacySource.testLifecycle()", "testcase": true, "constructor": false, "invocations": ["bind", "stop"]}, "focal_class": {"identifier": "ThriftLegacySource", "superclass": "extends AbstractSource", "interfaces": "implements\n    EventDrivenSource, Configurable", "fields": [{"original_string": "static final Logger LOG = LoggerFactory.getLogger(ThriftLegacySource.class);", "modifier": "static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(ThriftLegacySource.class)", "var_name": "LOG"}, {"original_string": "static final String HOST = \"host\";", "modifier": "static final", "type": "String", "declarator": "HOST = \"host\"", "var_name": "HOST"}, {"original_string": "static final String TIMESTAMP = \"timestamp\";", "modifier": "static final", "type": "String", "declarator": "TIMESTAMP = \"timestamp\"", "var_name": "TIMESTAMP"}, {"original_string": "static final String PRIORITY = \"pri\";", "modifier": "static final", "type": "String", "declarator": "PRIORITY = \"pri\"", "var_name": "PRIORITY"}, {"original_string": "static final String NANOS = \"nanos\";", "modifier": "static final", "type": "String", "declarator": "NANOS = \"nanos\"", "var_name": "NANOS"}, {"original_string": "static final String OG_EVENT = \"FlumeOG\";", "modifier": "static final", "type": "String", "declarator": "OG_EVENT = \"FlumeOG\"", "var_name": "OG_EVENT"}, {"original_string": "private CounterGroup counterGroup;", "modifier": "private", "type": "CounterGroup", "declarator": "counterGroup", "var_name": "counterGroup"}, {"original_string": "private String host;", "modifier": "private", "type": "String", "declarator": "host", "var_name": "host"}, {"original_string": "private int port;", "modifier": "private", "type": "int", "declarator": "port", "var_name": "port"}, {"original_string": "private TServer server;", "modifier": "private", "type": "TServer", "declarator": "server", "var_name": "server"}, {"original_string": "private TServerTransport serverTransport;", "modifier": "private", "type": "TServerTransport", "declarator": "serverTransport", "var_name": "serverTransport"}, {"original_string": "private Thread thriftHandlerThread;", "modifier": "private", "type": "Thread", "declarator": "thriftHandlerThread", "var_name": "thriftHandlerThread"}, {"original_string": "private Charset UTF_8 = Charset.forName(\"UTF-8\");", "modifier": "private", "type": "Charset", "declarator": "UTF_8 = Charset.forName(\"UTF-8\")", "var_name": "UTF_8"}], "methods": [{"identifier": "configure", "parameters": "(Context context)", "modifiers": "@Override public", "return": "void", "signature": "void configure(Context context)", "full_signature": "@Override public void configure(Context context)", "class_method_signature": "ThriftLegacySource.configure(Context context)", "testcase": false, "constructor": false}, {"identifier": "ThriftLegacySource", "parameters": "()", "modifiers": "public", "return": "", "signature": " ThriftLegacySource()", "full_signature": "public  ThriftLegacySource()", "class_method_signature": "ThriftLegacySource.ThriftLegacySource()", "testcase": false, "constructor": true}, {"identifier": "start", "parameters": "()", "modifiers": "@SuppressWarnings(\"deprecation\") @Override public", "return": "void", "signature": "void start()", "full_signature": "@SuppressWarnings(\"deprecation\") @Override public void start()", "class_method_signature": "ThriftLegacySource.start()", "testcase": false, "constructor": false}, {"identifier": "stop", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void stop()", "full_signature": "@Override public void stop()", "class_method_signature": "ThriftLegacySource.stop()", "testcase": false, "constructor": false}], "file": "flume-ng-legacy-sources/flume-thrift-source/src/main/java/org/apache/flume/source/thriftLegacy/ThriftLegacySource.java"}, "focal_method": {"identifier": "stop", "parameters": "()", "modifiers": "@Override public", "return": "void", "body": "@Override\n  public void stop() {\n    server.stop();\n    serverTransport.close();\n    try {\n      thriftHandlerThread.join();\n    } catch (InterruptedException eI) {\n      LOG.warn(\"stop interrupted\", eI);\n      return;\n    }\n    super.stop();\n  }", "signature": "void stop()", "full_signature": "@Override public void stop()", "class_method_signature": "ThriftLegacySource.stop()", "testcase": false, "constructor": false, "invocations": ["stop", "close", "join", "warn", "stop"]}, "repository": {"repo_id": 2198510, "url": "https://github.com/apache/flume", "language": "Java", "is_fork": false, "fork_count": 1372, "stargazer_count": 1971, "size": 44377, "license": "licensed"}}