{"test_class": {"identifier": "LocalTemplateDownloaderTest", "superclass": "", "interfaces": "", "fields": [], "file": "nucleo/src/test/java/com/cloud/storage/template/LocalTemplateDownloaderTest.java"}, "test_case": {"identifier": "localTemplateDownloaderTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void localTemplateDownloaderTest() throws Exception {\n    final String url = new File(\"pom.xml\").toURI().toURL().toString();\n    final long defaultMaxTemplateSizeInBytes = TemplateDownloader.DEFAULT_MAX_TEMPLATE_SIZE_IN_BYTES;\n    final String tempDir = System.getProperty(\"java.io.tmpdir\");\n    final TemplateDownloader td = new LocalTemplateDownloader(url, tempDir, defaultMaxTemplateSizeInBytes);\n\n    final long bytes = td.download(true, null);\n\n    assertThat(bytes, greaterThan(0L));\n  }", "signature": "void localTemplateDownloaderTest()", "full_signature": "@Test public void localTemplateDownloaderTest()", "class_method_signature": "LocalTemplateDownloaderTest.localTemplateDownloaderTest()", "testcase": true, "constructor": false, "invocations": ["toString", "toURL", "toURI", "getProperty", "download", "assertThat", "greaterThan"]}, "focal_class": {"identifier": "LocalTemplateDownloader", "superclass": "extends TemplateDownloaderBase", "interfaces": "implements TemplateDownloader", "fields": [{"original_string": "public static final Logger s_logger = LoggerFactory.getLogger(LocalTemplateDownloader.class);", "modifier": "public static final", "type": "Logger", "declarator": "s_logger = LoggerFactory.getLogger(LocalTemplateDownloader.class)", "var_name": "s_logger"}], "methods": [{"identifier": "LocalTemplateDownloader", "parameters": "(StorageLayer storageLayer, String downloadUrl, String toDir,\n      long maxTemplateSizeInBytes, DownloadCompleteCallback callback)", "modifiers": "public", "return": "", "signature": " LocalTemplateDownloader(StorageLayer storageLayer, String downloadUrl, String toDir,\n      long maxTemplateSizeInBytes, DownloadCompleteCallback callback)", "full_signature": "public  LocalTemplateDownloader(StorageLayer storageLayer, String downloadUrl, String toDir,\n      long maxTemplateSizeInBytes, DownloadCompleteCallback callback)", "class_method_signature": "LocalTemplateDownloader.LocalTemplateDownloader(StorageLayer storageLayer, String downloadUrl, String toDir,\n      long maxTemplateSizeInBytes, DownloadCompleteCallback callback)", "testcase": false, "constructor": true}, {"identifier": "LocalTemplateDownloader", "parameters": "(StorageLayer storageLayer, String downloadUrl, String toDir,\n      long maxTemplateSizeInBytes)", "modifiers": "public", "return": "", "signature": " LocalTemplateDownloader(StorageLayer storageLayer, String downloadUrl, String toDir,\n      long maxTemplateSizeInBytes)", "full_signature": "public  LocalTemplateDownloader(StorageLayer storageLayer, String downloadUrl, String toDir,\n      long maxTemplateSizeInBytes)", "class_method_signature": "LocalTemplateDownloader.LocalTemplateDownloader(StorageLayer storageLayer, String downloadUrl, String toDir,\n      long maxTemplateSizeInBytes)", "testcase": false, "constructor": true}, {"identifier": "LocalTemplateDownloader", "parameters": "(String downloadUrl, String toDir, long maxTemplateSizeInBytes)", "modifiers": "public", "return": "", "signature": " LocalTemplateDownloader(String downloadUrl, String toDir, long maxTemplateSizeInBytes)", "full_signature": "public  LocalTemplateDownloader(String downloadUrl, String toDir, long maxTemplateSizeInBytes)", "class_method_signature": "LocalTemplateDownloader.LocalTemplateDownloader(String downloadUrl, String toDir, long maxTemplateSizeInBytes)", "testcase": false, "constructor": true}, {"identifier": "download", "parameters": "(boolean resume, DownloadCompleteCallback callback)", "modifiers": "@Override public", "return": "long", "signature": "long download(boolean resume, DownloadCompleteCallback callback)", "full_signature": "@Override public long download(boolean resume, DownloadCompleteCallback callback)", "class_method_signature": "LocalTemplateDownloader.download(boolean resume, DownloadCompleteCallback callback)", "testcase": false, "constructor": false}], "file": "nucleo/src/main/java/com/cloud/storage/template/LocalTemplateDownloader.java"}, "focal_method": {"identifier": "LocalTemplateDownloader", "parameters": "(StorageLayer storageLayer, String downloadUrl, String toDir,\n      long maxTemplateSizeInBytes, DownloadCompleteCallback callback)", "modifiers": "public", "return": "", "body": "public LocalTemplateDownloader(StorageLayer storageLayer, String downloadUrl, String toDir,\n      long maxTemplateSizeInBytes, DownloadCompleteCallback callback) {\n    super(storageLayer, downloadUrl, toDir, maxTemplateSizeInBytes, callback);\n    final String filename = new File(downloadUrl).getName();\n    _toFile = toDir.endsWith(File.separator) ? toDir + filename : toDir + File.separator + filename;\n  }", "signature": " LocalTemplateDownloader(StorageLayer storageLayer, String downloadUrl, String toDir,\n      long maxTemplateSizeInBytes, DownloadCompleteCallback callback)", "full_signature": "public  LocalTemplateDownloader(StorageLayer storageLayer, String downloadUrl, String toDir,\n      long maxTemplateSizeInBytes, DownloadCompleteCallback callback)", "class_method_signature": "LocalTemplateDownloader.LocalTemplateDownloader(StorageLayer storageLayer, String downloadUrl, String toDir,\n      long maxTemplateSizeInBytes, DownloadCompleteCallback callback)", "testcase": false, "constructor": true, "invocations": []}, "repository": {"repo_id": 49943894, "url": "https://github.com/MissionCriticalCloudOldRepos/cosmic-core", "language": "Java", "is_fork": false, "fork_count": 3, "stargazer_count": 9, "size": 18165, "license": "licensed"}}