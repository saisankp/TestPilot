{"test_class": {"identifier": "UserServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "MockMvc mockMvc;", "modifier": "", "type": "MockMvc", "declarator": "mockMvc", "var_name": "mockMvc"}, {"original_string": "@InjectMocks\n\tUserService service;", "modifier": "@InjectMocks", "type": "UserService", "declarator": "service", "var_name": "service"}, {"original_string": "@Mock\n\tUserRepository repo;", "modifier": "@Mock", "type": "UserRepository", "declarator": "repo", "var_name": "repo"}], "file": "user-service/src/test/java/io/pivotal/user/service/UserServiceTest.java"}, "test_case": {"identifier": "testLogoutNull", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testLogoutNull() {\n\t\twhen(repo.findByUserid(ServiceTestConfiguration.USER_ID)).thenReturn(null);\n\t\t\n\t\tUser result = service.logout(ServiceTestConfiguration.USER_ID);\n\t\t\n\t\tassertNull(result);\n\t}", "signature": "void testLogoutNull()", "full_signature": "@Test public void testLogoutNull()", "class_method_signature": "UserServiceTest.testLogoutNull()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "findByUserid", "logout", "assertNull"]}, "focal_class": {"identifier": "UserService", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger logger = LoggerFactory\n\t\t\t.getLogger(UserService.class);", "modifier": "private static final", "type": "Logger", "declarator": "logger = LoggerFactory\n\t\t\t.getLogger(UserService.class)", "var_name": "logger"}, {"original_string": "@Autowired\n\tUserRepository user;", "modifier": "@Autowired", "type": "UserRepository", "declarator": "user", "var_name": "user"}], "methods": [{"identifier": "findUser", "parameters": "(Integer id)", "modifiers": "public", "return": "User", "signature": "User findUser(Integer id)", "full_signature": "public User findUser(Integer id)", "class_method_signature": "UserService.findUser(Integer id)", "testcase": false, "constructor": false}, {"identifier": "findUser", "parameters": "(String username)", "modifiers": "public", "return": "User", "signature": "User findUser(String username)", "full_signature": "public User findUser(String username)", "class_method_signature": "UserService.findUser(String username)", "testcase": false, "constructor": false}, {"identifier": "findAccountprofileByAuthtoken", "parameters": "(String token)", "modifiers": "@Cacheable(value = \"authorizationCache\") public", "return": "User", "signature": "User findAccountprofileByAuthtoken(String token)", "full_signature": "@Cacheable(value = \"authorizationCache\") public User findAccountprofileByAuthtoken(String token)", "class_method_signature": "UserService.findAccountprofileByAuthtoken(String token)", "testcase": false, "constructor": false}, {"identifier": "saveUser", "parameters": "(User userRequest)", "modifiers": "public", "return": "Integer", "signature": "Integer saveUser(User userRequest)", "full_signature": "public Integer saveUser(User userRequest)", "class_method_signature": "UserService.saveUser(User userRequest)", "testcase": false, "constructor": false}, {"identifier": "login", "parameters": "(String username, String password)", "modifiers": "public", "return": "Map<String, Object>", "signature": "Map<String, Object> login(String username, String password)", "full_signature": "public Map<String, Object> login(String username, String password)", "class_method_signature": "UserService.login(String username, String password)", "testcase": false, "constructor": false}, {"identifier": "logout", "parameters": "(String userId)", "modifiers": "public", "return": "User", "signature": "User logout(String userId)", "full_signature": "public User logout(String userId)", "class_method_signature": "UserService.logout(String userId)", "testcase": false, "constructor": false}], "file": "user-service/src/main/java/io/pivotal/user/service/UserService.java"}, "focal_method": {"identifier": "logout", "parameters": "(String userId)", "modifiers": "public", "return": "User", "body": "public User logout(String userId) {\n\t\tlogger.debug(\"UserService.logout: Logging out account with userId: \"\n\t\t\t\t+ userId);\n\t\tUser account = user.findByUserid(userId);\n\t\tif (account != null) {\n\t\t\taccount.setAuthtoken(null); // remove token\n\t\t\taccount.setLogoutcount(account.getLogoutcount() + 1);\n\t\t\tuser.save(account);\n\t\t\tlogger.info(\"UserService.logout: Account logged out: \"\n\t\t\t\t\t+ account.getUserid());\n\t\t} else {\n\t\t\tlogger.warn(\"UserService.logout: Could not find account to logout with userId: \"\n\t\t\t\t\t+ userId);\n\t\t}\n\t\treturn account;\n\t}", "signature": "User logout(String userId)", "full_signature": "public User logout(String userId)", "class_method_signature": "UserService.logout(String userId)", "testcase": false, "constructor": false, "invocations": ["debug", "findByUserid", "setAuthtoken", "setLogoutcount", "getLogoutcount", "save", "info", "getUserid", "warn"]}, "repository": {"repo_id": 143926791, "url": "https://github.com/Pivotal-Field-Engineering/pivotal-bank-demo", "language": "Java", "is_fork": false, "fork_count": 48, "stargazer_count": 35, "size": 45556, "license": "licensed"}}