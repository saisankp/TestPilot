{"test_class": {"identifier": "GraphHopperRouterTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final PointList pointList = new PointList();", "modifier": "private final", "type": "PointList", "declarator": "pointList = new PointList()", "var_name": "pointList"}, {"original_string": "private final Coordinates from = Coordinates.valueOf(-Double.MIN_VALUE, Double.MIN_VALUE);", "modifier": "private final", "type": "Coordinates", "declarator": "from = Coordinates.valueOf(-Double.MIN_VALUE, Double.MIN_VALUE)", "var_name": "from"}, {"original_string": "private final Coordinates to = Coordinates.valueOf(Double.MAX_VALUE, -Double.MAX_VALUE);", "modifier": "private final", "type": "Coordinates", "declarator": "to = Coordinates.valueOf(Double.MAX_VALUE, -Double.MAX_VALUE)", "var_name": "to"}, {"original_string": "@Mock\n    private GraphHopperOSM graphHopper;", "modifier": "@Mock\n    private", "type": "GraphHopperOSM", "declarator": "graphHopper", "var_name": "graphHopper"}, {"original_string": "@Mock\n    private GHResponse ghResponse;", "modifier": "@Mock\n    private", "type": "GHResponse", "declarator": "ghResponse", "var_name": "ghResponse"}, {"original_string": "@Mock\n    private PathWrapper pathWrapper;", "modifier": "@Mock\n    private", "type": "PathWrapper", "declarator": "pathWrapper", "var_name": "pathWrapper"}, {"original_string": "@Mock\n    private GraphHopperStorage graphHopperStorage;", "modifier": "@Mock\n    private", "type": "GraphHopperStorage", "declarator": "graphHopperStorage", "var_name": "graphHopperStorage"}], "file": "optaweb-vehicle-routing-backend/src/test/java/org/optaweb/vehiclerouting/plugin/routing/GraphHopperRouterTest.java"}, "test_case": {"identifier": "getRoute_should_return_graphhopper_route", "parameters": "()", "modifiers": "@Test", "return": "void", "body": "@Test\n    void getRoute_should_return_graphhopper_route() {\n        // arrange\n        whenRouteReturnResponse();\n        whenBestReturnPath();\n        when(pathWrapper.getPoints()).thenReturn(pointList);\n\n        Coordinates coordinates1 = Coordinates.valueOf(1, 1);\n        Coordinates coordinates2 = Coordinates.valueOf(Math.E, Math.PI);\n        Coordinates coordinates3 = Coordinates.valueOf(0.1, 1.0 / 3.0);\n\n        pointList.add(coordinates1.latitude().doubleValue(), coordinates1.longitude().doubleValue());\n        pointList.add(coordinates2.latitude().doubleValue(), coordinates2.longitude().doubleValue());\n        pointList.add(coordinates3.latitude().doubleValue(), coordinates3.longitude().doubleValue());\n\n        // act & assert\n        List<Coordinates> route = new GraphHopperRouter(graphHopper).getPath(from, to);\n        assertThat(route).containsExactly(\n                coordinates1,\n                coordinates2,\n                coordinates3);\n    }", "signature": "void getRoute_should_return_graphhopper_route()", "full_signature": "@Test void getRoute_should_return_graphhopper_route()", "class_method_signature": "GraphHopperRouterTest.getRoute_should_return_graphhopper_route()", "testcase": true, "constructor": false, "invocations": ["whenRouteReturnResponse", "whenBestReturnPath", "thenReturn", "when", "getPoints", "valueOf", "valueOf", "valueOf", "add", "doubleValue", "latitude", "doubleValue", "longitude", "add", "doubleValue", "latitude", "doubleValue", "longitude", "add", "doubleValue", "latitude", "doubleValue", "longitude", "getPath", "containsExactly", "assertThat"]}, "focal_class": {"identifier": "GraphHopperRouter", "superclass": "", "interfaces": "implements Router, DistanceCalculator, Region", "fields": [{"original_string": "private final GraphHopperOSM graphHopper;", "modifier": "private final", "type": "GraphHopperOSM", "declarator": "graphHopper", "var_name": "graphHopper"}], "methods": [{"identifier": "GraphHopperRouter", "parameters": "(GraphHopperOSM graphHopper)", "modifiers": "@Autowired", "return": "", "signature": " GraphHopperRouter(GraphHopperOSM graphHopper)", "full_signature": "@Autowired  GraphHopperRouter(GraphHopperOSM graphHopper)", "class_method_signature": "GraphHopperRouter.GraphHopperRouter(GraphHopperOSM graphHopper)", "testcase": false, "constructor": true}, {"identifier": "getPath", "parameters": "(Coordinates from, Coordinates to)", "modifiers": "@Override public", "return": "List<Coordinates>", "signature": "List<Coordinates> getPath(Coordinates from, Coordinates to)", "full_signature": "@Override public List<Coordinates> getPath(Coordinates from, Coordinates to)", "class_method_signature": "GraphHopperRouter.getPath(Coordinates from, Coordinates to)", "testcase": false, "constructor": false}, {"identifier": "travelTimeMillis", "parameters": "(Coordinates from, Coordinates to)", "modifiers": "@Override public", "return": "long", "signature": "long travelTimeMillis(Coordinates from, Coordinates to)", "full_signature": "@Override public long travelTimeMillis(Coordinates from, Coordinates to)", "class_method_signature": "GraphHopperRouter.travelTimeMillis(Coordinates from, Coordinates to)", "testcase": false, "constructor": false}, {"identifier": "getBounds", "parameters": "()", "modifiers": "@Override public", "return": "BoundingBox", "signature": "BoundingBox getBounds()", "full_signature": "@Override public BoundingBox getBounds()", "class_method_signature": "GraphHopperRouter.getBounds()", "testcase": false, "constructor": false}], "file": "optaweb-vehicle-routing-backend/src/main/java/org/optaweb/vehiclerouting/plugin/routing/GraphHopperRouter.java"}, "focal_method": {"identifier": "getPath", "parameters": "(Coordinates from, Coordinates to)", "modifiers": "@Override public", "return": "List<Coordinates>", "body": "@Override\n    public List<Coordinates> getPath(Coordinates from, Coordinates to) {\n        GHRequest ghRequest = new GHRequest(\n                from.latitude().doubleValue(),\n                from.longitude().doubleValue(),\n                to.latitude().doubleValue(),\n                to.longitude().doubleValue());\n        PointList points = graphHopper.route(ghRequest).getBest().getPoints();\n        return StreamSupport.stream(points.spliterator(), false)\n                .map(ghPoint3D -> Coordinates.valueOf(ghPoint3D.lat, ghPoint3D.lon))\n                .collect(toList());\n    }", "signature": "List<Coordinates> getPath(Coordinates from, Coordinates to)", "full_signature": "@Override public List<Coordinates> getPath(Coordinates from, Coordinates to)", "class_method_signature": "GraphHopperRouter.getPath(Coordinates from, Coordinates to)", "testcase": false, "constructor": false, "invocations": ["doubleValue", "latitude", "doubleValue", "longitude", "doubleValue", "latitude", "doubleValue", "longitude", "getPoints", "getBest", "route", "collect", "map", "stream", "spliterator", "valueOf", "toList"]}, "repository": {"repo_id": 142603842, "url": "https://github.com/kiegroup/optaweb-vehicle-routing", "stars": 42, "created": "7/27/2018 5:08:08 PM +00:00", "updates": "2020-01-27T22:19:48+00:00", "fork": "False", "license": "licensed"}}