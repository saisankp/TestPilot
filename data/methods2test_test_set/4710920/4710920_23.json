{"test_class": {"identifier": "CurrentTelnetHandlerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static TelnetHandler count = new CurrentTelnetHandler();", "modifier": "private static", "type": "TelnetHandler", "declarator": "count = new CurrentTelnetHandler()", "var_name": "count"}, {"original_string": "private Channel mockChannel;", "modifier": "private", "type": "Channel", "declarator": "mockChannel", "var_name": "mockChannel"}], "file": "dubbo-plugin/dubbo-qos/src/test/java/org/apache/dubbo/qos/legacy/CurrentTelnetHandlerTest.java"}, "test_case": {"identifier": "testMessageError", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testMessageError() throws RemotingException {\n        mockChannel = mock(Channel.class);\n        given(mockChannel.getAttribute(\"telnet.service\")).willReturn(null);\n\n        String result = count.telnet(mockChannel, \"test\");\n        assertEquals(\"Unsupported parameter test for pwd.\", result);\n    }", "signature": "void testMessageError()", "full_signature": "@Test public void testMessageError()", "class_method_signature": "CurrentTelnetHandlerTest.testMessageError()", "testcase": true, "constructor": false, "invocations": ["mock", "willReturn", "given", "getAttribute", "telnet", "assertEquals"]}, "focal_class": {"identifier": "CurrentTelnetHandler", "superclass": "", "interfaces": "implements TelnetHandler", "fields": [], "methods": [{"identifier": "telnet", "parameters": "(Channel channel, String message)", "modifiers": "@Override public", "return": "String", "signature": "String telnet(Channel channel, String message)", "full_signature": "@Override public String telnet(Channel channel, String message)", "class_method_signature": "CurrentTelnetHandler.telnet(Channel channel, String message)", "testcase": false, "constructor": false}], "file": "dubbo-plugin/dubbo-qos/src/main/java/org/apache/dubbo/qos/legacy/CurrentTelnetHandler.java"}, "focal_method": {"identifier": "telnet", "parameters": "(Channel channel, String message)", "modifiers": "@Override public", "return": "String", "body": "@Override\n    public String telnet(Channel channel, String message) {\n        if (message.length() > 0) {\n            return \"Unsupported parameter \" + message + \" for pwd.\";\n        }\n        String service = (String) channel.getAttribute(ChangeTelnetHandler.SERVICE_KEY);\n        StringBuilder buf = new StringBuilder();\n        if (service == null || service.length() == 0) {\n            buf.append(\"/\");\n        } else {\n            buf.append(service);\n        }\n        return buf.toString();\n    }", "signature": "String telnet(Channel channel, String message)", "full_signature": "@Override public String telnet(Channel channel, String message)", "class_method_signature": "CurrentTelnetHandler.telnet(Channel channel, String message)", "testcase": false, "constructor": false, "invocations": ["length", "getAttribute", "length", "append", "append", "toString"]}, "repository": {"repo_id": 4710920, "url": "https://github.com/apache/dubbo", "stars": 30960, "created": "6/19/2012 7:56:02 AM +00:00", "updates": "2020-01-27T14:21:03+00:00", "fork": "False", "license": "licensed"}}