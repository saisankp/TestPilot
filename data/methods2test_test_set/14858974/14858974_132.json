{"test_class": {"identifier": "ProductResourceTest", "superclass": "extends ResourceTest", "interfaces": "", "fields": [{"original_string": "private RepositoryHandler repositoryHandler;", "modifier": "private", "type": "RepositoryHandler", "declarator": "repositoryHandler", "var_name": "repositoryHandler"}], "file": "server/src/test/java/org/axway/grapes/server/webapp/resources/ProductResourceTest.java"}, "test_case": {"identifier": "getProductModules", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getProductModules(){\n        final DbProduct product = new DbProduct();\n        product.setName(\"product1\");\n        product.setModules(Lists.newArrayList(\"module1\", \"module2\", \"module3\"));\n        when(repositoryHandler.getProduct(product.getName())).thenReturn(product);\n\n        WebResource resource = client().resource(\"/\" + ServerAPI.PRODUCT_RESOURCE + \"/\" + product.getName() + ServerAPI.GET_MODULES);\n        ClientResponse response = resource.accept(MediaType.APPLICATION_JSON).get(ClientResponse.class);\n        assertNotNull(response);\n        assertEquals(HttpStatus.OK_200, response.getStatus());\n\n        final List<String> results = response.getEntity(new GenericType<List<String>>() {\n        });\n        assertNotNull(results);\n        assertEquals(3, results.size());\n    }", "signature": "void getProductModules()", "full_signature": "@Test public void getProductModules()", "class_method_signature": "ProductResourceTest.getProductModules()", "testcase": true, "constructor": false, "invocations": ["setName", "setModules", "newArrayList", "thenReturn", "when", "getProduct", "getName", "resource", "client", "getName", "get", "accept", "assertNotNull", "assertEquals", "getStatus", "getEntity", "assertNotNull", "assertEquals", "size"]}, "focal_class": {"identifier": "ProductResource", "superclass": "extends AbstractResource", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(ProductResource.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(ProductResource.class)", "var_name": "LOG"}, {"original_string": "private static final String DELIVERY_MSG_TEMPLATE = \"Delivery [%s %s] %s [%s]\";", "modifier": "private static final", "type": "String", "declarator": "DELIVERY_MSG_TEMPLATE = \"Delivery [%s %s] %s [%s]\"", "var_name": "DELIVERY_MSG_TEMPLATE"}], "methods": [{"identifier": "ProductResource", "parameters": "(final RepositoryHandler repositoryHandler, final GrapesServerConfig configuration)", "modifiers": "public", "return": "", "signature": " ProductResource(final RepositoryHandler repositoryHandler, final GrapesServerConfig configuration)", "full_signature": "public  ProductResource(final RepositoryHandler repositoryHandler, final GrapesServerConfig configuration)", "class_method_signature": "ProductResource.ProductResource(final RepositoryHandler repositoryHandler, final GrapesServerConfig configuration)", "testcase": false, "constructor": true}, {"identifier": "createProduct", "parameters": "(@Auth final DbCredential credential, final String productName)", "modifiers": "@POST public", "return": "Response", "signature": "Response createProduct(@Auth final DbCredential credential, final String productName)", "full_signature": "@POST public Response createProduct(@Auth final DbCredential credential, final String productName)", "class_method_signature": "ProductResource.createProduct(@Auth final DbCredential credential, final String productName)", "testcase": false, "constructor": false}, {"identifier": "getNames", "parameters": "()", "modifiers": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(ServerAPI.GET_NAMES) public", "return": "Response", "signature": "Response getNames()", "full_signature": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(ServerAPI.GET_NAMES) public Response getNames()", "class_method_signature": "ProductResource.getNames()", "testcase": false, "constructor": false}, {"identifier": "get", "parameters": "(@PathParam(\"name\") final String name)", "modifiers": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}\") public", "return": "Response", "signature": "Response get(@PathParam(\"name\") final String name)", "full_signature": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}\") public Response get(@PathParam(\"name\") final String name)", "class_method_signature": "ProductResource.get(@PathParam(\"name\") final String name)", "testcase": false, "constructor": false}, {"identifier": "delete", "parameters": "(@Auth final DbCredential credential, @PathParam(\"name\") final String name)", "modifiers": "@DELETE @Path(\"/{name}\") public", "return": "Response", "signature": "Response delete(@Auth final DbCredential credential, @PathParam(\"name\") final String name)", "full_signature": "@DELETE @Path(\"/{name}\") public Response delete(@Auth final DbCredential credential, @PathParam(\"name\") final String name)", "class_method_signature": "ProductResource.delete(@Auth final DbCredential credential, @PathParam(\"name\") final String name)", "testcase": false, "constructor": false}, {"identifier": "getModuleNames", "parameters": "(@PathParam(\"name\") final String name)", "modifiers": "@GET @Path(\"/{name}\" + ServerAPI.GET_MODULES) @Produces(MediaType.APPLICATION_JSON) public", "return": "Response", "signature": "Response getModuleNames(@PathParam(\"name\") final String name)", "full_signature": "@GET @Path(\"/{name}\" + ServerAPI.GET_MODULES) @Produces(MediaType.APPLICATION_JSON) public Response getModuleNames(@PathParam(\"name\") final String name)", "class_method_signature": "ProductResource.getModuleNames(@PathParam(\"name\") final String name)", "testcase": false, "constructor": false}, {"identifier": "setModuleNames", "parameters": "(@Auth final DbCredential credential, @PathParam(\"name\") final String name, final List<String> moduleNames)", "modifiers": "@POST @Path(\"/{name}\" + ServerAPI.GET_MODULES) public", "return": "Response", "signature": "Response setModuleNames(@Auth final DbCredential credential, @PathParam(\"name\") final String name, final List<String> moduleNames)", "full_signature": "@POST @Path(\"/{name}\" + ServerAPI.GET_MODULES) public Response setModuleNames(@Auth final DbCredential credential, @PathParam(\"name\") final String name, final List<String> moduleNames)", "class_method_signature": "ProductResource.setModuleNames(@Auth final DbCredential credential, @PathParam(\"name\") final String name, final List<String> moduleNames)", "testcase": false, "constructor": false}, {"identifier": "getDeliveries", "parameters": "(@PathParam(\"name\") final String name)", "modifiers": "@GET @Path(\"/{name}\" + ServerAPI.GET_DELIVERIES) @Produces(MediaType.APPLICATION_JSON) public", "return": "Response", "signature": "Response getDeliveries(@PathParam(\"name\") final String name)", "full_signature": "@GET @Path(\"/{name}\" + ServerAPI.GET_DELIVERIES) @Produces(MediaType.APPLICATION_JSON) public Response getDeliveries(@PathParam(\"name\") final String name)", "class_method_signature": "ProductResource.getDeliveries(@PathParam(\"name\") final String name)", "testcase": false, "constructor": false}, {"identifier": "createNewDelivery", "parameters": "(@Auth final DbCredential credential, @PathParam(\"name\") final String name, final Delivery delivery)", "modifiers": "@POST @Path(\"/{name}\" + ServerAPI.GET_DELIVERIES) public", "return": "Response", "signature": "Response createNewDelivery(@Auth final DbCredential credential, @PathParam(\"name\") final String name, final Delivery delivery)", "full_signature": "@POST @Path(\"/{name}\" + ServerAPI.GET_DELIVERIES) public Response createNewDelivery(@Auth final DbCredential credential, @PathParam(\"name\") final String name, final Delivery delivery)", "class_method_signature": "ProductResource.createNewDelivery(@Auth final DbCredential credential, @PathParam(\"name\") final String name, final Delivery delivery)", "testcase": false, "constructor": false}, {"identifier": "getDelivery", "parameters": "(@PathParam(\"name\") final String name, @PathParam(\"commercialName\") final String commercialName, @PathParam(\"commercialVersion\") final String commercialVersion)", "modifiers": "@GET @Path(\"/{name}\" + ServerAPI.GET_DELIVERIES+\"/{commercialName}\"+\"/{commercialVersion}\") @Produces(MediaType.APPLICATION_JSON) public", "return": "Response", "signature": "Response getDelivery(@PathParam(\"name\") final String name, @PathParam(\"commercialName\") final String commercialName, @PathParam(\"commercialVersion\") final String commercialVersion)", "full_signature": "@GET @Path(\"/{name}\" + ServerAPI.GET_DELIVERIES+\"/{commercialName}\"+\"/{commercialVersion}\") @Produces(MediaType.APPLICATION_JSON) public Response getDelivery(@PathParam(\"name\") final String name, @PathParam(\"commercialName\") final String commercialName, @PathParam(\"commercialVersion\") final String commercialVersion)", "class_method_signature": "ProductResource.getDelivery(@PathParam(\"name\") final String name, @PathParam(\"commercialName\") final String commercialName, @PathParam(\"commercialVersion\") final String commercialVersion)", "testcase": false, "constructor": false}, {"identifier": "deleteDelivery", "parameters": "(@Auth final DbCredential credential, @PathParam(\"name\") final String name, @PathParam(\"commercialName\") final String commercialName, @PathParam(\"commercialVersion\") final String commercialVersion)", "modifiers": "@DELETE @Path(\"/{name}\" + ServerAPI.GET_DELIVERIES+\"/{commercialName}\"+\"/{commercialVersion}\") @Produces(MediaType.APPLICATION_JSON) public", "return": "Response", "signature": "Response deleteDelivery(@Auth final DbCredential credential, @PathParam(\"name\") final String name, @PathParam(\"commercialName\") final String commercialName, @PathParam(\"commercialVersion\") final String commercialVersion)", "full_signature": "@DELETE @Path(\"/{name}\" + ServerAPI.GET_DELIVERIES+\"/{commercialName}\"+\"/{commercialVersion}\") @Produces(MediaType.APPLICATION_JSON) public Response deleteDelivery(@Auth final DbCredential credential, @PathParam(\"name\") final String name, @PathParam(\"commercialName\") final String commercialName, @PathParam(\"commercialVersion\") final String commercialVersion)", "class_method_signature": "ProductResource.deleteDelivery(@Auth final DbCredential credential, @PathParam(\"name\") final String name, @PathParam(\"commercialName\") final String commercialName, @PathParam(\"commercialVersion\") final String commercialVersion)", "testcase": false, "constructor": false}, {"identifier": "setDeliveryDependency", "parameters": "(@Auth final DbCredential credential,\n                                          @PathParam(\"name\") final String name,\n                                          @PathParam(\"commercialName\") final String commercialName,\n                                          @PathParam(\"commercialVersion\") final String commercialVersion,\n                                          List<String> dependencies)", "modifiers": "@POST @Path(\"/{name}\" + ServerAPI.GET_DELIVERIES+\"/{commercialName}\"+\"/{commercialVersion}\") @Produces(MediaType.APPLICATION_JSON) public", "return": "Response", "signature": "Response setDeliveryDependency(@Auth final DbCredential credential,\n                                          @PathParam(\"name\") final String name,\n                                          @PathParam(\"commercialName\") final String commercialName,\n                                          @PathParam(\"commercialVersion\") final String commercialVersion,\n                                          List<String> dependencies)", "full_signature": "@POST @Path(\"/{name}\" + ServerAPI.GET_DELIVERIES+\"/{commercialName}\"+\"/{commercialVersion}\") @Produces(MediaType.APPLICATION_JSON) public Response setDeliveryDependency(@Auth final DbCredential credential,\n                                          @PathParam(\"name\") final String name,\n                                          @PathParam(\"commercialName\") final String commercialName,\n                                          @PathParam(\"commercialVersion\") final String commercialVersion,\n                                          List<String> dependencies)", "class_method_signature": "ProductResource.setDeliveryDependency(@Auth final DbCredential credential,\n                                          @PathParam(\"name\") final String name,\n                                          @PathParam(\"commercialName\") final String commercialName,\n                                          @PathParam(\"commercialVersion\") final String commercialVersion,\n                                          List<String> dependencies)", "testcase": false, "constructor": false}], "file": "server/src/main/java/org/axway/grapes/server/webapp/resources/ProductResource.java"}, "focal_method": {"identifier": "get", "parameters": "(@PathParam(\"name\") final String name)", "modifiers": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}\") public", "return": "Response", "body": "@GET\n    @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON})\n    @Path(\"/{name}\")\n    public Response get(@PathParam(\"name\") final String name){\n        LOG.info(\"Got a get product request.\");\n\n        final DbProduct dbProduct = getProductHandler().getProduct(name);\n        final ProductView view = new ProductView(dbProduct);\n\n        return Response.ok(view).build();\n    }", "signature": "Response get(@PathParam(\"name\") final String name)", "full_signature": "@GET @Produces({MediaType.TEXT_HTML, MediaType.APPLICATION_JSON}) @Path(\"/{name}\") public Response get(@PathParam(\"name\") final String name)", "class_method_signature": "ProductResource.get(@PathParam(\"name\") final String name)", "testcase": false, "constructor": false, "invocations": ["info", "getProduct", "getProductHandler", "build", "ok"]}, "repository": {"repo_id": 14858974, "url": "https://github.com/Axway/Grapes", "language": "Java", "is_fork": false, "fork_count": 9, "stargazer_count": 8, "size": 3620, "license": "licensed"}}