{"test_class": {"identifier": "CashFlowControllerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n    private CashFlowService cashFlowService;", "modifier": "@Mock\n    private", "type": "CashFlowService", "declarator": "cashFlowService", "var_name": "cashFlowService"}], "file": "cashflow/src/test/java/org/mifos/platform/cashflow/ui/controller/CashFlowControllerTest.java"}, "test_case": {"identifier": "prepareCashFlowForm", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void prepareCashFlowForm() throws Exception {\n        CashFlowDetail cashFlowDetail = new CashFlowDetail(new ArrayList<MonthlyCashFlowDetail>());\n        Mockito.when(cashFlowService.cashFlowFor(2012, 1, 12)).thenReturn(cashFlowDetail);\n        CashFlowController cashFlowController = new CashFlowController(cashFlowService);\n        BigDecimal loanAmount = new BigDecimal(\"1234\");\n        Double indebtednessRatio = 12d;\n        CashFlowForm cashFlowForm = cashFlowController.prepareCashFlowForm(2012, 1, 12, loanAmount, indebtednessRatio, true);\n        CashFlowForm expectedCashFlowForm = new CashFlowForm(cashFlowDetail, true, loanAmount, indebtednessRatio);\n        assertThat(cashFlowForm, new CashFlowFormMatcher(expectedCashFlowForm));\n        Mockito.verify(cashFlowService).cashFlowFor(2012, 1, 12);\n    }", "signature": "void prepareCashFlowForm()", "full_signature": "@Test public void prepareCashFlowForm()", "class_method_signature": "CashFlowControllerTest.prepareCashFlowForm()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "cashFlowFor", "prepareCashFlowForm", "assertThat", "cashFlowFor", "verify"]}, "focal_class": {"identifier": "CashFlowController", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final CashFlowService cashFlowService;", "modifier": "private final", "type": "CashFlowService", "declarator": "cashFlowService", "var_name": "cashFlowService"}], "methods": [{"identifier": "CashFlowController", "parameters": "(CashFlowService cashFlowService)", "modifiers": "@Autowired public", "return": "", "signature": " CashFlowController(CashFlowService cashFlowService)", "full_signature": "@Autowired public  CashFlowController(CashFlowService cashFlowService)", "class_method_signature": "CashFlowController.CashFlowController(CashFlowService cashFlowService)", "testcase": false, "constructor": true}, {"identifier": "transformCashFlow", "parameters": "(CashFlowForm cashFlow)", "modifiers": "@SuppressWarnings(\"PMD.AvoidInstantiatingObjectsInLoops\") public", "return": "LoanAccountCashFlow", "signature": "LoanAccountCashFlow transformCashFlow(CashFlowForm cashFlow)", "full_signature": "@SuppressWarnings(\"PMD.AvoidInstantiatingObjectsInLoops\") public LoanAccountCashFlow transformCashFlow(CashFlowForm cashFlow)", "class_method_signature": "CashFlowController.transformCashFlow(CashFlowForm cashFlow)", "testcase": false, "constructor": false}, {"identifier": "retrieveCashFlowForm", "parameters": "(CashFlowDto cashFlowSettings)", "modifiers": "public", "return": "CashFlowForm", "signature": "CashFlowForm retrieveCashFlowForm(CashFlowDto cashFlowSettings)", "full_signature": "public CashFlowForm retrieveCashFlowForm(CashFlowDto cashFlowSettings)", "class_method_signature": "CashFlowController.retrieveCashFlowForm(CashFlowDto cashFlowSettings)", "testcase": false, "constructor": false}, {"identifier": "retrieveMonthlyCashflowDetails", "parameters": "(CashFlowForm cashFlowForm, Date disbursementDate, Double loanAmount)", "modifiers": "@SuppressWarnings(\"PMD.AvoidInstantiatingObjectsInLoops\") public", "return": "List<MonthlyCashFlowDto>", "signature": "List<MonthlyCashFlowDto> retrieveMonthlyCashflowDetails(CashFlowForm cashFlowForm, Date disbursementDate, Double loanAmount)", "full_signature": "@SuppressWarnings(\"PMD.AvoidInstantiatingObjectsInLoops\") public List<MonthlyCashFlowDto> retrieveMonthlyCashflowDetails(CashFlowForm cashFlowForm, Date disbursementDate, Double loanAmount)", "class_method_signature": "CashFlowController.retrieveMonthlyCashflowDetails(CashFlowForm cashFlowForm, Date disbursementDate, Double loanAmount)", "testcase": false, "constructor": false}, {"identifier": "isAfterOrOnDisbursementMonthYear", "parameters": "(LocalDate date, LocalDate comparedWith)", "modifiers": "private", "return": "boolean", "signature": "boolean isAfterOrOnDisbursementMonthYear(LocalDate date, LocalDate comparedWith)", "full_signature": "private boolean isAfterOrOnDisbursementMonthYear(LocalDate date, LocalDate comparedWith)", "class_method_signature": "CashFlowController.isAfterOrOnDisbursementMonthYear(LocalDate date, LocalDate comparedWith)", "testcase": false, "constructor": false}, {"identifier": "isSameMonthYear", "parameters": "(LocalDate date, LocalDate comparedWith)", "modifiers": "private", "return": "boolean", "signature": "boolean isSameMonthYear(LocalDate date, LocalDate comparedWith)", "full_signature": "private boolean isSameMonthYear(LocalDate date, LocalDate comparedWith)", "class_method_signature": "CashFlowController.isSameMonthYear(LocalDate date, LocalDate comparedWith)", "testcase": false, "constructor": false}, {"identifier": "prepareCashFlowForm", "parameters": "(int startYear, int startMonth, int noOfMonths, BigDecimal loanAmount,\n                                            Double indebtednessRatio, boolean captureCapitalLiabilityInfo)", "modifiers": "@SuppressWarnings(\"PMD.AvoidInstantiatingObjectsInLoops\") public", "return": "CashFlowForm", "signature": "CashFlowForm prepareCashFlowForm(int startYear, int startMonth, int noOfMonths, BigDecimal loanAmount,\n                                            Double indebtednessRatio, boolean captureCapitalLiabilityInfo)", "full_signature": "@SuppressWarnings(\"PMD.AvoidInstantiatingObjectsInLoops\") public CashFlowForm prepareCashFlowForm(int startYear, int startMonth, int noOfMonths, BigDecimal loanAmount,\n                                            Double indebtednessRatio, boolean captureCapitalLiabilityInfo)", "class_method_signature": "CashFlowController.prepareCashFlowForm(int startYear, int startMonth, int noOfMonths, BigDecimal loanAmount,\n                                            Double indebtednessRatio, boolean captureCapitalLiabilityInfo)", "testcase": false, "constructor": false}], "file": "cashflow/src/main/java/org/mifos/platform/cashflow/ui/controller/CashFlowController.java"}, "focal_method": {"identifier": "prepareCashFlowForm", "parameters": "(int startYear, int startMonth, int noOfMonths, BigDecimal loanAmount,\n                                            Double indebtednessRatio, boolean captureCapitalLiabilityInfo)", "modifiers": "@SuppressWarnings(\"PMD.AvoidInstantiatingObjectsInLoops\") public", "return": "CashFlowForm", "body": "@SuppressWarnings(\"PMD.AvoidInstantiatingObjectsInLoops\")\n    public CashFlowForm prepareCashFlowForm(int startYear, int startMonth, int noOfMonths, BigDecimal loanAmount,\n                                            Double indebtednessRatio, boolean captureCapitalLiabilityInfo) {\n        CashFlowDetail cashFlowDetail = cashFlowService.cashFlowFor(startYear, startMonth, noOfMonths);\n        return new CashFlowForm(cashFlowDetail, captureCapitalLiabilityInfo, loanAmount, indebtednessRatio);\n    }", "signature": "CashFlowForm prepareCashFlowForm(int startYear, int startMonth, int noOfMonths, BigDecimal loanAmount,\n                                            Double indebtednessRatio, boolean captureCapitalLiabilityInfo)", "full_signature": "@SuppressWarnings(\"PMD.AvoidInstantiatingObjectsInLoops\") public CashFlowForm prepareCashFlowForm(int startYear, int startMonth, int noOfMonths, BigDecimal loanAmount,\n                                            Double indebtednessRatio, boolean captureCapitalLiabilityInfo)", "class_method_signature": "CashFlowController.prepareCashFlowForm(int startYear, int startMonth, int noOfMonths, BigDecimal loanAmount,\n                                            Double indebtednessRatio, boolean captureCapitalLiabilityInfo)", "testcase": false, "constructor": false, "invocations": ["cashFlowFor"]}, "repository": {"repo_id": 1348716, "url": "https://github.com/mifos/head", "language": "Java", "is_fork": false, "fork_count": 91, "stargazer_count": 55, "size": 532732, "license": "licensed"}}