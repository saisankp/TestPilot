{"test_class": {"identifier": "EsPercolateBoltTest", "superclass": "extends AbstractEsBoltIntegrationTest<EsPercolateBolt>", "interfaces": "", "fields": [], "file": "storm/storm-elasticsearch/src/test/java/org/apache/storm/elasticsearch/bolt/EsPercolateBoltTest.java"}, "test_case": {"identifier": "testEsPercolateBolt", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testEsPercolateBolt()\n            throws Exception {\n        String source = \"{\\\"user\\\":\\\"user1\\\"}\";\n        String index = \"index1\";\n        String type = \".percolator\";\n\n        node.client().prepareIndex(\"index1\", \".percolator\")\n                .setId(\"1\")\n                .setSource(\"{\\\"query\\\":{\\\"match\\\":{\\\"user\\\":\\\"user1\\\"}}}\").\n                execute().actionGet();\n        Tuple tuple = EsTestUtil.generateTestTuple(source, index, type, null);\n\n        bolt.execute(tuple);\n\n        verify(outputCollector).ack(tuple);\n        verify(outputCollector).emit(new Values(source, any(PercolateResponse.Match.class)));\n    }", "signature": "void testEsPercolateBolt()", "full_signature": "@Test public void testEsPercolateBolt()", "class_method_signature": "EsPercolateBoltTest.testEsPercolateBolt()", "testcase": true, "constructor": false, "invocations": ["actionGet", "execute", "setSource", "setId", "prepareIndex", "client", "generateTestTuple", "execute", "ack", "verify", "emit", "verify", "any"]}, "focal_class": {"identifier": "EsPercolateBolt", "superclass": "extends AbstractEsBolt", "interfaces": "", "fields": [{"original_string": "private final EsTupleMapper tupleMapper;", "modifier": "private final", "type": "EsTupleMapper", "declarator": "tupleMapper", "var_name": "tupleMapper"}], "methods": [{"identifier": "EsPercolateBolt", "parameters": "(EsConfig esConfig, EsTupleMapper tupleMapper)", "modifiers": "public", "return": "", "signature": " EsPercolateBolt(EsConfig esConfig, EsTupleMapper tupleMapper)", "full_signature": "public  EsPercolateBolt(EsConfig esConfig, EsTupleMapper tupleMapper)", "class_method_signature": "EsPercolateBolt.EsPercolateBolt(EsConfig esConfig, EsTupleMapper tupleMapper)", "testcase": false, "constructor": true}, {"identifier": "prepare", "parameters": "(Map map, TopologyContext topologyContext, OutputCollector outputCollector)", "modifiers": "@Override public", "return": "void", "signature": "void prepare(Map map, TopologyContext topologyContext, OutputCollector outputCollector)", "full_signature": "@Override public void prepare(Map map, TopologyContext topologyContext, OutputCollector outputCollector)", "class_method_signature": "EsPercolateBolt.prepare(Map map, TopologyContext topologyContext, OutputCollector outputCollector)", "testcase": false, "constructor": false}, {"identifier": "execute", "parameters": "(Tuple tuple)", "modifiers": "@Override public", "return": "void", "signature": "void execute(Tuple tuple)", "full_signature": "@Override public void execute(Tuple tuple)", "class_method_signature": "EsPercolateBolt.execute(Tuple tuple)", "testcase": false, "constructor": false}, {"identifier": "declareOutputFields", "parameters": "(OutputFieldsDeclarer outputFieldsDeclarer)", "modifiers": "@Override public", "return": "void", "signature": "void declareOutputFields(OutputFieldsDeclarer outputFieldsDeclarer)", "full_signature": "@Override public void declareOutputFields(OutputFieldsDeclarer outputFieldsDeclarer)", "class_method_signature": "EsPercolateBolt.declareOutputFields(OutputFieldsDeclarer outputFieldsDeclarer)", "testcase": false, "constructor": false}], "file": "storm/storm-elasticsearch/src/main/java/org/apache/storm/elasticsearch/bolt/EsPercolateBolt.java"}, "focal_method": {"identifier": "EsPercolateBolt", "parameters": "(EsConfig esConfig, EsTupleMapper tupleMapper)", "modifiers": "public", "return": "", "body": "public EsPercolateBolt(EsConfig esConfig, EsTupleMapper tupleMapper) {\n        super(esConfig);\n        this.tupleMapper = checkNotNull(tupleMapper);\n    }", "signature": " EsPercolateBolt(EsConfig esConfig, EsTupleMapper tupleMapper)", "full_signature": "public  EsPercolateBolt(EsConfig esConfig, EsTupleMapper tupleMapper)", "class_method_signature": "EsPercolateBolt.EsPercolateBolt(EsConfig esConfig, EsTupleMapper tupleMapper)", "testcase": false, "constructor": true, "invocations": []}, "repository": {"repo_id": 44512524, "url": "https://github.com/zqhxuyuan/bigdata", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 8, "size": 91550, "license": "licensed"}}