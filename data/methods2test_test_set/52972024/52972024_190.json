{"test_class": {"identifier": "WDSObjectFieldTest", "superclass": "", "interfaces": "", "fields": [], "file": "CoreFeatures/IObjectExtension/WDSObject/src/test/java/info/smart_tools/smartactors/iobject_extension/wds_object/WDSObjectFieldTest.java"}, "test_case": {"identifier": "checkSimpleGetterWithException", "parameters": "()", "modifiers": "@Test (expected = ReadValueException.class) public", "return": "void", "body": "@Test (expected = ReadValueException.class)\n    public void checkSimpleGetterWithException()\n            throws Exception {\n        IObject rule = mock(IObject.class);\n        IObject env = mock(IObject.class);\n        IObject message = mock(IObject.class);\n        IObject submessage = mock(IObject.class);\n        when(env.getValue(new FieldName(\"message\"))).thenReturn(message);\n        when(message.getValue(new FieldName(\"submessage\"))).thenReturn(submessage);\n        when(submessage.getValue(new FieldName(\"intValue\"))).thenReturn(1);\n        when(rule.getValue(new FieldName(\"name\"))).thenReturn(\"wds_getter_strategy\");\n        when(rule.getValue(new FieldName(\"args\"))).thenReturn(new ArrayList<String>(){{add(\"message/undefined/submessage/intValue\");}});\n        IField field = new WDSObjectField(new ArrayList<IObject>(){{add(rule);}});\n        // value of 'undefined' is undefined (not mocked)\n        field.in(env);\n        fail();\n    }", "signature": "void checkSimpleGetterWithException()", "full_signature": "@Test (expected = ReadValueException.class) public void checkSimpleGetterWithException()", "class_method_signature": "WDSObjectFieldTest.checkSimpleGetterWithException()", "testcase": true, "constructor": false, "invocations": ["mock", "mock", "mock", "mock", "thenReturn", "when", "getValue", "thenReturn", "when", "getValue", "thenReturn", "when", "getValue", "thenReturn", "when", "getValue", "thenReturn", "when", "getValue", "add", "add", "in", "fail"]}, "focal_class": {"identifier": "WDSObjectField", "superclass": "", "interfaces": "implements IField", "fields": [{"original_string": "private static final String FIELD_ARGS = \"args\";", "modifier": "private static final", "type": "String", "declarator": "FIELD_ARGS = \"args\"", "var_name": "FIELD_ARGS"}, {"original_string": "private static final String FIELD_NAME = \"name\";", "modifier": "private static final", "type": "String", "declarator": "FIELD_NAME = \"name\"", "var_name": "FIELD_NAME"}, {"original_string": "private static final String LOCAL_KEYWORD = \"local\";", "modifier": "private static final", "type": "String", "declarator": "LOCAL_KEYWORD = \"local\"", "var_name": "LOCAL_KEYWORD"}, {"original_string": "private static final String CONST_KEYWORD = \"const\";", "modifier": "private static final", "type": "String", "declarator": "CONST_KEYWORD = \"const\"", "var_name": "CONST_KEYWORD"}, {"original_string": "private static final String DEFAULT_KEYWORD = \"default\";", "modifier": "private static final", "type": "String", "declarator": "DEFAULT_KEYWORD = \"default\"", "var_name": "DEFAULT_KEYWORD"}, {"original_string": "private static final String SPLITTER = \"\\\\/\";", "modifier": "private static final", "type": "String", "declarator": "SPLITTER = \"\\\\/\"", "var_name": "SPLITTER"}, {"original_string": "private static final String INNER_SETTER_STRATEGY_NAME = \"wds_target_strategy\";", "modifier": "private static final", "type": "String", "declarator": "INNER_SETTER_STRATEGY_NAME = \"wds_target_strategy\"", "var_name": "INNER_SETTER_STRATEGY_NAME"}, {"original_string": "private static final String INNER_GETTER_STRATEGY_NAME = \"wds_getter_strategy\";", "modifier": "private static final", "type": "String", "declarator": "INNER_GETTER_STRATEGY_NAME = \"wds_getter_strategy\"", "var_name": "INNER_GETTER_STRATEGY_NAME"}, {"original_string": "private static final String OUTER_STRATEGY_NAME = \"wds_outer_strategy\";", "modifier": "private static final", "type": "String", "declarator": "OUTER_STRATEGY_NAME = \"wds_outer_strategy\"", "var_name": "OUTER_STRATEGY_NAME"}, {"original_string": "private static final String SLASH = \"/\";", "modifier": "private static final", "type": "String", "declarator": "SLASH = \"/\"", "var_name": "SLASH"}, {"original_string": "private FieldName args;", "modifier": "private", "type": "FieldName", "declarator": "args", "var_name": "args"}, {"original_string": "private FieldName strategyName;", "modifier": "private", "type": "FieldName", "declarator": "strategyName", "var_name": "strategyName"}, {"original_string": "private List<IObject> rules;", "modifier": "private", "type": "List<IObject>", "declarator": "rules", "var_name": "rules"}, {"original_string": "private HashMap<String, IResolveDependencyStrategy> strategies = new HashMap<>();", "modifier": "private", "type": "HashMap<String, IResolveDependencyStrategy>", "declarator": "strategies = new HashMap<>()", "var_name": "strategies"}, {"original_string": "private HashMap<String, IFunction<StrategyAndArgs, Object>> strategyExecutors = new HashMap<>();", "modifier": "private", "type": "HashMap<String, IFunction<StrategyAndArgs, Object>>", "declarator": "strategyExecutors = new HashMap<>()", "var_name": "strategyExecutors"}, {"original_string": "private HashMap<String, IFunction<Arg, Object>> argumentsResolvers = new HashMap<>();", "modifier": "private", "type": "HashMap<String, IFunction<Arg, Object>>", "declarator": "argumentsResolvers = new HashMap<>()", "var_name": "argumentsResolvers"}], "methods": [{"identifier": "WDSObjectField", "parameters": "(final List<IObject> methodRules)", "modifiers": "public", "return": "", "signature": " WDSObjectField(final List<IObject> methodRules)", "full_signature": "public  WDSObjectField(final List<IObject> methodRules)", "class_method_signature": "WDSObjectField.WDSObjectField(final List<IObject> methodRules)", "testcase": false, "constructor": true}, {"identifier": "in", "parameters": "(final IObject env)", "modifiers": "@Override public", "return": "T", "signature": "T in(final IObject env)", "full_signature": "@Override public T in(final IObject env)", "class_method_signature": "WDSObjectField.in(final IObject env)", "testcase": false, "constructor": false}, {"identifier": "in", "parameters": "(final IObject env, final Class type)", "modifiers": "@Override public", "return": "T", "signature": "T in(final IObject env, final Class type)", "full_signature": "@Override public T in(final IObject env, final Class type)", "class_method_signature": "WDSObjectField.in(final IObject env, final Class type)", "testcase": false, "constructor": false}, {"identifier": "out", "parameters": "(final IObject env, final T in)", "modifiers": "@Override public", "return": "void", "signature": "void out(final IObject env, final T in)", "full_signature": "@Override public void out(final IObject env, final T in)", "class_method_signature": "WDSObjectField.out(final IObject env, final T in)", "testcase": false, "constructor": false}, {"identifier": "getValueFromNestedIObject", "parameters": "(final IObject source, final String location)", "modifiers": "private", "return": "Object", "signature": "Object getValueFromNestedIObject(final IObject source, final String location)", "full_signature": "private Object getValueFromNestedIObject(final IObject source, final String location)", "class_method_signature": "WDSObjectField.getValueFromNestedIObject(final IObject source, final String location)", "testcase": false, "constructor": false}, {"identifier": "getNestedIObject", "parameters": "(final IObject source, final String[] separatedPath)", "modifiers": "private", "return": "IObject", "signature": "IObject getNestedIObject(final IObject source, final String[] separatedPath)", "full_signature": "private IObject getNestedIObject(final IObject source, final String[] separatedPath)", "class_method_signature": "WDSObjectField.getNestedIObject(final IObject source, final String[] separatedPath)", "testcase": false, "constructor": false}, {"identifier": "initializeStrategyExecutors", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void initializeStrategyExecutors()", "full_signature": "private void initializeStrategyExecutors()", "class_method_signature": "WDSObjectField.initializeStrategyExecutors()", "testcase": false, "constructor": false}, {"identifier": "initializeArgumentsResolvers", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void initializeArgumentsResolvers()", "full_signature": "private void initializeArgumentsResolvers()", "class_method_signature": "WDSObjectField.initializeArgumentsResolvers()", "testcase": false, "constructor": false}, {"identifier": "resolveArguments", "parameters": "(\n            final List<String> arguments,\n            final IObject env,\n            final Object localValue\n    )", "modifiers": "private", "return": "Object[]", "signature": "Object[] resolveArguments(\n            final List<String> arguments,\n            final IObject env,\n            final Object localValue\n    )", "full_signature": "private Object[] resolveArguments(\n            final List<String> arguments,\n            final IObject env,\n            final Object localValue\n    )", "class_method_signature": "WDSObjectField.resolveArguments(\n            final List<String> arguments,\n            final IObject env,\n            final Object localValue\n    )", "testcase": false, "constructor": false}, {"identifier": "resolveSingleArgument", "parameters": "(final String arg, final IObject env, final Object localValue)", "modifiers": "private", "return": "Object", "signature": "Object resolveSingleArgument(final String arg, final IObject env, final Object localValue)", "full_signature": "private Object resolveSingleArgument(final String arg, final IObject env, final Object localValue)", "class_method_signature": "WDSObjectField.resolveSingleArgument(final String arg, final IObject env, final Object localValue)", "testcase": false, "constructor": false}], "file": "CoreFeatures/IObjectExtension/WDSObject/src/main/java/info/smart_tools/smartactors/iobject_extension/wds_object/WDSObjectField.java"}, "focal_method": {"identifier": "in", "parameters": "(final IObject env)", "modifiers": "@Override public", "return": "T", "body": "@Override\n    public <T> T in(final IObject env)\n            throws ReadValueException, InvalidArgumentException {\n        if (null == env) {\n            throw new InvalidArgumentException(\"Environment should not be null.\");\n        }\n        Object value = null;\n        try {\n            for (IObject rule : this.rules) {\n                List<String> args = (ArrayList<String>) rule.getValue(this.args);\n                String name = (String) rule.getValue(this.strategyName);\n                IFunction<StrategyAndArgs, Object> func = this.strategyExecutors.get(name);\n                if (null == func) {\n                    func = this.strategyExecutors.get(OUTER_STRATEGY_NAME);\n                }\n                value = func.execute(\n                        new StrategyAndArgs(this.strategies.get(name), env, args, value)\n                );\n            }\n        } catch (Exception e) {\n            throw new ReadValueException(\"Could not apply rules.\", e);\n        }\n        if (null == value) {\n            return null;\n        }\n\n        return (T) value;\n    }", "signature": "T in(final IObject env)", "full_signature": "@Override public T in(final IObject env)", "class_method_signature": "WDSObjectField.in(final IObject env)", "testcase": false, "constructor": false, "invocations": ["getValue", "getValue", "get", "get", "execute", "get"]}, "repository": {"repo_id": 52972024, "url": "https://github.com/SmartTools/smartactors-core", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 17, "size": 58816, "license": "licensed"}}