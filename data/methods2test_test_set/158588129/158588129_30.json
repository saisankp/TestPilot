{"test_class": {"identifier": "BookControllerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Autowired\n\tprivate MockMvc mockMvc;", "modifier": "@Autowired\n\tprivate", "type": "MockMvc", "declarator": "mockMvc", "var_name": "mockMvc"}, {"original_string": "@MockBean\n\tprivate BookService bookService;", "modifier": "@MockBean\n\tprivate", "type": "BookService", "declarator": "bookService", "var_name": "bookService"}], "file": "ch10/recipe_10_2/src/test/java/com/apress/springbootrecipes/library/web/BookControllerTest.java"}, "test_case": {"identifier": "shouldReturnBookWhenFound", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void shouldReturnBookWhenFound() throws Exception {\n\n\t\tBook book = new Book(\"123\", \"Spring 5 Recipes\", \"Marten Deinum\", \"Josh Long\");\n\t\twhen(bookService.find(anyString())).thenReturn(\n\t\t\t\t\t\tOptional.of(book));\n\n\t\tmockMvc.perform(get(\"/books.html\").param(\"isbn\", \"123\"))\n\t\t\t\t\t\t.andExpect(status().isOk())\n\t\t\t\t\t\t.andExpect(view().name(\"books/details\"))\n\t\t\t\t\t\t.andExpect(model().attribute(\"book\", Matchers.is(book)));\n\t}", "signature": "void shouldReturnBookWhenFound()", "full_signature": "@Test public void shouldReturnBookWhenFound()", "class_method_signature": "BookControllerTest.shouldReturnBookWhenFound()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "find", "anyString", "of", "andExpect", "andExpect", "andExpect", "perform", "param", "get", "isOk", "status", "name", "view", "attribute", "model", "is"]}, "focal_class": {"identifier": "BookController", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final BookService bookService;", "modifier": "private final", "type": "BookService", "declarator": "bookService", "var_name": "bookService"}], "methods": [{"identifier": "BookController", "parameters": "(BookService bookService)", "modifiers": "public", "return": "", "signature": " BookController(BookService bookService)", "full_signature": "public  BookController(BookService bookService)", "class_method_signature": "BookController.BookController(BookService bookService)", "testcase": false, "constructor": true}, {"identifier": "all", "parameters": "(Model model)", "modifiers": "@GetMapping(\"/books.html\") public", "return": "String", "signature": "String all(Model model)", "full_signature": "@GetMapping(\"/books.html\") public String all(Model model)", "class_method_signature": "BookController.all(Model model)", "testcase": false, "constructor": false}, {"identifier": "get", "parameters": "(@RequestParam(\"isbn\") String isbn, Model model)", "modifiers": "@GetMapping(value = \"/books.html\", params = \"isbn\") public", "return": "String", "signature": "String get(@RequestParam(\"isbn\") String isbn, Model model)", "full_signature": "@GetMapping(value = \"/books.html\", params = \"isbn\") public String get(@RequestParam(\"isbn\") String isbn, Model model)", "class_method_signature": "BookController.get(@RequestParam(\"isbn\") String isbn, Model model)", "testcase": false, "constructor": false}, {"identifier": "create", "parameters": "(@ModelAttribute Book book)", "modifiers": "@PostMapping(\"/books\") public", "return": "Book", "signature": "Book create(@ModelAttribute Book book)", "full_signature": "@PostMapping(\"/books\") public Book create(@ModelAttribute Book book)", "class_method_signature": "BookController.create(@ModelAttribute Book book)", "testcase": false, "constructor": false}], "file": "ch10/recipe_10_2/src/main/java/com/apress/springbootrecipes/library/web/BookController.java"}, "focal_method": {"identifier": "get", "parameters": "(@RequestParam(\"isbn\") String isbn, Model model)", "modifiers": "@GetMapping(value = \"/books.html\", params = \"isbn\") public", "return": "String", "body": "@GetMapping(value = \"/books.html\", params = \"isbn\")\n\tpublic String get(@RequestParam(\"isbn\") String isbn, Model model) {\n\n\t\tbookService.find(isbn)\n\t\t\t\t\t\t.ifPresent(book -> model.addAttribute(\"book\", book));\n\n\t\treturn \"books/details\";\n\t}", "signature": "String get(@RequestParam(\"isbn\") String isbn, Model model)", "full_signature": "@GetMapping(value = \"/books.html\", params = \"isbn\") public String get(@RequestParam(\"isbn\") String isbn, Model model)", "class_method_signature": "BookController.get(@RequestParam(\"isbn\") String isbn, Model model)", "testcase": false, "constructor": false, "invocations": ["ifPresent", "find", "addAttribute"]}, "repository": {"repo_id": 158588129, "url": "https://github.com/Apress/spring-boot-2-recipes", "language": "Java", "is_fork": false, "fork_count": 34, "stargazer_count": 24, "size": 202, "license": "licensed"}}