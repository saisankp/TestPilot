{"test_class": {"identifier": "MetricServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Autowired\n    private MetricService metricService;", "modifier": "@Autowired\n    private", "type": "MetricService", "declarator": "metricService", "var_name": "metricService"}, {"original_string": "@MockBean\n    private PesHistoryRepository pesHistoryRepository;", "modifier": "@MockBean\n    private", "type": "PesHistoryRepository", "declarator": "pesHistoryRepository", "var_name": "pesHistoryRepository"}, {"original_string": "@MockBean\n    private EntityManager entityManager;", "modifier": "@MockBean\n    private", "type": "EntityManager", "declarator": "entityManager", "var_name": "entityManager"}], "file": "pes-service/src/test/java/fr/sictiam/stela/pesservice/service/MetricServiceTest.java"}, "test_case": {"identifier": "getNumberOfPes", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getNumberOfPes() {\n\n    }", "signature": "void getNumberOfPes()", "full_signature": "@Test public void getNumberOfPes()", "class_method_signature": "MetricServiceTest.getNumberOfPes()", "testcase": true, "constructor": false, "invocations": []}, "focal_class": {"identifier": "MetricService", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final PesHistoryRepository pesHistoryRepository;", "modifier": "private final", "type": "PesHistoryRepository", "declarator": "pesHistoryRepository", "var_name": "pesHistoryRepository"}], "methods": [{"identifier": "MetricService", "parameters": "(PesHistoryRepository pesHistoryRepository)", "modifiers": "@Autowired public", "return": "", "signature": " MetricService(PesHistoryRepository pesHistoryRepository)", "full_signature": "@Autowired public  MetricService(PesHistoryRepository pesHistoryRepository)", "class_method_signature": "MetricService.MetricService(PesHistoryRepository pesHistoryRepository)", "testcase": false, "constructor": true}, {"identifier": "getNumberOfPes", "parameters": "(LocalDateTime fromLocalDate, LocalDateTime toLocalDate, StatusType statusType)", "modifiers": "public", "return": "Map<String, Long>", "signature": "Map<String, Long> getNumberOfPes(LocalDateTime fromLocalDate, LocalDateTime toLocalDate, StatusType statusType)", "full_signature": "public Map<String, Long> getNumberOfPes(LocalDateTime fromLocalDate, LocalDateTime toLocalDate, StatusType statusType)", "class_method_signature": "MetricService.getNumberOfPes(LocalDateTime fromLocalDate, LocalDateTime toLocalDate, StatusType statusType)", "testcase": false, "constructor": false}, {"identifier": "getNumberOfPesWithSample", "parameters": "(LocalDateTime fromLocalDate, LocalDateTime toLocalDate, StatusType statusType, String sample)", "modifiers": "public", "return": "Map<String, List<Map<LocalDateTime, Long>>>", "signature": "Map<String, List<Map<LocalDateTime, Long>>> getNumberOfPesWithSample(LocalDateTime fromLocalDate, LocalDateTime toLocalDate, StatusType statusType, String sample)", "full_signature": "public Map<String, List<Map<LocalDateTime, Long>>> getNumberOfPesWithSample(LocalDateTime fromLocalDate, LocalDateTime toLocalDate, StatusType statusType, String sample)", "class_method_signature": "MetricService.getNumberOfPesWithSample(LocalDateTime fromLocalDate, LocalDateTime toLocalDate, StatusType statusType, String sample)", "testcase": false, "constructor": false}], "file": "pes-service/src/main/java/fr/sictiam/stela/pesservice/service/MetricService.java"}, "focal_method": {"identifier": "getNumberOfPes", "parameters": "(LocalDateTime fromLocalDate, LocalDateTime toLocalDate, StatusType statusType)", "modifiers": "public", "return": "Map<String, Long>", "body": "public Map<String, Long> getNumberOfPes(LocalDateTime fromLocalDate, LocalDateTime toLocalDate, StatusType statusType) {\n        Map<String, Long> listNumberPesByType = new HashMap<>();\n\n        if(statusType == null) {\n            for (StatusType type : StatusType.values()) {\n                listNumberPesByType.put(\n                        type.name(),\n                        pesHistoryRepository.countByDateBetweenAndStatus(fromLocalDate, toLocalDate, type));\n            }\n        } else {\n            listNumberPesByType.put(\n                    statusType.name(),\n                    pesHistoryRepository.countByDateBetweenAndStatus(fromLocalDate, toLocalDate, statusType));\n        }\n        return listNumberPesByType;\n    }", "signature": "Map<String, Long> getNumberOfPes(LocalDateTime fromLocalDate, LocalDateTime toLocalDate, StatusType statusType)", "full_signature": "public Map<String, Long> getNumberOfPes(LocalDateTime fromLocalDate, LocalDateTime toLocalDate, StatusType statusType)", "class_method_signature": "MetricService.getNumberOfPes(LocalDateTime fromLocalDate, LocalDateTime toLocalDate, StatusType statusType)", "testcase": false, "constructor": false, "invocations": ["values", "put", "name", "countByDateBetweenAndStatus", "put", "name", "countByDateBetweenAndStatus"]}, "repository": {"repo_id": 180337008, "url": "https://github.com/SICTIAM/stela", "language": "Java", "is_fork": false, "fork_count": 0, "stargazer_count": 5, "size": 7714, "license": "licensed"}}