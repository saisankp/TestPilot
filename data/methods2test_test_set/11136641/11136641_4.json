{"test_class": {"identifier": "VirtualListViewControlDirContextProcessorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String OID_REQUEST = \"2.16.840.1.113730.3.4.9\";", "modifier": "private static final", "type": "String", "declarator": "OID_REQUEST = \"2.16.840.1.113730.3.4.9\"", "var_name": "OID_REQUEST"}, {"original_string": "private static final String OID_RESPONSE = \"2.16.840.1.113730.3.4.10\";", "modifier": "private static final", "type": "String", "declarator": "OID_RESPONSE = \"2.16.840.1.113730.3.4.10\"", "var_name": "OID_RESPONSE"}, {"original_string": "private LdapContext ldapContextMock;", "modifier": "private", "type": "LdapContext", "declarator": "ldapContextMock", "var_name": "ldapContextMock"}], "file": "sandbox/src/test/java/org/springframework/ldap/control/VirtualListViewControlDirContextProcessorTest.java"}, "test_case": {"identifier": "testPostProcess", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testPostProcess() throws Exception {\n\t\tint pageSize = 5;\n\t\tint targetOffset = 25;\n\t\tint listSize = 1000;\n\t\tVirtualListViewControlDirContextProcessor tested = new VirtualListViewControlDirContextProcessor(\n\t\t\t\tpageSize, targetOffset, listSize,\n\t\t\t\tnew VirtualListViewResultsCookie(new byte[0], 0, 0));\n\n\t\tint virtualListViewResult = 53; // unwilling to perform\n\t\tbyte[] encoded = encodeResponseValue(10, listSize,\n\t\t\t\tvirtualListViewResult);\n\t\tVirtualListViewResponseControl control = new VirtualListViewResponseControl(\n\t\t\t\tOID_RESPONSE, false, encoded);\n\t\twhen(ldapContextMock.getResponseControls()).thenReturn(new Control[]{control});\n\n\t\ttry {\n\t\t\ttested.postProcess(ldapContextMock);\n\t\t\tfail(\"OperationNotSupportedException expected\");\n\t\t}\n\t\tcatch (OperationNotSupportedException expected) {\n\t\t\tThrowable cause = expected.getCause();\n\t\t\tassertThat(cause.getClass()).isEqualTo(javax.naming.OperationNotSupportedException.class);\n\t\t\tassertThat(cause.getMessage()).isEqualTo(\"[LDAP: error code 53 - Unwilling To Perform]\");\n\t\t}\n\n\t\tassertThat(tested.getCookie()).isNotNull();\n\t\tassertThat(tested.getCookie().getCookie().length).isEqualTo(0);\n\t}", "signature": "void testPostProcess()", "full_signature": "@Test public void testPostProcess()", "class_method_signature": "VirtualListViewControlDirContextProcessorTest.testPostProcess()", "testcase": true, "constructor": false, "invocations": ["encodeResponseValue", "thenReturn", "when", "getResponseControls", "postProcess", "fail", "getCause", "isEqualTo", "assertThat", "getClass", "isEqualTo", "assertThat", "getMessage", "isNotNull", "assertThat", "getCookie", "isEqualTo", "assertThat", "getCookie", "getCookie"]}, "focal_class": {"identifier": "VirtualListViewControlDirContextProcessor", "superclass": "extends AbstractFallbackRequestAndResponseControlDirContextProcessor", "interfaces": "", "fields": [{"original_string": "private static final String DEFAULT_REQUEST_CONTROL  = \"com.sun.jndi.ldap.ctl.VirtualListViewControl\";", "modifier": "private static final", "type": "String", "declarator": "DEFAULT_REQUEST_CONTROL  = \"com.sun.jndi.ldap.ctl.VirtualListViewControl\"", "var_name": "DEFAULT_REQUEST_CONTROL"}, {"original_string": "private static final String DEFAULT_RESPONSE_CONTROL = \"com.sun.jndi.ldap.ctl.VirtualListViewResponseControl\";", "modifier": "private static final", "type": "String", "declarator": "DEFAULT_RESPONSE_CONTROL = \"com.sun.jndi.ldap.ctl.VirtualListViewResponseControl\"", "var_name": "DEFAULT_RESPONSE_CONTROL"}, {"original_string": "private static final boolean CRITICAL_CONTROL = true;", "modifier": "private static final", "type": "boolean", "declarator": "CRITICAL_CONTROL = true", "var_name": "CRITICAL_CONTROL"}, {"original_string": "private int pageSize;", "modifier": "private", "type": "int", "declarator": "pageSize", "var_name": "pageSize"}, {"original_string": "private VirtualListViewResultsCookie cookie;", "modifier": "private", "type": "VirtualListViewResultsCookie", "declarator": "cookie", "var_name": "cookie"}, {"original_string": "private int listSize;", "modifier": "private", "type": "int", "declarator": "listSize", "var_name": "listSize"}, {"original_string": "private int targetOffset;", "modifier": "private", "type": "int", "declarator": "targetOffset", "var_name": "targetOffset"}, {"original_string": "private NamingException exception;", "modifier": "private", "type": "NamingException", "declarator": "exception", "var_name": "exception"}, {"original_string": "private boolean offsetPercentage;", "modifier": "private", "type": "boolean", "declarator": "offsetPercentage", "var_name": "offsetPercentage"}], "methods": [{"identifier": "VirtualListViewControlDirContextProcessor", "parameters": "(int pageSize)", "modifiers": "public", "return": "", "signature": " VirtualListViewControlDirContextProcessor(int pageSize)", "full_signature": "public  VirtualListViewControlDirContextProcessor(int pageSize)", "class_method_signature": "VirtualListViewControlDirContextProcessor.VirtualListViewControlDirContextProcessor(int pageSize)", "testcase": false, "constructor": true}, {"identifier": "VirtualListViewControlDirContextProcessor", "parameters": "(int pageSize,\n            int targetOffset, int listSize, VirtualListViewResultsCookie cookie)", "modifiers": "public", "return": "", "signature": " VirtualListViewControlDirContextProcessor(int pageSize,\n            int targetOffset, int listSize, VirtualListViewResultsCookie cookie)", "full_signature": "public  VirtualListViewControlDirContextProcessor(int pageSize,\n            int targetOffset, int listSize, VirtualListViewResultsCookie cookie)", "class_method_signature": "VirtualListViewControlDirContextProcessor.VirtualListViewControlDirContextProcessor(int pageSize,\n            int targetOffset, int listSize, VirtualListViewResultsCookie cookie)", "testcase": false, "constructor": true}, {"identifier": "getCookie", "parameters": "()", "modifiers": "public", "return": "VirtualListViewResultsCookie", "signature": "VirtualListViewResultsCookie getCookie()", "full_signature": "public VirtualListViewResultsCookie getCookie()", "class_method_signature": "VirtualListViewControlDirContextProcessor.getCookie()", "testcase": false, "constructor": false}, {"identifier": "getPageSize", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getPageSize()", "full_signature": "public int getPageSize()", "class_method_signature": "VirtualListViewControlDirContextProcessor.getPageSize()", "testcase": false, "constructor": false}, {"identifier": "getListSize", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getListSize()", "full_signature": "public int getListSize()", "class_method_signature": "VirtualListViewControlDirContextProcessor.getListSize()", "testcase": false, "constructor": false}, {"identifier": "getException", "parameters": "()", "modifiers": "public", "return": "NamingException", "signature": "NamingException getException()", "full_signature": "public NamingException getException()", "class_method_signature": "VirtualListViewControlDirContextProcessor.getException()", "testcase": false, "constructor": false}, {"identifier": "getTargetOffset", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getTargetOffset()", "full_signature": "public int getTargetOffset()", "class_method_signature": "VirtualListViewControlDirContextProcessor.getTargetOffset()", "testcase": false, "constructor": false}, {"identifier": "setOffsetPercentage", "parameters": "(boolean isPercentage)", "modifiers": "public", "return": "void", "signature": "void setOffsetPercentage(boolean isPercentage)", "full_signature": "public void setOffsetPercentage(boolean isPercentage)", "class_method_signature": "VirtualListViewControlDirContextProcessor.setOffsetPercentage(boolean isPercentage)", "testcase": false, "constructor": false}, {"identifier": "isOffsetPercentage", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isOffsetPercentage()", "full_signature": "public boolean isOffsetPercentage()", "class_method_signature": "VirtualListViewControlDirContextProcessor.isOffsetPercentage()", "testcase": false, "constructor": false}, {"identifier": "createRequestControl", "parameters": "()", "modifiers": "public", "return": "Control", "signature": "Control createRequestControl()", "full_signature": "public Control createRequestControl()", "class_method_signature": "VirtualListViewControlDirContextProcessor.createRequestControl()", "testcase": false, "constructor": false}, {"identifier": "handleResponse", "parameters": "(Object control)", "modifiers": "protected", "return": "void", "signature": "void handleResponse(Object control)", "full_signature": "protected void handleResponse(Object control)", "class_method_signature": "VirtualListViewControlDirContextProcessor.handleResponse(Object control)", "testcase": false, "constructor": false}, {"identifier": "invokeMethod", "parameters": "(String methodName, Class clazz, Object control, Class[] paramTypes, Object[] paramValues)", "modifiers": "protected static", "return": "Object", "signature": "Object invokeMethod(String methodName, Class clazz, Object control, Class[] paramTypes, Object[] paramValues)", "full_signature": "protected static Object invokeMethod(String methodName, Class clazz, Object control, Class[] paramTypes, Object[] paramValues)", "class_method_signature": "VirtualListViewControlDirContextProcessor.invokeMethod(String methodName, Class clazz, Object control, Class[] paramTypes, Object[] paramValues)", "testcase": false, "constructor": false}], "file": "sandbox/src/main/java/org/springframework/ldap/control/VirtualListViewControlDirContextProcessor.java"}, "focal_method": {"identifier": "getCookie", "parameters": "()", "modifiers": "public", "return": "VirtualListViewResultsCookie", "body": "public VirtualListViewResultsCookie getCookie() {\n        return cookie;\n    }", "signature": "VirtualListViewResultsCookie getCookie()", "full_signature": "public VirtualListViewResultsCookie getCookie()", "class_method_signature": "VirtualListViewControlDirContextProcessor.getCookie()", "testcase": false, "constructor": false, "invocations": []}, "repository": {"repo_id": 11136641, "url": "https://github.com/spring-projects/spring-ldap", "language": "Java", "is_fork": false, "fork_count": 433, "stargazer_count": 240, "size": 24447, "license": "licensed"}}