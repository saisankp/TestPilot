{"test_class": {"identifier": "WFS_1_1_0_ProtocolTest", "superclass": "", "interfaces": "", "fields": [], "file": "modules/unsupported/wfs/src/test/java/org/geotools/data/wfs/v1_1_0/WFS_1_1_0_ProtocolTest.java"}, "test_case": {"identifier": "testDescribeFeatureType_HTTP_GET", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testDescribeFeatureType_HTTP_GET() throws IOException {\n        createTestProtocol(GEOS_ARCHSITES.CAPABILITIES);\n        try {\n            wfs.describeFeatureTypeGET(\"nonExistentTypeName\", \"text/xml; subtype=gml/3.1.1\");\n            fail(\"Expected IAE\");\n        } catch (IllegalArgumentException e) {\n            assertTrue(true);\n        }\n\n        HTTPResponse httpResponse = new TestHttpResponse(\"text/xml; subtype=gml/3.1.1\", null,\n                \"mock-content\");\n        TestHttpProtocol mockHttp = new TestHttpProtocol(httpResponse);\n\n        createTestProtocol(GEOS_ARCHSITES.CAPABILITIES, mockHttp);\n\n        WFSResponse wfsResponse;\n\n        wfsResponse = wfs.describeFeatureTypeGET(GEOS_ARCHSITES.FEATURETYPENAME,\n                \"text/xml; subtype=gml/3.1.1\");\n\n        URL baseUrl = mockHttp.targetUrl;\n        assertNotNull(baseUrl);\n        String externalForm = baseUrl.toExternalForm();\n        externalForm = URLDecoder.decode(externalForm, \"UTF-8\");\n\n        assertTrue(externalForm.startsWith(\"http://localhost:8080/geoserver/wfs?\"));\n        assertTrue(externalForm.contains(\"REQUEST=DescribeFeatureType\"));\n        assertTrue(externalForm.contains(\"TYPENAME=sf:archsites\"));\n        assertTrue(externalForm.contains(\"VERSION=1.1.0\"));\n        assertTrue(externalForm.contains(\"SERVICE=WFS\"));\n        assertTrue(externalForm.contains(\"NAMESPACE=xmlns(sf=http://www.openplans.org/spearfish)\"));\n        // assertTrue(externalForm.contains(\"OUTPUTFORMAT=text/xml; subtype=gml/3.1.1\"));\n\n        assertNotNull(wfsResponse);\n        assertEquals(Charset.forName(\"UTF-8\"), wfsResponse.getCharacterEncoding());\n        assertEquals(\"text/xml; subtype=gml/3.1.1\", wfsResponse.getContentType());\n        assertNotNull(wfsResponse.getInputStream());\n    }", "signature": "void testDescribeFeatureType_HTTP_GET()", "full_signature": "@Test public void testDescribeFeatureType_HTTP_GET()", "class_method_signature": "WFS_1_1_0_ProtocolTest.testDescribeFeatureType_HTTP_GET()", "testcase": true, "constructor": false, "invocations": ["createTestProtocol", "describeFeatureTypeGET", "fail", "assertTrue", "createTestProtocol", "describeFeatureTypeGET", "assertNotNull", "toExternalForm", "decode", "assertTrue", "startsWith", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains", "assertNotNull", "assertEquals", "forName", "getCharacterEncoding", "assertEquals", "getContentType", "assertNotNull", "getInputStream"]}, "focal_class": {"identifier": "WFS_1_1_0_Protocol", "superclass": "", "interfaces": "implements WFSProtocol", "fields": [{"original_string": "private static final Logger LOGGER = Logging.getLogger(\"org.geotools.data.wfs\");", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = Logging.getLogger(\"org.geotools.data.wfs\")", "var_name": "LOGGER"}, {"original_string": "private WFSStrategy strategy;", "modifier": "private", "type": "WFSStrategy", "declarator": "strategy", "var_name": "strategy"}, {"original_string": "final WFSCapabilitiesType capabilities;", "modifier": "final", "type": "WFSCapabilitiesType", "declarator": "capabilities", "var_name": "capabilities"}, {"original_string": "private final Map<String, FeatureTypeType> typeInfos;", "modifier": "private final", "type": "Map<String, FeatureTypeType>", "declarator": "typeInfos", "var_name": "typeInfos"}, {"original_string": "protected HTTPClient http;", "modifier": "protected", "type": "HTTPClient", "declarator": "http", "var_name": "http"}, {"original_string": "protected final Charset defaultEncoding;", "modifier": "protected final", "type": "Charset", "declarator": "defaultEncoding", "var_name": "defaultEncoding"}], "methods": [{"identifier": "WFS_1_1_0_Protocol", "parameters": "(InputStream capabilitiesReader, HTTPClient http,\n            Charset defaultEncoding, WFSStrategy strategy)", "modifiers": "public", "return": "", "signature": " WFS_1_1_0_Protocol(InputStream capabilitiesReader, HTTPClient http,\n            Charset defaultEncoding, WFSStrategy strategy)", "full_signature": "public  WFS_1_1_0_Protocol(InputStream capabilitiesReader, HTTPClient http,\n            Charset defaultEncoding, WFSStrategy strategy)", "class_method_signature": "WFS_1_1_0_Protocol.WFS_1_1_0_Protocol(InputStream capabilitiesReader, HTTPClient http,\n            Charset defaultEncoding, WFSStrategy strategy)", "testcase": false, "constructor": true}, {"identifier": "setStrategy", "parameters": "(WFSStrategy strategy)", "modifiers": "public", "return": "void", "signature": "void setStrategy(WFSStrategy strategy)", "full_signature": "public void setStrategy(WFSStrategy strategy)", "class_method_signature": "WFS_1_1_0_Protocol.setStrategy(WFSStrategy strategy)", "testcase": false, "constructor": false}, {"identifier": "getServiceVersion", "parameters": "()", "modifiers": "public", "return": "Version", "signature": "Version getServiceVersion()", "full_signature": "public Version getServiceVersion()", "class_method_signature": "WFS_1_1_0_Protocol.getServiceVersion()", "testcase": false, "constructor": false}, {"identifier": "getServiceTitle", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getServiceTitle()", "full_signature": "public String getServiceTitle()", "class_method_signature": "WFS_1_1_0_Protocol.getServiceTitle()", "testcase": false, "constructor": false}, {"identifier": "getServiceAbstract", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getServiceAbstract()", "full_signature": "public String getServiceAbstract()", "class_method_signature": "WFS_1_1_0_Protocol.getServiceAbstract()", "testcase": false, "constructor": false}, {"identifier": "getServiceKeywords", "parameters": "()", "modifiers": "public", "return": "Set<String>", "signature": "Set<String> getServiceKeywords()", "full_signature": "public Set<String> getServiceKeywords()", "class_method_signature": "WFS_1_1_0_Protocol.getServiceKeywords()", "testcase": false, "constructor": false}, {"identifier": "getServiceIdentification", "parameters": "()", "modifiers": "private", "return": "ServiceIdentificationType", "signature": "ServiceIdentificationType getServiceIdentification()", "full_signature": "private ServiceIdentificationType getServiceIdentification()", "class_method_signature": "WFS_1_1_0_Protocol.getServiceIdentification()", "testcase": false, "constructor": false}, {"identifier": "getServiceProviderUri", "parameters": "()", "modifiers": "public", "return": "URI", "signature": "URI getServiceProviderUri()", "full_signature": "public URI getServiceProviderUri()", "class_method_signature": "WFS_1_1_0_Protocol.getServiceProviderUri()", "testcase": false, "constructor": false}, {"identifier": "getSupportedGetFeatureOutputFormats", "parameters": "()", "modifiers": "public", "return": "Set<String>", "signature": "Set<String> getSupportedGetFeatureOutputFormats()", "full_signature": "public Set<String> getSupportedGetFeatureOutputFormats()", "class_method_signature": "WFS_1_1_0_Protocol.getSupportedGetFeatureOutputFormats()", "testcase": false, "constructor": false}, {"identifier": "getSupportedOutputFormats", "parameters": "(String typeName)", "modifiers": "public", "return": "Set<String>", "signature": "Set<String> getSupportedOutputFormats(String typeName)", "full_signature": "public Set<String> getSupportedOutputFormats(String typeName)", "class_method_signature": "WFS_1_1_0_Protocol.getSupportedOutputFormats(String typeName)", "testcase": false, "constructor": false}, {"identifier": "getFeatureTypeNames", "parameters": "()", "modifiers": "public", "return": "Set<QName>", "signature": "Set<QName> getFeatureTypeNames()", "full_signature": "public Set<QName> getFeatureTypeNames()", "class_method_signature": "WFS_1_1_0_Protocol.getFeatureTypeNames()", "testcase": false, "constructor": false}, {"identifier": "getFeatureTypeName", "parameters": "(String typeName)", "modifiers": "public", "return": "QName", "signature": "QName getFeatureTypeName(String typeName)", "full_signature": "public QName getFeatureTypeName(String typeName)", "class_method_signature": "WFS_1_1_0_Protocol.getFeatureTypeName(String typeName)", "testcase": false, "constructor": false}, {"identifier": "getFilterCapabilities", "parameters": "()", "modifiers": "public", "return": "FilterCapabilities", "signature": "FilterCapabilities getFilterCapabilities()", "full_signature": "public FilterCapabilities getFilterCapabilities()", "class_method_signature": "WFS_1_1_0_Protocol.getFilterCapabilities()", "testcase": false, "constructor": false}, {"identifier": "supportsOperation", "parameters": "(WFSOperationType operation, boolean post)", "modifiers": "public", "return": "boolean", "signature": "boolean supportsOperation(WFSOperationType operation, boolean post)", "full_signature": "public boolean supportsOperation(WFSOperationType operation, boolean post)", "class_method_signature": "WFS_1_1_0_Protocol.supportsOperation(WFSOperationType operation, boolean post)", "testcase": false, "constructor": false}, {"identifier": "getOperationURL", "parameters": "(WFSOperationType operation, boolean post)", "modifiers": "public", "return": "URL", "signature": "URL getOperationURL(WFSOperationType operation, boolean post)", "full_signature": "public URL getOperationURL(WFSOperationType operation, boolean post)", "class_method_signature": "WFS_1_1_0_Protocol.getOperationURL(WFSOperationType operation, boolean post)", "testcase": false, "constructor": false}, {"identifier": "getFeatureTypeTitle", "parameters": "(String typeName)", "modifiers": "public", "return": "String", "signature": "String getFeatureTypeTitle(String typeName)", "full_signature": "public String getFeatureTypeTitle(String typeName)", "class_method_signature": "WFS_1_1_0_Protocol.getFeatureTypeTitle(String typeName)", "testcase": false, "constructor": false}, {"identifier": "getFeatureTypeAbstract", "parameters": "(String typeName)", "modifiers": "public", "return": "String", "signature": "String getFeatureTypeAbstract(String typeName)", "full_signature": "public String getFeatureTypeAbstract(String typeName)", "class_method_signature": "WFS_1_1_0_Protocol.getFeatureTypeAbstract(String typeName)", "testcase": false, "constructor": false}, {"identifier": "getFeatureTypeWGS84Bounds", "parameters": "(String typeName)", "modifiers": "public", "return": "ReferencedEnvelope", "signature": "ReferencedEnvelope getFeatureTypeWGS84Bounds(String typeName)", "full_signature": "public ReferencedEnvelope getFeatureTypeWGS84Bounds(String typeName)", "class_method_signature": "WFS_1_1_0_Protocol.getFeatureTypeWGS84Bounds(String typeName)", "testcase": false, "constructor": false}, {"identifier": "getDefaultCRS", "parameters": "(String typeName)", "modifiers": "public", "return": "String", "signature": "String getDefaultCRS(String typeName)", "full_signature": "public String getDefaultCRS(String typeName)", "class_method_signature": "WFS_1_1_0_Protocol.getDefaultCRS(String typeName)", "testcase": false, "constructor": false}, {"identifier": "getSupportedCRSIdentifiers", "parameters": "(String typeName)", "modifiers": "public", "return": "Set<String>", "signature": "Set<String> getSupportedCRSIdentifiers(String typeName)", "full_signature": "public Set<String> getSupportedCRSIdentifiers(String typeName)", "class_method_signature": "WFS_1_1_0_Protocol.getSupportedCRSIdentifiers(String typeName)", "testcase": false, "constructor": false}, {"identifier": "getFeatureTypeKeywords", "parameters": "(String typeName)", "modifiers": "public", "return": "Set<String>", "signature": "Set<String> getFeatureTypeKeywords(String typeName)", "full_signature": "public Set<String> getFeatureTypeKeywords(String typeName)", "class_method_signature": "WFS_1_1_0_Protocol.getFeatureTypeKeywords(String typeName)", "testcase": false, "constructor": false}, {"identifier": "getDescribeFeatureTypeURLGet", "parameters": "(String typeName)", "modifiers": "public", "return": "URL", "signature": "URL getDescribeFeatureTypeURLGet(String typeName)", "full_signature": "public URL getDescribeFeatureTypeURLGet(String typeName)", "class_method_signature": "WFS_1_1_0_Protocol.getDescribeFeatureTypeURLGet(String typeName)", "testcase": false, "constructor": false}, {"identifier": "describeFeatureTypeGET", "parameters": "(String typeName, String outputFormat)", "modifiers": "public", "return": "WFSResponse", "signature": "WFSResponse describeFeatureTypeGET(String typeName, String outputFormat)", "full_signature": "public WFSResponse describeFeatureTypeGET(String typeName, String outputFormat)", "class_method_signature": "WFS_1_1_0_Protocol.describeFeatureTypeGET(String typeName, String outputFormat)", "testcase": false, "constructor": false}, {"identifier": "describeFeatureTypePOST", "parameters": "(String typeName, String outputFormat)", "modifiers": "public", "return": "WFSResponse", "signature": "WFSResponse describeFeatureTypePOST(String typeName, String outputFormat)", "full_signature": "public WFSResponse describeFeatureTypePOST(String typeName, String outputFormat)", "class_method_signature": "WFS_1_1_0_Protocol.describeFeatureTypePOST(String typeName, String outputFormat)", "testcase": false, "constructor": false}, {"identifier": "issueGetFeatureGET", "parameters": "(final GetFeature request)", "modifiers": "public", "return": "WFSResponse", "signature": "WFSResponse issueGetFeatureGET(final GetFeature request)", "full_signature": "public WFSResponse issueGetFeatureGET(final GetFeature request)", "class_method_signature": "WFS_1_1_0_Protocol.issueGetFeatureGET(final GetFeature request)", "testcase": false, "constructor": false}, {"identifier": "issueGetFeaturePOST", "parameters": "(final GetFeature request)", "modifiers": "public", "return": "WFSResponse", "signature": "WFSResponse issueGetFeaturePOST(final GetFeature request)", "full_signature": "public WFSResponse issueGetFeaturePOST(final GetFeature request)", "class_method_signature": "WFS_1_1_0_Protocol.issueGetFeaturePOST(final GetFeature request)", "testcase": false, "constructor": false}, {"identifier": "dispose", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void dispose()", "full_signature": "public void dispose()", "class_method_signature": "WFS_1_1_0_Protocol.dispose()", "testcase": false, "constructor": false}, {"identifier": "getFeatureTypeInfo", "parameters": "(final String typeName)", "modifiers": "private", "return": "FeatureTypeType", "signature": "FeatureTypeType getFeatureTypeInfo(final String typeName)", "full_signature": "private FeatureTypeType getFeatureTypeInfo(final String typeName)", "class_method_signature": "WFS_1_1_0_Protocol.getFeatureTypeInfo(final String typeName)", "testcase": false, "constructor": false}, {"identifier": "parseCapabilities", "parameters": "(InputStream capabilitiesReader)", "modifiers": "protected", "return": "WFSCapabilitiesType", "signature": "WFSCapabilitiesType parseCapabilities(InputStream capabilitiesReader)", "full_signature": "protected WFSCapabilitiesType parseCapabilities(InputStream capabilitiesReader)", "class_method_signature": "WFS_1_1_0_Protocol.parseCapabilities(InputStream capabilitiesReader)", "testcase": false, "constructor": false}, {"identifier": "extractKeywords", "parameters": "(List<KeywordsType> keywordsList)", "modifiers": "private", "return": "Set<String>", "signature": "Set<String> extractKeywords(List<KeywordsType> keywordsList)", "full_signature": "private Set<String> extractKeywords(List<KeywordsType> keywordsList)", "class_method_signature": "WFS_1_1_0_Protocol.extractKeywords(List<KeywordsType> keywordsList)", "testcase": false, "constructor": false}, {"identifier": "getOperationMetadata", "parameters": "(WFSOperationType operation)", "modifiers": "private", "return": "OperationType", "signature": "OperationType getOperationMetadata(WFSOperationType operation)", "full_signature": "private OperationType getOperationMetadata(WFSOperationType operation)", "class_method_signature": "WFS_1_1_0_Protocol.getOperationMetadata(WFSOperationType operation)", "testcase": false, "constructor": false}, {"identifier": "getDescribeFeatureTypeURLGet", "parameters": "(String typeName, String outputFormat)", "modifiers": "private", "return": "URL", "signature": "URL getDescribeFeatureTypeURLGet(String typeName, String outputFormat)", "full_signature": "private URL getDescribeFeatureTypeURLGet(String typeName, String outputFormat)", "class_method_signature": "WFS_1_1_0_Protocol.getDescribeFeatureTypeURLGet(String typeName, String outputFormat)", "testcase": false, "constructor": false}, {"identifier": "issueGetRequest", "parameters": "(EObject request, URL url, Map<String, String> kvp)", "modifiers": "private", "return": "WFSResponse", "signature": "WFSResponse issueGetRequest(EObject request, URL url, Map<String, String> kvp)", "full_signature": "private WFSResponse issueGetRequest(EObject request, URL url, Map<String, String> kvp)", "class_method_signature": "WFS_1_1_0_Protocol.issueGetRequest(EObject request, URL url, Map<String, String> kvp)", "testcase": false, "constructor": false}, {"identifier": "issuePostRequest", "parameters": "(final EObject request, final URL url, final Encoder encoder)", "modifiers": "private", "return": "WFSResponse", "signature": "WFSResponse issuePostRequest(final EObject request, final URL url, final Encoder encoder)", "full_signature": "private WFSResponse issuePostRequest(final EObject request, final URL url, final Encoder encoder)", "class_method_signature": "WFS_1_1_0_Protocol.issuePostRequest(final EObject request, final URL url, final Encoder encoder)", "testcase": false, "constructor": false}, {"identifier": "getOperationURI", "parameters": "(WFSOperationType operation, HttpMethod method)", "modifiers": "private", "return": "String", "signature": "String getOperationURI(WFSOperationType operation, HttpMethod method)", "full_signature": "private String getOperationURI(WFSOperationType operation, HttpMethod method)", "class_method_signature": "WFS_1_1_0_Protocol.getOperationURI(WFSOperationType operation, HttpMethod method)", "testcase": false, "constructor": false}, {"identifier": "encode", "parameters": "(final EObject request, final Configuration configuration,\n            final OutputStream out, final Charset charset)", "modifiers": "public static", "return": "void", "signature": "void encode(final EObject request, final Configuration configuration,\n            final OutputStream out, final Charset charset)", "full_signature": "public static void encode(final EObject request, final Configuration configuration,\n            final OutputStream out, final Charset charset)", "class_method_signature": "WFS_1_1_0_Protocol.encode(final EObject request, final Configuration configuration,\n            final OutputStream out, final Charset charset)", "testcase": false, "constructor": false}, {"identifier": "encode", "parameters": "(EObject request, Encoder encoder, OutputStream out)", "modifiers": "private static", "return": "void", "signature": "void encode(EObject request, Encoder encoder, OutputStream out)", "full_signature": "private static void encode(EObject request, Encoder encoder, OutputStream out)", "class_method_signature": "WFS_1_1_0_Protocol.encode(EObject request, Encoder encoder, OutputStream out)", "testcase": false, "constructor": false}, {"identifier": "getElementName", "parameters": "(EObject originatingRequest)", "modifiers": "private static", "return": "QName", "signature": "QName getElementName(EObject originatingRequest)", "full_signature": "private static QName getElementName(EObject originatingRequest)", "class_method_signature": "WFS_1_1_0_Protocol.getElementName(EObject originatingRequest)", "testcase": false, "constructor": false}, {"identifier": "getDefaultOutputFormat", "parameters": "(WFSOperationType operation)", "modifiers": "public", "return": "String", "signature": "String getDefaultOutputFormat(WFSOperationType operation)", "full_signature": "public String getDefaultOutputFormat(WFSOperationType operation)", "class_method_signature": "WFS_1_1_0_Protocol.getDefaultOutputFormat(WFSOperationType operation)", "testcase": false, "constructor": false}, {"identifier": "splitFilters", "parameters": "(Filter filter)", "modifiers": "public", "return": "Filter[]", "signature": "Filter[] splitFilters(Filter filter)", "full_signature": "public Filter[] splitFilters(Filter filter)", "class_method_signature": "WFS_1_1_0_Protocol.splitFilters(Filter filter)", "testcase": false, "constructor": false}, {"identifier": "issueDescribeFeatureTypeGET", "parameters": "(final String prefixedTypeName,\n            CoordinateReferenceSystem crs)", "modifiers": "@Override public", "return": "SimpleFeatureType", "signature": "SimpleFeatureType issueDescribeFeatureTypeGET(final String prefixedTypeName,\n            CoordinateReferenceSystem crs)", "full_signature": "@Override public SimpleFeatureType issueDescribeFeatureTypeGET(final String prefixedTypeName,\n            CoordinateReferenceSystem crs)", "class_method_signature": "WFS_1_1_0_Protocol.issueDescribeFeatureTypeGET(final String prefixedTypeName,\n            CoordinateReferenceSystem crs)", "testcase": false, "constructor": false}], "file": "modules/unsupported/wfs/src/main/java/org/geotools/data/wfs/v1_1_0/WFS_1_1_0_Protocol.java"}, "focal_method": {"identifier": "describeFeatureTypeGET", "parameters": "(String typeName, String outputFormat)", "modifiers": "public", "return": "WFSResponse", "body": "public WFSResponse describeFeatureTypeGET(String typeName, String outputFormat)\n            throws IOException {\n        if (!supportsOperation(DESCRIBE_FEATURETYPE, false)) {\n            throw new UnsupportedOperationException(\n                    \"The server does not support DescribeFeatureType for HTTP method GET\");\n        }\n\n        URL url = getDescribeFeatureTypeURLGet(typeName, outputFormat);\n        WFSResponse response = issueGetRequest(null, url, Collections.EMPTY_MAP);\n        return response;\n    }", "signature": "WFSResponse describeFeatureTypeGET(String typeName, String outputFormat)", "full_signature": "public WFSResponse describeFeatureTypeGET(String typeName, String outputFormat)", "class_method_signature": "WFS_1_1_0_Protocol.describeFeatureTypeGET(String typeName, String outputFormat)", "testcase": false, "constructor": false, "invocations": ["supportsOperation", "getDescribeFeatureTypeURLGet", "issueGetRequest"]}, "repository": {"repo_id": 40735368, "url": "https://github.com/FUNCATE/geotools-android", "language": "Java", "is_fork": false, "fork_count": 2, "stargazer_count": 8, "size": 63952, "license": "licensed"}}