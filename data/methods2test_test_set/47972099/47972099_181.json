{"test_class": {"identifier": "PrimitiveInputFormatTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Path PATH = new Path(\"an/ignored/file/\");", "modifier": "private static final", "type": "Path", "declarator": "PATH = new Path(\"an/ignored/file/\")", "var_name": "PATH"}], "file": "flink-java/src/test/java/org/apache/flink/api/java/io/PrimitiveInputFormatTest.java"}, "test_case": {"identifier": "testRemovingTrailingCR", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testRemovingTrailingCR() {\n\t\ttry {\n\t\t\tString first = \"First line\";\n\t\t\tString second = \"Second line\";\n\t\t\tString fileContent = first + \"\\r\\n\" + second + \"\\r\\n\";\n\t\t\tfinal FileInputSplit split = createInputSplit(fileContent);\n\n\t\t\tfinal PrimitiveInputFormat<String> format = new PrimitiveInputFormat<String>(PATH ,String.class);\n\n\t\t\tformat.configure(new Configuration());\n\t\t\tformat.open(split);\n\n\t\t\tString result = null;\n\n\t\t\tresult = format.nextRecord(result);\n\t\t\tassertEquals(first, result);\n\n\t\t\tresult = format.nextRecord(result);\n\t\t\tassertEquals(second, result);\n\t\t}\n\t\tcatch (Exception ex) {\n\t\t\tfail(\"Test failed due to a \" + ex.getClass().getName() + \": \" + ex.getMessage());\n\t\t}\n\t}", "signature": "void testRemovingTrailingCR()", "full_signature": "@Test public void testRemovingTrailingCR()", "class_method_signature": "PrimitiveInputFormatTest.testRemovingTrailingCR()", "testcase": true, "constructor": false, "invocations": ["createInputSplit", "configure", "open", "nextRecord", "assertEquals", "nextRecord", "assertEquals", "fail", "getName", "getClass", "getMessage"]}, "focal_class": {"identifier": "PrimitiveInputFormat", "superclass": "extends DelimitedInputFormat<OT>", "interfaces": "", "fields": [{"original_string": "private static final long serialVersionUID = 1L;", "modifier": "private static final", "type": "long", "declarator": "serialVersionUID = 1L", "var_name": "serialVersionUID"}, {"original_string": "private Class<OT> primitiveClass;", "modifier": "private", "type": "Class<OT>", "declarator": "primitiveClass", "var_name": "primitiveClass"}, {"original_string": "private static final byte CARRIAGE_RETURN = (byte) '\\r';", "modifier": "private static final", "type": "byte", "declarator": "CARRIAGE_RETURN = (byte) '\\r'", "var_name": "CARRIAGE_RETURN"}, {"original_string": "private static final byte NEW_LINE = (byte) '\\n';", "modifier": "private static final", "type": "byte", "declarator": "NEW_LINE = (byte) '\\n'", "var_name": "NEW_LINE"}, {"original_string": "private transient FieldParser<OT> parser;", "modifier": "private transient", "type": "FieldParser<OT>", "declarator": "parser", "var_name": "parser"}], "methods": [{"identifier": "PrimitiveInputFormat", "parameters": "(Path filePath, Class<OT> primitiveClass)", "modifiers": "public", "return": "", "signature": " PrimitiveInputFormat(Path filePath, Class<OT> primitiveClass)", "full_signature": "public  PrimitiveInputFormat(Path filePath, Class<OT> primitiveClass)", "class_method_signature": "PrimitiveInputFormat.PrimitiveInputFormat(Path filePath, Class<OT> primitiveClass)", "testcase": false, "constructor": true}, {"identifier": "PrimitiveInputFormat", "parameters": "(Path filePath, String delimiter, Class<OT> primitiveClass)", "modifiers": "public", "return": "", "signature": " PrimitiveInputFormat(Path filePath, String delimiter, Class<OT> primitiveClass)", "full_signature": "public  PrimitiveInputFormat(Path filePath, String delimiter, Class<OT> primitiveClass)", "class_method_signature": "PrimitiveInputFormat.PrimitiveInputFormat(Path filePath, String delimiter, Class<OT> primitiveClass)", "testcase": false, "constructor": true}, {"identifier": "open", "parameters": "(FileInputSplit split)", "modifiers": "@Override public", "return": "void", "signature": "void open(FileInputSplit split)", "full_signature": "@Override public void open(FileInputSplit split)", "class_method_signature": "PrimitiveInputFormat.open(FileInputSplit split)", "testcase": false, "constructor": false}, {"identifier": "readRecord", "parameters": "(OT reuse, byte[] bytes, int offset, int numBytes)", "modifiers": "@Override public", "return": "OT", "signature": "OT readRecord(OT reuse, byte[] bytes, int offset, int numBytes)", "full_signature": "@Override public OT readRecord(OT reuse, byte[] bytes, int offset, int numBytes)", "class_method_signature": "PrimitiveInputFormat.readRecord(OT reuse, byte[] bytes, int offset, int numBytes)", "testcase": false, "constructor": false}], "file": "flink-java/src/main/java/org/apache/flink/api/java/io/PrimitiveInputFormat.java"}, "focal_method": {"identifier": "open", "parameters": "(FileInputSplit split)", "modifiers": "@Override public", "return": "void", "body": "@Override\n\tpublic void open(FileInputSplit split) throws IOException {\n\t\tsuper.open(split);\n\t\tClass<? extends FieldParser<OT>> parserType = FieldParser.getParserForType(primitiveClass);\n\t\tif (parserType == null) {\n\t\t\tthrow new IllegalArgumentException(\"The type '\" + primitiveClass.getName() + \"' is not supported for the primitive input format.\");\n\t\t}\n\t\tparser = InstantiationUtil.instantiate(parserType, FieldParser.class);\n\t}", "signature": "void open(FileInputSplit split)", "full_signature": "@Override public void open(FileInputSplit split)", "class_method_signature": "PrimitiveInputFormat.open(FileInputSplit split)", "testcase": false, "constructor": false, "invocations": ["open", "getParserForType", "getName", "instantiate"]}, "repository": {"repo_id": 47972099, "url": "https://github.com/streamline-eu/ML-Pipelines", "language": "Java", "is_fork": false, "fork_count": 7, "stargazer_count": 7, "size": 85537, "license": "licensed"}}