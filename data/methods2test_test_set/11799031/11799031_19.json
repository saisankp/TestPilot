{"test_class": {"identifier": "TimeTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(TimeTest.class);", "modifier": "private static", "type": "org.slf4j.Logger", "declarator": "log = org.slf4j.LoggerFactory.getLogger(TimeTest.class)", "var_name": "log"}], "file": "gdp-data-access/src/test/java/gov/usgs/cida/gdp/dataaccess/bean/TimeTest.java"}, "test_case": {"identifier": "testTimeWriteToCache", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void testTimeWriteToCache() {\n\t\tString[] input = new String[]{\"2001-07-01T01:01:01Z\", \"2002-07-15T01:01:01Z\"};\n\t\tTime bean = null;\n\t\ttry {\n\t\t\tbean = new Time(input);\n\t\t} catch (ParseException ex) {\n\t\t\tfail(ex.getMessage());\n\t\t}\n\n\t\tCacheIdentifier cacheId = null;\n\t\ttry {\n\t\t\tcacheId = new ResponseCache.CacheIdentifier(\"https://not-a-r-eal-url.gov\", ResponseCache.CacheIdentifier.CacheType.TIME_RANGE, \"Dummy cache data\");\n\t\t\tboolean didWrite = bean.writeToCache(cacheId);\n\t\t\tassertTrue(didWrite);\n\t\t} finally {\n\t\t\tif (cacheId != null) {\n\t\t\t\ttry {\n\t\t\t\t\tFileUtils.deleteQuietly(cacheId.getFile());\n\t\t\t\t} catch (IOException ex) {\n\t\t\t\t\t// Not handled\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}", "signature": "void testTimeWriteToCache()", "full_signature": "@Test public void testTimeWriteToCache()", "class_method_signature": "TimeTest.testTimeWriteToCache()", "testcase": true, "constructor": false, "invocations": ["fail", "getMessage", "writeToCache", "assertTrue", "deleteQuietly", "getFile"]}, "focal_class": {"identifier": "Time", "superclass": "extends Response", "interfaces": "", "fields": [{"original_string": "private static final long serialVersionUID = 82376486L;", "modifier": "private static final", "type": "long", "declarator": "serialVersionUID = 82376486L", "var_name": "serialVersionUID"}, {"original_string": "private static final transient org.slf4j.Logger log = LoggerFactory.getLogger(Time.class);", "modifier": "private static final transient", "type": "org.slf4j.Logger", "declarator": "log = LoggerFactory.getLogger(Time.class)", "var_name": "log"}, {"original_string": "@XStreamAlias(\"times\")\n    @XStreamImplicit(itemFieldName = \"time\")\n    private String[] time = new String[2];", "modifier": "@XStreamAlias(\"times\")\n    @XStreamImplicit(itemFieldName = \"time\")\n    private", "type": "String[]", "declarator": "time = new String[2]", "var_name": "time"}, {"original_string": "private TimeBreakdown starttime;", "modifier": "private", "type": "TimeBreakdown", "declarator": "starttime", "var_name": "starttime"}, {"original_string": "private TimeBreakdown endtime;", "modifier": "private", "type": "TimeBreakdown", "declarator": "endtime", "var_name": "endtime"}], "methods": [{"identifier": "Time", "parameters": "()", "modifiers": "public", "return": "", "signature": " Time()", "full_signature": "public  Time()", "class_method_signature": "Time.Time()", "testcase": false, "constructor": true}, {"identifier": "Time", "parameters": "(String[] dateRange)", "modifiers": "public", "return": "", "signature": " Time(String[] dateRange)", "full_signature": "public  Time(String[] dateRange)", "class_method_signature": "Time.Time(String[] dateRange)", "testcase": false, "constructor": true}, {"identifier": "setTime", "parameters": "(String[] time)", "modifiers": "public", "return": "void", "signature": "void setTime(String[] time)", "full_signature": "public void setTime(String[] time)", "class_method_signature": "Time.setTime(String[] time)", "testcase": false, "constructor": false}, {"identifier": "getTime", "parameters": "()", "modifiers": "public", "return": "String[]", "signature": "String[] getTime()", "full_signature": "public String[] getTime()", "class_method_signature": "Time.getTime()", "testcase": false, "constructor": false}, {"identifier": "setStarttime", "parameters": "(TimeBreakdown starttime)", "modifiers": "public", "return": "void", "signature": "void setStarttime(TimeBreakdown starttime)", "full_signature": "public void setStarttime(TimeBreakdown starttime)", "class_method_signature": "Time.setStarttime(TimeBreakdown starttime)", "testcase": false, "constructor": false}, {"identifier": "getStarttime", "parameters": "()", "modifiers": "public", "return": "TimeBreakdown", "signature": "TimeBreakdown getStarttime()", "full_signature": "public TimeBreakdown getStarttime()", "class_method_signature": "Time.getStarttime()", "testcase": false, "constructor": false}, {"identifier": "setEndtime", "parameters": "(TimeBreakdown endtime)", "modifiers": "public", "return": "void", "signature": "void setEndtime(TimeBreakdown endtime)", "full_signature": "public void setEndtime(TimeBreakdown endtime)", "class_method_signature": "Time.setEndtime(TimeBreakdown endtime)", "testcase": false, "constructor": false}, {"identifier": "getEndtime", "parameters": "()", "modifiers": "public", "return": "TimeBreakdown", "signature": "TimeBreakdown getEndtime()", "full_signature": "public TimeBreakdown getEndtime()", "class_method_signature": "Time.getEndtime()", "testcase": false, "constructor": false}, {"identifier": "toXML", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String toXML()", "full_signature": "@Override public String toXML()", "class_method_signature": "Time.toXML()", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String toString()", "full_signature": "@Override public String toString()", "class_method_signature": "Time.toString()", "testcase": false, "constructor": false}, {"identifier": "buildFromCache", "parameters": "(ResponseCache.CacheIdentifier ci)", "modifiers": "public static", "return": "Time", "signature": "Time buildFromCache(ResponseCache.CacheIdentifier ci)", "full_signature": "public static Time buildFromCache(ResponseCache.CacheIdentifier ci)", "class_method_signature": "Time.buildFromCache(ResponseCache.CacheIdentifier ci)", "testcase": false, "constructor": false}, {"identifier": "writeToCache", "parameters": "(ResponseCache.CacheIdentifier ci)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean writeToCache(ResponseCache.CacheIdentifier ci)", "full_signature": "@Override public boolean writeToCache(ResponseCache.CacheIdentifier ci)", "class_method_signature": "Time.writeToCache(ResponseCache.CacheIdentifier ci)", "testcase": false, "constructor": false}], "file": "gdp-data-access/src/main/java/gov/usgs/cida/gdp/dataaccess/bean/Time.java"}, "focal_method": {"identifier": "writeToCache", "parameters": "(ResponseCache.CacheIdentifier ci)", "modifiers": "@Override public", "return": "boolean", "body": "@Override\n    public boolean writeToCache(ResponseCache.CacheIdentifier ci) {\n        FileOutputStream filOutputStream = null;\n        ObjectOutputStream objOutputStream = null;\n        File cacheFile;\n        try {\n            cacheFile = ci.getFile();\n        } catch (IOException ex) {\n            log.warn(\"Could not create new cache file\", ex);\n            return false;\n        }\n        try {\n            try {\n                cacheFile.createNewFile();\n                filOutputStream = new FileOutputStream(cacheFile);\n            } catch (FileNotFoundException ex) {\n                log.warn(\"Could not open output stream to file {}\", cacheFile.getPath(), ex);\n                return false;\n            } catch (IOException ex) {\n                log.warn(\"Could notcreate new cache file {}\", cacheFile.getPath(), ex);\n                return false;\n            }\n\n            try {\n                objOutputStream = new ObjectOutputStream(filOutputStream);\n            } catch (IOException ex) {\n                log.warn(\"Could not open object output stream to file {}\", cacheFile.getPath(), ex);\n                return false;\n            }\n            try {\n                objOutputStream.writeObject(this);\n            } catch (IOException ex) {\n                log.warn(\"Could not write object output to output stream\", ex);\n                return false;\n            }\n            return true;\n        } finally {\n            IOUtils.closeQuietly(filOutputStream);\n            IOUtils.closeQuietly(objOutputStream);\n        }\n    }", "signature": "boolean writeToCache(ResponseCache.CacheIdentifier ci)", "full_signature": "@Override public boolean writeToCache(ResponseCache.CacheIdentifier ci)", "class_method_signature": "Time.writeToCache(ResponseCache.CacheIdentifier ci)", "testcase": false, "constructor": false, "invocations": ["getFile", "warn", "createNewFile", "warn", "getPath", "warn", "getPath", "warn", "getPath", "writeObject", "warn", "closeQuietly", "closeQuietly"]}, "repository": {"repo_id": 11799031, "url": "https://github.com/USGS-CIDA/geo-data-portal", "language": "Java", "is_fork": false, "fork_count": 21, "stargazer_count": 9, "size": 178468, "license": "licensed"}}