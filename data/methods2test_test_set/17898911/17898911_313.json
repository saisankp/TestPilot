{"test_class": {"identifier": "DataSetDefEditorPresenterTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock EventSourceMock<ChangeTitleWidgetEvent> changeTitleNotification;", "modifier": "@Mock", "type": "EventSourceMock<ChangeTitleWidgetEvent>", "declarator": "changeTitleNotification", "var_name": "changeTitleNotification"}, {"original_string": "@Mock EventSourceMock<NotificationEvent> notification;", "modifier": "@Mock", "type": "EventSourceMock<NotificationEvent>", "declarator": "notification", "var_name": "notification"}, {"original_string": "@Mock VersionRecordManager versionRecordManager;", "modifier": "@Mock", "type": "VersionRecordManager", "declarator": "versionRecordManager", "var_name": "versionRecordManager"}, {"original_string": "@Mock BasicFileMenuBuilder menuBuilder;", "modifier": "@Mock", "type": "BasicFileMenuBuilder", "declarator": "menuBuilder", "var_name": "menuBuilder"}, {"original_string": "@Mock DefaultFileNameValidator fileNameValidator;", "modifier": "@Mock", "type": "DefaultFileNameValidator", "declarator": "fileNameValidator", "var_name": "fileNameValidator"}, {"original_string": "@Mock PlaceManager placeManager;", "modifier": "@Mock", "type": "PlaceManager", "declarator": "placeManager", "var_name": "placeManager"}, {"original_string": "@Mock PlaceRequest placeRequest;", "modifier": "@Mock", "type": "PlaceRequest", "declarator": "placeRequest", "var_name": "placeRequest"}, {"original_string": "@Mock ObservablePath observablePath;", "modifier": "@Mock", "type": "ObservablePath", "declarator": "observablePath", "var_name": "observablePath"}, {"original_string": "@Mock SyncBeanManager beanManager;", "modifier": "@Mock", "type": "SyncBeanManager", "declarator": "beanManager", "var_name": "beanManager"}, {"original_string": "@Mock DataSetEditorWorkflowFactory workflowFactory;", "modifier": "@Mock", "type": "DataSetEditorWorkflowFactory", "declarator": "workflowFactory", "var_name": "workflowFactory"}, {"original_string": "@Mock DataSetDefType resourceType;", "modifier": "@Mock", "type": "DataSetDefType", "declarator": "resourceType", "var_name": "resourceType"}, {"original_string": "@Mock ErrorPopupPresenter errorPopupPresenter;", "modifier": "@Mock", "type": "ErrorPopupPresenter", "declarator": "errorPopupPresenter", "var_name": "errorPopupPresenter"}, {"original_string": "@Mock DataSetDefVfsServices dataSetDefVfsServices;", "modifier": "@Mock", "type": "DataSetDefVfsServices", "declarator": "dataSetDefVfsServices", "var_name": "dataSetDefVfsServices"}, {"original_string": "@Mock DataSetDef dataSetDef;", "modifier": "@Mock", "type": "DataSetDef", "declarator": "dataSetDef", "var_name": "dataSetDef"}, {"original_string": "@Mock DataSetDefEditor dataSetDefEditor;", "modifier": "@Mock", "type": "DataSetDefEditor", "declarator": "dataSetDefEditor", "var_name": "dataSetDefEditor"}, {"original_string": "@Mock DataSetDefScreenView view;", "modifier": "@Mock", "type": "DataSetDefScreenView", "declarator": "view", "var_name": "view"}, {"original_string": "Caller<DataSetDefVfsServices> services;", "modifier": "", "type": "Caller<DataSetDefVfsServices>", "declarator": "services", "var_name": "services"}, {"original_string": "@InjectMocks\n    private DataSetDefEditorPresenter presenter;", "modifier": "@InjectMocks\n    private", "type": "DataSetDefEditorPresenter", "declarator": "presenter", "var_name": "presenter"}, {"original_string": "final List<DataColumnDef> columns = mock(List.class);", "modifier": "final", "type": "List<DataColumnDef>", "declarator": "columns = mock(List.class)", "var_name": "columns"}, {"original_string": "final DataSetEditWorkflow editWorkflow = mock(DataSetEditWorkflow.class);", "modifier": "final", "type": "DataSetEditWorkflow", "declarator": "editWorkflow = mock(DataSetEditWorkflow.class)", "var_name": "editWorkflow"}], "file": "dashbuilder-client/dashbuilder-dataset-editor/src/test/java/org/dashbuilder/dataset/editor/client/screens/DataSetDefEditorPresenterTest.java"}, "test_case": {"identifier": "testOnValidateSuccess", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testOnValidateSuccess() {\n        when(editWorkflow.hasErrors()).thenReturn(false);\n        presenter.onValidate().execute();\n        verify(editWorkflow, times(1)).flush();\n        final ArgumentCaptor<NotificationEvent> dataCaptor =  ArgumentCaptor.forClass(NotificationEvent.class);\n        verify(notification, times(1)).fire(dataCaptor.capture());\n        NotificationEvent ne = dataCaptor.getValue();\n        assertNotNull(ne);\n        assertEquals(NotificationEvent.NotificationType.SUCCESS, ne.getType());\n    }", "signature": "void testOnValidateSuccess()", "full_signature": "@Test public void testOnValidateSuccess()", "class_method_signature": "DataSetDefEditorPresenterTest.testOnValidateSuccess()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "hasErrors", "execute", "onValidate", "flush", "verify", "times", "forClass", "fire", "verify", "times", "capture", "getValue", "assertNotNull", "assertEquals", "getType"]}, "focal_class": {"identifier": "DataSetDefEditorPresenter", "superclass": "extends BaseEditor", "interfaces": "", "fields": [{"original_string": "@Inject\n    SyncBeanManager beanManager;", "modifier": "@Inject", "type": "SyncBeanManager", "declarator": "beanManager", "var_name": "beanManager"}, {"original_string": "@Inject\n    DataSetEditorWorkflowFactory workflowFactory;", "modifier": "@Inject", "type": "DataSetEditorWorkflowFactory", "declarator": "workflowFactory", "var_name": "workflowFactory"}, {"original_string": "@Inject\n    Caller<DataSetDefVfsServices> services;", "modifier": "@Inject", "type": "Caller<DataSetDefVfsServices>", "declarator": "services", "var_name": "services"}, {"original_string": "@Inject\n    PlaceManager placeManager;", "modifier": "@Inject", "type": "PlaceManager", "declarator": "placeManager", "var_name": "placeManager"}, {"original_string": "@Inject\n    DataSetDefType resourceType;", "modifier": "@Inject", "type": "DataSetDefType", "declarator": "resourceType", "var_name": "resourceType"}, {"original_string": "@Inject\n    ErrorPopupPresenter errorPopupPresenter;", "modifier": "@Inject", "type": "ErrorPopupPresenter", "declarator": "errorPopupPresenter", "var_name": "errorPopupPresenter"}, {"original_string": "@Inject\n    SavePopUpPresenter savePopUpPresenter;", "modifier": "@Inject", "type": "SavePopUpPresenter", "declarator": "savePopUpPresenter", "var_name": "savePopUpPresenter"}, {"original_string": "@Inject\n    public DataSetDefScreenView view;", "modifier": "@Inject\n    public", "type": "DataSetDefScreenView", "declarator": "view", "var_name": "view"}, {"original_string": "DataSetEditWorkflow workflow;", "modifier": "", "type": "DataSetEditWorkflow", "declarator": "workflow", "var_name": "workflow"}, {"original_string": "RemoteCallback<DataSetDef> getDefinitionCallback = result -> {\n        load(result,\n             result != null ? result.getColumns() : null);\n    };", "modifier": "", "type": "RemoteCallback<DataSetDef>", "declarator": "getDefinitionCallback = result -> {\n        load(result,\n             result != null ? result.getColumns() : null);\n    }", "var_name": "getDefinitionCallback"}, {"original_string": "RemoteCallback<EditDataSetDef> loadCallback = result -> {\n        load(result != null ? result.getDefinition() : null,\n             result != null ? result.getColumns() : null);\n    };", "modifier": "", "type": "RemoteCallback<EditDataSetDef>", "declarator": "loadCallback = result -> {\n        load(result != null ? result.getDefinition() : null,\n             result != null ? result.getColumns() : null);\n    }", "var_name": "loadCallback"}, {"original_string": "ErrorCallback<Message> errorCallback = (message, throwable) -> {\n        // Edit only the definition, so user can fix the wrong attributes, if any.\n        loadDefinition();\n        return false;\n    };", "modifier": "", "type": "ErrorCallback<Message>", "declarator": "errorCallback = (message, throwable) -> {\n        // Edit only the definition, so user can fix the wrong attributes, if any.\n        loadDefinition();\n        return false;\n    }", "var_name": "errorCallback"}, {"original_string": "ErrorCallback<Message> getDefinitionErrorCallback = new ErrorCallback<Message>() {\n        @Override\n        public boolean error(Message message,\n                             Throwable throwable) {\n            view.hideBusyIndicator();\n            showError(new ClientRuntimeError(throwable));\n            return false;\n        }\n    };", "modifier": "", "type": "ErrorCallback<Message>", "declarator": "getDefinitionErrorCallback = new ErrorCallback<Message>() {\n        @Override\n        public boolean error(Message message,\n                             Throwable throwable) {\n            view.hideBusyIndicator();\n            showError(new ClientRuntimeError(throwable));\n            return false;\n        }\n    }", "var_name": "getDefinitionErrorCallback"}], "methods": [{"identifier": "onStartup", "parameters": "(final ObservablePath path,\n                          final PlaceRequest place)", "modifiers": "@OnStartup public", "return": "void", "signature": "void onStartup(final ObservablePath path,\n                          final PlaceRequest place)", "full_signature": "@OnStartup public void onStartup(final ObservablePath path,\n                          final PlaceRequest place)", "class_method_signature": "DataSetDefEditorPresenter.onStartup(final ObservablePath path,\n                          final PlaceRequest place)", "testcase": false, "constructor": false}, {"identifier": "getTitle", "parameters": "()", "modifiers": "@WorkbenchPartTitleDecoration public", "return": "IsWidget", "signature": "IsWidget getTitle()", "full_signature": "@WorkbenchPartTitleDecoration public IsWidget getTitle()", "class_method_signature": "DataSetDefEditorPresenter.getTitle()", "testcase": false, "constructor": false}, {"identifier": "getTitleText", "parameters": "()", "modifiers": "@WorkbenchPartTitle public", "return": "String", "signature": "String getTitleText()", "full_signature": "@WorkbenchPartTitle public String getTitleText()", "class_method_signature": "DataSetDefEditorPresenter.getTitleText()", "testcase": false, "constructor": false}, {"identifier": "buildTitle", "parameters": "()", "modifiers": "protected", "return": "String", "signature": "String buildTitle()", "full_signature": "protected String buildTitle()", "class_method_signature": "DataSetDefEditorPresenter.buildTitle()", "testcase": false, "constructor": false}, {"identifier": "getMenus", "parameters": "()", "modifiers": "@WorkbenchMenu public", "return": "Menus", "signature": "Menus getMenus()", "full_signature": "@WorkbenchMenu public Menus getMenus()", "class_method_signature": "DataSetDefEditorPresenter.getMenus()", "testcase": false, "constructor": false}, {"identifier": "getWidget", "parameters": "()", "modifiers": "@WorkbenchPartView public", "return": "Widget", "signature": "Widget getWidget()", "full_signature": "@WorkbenchPartView public Widget getWidget()", "class_method_signature": "DataSetDefEditorPresenter.getWidget()", "testcase": false, "constructor": false}, {"identifier": "onMayClose", "parameters": "()", "modifiers": "@OnMayClose public", "return": "boolean", "signature": "boolean onMayClose()", "full_signature": "@OnMayClose public boolean onMayClose()", "class_method_signature": "DataSetDefEditorPresenter.onMayClose()", "testcase": false, "constructor": false}, {"identifier": "onClose", "parameters": "()", "modifiers": "@OnClose public", "return": "void", "signature": "void onClose()", "full_signature": "@OnClose public void onClose()", "class_method_signature": "DataSetDefEditorPresenter.onClose()", "testcase": false, "constructor": false}, {"identifier": "loadContent", "parameters": "()", "modifiers": "@Override protected", "return": "void", "signature": "void loadContent()", "full_signature": "@Override protected void loadContent()", "class_method_signature": "DataSetDefEditorPresenter.loadContent()", "testcase": false, "constructor": false}, {"identifier": "loadDefinition", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void loadDefinition()", "full_signature": "private void loadDefinition()", "class_method_signature": "DataSetDefEditorPresenter.loadDefinition()", "testcase": false, "constructor": false}, {"identifier": "getDataSetDef", "parameters": "()", "modifiers": "public", "return": "DataSetDef", "signature": "DataSetDef getDataSetDef()", "full_signature": "public DataSetDef getDataSetDef()", "class_method_signature": "DataSetDefEditorPresenter.getDataSetDef()", "testcase": false, "constructor": false}, {"identifier": "testDataSet", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void testDataSet()", "full_signature": "private void testDataSet()", "class_method_signature": "DataSetDefEditorPresenter.testDataSet()", "testcase": false, "constructor": false}, {"identifier": "edit", "parameters": "(final DataSetDef dataSetDef,\n                      final List<DataColumnDef> columnDefs)", "modifiers": "private", "return": "void", "signature": "void edit(final DataSetDef dataSetDef,\n                      final List<DataColumnDef> columnDefs)", "full_signature": "private void edit(final DataSetDef dataSetDef,\n                      final List<DataColumnDef> columnDefs)", "class_method_signature": "DataSetDefEditorPresenter.edit(final DataSetDef dataSetDef,\n                      final List<DataColumnDef> columnDefs)", "testcase": false, "constructor": false}, {"identifier": "edit", "parameters": "(final DataSet dataset)", "modifiers": "private", "return": "void", "signature": "void edit(final DataSet dataset)", "full_signature": "private void edit(final DataSet dataset)", "class_method_signature": "DataSetDefEditorPresenter.edit(final DataSet dataset)", "testcase": false, "constructor": false}, {"identifier": "onValidate", "parameters": "()", "modifiers": "@Override protected", "return": "Command", "signature": "Command onValidate()", "full_signature": "@Override protected Command onValidate()", "class_method_signature": "DataSetDefEditorPresenter.onValidate()", "testcase": false, "constructor": false}, {"identifier": "save", "parameters": "()", "modifiers": "@Override protected", "return": "void", "signature": "void save()", "full_signature": "@Override protected void save()", "class_method_signature": "DataSetDefEditorPresenter.save()", "testcase": false, "constructor": false}, {"identifier": "getCurrentModelHash", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getCurrentModelHash()", "full_signature": "public int getCurrentModelHash()", "class_method_signature": "DataSetDefEditorPresenter.getCurrentModelHash()", "testcase": false, "constructor": false}, {"identifier": "disposeWorkflow", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void disposeWorkflow()", "full_signature": "public void disposeWorkflow()", "class_method_signature": "DataSetDefEditorPresenter.disposeWorkflow()", "testcase": false, "constructor": false}, {"identifier": "load", "parameters": "(final DataSetDef dataSetDef,\n                        List<DataColumnDef> columns)", "modifiers": "protected", "return": "void", "signature": "void load(final DataSetDef dataSetDef,\n                        List<DataColumnDef> columns)", "full_signature": "protected void load(final DataSetDef dataSetDef,\n                        List<DataColumnDef> columns)", "class_method_signature": "DataSetDefEditorPresenter.load(final DataSetDef dataSetDef,\n                        List<DataColumnDef> columns)", "testcase": false, "constructor": false}, {"identifier": "getDeleteServiceCaller", "parameters": "()", "modifiers": "protected", "return": "Caller<? extends SupportsDelete>", "signature": "Caller<? extends SupportsDelete> getDeleteServiceCaller()", "full_signature": "protected Caller<? extends SupportsDelete> getDeleteServiceCaller()", "class_method_signature": "DataSetDefEditorPresenter.getDeleteServiceCaller()", "testcase": false, "constructor": false}, {"identifier": "getCopyServiceCaller", "parameters": "()", "modifiers": "protected", "return": "Caller<? extends SupportsCopy>", "signature": "Caller<? extends SupportsCopy> getCopyServiceCaller()", "full_signature": "protected Caller<? extends SupportsCopy> getCopyServiceCaller()", "class_method_signature": "DataSetDefEditorPresenter.getCopyServiceCaller()", "testcase": false, "constructor": false}, {"identifier": "onDataSetDefRemovedEvent", "parameters": "(@Observes DataSetDefRemovedEvent event)", "modifiers": "private", "return": "void", "signature": "void onDataSetDefRemovedEvent(@Observes DataSetDefRemovedEvent event)", "full_signature": "private void onDataSetDefRemovedEvent(@Observes DataSetDefRemovedEvent event)", "class_method_signature": "DataSetDefEditorPresenter.onDataSetDefRemovedEvent(@Observes DataSetDefRemovedEvent event)", "testcase": false, "constructor": false}, {"identifier": "showError", "parameters": "(final ClientRuntimeError error)", "modifiers": "", "return": "void", "signature": "void showError(final ClientRuntimeError error)", "full_signature": " void showError(final ClientRuntimeError error)", "class_method_signature": "DataSetDefEditorPresenter.showError(final ClientRuntimeError error)", "testcase": false, "constructor": false}, {"identifier": "showError", "parameters": "(final String message)", "modifiers": "", "return": "void", "signature": "void showError(final String message)", "full_signature": " void showError(final String message)", "class_method_signature": "DataSetDefEditorPresenter.showError(final String message)", "testcase": false, "constructor": false}, {"identifier": "onTestEvent", "parameters": "(@Observes TestDataSetRequestEvent testDataSetRequestEvent)", "modifiers": "", "return": "void", "signature": "void onTestEvent(@Observes TestDataSetRequestEvent testDataSetRequestEvent)", "full_signature": " void onTestEvent(@Observes TestDataSetRequestEvent testDataSetRequestEvent)", "class_method_signature": "DataSetDefEditorPresenter.onTestEvent(@Observes TestDataSetRequestEvent testDataSetRequestEvent)", "testcase": false, "constructor": false}, {"identifier": "onCancelEvent", "parameters": "(@Observes CancelRequestEvent cancelEvent)", "modifiers": "", "return": "void", "signature": "void onCancelEvent(@Observes CancelRequestEvent cancelEvent)", "full_signature": " void onCancelEvent(@Observes CancelRequestEvent cancelEvent)", "class_method_signature": "DataSetDefEditorPresenter.onCancelEvent(@Observes CancelRequestEvent cancelEvent)", "testcase": false, "constructor": false}, {"identifier": "onErrorEvent", "parameters": "(@Observes ErrorEvent errorEvent)", "modifiers": "", "return": "void", "signature": "void onErrorEvent(@Observes ErrorEvent errorEvent)", "full_signature": " void onErrorEvent(@Observes ErrorEvent errorEvent)", "class_method_signature": "DataSetDefEditorPresenter.onErrorEvent(@Observes ErrorEvent errorEvent)", "testcase": false, "constructor": false}, {"identifier": "onTabChangedEvent", "parameters": "(@Observes TabChangedEvent tabChangedEvent)", "modifiers": "", "return": "void", "signature": "void onTabChangedEvent(@Observes TabChangedEvent tabChangedEvent)", "full_signature": " void onTabChangedEvent(@Observes TabChangedEvent tabChangedEvent)", "class_method_signature": "DataSetDefEditorPresenter.onTabChangedEvent(@Observes TabChangedEvent tabChangedEvent)", "testcase": false, "constructor": false}], "file": "dashbuilder-client/dashbuilder-dataset-editor/src/main/java/org/dashbuilder/dataset/editor/client/screens/DataSetDefEditorPresenter.java"}, "focal_method": {"identifier": "onValidate", "parameters": "()", "modifiers": "@Override protected", "return": "Command", "body": "@Override\n    protected Command onValidate() {\n        return () -> {\n            workflow.flush();\n            if (!workflow.hasErrors()) {\n                notification.fire(new NotificationEvent(DataSetAuthoringConstants.INSTANCE.validationOk(),\n                                                        SUCCESS));\n            } else {\n                notification.fire(new NotificationEvent(DataSetAuthoringConstants.INSTANCE.validationFailed(),\n                                                        ERROR));\n            }\n        };\n    }", "signature": "Command onValidate()", "full_signature": "@Override protected Command onValidate()", "class_method_signature": "DataSetDefEditorPresenter.onValidate()", "testcase": false, "constructor": false, "invocations": ["flush", "hasErrors", "fire", "validationOk", "fire", "validationFailed"]}, "repository": {"repo_id": 17898911, "url": "https://github.com/dashbuilder/dashbuilder", "language": "Java", "is_fork": false, "fork_count": 119, "stargazer_count": 160, "size": 10456, "license": "licensed"}}