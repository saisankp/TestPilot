{"test_class": {"identifier": "VersionedSetTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final VersionedSet<Integer> subject = new VersionedSet<>(SerialNumber.zero());", "modifier": "private final", "type": "VersionedSet<Integer>", "declarator": "subject = new VersionedSet<>(SerialNumber.zero())", "var_name": "subject"}], "file": "rpki-rtr-server/src/test/java/net/ripe/rpki/rtr/domain/VersionedSetTest.java"}, "test_case": {"identifier": "should_contain_latest_values", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void should_contain_latest_values() {\n        subject.updateValues(Arrays.asList(1, 2, 3));\n\n        assertThat(subject.getValues()).containsExactly(1, 2, 3);\n    }", "signature": "void should_contain_latest_values()", "full_signature": "@Test public void should_contain_latest_values()", "class_method_signature": "VersionedSetTest.should_contain_latest_values()", "testcase": true, "constructor": false, "invocations": ["updateValues", "asList", "containsExactly", "assertThat", "getValues"]}, "focal_class": {"identifier": "VersionedSet", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final Delta<T> EMPTY_DELTA = new Delta<T>(Collections.emptySortedSet(), Collections.emptySortedSet());", "modifier": "private final", "type": "Delta<T>", "declarator": "EMPTY_DELTA = new Delta<T>(Collections.emptySortedSet(), Collections.emptySortedSet())", "var_name": "EMPTY_DELTA"}, {"original_string": "@Getter\n    private SerialNumber currentVersion;", "modifier": "@Getter\n    private", "type": "SerialNumber", "declarator": "currentVersion", "var_name": "currentVersion"}, {"original_string": "@Getter\n    private SortedSet<T> values = Collections.emptySortedSet();", "modifier": "@Getter\n    private", "type": "SortedSet<T>", "declarator": "values = Collections.emptySortedSet()", "var_name": "values"}, {"original_string": "@Getter\n    private SortedMap<SerialNumber, Delta<T>> deltas = Collections.emptySortedMap();", "modifier": "@Getter\n    private", "type": "SortedMap<SerialNumber, Delta<T>>", "declarator": "deltas = Collections.emptySortedMap()", "var_name": "deltas"}], "methods": [{"identifier": "VersionedSet", "parameters": "()", "modifiers": "public", "return": "", "signature": " VersionedSet()", "full_signature": "public  VersionedSet()", "class_method_signature": "VersionedSet.VersionedSet()", "testcase": false, "constructor": true}, {"identifier": "VersionedSet", "parameters": "(SerialNumber initialVersion)", "modifiers": "public", "return": "", "signature": " VersionedSet(SerialNumber initialVersion)", "full_signature": "public  VersionedSet(SerialNumber initialVersion)", "class_method_signature": "VersionedSet.VersionedSet(SerialNumber initialVersion)", "testcase": false, "constructor": true}, {"identifier": "updateValues", "parameters": "(Collection<T> newValues)", "modifiers": "public", "return": "boolean", "signature": "boolean updateValues(Collection<T> newValues)", "full_signature": "public boolean updateValues(Collection<T> newValues)", "class_method_signature": "VersionedSet.updateValues(Collection<T> newValues)", "testcase": false, "constructor": false}, {"identifier": "updateValues", "parameters": "(Stream<T> newValues)", "modifiers": "public", "return": "boolean", "signature": "boolean updateValues(Stream<T> newValues)", "full_signature": "public boolean updateValues(Stream<T> newValues)", "class_method_signature": "VersionedSet.updateValues(Stream<T> newValues)", "testcase": false, "constructor": false}, {"identifier": "forgetDeltasBefore", "parameters": "(SerialNumber version)", "modifiers": "public", "return": "Set<SerialNumber>", "signature": "Set<SerialNumber> forgetDeltasBefore(SerialNumber version)", "full_signature": "public Set<SerialNumber> forgetDeltasBefore(SerialNumber version)", "class_method_signature": "VersionedSet.forgetDeltasBefore(SerialNumber version)", "testcase": false, "constructor": false}, {"identifier": "getDelta", "parameters": "(SerialNumber version)", "modifiers": "public", "return": "Optional<Delta<T>>", "signature": "Optional<Delta<T>> getDelta(SerialNumber version)", "full_signature": "public Optional<Delta<T>> getDelta(SerialNumber version)", "class_method_signature": "VersionedSet.getDelta(SerialNumber version)", "testcase": false, "constructor": false}, {"identifier": "size", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int size()", "full_signature": "public int size()", "class_method_signature": "VersionedSet.size()", "testcase": false, "constructor": false}, {"identifier": "updateDeltas", "parameters": "(Delta<T> delta)", "modifiers": "private", "return": "SortedMap<SerialNumber, Delta<T>>", "signature": "SortedMap<SerialNumber, Delta<T>> updateDeltas(Delta<T> delta)", "full_signature": "private SortedMap<SerialNumber, Delta<T>> updateDeltas(Delta<T> delta)", "class_method_signature": "VersionedSet.updateDeltas(Delta<T> delta)", "testcase": false, "constructor": false}, {"identifier": "newSortedSet", "parameters": "(Collection<? extends T> values)", "modifiers": "private static", "return": "SortedSet<T>", "signature": "SortedSet<T> newSortedSet(Collection<? extends T> values)", "full_signature": "private static SortedSet<T> newSortedSet(Collection<? extends T> values)", "class_method_signature": "VersionedSet.newSortedSet(Collection<? extends T> values)", "testcase": false, "constructor": false}, {"identifier": "newSortedSet", "parameters": "(Stream<? extends T> values)", "modifiers": "private static", "return": "SortedSet<T>", "signature": "SortedSet<T> newSortedSet(Stream<? extends T> values)", "full_signature": "private static SortedSet<T> newSortedSet(Stream<? extends T> values)", "class_method_signature": "VersionedSet.newSortedSet(Stream<? extends T> values)", "testcase": false, "constructor": false}], "file": "rpki-rtr-server/src/main/java/net/ripe/rpki/rtr/domain/VersionedSet.java"}, "focal_method": {"identifier": "updateValues", "parameters": "(Collection<T> newValues)", "modifiers": "public", "return": "boolean", "body": "public boolean updateValues(Collection<T> newValues) {\n        return updateValues(newValues.stream());\n    }", "signature": "boolean updateValues(Collection<T> newValues)", "full_signature": "public boolean updateValues(Collection<T> newValues)", "class_method_signature": "VersionedSet.updateValues(Collection<T> newValues)", "testcase": false, "constructor": false, "invocations": ["updateValues", "stream"]}, "repository": {"repo_id": 104217624, "url": "https://github.com/RIPE-NCC/rpki-validator-3", "stars": 32, "created": "9/20/2017 1:15:05 PM +00:00", "updates": "2020-01-27T10:48:38+00:00", "fork": "False", "license": "licensed"}}