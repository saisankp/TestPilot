{"test_class": {"identifier": "ElementIndexPreProcessorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private ElementIndexPreProcessor elementIndexPreProcessor;", "modifier": "private", "type": "ElementIndexPreProcessor", "declarator": "elementIndexPreProcessor", "var_name": "elementIndexPreProcessor"}], "file": "plugin-code/src/test/java/com/trivago/cluecumber/json/processors/ElementIndexPreProcessorTest.java"}, "test_case": {"identifier": "addScenarioIndicesWithoutTimestampTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void addScenarioIndicesWithoutTimestampTest() {\n        List<Report> reports = new ArrayList<>();\n        Report report = new Report();\n        List<Element> elements = new ArrayList<>();\n\n        Element element = new Element();\n        element.setName(\"Scenario 1\");\n        element.setType(\"scenario\");\n        elements.add(element);\n\n        element = new Element();\n        element.setName(\"Scenario 2\");\n        element.setType(\"scenario\");\n        elements.add(element);\n\n        element = new Element();\n        element.setName(\"Scenario 3\");\n        element.setType(\"scenario\");\n        elements.add(element);\n\n        report.setElements(elements);\n        reports.add(report);\n\n        List<Element> e = reports.get(0).getElements();\n        assertThat(e.get(0).getScenarioIndex(), is(0));\n        assertThat(e.get(1).getScenarioIndex(), is(0));\n        assertThat(e.get(2).getScenarioIndex(), is(0));\n\n        elementIndexPreProcessor.addScenarioIndices(reports);\n\n        assertThat(e.get(0).getScenarioIndex(), is(1));\n        assertThat(e.get(1).getScenarioIndex(), is(2));\n        assertThat(e.get(2).getScenarioIndex(), is(3));\n    }", "signature": "void addScenarioIndicesWithoutTimestampTest()", "full_signature": "@Test public void addScenarioIndicesWithoutTimestampTest()", "class_method_signature": "ElementIndexPreProcessorTest.addScenarioIndicesWithoutTimestampTest()", "testcase": true, "constructor": false, "invocations": ["setName", "setType", "add", "setName", "setType", "add", "setName", "setType", "add", "setElements", "add", "getElements", "get", "assertThat", "getScenarioIndex", "get", "is", "assertThat", "getScenarioIndex", "get", "is", "assertThat", "getScenarioIndex", "get", "is", "addScenarioIndices", "assertThat", "getScenarioIndex", "get", "is", "assertThat", "getScenarioIndex", "get", "is", "assertThat", "getScenarioIndex", "get", "is"]}, "focal_class": {"identifier": "ElementIndexPreProcessor", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "addScenarioIndices", "parameters": "(final List<Report> reports)", "modifiers": "public", "return": "void", "signature": "void addScenarioIndices(final List<Report> reports)", "full_signature": "public void addScenarioIndices(final List<Report> reports)", "class_method_signature": "ElementIndexPreProcessor.addScenarioIndices(final List<Report> reports)", "testcase": false, "constructor": false}], "file": "plugin-code/src/main/java/com/trivago/cluecumber/json/processors/ElementIndexPreProcessor.java"}, "focal_method": {"identifier": "addScenarioIndices", "parameters": "(final List<Report> reports)", "modifiers": "public", "return": "void", "body": "public void addScenarioIndices(final List<Report> reports) {\n        List<Element> elements = new ArrayList<>();\n        for (Report report : reports) {\n            elements.addAll(report.getElements());\n        }\n\n        List<Element> sortedElements =\n                elements.stream().\n                        sorted(Comparator.comparing(Element::getStartTimestamp)).\n                        collect(Collectors.toList());\n\n        int scenarioIndex = 0;\n        for (Element element : sortedElements) {\n            if (element.isScenario()) {\n                scenarioIndex++;\n                element.setScenarioIndex(scenarioIndex);\n            }\n        }\n    }", "signature": "void addScenarioIndices(final List<Report> reports)", "full_signature": "public void addScenarioIndices(final List<Report> reports)", "class_method_signature": "ElementIndexPreProcessor.addScenarioIndices(final List<Report> reports)", "testcase": false, "constructor": false, "invocations": ["addAll", "getElements", "collect", "sorted", "stream", "comparing", "toList", "isScenario", "setScenarioIndex"]}, "repository": {"repo_id": 109986674, "url": "https://github.com/trivago/cluecumber-report-plugin", "stars": 124, "created": "11/8/2017 2:30:19 PM +00:00", "updates": "2020-01-27T12:00:16+00:00", "fork": "False", "license": "licensed"}}