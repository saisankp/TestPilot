{"test_class": {"identifier": "ZlibCompressTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static ProtobufRpcMethodInfo protobufRpcMethodInfo;", "modifier": "private static", "type": "ProtobufRpcMethodInfo", "declarator": "protobufRpcMethodInfo", "var_name": "protobufRpcMethodInfo"}, {"original_string": "private static JprotobufRpcMethodInfo jprotobufRpcMethodInfo;", "modifier": "private static", "type": "JprotobufRpcMethodInfo", "declarator": "jprotobufRpcMethodInfo", "var_name": "jprotobufRpcMethodInfo"}, {"original_string": "private static ZlibCompress compress;", "modifier": "private static", "type": "ZlibCompress", "declarator": "compress", "var_name": "compress"}], "file": "brpc-java-communication/src/test/java/com/baidu/brpc/compress/ZlibCompressTest.java"}, "test_case": {"identifier": "testCompressInputForJprotobuf", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testCompressInputForJprotobuf() throws IOException {\n        EchoRequest request = new EchoRequest();\n        request.setMessage(\"hello\");\n        ByteBuf byteBuf = compress.compressInput(request, jprotobufRpcMethodInfo);\n        System.out.println(byteBuf.readableBytes());\n    }", "signature": "void testCompressInputForJprotobuf()", "full_signature": "@Test public void testCompressInputForJprotobuf()", "class_method_signature": "ZlibCompressTest.testCompressInputForJprotobuf()", "testcase": true, "constructor": false, "invocations": ["setMessage", "compressInput", "println", "readableBytes"]}, "focal_class": {"identifier": "ZlibCompress", "superclass": "", "interfaces": "implements Compress", "fields": [], "methods": [{"identifier": "compressInput", "parameters": "(Object proto, RpcMethodInfo rpcMethodInfo)", "modifiers": "@Override public", "return": "ByteBuf", "signature": "ByteBuf compressInput(Object proto, RpcMethodInfo rpcMethodInfo)", "full_signature": "@Override public ByteBuf compressInput(Object proto, RpcMethodInfo rpcMethodInfo)", "class_method_signature": "ZlibCompress.compressInput(Object proto, RpcMethodInfo rpcMethodInfo)", "testcase": false, "constructor": false}, {"identifier": "uncompressOutput", "parameters": "(ByteBuf byteBuf, RpcMethodInfo rpcMethodInfo)", "modifiers": "@Override public", "return": "Object", "signature": "Object uncompressOutput(ByteBuf byteBuf, RpcMethodInfo rpcMethodInfo)", "full_signature": "@Override public Object uncompressOutput(ByteBuf byteBuf, RpcMethodInfo rpcMethodInfo)", "class_method_signature": "ZlibCompress.uncompressOutput(ByteBuf byteBuf, RpcMethodInfo rpcMethodInfo)", "testcase": false, "constructor": false}, {"identifier": "uncompressOutput", "parameters": "(byte[] bytes, RpcMethodInfo rpcMethodInfo)", "modifiers": "@Override public", "return": "Object", "signature": "Object uncompressOutput(byte[] bytes, RpcMethodInfo rpcMethodInfo)", "full_signature": "@Override public Object uncompressOutput(byte[] bytes, RpcMethodInfo rpcMethodInfo)", "class_method_signature": "ZlibCompress.uncompressOutput(byte[] bytes, RpcMethodInfo rpcMethodInfo)", "testcase": false, "constructor": false}, {"identifier": "uncompressOutput", "parameters": "(DynamicCompositeByteBuf byteBuf, RpcMethodInfo rpcMethodInfo)", "modifiers": "@Override public", "return": "Object", "signature": "Object uncompressOutput(DynamicCompositeByteBuf byteBuf, RpcMethodInfo rpcMethodInfo)", "full_signature": "@Override public Object uncompressOutput(DynamicCompositeByteBuf byteBuf, RpcMethodInfo rpcMethodInfo)", "class_method_signature": "ZlibCompress.uncompressOutput(DynamicCompositeByteBuf byteBuf, RpcMethodInfo rpcMethodInfo)", "testcase": false, "constructor": false}, {"identifier": "uncompressInput", "parameters": "(ByteBuf byteBuf, RpcMethodInfo rpcMethodInfo)", "modifiers": "@Override public", "return": "Object", "signature": "Object uncompressInput(ByteBuf byteBuf, RpcMethodInfo rpcMethodInfo)", "full_signature": "@Override public Object uncompressInput(ByteBuf byteBuf, RpcMethodInfo rpcMethodInfo)", "class_method_signature": "ZlibCompress.uncompressInput(ByteBuf byteBuf, RpcMethodInfo rpcMethodInfo)", "testcase": false, "constructor": false}, {"identifier": "uncompressInput", "parameters": "(byte[] bytes, RpcMethodInfo rpcMethodInfo)", "modifiers": "@Override public", "return": "Object", "signature": "Object uncompressInput(byte[] bytes, RpcMethodInfo rpcMethodInfo)", "full_signature": "@Override public Object uncompressInput(byte[] bytes, RpcMethodInfo rpcMethodInfo)", "class_method_signature": "ZlibCompress.uncompressInput(byte[] bytes, RpcMethodInfo rpcMethodInfo)", "testcase": false, "constructor": false}, {"identifier": "uncompressInput", "parameters": "(DynamicCompositeByteBuf byteBuf, RpcMethodInfo rpcMethodInfo)", "modifiers": "@Override public", "return": "Object", "signature": "Object uncompressInput(DynamicCompositeByteBuf byteBuf, RpcMethodInfo rpcMethodInfo)", "full_signature": "@Override public Object uncompressInput(DynamicCompositeByteBuf byteBuf, RpcMethodInfo rpcMethodInfo)", "class_method_signature": "ZlibCompress.uncompressInput(DynamicCompositeByteBuf byteBuf, RpcMethodInfo rpcMethodInfo)", "testcase": false, "constructor": false}, {"identifier": "compressOutput", "parameters": "(Object proto, RpcMethodInfo rpcMethodInfo)", "modifiers": "@Override public", "return": "ByteBuf", "signature": "ByteBuf compressOutput(Object proto, RpcMethodInfo rpcMethodInfo)", "full_signature": "@Override public ByteBuf compressOutput(Object proto, RpcMethodInfo rpcMethodInfo)", "class_method_signature": "ZlibCompress.compressOutput(Object proto, RpcMethodInfo rpcMethodInfo)", "testcase": false, "constructor": false}], "file": "brpc-java-communication/src/main/java/com/baidu/brpc/compress/ZlibCompress.java"}, "focal_method": {"identifier": "compressInput", "parameters": "(Object proto, RpcMethodInfo rpcMethodInfo)", "modifiers": "@Override public", "return": "ByteBuf", "body": "@Override\n    public ByteBuf compressInput(Object proto, RpcMethodInfo rpcMethodInfo) throws IOException {\n        int protoSize = rpcMethodInfo.getInputSerializedSize(proto);\n        ByteBuf resBuf = Unpooled.buffer(protoSize);\n        OutputStream outputStream = new ByteBufOutputStream(resBuf);\n        outputStream = new DeflaterOutputStream(outputStream);\n        CodedOutputStream codedOutputStream = CodedOutputStream.newInstance(outputStream, protoSize);\n        rpcMethodInfo.inputWriteToStream(proto, codedOutputStream);\n        outputStream.close();\n        return resBuf;\n    }", "signature": "ByteBuf compressInput(Object proto, RpcMethodInfo rpcMethodInfo)", "full_signature": "@Override public ByteBuf compressInput(Object proto, RpcMethodInfo rpcMethodInfo)", "class_method_signature": "ZlibCompress.compressInput(Object proto, RpcMethodInfo rpcMethodInfo)", "testcase": false, "constructor": false, "invocations": ["getInputSerializedSize", "buffer", "newInstance", "inputWriteToStream", "close"]}, "repository": {"repo_id": 162548942, "url": "https://github.com/baidu/brpc-java", "language": "Java", "is_fork": false, "fork_count": 175, "stargazer_count": 551, "size": 3271, "license": "licensed"}}