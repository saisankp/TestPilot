{"test_class": {"identifier": "DefaultKeyProviderTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static DefaultKeyProvider cut;", "modifier": "private static", "type": "DefaultKeyProvider", "declarator": "cut", "var_name": "cut"}], "file": "simple-spring-memcached/src/test/java/com/google/code/ssm/aop/support/DefaultKeyProviderTest.java"}, "test_case": {"identifier": "testGenerateCacheKey", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGenerateCacheKey() throws Exception {\n        final Method method = KeyObject.class.getMethod(\"toString\", (Class<?>[]) null);\n\n        try {\n            cut.generateObjectId(method, new KeyObject(null));\n            fail(\"Expected Exception.\");\n        } catch (RuntimeException ex) {\n            assertTrue(ex.getMessage().indexOf(\"empty key value\") != -1);\n        }\n\n        try {\n            cut.generateObjectId(method, new KeyObject(\"\"));\n            fail(\"Expected Exception.\");\n        } catch (RuntimeException ex) {\n            assertTrue(ex.getMessage().indexOf(\"empty key value\") != -1);\n        }\n\n        final String result = \"momma\";\n        assertEquals(result, cut.generateObjectId(method, new KeyObject(result)));\n    }", "signature": "void testGenerateCacheKey()", "full_signature": "@Test public void testGenerateCacheKey()", "class_method_signature": "DefaultKeyProviderTest.testGenerateCacheKey()", "testcase": true, "constructor": false, "invocations": ["getMethod", "generateObjectId", "fail", "assertTrue", "indexOf", "getMessage", "generateObjectId", "fail", "assertTrue", "indexOf", "getMessage", "assertEquals", "generateObjectId"]}, "focal_class": {"identifier": "DefaultKeyProvider", "superclass": "", "interfaces": "implements KeyProvider", "fields": [{"original_string": "private CacheKeyMethodStore methodStore = new CacheKeyMethodStoreImpl();", "modifier": "private", "type": "CacheKeyMethodStore", "declarator": "methodStore = new CacheKeyMethodStoreImpl()", "var_name": "methodStore"}], "methods": [{"identifier": "setMethodStore", "parameters": "(final CacheKeyMethodStore methodStore)", "modifiers": "public", "return": "void", "signature": "void setMethodStore(final CacheKeyMethodStore methodStore)", "full_signature": "public void setMethodStore(final CacheKeyMethodStore methodStore)", "class_method_signature": "DefaultKeyProvider.setMethodStore(final CacheKeyMethodStore methodStore)", "testcase": false, "constructor": false}, {"identifier": "getMethodStore", "parameters": "()", "modifiers": "public", "return": "CacheKeyMethodStore", "signature": "CacheKeyMethodStore getMethodStore()", "full_signature": "public CacheKeyMethodStore getMethodStore()", "class_method_signature": "DefaultKeyProvider.getMethodStore()", "testcase": false, "constructor": false}, {"identifier": "generateKey", "parameters": "(final Object keyObject)", "modifiers": "@Override public", "return": "String", "signature": "String generateKey(final Object keyObject)", "full_signature": "@Override public String generateKey(final Object keyObject)", "class_method_signature": "DefaultKeyProvider.generateKey(final Object keyObject)", "testcase": false, "constructor": false}, {"identifier": "generateKeys", "parameters": "(final Object[] keyObjects)", "modifiers": "@Override public", "return": "String[]", "signature": "String[] generateKeys(final Object[] keyObjects)", "full_signature": "@Override public String[] generateKeys(final Object[] keyObjects)", "class_method_signature": "DefaultKeyProvider.generateKeys(final Object[] keyObjects)", "testcase": false, "constructor": false}, {"identifier": "getKeyMethod", "parameters": "(final Object keyObject)", "modifiers": "", "return": "Method", "signature": "Method getKeyMethod(final Object keyObject)", "full_signature": " Method getKeyMethod(final Object keyObject)", "class_method_signature": "DefaultKeyProvider.getKeyMethod(final Object keyObject)", "testcase": false, "constructor": false}, {"identifier": "generateObjectId", "parameters": "(final Method keyMethod, final Object keyObject)", "modifiers": "", "return": "String", "signature": "String generateObjectId(final Method keyMethod, final Object keyObject)", "full_signature": " String generateObjectId(final Method keyMethod, final Object keyObject)", "class_method_signature": "DefaultKeyProvider.generateObjectId(final Method keyMethod, final Object keyObject)", "testcase": false, "constructor": false}], "file": "simple-spring-memcached/src/main/java/com/google/code/ssm/aop/support/DefaultKeyProvider.java"}, "focal_method": {"identifier": "generateObjectId", "parameters": "(final Method keyMethod, final Object keyObject)", "modifiers": "", "return": "String", "body": "String generateObjectId(final Method keyMethod, final Object keyObject) throws Exception {\n        final String objectId = (String) keyMethod.invoke(keyObject, (Object[]) null);\n        if (objectId == null || objectId.length() < 1) {\n            throw new RuntimeException(\"Got an empty key value from \" + keyMethod.getName());\n        }\n        return objectId;\n    }", "signature": "String generateObjectId(final Method keyMethod, final Object keyObject)", "full_signature": " String generateObjectId(final Method keyMethod, final Object keyObject)", "class_method_signature": "DefaultKeyProvider.generateObjectId(final Method keyMethod, final Object keyObject)", "testcase": false, "constructor": false, "invocations": ["invoke", "length", "getName"]}, "repository": {"repo_id": 16611556, "url": "https://github.com/ragnor/simple-spring-memcached", "language": "Java", "is_fork": false, "fork_count": 86, "stargazer_count": 181, "size": 3625, "license": "licensed"}}