{"test_class": {"identifier": "URLUtilsTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(URLUtilsTest.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(URLUtilsTest.class)", "var_name": "LOG"}, {"original_string": "@Rule\n    public TestRule watcher = new TestWatcher() {\n        @Override\n        protected void starting(Description description) {\n            LOG.info(\"executing test {}\", description.toString());\n        }\n    };", "modifier": "@Rule\n    public", "type": "TestRule", "declarator": "watcher = new TestWatcher() {\n        @Override\n        protected void starting(Description description) {\n            LOG.info(\"executing test {}\", description.toString());\n        }\n    }", "var_name": "watcher"}], "file": "commons/src/test/java/org/restheart/utils/URLUtilsTest.java"}, "test_case": {"identifier": "testGetQueryStringRemovingParams", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetQueryStringRemovingParams() {\n        HttpServerExchange exchange = new HttpServerExchange();\n        exchange.setQueryString(\"a=1&b=2&c=3\");\n        exchange.addQueryParam(\"a\", \"1\").addQueryParam(\"b\", \"2\").addQueryParam(\"c\", \"3\");\n        String expResult = \"a=1&c=3\";\n        String result = URLUtils.getQueryStringRemovingParams(exchange, \"b\");\n        assertEquals(expResult, result);\n    }", "signature": "void testGetQueryStringRemovingParams()", "full_signature": "@Test public void testGetQueryStringRemovingParams()", "class_method_signature": "URLUtilsTest.testGetQueryStringRemovingParams()", "testcase": true, "constructor": false, "invocations": ["setQueryString", "addQueryParam", "addQueryParam", "addQueryParam", "getQueryStringRemovingParams", "assertEquals"]}, "focal_class": {"identifier": "URLUtils", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "removeTrailingSlashes", "parameters": "(String s)", "modifiers": "static public", "return": "String", "signature": "String removeTrailingSlashes(String s)", "full_signature": "static public String removeTrailingSlashes(String s)", "class_method_signature": "URLUtils.removeTrailingSlashes(String s)", "testcase": false, "constructor": false}, {"identifier": "decodeQueryString", "parameters": "(String qs)", "modifiers": "static public", "return": "String", "signature": "String decodeQueryString(String qs)", "full_signature": "static public String decodeQueryString(String qs)", "class_method_signature": "URLUtils.decodeQueryString(String qs)", "testcase": false, "constructor": false}, {"identifier": "getParentPath", "parameters": "(String path)", "modifiers": "static public", "return": "String", "signature": "String getParentPath(String path)", "full_signature": "static public String getParentPath(String path)", "class_method_signature": "URLUtils.getParentPath(String path)", "testcase": false, "constructor": false}, {"identifier": "getPrefixUrl", "parameters": "(HttpServerExchange exchange)", "modifiers": "static public", "return": "String", "signature": "String getPrefixUrl(HttpServerExchange exchange)", "full_signature": "static public String getPrefixUrl(HttpServerExchange exchange)", "class_method_signature": "URLUtils.getPrefixUrl(HttpServerExchange exchange)", "testcase": false, "constructor": false}, {"identifier": "getQueryStringRemovingParams", "parameters": "(HttpServerExchange exchange, String... paramsToRemove)", "modifiers": "public static", "return": "String", "signature": "String getQueryStringRemovingParams(HttpServerExchange exchange, String... paramsToRemove)", "full_signature": "public static String getQueryStringRemovingParams(HttpServerExchange exchange, String... paramsToRemove)", "class_method_signature": "URLUtils.getQueryStringRemovingParams(HttpServerExchange exchange, String... paramsToRemove)", "testcase": false, "constructor": false}, {"identifier": "getIdString", "parameters": "(BsonValue id)", "modifiers": "public static", "return": "String", "signature": "String getIdString(BsonValue id)", "full_signature": "public static String getIdString(BsonValue id)", "class_method_signature": "URLUtils.getIdString(BsonValue id)", "testcase": false, "constructor": false}], "file": "commons/src/main/java/org/restheart/utils/URLUtils.java"}, "focal_method": {"identifier": "getQueryStringRemovingParams", "parameters": "(HttpServerExchange exchange, String... paramsToRemove)", "modifiers": "public static", "return": "String", "body": "public static String getQueryStringRemovingParams(HttpServerExchange exchange, String... paramsToRemove) {\n        String ret = exchange.getQueryString();\n\n        if (ret == null || ret.isEmpty() || paramsToRemove == null) {\n            return ret;\n        }\n\n        for (String key : paramsToRemove) {\n            Deque<String> values = exchange.getQueryParameters().get(key);\n\n            if (values != null) {\n                for (String value : values) {\n                    ret = ret.replaceAll(key + \"=\" + value + \"&\", \"\");\n                    ret = ret.replaceAll(key + \"=\" + value + \"$\", \"\");\n                }\n            }\n        }\n\n        return ret;\n    }", "signature": "String getQueryStringRemovingParams(HttpServerExchange exchange, String... paramsToRemove)", "full_signature": "public static String getQueryStringRemovingParams(HttpServerExchange exchange, String... paramsToRemove)", "class_method_signature": "URLUtils.getQueryStringRemovingParams(HttpServerExchange exchange, String... paramsToRemove)", "testcase": false, "constructor": false, "invocations": ["getQueryString", "isEmpty", "get", "getQueryParameters", "replaceAll", "replaceAll"]}, "repository": {"repo_id": 26722690, "url": "https://github.com/SoftInstigate/restheart", "stars": 582, "created": "11/16/2014 6:01:01 PM +00:00", "updates": "2020-01-18T15:31:59+00:00", "fork": "False", "license": "licensed"}}