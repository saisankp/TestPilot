{"test_class": {"identifier": "LoadBalancerResourceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n    private LoadBalancerService loadBalancerService;", "modifier": "@Mock\n    private", "type": "LoadBalancerService", "declarator": "loadBalancerService", "var_name": "loadBalancerService"}, {"original_string": "@Mock\n    private UriInfo uriInfo;", "modifier": "@Mock\n    private", "type": "UriInfo", "declarator": "uriInfo", "var_name": "uriInfo"}, {"original_string": "@Mock\n    private SystemLogService systemLog;", "modifier": "@Mock\n    private", "type": "SystemLogService", "declarator": "systemLog", "var_name": "systemLog"}, {"original_string": "@Mock\n    private CallMetadataResolver callMetadataResolver;", "modifier": "@Mock\n    private", "type": "CallMetadataResolver", "declarator": "callMetadataResolver", "var_name": "callMetadataResolver"}, {"original_string": "private LoadBalancerResource loadBalancerResource;", "modifier": "private", "type": "LoadBalancerResource", "declarator": "loadBalancerResource", "var_name": "loadBalancerResource"}, {"original_string": "private static final String TEST_JOB_ID = \"job-id\";", "modifier": "private static final", "type": "String", "declarator": "TEST_JOB_ID = \"job-id\"", "var_name": "TEST_JOB_ID"}, {"original_string": "private static final String TEST_LOAD_BALANCER_ID = \"load-balancer_id\";", "modifier": "private static final", "type": "String", "declarator": "TEST_LOAD_BALANCER_ID = \"load-balancer_id\"", "var_name": "TEST_LOAD_BALANCER_ID"}], "file": "titus-server-runtime/src/test/java/com/netflix/titus/runtime/endpoint/v3/rest/LoadBalancerResourceTest.java"}, "test_case": {"identifier": "addLoadBalancerFailedTest", "parameters": "()", "modifiers": "@Test(expected = TitusServiceException.class) public", "return": "void", "body": "@Test(expected = TitusServiceException.class)\n    public void addLoadBalancerFailedTest() {\n        TitusServiceException exception = TitusServiceException.jobNotFound(TEST_JOB_ID);\n        when(loadBalancerService.addLoadBalancer(any(), any())).thenReturn(Completable.error(exception));\n\n        loadBalancerResource.addLoadBalancer(TEST_JOB_ID, TEST_LOAD_BALANCER_ID);\n    }", "signature": "void addLoadBalancerFailedTest()", "full_signature": "@Test(expected = TitusServiceException.class) public void addLoadBalancerFailedTest()", "class_method_signature": "LoadBalancerResourceTest.addLoadBalancerFailedTest()", "testcase": true, "constructor": false, "invocations": ["jobNotFound", "thenReturn", "when", "addLoadBalancer", "any", "any", "error", "addLoadBalancer"]}, "focal_class": {"identifier": "LoadBalancerResource", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final LoadBalancerService loadBalancerService;", "modifier": "private final", "type": "LoadBalancerService", "declarator": "loadBalancerService", "var_name": "loadBalancerService"}, {"original_string": "private final SystemLogService systemLog;", "modifier": "private final", "type": "SystemLogService", "declarator": "systemLog", "var_name": "systemLog"}, {"original_string": "private final CallMetadataResolver callMetadataResolver;", "modifier": "private final", "type": "CallMetadataResolver", "declarator": "callMetadataResolver", "var_name": "callMetadataResolver"}], "methods": [{"identifier": "LoadBalancerResource", "parameters": "(LoadBalancerService loadBalancerService,\n                                SystemLogService systemLog,\n                                CallMetadataResolver callMetadataResolver)", "modifiers": "@Inject public", "return": "", "signature": " LoadBalancerResource(LoadBalancerService loadBalancerService,\n                                SystemLogService systemLog,\n                                CallMetadataResolver callMetadataResolver)", "full_signature": "@Inject public  LoadBalancerResource(LoadBalancerService loadBalancerService,\n                                SystemLogService systemLog,\n                                CallMetadataResolver callMetadataResolver)", "class_method_signature": "LoadBalancerResource.LoadBalancerResource(LoadBalancerService loadBalancerService,\n                                SystemLogService systemLog,\n                                CallMetadataResolver callMetadataResolver)", "testcase": false, "constructor": true}, {"identifier": "getJobLoadBalancers", "parameters": "(@PathParam(\"jobId\") String jobId)", "modifiers": "@GET @ApiOperation(\"Find the load balancer(s) with the specified ID\") @Path(\"/{jobId}\") public", "return": "GetJobLoadBalancersResult", "signature": "GetJobLoadBalancersResult getJobLoadBalancers(@PathParam(\"jobId\") String jobId)", "full_signature": "@GET @ApiOperation(\"Find the load balancer(s) with the specified ID\") @Path(\"/{jobId}\") public GetJobLoadBalancersResult getJobLoadBalancers(@PathParam(\"jobId\") String jobId)", "class_method_signature": "LoadBalancerResource.getJobLoadBalancers(@PathParam(\"jobId\") String jobId)", "testcase": false, "constructor": false}, {"identifier": "getAllLoadBalancers", "parameters": "(@Context UriInfo info)", "modifiers": "@GET @ApiOperation(\"Get all load balancers\") public", "return": "GetAllLoadBalancersResult", "signature": "GetAllLoadBalancersResult getAllLoadBalancers(@Context UriInfo info)", "full_signature": "@GET @ApiOperation(\"Get all load balancers\") public GetAllLoadBalancersResult getAllLoadBalancers(@Context UriInfo info)", "class_method_signature": "LoadBalancerResource.getAllLoadBalancers(@Context UriInfo info)", "testcase": false, "constructor": false}, {"identifier": "addLoadBalancer", "parameters": "(\n            @QueryParam(\"jobId\") String jobId,\n            @QueryParam(\"loadBalancerId\") String loadBalancerId)", "modifiers": "@POST @ApiOperation(\"Add a load balancer\") public", "return": "Response", "signature": "Response addLoadBalancer(\n            @QueryParam(\"jobId\") String jobId,\n            @QueryParam(\"loadBalancerId\") String loadBalancerId)", "full_signature": "@POST @ApiOperation(\"Add a load balancer\") public Response addLoadBalancer(\n            @QueryParam(\"jobId\") String jobId,\n            @QueryParam(\"loadBalancerId\") String loadBalancerId)", "class_method_signature": "LoadBalancerResource.addLoadBalancer(\n            @QueryParam(\"jobId\") String jobId,\n            @QueryParam(\"loadBalancerId\") String loadBalancerId)", "testcase": false, "constructor": false}, {"identifier": "removeLoadBalancer", "parameters": "(\n            @QueryParam(\"jobId\") String jobId,\n            @QueryParam(\"loadBalancerId\") String loadBalancerId)", "modifiers": "@DELETE @ApiOperation(\"Remove a load balancer\") public", "return": "Response", "signature": "Response removeLoadBalancer(\n            @QueryParam(\"jobId\") String jobId,\n            @QueryParam(\"loadBalancerId\") String loadBalancerId)", "full_signature": "@DELETE @ApiOperation(\"Remove a load balancer\") public Response removeLoadBalancer(\n            @QueryParam(\"jobId\") String jobId,\n            @QueryParam(\"loadBalancerId\") String loadBalancerId)", "class_method_signature": "LoadBalancerResource.removeLoadBalancer(\n            @QueryParam(\"jobId\") String jobId,\n            @QueryParam(\"loadBalancerId\") String loadBalancerId)", "testcase": false, "constructor": false}, {"identifier": "resolveCallMetadata", "parameters": "()", "modifiers": "private", "return": "CallMetadata", "signature": "CallMetadata resolveCallMetadata()", "full_signature": "private CallMetadata resolveCallMetadata()", "class_method_signature": "LoadBalancerResource.resolveCallMetadata()", "testcase": false, "constructor": false}], "file": "titus-server-runtime/src/main/java/com/netflix/titus/runtime/endpoint/v3/rest/LoadBalancerResource.java"}, "focal_method": {"identifier": "addLoadBalancer", "parameters": "(\n            @QueryParam(\"jobId\") String jobId,\n            @QueryParam(\"loadBalancerId\") String loadBalancerId)", "modifiers": "@POST @ApiOperation(\"Add a load balancer\") public", "return": "Response", "body": "@POST\n    @ApiOperation(\"Add a load balancer\")\n    public Response addLoadBalancer(\n            @QueryParam(\"jobId\") String jobId,\n            @QueryParam(\"loadBalancerId\") String loadBalancerId) {\n        return Responses.fromCompletable(loadBalancerService.addLoadBalancer(\n                AddLoadBalancerRequest.newBuilder().setJobId(jobId).setLoadBalancerId(LoadBalancerId.newBuilder().setId(loadBalancerId).build()).build(),\n                resolveCallMetadata())\n        );\n    }", "signature": "Response addLoadBalancer(\n            @QueryParam(\"jobId\") String jobId,\n            @QueryParam(\"loadBalancerId\") String loadBalancerId)", "full_signature": "@POST @ApiOperation(\"Add a load balancer\") public Response addLoadBalancer(\n            @QueryParam(\"jobId\") String jobId,\n            @QueryParam(\"loadBalancerId\") String loadBalancerId)", "class_method_signature": "LoadBalancerResource.addLoadBalancer(\n            @QueryParam(\"jobId\") String jobId,\n            @QueryParam(\"loadBalancerId\") String loadBalancerId)", "testcase": false, "constructor": false, "invocations": ["fromCompletable", "addLoadBalancer", "build", "setLoadBalancerId", "setJobId", "newBuilder", "build", "setId", "newBuilder", "resolveCallMetadata"]}, "repository": {"repo_id": 107330274, "url": "https://github.com/Netflix/titus-control-plane", "stars": 241, "created": "10/17/2017 10:20:55 PM +00:00", "updates": "2020-01-25T13:01:05+00:00", "fork": "False", "license": "licensed"}}