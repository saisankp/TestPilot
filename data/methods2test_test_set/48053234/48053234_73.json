{"test_class": {"identifier": "StoreTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final long ID = 10;", "modifier": "private static final", "type": "long", "declarator": "ID = 10", "var_name": "ID"}, {"original_string": "@Mock\n    public SharedPreferences prefs;", "modifier": "@Mock\n    public", "type": "SharedPreferences", "declarator": "prefs", "var_name": "prefs"}, {"original_string": "@Mock\n    public SharedPreferences.Editor editor;", "modifier": "@Mock\n    public", "type": "SharedPreferences.Editor", "declarator": "editor", "var_name": "editor"}, {"original_string": "TestEntity entity = new TestEntity(ID);", "modifier": "", "type": "TestEntity", "declarator": "entity = new TestEntity(ID)", "var_name": "entity"}, {"original_string": "Store<TestEntity> store;", "modifier": "", "type": "Store<TestEntity>", "declarator": "store", "var_name": "store"}], "file": "tapglue-android-sdk/src/test/java/com/tapglue/android/internal/StoreTest.java"}, "test_case": {"identifier": "getEntityReturnsPersistedWhenNull", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getEntityReturnsPersistedWhenNull() {\n        when(prefs.getString(\"object\", null)).thenReturn(new Gson().toJson(entity));\n        TestSubscriber<TestEntity> ts = new TestSubscriber<>();\n\n        store.get().subscribe(ts);\n\n        assertThat(ts.getOnNextEvents(), hasItems(entity));\n    }", "signature": "void getEntityReturnsPersistedWhenNull()", "full_signature": "@Test public void getEntityReturnsPersistedWhenNull()", "class_method_signature": "StoreTest.getEntityReturnsPersistedWhenNull()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "getString", "toJson", "subscribe", "get", "assertThat", "getOnNextEvents", "hasItems"]}, "focal_class": {"identifier": "Store", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String TAG = \"object\";", "modifier": "private static final", "type": "String", "declarator": "TAG = \"object\"", "var_name": "TAG"}, {"original_string": "SharedPreferences prefs;", "modifier": "", "type": "SharedPreferences", "declarator": "prefs", "var_name": "prefs"}, {"original_string": "Class<T> cls;", "modifier": "", "type": "Class<T>", "declarator": "cls", "var_name": "cls"}, {"original_string": "T obj;", "modifier": "", "type": "T", "declarator": "obj", "var_name": "obj"}], "methods": [{"identifier": "Store", "parameters": "(SharedPreferences prefs, Class<T> cls)", "modifiers": "", "return": "", "signature": " Store(SharedPreferences prefs, Class<T> cls)", "full_signature": "  Store(SharedPreferences prefs, Class<T> cls)", "class_method_signature": "Store.Store(SharedPreferences prefs, Class<T> cls)", "testcase": false, "constructor": true}, {"identifier": "store", "parameters": "()", "modifiers": "", "return": "Func1<T,T>", "signature": "Func1<T,T> store()", "full_signature": " Func1<T,T> store()", "class_method_signature": "Store.store()", "testcase": false, "constructor": false}, {"identifier": "get", "parameters": "()", "modifiers": "", "return": "Observable<T>", "signature": "Observable<T> get()", "full_signature": " Observable<T> get()", "class_method_signature": "Store.get()", "testcase": false, "constructor": false}, {"identifier": "clear", "parameters": "()", "modifiers": "", "return": "Action0", "signature": "Action0 clear()", "full_signature": " Action0 clear()", "class_method_signature": "Store.clear()", "testcase": false, "constructor": false}, {"identifier": "isEmpty", "parameters": "()", "modifiers": "", "return": "boolean", "signature": "boolean isEmpty()", "full_signature": " boolean isEmpty()", "class_method_signature": "Store.isEmpty()", "testcase": false, "constructor": false}, {"identifier": "setObject", "parameters": "(T obj)", "modifiers": "private", "return": "void", "signature": "void setObject(T obj)", "full_signature": "private void setObject(T obj)", "class_method_signature": "Store.setObject(T obj)", "testcase": false, "constructor": false}], "file": "tapglue-android-sdk/src/main/java/com/tapglue/android/internal/Store.java"}, "focal_method": {"identifier": "get", "parameters": "()", "modifiers": "", "return": "Observable<T>", "body": "Observable<T> get() {\n        if(obj == null) {\n            String objJson = prefs.getString(TAG, null);\n            obj = new Gson().fromJson(objJson, cls);\n        }\n        return obj == null ? Observable.<T>empty():Observable.just(obj);\n    }", "signature": "Observable<T> get()", "full_signature": " Observable<T> get()", "class_method_signature": "Store.get()", "testcase": false, "constructor": false, "invocations": ["getString", "fromJson", "empty", "just"]}, "repository": {"repo_id": 48053234, "url": "https://github.com/tapglue/android_sdk", "language": "Java", "is_fork": false, "fork_count": 15, "stargazer_count": 10, "size": 931, "license": "licensed"}}