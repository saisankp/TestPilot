{"test_class": {"identifier": "SvUndebitCmdBuildTest", "superclass": "", "interfaces": "", "fields": [], "file": "java/component/keyple-calypso/src/test/java/org/eclipse/keyple/calypso/command/po/builder/storedvalue/SvUndebitCmdBuildTest.java"}, "test_case": {"identifier": "svUndebitCmdBuild_mode_compat_get_debit_data", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void svUndebitCmdBuild_mode_compat_get_debit_data() {\n    SvUndebitCmdBuild svUndebitCmdBuild =\n        new SvUndebitCmdBuild(\n            PoClass.ISO,\n            PoRevision.REV3_1,\n            /* amount */ 1, /*\n                             * KVC\n                             */\n            (byte) 0xAA, /* date */\n            ByteArrayUtil.fromHex(\"1122\"),\n            /* time */ ByteArrayUtil.fromHex(\"3344\"));\n    byte[] svUndebitData = svUndebitCmdBuild.getSvUndebitData();\n    Assert.assertArrayEquals(ByteArrayUtil.fromHex(\"BC00001400000111223344AA\"), svUndebitData);\n  }", "signature": "void svUndebitCmdBuild_mode_compat_get_debit_data()", "full_signature": "@Test public void svUndebitCmdBuild_mode_compat_get_debit_data()", "class_method_signature": "SvUndebitCmdBuildTest.svUndebitCmdBuild_mode_compat_get_debit_data()", "testcase": true, "constructor": false, "invocations": ["fromHex", "fromHex", "getSvUndebitData", "assertArrayEquals", "fromHex"]}, "focal_class": {"identifier": "SvUndebitCmdBuild", "superclass": "extends AbstractPoCommandBuilder<SvUndebitRespPars>", "interfaces": "", "fields": [{"original_string": "private static final CalypsoPoCommand command = CalypsoPoCommand.SV_UNDEBIT;", "modifier": "private static final", "type": "CalypsoPoCommand", "declarator": "command = CalypsoPoCommand.SV_UNDEBIT", "var_name": "command"}, {"original_string": "private final PoClass poClass;", "modifier": "private final", "type": "PoClass", "declarator": "poClass", "var_name": "poClass"}, {"original_string": "private final PoRevision poRevision;", "modifier": "private final", "type": "PoRevision", "declarator": "poRevision", "var_name": "poRevision"}, {"original_string": "private final byte[] dataIn;", "modifier": "private final", "type": "byte[]", "declarator": "dataIn", "var_name": "dataIn"}], "methods": [{"identifier": "SvUndebitCmdBuild", "parameters": "(\n      PoClass poClass, PoRevision poRevision, int amount, byte kvc, byte[] date, byte[] time)", "modifiers": "public", "return": "", "signature": " SvUndebitCmdBuild(\n      PoClass poClass, PoRevision poRevision, int amount, byte kvc, byte[] date, byte[] time)", "full_signature": "public  SvUndebitCmdBuild(\n      PoClass poClass, PoRevision poRevision, int amount, byte kvc, byte[] date, byte[] time)", "class_method_signature": "SvUndebitCmdBuild.SvUndebitCmdBuild(\n      PoClass poClass, PoRevision poRevision, int amount, byte kvc, byte[] date, byte[] time)", "testcase": false, "constructor": true}, {"identifier": "finalizeBuilder", "parameters": "(byte[] undebitComplementaryData)", "modifiers": "public", "return": "void", "signature": "void finalizeBuilder(byte[] undebitComplementaryData)", "full_signature": "public void finalizeBuilder(byte[] undebitComplementaryData)", "class_method_signature": "SvUndebitCmdBuild.finalizeBuilder(byte[] undebitComplementaryData)", "testcase": false, "constructor": false}, {"identifier": "getSvUndebitData", "parameters": "()", "modifiers": "public", "return": "byte[]", "signature": "byte[] getSvUndebitData()", "full_signature": "public byte[] getSvUndebitData()", "class_method_signature": "SvUndebitCmdBuild.getSvUndebitData()", "testcase": false, "constructor": false}, {"identifier": "createResponseParser", "parameters": "(ApduResponse apduResponse)", "modifiers": "@Override public", "return": "SvUndebitRespPars", "signature": "SvUndebitRespPars createResponseParser(ApduResponse apduResponse)", "full_signature": "@Override public SvUndebitRespPars createResponseParser(ApduResponse apduResponse)", "class_method_signature": "SvUndebitCmdBuild.createResponseParser(ApduResponse apduResponse)", "testcase": false, "constructor": false}, {"identifier": "isSessionBufferUsed", "parameters": "()", "modifiers": "@Override public", "return": "boolean", "signature": "boolean isSessionBufferUsed()", "full_signature": "@Override public boolean isSessionBufferUsed()", "class_method_signature": "SvUndebitCmdBuild.isSessionBufferUsed()", "testcase": false, "constructor": false}], "file": "java/component/keyple-calypso/src/main/java/org/eclipse/keyple/calypso/command/po/builder/storedvalue/SvUndebitCmdBuild.java"}, "focal_method": {"identifier": "getSvUndebitData", "parameters": "()", "modifiers": "public", "return": "byte[]", "body": "public byte[] getSvUndebitData() {\n    byte[] svUndebitData = new byte[12];\n    svUndebitData[0] = command.getInstructionByte();\n    // svUndebitData[1,2] / P1P2 not set because ignored\n    // Lc is 5 bytes longer in revision 3.2\n    svUndebitData[3] = poRevision == PoRevision.REV3_2 ? (byte) 0x19 : (byte) 0x14;\n    // appends the fixed part of dataIn\n    System.arraycopy(dataIn, 0, svUndebitData, 4, 8);\n    return svUndebitData;\n  }", "signature": "byte[] getSvUndebitData()", "full_signature": "public byte[] getSvUndebitData()", "class_method_signature": "SvUndebitCmdBuild.getSvUndebitData()", "testcase": false, "constructor": false, "invocations": ["getInstructionByte", "arraycopy"]}, "repository": {"repo_id": 156416177, "url": "https://github.com/eclipse/keyple-java", "language": "Java", "is_fork": false, "fork_count": 11, "stargazer_count": 8, "size": 10325, "license": "licensed"}}