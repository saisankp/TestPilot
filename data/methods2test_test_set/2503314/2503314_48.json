{"test_class": {"identifier": "ExpiredPasswordBeanTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final static AuthenticationManager authMgr = mock(AuthenticationManager.class);", "modifier": "private final static", "type": "AuthenticationManager", "declarator": "authMgr = mock(AuthenticationManager.class)", "var_name": "authMgr"}, {"original_string": "private final static ConfigurationUtil configurationUtil = mock(ConfigurationUtil.class);", "modifier": "private final static", "type": "ConfigurationUtil", "declarator": "configurationUtil = mock(ConfigurationUtil.class)", "var_name": "configurationUtil"}, {"original_string": "private final static ApplicationContext applicationContext = mock(ApplicationContext.class);", "modifier": "private final static", "type": "ApplicationContext", "declarator": "applicationContext = mock(ApplicationContext.class)", "var_name": "applicationContext"}, {"original_string": "private final static UserManager manager = mock(UserManager.class);", "modifier": "private final static", "type": "UserManager", "declarator": "manager = mock(UserManager.class)", "var_name": "manager"}, {"original_string": "private final static User user = mock(User.class);", "modifier": "private final static", "type": "User", "declarator": "user = mock(User.class)", "var_name": "user"}, {"original_string": "private final static Principal principal = mock(Principal.class);", "modifier": "private final static", "type": "Principal", "declarator": "principal = mock(Principal.class)", "var_name": "principal"}, {"original_string": "private static final String OLD_PASSWORD = \"oldPassword\";", "modifier": "private static final", "type": "String", "declarator": "OLD_PASSWORD = \"oldPassword\"", "var_name": "OLD_PASSWORD"}, {"original_string": "private static final String NEW_PASSWORD = \"newPassword\";", "modifier": "private static final", "type": "String", "declarator": "NEW_PASSWORD = \"newPassword\"", "var_name": "NEW_PASSWORD"}, {"original_string": "private static ExpiredPasswordBean sut;", "modifier": "private static", "type": "ExpiredPasswordBean", "declarator": "sut", "var_name": "sut"}], "file": "tntconcept-web/src/test/java/com/autentia/tnt/bean/ExpiredPasswordBeanTest.java"}, "test_case": {"identifier": "shouldChangePasswordTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void shouldChangePasswordTest() throws Exception {\n        sut.setPassword(NEW_PASSWORD);\n        sut.setPasswordRepe(NEW_PASSWORD);\n\n        user.setPasswordExpired(true);\n\n        final String result = sut.changePassword();\n        assertThat(result, is(NavigationResults.CHANGE_PASSWORD_OK));\n        assertThat(user.isPasswordExpired(), is(false));\n\n    }", "signature": "void shouldChangePasswordTest()", "full_signature": "@Test public void shouldChangePasswordTest()", "class_method_signature": "ExpiredPasswordBeanTest.shouldChangePasswordTest()", "testcase": true, "constructor": false, "invocations": ["setPassword", "setPasswordRepe", "setPasswordExpired", "changePassword", "assertThat", "is", "assertThat", "isPasswordExpired", "is"]}, "focal_class": {"identifier": "ExpiredPasswordBean", "superclass": "extends AbstractPasswordBean", "interfaces": "", "fields": [{"original_string": "private static final long serialVersionUID = 4873802999327338762L;", "modifier": "private static final", "type": "long", "declarator": "serialVersionUID = 4873802999327338762L", "var_name": "serialVersionUID"}], "methods": [{"identifier": "changePassword", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String changePassword()", "full_signature": "@Override public String changePassword()", "class_method_signature": "ExpiredPasswordBean.changePassword()", "testcase": false, "constructor": false}, {"identifier": "returnError", "parameters": "(Exception ex)", "modifiers": "@Override public", "return": "String", "signature": "String returnError(Exception ex)", "full_signature": "@Override public String returnError(Exception ex)", "class_method_signature": "ExpiredPasswordBean.returnError(Exception ex)", "testcase": false, "constructor": false}], "file": "tntconcept-web/src/main/java/com/autentia/tnt/bean/ExpiredPasswordBean.java"}, "focal_method": {"identifier": "changePassword", "parameters": "()", "modifiers": "@Override public", "return": "String", "body": "@Override\n    public String changePassword() {\n        User user = authMgr.getCurrentPrincipal().getUser();\n        if (user.isLdapAuthentication()) {\n            setPasswordOld(user.getLdapPassword());\n        } else {\n            setPasswordOld(user.getPassword());\n        }\n        return super.changePassword();\n    }", "signature": "String changePassword()", "full_signature": "@Override public String changePassword()", "class_method_signature": "ExpiredPasswordBean.changePassword()", "testcase": false, "constructor": false, "invocations": ["getUser", "getCurrentPrincipal", "isLdapAuthentication", "setPasswordOld", "getLdapPassword", "setPasswordOld", "getPassword", "changePassword"]}, "repository": {"repo_id": 2503314, "url": "https://github.com/autentia/TNTConcept", "stars": 11, "created": "10/3/2011 8:00:30 AM +00:00", "updates": "2020-01-24T12:30:31+00:00", "fork": "False", "license": "licensed"}}