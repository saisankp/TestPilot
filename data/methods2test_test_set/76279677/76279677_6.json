{"test_class": {"identifier": "VarDependenciesTest", "superclass": "extends BaseVarTests", "interfaces": "", "fields": [], "file": "cypher2sql/src/test/java/org/cytosm/cypher2sql/lowering/typeck/VarDependenciesTest.java"}, "test_case": {"identifier": "testReachableVarsInOrderBy", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testReachableVarsInOrderBy() {\n        String cypher = \"\" +\n                \"MATCH (a)\\n\" +\n                \"WITH a.firstName AS foo ORDER BY foo\\n\" +\n                \"RETURN foo\";\n        Statement st = PassAvailables.parseCypher(cypher);\n        SingleQuery sq = (SingleQuery) st.query.part;\n        VarDependencies deps = new VarDependencies(st);\n        With with = (With) sq.clauses.get(1);\n        AvailableVariables orderBy = deps.getReachableVars(new ClauseId(with.orderBy.get()));\n        Assert.assertTrue(orderBy.get(\"foo\").isPresent());\n    }", "signature": "void testReachableVarsInOrderBy()", "full_signature": "@Test public void testReachableVarsInOrderBy()", "class_method_signature": "VarDependenciesTest.testReachableVarsInOrderBy()", "testcase": true, "constructor": false, "invocations": ["parseCypher", "get", "getReachableVars", "get", "assertTrue", "isPresent", "get"]}, "focal_class": {"identifier": "VarDependencies", "superclass": "", "interfaces": "", "fields": [{"original_string": "private Map<ClauseId, List<Var>> usedVariablesInClause = new HashMap<>();", "modifier": "private", "type": "Map<ClauseId, List<Var>>", "declarator": "usedVariablesInClause = new HashMap<>()", "var_name": "usedVariablesInClause"}, {"original_string": "private Map<ClauseId, AvailableVariables> reachableVariables = new HashMap<>();", "modifier": "private", "type": "Map<ClauseId, AvailableVariables>", "declarator": "reachableVariables = new HashMap<>()", "var_name": "reachableVariables"}, {"original_string": "private Map<ClauseId, List<Relationship>> relationships = new HashMap<>();", "modifier": "private", "type": "Map<ClauseId, List<Relationship>>", "declarator": "relationships = new HashMap<>()", "var_name": "relationships"}, {"original_string": "private List<Expr> returnExprs = new ArrayList<>();", "modifier": "private", "type": "List<Expr>", "declarator": "returnExprs = new ArrayList<>()", "var_name": "returnExprs"}], "methods": [{"identifier": "VarDependencies", "parameters": "(final Statement statement)", "modifiers": "public", "return": "", "signature": " VarDependencies(final Statement statement)", "full_signature": "public  VarDependencies(final Statement statement)", "class_method_signature": "VarDependencies.VarDependencies(final Statement statement)", "testcase": false, "constructor": true}, {"identifier": "getUsedVars", "parameters": "(ClauseId clauseId)", "modifiers": "public", "return": "List<Var>", "signature": "List<Var> getUsedVars(ClauseId clauseId)", "full_signature": "public List<Var> getUsedVars(ClauseId clauseId)", "class_method_signature": "VarDependencies.getUsedVars(ClauseId clauseId)", "testcase": false, "constructor": false}, {"identifier": "getAllVariables", "parameters": "()", "modifiers": "public", "return": "Set<Var>", "signature": "Set<Var> getAllVariables()", "full_signature": "public Set<Var> getAllVariables()", "class_method_signature": "VarDependencies.getAllVariables()", "testcase": false, "constructor": false}, {"identifier": "getUsedAndIndirectUsedVars", "parameters": "(ClauseId clauseId)", "modifiers": "public", "return": "List<Var>", "signature": "List<Var> getUsedAndIndirectUsedVars(ClauseId clauseId)", "full_signature": "public List<Var> getUsedAndIndirectUsedVars(ClauseId clauseId)", "class_method_signature": "VarDependencies.getUsedAndIndirectUsedVars(ClauseId clauseId)", "testcase": false, "constructor": false}, {"identifier": "getReachableVars", "parameters": "(ClauseId clauseId)", "modifiers": "public", "return": "AvailableVariables", "signature": "AvailableVariables getReachableVars(ClauseId clauseId)", "full_signature": "public AvailableVariables getReachableVars(ClauseId clauseId)", "class_method_signature": "VarDependencies.getReachableVars(ClauseId clauseId)", "testcase": false, "constructor": false}, {"identifier": "getRelationships", "parameters": "(ClauseId clauseId)", "modifiers": "public", "return": "List<Relationship>", "signature": "List<Relationship> getRelationships(ClauseId clauseId)", "full_signature": "public List<Relationship> getRelationships(ClauseId clauseId)", "class_method_signature": "VarDependencies.getRelationships(ClauseId clauseId)", "testcase": false, "constructor": false}, {"identifier": "getReturnExprs", "parameters": "()", "modifiers": "public", "return": "List<Expr>", "signature": "List<Expr> getReturnExprs()", "full_signature": "public List<Expr> getReturnExprs()", "class_method_signature": "VarDependencies.getReturnExprs()", "testcase": false, "constructor": false}], "file": "cypher2sql/src/main/java/org/cytosm/cypher2sql/lowering/typeck/VarDependencies.java"}, "focal_method": {"identifier": "getReachableVars", "parameters": "(ClauseId clauseId)", "modifiers": "public", "return": "AvailableVariables", "body": "public AvailableVariables getReachableVars(ClauseId clauseId) {\n        return this.reachableVariables.get(clauseId);\n    }", "signature": "AvailableVariables getReachableVars(ClauseId clauseId)", "full_signature": "public AvailableVariables getReachableVars(ClauseId clauseId)", "class_method_signature": "VarDependencies.getReachableVars(ClauseId clauseId)", "testcase": false, "constructor": false, "invocations": ["get"]}, "repository": {"repo_id": 76279677, "url": "https://github.com/cytosm/cytosm", "language": "Java", "is_fork": false, "fork_count": 14, "stargazer_count": 41, "size": 1250, "license": "licensed"}}