{"test_class": {"identifier": "FederationSchedulerSpringResourceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final SchedulingResultEvent EVENT = SchedulingResultEvent.newBuilder()\n            .setSuccess(SchedulingResultEvent.Success.newBuilder().setMessage(\"Success!\").build())\n            .build();", "modifier": "private static final", "type": "SchedulingResultEvent", "declarator": "EVENT = SchedulingResultEvent.newBuilder()\n            .setSuccess(SchedulingResultEvent.Success.newBuilder().setMessage(\"Success!\").build())\n            .build()", "var_name": "EVENT"}, {"original_string": "@MockBean\n    protected AggregatingSchedulerService serviceMock;", "modifier": "@MockBean\n    protected", "type": "AggregatingSchedulerService", "declarator": "serviceMock", "var_name": "serviceMock"}, {"original_string": "@Autowired\n    private MockMvc mockMvc;", "modifier": "@Autowired\n    private", "type": "MockMvc", "declarator": "mockMvc", "var_name": "mockMvc"}], "file": "titus-server-federation/src/test/java/com/netflix/titus/federation/endpoint/rest/FederationSchedulerSpringResourceTest.java"}, "test_case": {"identifier": "testFindLastSchedulingResult", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testFindLastSchedulingResult() throws Exception {\n        when(serviceMock.findLastSchedulingResult(\"taskAbc\")).thenReturn(Mono.just(EVENT));\n\n        SchedulingResultEvent entity = SpringMockMvcUtil.doGet(mockMvc, \"/api/v3/scheduler/results/taskAbc\", SchedulingResultEvent.class);\n        assertThat(entity).isEqualTo(EVENT);\n    }", "signature": "void testFindLastSchedulingResult()", "full_signature": "@Test public void testFindLastSchedulingResult()", "class_method_signature": "FederationSchedulerSpringResourceTest.testFindLastSchedulingResult()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "findLastSchedulingResult", "just", "doGet", "isEqualTo", "assertThat"]}, "focal_class": {"identifier": "FederationSchedulerSpringResource", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final AggregatingSchedulerService schedulerService;", "modifier": "private final", "type": "AggregatingSchedulerService", "declarator": "schedulerService", "var_name": "schedulerService"}], "methods": [{"identifier": "FederationSchedulerSpringResource", "parameters": "(AggregatingSchedulerService schedulerService)", "modifiers": "@Inject public", "return": "", "signature": " FederationSchedulerSpringResource(AggregatingSchedulerService schedulerService)", "full_signature": "@Inject public  FederationSchedulerSpringResource(AggregatingSchedulerService schedulerService)", "class_method_signature": "FederationSchedulerSpringResource.FederationSchedulerSpringResource(AggregatingSchedulerService schedulerService)", "testcase": false, "constructor": true}, {"identifier": "findLastSchedulingResult", "parameters": "(@PathVariable(\"id\") String taskId)", "modifiers": "@GetMapping(path = \"/results/{id}\") @ApiOperation(\"Find scheduling result for a task\") public", "return": "SchedulingResultEvent", "signature": "SchedulingResultEvent findLastSchedulingResult(@PathVariable(\"id\") String taskId)", "full_signature": "@GetMapping(path = \"/results/{id}\") @ApiOperation(\"Find scheduling result for a task\") public SchedulingResultEvent findLastSchedulingResult(@PathVariable(\"id\") String taskId)", "class_method_signature": "FederationSchedulerSpringResource.findLastSchedulingResult(@PathVariable(\"id\") String taskId)", "testcase": false, "constructor": false}], "file": "titus-server-federation/src/main/java/com/netflix/titus/federation/endpoint/rest/FederationSchedulerSpringResource.java"}, "focal_method": {"identifier": "findLastSchedulingResult", "parameters": "(@PathVariable(\"id\") String taskId)", "modifiers": "@GetMapping(path = \"/results/{id}\") @ApiOperation(\"Find scheduling result for a task\") public", "return": "SchedulingResultEvent", "body": "@GetMapping(path = \"/results/{id}\")\n    @ApiOperation(\"Find scheduling result for a task\")\n    public SchedulingResultEvent findLastSchedulingResult(@PathVariable(\"id\") String taskId) {\n        return Responses.fromMono(schedulerService.findLastSchedulingResult(taskId));\n    }", "signature": "SchedulingResultEvent findLastSchedulingResult(@PathVariable(\"id\") String taskId)", "full_signature": "@GetMapping(path = \"/results/{id}\") @ApiOperation(\"Find scheduling result for a task\") public SchedulingResultEvent findLastSchedulingResult(@PathVariable(\"id\") String taskId)", "class_method_signature": "FederationSchedulerSpringResource.findLastSchedulingResult(@PathVariable(\"id\") String taskId)", "testcase": false, "constructor": false, "invocations": ["fromMono", "findLastSchedulingResult"]}, "repository": {"repo_id": 107330274, "url": "https://github.com/Netflix/titus-control-plane", "stars": 241, "created": "10/17/2017 10:20:55 PM +00:00", "updates": "2020-01-25T13:01:05+00:00", "fork": "False", "license": "licensed"}}