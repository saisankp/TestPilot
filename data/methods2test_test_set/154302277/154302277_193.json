{"test_class": {"identifier": "AlarmHelperServiceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final AlarmHelperService alarmHelperService = new AlarmHelperService();", "modifier": "private final", "type": "AlarmHelperService", "declarator": "alarmHelperService = new AlarmHelperService()", "var_name": "alarmHelperService"}], "file": "osgp/protocol-adapter-dlms/osgp-protocol-adapter-dlms/src/test/java/org/opensmartgridplatform/adapter/protocol/dlms/domain/commands/alarm/AlarmHelperServiceTest.java"}, "test_case": {"identifier": "testConvertToAlarmTypes", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testConvertToAlarmTypes() {\n        final long registerValue = Long.parseLong(\"00000001000100010001000100000001\", 2);\n\n        final Set<AlarmTypeDto> alarmTypes = this.alarmHelperService.toAlarmTypes(registerValue);\n\n        assertThat(alarmTypes.contains(AlarmTypeDto.CLOCK_INVALID)).isTrue();\n        assertThat(alarmTypes.contains(AlarmTypeDto.PROGRAM_MEMORY_ERROR)).isTrue();\n        assertThat(alarmTypes.contains(AlarmTypeDto.WATCHDOG_ERROR)).isTrue();\n        assertThat(alarmTypes.contains(AlarmTypeDto.COMMUNICATION_ERROR_M_BUS_CHANNEL_1)).isTrue();\n        assertThat(alarmTypes.contains(AlarmTypeDto.FRAUD_ATTEMPT_M_BUS_CHANNEL_1)).isTrue();\n        assertThat(alarmTypes.contains(AlarmTypeDto.NEW_M_BUS_DEVICE_DISCOVERED_CHANNEL_1)).isTrue();\n    }", "signature": "void testConvertToAlarmTypes()", "full_signature": "@Test public void testConvertToAlarmTypes()", "class_method_signature": "AlarmHelperServiceTest.testConvertToAlarmTypes()", "testcase": true, "constructor": false, "invocations": ["parseLong", "toAlarmTypes", "isTrue", "assertThat", "contains", "isTrue", "assertThat", "contains", "isTrue", "assertThat", "contains", "isTrue", "assertThat", "contains", "isTrue", "assertThat", "contains", "isTrue", "assertThat", "contains"]}, "focal_class": {"identifier": "AlarmHelperService", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final int NUMBER_OF_BITS_IN_REGISTER = 32;", "modifier": "private static final", "type": "int", "declarator": "NUMBER_OF_BITS_IN_REGISTER = 32", "var_name": "NUMBER_OF_BITS_IN_REGISTER"}, {"original_string": "private static final ByteRegisterConverter<AlarmTypeDto> BYTE_REGISTER_CONVERTER;", "modifier": "private static final", "type": "ByteRegisterConverter<AlarmTypeDto>", "declarator": "BYTE_REGISTER_CONVERTER", "var_name": "BYTE_REGISTER_CONVERTER"}, {"original_string": "private static final Map<AlarmTypeDto, Integer> map = new EnumMap<>(AlarmTypeDto.class);", "modifier": "private static final", "type": "Map<AlarmTypeDto, Integer>", "declarator": "map = new EnumMap<>(AlarmTypeDto.class)", "var_name": "map"}], "methods": [{"identifier": "getAlarmRegisterBitIndexPerAlarmType", "parameters": "()", "modifiers": "public", "return": "Map<AlarmTypeDto, Integer>", "signature": "Map<AlarmTypeDto, Integer> getAlarmRegisterBitIndexPerAlarmType()", "full_signature": "public Map<AlarmTypeDto, Integer> getAlarmRegisterBitIndexPerAlarmType()", "class_method_signature": "AlarmHelperService.getAlarmRegisterBitIndexPerAlarmType()", "testcase": false, "constructor": false}, {"identifier": "toBitPosition", "parameters": "(final AlarmTypeDto alarmType)", "modifiers": "public", "return": "Integer", "signature": "Integer toBitPosition(final AlarmTypeDto alarmType)", "full_signature": "public Integer toBitPosition(final AlarmTypeDto alarmType)", "class_method_signature": "AlarmHelperService.toBitPosition(final AlarmTypeDto alarmType)", "testcase": false, "constructor": false}, {"identifier": "toAlarmTypes", "parameters": "(final Number registerValue)", "modifiers": "public", "return": "Set<AlarmTypeDto>", "signature": "Set<AlarmTypeDto> toAlarmTypes(final Number registerValue)", "full_signature": "public Set<AlarmTypeDto> toAlarmTypes(final Number registerValue)", "class_method_signature": "AlarmHelperService.toAlarmTypes(final Number registerValue)", "testcase": false, "constructor": false}, {"identifier": "toLongValue", "parameters": "(final Set<AlarmTypeDto> alarmTypes)", "modifiers": "public", "return": "Long", "signature": "Long toLongValue(final Set<AlarmTypeDto> alarmTypes)", "full_signature": "public Long toLongValue(final Set<AlarmTypeDto> alarmTypes)", "class_method_signature": "AlarmHelperService.toLongValue(final Set<AlarmTypeDto> alarmTypes)", "testcase": false, "constructor": false}], "file": "osgp/protocol-adapter-dlms/osgp-protocol-adapter-dlms/src/main/java/org/opensmartgridplatform/adapter/protocol/dlms/domain/commands/alarm/AlarmHelperService.java"}, "focal_method": {"identifier": "toAlarmTypes", "parameters": "(final Number registerValue)", "modifiers": "public", "return": "Set<AlarmTypeDto>", "body": "public Set<AlarmTypeDto> toAlarmTypes(final Number registerValue) {\n        return BYTE_REGISTER_CONVERTER.toTypes(registerValue.longValue());\n    }", "signature": "Set<AlarmTypeDto> toAlarmTypes(final Number registerValue)", "full_signature": "public Set<AlarmTypeDto> toAlarmTypes(final Number registerValue)", "class_method_signature": "AlarmHelperService.toAlarmTypes(final Number registerValue)", "testcase": false, "constructor": false, "invocations": ["toTypes", "longValue"]}, "repository": {"repo_id": 154302277, "url": "https://github.com/OSGP/open-smart-grid-platform", "stars": 30, "created": "10/23/2018 9:41:12 AM +00:00", "updates": "2020-01-26T20:15:09+00:00", "fork": "False", "license": "licensed"}}