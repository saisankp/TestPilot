{"test_class": {"identifier": "ContextTest", "superclass": "extends AbstractUnitTest", "interfaces": "", "fields": [{"original_string": "protected AuthorizeService authorizeService = AuthorizeServiceFactory.getInstance().getAuthorizeService();", "modifier": "protected", "type": "AuthorizeService", "declarator": "authorizeService = AuthorizeServiceFactory.getInstance().getAuthorizeService()", "var_name": "authorizeService"}, {"original_string": "protected EPersonService ePersonService = EPersonServiceFactory.getInstance().getEPersonService();", "modifier": "protected", "type": "EPersonService", "declarator": "ePersonService = EPersonServiceFactory.getInstance().getEPersonService()", "var_name": "ePersonService"}, {"original_string": "protected GroupService groupService = EPersonServiceFactory.getInstance().getGroupService();", "modifier": "protected", "type": "GroupService", "declarator": "groupService = EPersonServiceFactory.getInstance().getGroupService()", "var_name": "groupService"}], "file": "dspace-api/src/test/java/org/dspace/core/ContextTest.java"}, "test_case": {"identifier": "testGetDBConnection", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetDBConnection() throws SQLException\n    {\n        DBConnection connection = context.getDBConnection();\n        \n        assertThat(\"testGetDBConnection 0\", connection, notNullValue());\n        assertThat(\"testGetDBConnection 1\", connection.isSessionAlive(), equalTo(true));\n    }", "signature": "void testGetDBConnection()", "full_signature": "@Test public void testGetDBConnection()", "class_method_signature": "ContextTest.testGetDBConnection()", "testcase": true, "constructor": false, "invocations": ["getDBConnection", "assertThat", "notNullValue", "assertThat", "isSessionAlive", "equalTo"]}, "focal_class": {"identifier": "Context", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger log = Logger.getLogger(Context.class);", "modifier": "private static final", "type": "Logger", "declarator": "log = Logger.getLogger(Context.class)", "var_name": "log"}, {"original_string": "private EPerson currentUser;", "modifier": "private", "type": "EPerson", "declarator": "currentUser", "var_name": "currentUser"}, {"original_string": "private Locale currentLocale;", "modifier": "private", "type": "Locale", "declarator": "currentLocale", "var_name": "currentLocale"}, {"original_string": "private String extraLogInfo;", "modifier": "private", "type": "String", "declarator": "extraLogInfo", "var_name": "extraLogInfo"}, {"original_string": "private boolean ignoreAuth;", "modifier": "private", "type": "boolean", "declarator": "ignoreAuth", "var_name": "ignoreAuth"}, {"original_string": "private Stack<Boolean> authStateChangeHistory;", "modifier": "private", "type": "Stack<Boolean>", "declarator": "authStateChangeHistory", "var_name": "authStateChangeHistory"}, {"original_string": "private Stack<String> authStateClassCallHistory;", "modifier": "private", "type": "Stack<String>", "declarator": "authStateClassCallHistory", "var_name": "authStateClassCallHistory"}, {"original_string": "private List<UUID> specialGroups;", "modifier": "private", "type": "List<UUID>", "declarator": "specialGroups", "var_name": "specialGroups"}, {"original_string": "private LinkedList<Event> events = null;", "modifier": "private", "type": "LinkedList<Event>", "declarator": "events = null", "var_name": "events"}, {"original_string": "private String dispName = null;", "modifier": "private", "type": "String", "declarator": "dispName = null", "var_name": "dispName"}, {"original_string": "private Mode mode = Mode.READ_WRITE;", "modifier": "private", "type": "Mode", "declarator": "mode = Mode.READ_WRITE", "var_name": "mode"}, {"original_string": "private ContextReadOnlyCache readOnlyCache = new ContextReadOnlyCache();", "modifier": "private", "type": "ContextReadOnlyCache", "declarator": "readOnlyCache = new ContextReadOnlyCache()", "var_name": "readOnlyCache"}, {"original_string": "protected EventService eventService;", "modifier": "protected", "type": "EventService", "declarator": "eventService", "var_name": "eventService"}, {"original_string": "private DBConnection dbConnection;", "modifier": "private", "type": "DBConnection", "declarator": "dbConnection", "var_name": "dbConnection"}], "methods": [{"identifier": "Context", "parameters": "(EventService eventService, DBConnection dbConnection)", "modifiers": "protected", "return": "", "signature": " Context(EventService eventService, DBConnection dbConnection)", "full_signature": "protected  Context(EventService eventService, DBConnection dbConnection)", "class_method_signature": "Context.Context(EventService eventService, DBConnection dbConnection)", "testcase": false, "constructor": true}, {"identifier": "Context", "parameters": "()", "modifiers": "public", "return": "", "signature": " Context()", "full_signature": "public  Context()", "class_method_signature": "Context.Context()", "testcase": false, "constructor": true}, {"identifier": "Context", "parameters": "(Mode mode)", "modifiers": "public", "return": "", "signature": " Context(Mode mode)", "full_signature": "public  Context(Mode mode)", "class_method_signature": "Context.Context(Mode mode)", "testcase": false, "constructor": true}, {"identifier": "init", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void init()", "full_signature": "private void init()", "class_method_signature": "Context.init()", "testcase": false, "constructor": false}, {"identifier": "getDBConnection", "parameters": "()", "modifiers": "", "return": "DBConnection", "signature": "DBConnection getDBConnection()", "full_signature": " DBConnection getDBConnection()", "class_method_signature": "Context.getDBConnection()", "testcase": false, "constructor": false}, {"identifier": "getDBConfig", "parameters": "()", "modifiers": "public", "return": "DatabaseConfigVO", "signature": "DatabaseConfigVO getDBConfig()", "full_signature": "public DatabaseConfigVO getDBConfig()", "class_method_signature": "Context.getDBConfig()", "testcase": false, "constructor": false}, {"identifier": "getDbType", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getDbType()", "full_signature": "public String getDbType()", "class_method_signature": "Context.getDbType()", "testcase": false, "constructor": false}, {"identifier": "setCurrentUser", "parameters": "(EPerson user)", "modifiers": "public", "return": "void", "signature": "void setCurrentUser(EPerson user)", "full_signature": "public void setCurrentUser(EPerson user)", "class_method_signature": "Context.setCurrentUser(EPerson user)", "testcase": false, "constructor": false}, {"identifier": "getCurrentUser", "parameters": "()", "modifiers": "public", "return": "EPerson", "signature": "EPerson getCurrentUser()", "full_signature": "public EPerson getCurrentUser()", "class_method_signature": "Context.getCurrentUser()", "testcase": false, "constructor": false}, {"identifier": "getCurrentLocale", "parameters": "()", "modifiers": "public", "return": "Locale", "signature": "Locale getCurrentLocale()", "full_signature": "public Locale getCurrentLocale()", "class_method_signature": "Context.getCurrentLocale()", "testcase": false, "constructor": false}, {"identifier": "setCurrentLocale", "parameters": "(Locale locale)", "modifiers": "public", "return": "void", "signature": "void setCurrentLocale(Locale locale)", "full_signature": "public void setCurrentLocale(Locale locale)", "class_method_signature": "Context.setCurrentLocale(Locale locale)", "testcase": false, "constructor": false}, {"identifier": "ignoreAuthorization", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean ignoreAuthorization()", "full_signature": "public boolean ignoreAuthorization()", "class_method_signature": "Context.ignoreAuthorization()", "testcase": false, "constructor": false}, {"identifier": "turnOffAuthorisationSystem", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void turnOffAuthorisationSystem()", "full_signature": "public void turnOffAuthorisationSystem()", "class_method_signature": "Context.turnOffAuthorisationSystem()", "testcase": false, "constructor": false}, {"identifier": "restoreAuthSystemState", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void restoreAuthSystemState()", "full_signature": "public void restoreAuthSystemState()", "class_method_signature": "Context.restoreAuthSystemState()", "testcase": false, "constructor": false}, {"identifier": "setExtraLogInfo", "parameters": "(String info)", "modifiers": "public", "return": "void", "signature": "void setExtraLogInfo(String info)", "full_signature": "public void setExtraLogInfo(String info)", "class_method_signature": "Context.setExtraLogInfo(String info)", "testcase": false, "constructor": false}, {"identifier": "getExtraLogInfo", "parameters": "()", "modifiers": "public", "return": "String", "signature": "String getExtraLogInfo()", "full_signature": "public String getExtraLogInfo()", "class_method_signature": "Context.getExtraLogInfo()", "testcase": false, "constructor": false}, {"identifier": "complete", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void complete()", "full_signature": "public void complete()", "class_method_signature": "Context.complete()", "testcase": false, "constructor": false}, {"identifier": "commit", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void commit()", "full_signature": "public void commit()", "class_method_signature": "Context.commit()", "testcase": false, "constructor": false}, {"identifier": "dispatchEvents", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void dispatchEvents()", "full_signature": "public void dispatchEvents()", "class_method_signature": "Context.dispatchEvents()", "testcase": false, "constructor": false}, {"identifier": "setDispatcher", "parameters": "(String dispatcher)", "modifiers": "public", "return": "void", "signature": "void setDispatcher(String dispatcher)", "full_signature": "public void setDispatcher(String dispatcher)", "class_method_signature": "Context.setDispatcher(String dispatcher)", "testcase": false, "constructor": false}, {"identifier": "addEvent", "parameters": "(Event event)", "modifiers": "public", "return": "void", "signature": "void addEvent(Event event)", "full_signature": "public void addEvent(Event event)", "class_method_signature": "Context.addEvent(Event event)", "testcase": false, "constructor": false}, {"identifier": "getEvents", "parameters": "()", "modifiers": "public", "return": "LinkedList<Event>", "signature": "LinkedList<Event> getEvents()", "full_signature": "public LinkedList<Event> getEvents()", "class_method_signature": "Context.getEvents()", "testcase": false, "constructor": false}, {"identifier": "hasEvents", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean hasEvents()", "full_signature": "public boolean hasEvents()", "class_method_signature": "Context.hasEvents()", "testcase": false, "constructor": false}, {"identifier": "pollEvent", "parameters": "()", "modifiers": "public", "return": "Event", "signature": "Event pollEvent()", "full_signature": "public Event pollEvent()", "class_method_signature": "Context.pollEvent()", "testcase": false, "constructor": false}, {"identifier": "abort", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void abort()", "full_signature": "public void abort()", "class_method_signature": "Context.abort()", "testcase": false, "constructor": false}, {"identifier": "isValid", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isValid()", "full_signature": "public boolean isValid()", "class_method_signature": "Context.isValid()", "testcase": false, "constructor": false}, {"identifier": "isReadOnly", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean isReadOnly()", "full_signature": "public boolean isReadOnly()", "class_method_signature": "Context.isReadOnly()", "testcase": false, "constructor": false}, {"identifier": "setSpecialGroup", "parameters": "(UUID groupID)", "modifiers": "public", "return": "void", "signature": "void setSpecialGroup(UUID groupID)", "full_signature": "public void setSpecialGroup(UUID groupID)", "class_method_signature": "Context.setSpecialGroup(UUID groupID)", "testcase": false, "constructor": false}, {"identifier": "inSpecialGroup", "parameters": "(UUID groupID)", "modifiers": "public", "return": "boolean", "signature": "boolean inSpecialGroup(UUID groupID)", "full_signature": "public boolean inSpecialGroup(UUID groupID)", "class_method_signature": "Context.inSpecialGroup(UUID groupID)", "testcase": false, "constructor": false}, {"identifier": "getSpecialGroups", "parameters": "()", "modifiers": "public", "return": "List<Group>", "signature": "List<Group> getSpecialGroups()", "full_signature": "public List<Group> getSpecialGroups()", "class_method_signature": "Context.getSpecialGroups()", "testcase": false, "constructor": false}, {"identifier": "finalize", "parameters": "()", "modifiers": "@Override protected", "return": "void", "signature": "void finalize()", "full_signature": "@Override protected void finalize()", "class_method_signature": "Context.finalize()", "testcase": false, "constructor": false}, {"identifier": "shutDownDatabase", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void shutDownDatabase()", "full_signature": "public void shutDownDatabase()", "class_method_signature": "Context.shutDownDatabase()", "testcase": false, "constructor": false}, {"identifier": "getCacheSize", "parameters": "()", "modifiers": "public", "return": "long", "signature": "long getCacheSize()", "full_signature": "public long getCacheSize()", "class_method_signature": "Context.getCacheSize()", "testcase": false, "constructor": false}, {"identifier": "setMode", "parameters": "(Mode newMode)", "modifiers": "public", "return": "void", "signature": "void setMode(Mode newMode)", "full_signature": "public void setMode(Mode newMode)", "class_method_signature": "Context.setMode(Mode newMode)", "testcase": false, "constructor": false}, {"identifier": "getCurrentMode", "parameters": "()", "modifiers": "public", "return": "Mode", "signature": "Mode getCurrentMode()", "full_signature": "public Mode getCurrentMode()", "class_method_signature": "Context.getCurrentMode()", "testcase": false, "constructor": false}, {"identifier": "enableBatchMode", "parameters": "(boolean batchModeEnabled)", "modifiers": "@Deprecated public", "return": "void", "signature": "void enableBatchMode(boolean batchModeEnabled)", "full_signature": "@Deprecated public void enableBatchMode(boolean batchModeEnabled)", "class_method_signature": "Context.enableBatchMode(boolean batchModeEnabled)", "testcase": false, "constructor": false}, {"identifier": "isBatchModeEnabled", "parameters": "()", "modifiers": "@Deprecated public", "return": "boolean", "signature": "boolean isBatchModeEnabled()", "full_signature": "@Deprecated public boolean isBatchModeEnabled()", "class_method_signature": "Context.isBatchModeEnabled()", "testcase": false, "constructor": false}, {"identifier": "reloadEntity", "parameters": "(E entity)", "modifiers": "@SuppressWarnings(\"unchecked\") public", "return": "E", "signature": "E reloadEntity(E entity)", "full_signature": "@SuppressWarnings(\"unchecked\") public E reloadEntity(E entity)", "class_method_signature": "Context.reloadEntity(E entity)", "testcase": false, "constructor": false}, {"identifier": "uncacheEntity", "parameters": "(E entity)", "modifiers": "@SuppressWarnings(\"unchecked\") public", "return": "void", "signature": "void uncacheEntity(E entity)", "full_signature": "@SuppressWarnings(\"unchecked\") public void uncacheEntity(E entity)", "class_method_signature": "Context.uncacheEntity(E entity)", "testcase": false, "constructor": false}, {"identifier": "getCachedAuthorizationResult", "parameters": "(DSpaceObject dspaceObject, int action, EPerson eperson)", "modifiers": "public", "return": "Boolean", "signature": "Boolean getCachedAuthorizationResult(DSpaceObject dspaceObject, int action, EPerson eperson)", "full_signature": "public Boolean getCachedAuthorizationResult(DSpaceObject dspaceObject, int action, EPerson eperson)", "class_method_signature": "Context.getCachedAuthorizationResult(DSpaceObject dspaceObject, int action, EPerson eperson)", "testcase": false, "constructor": false}, {"identifier": "cacheAuthorizedAction", "parameters": "(DSpaceObject dspaceObject, int action, EPerson eperson, Boolean result, ResourcePolicy rp)", "modifiers": "public", "return": "void", "signature": "void cacheAuthorizedAction(DSpaceObject dspaceObject, int action, EPerson eperson, Boolean result, ResourcePolicy rp)", "full_signature": "public void cacheAuthorizedAction(DSpaceObject dspaceObject, int action, EPerson eperson, Boolean result, ResourcePolicy rp)", "class_method_signature": "Context.cacheAuthorizedAction(DSpaceObject dspaceObject, int action, EPerson eperson, Boolean result, ResourcePolicy rp)", "testcase": false, "constructor": false}, {"identifier": "getCachedGroupMembership", "parameters": "(Group group, EPerson eperson)", "modifiers": "public", "return": "Boolean", "signature": "Boolean getCachedGroupMembership(Group group, EPerson eperson)", "full_signature": "public Boolean getCachedGroupMembership(Group group, EPerson eperson)", "class_method_signature": "Context.getCachedGroupMembership(Group group, EPerson eperson)", "testcase": false, "constructor": false}, {"identifier": "cacheGroupMembership", "parameters": "(Group group, EPerson eperson, Boolean isMember)", "modifiers": "public", "return": "void", "signature": "void cacheGroupMembership(Group group, EPerson eperson, Boolean isMember)", "full_signature": "public void cacheGroupMembership(Group group, EPerson eperson, Boolean isMember)", "class_method_signature": "Context.cacheGroupMembership(Group group, EPerson eperson, Boolean isMember)", "testcase": false, "constructor": false}, {"identifier": "cacheAllMemberGroupsSet", "parameters": "(EPerson ePerson, Set<Group> groups)", "modifiers": "public", "return": "void", "signature": "void cacheAllMemberGroupsSet(EPerson ePerson, Set<Group> groups)", "full_signature": "public void cacheAllMemberGroupsSet(EPerson ePerson, Set<Group> groups)", "class_method_signature": "Context.cacheAllMemberGroupsSet(EPerson ePerson, Set<Group> groups)", "testcase": false, "constructor": false}, {"identifier": "getCachedAllMemberGroupsSet", "parameters": "(EPerson ePerson)", "modifiers": "public", "return": "Set<Group>", "signature": "Set<Group> getCachedAllMemberGroupsSet(EPerson ePerson)", "full_signature": "public Set<Group> getCachedAllMemberGroupsSet(EPerson ePerson)", "class_method_signature": "Context.getCachedAllMemberGroupsSet(EPerson ePerson)", "testcase": false, "constructor": false}, {"identifier": "reloadContextBoundEntities", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void reloadContextBoundEntities()", "full_signature": "private void reloadContextBoundEntities()", "class_method_signature": "Context.reloadContextBoundEntities()", "testcase": false, "constructor": false}], "file": "dspace-api/src/main/java/org/dspace/core/Context.java"}, "focal_method": {"identifier": "getDBConnection", "parameters": "()", "modifiers": "", "return": "DBConnection", "body": "DBConnection getDBConnection()\n    {\n        return dbConnection;\n    }", "signature": "DBConnection getDBConnection()", "full_signature": " DBConnection getDBConnection()", "class_method_signature": "Context.getDBConnection()", "testcase": false, "constructor": false, "invocations": []}, "repository": {"repo_id": 39038703, "url": "https://github.com/VTUL/vtechworks", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 6, "size": 112021, "license": "licensed"}}