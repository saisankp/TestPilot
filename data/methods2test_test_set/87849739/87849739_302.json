{"test_class": {"identifier": "InfoProviderFactoryTest", "superclass": "", "interfaces": "", "fields": [], "file": "services/connectivity/messaging/src/test/java/org/eclipse/ditto/services/connectivity/messaging/monitoring/logs/InfoProviderFactoryTest.java"}, "test_case": {"identifier": "forExternalMessageWithHeaders", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void forExternalMessageWithHeaders() {\n        final Map<String, String> headers = DittoHeaders.newBuilder()\n                .putHeader(\"foo\", \"bar\")\n                .putHeader(\"138\", \"ditto\")\n                .build();\n        final ExternalMessage externalMessage = ExternalMessageFactory.newExternalMessageBuilder(headers).build();\n\n        final ConnectionMonitor.InfoProvider info = InfoProviderFactory.forExternalMessage(externalMessage);\n\n        assertThat(info).hasHeaders(headers);\n    }", "signature": "void forExternalMessageWithHeaders()", "full_signature": "@Test public void forExternalMessageWithHeaders()", "class_method_signature": "InfoProviderFactoryTest.forExternalMessageWithHeaders()", "testcase": true, "constructor": false, "invocations": ["build", "putHeader", "putHeader", "newBuilder", "build", "newExternalMessageBuilder", "forExternalMessage", "hasHeaders", "assertThat"]}, "focal_class": {"identifier": "InfoProviderFactory", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String FALLBACK_CORRELATION_ID = \"<not-provided>\";", "modifier": "private static final", "type": "String", "declarator": "FALLBACK_CORRELATION_ID = \"<not-provided>\"", "var_name": "FALLBACK_CORRELATION_ID"}], "methods": [{"identifier": "InfoProviderFactory", "parameters": "()", "modifiers": "private", "return": "", "signature": " InfoProviderFactory()", "full_signature": "private  InfoProviderFactory()", "class_method_signature": "InfoProviderFactory.InfoProviderFactory()", "testcase": false, "constructor": true}, {"identifier": "forExternalMessage", "parameters": "(final ExternalMessage externalMessage)", "modifiers": "public static", "return": "ConnectionMonitor.InfoProvider", "signature": "ConnectionMonitor.InfoProvider forExternalMessage(final ExternalMessage externalMessage)", "full_signature": "public static ConnectionMonitor.InfoProvider forExternalMessage(final ExternalMessage externalMessage)", "class_method_signature": "InfoProviderFactory.forExternalMessage(final ExternalMessage externalMessage)", "testcase": false, "constructor": false}, {"identifier": "supplyPayloadFromExternalMessage", "parameters": "(final ExternalMessage externalMessage)", "modifiers": "private static", "return": "Supplier<String>", "signature": "Supplier<String> supplyPayloadFromExternalMessage(final ExternalMessage externalMessage)", "full_signature": "private static Supplier<String> supplyPayloadFromExternalMessage(final ExternalMessage externalMessage)", "class_method_signature": "InfoProviderFactory.supplyPayloadFromExternalMessage(final ExternalMessage externalMessage)", "testcase": false, "constructor": false}, {"identifier": "forSignal", "parameters": "(final Signal<?> signal)", "modifiers": "public static", "return": "ConnectionMonitor.InfoProvider", "signature": "ConnectionMonitor.InfoProvider forSignal(final Signal<?> signal)", "full_signature": "public static ConnectionMonitor.InfoProvider forSignal(final Signal<?> signal)", "class_method_signature": "InfoProviderFactory.forSignal(final Signal<?> signal)", "testcase": false, "constructor": false}, {"identifier": "supplyPayloadFromSignal", "parameters": "(final Signal<?> signal)", "modifiers": "private static", "return": "Supplier<String>", "signature": "Supplier<String> supplyPayloadFromSignal(final Signal<?> signal)", "full_signature": "private static Supplier<String> supplyPayloadFromSignal(final Signal<?> signal)", "class_method_signature": "InfoProviderFactory.supplyPayloadFromSignal(final Signal<?> signal)", "testcase": false, "constructor": false}, {"identifier": "forHeaders", "parameters": "(final Map<String, String> headers)", "modifiers": "public static", "return": "ConnectionMonitor.InfoProvider", "signature": "ConnectionMonitor.InfoProvider forHeaders(final Map<String, String> headers)", "full_signature": "public static ConnectionMonitor.InfoProvider forHeaders(final Map<String, String> headers)", "class_method_signature": "InfoProviderFactory.forHeaders(final Map<String, String> headers)", "testcase": false, "constructor": false}, {"identifier": "extractCorrelationId", "parameters": "(final Map<String, String> headers)", "modifiers": "private static", "return": "String", "signature": "String extractCorrelationId(final Map<String, String> headers)", "full_signature": "private static String extractCorrelationId(final Map<String, String> headers)", "class_method_signature": "InfoProviderFactory.extractCorrelationId(final Map<String, String> headers)", "testcase": false, "constructor": false}, {"identifier": "extractThingId", "parameters": "(final Signal<?> signal)", "modifiers": "@Nullable private static", "return": "ThingId", "signature": "ThingId extractThingId(final Signal<?> signal)", "full_signature": "@Nullable private static ThingId extractThingId(final Signal<?> signal)", "class_method_signature": "InfoProviderFactory.extractThingId(final Signal<?> signal)", "testcase": false, "constructor": false}, {"identifier": "empty", "parameters": "()", "modifiers": "public static", "return": "ConnectionMonitor.InfoProvider", "signature": "ConnectionMonitor.InfoProvider empty()", "full_signature": "public static ConnectionMonitor.InfoProvider empty()", "class_method_signature": "InfoProviderFactory.empty()", "testcase": false, "constructor": false}, {"identifier": "supplyEmptyPayload", "parameters": "()", "modifiers": "private static", "return": "Supplier<String>", "signature": "Supplier<String> supplyEmptyPayload()", "full_signature": "private static Supplier<String> supplyEmptyPayload()", "class_method_signature": "InfoProviderFactory.supplyEmptyPayload()", "testcase": false, "constructor": false}], "file": "services/connectivity/messaging/src/main/java/org/eclipse/ditto/services/connectivity/messaging/monitoring/logs/InfoProviderFactory.java"}, "focal_method": {"identifier": "forExternalMessage", "parameters": "(final ExternalMessage externalMessage)", "modifiers": "public static", "return": "ConnectionMonitor.InfoProvider", "body": "public static ConnectionMonitor.InfoProvider forExternalMessage(final ExternalMessage externalMessage) {\n        final String correlationId = extractCorrelationId(externalMessage.getHeaders());\n        final Instant timestamp = Instant.now();\n        final Supplier<String> payloadSupplier = supplyPayloadFromExternalMessage(externalMessage);\n\n        return new ImmutableInfoProvider(correlationId, timestamp, null, externalMessage.getHeaders(), payloadSupplier,\n                false);\n    }", "signature": "ConnectionMonitor.InfoProvider forExternalMessage(final ExternalMessage externalMessage)", "full_signature": "public static ConnectionMonitor.InfoProvider forExternalMessage(final ExternalMessage externalMessage)", "class_method_signature": "InfoProviderFactory.forExternalMessage(final ExternalMessage externalMessage)", "testcase": false, "constructor": false, "invocations": ["extractCorrelationId", "getHeaders", "now", "supplyPayloadFromExternalMessage", "getHeaders"]}, "repository": {"repo_id": 87849739, "url": "https://github.com/eclipse/ditto", "stars": 139, "created": "4/10/2017 7:29:57 PM +00:00", "updates": "2020-01-27T14:02:39+00:00", "fork": "False", "license": "licensed"}}