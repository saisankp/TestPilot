{"test_class": {"identifier": "BloomFilterTest", "superclass": "", "interfaces": "", "fields": [], "file": "tsfile/src/test/java/org/apache/iotdb/tsfile/utils/BloomFilterTest.java"}, "test_case": {"identifier": "testSerialize", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testSerialize() {\n    String value1 = \"device1.s1\";\n    String value2 = \"device1.s2\";\n    String value3 = \"device1.s3\";\n    BloomFilter filter = BloomFilter.getEmptyBloomFilter(0.05, 3);\n    filter.add(value1);\n    filter.add(value2);\n    filter.add(value3);\n\n    BloomFilter filter1 = BloomFilter.buildBloomFilter(filter.serialize(), filter.getSize(),\n        filter.getHashFunctionSize());\n    assertTrue(filter1.contains(value1));\n    assertTrue(filter1.contains(value2));\n    assertTrue(filter1.contains(value3));\n  }", "signature": "void testSerialize()", "full_signature": "@Test public void testSerialize()", "class_method_signature": "BloomFilterTest.testSerialize()", "testcase": true, "constructor": false, "invocations": ["getEmptyBloomFilter", "add", "add", "add", "buildBloomFilter", "serialize", "getSize", "getHashFunctionSize", "assertTrue", "contains", "assertTrue", "contains", "assertTrue", "contains"]}, "focal_class": {"identifier": "BloomFilter", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final int MINIMAL_SIZE = 256;", "modifier": "private static final", "type": "int", "declarator": "MINIMAL_SIZE = 256", "var_name": "MINIMAL_SIZE"}, {"original_string": "private static final int MAXIMAL_HASH_FUNCTION_SIZE = 8;", "modifier": "private static final", "type": "int", "declarator": "MAXIMAL_HASH_FUNCTION_SIZE = 8", "var_name": "MAXIMAL_HASH_FUNCTION_SIZE"}, {"original_string": "private static final int[] SEEDS = new int[]{5, 7, 11, 19, 31, 37, 43, 59};", "modifier": "private static final", "type": "int[]", "declarator": "SEEDS = new int[]{5, 7, 11, 19, 31, 37, 43, 59}", "var_name": "SEEDS"}, {"original_string": "private int size;", "modifier": "private", "type": "int", "declarator": "size", "var_name": "size"}, {"original_string": "private int hashFunctionSize;", "modifier": "private", "type": "int", "declarator": "hashFunctionSize", "var_name": "hashFunctionSize"}, {"original_string": "private BitSet bits;", "modifier": "private", "type": "BitSet", "declarator": "bits", "var_name": "bits"}, {"original_string": "private HashFunction[] func;", "modifier": "private", "type": "HashFunction[]", "declarator": "func", "var_name": "func"}], "methods": [{"identifier": "BloomFilter", "parameters": "(byte[] bytes, int size, int hashFunctionSize)", "modifiers": "private", "return": "", "signature": " BloomFilter(byte[] bytes, int size, int hashFunctionSize)", "full_signature": "private  BloomFilter(byte[] bytes, int size, int hashFunctionSize)", "class_method_signature": "BloomFilter.BloomFilter(byte[] bytes, int size, int hashFunctionSize)", "testcase": false, "constructor": true}, {"identifier": "BloomFilter", "parameters": "(int size, int hashFunctionSize)", "modifiers": "private", "return": "", "signature": " BloomFilter(int size, int hashFunctionSize)", "full_signature": "private  BloomFilter(int size, int hashFunctionSize)", "class_method_signature": "BloomFilter.BloomFilter(int size, int hashFunctionSize)", "testcase": false, "constructor": true}, {"identifier": "getEmptyBloomFilter", "parameters": "(double errorPercent, int numOfString)", "modifiers": "public static", "return": "BloomFilter", "signature": "BloomFilter getEmptyBloomFilter(double errorPercent, int numOfString)", "full_signature": "public static BloomFilter getEmptyBloomFilter(double errorPercent, int numOfString)", "class_method_signature": "BloomFilter.getEmptyBloomFilter(double errorPercent, int numOfString)", "testcase": false, "constructor": false}, {"identifier": "buildBloomFilter", "parameters": "(byte[] bytes, int size, int hashFunctionSize)", "modifiers": "public static", "return": "BloomFilter", "signature": "BloomFilter buildBloomFilter(byte[] bytes, int size, int hashFunctionSize)", "full_signature": "public static BloomFilter buildBloomFilter(byte[] bytes, int size, int hashFunctionSize)", "class_method_signature": "BloomFilter.buildBloomFilter(byte[] bytes, int size, int hashFunctionSize)", "testcase": false, "constructor": false}, {"identifier": "getHashFunctionSize", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getHashFunctionSize()", "full_signature": "public int getHashFunctionSize()", "class_method_signature": "BloomFilter.getHashFunctionSize()", "testcase": false, "constructor": false}, {"identifier": "getSize", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getSize()", "full_signature": "public int getSize()", "class_method_signature": "BloomFilter.getSize()", "testcase": false, "constructor": false}, {"identifier": "setSize", "parameters": "(int size)", "modifiers": "public", "return": "void", "signature": "void setSize(int size)", "full_signature": "public void setSize(int size)", "class_method_signature": "BloomFilter.setSize(int size)", "testcase": false, "constructor": false}, {"identifier": "add", "parameters": "(String value)", "modifiers": "public", "return": "void", "signature": "void add(String value)", "full_signature": "public void add(String value)", "class_method_signature": "BloomFilter.add(String value)", "testcase": false, "constructor": false}, {"identifier": "contains", "parameters": "(String value)", "modifiers": "public", "return": "boolean", "signature": "boolean contains(String value)", "full_signature": "public boolean contains(String value)", "class_method_signature": "BloomFilter.contains(String value)", "testcase": false, "constructor": false}, {"identifier": "getBitCount", "parameters": "()", "modifiers": "public", "return": "int", "signature": "int getBitCount()", "full_signature": "public int getBitCount()", "class_method_signature": "BloomFilter.getBitCount()", "testcase": false, "constructor": false}, {"identifier": "serialize", "parameters": "()", "modifiers": "public", "return": "byte[]", "signature": "byte[] serialize()", "full_signature": "public byte[] serialize()", "class_method_signature": "BloomFilter.serialize()", "testcase": false, "constructor": false}], "file": "tsfile/src/main/java/org/apache/iotdb/tsfile/utils/BloomFilter.java"}, "focal_method": {"identifier": "serialize", "parameters": "()", "modifiers": "public", "return": "byte[]", "body": "public byte[] serialize() {\n    return bits.toByteArray();\n  }", "signature": "byte[] serialize()", "full_signature": "public byte[] serialize()", "class_method_signature": "BloomFilter.serialize()", "testcase": false, "constructor": false, "invocations": ["toByteArray"]}, "repository": {"repo_id": 158975124, "url": "https://github.com/apache/incubator-iotdb", "stars": 449, "created": "11/24/2018 9:29:17 PM +00:00", "updates": "2020-01-21T08:10:15+00:00", "fork": "False", "license": "licensed"}}