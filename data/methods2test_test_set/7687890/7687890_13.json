{"test_class": {"identifier": "MyAttributeValueFactoryTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final URI stringEqualFunction;", "modifier": "private final", "type": "URI", "declarator": "stringEqualFunction", "var_name": "stringEqualFunction"}, {"original_string": "private final URI stringEqualOneof;", "modifier": "private final", "type": "URI", "declarator": "stringEqualOneof", "var_name": "stringEqualOneof"}], "file": "Code/core-abce/abce-components/src/test/java-ibm-only/eu/abc4trust/util/attributeTypes/MyAttributeValueFactoryTest.java"}, "test_case": {"identifier": "testEqualsOneOf", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testEqualsOneOf() throws Exception {\n    List<MyAttributeValue> arguments = new ArrayList<MyAttributeValue>();\n\n    // First\n    arguments.clear();\n    arguments.add(new MyAttributeValueString(\"arg0\", null));\n    arguments.add(new MyAttributeValueString(\"arg0\", null));\n    arguments.add(new MyAttributeValueString(\"arg1\", null));\n    arguments.add(new MyAttributeValueString(\"arg2\", null));\n    arguments.add(new MyAttributeValueString(\"arg3\", null));\n    assertTrue(evaulateFunction(stringEqualOneof, arguments));\n\n    // Middle\n    arguments.set(0, new MyAttributeValueString(\"arg2\", null));\n    assertTrue(evaulateFunction(stringEqualOneof, arguments));\n\n    // End\n    arguments.set(0, new MyAttributeValueString(\"arg3\", null));\n    assertTrue(evaulateFunction(stringEqualOneof, arguments));\n\n    // Not present\n    arguments.set(0, new MyAttributeValueString(\"hello\", null));\n    assertFalse(evaulateFunction(stringEqualOneof, arguments));\n\n    // Not present, with some duplicate arguments\n    arguments.clear();\n    arguments.add(new MyAttributeValueString(\"arg0\", null));\n    arguments.add(new MyAttributeValueString(\"arg1\", null));\n    arguments.add(new MyAttributeValueString(\"arg1\", null));\n    arguments.add(new MyAttributeValueString(\"arg1\", null));\n    assertFalse(evaulateFunction(stringEqualOneof, arguments));\n  }", "signature": "void testEqualsOneOf()", "full_signature": "@Test public void testEqualsOneOf()", "class_method_signature": "MyAttributeValueFactoryTest.testEqualsOneOf()", "testcase": true, "constructor": false, "invocations": ["clear", "add", "add", "add", "add", "add", "assertTrue", "evaulateFunction", "set", "assertTrue", "evaulateFunction", "set", "assertTrue", "evaulateFunction", "set", "assertFalse", "evaulateFunction", "clear", "add", "add", "add", "add", "assertFalse", "evaulateFunction"]}, "focal_class": {"identifier": "MyAttributeValueFactory", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "parseValue", "parameters": "(URI dataType, Object attributeValue, /*Nullable*/ EnumAllowedValues av)", "modifiers": "public static", "return": "MyAttributeValue", "signature": "MyAttributeValue parseValue(URI dataType, Object attributeValue, /*Nullable*/ EnumAllowedValues av)", "full_signature": "public static MyAttributeValue parseValue(URI dataType, Object attributeValue, /*Nullable*/ EnumAllowedValues av)", "class_method_signature": "MyAttributeValueFactory.parseValue(URI dataType, Object attributeValue, /*Nullable*/ EnumAllowedValues av)", "testcase": false, "constructor": false}, {"identifier": "operationTypeOfFunction", "parameters": "(URI functionAsUri)", "modifiers": "public static", "return": "OperationType", "signature": "OperationType operationTypeOfFunction(URI functionAsUri)", "full_signature": "public static OperationType operationTypeOfFunction(URI functionAsUri)", "class_method_signature": "MyAttributeValueFactory.operationTypeOfFunction(URI functionAsUri)", "testcase": false, "constructor": false}, {"identifier": "returnTypeOfFunction", "parameters": "(URI functionAsUri)", "modifiers": "public static", "return": "String", "signature": "String returnTypeOfFunction(URI functionAsUri)", "full_signature": "public static String returnTypeOfFunction(URI functionAsUri)", "class_method_signature": "MyAttributeValueFactory.returnTypeOfFunction(URI functionAsUri)", "testcase": false, "constructor": false}, {"identifier": "parseValueFromFunction", "parameters": "(URI function, Object param)", "modifiers": "public static", "return": "MyAttributeValue", "signature": "MyAttributeValue parseValueFromFunction(URI function, Object param)", "full_signature": "public static MyAttributeValue parseValueFromFunction(URI function, Object param)", "class_method_signature": "MyAttributeValueFactory.parseValueFromFunction(URI function, Object param)", "testcase": false, "constructor": false}, {"identifier": "evaulateFunction", "parameters": "(URI function, List<MyAttributeValue> arguments)", "modifiers": "public static", "return": "boolean", "signature": "boolean evaulateFunction(URI function, List<MyAttributeValue> arguments)", "full_signature": "public static boolean evaulateFunction(URI function, List<MyAttributeValue> arguments)", "class_method_signature": "MyAttributeValueFactory.evaulateFunction(URI function, List<MyAttributeValue> arguments)", "testcase": false, "constructor": false}, {"identifier": "checkTypes", "parameters": "(List<MyAttributeValue> arguments, String returnType)", "modifiers": "private static", "return": "boolean", "signature": "boolean checkTypes(List<MyAttributeValue> arguments, String returnType)", "full_signature": "private static boolean checkTypes(List<MyAttributeValue> arguments, String returnType)", "class_method_signature": "MyAttributeValueFactory.checkTypes(List<MyAttributeValue> arguments, String returnType)", "testcase": false, "constructor": false}, {"identifier": "getClassOfType", "parameters": "(String type)", "modifiers": "private static", "return": "Class<?>", "signature": "Class<?> getClassOfType(String type)", "full_signature": "private static Class<?> getClassOfType(String type)", "class_method_signature": "MyAttributeValueFactory.getClassOfType(String type)", "testcase": false, "constructor": false}, {"identifier": "isArgumentNumberCorrect", "parameters": "(OperationType op, int size)", "modifiers": "private static", "return": "boolean", "signature": "boolean isArgumentNumberCorrect(OperationType op, int size)", "full_signature": "private static boolean isArgumentNumberCorrect(OperationType op, int size)", "class_method_signature": "MyAttributeValueFactory.isArgumentNumberCorrect(OperationType op, int size)", "testcase": false, "constructor": false}], "file": "Code/core-abce/abce-components/src/main/java-ibm-only/eu/abc4trust/util/attributeTypes/MyAttributeValueFactory.java"}, "focal_method": {"identifier": "evaulateFunction", "parameters": "(URI function, List<MyAttributeValue> arguments)", "modifiers": "public static", "return": "boolean", "body": "public static boolean evaulateFunction(URI function, List<MyAttributeValue> arguments) {\n    String returnType = returnTypeOfFunction(function);\n    if(!checkTypes(arguments, returnType)) {\n      throw new RuntimeException(\"Incorrect type of arguments, when evaluating function: '\"\n        + function + \"'\");\n    }\n    OperationType op = operationTypeOfFunction(function);\n    if (!isArgumentNumberCorrect(op, arguments.size())) {\n      throw new RuntimeException(\"Incorrect number of arguments when evaluating function: '\"\n          + function + \"'\");\n    }\n    switch (op) {\n      case EQUAL:\n        return arguments.get(0).isCompatibleAndEquals(arguments.get(1));\n      case NOTEQUAL:\n        return arguments.get(0).isCompatibleAndNotEquals(arguments.get(1));\n      case EQUALONEOF: {\n        MyAttributeValue first = arguments.get(0);\n        for (int i = 1; i < arguments.size(); ++i) {\n          if (first.isCompatibleAndEquals(arguments.get(i))) {\n            return true;\n          }\n        }\n        return false;\n      }\n      case LESS:\n        return arguments.get(0).isCompatibleAndLess(arguments.get(1));\n      case LESSEQ:\n        return arguments.get(0).isCompatibleAndLessOrEqual(arguments.get(1));\n      case GREATER:\n        return arguments.get(1).isCompatibleAndLess(arguments.get(0));\n      case GREATEREQ:\n        return arguments.get(1).isCompatibleAndLessOrEqual(arguments.get(0));\n      default:\n        throw new RuntimeException(\"Problem with evaluating function: '\" + function + \"'\");\n    }\n  }", "signature": "boolean evaulateFunction(URI function, List<MyAttributeValue> arguments)", "full_signature": "public static boolean evaulateFunction(URI function, List<MyAttributeValue> arguments)", "class_method_signature": "MyAttributeValueFactory.evaulateFunction(URI function, List<MyAttributeValue> arguments)", "testcase": false, "constructor": false, "invocations": ["returnTypeOfFunction", "checkTypes", "operationTypeOfFunction", "isArgumentNumberCorrect", "size", "isCompatibleAndEquals", "get", "get", "isCompatibleAndNotEquals", "get", "get", "get", "size", "isCompatibleAndEquals", "get", "isCompatibleAndLess", "get", "get", "isCompatibleAndLessOrEqual", "get", "get", "isCompatibleAndLess", "get", "get", "isCompatibleAndLessOrEqual", "get", "get"]}, "repository": {"repo_id": 7687890, "url": "https://github.com/p2abcengine/p2abcengine", "language": "Java", "is_fork": false, "fork_count": 25, "stargazer_count": 71, "size": 11790, "license": "licensed"}}