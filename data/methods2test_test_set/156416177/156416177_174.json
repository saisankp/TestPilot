{"test_class": {"identifier": "PoSelectionRequestTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String ATR_VALUE = \"3B8F8001805A08030400020011223344829000F3\";", "modifier": "private static final", "type": "String", "declarator": "ATR_VALUE = \"3B8F8001805A08030400020011223344829000F3\"", "var_name": "ATR_VALUE"}, {"original_string": "private static final String FCI =\n      \"6F238409315449432E49434131A516BF0C13C708000000001122334453070A3C2F051410019000\";", "modifier": "private static final", "type": "String", "declarator": "FCI =\n      \"6F238409315449432E49434131A516BF0C13C708000000001122334453070A3C2F051410019000\"", "var_name": "FCI"}, {"original_string": "private static final String RECORD_CONTENT1 = \"00112233445566778899\";", "modifier": "private static final", "type": "String", "declarator": "RECORD_CONTENT1 = \"00112233445566778899\"", "var_name": "RECORD_CONTENT1"}, {"original_string": "private static final String RECORD_CONTENT2 = \"99887766554433221100\";", "modifier": "private static final", "type": "String", "declarator": "RECORD_CONTENT2 = \"99887766554433221100\"", "var_name": "RECORD_CONTENT2"}, {"original_string": "private static final String EF_SELECT_DATA = \"85170804041D031F1010100003030300000000000000002010\";", "modifier": "private static final", "type": "String", "declarator": "EF_SELECT_DATA = \"85170804041D031F1010100003030300000000000000002010\"", "var_name": "EF_SELECT_DATA"}, {"original_string": "private static final String DF_SELECT_DATA = \"85170001000000101000000103000000797979616770003F00\";", "modifier": "private static final", "type": "String", "declarator": "DF_SELECT_DATA = \"85170001000000101000000103000000797979616770003F00\"", "var_name": "DF_SELECT_DATA"}, {"original_string": "private final ApduResponse SELECT_APPLICATION_RESPONSE =\n      new ApduResponse(ByteArrayUtil.fromHex(FCI), null);", "modifier": "private final", "type": "ApduResponse", "declarator": "SELECT_APPLICATION_RESPONSE =\n      new ApduResponse(ByteArrayUtil.fromHex(FCI), null)", "var_name": "SELECT_APPLICATION_RESPONSE"}, {"original_string": "private final ApduResponse READ_REC_APDU_RESPONSE1 =\n      new ApduResponse(ByteArrayUtil.fromHex(RECORD_CONTENT1 + \"9000\"), null);", "modifier": "private final", "type": "ApduResponse", "declarator": "READ_REC_APDU_RESPONSE1 =\n      new ApduResponse(ByteArrayUtil.fromHex(RECORD_CONTENT1 + \"9000\"), null)", "var_name": "READ_REC_APDU_RESPONSE1"}, {"original_string": "private final ApduResponse READ_REC_APDU_RESPONSE2 =\n      new ApduResponse(ByteArrayUtil.fromHex(RECORD_CONTENT2 + \"9000\"), null);", "modifier": "private final", "type": "ApduResponse", "declarator": "READ_REC_APDU_RESPONSE2 =\n      new ApduResponse(ByteArrayUtil.fromHex(RECORD_CONTENT2 + \"9000\"), null)", "var_name": "READ_REC_APDU_RESPONSE2"}, {"original_string": "private final ApduResponse SELECT_DF_APDU_RESPONSE =\n      new ApduResponse(ByteArrayUtil.fromHex(DF_SELECT_DATA + \"9000\"), null);", "modifier": "private final", "type": "ApduResponse", "declarator": "SELECT_DF_APDU_RESPONSE =\n      new ApduResponse(ByteArrayUtil.fromHex(DF_SELECT_DATA + \"9000\"), null)", "var_name": "SELECT_DF_APDU_RESPONSE"}, {"original_string": "private final ApduResponse SELECT_EF_APDU_RESPONSE =\n      new ApduResponse(ByteArrayUtil.fromHex(EF_SELECT_DATA + \"9000\"), null);", "modifier": "private final", "type": "ApduResponse", "declarator": "SELECT_EF_APDU_RESPONSE =\n      new ApduResponse(ByteArrayUtil.fromHex(EF_SELECT_DATA + \"9000\"), null)", "var_name": "SELECT_EF_APDU_RESPONSE"}, {"original_string": "private PoSelectionRequest poSelectionRequest;", "modifier": "private", "type": "PoSelectionRequest", "declarator": "poSelectionRequest", "var_name": "poSelectionRequest"}], "file": "java/component/keyple-calypso/src/test/java/org/eclipse/keyple/calypso/transaction/PoSelectionRequestTest.java"}, "test_case": {"identifier": "testPrepareReadRecordFile", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testPrepareReadRecordFile() {\n    byte sfi1 = (byte) 0x10;\n    byte sfi2 = (byte) 0x11;\n    int recNumber = 1;\n    poSelectionRequest.prepareReadRecordFile(sfi1, recNumber);\n    poSelectionRequest.prepareReadRecordFile(sfi2, recNumber);\n    List<ApduResponse> apduResponses = new ArrayList<ApduResponse>();\n    apduResponses.add(READ_REC_APDU_RESPONSE1);\n    apduResponses.add(READ_REC_APDU_RESPONSE2);\n    SelectionStatus selectionStatus =\n        new SelectionStatus(\n            new AnswerToReset(ByteArrayUtil.fromHex(ATR_VALUE)), SELECT_APPLICATION_RESPONSE, true);\n    SeResponse seResponse = new SeResponse(true, true, selectionStatus, apduResponses);\n    CalypsoPo calypsoPo = poSelectionRequest.parse(seResponse);\n\n    ElementaryFile ef1 = calypsoPo.getFileBySfi(sfi1);\n    FileData records1 = ef1.getData();\n    byte[] record1 = records1.getContent();\n    Assert.assertArrayEquals(ByteArrayUtil.fromHex(RECORD_CONTENT1), record1);\n\n    ElementaryFile ef2 = calypsoPo.getFileBySfi(sfi2);\n    FileData records2 = ef2.getData();\n    byte[] record2 = records2.getContent();\n    Assert.assertArrayEquals(ByteArrayUtil.fromHex(RECORD_CONTENT2), record2);\n  }", "signature": "void testPrepareReadRecordFile()", "full_signature": "@Test public void testPrepareReadRecordFile()", "class_method_signature": "PoSelectionRequestTest.testPrepareReadRecordFile()", "testcase": true, "constructor": false, "invocations": ["prepareReadRecordFile", "prepareReadRecordFile", "add", "add", "fromHex", "parse", "getFileBySfi", "getData", "getContent", "assertArrayEquals", "fromHex", "getFileBySfi", "getData", "getContent", "assertArrayEquals", "fromHex"]}, "focal_class": {"identifier": "PoSelectionRequest", "superclass": "extends AbstractSeSelectionRequest<\n        AbstractPoCommandBuilder<? extends AbstractPoResponseParser>>", "interfaces": "", "fields": [{"original_string": "private static final Logger logger = LoggerFactory.getLogger(PoSelectionRequest.class);", "modifier": "private static final", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(PoSelectionRequest.class)", "var_name": "logger"}, {"original_string": "private final PoClass poClass;", "modifier": "private final", "type": "PoClass", "declarator": "poClass", "var_name": "poClass"}], "methods": [{"identifier": "PoSelectionRequest", "parameters": "(PoSelector poSelector)", "modifiers": "public", "return": "", "signature": " PoSelectionRequest(PoSelector poSelector)", "full_signature": "public  PoSelectionRequest(PoSelector poSelector)", "class_method_signature": "PoSelectionRequest.PoSelectionRequest(PoSelector poSelector)", "testcase": false, "constructor": true}, {"identifier": "prepareReadRecordFile", "parameters": "(byte sfi, int recordNumber)", "modifiers": "public final", "return": "void", "signature": "void prepareReadRecordFile(byte sfi, int recordNumber)", "full_signature": "public final void prepareReadRecordFile(byte sfi, int recordNumber)", "class_method_signature": "PoSelectionRequest.prepareReadRecordFile(byte sfi, int recordNumber)", "testcase": false, "constructor": false}, {"identifier": "prepareSelectFile", "parameters": "(byte[] lid)", "modifiers": "public", "return": "void", "signature": "void prepareSelectFile(byte[] lid)", "full_signature": "public void prepareSelectFile(byte[] lid)", "class_method_signature": "PoSelectionRequest.prepareSelectFile(byte[] lid)", "testcase": false, "constructor": false}, {"identifier": "prepareSelectFile", "parameters": "(short lid)", "modifiers": "public", "return": "void", "signature": "void prepareSelectFile(short lid)", "full_signature": "public void prepareSelectFile(short lid)", "class_method_signature": "PoSelectionRequest.prepareSelectFile(short lid)", "testcase": false, "constructor": false}, {"identifier": "prepareSelectFile", "parameters": "(SelectFileControl selectControl)", "modifiers": "public", "return": "void", "signature": "void prepareSelectFile(SelectFileControl selectControl)", "full_signature": "public void prepareSelectFile(SelectFileControl selectControl)", "class_method_signature": "PoSelectionRequest.prepareSelectFile(SelectFileControl selectControl)", "testcase": false, "constructor": false}, {"identifier": "parse", "parameters": "(SeResponse seResponse)", "modifiers": "@Override protected", "return": "CalypsoPo", "signature": "CalypsoPo parse(SeResponse seResponse)", "full_signature": "@Override protected CalypsoPo parse(SeResponse seResponse)", "class_method_signature": "PoSelectionRequest.parse(SeResponse seResponse)", "testcase": false, "constructor": false}], "file": "java/component/keyple-calypso/src/main/java/org/eclipse/keyple/calypso/transaction/PoSelectionRequest.java"}, "focal_method": {"identifier": "prepareReadRecordFile", "parameters": "(byte sfi, int recordNumber)", "modifiers": "public final", "return": "void", "body": "public final void prepareReadRecordFile(byte sfi, int recordNumber) {\n    addCommandBuilder(CalypsoPoUtils.prepareReadRecordFile(poClass, sfi, recordNumber));\n  }", "signature": "void prepareReadRecordFile(byte sfi, int recordNumber)", "full_signature": "public final void prepareReadRecordFile(byte sfi, int recordNumber)", "class_method_signature": "PoSelectionRequest.prepareReadRecordFile(byte sfi, int recordNumber)", "testcase": false, "constructor": false, "invocations": ["addCommandBuilder", "prepareReadRecordFile"]}, "repository": {"repo_id": 156416177, "url": "https://github.com/eclipse/keyple-java", "language": "Java", "is_fork": false, "fork_count": 11, "stargazer_count": 8, "size": 10325, "license": "licensed"}}