{"test_class": {"identifier": "VulasConfigurationTest", "superclass": "", "interfaces": "", "fields": [], "file": "shared/src/test/java/org/eclipse/steady/shared/util/VulasConfigurationTest.java"}, "test_case": {"identifier": "testGetServiceUrl", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testGetServiceUrl() {\n    final String url = \"http://localhost:8000/backend\";\n    VulasConfiguration c1 = new VulasConfiguration();\n    c1.setProperty(VulasConfiguration.getServiceUrlKey(Service.BACKEND), url + \"////\");\n    assertEquals(url, c1.getServiceUrl(Service.BACKEND));\n    c1.setProperty(VulasConfiguration.getServiceUrlKey(Service.BACKEND), url + \"/\");\n    assertEquals(url, c1.getServiceUrl(Service.BACKEND));\n    c1.setProperty(VulasConfiguration.getServiceUrlKey(Service.BACKEND), url);\n    assertEquals(url, c1.getServiceUrl(Service.BACKEND));\n  }", "signature": "void testGetServiceUrl()", "full_signature": "@Test public void testGetServiceUrl()", "class_method_signature": "VulasConfigurationTest.testGetServiceUrl()", "testcase": true, "constructor": false, "invocations": ["setProperty", "getServiceUrlKey", "assertEquals", "getServiceUrl", "setProperty", "getServiceUrlKey", "assertEquals", "getServiceUrl", "setProperty", "getServiceUrlKey", "assertEquals", "getServiceUrl"]}, "focal_class": {"identifier": "VulasConfiguration", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static Logger log = null;", "modifier": "private static", "type": "Logger", "declarator": "log = null", "var_name": "log"}, {"original_string": "private static final String[] LOG_PREFIXES = new String[] {\"http\", \"https\", \"vulas\"};", "modifier": "private static final", "type": "String[]", "declarator": "LOG_PREFIXES = new String[] {\"http\", \"https\", \"vulas\"}", "var_name": "LOG_PREFIXES"}, {"original_string": "private static VulasConfiguration global = null;", "modifier": "private static", "type": "VulasConfiguration", "declarator": "global = null", "var_name": "global"}, {"original_string": "private org.apache.commons.configuration.CompositeConfiguration cfg =\n      new CompositeConfiguration();", "modifier": "private", "type": "org.apache.commons.configuration.CompositeConfiguration", "declarator": "cfg =\n      new CompositeConfiguration()", "var_name": "cfg"}, {"original_string": "private Path m2 = null;", "modifier": "private", "type": "Path", "declarator": "m2 = null", "var_name": "m2"}, {"original_string": "private Map<Configuration, String> individualConfigurations =\n      new LinkedHashMap<Configuration, String>();", "modifier": "private", "type": "Map<Configuration, String>", "declarator": "individualConfigurations =\n      new LinkedHashMap<Configuration, String>()", "var_name": "individualConfigurations"}, {"original_string": "private Configuration writableConfiguration = new MapConfiguration(new HashMap<String, Object>());", "modifier": "private", "type": "Configuration", "declarator": "writableConfiguration = new MapConfiguration(new HashMap<String, Object>())", "var_name": "writableConfiguration"}, {"original_string": "private static final String propertiesRegex = \"vulas-.*\\\\.properties\";", "modifier": "private static final", "type": "String", "declarator": "propertiesRegex = \"vulas-.*\\\\.properties\"", "var_name": "propertiesRegex"}, {"original_string": "private static final String propertiesRegexSpring = \"BOOT-INF/classes/vulas-.*\\\\.properties\";", "modifier": "private static final", "type": "String", "declarator": "propertiesRegexSpring = \"BOOT-INF/classes/vulas-.*\\\\.properties\"", "var_name": "propertiesRegexSpring"}, {"original_string": "public static final String SYS_PROP_CFG_LAYER = \"System-Properties\";", "modifier": "public static final", "type": "String", "declarator": "SYS_PROP_CFG_LAYER = \"System-Properties\"", "var_name": "SYS_PROP_CFG_LAYER"}, {"original_string": "public static final String TRANSIENT_CFG_LAYER = \"Transient-Config-Layer\";", "modifier": "public static final", "type": "String", "declarator": "TRANSIENT_CFG_LAYER = \"Transient-Config-Layer\"", "var_name": "TRANSIENT_CFG_LAYER"}, {"original_string": "public static final String ENV_CFG_LAYER = \"Environment-Variables\";", "modifier": "public static final", "type": "String", "declarator": "ENV_CFG_LAYER = \"Environment-Variables\"", "var_name": "ENV_CFG_LAYER"}, {"original_string": "public static final String MAND_SETTINGS = \"vulas.shared.settings.mandatory\";", "modifier": "public static final", "type": "String", "declarator": "MAND_SETTINGS = \"vulas.shared.settings.mandatory\"", "var_name": "MAND_SETTINGS"}, {"original_string": "public static final String OPTI_SETTINGS = \"vulas.shared.settings.optional\";", "modifier": "public static final", "type": "String", "declarator": "OPTI_SETTINGS = \"vulas.shared.settings.optional\"", "var_name": "OPTI_SETTINGS"}, {"original_string": "public static final String VERSION = \"vulas.shared.version\";", "modifier": "public static final", "type": "String", "declarator": "VERSION = \"vulas.shared.version\"", "var_name": "VERSION"}, {"original_string": "public static final String BUILD_TIMESTAMP = \"vulas.shared.buildTimestamp\";", "modifier": "public static final", "type": "String", "declarator": "BUILD_TIMESTAMP = \"vulas.shared.buildTimestamp\"", "var_name": "BUILD_TIMESTAMP"}, {"original_string": "public static final String BUILD_NUMBER = \"vulas.shared.buildNumber\";", "modifier": "public static final", "type": "String", "declarator": "BUILD_NUMBER = \"vulas.shared.buildNumber\"", "var_name": "BUILD_NUMBER"}, {"original_string": "public static final String BUILD_BRANCH = \"vulas.shared.buildBranch\";", "modifier": "public static final", "type": "String", "declarator": "BUILD_BRANCH = \"vulas.shared.buildBranch\"", "var_name": "BUILD_BRANCH"}, {"original_string": "public static final String HOMEPAGE = \"vulas.shared.homepage\";", "modifier": "public static final", "type": "String", "declarator": "HOMEPAGE = \"vulas.shared.homepage\"", "var_name": "HOMEPAGE"}, {"original_string": "public static final String CHARSET = \"vulas.shared.charset\";", "modifier": "public static final", "type": "String", "declarator": "CHARSET = \"vulas.shared.charset\"", "var_name": "CHARSET"}, {"original_string": "public static final String TMP_DIR = \"vulas.shared.tmpDir\";", "modifier": "public static final", "type": "String", "declarator": "TMP_DIR = \"vulas.shared.tmpDir\"", "var_name": "TMP_DIR"}, {"original_string": "public static final String VULAS_JIRA_USER = \"vulas.jira.usr\";", "modifier": "public static final", "type": "String", "declarator": "VULAS_JIRA_USER = \"vulas.jira.usr\"", "var_name": "VULAS_JIRA_USER"}, {"original_string": "public static final String VULAS_JIRA_PWD = \"vulas.jira.pwd\";", "modifier": "public static final", "type": "String", "declarator": "VULAS_JIRA_PWD = \"vulas.jira.pwd\"", "var_name": "VULAS_JIRA_PWD"}, {"original_string": "public static final String M2_DIR = \"vulas.shared.m2Dir\";", "modifier": "public static final", "type": "String", "declarator": "M2_DIR = \"vulas.shared.m2Dir\"", "var_name": "M2_DIR"}, {"original_string": "public static final String SYS_PROPS = \"vulas.shared.sys\";", "modifier": "public static final", "type": "String", "declarator": "SYS_PROPS = \"vulas.shared.sys\"", "var_name": "SYS_PROPS"}, {"original_string": "public static final String SYS_PROPS_CUSTOM = \"vulas.shared.sys.custom\";", "modifier": "public static final", "type": "String", "declarator": "SYS_PROPS_CUSTOM = \"vulas.shared.sys.custom\"", "var_name": "SYS_PROPS_CUSTOM"}, {"original_string": "public static final String ENV_VARS = \"vulas.shared.env\";", "modifier": "public static final", "type": "String", "declarator": "ENV_VARS = \"vulas.shared.env\"", "var_name": "ENV_VARS"}, {"original_string": "public static final String ENV_VARS_CUSTOM = \"vulas.shared.env.custom\";", "modifier": "public static final", "type": "String", "declarator": "ENV_VARS_CUSTOM = \"vulas.shared.env.custom\"", "var_name": "ENV_VARS_CUSTOM"}], "methods": [{"identifier": "getLog", "parameters": "()", "modifiers": "private static final synchronized", "return": "Logger", "signature": "Logger getLog()", "full_signature": "private static final synchronized Logger getLog()", "class_method_signature": "VulasConfiguration.getLog()", "testcase": false, "constructor": false}, {"identifier": "getGlobal", "parameters": "()", "modifiers": "public static final synchronized", "return": "VulasConfiguration", "signature": "VulasConfiguration getGlobal()", "full_signature": "public static final synchronized VulasConfiguration getGlobal()", "class_method_signature": "VulasConfiguration.getGlobal()", "testcase": false, "constructor": false}, {"identifier": "VulasConfiguration", "parameters": "()", "modifiers": "public", "return": "", "signature": " VulasConfiguration()", "full_signature": "public  VulasConfiguration()", "class_method_signature": "VulasConfiguration.VulasConfiguration()", "testcase": false, "constructor": true}, {"identifier": "getConfiguration", "parameters": "()", "modifiers": "public", "return": "org.apache.commons.configuration.Configuration", "signature": "org.apache.commons.configuration.Configuration getConfiguration()", "full_signature": "public org.apache.commons.configuration.Configuration getConfiguration()", "class_method_signature": "VulasConfiguration.getConfiguration()", "testcase": false, "constructor": false}, {"identifier": "appendInitialConfigurations", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void appendInitialConfigurations()", "full_signature": "private void appendInitialConfigurations()", "class_method_signature": "VulasConfiguration.appendInitialConfigurations()", "testcase": false, "constructor": false}, {"identifier": "addConfiguration", "parameters": "(Configuration _cfg, String _source)", "modifiers": "private", "return": "void", "signature": "void addConfiguration(Configuration _cfg, String _source)", "full_signature": "private void addConfiguration(Configuration _cfg, String _source)", "class_method_signature": "VulasConfiguration.addConfiguration(Configuration _cfg, String _source)", "testcase": false, "constructor": false}, {"identifier": "putConfiguration", "parameters": "(\n      Configuration _cfg, String _source, int _position, boolean _replace_if_existing)", "modifiers": "private", "return": "boolean", "signature": "boolean putConfiguration(\n      Configuration _cfg, String _source, int _position, boolean _replace_if_existing)", "full_signature": "private boolean putConfiguration(\n      Configuration _cfg, String _source, int _position, boolean _replace_if_existing)", "class_method_signature": "VulasConfiguration.putConfiguration(\n      Configuration _cfg, String _source, int _position, boolean _replace_if_existing)", "testcase": false, "constructor": false}, {"identifier": "rebuild", "parameters": "()", "modifiers": "private", "return": "void", "signature": "void rebuild()", "full_signature": "private void rebuild()", "class_method_signature": "VulasConfiguration.rebuild()", "testcase": false, "constructor": false}, {"identifier": "addLayerAfterSysProps", "parameters": "(\n      @NotNull String _layer_name,\n      @NotNull Map<?, ?> _map,\n      String _ignore_value,\n      boolean _ignore_null)", "modifiers": "public", "return": "void", "signature": "void addLayerAfterSysProps(\n      @NotNull String _layer_name,\n      @NotNull Map<?, ?> _map,\n      String _ignore_value,\n      boolean _ignore_null)", "full_signature": "public void addLayerAfterSysProps(\n      @NotNull String _layer_name,\n      @NotNull Map<?, ?> _map,\n      String _ignore_value,\n      boolean _ignore_null)", "class_method_signature": "VulasConfiguration.addLayerAfterSysProps(\n      @NotNull String _layer_name,\n      @NotNull Map<?, ?> _map,\n      String _ignore_value,\n      boolean _ignore_null)", "testcase": false, "constructor": false}, {"identifier": "getConfigurationLayer", "parameters": "(String _layer_name)", "modifiers": "public", "return": "Configuration", "signature": "Configuration getConfigurationLayer(String _layer_name)", "full_signature": "public Configuration getConfigurationLayer(String _layer_name)", "class_method_signature": "VulasConfiguration.getConfigurationLayer(String _layer_name)", "testcase": false, "constructor": false}, {"identifier": "appendConfigurationsFromJarPath", "parameters": "(String _jar_path)", "modifiers": "protected", "return": "boolean", "signature": "boolean appendConfigurationsFromJarPath(String _jar_path)", "full_signature": "protected boolean appendConfigurationsFromJarPath(String _jar_path)", "class_method_signature": "VulasConfiguration.appendConfigurationsFromJarPath(String _jar_path)", "testcase": false, "constructor": false}, {"identifier": "appendConfigurationsFromJar", "parameters": "(Class<?> _clazz)", "modifiers": "protected", "return": "boolean", "signature": "boolean appendConfigurationsFromJar(Class<?> _clazz)", "full_signature": "protected boolean appendConfigurationsFromJar(Class<?> _clazz)", "class_method_signature": "VulasConfiguration.appendConfigurationsFromJar(Class<?> _clazz)", "testcase": false, "constructor": false}, {"identifier": "discoverConfigurationsInJar", "parameters": "(Class<?> _clazz)", "modifiers": "private", "return": "Map<String, Configuration>", "signature": "Map<String, Configuration> discoverConfigurationsInJar(Class<?> _clazz)", "full_signature": "private Map<String, Configuration> discoverConfigurationsInJar(Class<?> _clazz)", "class_method_signature": "VulasConfiguration.discoverConfigurationsInJar(Class<?> _clazz)", "testcase": false, "constructor": false}, {"identifier": "discoverConfigurationsInJarUri", "parameters": "(String _jar_path)", "modifiers": "private", "return": "Map<String, Configuration>", "signature": "Map<String, Configuration> discoverConfigurationsInJarUri(String _jar_path)", "full_signature": "private Map<String, Configuration> discoverConfigurationsInJarUri(String _jar_path)", "class_method_signature": "VulasConfiguration.discoverConfigurationsInJarUri(String _jar_path)", "testcase": false, "constructor": false}, {"identifier": "discoverConfigurationsInNestedJar", "parameters": "(\n      String _name, JarInputStream _jis)", "modifiers": "private", "return": "Map<String, Configuration>", "signature": "Map<String, Configuration> discoverConfigurationsInNestedJar(\n      String _name, JarInputStream _jis)", "full_signature": "private Map<String, Configuration> discoverConfigurationsInNestedJar(\n      String _name, JarInputStream _jis)", "class_method_signature": "VulasConfiguration.discoverConfigurationsInNestedJar(\n      String _name, JarInputStream _jis)", "testcase": false, "constructor": false}, {"identifier": "readContent", "parameters": "(JarInputStream _jis)", "modifiers": "private", "return": "byte[]", "signature": "byte[] readContent(JarInputStream _jis)", "full_signature": "private byte[] readContent(JarInputStream _jis)", "class_method_signature": "VulasConfiguration.readContent(JarInputStream _jis)", "testcase": false, "constructor": false}, {"identifier": "checkSettings", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void checkSettings()", "full_signature": "public void checkSettings()", "class_method_signature": "VulasConfiguration.checkSettings()", "testcase": false, "constructor": false}, {"identifier": "clearTransientProperties", "parameters": "()", "modifiers": "public", "return": "boolean", "signature": "boolean clearTransientProperties()", "full_signature": "public boolean clearTransientProperties()", "class_method_signature": "VulasConfiguration.clearTransientProperties()", "testcase": false, "constructor": false}, {"identifier": "isEmpty", "parameters": "(String _key)", "modifiers": "public", "return": "boolean", "signature": "boolean isEmpty(String _key)", "full_signature": "public boolean isEmpty(String _key)", "class_method_signature": "VulasConfiguration.isEmpty(String _key)", "testcase": false, "constructor": false}, {"identifier": "getProperty", "parameters": "(@NotNull String _key, Object _default)", "modifiers": "public", "return": "Object", "signature": "Object getProperty(@NotNull String _key, Object _default)", "full_signature": "public Object getProperty(@NotNull String _key, Object _default)", "class_method_signature": "VulasConfiguration.getProperty(@NotNull String _key, Object _default)", "testcase": false, "constructor": false}, {"identifier": "setPropertyIfEmpty", "parameters": "(@NotNull String _key, Object _value)", "modifiers": "public", "return": "void", "signature": "void setPropertyIfEmpty(@NotNull String _key, Object _value)", "full_signature": "public void setPropertyIfEmpty(@NotNull String _key, Object _value)", "class_method_signature": "VulasConfiguration.setPropertyIfEmpty(@NotNull String _key, Object _value)", "testcase": false, "constructor": false}, {"identifier": "setProperty", "parameters": "(@NotNull String _key, Object _value)", "modifiers": "public", "return": "void", "signature": "void setProperty(@NotNull String _key, Object _value)", "full_signature": "public void setProperty(@NotNull String _key, Object _value)", "class_method_signature": "VulasConfiguration.setProperty(@NotNull String _key, Object _value)", "testcase": false, "constructor": false}, {"identifier": "setProperty", "parameters": "(\n      @NotNull String _key, Object _value, String _ignore_value, boolean _ignore_null)", "modifiers": "public", "return": "void", "signature": "void setProperty(\n      @NotNull String _key, Object _value, String _ignore_value, boolean _ignore_null)", "full_signature": "public void setProperty(\n      @NotNull String _key, Object _value, String _ignore_value, boolean _ignore_null)", "class_method_signature": "VulasConfiguration.setProperty(\n      @NotNull String _key, Object _value, String _ignore_value, boolean _ignore_null)", "testcase": false, "constructor": false}, {"identifier": "getStringArray", "parameters": "(@NotNull String _key, String[] _default)", "modifiers": "public", "return": "String[]", "signature": "String[] getStringArray(@NotNull String _key, String[] _default)", "full_signature": "public String[] getStringArray(@NotNull String _key, String[] _default)", "class_method_signature": "VulasConfiguration.getStringArray(@NotNull String _key, String[] _default)", "testcase": false, "constructor": false}, {"identifier": "getDir", "parameters": "(String _key)", "modifiers": "public", "return": "Path", "signature": "Path getDir(String _key)", "full_signature": "public Path getDir(String _key)", "class_method_signature": "VulasConfiguration.getDir(String _key)", "testcase": false, "constructor": false}, {"identifier": "getTmpDir", "parameters": "()", "modifiers": "public", "return": "Path", "signature": "Path getTmpDir()", "full_signature": "public Path getTmpDir()", "class_method_signature": "VulasConfiguration.getTmpDir()", "testcase": false, "constructor": false}, {"identifier": "getServiceUrl", "parameters": "(Service _service)", "modifiers": "public", "return": "String", "signature": "String getServiceUrl(Service _service)", "full_signature": "public String getServiceUrl(Service _service)", "class_method_signature": "VulasConfiguration.getServiceUrl(Service _service)", "testcase": false, "constructor": false}, {"identifier": "getServiceUrl", "parameters": "(Service _service, boolean _throw_exception)", "modifiers": "public", "return": "String", "signature": "String getServiceUrl(Service _service, boolean _throw_exception)", "full_signature": "public String getServiceUrl(Service _service, boolean _throw_exception)", "class_method_signature": "VulasConfiguration.getServiceUrl(Service _service, boolean _throw_exception)", "testcase": false, "constructor": false}, {"identifier": "getServiceHeaders", "parameters": "(Service _service)", "modifiers": "public", "return": "Map<String, String>", "signature": "Map<String, String> getServiceHeaders(Service _service)", "full_signature": "public Map<String, String> getServiceHeaders(Service _service)", "class_method_signature": "VulasConfiguration.getServiceHeaders(Service _service)", "testcase": false, "constructor": false}, {"identifier": "hasServiceUrl", "parameters": "(Service _service)", "modifiers": "public", "return": "boolean", "signature": "boolean hasServiceUrl(Service _service)", "full_signature": "public boolean hasServiceUrl(Service _service)", "class_method_signature": "VulasConfiguration.hasServiceUrl(Service _service)", "testcase": false, "constructor": false}, {"identifier": "setServiceUrl", "parameters": "(Service _service, String _value)", "modifiers": "public", "return": "void", "signature": "void setServiceUrl(Service _service, String _value)", "full_signature": "public void setServiceUrl(Service _service, String _value)", "class_method_signature": "VulasConfiguration.setServiceUrl(Service _service, String _value)", "testcase": false, "constructor": false}, {"identifier": "getServiceUrlKey", "parameters": "(Service _service)", "modifiers": "public static", "return": "String", "signature": "String getServiceUrlKey(Service _service)", "full_signature": "public static String getServiceUrlKey(Service _service)", "class_method_signature": "VulasConfiguration.getServiceUrlKey(Service _service)", "testcase": false, "constructor": false}, {"identifier": "getLocalM2Repository", "parameters": "()", "modifiers": "public", "return": "Path", "signature": "Path getLocalM2Repository()", "full_signature": "public Path getLocalM2Repository()", "class_method_signature": "VulasConfiguration.getLocalM2Repository()", "testcase": false, "constructor": false}, {"identifier": "log", "parameters": "(String[] _prefix, String _indent)", "modifiers": "public", "return": "void", "signature": "void log(String[] _prefix, String _indent)", "full_signature": "public void log(String[] _prefix, String _indent)", "class_method_signature": "VulasConfiguration.log(String[] _prefix, String _indent)", "testcase": false, "constructor": false}, {"identifier": "getStringList", "parameters": "(String... _config_names)", "modifiers": "public final", "return": "StringList", "signature": "StringList getStringList(String... _config_names)", "full_signature": "public final StringList getStringList(String... _config_names)", "class_method_signature": "VulasConfiguration.getStringList(String... _config_names)", "testcase": false, "constructor": false}], "file": "shared/src/main/java/org/eclipse/steady/shared/util/VulasConfiguration.java"}, "focal_method": {"identifier": "getServiceUrl", "parameters": "(Service _service)", "modifiers": "public", "return": "String", "body": "public String getServiceUrl(Service _service) {\n    String value = null;\n    try {\n      value = getServiceUrl(_service, false);\n    } catch (ServiceConnectionException e) {\n      getLog().warn(e.getMessage(), e);\n    }\n    return value;\n  }", "signature": "String getServiceUrl(Service _service)", "full_signature": "public String getServiceUrl(Service _service)", "class_method_signature": "VulasConfiguration.getServiceUrl(Service _service)", "testcase": false, "constructor": false, "invocations": ["getServiceUrl", "warn", "getLog", "getMessage"]}, "repository": {"repo_id": 145424401, "url": "https://github.com/eclipse/steady", "stars": 353, "created": "8/20/2018 1:54:15 PM +00:00", "updates": "2020-01-25T08:37:00+00:00", "fork": "False", "license": "licensed"}}