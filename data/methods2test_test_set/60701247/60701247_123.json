{"test_class": {"identifier": "BuildOutputParserTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String NEWLINE = SystemProperties.getLineSeparator();", "modifier": "private static final", "type": "String", "declarator": "NEWLINE = SystemProperties.getLineSeparator()", "var_name": "NEWLINE"}, {"original_string": "private static final String CWD_PATH = new File(\"\").getAbsolutePath();", "modifier": "private static final", "type": "String", "declarator": "CWD_PATH = new File(\"\").getAbsolutePath()", "var_name": "CWD_PATH"}, {"original_string": "private File sourceFile;", "modifier": "private", "type": "File", "declarator": "sourceFile", "var_name": "sourceFile"}, {"original_string": "private String sourceFilePath;", "modifier": "private", "type": "String", "declarator": "sourceFilePath", "var_name": "sourceFilePath"}, {"original_string": "private BuildOutputParser parser;", "modifier": "private", "type": "BuildOutputParser", "declarator": "parser", "var_name": "parser"}, {"original_string": "private static final String WINDOWS_PATH_DRIVE_LETTER = \"C:\";", "modifier": "private static final", "type": "String", "declarator": "WINDOWS_PATH_DRIVE_LETTER = \"C:\"", "var_name": "WINDOWS_PATH_DRIVE_LETTER"}, {"original_string": "private static final String WINDOWS_PATH_UNDER_UNIX = new File(WINDOWS_PATH_DRIVE_LETTER).getAbsolutePath();", "modifier": "private static final", "type": "String", "declarator": "WINDOWS_PATH_UNDER_UNIX = new File(WINDOWS_PATH_DRIVE_LETTER).getAbsolutePath()", "var_name": "WINDOWS_PATH_UNDER_UNIX"}, {"original_string": "private static final int WINDOWS_PATH_UNIX_PREFIX_LENGTH = WINDOWS_PATH_UNDER_UNIX.length() - WINDOWS_PATH_DRIVE_LETTER.length();", "modifier": "private static final", "type": "int", "declarator": "WINDOWS_PATH_UNIX_PREFIX_LENGTH = WINDOWS_PATH_UNDER_UNIX.length() - WINDOWS_PATH_DRIVE_LETTER.length()", "var_name": "WINDOWS_PATH_UNIX_PREFIX_LENGTH"}], "file": "build-common/testSrc/com/android/tools/idea/gradle/output/parser/BuildOutputParserTest.java"}, "test_case": {"identifier": "rewriteManifestPaths2", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void rewriteManifestPaths2() throws Exception {\n    // Like testRewriteManifestPaths1, but with a source comment at the end of the file\n    // (which happens when there is only a single manifest, so no files are merged and it's a straight\n    // file copy in the gradle plugin)\n    File tempDir = Files.createTempDir();\n    sourceFile = new File(tempDir, ANDROID_MANIFEST_XML);\n    sourceFilePath = sourceFile.getAbsolutePath();\n    File source = new File(tempDir, \"real-manifest.xml\");\n    Files.write(\"<<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n\" +\n                \"<manifest xmlns:android=\\\"http://schemas.android.com/apk/res/android\\\"\\n\" +\n                \"    package=\\\"com.example.app\\\"\\n\" +\n                \"    android:versionCode=\\\"1\\\"\\n\" +\n                \"    android:versionName=\\\"1.0\\\" >\\n\" +\n                \"\\n\" +\n                \"    <uses-sdk\\n\" +\n                \"        android:minSdkVersion=\\\"7\\\"\\n\" +\n                \"        android:targetSdkVersion=\\\"19\\\" />\\n\" +\n                \"\\n\" +\n                \"    <application\\n\" +\n                \"        android:allowBackup=\\\"true\\\"\\n\" +\n                \"        android:icon=\\\"@drawable/ic_xlauncher\\\"\\n\" +\n                \"        android:label=\\\"@string/app_name\\\"\\n\" +\n                \"        android:theme=\\\"@style/AppTheme\\\" >\\n\" +\n                \"        <activity\\n\" +\n                \"            android:name=\\\"com.example.app.MainActivity\\\"\\n\" +\n                \"            android:label=\\\"@string/app_name\\\" >\\n\" +\n                \"            <intent-filter>\\n\" +\n                \"                <action android:name=\\\"android.intent.action.MAIN\\\" />\\n\" +\n                \"\\n\" +\n                \"                <category android:name=\\\"android.intent.category.LAUNCHER\\\" />\\n\" +\n                \"            </intent-filter>\\n\" +\n                \"        </activity>\\n\" +\n                \"    </application>\\n\" +\n                \"\\n\" +\n                \"</manifest>\\n\", source, StandardCharsets.UTF_8);\n    source.deleteOnExit();\n    Files.write(\"<<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n\" +\n                \"<manifest xmlns:android=\\\"http://schemas.android.com/apk/res/android\\\"\\n\" +\n                \"    package=\\\"com.example.app\\\"\\n\" +\n                \"    android:versionCode=\\\"1\\\"\\n\" +\n                \"    android:versionName=\\\"1.0\\\" >\\n\" +\n                \"\\n\" +\n                \"    <uses-sdk\\n\" +\n                \"        android:minSdkVersion=\\\"7\\\"\\n\" +\n                \"        android:targetSdkVersion=\\\"19\\\" />\\n\" +\n                \"\\n\" +\n                \"    <application\\n\" +\n                \"        android:allowBackup=\\\"true\\\"\\n\" +\n                \"        android:icon=\\\"@drawable/ic_xlauncher\\\"\\n\" +\n                \"        android:label=\\\"@string/app_name\\\"\\n\" +\n                \"        android:theme=\\\"@style/AppTheme\\\" >\\n\" +\n                \"        <activity\\n\" +\n                \"            android:name=\\\"com.example.app.MainActivity\\\"\\n\" +\n                \"            android:label=\\\"@string/app_name\\\" >\\n\" +\n                \"            <intent-filter>\\n\" +\n                \"                <action android:name=\\\"android.intent.action.MAIN\\\" />\\n\" +\n                \"\\n\" +\n                \"                <category android:name=\\\"android.intent.category.LAUNCHER\\\" />\\n\" +\n                \"            </intent-filter>\\n\" +\n                \"        </activity>\\n\" +\n                \"    </application>\\n\" +\n                \"\\n\" +\n                \"</manifest><!-- \" + createPathComment(source, false) + \" -->\", sourceFile, StandardCharsets.UTF_8);\n\n    String output =\n      \"Relying on packaging to define the extension of the main artifact has been deprecated and is scheduled to be removed in Gradle 2.0\\n\" +\n      \":App:compileDefaultFlavorDebugNdk UP-TO-DATE\\n\" +\n      \":App:preBuild UP-TO-DATE\\n\" +\n      \":App:preDefaultFlavorDebugBuild UP-TO-DATE\\n\" +\n      \":App:preDefaultFlavorReleaseBuild UP-TO-DATE\\n\" +\n      \":App:prepareComAndroidSupportAppcompatV71900Library UP-TO-DATE\\n\" +\n      \":App:prepareDefaultFlavorDebugDependencies\\n\" +\n      \":App:compileDefaultFlavorDebugAidl UP-TO-DATE\\n\" +\n      \":App:compileDefaultFlavorDebugRenderscript UP-TO-DATE\\n\" +\n      \":App:generateDefaultFlavorDebugBuildConfig UP-TO-DATE\\n\" +\n      \":App:mergeDefaultFlavorDebugAssets UP-TO-DATE\\n\" +\n      \":App:mergeDefaultFlavorDebugResources UP-TO-DATE\\n\" +\n      \":App:processDefaultFlavorDebugManifest UP-TO-DATE\\n\" +\n      \":App:processDefaultFlavorDebugResources\\n\" +\n      sourceFilePath + \":7: error: Error: No resource found that matches the given name (at 'icon' with value '@drawable/ic_xlauncher').\\n\" +\n      \":App:processDefaultFlavorDebugResources FAILED\\n\" +\n      \"\\n\" +\n      \"FAILURE: Build failed with an exception.\\n\" +\n      \"\\n\" +\n      \"* What went wrong:\\n\" +\n      \"Execution failed for task ':App:processDefaultFlavorDebugResources'.\\n\" +\n      \"> com.android.ide.common.internal.LoggedErrorException: Failed to run command:\\n\" +\n      \"  \\tSDK/build-tools/android-4.4/aapt package -f --no-crunch \" +\n      \"-I SDK/platforms/android-19/android.jar \" +\n      \"-M PROJECT/App/build/manifests/defaultFlavor/debug/AndroidManifest.xml \" +\n      \"-S PROJECT/App/build/res/all/defaultFlavor/debug \" +\n      \"-A PROJECT/App/build/assets/defaultFlavor/debug \" +\n      \"-m -J PROJECT/App/build/source/r/defaultFlavor/debug \" +\n      \"-F PROJECT/App/build/libs/App-defaultFlavor-debug.ap_ \" +\n      \"--debug-mode --custom-package com.example.app \" +\n      \"--output-text-symbols PROJECT/App/build/symbols/defaultFlavor/debug\\n\" +\n      \"  Error Code:\\n\" +\n      \"  \\t1\\n\" +\n      \"  Output:\\n\" +\n      \"  \\t\" + sourceFilePath + \":7: error: Error: No resource found that matches the given name (at 'icon' with value '@drawable/ic_xlauncher').\\n\" +\n      \"\\n\" +\n      \"\\n\" +\n      \"* Try:\\n\" +\n      \"Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\\n\" +\n      \"\\n\" +\n      \"BUILD FAILED\\n\" +\n      \"\\n\" +\n      \"Total time: 7.024 secs\";\n\n    assertEquals(\"0: Simple::App:compileDefaultFlavorDebugNdk UP-TO-DATE\\n\" +\n                 \"1: Simple::App:preBuild UP-TO-DATE\\n\" +\n                 \"2: Simple::App:preDefaultFlavorDebugBuild UP-TO-DATE\\n\" +\n                 \"3: Simple::App:preDefaultFlavorReleaseBuild UP-TO-DATE\\n\" +\n                 \"4: Simple::App:prepareComAndroidSupportAppcompatV71900Library UP-TO-DATE\\n\" +\n                 \"5: Simple::App:prepareDefaultFlavorDebugDependencies\\n\" +\n                 \"6: Simple::App:compileDefaultFlavorDebugAidl UP-TO-DATE\\n\" +\n                 \"7: Simple::App:compileDefaultFlavorDebugRenderscript UP-TO-DATE\\n\" +\n                 \"8: Simple::App:generateDefaultFlavorDebugBuildConfig UP-TO-DATE\\n\" +\n                 \"9: Simple::App:mergeDefaultFlavorDebugAssets UP-TO-DATE\\n\" +\n                 \"10: Simple::App:mergeDefaultFlavorDebugResources UP-TO-DATE\\n\" +\n                 \"11: Simple::App:processDefaultFlavorDebugManifest UP-TO-DATE\\n\" +\n                 \"12: Simple::App:processDefaultFlavorDebugResources\\n\" +\n                 \"13: Error:No resource found that matches the given name (at 'icon' with value '@drawable/ic_xlauncher').\\n\" +\n                 \"\\t\" + source.getPath() + \":13:23\\n\" +\n                 \"14: Simple::App:processDefaultFlavorDebugResources FAILED\\n\" +\n                 \"15: Error:Execution failed for task ':App:processDefaultFlavorDebugResources'.\\n\" +\n                 \"> com.android.ide.common.internal.LoggedErrorException: Failed to run command:\\n\" +\n                 \"  \\tSDK/build-tools/android-4.4/aapt package -f --no-crunch -I SDK/platforms/android-19/android.jar\" +\n                 \" -M PROJECT/App/build/manifests/defaultFlavor/debug/AndroidManifest.xml\" +\n                 \" -S PROJECT/App/build/res/all/defaultFlavor/debug\" +\n                 \" -A PROJECT/App/build/assets/defaultFlavor/debug\" +\n                 \" -m -J PROJECT/App/build/source/r/defaultFlavor/debug\" +\n                 \" -F PROJECT/App/build/libs/App-defaultFlavor-debug.ap_\" +\n                 \" --debug-mode --custom-package com.example.app\" +\n                 \" --output-text-symbols PROJECT/App/build/symbols/defaultFlavor/debug\\n\" +\n                 \"  Error Code:\\n\" +\n                 \"  \\t1\\n\" +\n                 \"  Output:\\n\" +\n                 \"  \\t\" + sourceFilePath + \":7: error: Error: No resource found that matches the given name (at 'icon' with value '@drawable/ic_xlauncher').\\n\" +\n                 \"16: Info:BUILD FAILED\\n\" +\n                 \"17: Info:Total time: 7.024 secs\\n\",\n                 toString(parser.parseGradleOutput(output)));\n\n    sourceFile.delete();\n    source.delete();\n    tempDir.delete();\n  }", "signature": "void rewriteManifestPaths2()", "full_signature": "@Test public void rewriteManifestPaths2()", "class_method_signature": "BuildOutputParserTest.rewriteManifestPaths2()", "testcase": true, "constructor": false, "invocations": ["createTempDir", "getAbsolutePath", "write", "deleteOnExit", "write", "createPathComment", "assertEquals", "getPath", "toString", "parseGradleOutput", "delete", "delete", "delete"]}, "focal_class": {"identifier": "BuildOutputParser", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final ToolOutputParser parser;", "modifier": "private final", "type": "ToolOutputParser", "declarator": "parser", "var_name": "parser"}], "methods": [{"identifier": "BuildOutputParser", "parameters": "(@NotNull Iterable<PatternAwareOutputParser> parsers)", "modifiers": "public", "return": "", "signature": " BuildOutputParser(@NotNull Iterable<PatternAwareOutputParser> parsers)", "full_signature": "public  BuildOutputParser(@NotNull Iterable<PatternAwareOutputParser> parsers)", "class_method_signature": "BuildOutputParser.BuildOutputParser(@NotNull Iterable<PatternAwareOutputParser> parsers)", "testcase": false, "constructor": true}, {"identifier": "parseGradleOutput", "parameters": "(@NotNull String output)", "modifiers": "@NotNull public", "return": "List<Message>", "signature": "List<Message> parseGradleOutput(@NotNull String output)", "full_signature": "@NotNull public List<Message> parseGradleOutput(@NotNull String output)", "class_method_signature": "BuildOutputParser.parseGradleOutput(@NotNull String output)", "testcase": false, "constructor": false}, {"identifier": "parseGradleOutput", "parameters": "(@NotNull String output, boolean ignoreUnrecognizedText)", "modifiers": "@NotNull public", "return": "List<Message>", "signature": "List<Message> parseGradleOutput(@NotNull String output, boolean ignoreUnrecognizedText)", "full_signature": "@NotNull public List<Message> parseGradleOutput(@NotNull String output, boolean ignoreUnrecognizedText)", "class_method_signature": "BuildOutputParser.parseGradleOutput(@NotNull String output, boolean ignoreUnrecognizedText)", "testcase": false, "constructor": false}], "file": "build-common/src/com/android/tools/idea/gradle/output/parser/BuildOutputParser.java"}, "focal_method": {"identifier": "parseGradleOutput", "parameters": "(@NotNull String output)", "modifiers": "@NotNull public", "return": "List<Message>", "body": "@NotNull\n  public List<Message> parseGradleOutput(@NotNull String output) {\n    return parser.parseToolOutput(output);\n  }", "signature": "List<Message> parseGradleOutput(@NotNull String output)", "full_signature": "@NotNull public List<Message> parseGradleOutput(@NotNull String output)", "class_method_signature": "BuildOutputParser.parseGradleOutput(@NotNull String output)", "testcase": false, "constructor": false, "invocations": ["parseToolOutput"]}, "repository": {"repo_id": 60701247, "url": "https://github.com/JetBrains/android", "stars": 486, "created": "6/8/2016 1:46:48 PM +00:00", "updates": "2020-01-27T16:45:40+00:00", "fork": "False", "license": "licensed"}}