{"test_class": {"identifier": "RootTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "PlatformMap map = mock(PlatformMap.class);", "modifier": "", "type": "PlatformMap", "declarator": "map = mock(PlatformMap.class)", "var_name": "map"}, {"original_string": "Root root = new Root(\"test\", map);", "modifier": "", "type": "Root", "declarator": "root = new Root(\"test\", map)", "var_name": "root"}, {"original_string": "Literal<CommandSender> literal = Literal.of(\"a\").alias(\"a1\").build();", "modifier": "", "type": "Literal<CommandSender>", "declarator": "literal = Literal.of(\"a\").alias(\"a1\").build()", "var_name": "literal"}], "file": "commons/src/test/java/com/karuslabs/commons/command/tree/nodes/RootTest.java"}, "test_case": {"identifier": "addChild_duplicate_throws_exception", "parameters": "()", "modifiers": "@Test", "return": "void", "body": "@Test\n    void addChild_duplicate_throws_exception() {\n        when(map.register(any())).thenReturn(new DispatcherCommand(\"\", null, null, null, List.of(\"\")));\n        \n        root.addChild(Literal.of(\"a\").build());\n        \n        assertEquals(\"Invalid command: 'a', root already contains a child with the same name\",\n            assertThrows(IllegalArgumentException.class, () -> root.addChild(Literal.of(\"a\").build())).getMessage()\n        );\n    }", "signature": "void addChild_duplicate_throws_exception()", "full_signature": "@Test void addChild_duplicate_throws_exception()", "class_method_signature": "RootTest.addChild_duplicate_throws_exception()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "register", "any", "of", "addChild", "build", "of", "assertEquals", "getMessage", "assertThrows", "addChild", "build", "of"]}, "focal_class": {"identifier": "Root", "superclass": "extends RootCommandNode<CommandSender>", "interfaces": "implements Mutable<CommandSender>", "fields": [{"original_string": "private String prefix;", "modifier": "private", "type": "String", "declarator": "prefix", "var_name": "prefix"}, {"original_string": "private PlatformMap map;", "modifier": "private", "type": "PlatformMap", "declarator": "map", "var_name": "map"}], "methods": [{"identifier": "Root", "parameters": "(String prefix, PlatformMap map)", "modifiers": "public", "return": "", "signature": " Root(String prefix, PlatformMap map)", "full_signature": "public  Root(String prefix, PlatformMap map)", "class_method_signature": "Root.Root(String prefix, PlatformMap map)", "testcase": false, "constructor": true}, {"identifier": "addChild", "parameters": "(CommandNode<CommandSender> command)", "modifiers": "@Override public", "return": "void", "signature": "void addChild(CommandNode<CommandSender> command)", "full_signature": "@Override public void addChild(CommandNode<CommandSender> command)", "class_method_signature": "Root.addChild(CommandNode<CommandSender> command)", "testcase": false, "constructor": false}, {"identifier": "removeChild", "parameters": "(String child)", "modifiers": "@Override public", "return": "CommandNode<CommandSender>", "signature": "CommandNode<CommandSender> removeChild(String child)", "full_signature": "@Override public CommandNode<CommandSender> removeChild(String child)", "class_method_signature": "Root.removeChild(String child)", "testcase": false, "constructor": false}, {"identifier": "setCommand", "parameters": "(@Ignored com.mojang.brigadier.Command<CommandSender> command)", "modifiers": "@Override public", "return": "void", "signature": "void setCommand(@Ignored com.mojang.brigadier.Command<CommandSender> command)", "full_signature": "@Override public void setCommand(@Ignored com.mojang.brigadier.Command<CommandSender> command)", "class_method_signature": "Root.setCommand(@Ignored com.mojang.brigadier.Command<CommandSender> command)", "testcase": false, "constructor": false}, {"identifier": "setRedirect", "parameters": "(@Ignored CommandNode<CommandSender> destination)", "modifiers": "@Override public", "return": "void", "signature": "void setRedirect(@Ignored CommandNode<CommandSender> destination)", "full_signature": "@Override public void setRedirect(@Ignored CommandNode<CommandSender> destination)", "class_method_signature": "Root.setRedirect(@Ignored CommandNode<CommandSender> destination)", "testcase": false, "constructor": false}, {"identifier": "map", "parameters": "()", "modifiers": "public", "return": "PlatformMap", "signature": "PlatformMap map()", "full_signature": "public PlatformMap map()", "class_method_signature": "Root.map()", "testcase": false, "constructor": false}], "file": "commons/src/main/java/com/karuslabs/commons/command/tree/nodes/Root.java"}, "focal_method": {"identifier": "addChild", "parameters": "(CommandNode<CommandSender> command)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void addChild(CommandNode<CommandSender> command) {\n        if (getChild(command.getName()) != null) {\n            throw new IllegalArgumentException(\"Invalid command: '\" + command.getName() + \"', root already contains a child with the same name\");\n            \n        }  else if (!(command instanceof LiteralCommandNode<?>)) {\n            throw new IllegalArgumentException(\"Invalid command: '\" + command.getName() + \"', commands registered to root must be a literal\");\n        }\n        \n        var literal = (LiteralCommandNode<CommandSender>) command;\n        \n        var wrapper = map.register(literal);\n        if (wrapper == null) {\n            return;\n        }\n        \n        super.addChild(Literal.alias(literal, prefix + \":\" + literal.getName()));\n        if (wrapper.getName().equals(wrapper.getLabel())) {\n            super.addChild(literal);\n        }\n        \n        if (literal instanceof Aliasable<?>) {\n            for (var alias : new ArrayList<>((((Aliasable<CommandSender>) literal).aliases()))) {\n                if (wrapper.getAliases().contains(alias.getName())) {\n                    super.addChild(Literal.alias(literal, prefix + \":\" + alias.getName()));\n                    super.addChild(alias);\n                }\n            }\n        }\n    }", "signature": "void addChild(CommandNode<CommandSender> command)", "full_signature": "@Override public void addChild(CommandNode<CommandSender> command)", "class_method_signature": "Root.addChild(CommandNode<CommandSender> command)", "testcase": false, "constructor": false, "invocations": ["getChild", "getName", "getName", "getName", "register", "addChild", "alias", "getName", "equals", "getName", "getLabel", "addChild", "aliases", "contains", "getAliases", "getName", "addChild", "alias", "getName", "addChild"]}, "repository": {"repo_id": 68935766, "url": "https://github.com/Pante/Chimera", "stars": 13, "created": "9/22/2016 3:36:39 PM +00:00", "updates": "2020-01-27T21:22:29+00:00", "fork": "False", "license": "licensed"}}