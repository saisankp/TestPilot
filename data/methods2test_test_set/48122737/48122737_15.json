{"test_class": {"identifier": "ContextTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Rule\n    public ExpectedException exception = ExpectedException.none();", "modifier": "@Rule\n    public", "type": "ExpectedException", "declarator": "exception = ExpectedException.none()", "var_name": "exception"}, {"original_string": "private TestContext context;", "modifier": "private", "type": "TestContext", "declarator": "context", "var_name": "context"}, {"original_string": "private TestEntity entity;", "modifier": "private", "type": "TestEntity", "declarator": "entity", "var_name": "entity"}], "file": "entitas/src/test/java/ilargia/entitas/ContextTest.java"}, "test_case": {"identifier": "updateGroupsComponentReplacedTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void updateGroupsComponentReplacedTest() {\n        Position position = new Position();\n        Position position2 = new Position();\n        Group<TestEntity> groupE = context.getGroup(TestMatcher.Position());\n        groupE.OnEntityUpdated((IGroup<TestEntity> group, final TestEntity entity, int index, IComponent previousComponent, IComponent nc) -> {\n            System.out.println(\"Removed...........\");\n            assertEquals(position2, nc);\n        });\n\n        entity.addComponent(TestComponentIds.Position, position);\n        context.updateGroupsComponentReplaced(entity, TestComponentIds.Position, position, position2, context._groupsForIndex);\n\n    }", "signature": "void updateGroupsComponentReplacedTest()", "full_signature": "@Test public void updateGroupsComponentReplacedTest()", "class_method_signature": "ContextTest.updateGroupsComponentReplacedTest()", "testcase": true, "constructor": false, "invocations": ["getGroup", "Position", "OnEntityUpdated", "println", "assertEquals", "addComponent", "updateGroupsComponentReplaced"]}, "focal_class": {"identifier": "Context", "superclass": "", "interfaces": "implements IContext<TEntity>", "fields": [{"original_string": "private final ObjectPool _groupChangedListPool;", "modifier": "private final", "type": "ObjectPool", "declarator": "_groupChangedListPool", "var_name": "_groupChangedListPool"}, {"original_string": "public int _totalComponents;", "modifier": "public", "type": "int", "declarator": "_totalComponents", "var_name": "_totalComponents"}, {"original_string": "public Class<TEntity> entityType;", "modifier": "public", "type": "Class<TEntity>", "declarator": "entityType", "var_name": "entityType"}, {"original_string": "public Set<ContextEntityChanged> OnEntityCreated = EntitasCollections.createSet(ContextEntityChanged.class);", "modifier": "public", "type": "Set<ContextEntityChanged>", "declarator": "OnEntityCreated = EntitasCollections.createSet(ContextEntityChanged.class)", "var_name": "OnEntityCreated"}, {"original_string": "public Set<ContextEntityChanged> OnEntityWillBeDestroyed = EntitasCollections.createSet(ContextEntityChanged.class);", "modifier": "public", "type": "Set<ContextEntityChanged>", "declarator": "OnEntityWillBeDestroyed = EntitasCollections.createSet(ContextEntityChanged.class)", "var_name": "OnEntityWillBeDestroyed"}, {"original_string": "public Set<ContextEntityChanged> OnEntityDestroyed = EntitasCollections.createSet(ContextEntityChanged.class);", "modifier": "public", "type": "Set<ContextEntityChanged>", "declarator": "OnEntityDestroyed = EntitasCollections.createSet(ContextEntityChanged.class)", "var_name": "OnEntityDestroyed"}, {"original_string": "public Set<ContextGroupChanged> OnGroupCreated = EntitasCollections.createSet(ContextGroupChanged.class);", "modifier": "public", "type": "Set<ContextGroupChanged>", "declarator": "OnGroupCreated = EntitasCollections.createSet(ContextGroupChanged.class)", "var_name": "OnGroupCreated"}, {"original_string": "protected Map<IMatcher, Group<TEntity>> _groups;", "modifier": "protected", "type": "Map<IMatcher, Group<TEntity>>", "declarator": "_groups", "var_name": "_groups"}, {"original_string": "protected List<Group<TEntity>>[] _groupsForIndex;", "modifier": "protected", "type": "List<Group<TEntity>>[]", "declarator": "_groupsForIndex", "var_name": "_groupsForIndex"}, {"original_string": "protected EntityComponentChanged<TEntity> _cachedEntityChanged;", "modifier": "protected", "type": "EntityComponentChanged<TEntity>", "declarator": "_cachedEntityChanged", "var_name": "_cachedEntityChanged"}, {"original_string": "protected EntityComponentReplaced<TEntity> _cachedComponentReplaced;", "modifier": "protected", "type": "EntityComponentReplaced<TEntity>", "declarator": "_cachedComponentReplaced", "var_name": "_cachedComponentReplaced"}, {"original_string": "protected EntityEvent<TEntity> _cachedEntityReleased;", "modifier": "protected", "type": "EntityEvent<TEntity>", "declarator": "_cachedEntityReleased", "var_name": "_cachedEntityReleased"}, {"original_string": "protected EntityEvent<TEntity> _cachedDestroyEntity;", "modifier": "protected", "type": "EntityEvent<TEntity>", "declarator": "_cachedDestroyEntity", "var_name": "_cachedDestroyEntity"}, {"original_string": "private int _creationIndex;", "modifier": "private", "type": "int", "declarator": "_creationIndex", "var_name": "_creationIndex"}, {"original_string": "private Set<TEntity> _entities;", "modifier": "private", "type": "Set<TEntity>", "declarator": "_entities", "var_name": "_entities"}, {"original_string": "private Stack<TEntity> _reusableEntities;", "modifier": "private", "type": "Stack<TEntity>", "declarator": "_reusableEntities", "var_name": "_reusableEntities"}, {"original_string": "private Set<TEntity> _retainedEntities;", "modifier": "private", "type": "Set<TEntity>", "declarator": "_retainedEntities", "var_name": "_retainedEntities"}, {"original_string": "private TEntity[] _entitiesCache;", "modifier": "private", "type": "TEntity[]", "declarator": "_entitiesCache", "var_name": "_entitiesCache"}, {"original_string": "private Map<String, IEntityIndex> _entityIndices;", "modifier": "private", "type": "Map<String, IEntityIndex>", "declarator": "_entityIndices", "var_name": "_entityIndices"}, {"original_string": "private EntityBaseFactory<TEntity> _factoryEntiy;", "modifier": "private", "type": "EntityBaseFactory<TEntity>", "declarator": "_factoryEntiy", "var_name": "_factoryEntiy"}, {"original_string": "private ContextInfo _contextInfo;", "modifier": "private", "type": "ContextInfo", "declarator": "_contextInfo", "var_name": "_contextInfo"}, {"original_string": "private Stack<IComponent>[] _componentPools;", "modifier": "private", "type": "Stack<IComponent>[]", "declarator": "_componentPools", "var_name": "_componentPools"}, {"original_string": "private Function<TEntity, IAERC> _aercFactory;", "modifier": "private", "type": "Function<TEntity, IAERC>", "declarator": "_aercFactory", "var_name": "_aercFactory"}], "methods": [{"identifier": "Context", "parameters": "(int totalComponents, int startCreationIndex, ContextInfo contexInfo,\n                   EntityBaseFactory<TEntity> factoryMethod, Function<TEntity, IAERC> aercFactory)", "modifiers": "public", "return": "", "signature": " Context(int totalComponents, int startCreationIndex, ContextInfo contexInfo,\n                   EntityBaseFactory<TEntity> factoryMethod, Function<TEntity, IAERC> aercFactory)", "full_signature": "public  Context(int totalComponents, int startCreationIndex, ContextInfo contexInfo,\n                   EntityBaseFactory<TEntity> factoryMethod, Function<TEntity, IAERC> aercFactory)", "class_method_signature": "Context.Context(int totalComponents, int startCreationIndex, ContextInfo contexInfo,\n                   EntityBaseFactory<TEntity> factoryMethod, Function<TEntity, IAERC> aercFactory)", "testcase": false, "constructor": true}, {"identifier": "createDefaultContextInfo", "parameters": "()", "modifiers": "", "return": "ContextInfo", "signature": "ContextInfo createDefaultContextInfo()", "full_signature": " ContextInfo createDefaultContextInfo()", "class_method_signature": "Context.createDefaultContextInfo()", "testcase": false, "constructor": false}, {"identifier": "createEntity", "parameters": "()", "modifiers": "@Override public", "return": "TEntity", "signature": "TEntity createEntity()", "full_signature": "@Override public TEntity createEntity()", "class_method_signature": "Context.createEntity()", "testcase": false, "constructor": false}, {"identifier": "destroyAllEntities", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void destroyAllEntities()", "full_signature": "@Override public void destroyAllEntities()", "class_method_signature": "Context.destroyAllEntities()", "testcase": false, "constructor": false}, {"identifier": "hasEntity", "parameters": "(TEntity entity)", "modifiers": "@Override public", "return": "boolean", "signature": "boolean hasEntity(TEntity entity)", "full_signature": "@Override public boolean hasEntity(TEntity entity)", "class_method_signature": "Context.hasEntity(TEntity entity)", "testcase": false, "constructor": false}, {"identifier": "getEntities", "parameters": "()", "modifiers": "@Override public", "return": "TEntity[]", "signature": "TEntity[] getEntities()", "full_signature": "@Override public TEntity[] getEntities()", "class_method_signature": "Context.getEntities()", "testcase": false, "constructor": false}, {"identifier": "getTotalComponents", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int getTotalComponents()", "full_signature": "@Override public int getTotalComponents()", "class_method_signature": "Context.getTotalComponents()", "testcase": false, "constructor": false}, {"identifier": "getGroup", "parameters": "(IMatcher matcher)", "modifiers": "@Override public", "return": "Group<TEntity>", "signature": "Group<TEntity> getGroup(IMatcher matcher)", "full_signature": "@Override public Group<TEntity> getGroup(IMatcher matcher)", "class_method_signature": "Context.getGroup(IMatcher matcher)", "testcase": false, "constructor": false}, {"identifier": "addEntityIndex", "parameters": "(IEntityIndex entityIndex)", "modifiers": "@Override public", "return": "void", "signature": "void addEntityIndex(IEntityIndex entityIndex)", "full_signature": "@Override public void addEntityIndex(IEntityIndex entityIndex)", "class_method_signature": "Context.addEntityIndex(IEntityIndex entityIndex)", "testcase": false, "constructor": false}, {"identifier": "getEntityIndex", "parameters": "(String name)", "modifiers": "@Override public", "return": "IEntityIndex", "signature": "IEntityIndex getEntityIndex(String name)", "full_signature": "@Override public IEntityIndex getEntityIndex(String name)", "class_method_signature": "Context.getEntityIndex(String name)", "testcase": false, "constructor": false}, {"identifier": "resetCreationIndex", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void resetCreationIndex()", "full_signature": "@Override public void resetCreationIndex()", "class_method_signature": "Context.resetCreationIndex()", "testcase": false, "constructor": false}, {"identifier": "clearComponentPool", "parameters": "(int index)", "modifiers": "@Override public", "return": "void", "signature": "void clearComponentPool(int index)", "full_signature": "@Override public void clearComponentPool(int index)", "class_method_signature": "Context.clearComponentPool(int index)", "testcase": false, "constructor": false}, {"identifier": "clearComponentPools", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void clearComponentPools()", "full_signature": "@Override public void clearComponentPools()", "class_method_signature": "Context.clearComponentPools()", "testcase": false, "constructor": false}, {"identifier": "reset", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void reset()", "full_signature": "@Override public void reset()", "class_method_signature": "Context.reset()", "testcase": false, "constructor": false}, {"identifier": "updateGroupsComponentAddedOrRemoved", "parameters": "(TEntity entity, int index, IComponent component, List<Group<TEntity>>[] groupsForIndex)", "modifiers": "public", "return": "void", "signature": "void updateGroupsComponentAddedOrRemoved(TEntity entity, int index, IComponent component, List<Group<TEntity>>[] groupsForIndex)", "full_signature": "public void updateGroupsComponentAddedOrRemoved(TEntity entity, int index, IComponent component, List<Group<TEntity>>[] groupsForIndex)", "class_method_signature": "Context.updateGroupsComponentAddedOrRemoved(TEntity entity, int index, IComponent component, List<Group<TEntity>>[] groupsForIndex)", "testcase": false, "constructor": false}, {"identifier": "updateGroupsComponentReplaced", "parameters": "(TEntity entity, int index, IComponent previousComponent,\n                                                 IComponent newComponent, List<Group<TEntity>>[] groupsForIndex)", "modifiers": "protected", "return": "void", "signature": "void updateGroupsComponentReplaced(TEntity entity, int index, IComponent previousComponent,\n                                                 IComponent newComponent, List<Group<TEntity>>[] groupsForIndex)", "full_signature": "protected void updateGroupsComponentReplaced(TEntity entity, int index, IComponent previousComponent,\n                                                 IComponent newComponent, List<Group<TEntity>>[] groupsForIndex)", "class_method_signature": "Context.updateGroupsComponentReplaced(TEntity entity, int index, IComponent previousComponent,\n                                                 IComponent newComponent, List<Group<TEntity>>[] groupsForIndex)", "testcase": false, "constructor": false}, {"identifier": "onEntityReleased", "parameters": "(TEntity entity)", "modifiers": "protected", "return": "void", "signature": "void onEntityReleased(TEntity entity)", "full_signature": "protected void onEntityReleased(TEntity entity)", "class_method_signature": "Context.onEntityReleased(TEntity entity)", "testcase": false, "constructor": false}, {"identifier": "onDestroyEntity", "parameters": "(TEntity entity)", "modifiers": "", "return": "void", "signature": "void onDestroyEntity(TEntity entity)", "full_signature": " void onDestroyEntity(TEntity entity)", "class_method_signature": "Context.onDestroyEntity(TEntity entity)", "testcase": false, "constructor": false}, {"identifier": "getComponentPools", "parameters": "()", "modifiers": "@Override public", "return": "Stack<IComponent>[]", "signature": "Stack<IComponent>[] getComponentPools()", "full_signature": "@Override public Stack<IComponent>[] getComponentPools()", "class_method_signature": "Context.getComponentPools()", "testcase": false, "constructor": false}, {"identifier": "getContextInfo", "parameters": "()", "modifiers": "@Override public", "return": "ContextInfo", "signature": "ContextInfo getContextInfo()", "full_signature": "@Override public ContextInfo getContextInfo()", "class_method_signature": "Context.getContextInfo()", "testcase": false, "constructor": false}, {"identifier": "getCount", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int getCount()", "full_signature": "@Override public int getCount()", "class_method_signature": "Context.getCount()", "testcase": false, "constructor": false}, {"identifier": "getReusableEntitiesCount", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int getReusableEntitiesCount()", "full_signature": "@Override public int getReusableEntitiesCount()", "class_method_signature": "Context.getReusableEntitiesCount()", "testcase": false, "constructor": false}, {"identifier": "getRetainedEntitiesCount", "parameters": "()", "modifiers": "@Override public", "return": "int", "signature": "int getRetainedEntitiesCount()", "full_signature": "@Override public int getRetainedEntitiesCount()", "class_method_signature": "Context.getRetainedEntitiesCount()", "testcase": false, "constructor": false}, {"identifier": "getEntities", "parameters": "(IMatcher matcher)", "modifiers": "public", "return": "IEntity[]", "signature": "IEntity[] getEntities(IMatcher matcher)", "full_signature": "public IEntity[] getEntities(IMatcher matcher)", "class_method_signature": "Context.getEntities(IMatcher matcher)", "testcase": false, "constructor": false}, {"identifier": "createCollector", "parameters": "(IMatcher matcher)", "modifiers": "@Override public", "return": "Collector", "signature": "Collector createCollector(IMatcher matcher)", "full_signature": "@Override public Collector createCollector(IMatcher matcher)", "class_method_signature": "Context.createCollector(IMatcher matcher)", "testcase": false, "constructor": false}, {"identifier": "createCollector", "parameters": "(IMatcher matcher, GroupEvent groupEvent)", "modifiers": "@Override public", "return": "Collector", "signature": "Collector createCollector(IMatcher matcher, GroupEvent groupEvent)", "full_signature": "@Override public Collector createCollector(IMatcher matcher, GroupEvent groupEvent)", "class_method_signature": "Context.createCollector(IMatcher matcher, GroupEvent groupEvent)", "testcase": false, "constructor": false}, {"identifier": "createCollector", "parameters": "(Context context, TriggerOnEvent<TEntity>[] triggers)", "modifiers": "public", "return": "Collector<TEntity>", "signature": "Collector<TEntity> createCollector(Context context, TriggerOnEvent<TEntity>[] triggers)", "full_signature": "public Collector<TEntity> createCollector(Context context, TriggerOnEvent<TEntity>[] triggers)", "class_method_signature": "Context.createCollector(Context context, TriggerOnEvent<TEntity>[] triggers)", "testcase": false, "constructor": false}, {"identifier": "clearEventsListener", "parameters": "()", "modifiers": "public", "return": "void", "signature": "void clearEventsListener()", "full_signature": "public void clearEventsListener()", "class_method_signature": "Context.clearEventsListener()", "testcase": false, "constructor": false}, {"identifier": "OnEntityCreated", "parameters": "(ContextEntityChanged listener)", "modifiers": "public", "return": "void", "signature": "void OnEntityCreated(ContextEntityChanged listener)", "full_signature": "public void OnEntityCreated(ContextEntityChanged listener)", "class_method_signature": "Context.OnEntityCreated(ContextEntityChanged listener)", "testcase": false, "constructor": false}, {"identifier": "OnEntityWillBeDestroyed", "parameters": "(ContextEntityChanged listener)", "modifiers": "public", "return": "void", "signature": "void OnEntityWillBeDestroyed(ContextEntityChanged listener)", "full_signature": "public void OnEntityWillBeDestroyed(ContextEntityChanged listener)", "class_method_signature": "Context.OnEntityWillBeDestroyed(ContextEntityChanged listener)", "testcase": false, "constructor": false}, {"identifier": "OnEntityDestroyed", "parameters": "(ContextEntityChanged listener)", "modifiers": "public", "return": "void", "signature": "void OnEntityDestroyed(ContextEntityChanged listener)", "full_signature": "public void OnEntityDestroyed(ContextEntityChanged listener)", "class_method_signature": "Context.OnEntityDestroyed(ContextEntityChanged listener)", "testcase": false, "constructor": false}, {"identifier": "OnGroupCreated", "parameters": "(ContextGroupChanged listener)", "modifiers": "public", "return": "void", "signature": "void OnGroupCreated(ContextGroupChanged listener)", "full_signature": "public void OnGroupCreated(ContextGroupChanged listener)", "class_method_signature": "Context.OnGroupCreated(ContextGroupChanged listener)", "testcase": false, "constructor": false}, {"identifier": "notifyEntityCreated", "parameters": "(IEntity entity)", "modifiers": "public", "return": "void", "signature": "void notifyEntityCreated(IEntity entity)", "full_signature": "public void notifyEntityCreated(IEntity entity)", "class_method_signature": "Context.notifyEntityCreated(IEntity entity)", "testcase": false, "constructor": false}, {"identifier": "notifyEntityWillBeDestroyed", "parameters": "(IEntity entity)", "modifiers": "public", "return": "void", "signature": "void notifyEntityWillBeDestroyed(IEntity entity)", "full_signature": "public void notifyEntityWillBeDestroyed(IEntity entity)", "class_method_signature": "Context.notifyEntityWillBeDestroyed(IEntity entity)", "testcase": false, "constructor": false}, {"identifier": "notifyEntityDestroyed", "parameters": "(IEntity entity)", "modifiers": "public", "return": "void", "signature": "void notifyEntityDestroyed(IEntity entity)", "full_signature": "public void notifyEntityDestroyed(IEntity entity)", "class_method_signature": "Context.notifyEntityDestroyed(IEntity entity)", "testcase": false, "constructor": false}, {"identifier": "notifyGroupCreated", "parameters": "(IGroup group)", "modifiers": "public", "return": "void", "signature": "void notifyGroupCreated(IGroup group)", "full_signature": "public void notifyGroupCreated(IGroup group)", "class_method_signature": "Context.notifyGroupCreated(IGroup group)", "testcase": false, "constructor": false}, {"identifier": "toString", "parameters": "()", "modifiers": "@Override public", "return": "String", "signature": "String toString()", "full_signature": "@Override public String toString()", "class_method_signature": "Context.toString()", "testcase": false, "constructor": false}], "file": "entitas/src/main/java/ilargia/entitas/Context.java"}, "focal_method": {"identifier": "updateGroupsComponentReplaced", "parameters": "(TEntity entity, int index, IComponent previousComponent,\n                                                 IComponent newComponent, List<Group<TEntity>>[] groupsForIndex)", "modifiers": "protected", "return": "void", "body": "protected void updateGroupsComponentReplaced(TEntity entity, int index, IComponent previousComponent,\n                                                 IComponent newComponent, List<Group<TEntity>>[] groupsForIndex) {\n        List<Group<TEntity>> groups = groupsForIndex[index];\n        if (groups != null) {\n            for (Group g : groups) {\n                g.updateEntity(entity, index, previousComponent, newComponent);\n            }\n        }\n\n    }", "signature": "void updateGroupsComponentReplaced(TEntity entity, int index, IComponent previousComponent,\n                                                 IComponent newComponent, List<Group<TEntity>>[] groupsForIndex)", "full_signature": "protected void updateGroupsComponentReplaced(TEntity entity, int index, IComponent previousComponent,\n                                                 IComponent newComponent, List<Group<TEntity>>[] groupsForIndex)", "class_method_signature": "Context.updateGroupsComponentReplaced(TEntity entity, int index, IComponent previousComponent,\n                                                 IComponent newComponent, List<Group<TEntity>>[] groupsForIndex)", "testcase": false, "constructor": false, "invocations": ["updateEntity"]}, "repository": {"repo_id": 48122737, "url": "https://github.com/Rubentxu/Entitas-Java", "language": "Java", "is_fork": false, "fork_count": 6, "stargazer_count": 25, "size": 10433, "license": "licensed"}}