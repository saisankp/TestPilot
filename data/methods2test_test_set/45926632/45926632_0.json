{"test_class": {"identifier": "AvroSerializerTest", "superclass": "", "interfaces": "", "fields": [], "file": "support-metrics-client/src/test/java/io/confluent/support/metrics/serde/AvroSerializerTest.java"}, "test_case": {"identifier": "testSerializedDataIncludesAvroSchema", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testSerializedDataIncludesAvroSchema() throws IOException {\n    // Given\n    GenericContainer anyValidRecord = new User(\"anyName\");\n    AvroDeserializer decoder = new AvroDeserializer();\n    AvroSerializer encoder = new AvroSerializer();\n\n    // When\n    byte[] serializedRecord = encoder.serialize(anyValidRecord);\n\n    // Then\n    GenericContainer[] decodedRecords =\n        decoder.deserialize(anyValidRecord.getSchema(), serializedRecord);\n    assertThat(decodedRecords.length).isEqualTo(1);\n    assertThat(anyValidRecord.getSchema()).isEqualTo(decodedRecords[0].getSchema());\n  }", "signature": "void testSerializedDataIncludesAvroSchema()", "full_signature": "@Test public void testSerializedDataIncludesAvroSchema()", "class_method_signature": "AvroSerializerTest.testSerializedDataIncludesAvroSchema()", "testcase": true, "constructor": false, "invocations": ["serialize", "deserialize", "getSchema", "isEqualTo", "assertThat", "isEqualTo", "assertThat", "getSchema", "getSchema"]}, "focal_class": {"identifier": "AvroSerializer", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "serialize", "parameters": "(GenericContainer record)", "modifiers": "public", "return": "byte[]", "signature": "byte[] serialize(GenericContainer record)", "full_signature": "public byte[] serialize(GenericContainer record)", "class_method_signature": "AvroSerializer.serialize(GenericContainer record)", "testcase": false, "constructor": false}], "file": "support-metrics-client/src/main/java/io/confluent/support/metrics/serde/AvroSerializer.java"}, "focal_method": {"identifier": "serialize", "parameters": "(GenericContainer record)", "modifiers": "public", "return": "byte[]", "body": "public byte[] serialize(GenericContainer record) throws IOException {\n    if (record != null) {\n      DatumWriter<GenericContainer> datumWriter = new GenericDatumWriter<>(record.getSchema());\n      ByteArrayOutputStream out = new ByteArrayOutputStream();\n      DataFileWriter<GenericContainer> writer = new DataFileWriter<>(datumWriter);\n      writer.create(record.getSchema(), out);\n      writer.append(record);\n      writer.close();\n      out.close();\n      return out.toByteArray();\n    } else {\n      return null;\n    }\n  }", "signature": "byte[] serialize(GenericContainer record)", "full_signature": "public byte[] serialize(GenericContainer record)", "class_method_signature": "AvroSerializer.serialize(GenericContainer record)", "testcase": false, "constructor": false, "invocations": ["getSchema", "create", "getSchema", "append", "close", "close", "toByteArray"]}, "repository": {"repo_id": 45926632, "url": "https://github.com/confluentinc/support-metrics-client", "language": "Java", "is_fork": false, "fork_count": 22, "stargazer_count": 5, "size": 858, "license": "licensed"}}