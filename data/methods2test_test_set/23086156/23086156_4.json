{"test_class": {"identifier": "FacetRegistryTest", "superclass": "", "interfaces": "", "fields": [], "file": "core/src/test/java/io/nuun/kernel/core/internal/FacetRegistryTest.java"}, "test_case": {"identifier": "getFacets_never_return_null", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void getFacets_never_return_null()\n    {\n        List<Plugin> plugins = new ArrayList<>();\n        OneFacetPlugin oneFacetPlugin = new OneFacetPlugin();\n        plugins.add(oneFacetPlugin);\n\n        FacetRegistry registry = new FacetRegistry(plugins);\n        List<Facet2> facet2s = registry.getFacets(Facet2.class);\n\n        Assertions.assertThat(facet2s).isNotNull();\n        Assertions.assertThat(facet2s).isEmpty();\n    }", "signature": "void getFacets_never_return_null()", "full_signature": "@Test public void getFacets_never_return_null()", "class_method_signature": "FacetRegistryTest.getFacets_never_return_null()", "testcase": true, "constructor": false, "invocations": ["add", "getFacets", "isNotNull", "assertThat", "isEmpty", "assertThat"]}, "focal_class": {"identifier": "FacetRegistry", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final ListMultimap<Class<?>, Plugin> pluginsByFacet = ArrayListMultimap.create();", "modifier": "private final", "type": "ListMultimap<Class<?>, Plugin>", "declarator": "pluginsByFacet = ArrayListMultimap.create()", "var_name": "pluginsByFacet"}, {"original_string": "private final Map<Class<?>, Plugin> pluginsByClass = new HashMap<>();", "modifier": "private final", "type": "Map<Class<?>, Plugin>", "declarator": "pluginsByClass = new HashMap<>()", "var_name": "pluginsByClass"}], "methods": [{"identifier": "FacetRegistry", "parameters": "(final Collection<Plugin> plugins)", "modifiers": "", "return": "", "signature": " FacetRegistry(final Collection<Plugin> plugins)", "full_signature": "  FacetRegistry(final Collection<Plugin> plugins)", "class_method_signature": "FacetRegistry.FacetRegistry(final Collection<Plugin> plugins)", "testcase": false, "constructor": true}, {"identifier": "collectFacets", "parameters": "(Plugin plugin)", "modifiers": "private", "return": "void", "signature": "void collectFacets(Plugin plugin)", "full_signature": "private void collectFacets(Plugin plugin)", "class_method_signature": "FacetRegistry.collectFacets(Plugin plugin)", "testcase": false, "constructor": false}, {"identifier": "getFacet", "parameters": "(@Nullable Class<T> facet)", "modifiers": "", "return": "T", "signature": "T getFacet(@Nullable Class<T> facet)", "full_signature": " T getFacet(@Nullable Class<T> facet)", "class_method_signature": "FacetRegistry.getFacet(@Nullable Class<T> facet)", "testcase": false, "constructor": false}, {"identifier": "getFacets", "parameters": "(@Nullable Class<T> facet)", "modifiers": "@SuppressWarnings(\"unchecked\")", "return": "List<T>", "signature": "List<T> getFacets(@Nullable Class<T> facet)", "full_signature": "@SuppressWarnings(\"unchecked\") List<T> getFacets(@Nullable Class<T> facet)", "class_method_signature": "FacetRegistry.getFacets(@Nullable Class<T> facet)", "testcase": false, "constructor": false}, {"identifier": "isFacet", "parameters": "(Class<?> aClass)", "modifiers": "private", "return": "boolean", "signature": "boolean isFacet(Class<?> aClass)", "full_signature": "private boolean isFacet(Class<?> aClass)", "class_method_signature": "FacetRegistry.isFacet(Class<?> aClass)", "testcase": false, "constructor": false}], "file": "core/src/main/java/io/nuun/kernel/core/internal/FacetRegistry.java"}, "focal_method": {"identifier": "getFacets", "parameters": "(@Nullable Class<T> facet)", "modifiers": "@SuppressWarnings(\"unchecked\")", "return": "List<T>", "body": "@SuppressWarnings(\"unchecked\")\n    <T> List<T> getFacets(@Nullable Class<T> facet)\n    {\n        if (facet != null && Plugin.class.isAssignableFrom(facet))\n        {\n            List<T> ts = new ArrayList<>();\n            Plugin plugin = pluginsByClass.get(facet);\n            if (plugin != null)\n            {\n                ts.add((T) plugin);\n            }\n            return ts;\n        }\n        return (List<T>) pluginsByFacet.get(facet);\n    }", "signature": "List<T> getFacets(@Nullable Class<T> facet)", "full_signature": "@SuppressWarnings(\"unchecked\") List<T> getFacets(@Nullable Class<T> facet)", "class_method_signature": "FacetRegistry.getFacets(@Nullable Class<T> facet)", "testcase": false, "constructor": false, "invocations": ["isAssignableFrom", "get", "add", "get"]}, "repository": {"repo_id": 23086156, "url": "https://github.com/nuun-io/kernel", "language": "Java", "is_fork": false, "fork_count": 4, "stargazer_count": 7, "size": 1114, "license": "licensed"}}