{"test_class": {"identifier": "WebViewAdUrlGeneratorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private WebViewAdUrlGenerator subject;", "modifier": "private", "type": "WebViewAdUrlGenerator", "declarator": "subject", "var_name": "subject"}, {"original_string": "private static final String TEST_UDID = \"20b013c721c\";", "modifier": "private static final", "type": "String", "declarator": "TEST_UDID = \"20b013c721c\"", "var_name": "TEST_UDID"}, {"original_string": "private String expectedUdid;", "modifier": "private", "type": "String", "declarator": "expectedUdid", "var_name": "expectedUdid"}, {"original_string": "private Configuration configuration;", "modifier": "private", "type": "Configuration", "declarator": "configuration", "var_name": "configuration"}, {"original_string": "private MoPubShadowTelephonyManager shadowTelephonyManager;", "modifier": "private", "type": "MoPubShadowTelephonyManager", "declarator": "shadowTelephonyManager", "var_name": "shadowTelephonyManager"}, {"original_string": "private ShadowConnectivityManager shadowConnectivityManager;", "modifier": "private", "type": "ShadowConnectivityManager", "declarator": "shadowConnectivityManager", "var_name": "shadowConnectivityManager"}, {"original_string": "private Activity context;", "modifier": "private", "type": "Activity", "declarator": "context", "var_name": "context"}, {"original_string": "private MethodBuilder methodBuilder;", "modifier": "private", "type": "MethodBuilder", "declarator": "methodBuilder", "var_name": "methodBuilder"}], "file": "MoPubAd/mopub-sdk/src/test/java/com/mopub/mobileads/WebViewAdUrlGeneratorTest.java"}, "test_case": {"identifier": "generateAdUrl_whenLocationServiceNetworkProviderHasMostRecentLocation_shouldUseLocationServiceValue", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void generateAdUrl_whenLocationServiceNetworkProviderHasMostRecentLocation_shouldUseLocationServiceValue() {\n        Location locationFromDeveloper = new Location(\"\");\n        locationFromDeveloper.setLatitude(42);\n        locationFromDeveloper.setLongitude(-42);\n        locationFromDeveloper.setAccuracy(3.5f);\n        locationFromDeveloper.setTime(1000);\n\n        // Mock out the LocationManager's last known location to be more recent than the\n        // developer-supplied location.\n        ShadowLocationManager shadowLocationManager = Robolectric.shadowOf(\n                (LocationManager) application.getSystemService(Context.LOCATION_SERVICE));\n        Location locationFromSdk = new Location(\"\");\n        locationFromSdk.setLatitude(38);\n        locationFromSdk.setLongitude(-123);\n        locationFromSdk.setAccuracy(5.0f);\n        locationFromSdk.setTime(2000);\n        shadowLocationManager.setLastKnownLocation(LocationManager.NETWORK_PROVIDER,\n                locationFromSdk);\n\n        String adUrl = subject.withLocation(locationFromDeveloper)\n                .generateUrlString(\"ads.mopub.com\");\n        assertThat(getParameterFromRequestUrl(adUrl, \"ll\")).isEqualTo(\"38.0,-123.0\");\n        assertThat(getParameterFromRequestUrl(adUrl, \"lla\")).isEqualTo(\"5\");\n        assertThat(getParameterFromRequestUrl(adUrl, \"llsdk\")).isEqualTo(\"1\");\n    }", "signature": "void generateAdUrl_whenLocationServiceNetworkProviderHasMostRecentLocation_shouldUseLocationServiceValue()", "full_signature": "@Test public void generateAdUrl_whenLocationServiceNetworkProviderHasMostRecentLocation_shouldUseLocationServiceValue()", "class_method_signature": "WebViewAdUrlGeneratorTest.generateAdUrl_whenLocationServiceNetworkProviderHasMostRecentLocation_shouldUseLocationServiceValue()", "testcase": true, "constructor": false, "invocations": ["setLatitude", "setLongitude", "setAccuracy", "setTime", "shadowOf", "getSystemService", "setLatitude", "setLongitude", "setAccuracy", "setTime", "setLastKnownLocation", "generateUrlString", "withLocation", "isEqualTo", "assertThat", "getParameterFromRequestUrl", "isEqualTo", "assertThat", "getParameterFromRequestUrl", "isEqualTo", "assertThat", "getParameterFromRequestUrl"]}, "focal_class": {"identifier": "WebViewAdUrlGenerator", "superclass": "extends AdUrlGenerator", "interfaces": "", "fields": [{"original_string": "private final boolean mIsStorePictureSupported;", "modifier": "private final", "type": "boolean", "declarator": "mIsStorePictureSupported", "var_name": "mIsStorePictureSupported"}], "methods": [{"identifier": "WebViewAdUrlGenerator", "parameters": "(Context context, boolean isStorePictureSupported)", "modifiers": "public", "return": "", "signature": " WebViewAdUrlGenerator(Context context, boolean isStorePictureSupported)", "full_signature": "public  WebViewAdUrlGenerator(Context context, boolean isStorePictureSupported)", "class_method_signature": "WebViewAdUrlGenerator.WebViewAdUrlGenerator(Context context, boolean isStorePictureSupported)", "testcase": false, "constructor": true}, {"identifier": "generateUrlString", "parameters": "(String serverHostname)", "modifiers": "@Override public", "return": "String", "signature": "String generateUrlString(String serverHostname)", "full_signature": "@Override public String generateUrlString(String serverHostname)", "class_method_signature": "WebViewAdUrlGenerator.generateUrlString(String serverHostname)", "testcase": false, "constructor": false}], "file": "MoPubAd/mopub-sdk/src/main/java/com/mopub/mobileads/WebViewAdUrlGenerator.java"}, "focal_method": {"identifier": "generateUrlString", "parameters": "(String serverHostname)", "modifiers": "@Override public", "return": "String", "body": "@Override\n    public String generateUrlString(String serverHostname) {\n        initUrlString(serverHostname, Constants.AD_HANDLER);\n\n        final ClientMetadata clientMetadata = ClientMetadata.getInstance(mContext);\n\n        setApiVersion(\"6\");\n\n        setAdUnitId(mAdUnitId);\n\n        setSdkVersion(clientMetadata.getSdkVersion());\n\n        setDeviceInfo(clientMetadata.getDeviceManufacturer(),\n                clientMetadata.getDeviceModel(),\n                clientMetadata.getDeviceProduct());\n\n        setUdid(clientMetadata.getAdvertisingId());\n\n        setDoNotTrack(clientMetadata.isDoNotTrackSet());\n\n        setKeywords(mKeywords);\n\n        setLocation(mLocation);\n\n        setTimezone(DateAndTime.getTimeZoneOffsetString());\n\n        setOrientation(clientMetadata.getOrientationString());\n\n        setDensity(clientMetadata.getDensity());\n\n        setMraidFlag(true);\n\n        String networkOperator = clientMetadata.getNetworkOperatorForUrl();\n        setMccCode(networkOperator);\n        setMncCode(networkOperator);\n\n        setIsoCountryCode(clientMetadata.getIsoCountryCode());\n        setCarrierName(clientMetadata.getNetworkOperatorName());\n\n        setNetworkType(clientMetadata.getActiveNetworkType());\n\n        setAppVersion(clientMetadata.getAppVersion());\n\n        setExternalStoragePermission(mIsStorePictureSupported);\n\n        setTwitterAppInstalledFlag();\n\n        return getFinalUrlString();\n    }", "signature": "String generateUrlString(String serverHostname)", "full_signature": "@Override public String generateUrlString(String serverHostname)", "class_method_signature": "WebViewAdUrlGenerator.generateUrlString(String serverHostname)", "testcase": false, "constructor": false, "invocations": ["initUrlString", "getInstance", "setApiVersion", "setAdUnitId", "setSdkVersion", "getSdkVersion", "setDeviceInfo", "getDeviceManufacturer", "getDeviceModel", "getDeviceProduct", "setUdid", "getAdvertisingId", "setDoNotTrack", "isDoNotTrackSet", "setKeywords", "setLocation", "setTimezone", "getTimeZoneOffsetString", "setOrientation", "getOrientationString", "setDensity", "getDensity", "setMraidFlag", "getNetworkOperatorForUrl", "setMccCode", "setMncCode", "setIsoCountryCode", "getIsoCountryCode", "setCarrierName", "getNetworkOperatorName", "setNetworkType", "getActiveNetworkType", "setAppVersion", "getAppVersion", "setExternalStoragePermission", "setTwitterAppInstalledFlag", "getFinalUrlString"]}, "repository": {"repo_id": 38092182, "url": "https://github.com/harshalbenake/hbworkspace2-100", "language": "Java", "is_fork": false, "fork_count": 160, "stargazer_count": 191, "size": 307516, "license": "licensed"}}