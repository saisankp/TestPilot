{"test_class": {"identifier": "DeleteProfileWorkerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private DeleteProfileWorker deleteProfileWorker;", "modifier": "private", "type": "DeleteProfileWorker", "declarator": "deleteProfileWorker", "var_name": "deleteProfileWorker"}, {"original_string": "@Mock\n    private Progress mockProgress;", "modifier": "@Mock\n    private", "type": "Progress", "declarator": "mockProgress", "var_name": "mockProgress"}, {"original_string": "@Mock\n    private ApduChannel mockApduChannel;", "modifier": "@Mock\n    private", "type": "ApduChannel", "declarator": "mockApduChannel", "var_name": "mockApduChannel"}], "file": "lpad_sm-dpplus_connector/src/test/java/com/truphone/lpad/worker/DeleteProfileWorkerTest.java"}, "test_case": {"identifier": "theTransmissionResponseOk", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void theTransmissionResponseOk(){\n        String iccid = \"89445035401458888888\";\n        String eResponse = ToTLV.toTLV(\"BF33\", ToTLV.toTLV(\"80\", \"00\"));\n\n        when(mockApduChannel.transmitAPDU(any(String.class))).thenReturn(eResponse);\n        deleteProfileWorker.run(buildLpadWorkerExchange(buildDeleteProfileInputParams(iccid)));\n\n        verify(mockProgress, times(1)).setTotalSteps(3);\n        verify(mockProgress, times(1))\n                .stepExecuted(ProgressStep.DELETE_PROFILE_DELETING_PROFILE, iccid + \" delete profile\");\n        verify(mockProgress, times(1))\n                .stepExecuted(ProgressStep.DELETE_PROFILE_CONVERTING_RESPONSE, \"Converting response\");\n        verify(mockApduChannel, times(1)).sendStatus();\n\n        verify(mockProgress, times(1))\n                .stepExecuted(ProgressStep.DELETE_PROFILE_DELETED, iccid + \" deleted successfully\");\n        verify(mockProgress, times(0))\n                .stepExecuted(ProgressStep.DELETE_PROFILE_NOT_DELETED, iccid + \" profile not deleted\");\n    }", "signature": "void theTransmissionResponseOk()", "full_signature": "@Test public void theTransmissionResponseOk()", "class_method_signature": "DeleteProfileWorkerTest.theTransmissionResponseOk()", "testcase": true, "constructor": false, "invocations": ["toTLV", "toTLV", "thenReturn", "when", "transmitAPDU", "any", "run", "buildLpadWorkerExchange", "buildDeleteProfileInputParams", "setTotalSteps", "verify", "times", "stepExecuted", "verify", "times", "stepExecuted", "verify", "times", "sendStatus", "verify", "times", "stepExecuted", "verify", "times", "stepExecuted", "verify", "times"]}, "focal_class": {"identifier": "DeleteProfileWorker", "superclass": "", "interfaces": "implements LpadWorker<LpadWorkerExchange<DeleteProfileWorker.DeleteProfileInputParams>, String>", "fields": [{"original_string": "private static final Logger LOG = Logger.getLogger(DeleteProfileWorker.class.getName());", "modifier": "private static final", "type": "Logger", "declarator": "LOG = Logger.getLogger(DeleteProfileWorker.class.getName())", "var_name": "LOG"}, {"original_string": "private final Progress progress;", "modifier": "private final", "type": "Progress", "declarator": "progress", "var_name": "progress"}, {"original_string": "private final ApduChannel apduChannel;", "modifier": "private final", "type": "ApduChannel", "declarator": "apduChannel", "var_name": "apduChannel"}, {"original_string": "static final String PROFILE_RESULT_SUCCESS = \"0\";", "modifier": "static final", "type": "String", "declarator": "PROFILE_RESULT_SUCCESS = \"0\"", "var_name": "PROFILE_RESULT_SUCCESS"}], "methods": [{"identifier": "DeleteProfileWorker", "parameters": "(Progress progress, ApduChannel apduChannel)", "modifiers": "public", "return": "", "signature": " DeleteProfileWorker(Progress progress, ApduChannel apduChannel)", "full_signature": "public  DeleteProfileWorker(Progress progress, ApduChannel apduChannel)", "class_method_signature": "DeleteProfileWorker.DeleteProfileWorker(Progress progress, ApduChannel apduChannel)", "testcase": false, "constructor": true}, {"identifier": "run", "parameters": "(final LpadWorkerExchange<DeleteProfileInputParams> lpadWorkerExchange)", "modifiers": "public", "return": "String", "signature": "String run(final LpadWorkerExchange<DeleteProfileInputParams> lpadWorkerExchange)", "full_signature": "public String run(final LpadWorkerExchange<DeleteProfileInputParams> lpadWorkerExchange)", "class_method_signature": "DeleteProfileWorker.run(final LpadWorkerExchange<DeleteProfileInputParams> lpadWorkerExchange)", "testcase": false, "constructor": false}, {"identifier": "convertDeleteProfile", "parameters": "(String iccid, Progress progress, String eResponse)", "modifiers": "private", "return": "String", "signature": "String convertDeleteProfile(String iccid, Progress progress, String eResponse)", "full_signature": "private String convertDeleteProfile(String iccid, Progress progress, String eResponse)", "class_method_signature": "DeleteProfileWorker.convertDeleteProfile(String iccid, Progress progress, String eResponse)", "testcase": false, "constructor": false}, {"identifier": "transmitDeleteProfile", "parameters": "(String iccid, Progress progress)", "modifiers": "private", "return": "String", "signature": "String transmitDeleteProfile(String iccid, Progress progress)", "full_signature": "private String transmitDeleteProfile(String iccid, Progress progress)", "class_method_signature": "DeleteProfileWorker.transmitDeleteProfile(String iccid, Progress progress)", "testcase": false, "constructor": false}, {"identifier": "logDebug", "parameters": "(final String errorMessage)", "modifiers": "private", "return": "void", "signature": "void logDebug(final String errorMessage)", "full_signature": "private void logDebug(final String errorMessage)", "class_method_signature": "DeleteProfileWorker.logDebug(final String errorMessage)", "testcase": false, "constructor": false}, {"identifier": "inputValidation", "parameters": "(final boolean invalidCondition, final String errorMessage)", "modifiers": "private", "return": "void", "signature": "void inputValidation(final boolean invalidCondition, final String errorMessage)", "full_signature": "private void inputValidation(final boolean invalidCondition, final String errorMessage)", "class_method_signature": "DeleteProfileWorker.inputValidation(final boolean invalidCondition, final String errorMessage)", "testcase": false, "constructor": false}], "file": "lpad_sm-dpplus_connector/src/main/java/com/truphone/lpad/worker/DeleteProfileWorker.java"}, "focal_method": {"identifier": "run", "parameters": "(final LpadWorkerExchange<DeleteProfileInputParams> lpadWorkerExchange)", "modifiers": "public", "return": "String", "body": "public String run(final LpadWorkerExchange<DeleteProfileInputParams> lpadWorkerExchange) {\n\n        inputValidation(lpadWorkerExchange == null, \"Input params to invoke Delete Profile must not be null\");\n        inputValidation(lpadWorkerExchange.getBody() == null, \"Input params must have body defined\");\n        inputValidation(StringUtils.isBlank(lpadWorkerExchange.getBody().getIccid()), \"ICCID must not be null/empty\");\n\n        String iccid = lpadWorkerExchange.getBody().getIccid(); // Get ICCID From Body\n        String eResponse = transmitDeleteProfile(iccid, progress);\n\n        return convertDeleteProfile(iccid, progress, eResponse);\n    }", "signature": "String run(final LpadWorkerExchange<DeleteProfileInputParams> lpadWorkerExchange)", "full_signature": "public String run(final LpadWorkerExchange<DeleteProfileInputParams> lpadWorkerExchange)", "class_method_signature": "DeleteProfileWorker.run(final LpadWorkerExchange<DeleteProfileInputParams> lpadWorkerExchange)", "testcase": false, "constructor": false, "invocations": ["inputValidation", "inputValidation", "getBody", "inputValidation", "isBlank", "getIccid", "getBody", "getIccid", "getBody", "transmitDeleteProfile", "convertDeleteProfile"]}, "repository": {"repo_id": 137736536, "url": "https://github.com/Truphone/LPAd_SM-DPPlus_Connector", "language": "Java", "is_fork": false, "fork_count": 11, "stargazer_count": 14, "size": 175, "license": "licensed"}}