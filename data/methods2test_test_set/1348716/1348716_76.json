{"test_class": {"identifier": "AccountingDataControllerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n    private AccountingService accountingService;", "modifier": "@Mock\n    private", "type": "AccountingService", "declarator": "accountingService", "var_name": "accountingService"}, {"original_string": "private AccountingDataController accountingDataController;", "modifier": "private", "type": "AccountingDataController", "declarator": "accountingDataController", "var_name": "accountingDataController"}], "file": "accounting/src/test/java/org/mifos/platform/accounting/ui/controller/AccountingDataControllerTest.java"}, "test_case": {"identifier": "testShowAccountingDataForWithNull", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testShowAccountingDataForWithNull() {\n        accountingDataController.showAccountingDataFor(\"2010-05-10\", \"2010-05-10\");\n    }", "signature": "void testShowAccountingDataForWithNull()", "full_signature": "@Test public void testShowAccountingDataForWithNull()", "class_method_signature": "AccountingDataControllerTest.testShowAccountingDataForWithNull()", "testcase": true, "constructor": false, "invocations": ["showAccountingDataFor"]}, "focal_class": {"identifier": "AccountingDataController", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOGGER = LoggerFactory.getLogger(AccountingDataController.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(AccountingDataController.class)", "var_name": "LOGGER"}, {"original_string": "private final AccountingService accountingService;", "modifier": "private final", "type": "AccountingService", "declarator": "accountingService", "var_name": "accountingService"}, {"original_string": "private static final String FROM_DATE = \"fromDate\";", "modifier": "private static final", "type": "String", "declarator": "FROM_DATE = \"fromDate\"", "var_name": "FROM_DATE"}, {"original_string": "private static final String TO_DATE = \"toDate\";", "modifier": "private static final", "type": "String", "declarator": "TO_DATE = \"toDate\"", "var_name": "TO_DATE"}, {"original_string": "private static final String LIST_START_DAY = \"listStartDay\";", "modifier": "private static final", "type": "String", "declarator": "LIST_START_DAY = \"listStartDay\"", "var_name": "LIST_START_DAY"}], "methods": [{"identifier": "AccountingDataController", "parameters": "(AccountingService accountingService)", "modifiers": "@Autowired public", "return": "", "signature": " AccountingDataController(AccountingService accountingService)", "full_signature": "@Autowired public  AccountingDataController(AccountingService accountingService)", "class_method_signature": "AccountingDataController.AccountingDataController(AccountingService accountingService)", "testcase": false, "constructor": true}, {"identifier": "showAccountingDataFor", "parameters": "(@RequestParam(value = FROM_DATE) String paramFromDate,\n            @RequestParam(value = TO_DATE) String paramToDate)", "modifiers": "@RequestMapping(\"renderAccountingData.ftl\") public final", "return": "ModelAndView", "signature": "ModelAndView showAccountingDataFor(@RequestParam(value = FROM_DATE) String paramFromDate,\n            @RequestParam(value = TO_DATE) String paramToDate)", "full_signature": "@RequestMapping(\"renderAccountingData.ftl\") public final ModelAndView showAccountingDataFor(@RequestParam(value = FROM_DATE) String paramFromDate,\n            @RequestParam(value = TO_DATE) String paramToDate)", "class_method_signature": "AccountingDataController.showAccountingDataFor(@RequestParam(value = FROM_DATE) String paramFromDate,\n            @RequestParam(value = TO_DATE) String paramToDate)", "testcase": false, "constructor": false}, {"identifier": "confirmExportsDelete", "parameters": "()", "modifiers": "@RequestMapping(\"confirmExportsDelete.ftl\") public final", "return": "ModelAndView", "signature": "ModelAndView confirmExportsDelete()", "full_signature": "@RequestMapping(\"confirmExportsDelete.ftl\") public final ModelAndView confirmExportsDelete()", "class_method_signature": "AccountingDataController.confirmExportsDelete()", "testcase": false, "constructor": false}, {"identifier": "deleteCacheDir", "parameters": "()", "modifiers": "@RequestMapping(\"deleteCacheDir.ftl\") public final", "return": "ModelAndView", "signature": "ModelAndView deleteCacheDir()", "full_signature": "@RequestMapping(\"deleteCacheDir.ftl\") public final ModelAndView deleteCacheDir()", "class_method_signature": "AccountingDataController.deleteCacheDir()", "testcase": false, "constructor": false}, {"identifier": "generateList", "parameters": "(@RequestParam(value = LIST_START_DAY) Integer listStartDay, @RequestParam(value = \"type\") String type)", "modifiers": "@RequestMapping(\"generateExportsList.ftl\") public final", "return": "ModelAndView", "signature": "ModelAndView generateList(@RequestParam(value = LIST_START_DAY) Integer listStartDay, @RequestParam(value = \"type\") String type)", "full_signature": "@RequestMapping(\"generateExportsList.ftl\") public final ModelAndView generateList(@RequestParam(value = LIST_START_DAY) Integer listStartDay, @RequestParam(value = \"type\") String type)", "class_method_signature": "AccountingDataController.generateList(@RequestParam(value = LIST_START_DAY) Integer listStartDay, @RequestParam(value = \"type\") String type)", "testcase": false, "constructor": false}, {"identifier": "listAllExports", "parameters": "()", "modifiers": "@RequestMapping(\"renderAccountingDataCacheInfo.ftl\") public final", "return": "ModelAndView", "signature": "ModelAndView listAllExports()", "full_signature": "@RequestMapping(\"renderAccountingDataCacheInfo.ftl\") public final ModelAndView listAllExports()", "class_method_signature": "AccountingDataController.listAllExports()", "testcase": false, "constructor": false}], "file": "accounting/src/main/java/org/mifos/platform/accounting/ui/controller/AccountingDataController.java"}, "focal_method": {"identifier": "showAccountingDataFor", "parameters": "(@RequestParam(value = FROM_DATE) String paramFromDate,\n            @RequestParam(value = TO_DATE) String paramToDate)", "modifiers": "@RequestMapping(\"renderAccountingData.ftl\") public final", "return": "ModelAndView", "body": "@RequestMapping(\"renderAccountingData.ftl\")\n    public final ModelAndView showAccountingDataFor(@RequestParam(value = FROM_DATE) String paramFromDate,\n            @RequestParam(value = TO_DATE) String paramToDate) {\n        DateTimeFormatter fmt = DateTimeFormat.forPattern(\"yyyy-MM-dd\");\n        LocalDate fromDate = fmt.parseDateTime(paramFromDate).toLocalDate();\n        LocalDate toDate = fmt.parseDateTime(paramToDate).toLocalDate();\n        Boolean hasAlreadyRanQuery = Boolean.FALSE;\n        String fileName = null;\n\n        List<AccountingDto> accountingData = new ArrayList<AccountingDto>();\n        try {\n            fileName = accountingService.getExportOutputFileName(fromDate, toDate).replace(\".xml\", \"\");\n            hasAlreadyRanQuery = accountingService.hasAlreadyRanQuery(fromDate, toDate);\n            accountingData = accountingService.getExportDetails(fromDate, toDate);\n        } catch (Exception e) {\n            LOGGER.error(e.getMessage(), e);\n        }\n\n        ModelAndView mav = new ModelAndView(\"renderAccountingData\");\n        List<BreadCrumbsLinks> breadcrumbs = new AdminBreadcrumbBuilder()\n                .withLink(\"accounting.viewaccountingexports\", \"renderAccountingDataCacheInfo.ftl\")\n                .withLink(fileName, \"\").build();\n        mav.addObject(\"breadcrumbs\", breadcrumbs);\n        mav.addObject(\"accountingData\", accountingData);\n        mav.addObject(\"hasAlreadyRanQuery\", hasAlreadyRanQuery);\n        mav.addObject(\"fileName\", fileName);\n        mav.addObject(\"fromDate\", fromDate);\n        mav.addObject(\"toDate\", toDate);\n\n        return mav;\n    }", "signature": "ModelAndView showAccountingDataFor(@RequestParam(value = FROM_DATE) String paramFromDate,\n            @RequestParam(value = TO_DATE) String paramToDate)", "full_signature": "@RequestMapping(\"renderAccountingData.ftl\") public final ModelAndView showAccountingDataFor(@RequestParam(value = FROM_DATE) String paramFromDate,\n            @RequestParam(value = TO_DATE) String paramToDate)", "class_method_signature": "AccountingDataController.showAccountingDataFor(@RequestParam(value = FROM_DATE) String paramFromDate,\n            @RequestParam(value = TO_DATE) String paramToDate)", "testcase": false, "constructor": false, "invocations": ["forPattern", "toLocalDate", "parseDateTime", "toLocalDate", "parseDateTime", "replace", "getExportOutputFileName", "hasAlreadyRanQuery", "getExportDetails", "error", "getMessage", "build", "withLink", "withLink", "addObject", "addObject", "addObject", "addObject", "addObject", "addObject"]}, "repository": {"repo_id": 1348716, "url": "https://github.com/mifos/head", "language": "Java", "is_fork": false, "fork_count": 91, "stargazer_count": 55, "size": 532732, "license": "licensed"}}