{"test_class": {"identifier": "TestElasticSearchClientFactory", "superclass": "", "interfaces": "", "fields": [{"original_string": "ElasticSearchClientFactory factory;", "modifier": "", "type": "ElasticSearchClientFactory", "declarator": "factory", "var_name": "factory"}, {"original_string": "@Mock\n  ElasticSearchEventSerializer serializer;", "modifier": "@Mock", "type": "ElasticSearchEventSerializer", "declarator": "serializer", "var_name": "serializer"}], "file": "flume-ng-sinks/flume-ng-elasticsearch-sink/src/test/java/org/apache/flume/sink/elasticsearch/client/TestElasticSearchClientFactory.java"}, "test_case": {"identifier": "shouldReturnRestClient", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void shouldReturnRestClient() throws NoSuchClientTypeException {\n    String[] hostNames = { \"127.0.0.1\" };\n    Object o = factory.getClient(ElasticSearchClientFactory.RestClient,\n                                 hostNames, \"test\", serializer, null);\n    assertThat(o, instanceOf(ElasticSearchRestClient.class));\n  }", "signature": "void shouldReturnRestClient()", "full_signature": "@Test public void shouldReturnRestClient()", "class_method_signature": "TestElasticSearchClientFactory.shouldReturnRestClient()", "testcase": true, "constructor": false, "invocations": ["getClient", "assertThat", "instanceOf"]}, "focal_class": {"identifier": "ElasticSearchClientFactory", "superclass": "", "interfaces": "", "fields": [{"original_string": "public static final String TransportClient = \"transport\";", "modifier": "public static final", "type": "String", "declarator": "TransportClient = \"transport\"", "var_name": "TransportClient"}, {"original_string": "public static final String RestClient = \"rest\";", "modifier": "public static final", "type": "String", "declarator": "RestClient = \"rest\"", "var_name": "RestClient"}], "methods": [{"identifier": "getClient", "parameters": "(String clientType, String[] hostNames,\n      String clusterName, ElasticSearchEventSerializer serializer,\n      ElasticSearchIndexRequestBuilderFactory indexBuilder)", "modifiers": "public", "return": "ElasticSearchClient", "signature": "ElasticSearchClient getClient(String clientType, String[] hostNames,\n      String clusterName, ElasticSearchEventSerializer serializer,\n      ElasticSearchIndexRequestBuilderFactory indexBuilder)", "full_signature": "public ElasticSearchClient getClient(String clientType, String[] hostNames,\n      String clusterName, ElasticSearchEventSerializer serializer,\n      ElasticSearchIndexRequestBuilderFactory indexBuilder)", "class_method_signature": "ElasticSearchClientFactory.getClient(String clientType, String[] hostNames,\n      String clusterName, ElasticSearchEventSerializer serializer,\n      ElasticSearchIndexRequestBuilderFactory indexBuilder)", "testcase": false, "constructor": false}, {"identifier": "getLocalClient", "parameters": "(String clientType,\n                                            ElasticSearchEventSerializer serializer,\n                                            ElasticSearchIndexRequestBuilderFactory indexBuilder)", "modifiers": "public", "return": "ElasticSearchClient", "signature": "ElasticSearchClient getLocalClient(String clientType,\n                                            ElasticSearchEventSerializer serializer,\n                                            ElasticSearchIndexRequestBuilderFactory indexBuilder)", "full_signature": "public ElasticSearchClient getLocalClient(String clientType,\n                                            ElasticSearchEventSerializer serializer,\n                                            ElasticSearchIndexRequestBuilderFactory indexBuilder)", "class_method_signature": "ElasticSearchClientFactory.getLocalClient(String clientType,\n                                            ElasticSearchEventSerializer serializer,\n                                            ElasticSearchIndexRequestBuilderFactory indexBuilder)", "testcase": false, "constructor": false}], "file": "flume-ng-sinks/flume-ng-elasticsearch-sink/src/main/java/org/apache/flume/sink/elasticsearch/client/ElasticSearchClientFactory.java"}, "focal_method": {"identifier": "getClient", "parameters": "(String clientType, String[] hostNames,\n      String clusterName, ElasticSearchEventSerializer serializer,\n      ElasticSearchIndexRequestBuilderFactory indexBuilder)", "modifiers": "public", "return": "ElasticSearchClient", "body": "public ElasticSearchClient getClient(String clientType, String[] hostNames,\n      String clusterName, ElasticSearchEventSerializer serializer,\n      ElasticSearchIndexRequestBuilderFactory indexBuilder) throws NoSuchClientTypeException {\n    if (clientType.equalsIgnoreCase(TransportClient) && serializer != null) {\n      return new ElasticSearchTransportClient(hostNames, clusterName, serializer);\n    } else if (clientType.equalsIgnoreCase(TransportClient) && indexBuilder != null) { \n      return new ElasticSearchTransportClient(hostNames, clusterName, indexBuilder);\n    } else if (clientType.equalsIgnoreCase(RestClient) && serializer != null) {\n      return new ElasticSearchRestClient(hostNames, serializer);\n    }\n    throw new NoSuchClientTypeException();\n  }", "signature": "ElasticSearchClient getClient(String clientType, String[] hostNames,\n      String clusterName, ElasticSearchEventSerializer serializer,\n      ElasticSearchIndexRequestBuilderFactory indexBuilder)", "full_signature": "public ElasticSearchClient getClient(String clientType, String[] hostNames,\n      String clusterName, ElasticSearchEventSerializer serializer,\n      ElasticSearchIndexRequestBuilderFactory indexBuilder)", "class_method_signature": "ElasticSearchClientFactory.getClient(String clientType, String[] hostNames,\n      String clusterName, ElasticSearchEventSerializer serializer,\n      ElasticSearchIndexRequestBuilderFactory indexBuilder)", "testcase": false, "constructor": false, "invocations": ["equalsIgnoreCase", "equalsIgnoreCase", "equalsIgnoreCase"]}, "repository": {"repo_id": 2198510, "url": "https://github.com/apache/flume", "language": "Java", "is_fork": false, "fork_count": 1372, "stargazer_count": 1971, "size": 44377, "license": "licensed"}}