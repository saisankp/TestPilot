{"test_class": {"identifier": "WebCommandBuilderTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "static WebCommandBuilder cmdBuilder;", "modifier": "static", "type": "WebCommandBuilder", "declarator": "cmdBuilder", "var_name": "cmdBuilder"}], "file": "nimbus-core/src/test/java/com/antheminc/oss/nimbus/channel/web/WebCommandBuilderTest.java"}, "test_case": {"identifier": "t_event", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void t_event() {\n\t\tMockHttpServletRequest httpReq = new MockHttpServletRequest(HttpMethod.POST.name(), \"/anthem/icr/p/event/notify\");\n\t\tModelEvent<String> event = new ModelEvent<>();\n\t\tevent.setId(\"/flow_um-case/pg1/caseInfo/requestType\");\n\t\tevent.setType(Action._update.name());\n\t\tevent.setPayload(\"oop\");\n\t\t\n\t\tCommand cmd = cmdBuilder.build(httpReq, event);\n\t\tassertNotNull(cmd);\n\t\tassertSame(Action._update, cmd.getAction());\n\t\tassertEquals(\"anthem\", cmd.getRootClientAlias());\n\t\tassertEquals(\"flow_um-case\", cmd.getRootDomainAlias());\n\t\tassertEquals(\"/flow_um-case/pg1/caseInfo/requestType\", cmd.getAbsoluteDomainAlias());\n\t\tassertEquals(\"/anthem/icr/p/flow_um-case/pg1/caseInfo/requestType/_update\", cmd.getAbsoluteUri());\n\t\tassertEquals(\"icr\", cmd.getAppAlias());\n\t\tassertSame(Behavior.$execute, cmd.getBehaviors().get(0));\n\t}", "signature": "void t_event()", "full_signature": "@Test public void t_event()", "class_method_signature": "WebCommandBuilderTest.t_event()", "testcase": true, "constructor": false, "invocations": ["name", "setId", "setType", "name", "setPayload", "build", "assertNotNull", "assertSame", "getAction", "assertEquals", "getRootClientAlias", "assertEquals", "getRootDomainAlias", "assertEquals", "getAbsoluteDomainAlias", "assertEquals", "getAbsoluteUri", "assertEquals", "getAppAlias", "assertSame", "get", "getBehaviors"]}, "focal_class": {"identifier": "WebCommandBuilder", "superclass": "", "interfaces": "", "fields": [{"original_string": "private JustLogit logit = new JustLogit(this.getClass());", "modifier": "private", "type": "JustLogit", "declarator": "logit = new JustLogit(this.getClass())", "var_name": "logit"}], "methods": [{"identifier": "build", "parameters": "(HttpServletRequest request)", "modifiers": "public", "return": "Command", "signature": "Command build(HttpServletRequest request)", "full_signature": "public Command build(HttpServletRequest request)", "class_method_signature": "WebCommandBuilder.build(HttpServletRequest request)", "testcase": false, "constructor": false}, {"identifier": "build", "parameters": "(HttpServletRequest request, ModelEvent<String> event)", "modifiers": "public", "return": "Command", "signature": "Command build(HttpServletRequest request, ModelEvent<String> event)", "full_signature": "public Command build(HttpServletRequest request, ModelEvent<String> event)", "class_method_signature": "WebCommandBuilder.build(HttpServletRequest request, ModelEvent<String> event)", "testcase": false, "constructor": false}, {"identifier": "handleInternal", "parameters": "(String uri, Map<String, String[]> rParams)", "modifiers": "public", "return": "Command", "signature": "Command handleInternal(String uri, Map<String, String[]> rParams)", "full_signature": "public Command handleInternal(String uri, Map<String, String[]> rParams)", "class_method_signature": "WebCommandBuilder.handleInternal(String uri, Map<String, String[]> rParams)", "testcase": false, "constructor": false}, {"identifier": "constructRequestUri", "parameters": "(HttpServletRequest request)", "modifiers": "private", "return": "String", "signature": "String constructRequestUri(HttpServletRequest request)", "full_signature": "private String constructRequestUri(HttpServletRequest request)", "class_method_signature": "WebCommandBuilder.constructRequestUri(HttpServletRequest request)", "testcase": false, "constructor": false}], "file": "nimbus-core/src/main/java/com/antheminc/oss/nimbus/channel/web/WebCommandBuilder.java"}, "focal_method": {"identifier": "build", "parameters": "(HttpServletRequest request)", "modifiers": "public", "return": "Command", "body": "public Command build(HttpServletRequest request) {\n\t\tfinal String requestUri = constructRequestUri(request);\n\t\tlogit.trace(()->\"Received http request. \"+request.getMethod()+\" URI: \"+requestUri);\n\t\t\n\t\treturn handleInternal(requestUri, request.getParameterMap());\n\t}", "signature": "Command build(HttpServletRequest request)", "full_signature": "public Command build(HttpServletRequest request)", "class_method_signature": "WebCommandBuilder.build(HttpServletRequest request)", "testcase": false, "constructor": false, "invocations": ["constructRequestUri", "trace", "getMethod", "handleInternal", "getParameterMap"]}, "repository": {"repo_id": 96120606, "url": "https://github.com/openanthem/nimbus-core", "language": "Java", "is_fork": false, "fork_count": 48, "stargazer_count": 9, "size": 55787, "license": "licensed"}}