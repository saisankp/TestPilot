{"test_class": {"identifier": "JFastCGIPluginTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "Properties conf;", "modifier": "", "type": "Properties", "declarator": "conf", "var_name": "conf"}], "file": "client/playframework1x/src/test/java/org/jfastcgi/playframework1x/JFastCGIPluginTest.java"}, "test_case": {"identifier": "testCreateConfigMap", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testCreateConfigMap() throws Exception {\n        JFastCGIPlugin plugin = new JFastCGIPlugin();\n        plugin.setConfiguration(conf);\n\n        Map<String, Map<String, String>> configMap = plugin.createConfigMap(conf);\n\n        assertThat(configMap).isNotNull();\n        assertThat(configMap).hasSize(5);\n        assertThat(configMap.containsKey(\"DEFAULT\"));\n        assertThat(configMap.get(\"DEFAULT\")).hasSize(2);\n        assertThat(configMap.get(\"ACLUSTERCONFIG\")).hasSize(1);\n        assertThat(configMap.get(\"FILTERINGHEADERS\")).hasSize(3);\n        assertThat(configMap.get(\"CONTEXTOVERRIDEEXAMPLE\")).hasSize(3);\n    }", "signature": "void testCreateConfigMap()", "full_signature": "@Test public void testCreateConfigMap()", "class_method_signature": "JFastCGIPluginTest.testCreateConfigMap()", "testcase": true, "constructor": false, "invocations": ["setConfiguration", "createConfigMap", "isNotNull", "assertThat", "hasSize", "assertThat", "assertThat", "containsKey", "hasSize", "assertThat", "get", "hasSize", "assertThat", "get", "hasSize", "assertThat", "get", "hasSize", "assertThat", "get"]}, "focal_class": {"identifier": "JFastCGIPlugin", "superclass": "extends PlayPlugin", "interfaces": "", "fields": [{"original_string": "private final Pattern configPattern = Pattern.compile(\n            \"^jfastcgi.(.*).(server-address|cluster-adresses|start-executable|connection-factory|filtered-headers|context-path|keep-alive)$\"\n    );", "modifier": "private final", "type": "Pattern", "declarator": "configPattern = Pattern.compile(\n            \"^jfastcgi.(.*).(server-address|cluster-adresses|start-executable|connection-factory|filtered-headers|context-path|keep-alive)$\"\n    )", "var_name": "configPattern"}, {"original_string": "private Properties _configuration = null;", "modifier": "private", "type": "Properties", "declarator": "_configuration = null", "var_name": "_configuration"}, {"original_string": "private Map<String, FastCGIHandler> handlers;", "modifier": "private", "type": "Map<String, FastCGIHandler>", "declarator": "handlers", "var_name": "handlers"}, {"original_string": "private final Object syncObject = new Object();", "modifier": "private final", "type": "Object", "declarator": "syncObject = new Object()", "var_name": "syncObject"}], "methods": [{"identifier": "getConfiguration", "parameters": "()", "modifiers": "private", "return": "Properties", "signature": "Properties getConfiguration()", "full_signature": "private Properties getConfiguration()", "class_method_signature": "JFastCGIPlugin.getConfiguration()", "testcase": false, "constructor": false}, {"identifier": "createConfigMap", "parameters": "(Properties configuration)", "modifiers": "", "return": "Map<String, Map<String, String>>", "signature": "Map<String, Map<String, String>> createConfigMap(Properties configuration)", "full_signature": " Map<String, Map<String, String>> createConfigMap(Properties configuration)", "class_method_signature": "JFastCGIPlugin.createConfigMap(Properties configuration)", "testcase": false, "constructor": false}, {"identifier": "createHandlers", "parameters": "(Map<String, Map<String, String>> configMap)", "modifiers": "", "return": "Map<String, FastCGIHandler>", "signature": "Map<String, FastCGIHandler> createHandlers(Map<String, Map<String, String>> configMap)", "full_signature": " Map<String, FastCGIHandler> createHandlers(Map<String, Map<String, String>> configMap)", "class_method_signature": "JFastCGIPlugin.createHandlers(Map<String, Map<String, String>> configMap)", "testcase": false, "constructor": false}, {"identifier": "onApplicationStart", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void onApplicationStart()", "full_signature": "@Override public void onApplicationStart()", "class_method_signature": "JFastCGIPlugin.onApplicationStart()", "testcase": false, "constructor": false}, {"identifier": "onApplicationStop", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void onApplicationStop()", "full_signature": "@Override public void onApplicationStop()", "class_method_signature": "JFastCGIPlugin.onApplicationStop()", "testcase": false, "constructor": false}, {"identifier": "setConfiguration", "parameters": "(Properties properties)", "modifiers": "public", "return": "void", "signature": "void setConfiguration(Properties properties)", "full_signature": "public void setConfiguration(Properties properties)", "class_method_signature": "JFastCGIPlugin.setConfiguration(Properties properties)", "testcase": false, "constructor": false}], "file": "client/playframework1x/src/main/java/org/jfastcgi/playframework1x/JFastCGIPlugin.java"}, "focal_method": {"identifier": "createConfigMap", "parameters": "(Properties configuration)", "modifiers": "", "return": "Map<String, Map<String, String>>", "body": "Map<String, Map<String, String>> createConfigMap(Properties configuration) {\n        Set<Object> keys = configuration.keySet();\n\n        Map<String, Map<String, String>> configMap = new HashMap<String, Map<String, String>>();\n\n        for (Object key : keys) {\n            Matcher matcher = configPattern.matcher(key.toString());\n            if (matcher.matches()) {\n                String endpointName = matcher.group(1);\n                String paramName = matcher.group(2);\n                String value = configuration.getProperty((String) key);\n\n                if (!configMap.containsKey(endpointName)) {\n                    configMap.put(endpointName, new HashMap<String, String>());\n                }\n\n                configMap.get(endpointName).put(paramName, value);\n            }\n        }\n        return configMap;\n    }", "signature": "Map<String, Map<String, String>> createConfigMap(Properties configuration)", "full_signature": " Map<String, Map<String, String>> createConfigMap(Properties configuration)", "class_method_signature": "JFastCGIPlugin.createConfigMap(Properties configuration)", "testcase": false, "constructor": false, "invocations": ["keySet", "matcher", "toString", "matches", "group", "group", "getProperty", "containsKey", "put", "put", "get"]}, "repository": {"repo_id": 11985762, "url": "https://github.com/jFastCGI/jfastcgi", "language": "Java", "is_fork": false, "fork_count": 9, "stargazer_count": 32, "size": 5079, "license": "licensed"}}