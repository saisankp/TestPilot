{"test_class": {"identifier": "ComputationResourceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static IComputationService service = mock(ComputationService.class);", "modifier": "private static", "type": "IComputationService", "declarator": "service = mock(ComputationService.class)", "var_name": "service"}, {"original_string": "private static ComputationDomain computation;", "modifier": "private static", "type": "ComputationDomain", "declarator": "computation", "var_name": "computation"}, {"original_string": "private static ComputationDomain updatedComputation;", "modifier": "private static", "type": "ComputationDomain", "declarator": "updatedComputation", "var_name": "updatedComputation"}, {"original_string": "private static ComputationResource resource;", "modifier": "private static", "type": "ComputationResource", "declarator": "resource", "var_name": "resource"}, {"original_string": "private static String tenant = \"tenant\";", "modifier": "private static", "type": "String", "declarator": "tenant = \"tenant\"", "var_name": "tenant"}], "file": "fabric-manager/src/test/java/com/olacabs/fabric/manager/resource/ComputationResourceTest.java"}, "test_case": {"identifier": "testValidSave", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testValidSave() {\n        doReturn(computation).when(service).saveOrUpdate(anyString(), any(ComputationDomain.class));\n\n        final Response response = resource.saveOrUpdate(tenant, computation);\n        Assert.assertEquals(response.getStatus(), 201);\n        Assert.assertEquals(response.getEntity(), computation);\n    }", "signature": "void testValidSave()", "full_signature": "@Test public void testValidSave()", "class_method_signature": "ComputationResourceTest.testValidSave()", "testcase": true, "constructor": false, "invocations": ["saveOrUpdate", "when", "doReturn", "anyString", "any", "saveOrUpdate", "assertEquals", "getStatus", "assertEquals", "getEntity"]}, "focal_class": {"identifier": "ComputationResource", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final IComputationService service;", "modifier": "private final", "type": "IComputationService", "declarator": "service", "var_name": "service"}], "methods": [{"identifier": "saveOrUpdate", "parameters": "(@PathParam(\"tenant\") final String tenant, @Valid final ComputationDomain computation)", "modifiers": "@UserRequired @POST @Timed @Consumes(MediaType.APPLICATION_JSON) @UnitOfWork @Path(\"{tenant}\") @ApiOperation(value = \"Save/update computation, basically creates a new version\", response = ComputationDomain.class) public", "return": "Response", "signature": "Response saveOrUpdate(@PathParam(\"tenant\") final String tenant, @Valid final ComputationDomain computation)", "full_signature": "@UserRequired @POST @Timed @Consumes(MediaType.APPLICATION_JSON) @UnitOfWork @Path(\"{tenant}\") @ApiOperation(value = \"Save/update computation, basically creates a new version\", response = ComputationDomain.class) public Response saveOrUpdate(@PathParam(\"tenant\") final String tenant, @Valid final ComputationDomain computation)", "class_method_signature": "ComputationResource.saveOrUpdate(@PathParam(\"tenant\") final String tenant, @Valid final ComputationDomain computation)", "testcase": false, "constructor": false}, {"identifier": "getLatestByName", "parameters": "(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String name,\n            @QueryParam(\"version\") final Integer version)", "modifiers": "@GET @Timed @UnitOfWork(transactional = false) @Path(\"{tenant}/{name}\") @ApiOperation(value = \"Get latest computation based on name and version(optional)\", response = ComputationDomain.class) public", "return": "Response", "signature": "Response getLatestByName(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String name,\n            @QueryParam(\"version\") final Integer version)", "full_signature": "@GET @Timed @UnitOfWork(transactional = false) @Path(\"{tenant}/{name}\") @ApiOperation(value = \"Get latest computation based on name and version(optional)\", response = ComputationDomain.class) public Response getLatestByName(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String name,\n            @QueryParam(\"version\") final Integer version)", "class_method_signature": "ComputationResource.getLatestByName(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String name,\n            @QueryParam(\"version\") final Integer version)", "testcase": false, "constructor": false}, {"identifier": "search", "parameters": "(@PathParam(\"tenant\") final String tenant,\n                           @QueryParam(\"name\") final String name,\n                           @QueryParam(\"version\") final Integer version,\n                           @QueryParam(\"latest\") @DefaultValue(\"true\") final Boolean latest)", "modifiers": "@GET @Timed @UnitOfWork(transactional = false) @Path(\"{tenant}\") @ApiOperation(value = \"Search computation based on params\", response = List.class) public", "return": "Response", "signature": "Response search(@PathParam(\"tenant\") final String tenant,\n                           @QueryParam(\"name\") final String name,\n                           @QueryParam(\"version\") final Integer version,\n                           @QueryParam(\"latest\") @DefaultValue(\"true\") final Boolean latest)", "full_signature": "@GET @Timed @UnitOfWork(transactional = false) @Path(\"{tenant}\") @ApiOperation(value = \"Search computation based on params\", response = List.class) public Response search(@PathParam(\"tenant\") final String tenant,\n                           @QueryParam(\"name\") final String name,\n                           @QueryParam(\"version\") final Integer version,\n                           @QueryParam(\"latest\") @DefaultValue(\"true\") final Boolean latest)", "class_method_signature": "ComputationResource.search(@PathParam(\"tenant\") final String tenant,\n                           @QueryParam(\"name\") final String name,\n                           @QueryParam(\"version\") final Integer version,\n                           @QueryParam(\"latest\") @DefaultValue(\"true\") final Boolean latest)", "testcase": false, "constructor": false}, {"identifier": "delete", "parameters": "(@PathParam(\"tenant\") final String tenant, @PathParam(\"internalId\") final int id)", "modifiers": "@DELETE @Timed @Path(\"{tenant}/{internalId}\") @UnitOfWork @UserRequired @ApiOperation(value = \"Soft delete computation\") public", "return": "Response", "signature": "Response delete(@PathParam(\"tenant\") final String tenant, @PathParam(\"internalId\") final int id)", "full_signature": "@DELETE @Timed @Path(\"{tenant}/{internalId}\") @UnitOfWork @UserRequired @ApiOperation(value = \"Soft delete computation\") public Response delete(@PathParam(\"tenant\") final String tenant, @PathParam(\"internalId\") final int id)", "class_method_signature": "ComputationResource.delete(@PathParam(\"tenant\") final String tenant, @PathParam(\"internalId\") final int id)", "testcase": false, "constructor": false}, {"identifier": "get", "parameters": "(@PathParam(\"tenant\") final String tenant, @PathParam(\"internalId\") final int id)", "modifiers": "@GET @Timed @Path((\"{tenant}/id/{internalId}\")) @UnitOfWork(transactional = false) public", "return": "Response", "signature": "Response get(@PathParam(\"tenant\") final String tenant, @PathParam(\"internalId\") final int id)", "full_signature": "@GET @Timed @Path((\"{tenant}/id/{internalId}\")) @UnitOfWork(transactional = false) public Response get(@PathParam(\"tenant\") final String tenant, @PathParam(\"internalId\") final int id)", "class_method_signature": "ComputationResource.get(@PathParam(\"tenant\") final String tenant, @PathParam(\"internalId\") final int id)", "testcase": false, "constructor": false}, {"identifier": "fetchLatest", "parameters": "(final Set<ComputationDomain> computations)", "modifiers": "private", "return": "ComputationDomain", "signature": "ComputationDomain fetchLatest(final Set<ComputationDomain> computations)", "full_signature": "private ComputationDomain fetchLatest(final Set<ComputationDomain> computations)", "class_method_signature": "ComputationResource.fetchLatest(final Set<ComputationDomain> computations)", "testcase": false, "constructor": false}], "file": "fabric-manager/src/main/java/com/olacabs/fabric/manager/resource/ComputationResource.java"}, "focal_method": {"identifier": "saveOrUpdate", "parameters": "(@PathParam(\"tenant\") final String tenant, @Valid final ComputationDomain computation)", "modifiers": "@UserRequired @POST @Timed @Consumes(MediaType.APPLICATION_JSON) @UnitOfWork @Path(\"{tenant}\") @ApiOperation(value = \"Save/update computation, basically creates a new version\", response = ComputationDomain.class) public", "return": "Response", "body": "@UserRequired\n    @POST\n    @Timed\n    @Consumes(MediaType.APPLICATION_JSON)\n    @UnitOfWork\n    @Path(\"{tenant}\")\n    @ApiOperation(value = \"Save/update computation, basically creates a new version\",\n            response = ComputationDomain.class)\n    public Response saveOrUpdate(@PathParam(\"tenant\") final String tenant, @Valid final ComputationDomain computation) {\n        final ComputationDomain result = service.saveOrUpdate(tenant, computation);\n        return Response.status(Response.Status.CREATED).entity(result).build();\n    }", "signature": "Response saveOrUpdate(@PathParam(\"tenant\") final String tenant, @Valid final ComputationDomain computation)", "full_signature": "@UserRequired @POST @Timed @Consumes(MediaType.APPLICATION_JSON) @UnitOfWork @Path(\"{tenant}\") @ApiOperation(value = \"Save/update computation, basically creates a new version\", response = ComputationDomain.class) public Response saveOrUpdate(@PathParam(\"tenant\") final String tenant, @Valid final ComputationDomain computation)", "class_method_signature": "ComputationResource.saveOrUpdate(@PathParam(\"tenant\") final String tenant, @Valid final ComputationDomain computation)", "testcase": false, "constructor": false, "invocations": ["saveOrUpdate", "build", "entity", "status"]}, "repository": {"repo_id": 71972621, "url": "https://github.com/olacabs/fabric", "language": "Java", "is_fork": false, "fork_count": 36, "stargazer_count": 43, "size": 234, "license": "licensed"}}