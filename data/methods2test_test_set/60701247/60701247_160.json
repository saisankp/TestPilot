{"test_class": {"identifier": "DensityAwareFileComparatorTest", "superclass": "", "interfaces": "", "fields": [], "file": "android/testSrc/com/android/tools/idea/npw/assetstudio/wizard/DensityAwareFileComparatorTest.java"}, "test_case": {"identifier": "testContract", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testContract() {\n    Comparator<File> comparator = new DensityAwareFileComparator(Collections.emptySet());\n    List<File> files = Arrays.asList(\n        new File(\"/res/mipmap-mdpi\"),\n        new File(\"/res/drawable-hdpi\"),\n        new File(\"/res/mipmap\")\n    );\n    files.sort(comparator);\n    assertThat(comparator.compare(files.get(0), files.get(1))).isLessThan(0);\n    assertThat(comparator.compare(files.get(1), files.get(2))).isLessThan(0);\n    assertThat(comparator.compare(files.get(0), files.get(2))).isLessThan(0);\n  }", "signature": "void testContract()", "full_signature": "@Test public void testContract()", "class_method_signature": "DensityAwareFileComparatorTest.testContract()", "testcase": true, "constructor": false, "invocations": ["emptySet", "asList", "sort", "isLessThan", "assertThat", "compare", "get", "get", "isLessThan", "assertThat", "compare", "get", "get", "isLessThan", "assertThat", "compare", "get", "get"]}, "focal_class": {"identifier": "DensityAwareFileComparator", "superclass": "", "interfaces": "implements Comparator<File>", "fields": [{"original_string": "@NotNull private final Set<File> myDirectories;", "modifier": "@NotNull private final", "type": "Set<File>", "declarator": "myDirectories", "var_name": "myDirectories"}], "methods": [{"identifier": "DensityAwareFileComparator", "parameters": "(@NotNull Set<File> directories)", "modifiers": "public", "return": "", "signature": " DensityAwareFileComparator(@NotNull Set<File> directories)", "full_signature": "public  DensityAwareFileComparator(@NotNull Set<File> directories)", "class_method_signature": "DensityAwareFileComparator.DensityAwareFileComparator(@NotNull Set<File> directories)", "testcase": false, "constructor": true}, {"identifier": "compare", "parameters": "(@NotNull File file1, @NotNull File file2)", "modifiers": "@Override public", "return": "int", "signature": "int compare(@NotNull File file1, @NotNull File file2)", "full_signature": "@Override public int compare(@NotNull File file1, @NotNull File file2)", "class_method_signature": "DensityAwareFileComparator.compare(@NotNull File file1, @NotNull File file2)", "testcase": false, "constructor": false}], "file": "android/src/com/android/tools/idea/npw/assetstudio/wizard/DensityAwareFileComparator.java"}, "focal_method": {"identifier": "compare", "parameters": "(@NotNull File file1, @NotNull File file2)", "modifiers": "@Override public", "return": "int", "body": "@Override\n  public int compare(@NotNull File file1, @NotNull File file2) {\n    int c = -Boolean.compare(myDirectories.contains(file1), myDirectories.contains(file2));\n    if (c != 0) {\n      return c;\n    }\n    String path1 = file1.getAbsolutePath();\n    String path2 = file2.getAbsolutePath();\n    Density density1 = pathToDensity(path1 + File.separator);\n    Density density2 = pathToDensity(path2 + File.separator);\n    c = Boolean.compare(density1 != null, density2 != null); // Files and directories with a density suffix are sorted first.\n    if (c != 0) {\n      return c;\n    }\n\n    if (density1 != null && density2 != null && density1 != density2) {\n      return Integer.compare(density2.getDpiValue(), density1.getDpiValue()); // Sort least dense to most dense.\n    }\n\n    return path1.compareTo(path2);\n  }", "signature": "int compare(@NotNull File file1, @NotNull File file2)", "full_signature": "@Override public int compare(@NotNull File file1, @NotNull File file2)", "class_method_signature": "DensityAwareFileComparator.compare(@NotNull File file1, @NotNull File file2)", "testcase": false, "constructor": false, "invocations": ["compare", "contains", "contains", "getAbsolutePath", "getAbsolutePath", "pathToDensity", "pathToDensity", "compare", "compare", "getDpiValue", "getDpiValue", "compareTo"]}, "repository": {"repo_id": 60701247, "url": "https://github.com/JetBrains/android", "stars": 486, "created": "6/8/2016 1:46:48 PM +00:00", "updates": "2020-01-27T16:45:40+00:00", "fork": "False", "license": "licensed"}}