{"test_class": {"identifier": "PropertyFilterTest", "superclass": "", "interfaces": "", "fields": [], "file": "instrumentation/jms/src/test/java/brave/jms/PropertyFilterTest.java"}, "test_case": {"identifier": "filterProperties_message_empty", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test public void filterProperties_message_empty() {\n    TextMessage message = new ActiveMQTextMessage();\n\n    PropertyFilter.filterProperties(message, Collections.singleton(\"b3\"));\n  }", "signature": "void filterProperties_message_empty()", "full_signature": "@Test public void filterProperties_message_empty()", "class_method_signature": "PropertyFilterTest.filterProperties_message_empty()", "testcase": true, "constructor": false, "invocations": ["filterProperties", "singleton"]}, "focal_class": {"identifier": "PropertyFilter", "superclass": "", "interfaces": "", "fields": [{"original_string": "static final ThreadLocal<ArrayList<Object>> MESSAGE_PROPERTIES_BUFFER = new ThreadLocal<>();", "modifier": "static final", "type": "ThreadLocal<ArrayList<Object>>", "declarator": "MESSAGE_PROPERTIES_BUFFER = new ThreadLocal<>()", "var_name": "MESSAGE_PROPERTIES_BUFFER"}], "methods": [{"identifier": "filterProperties", "parameters": "(Message message, Set<String> namesToClear)", "modifiers": "static", "return": "void", "signature": "void filterProperties(Message message, Set<String> namesToClear)", "full_signature": "static void filterProperties(Message message, Set<String> namesToClear)", "class_method_signature": "PropertyFilter.filterProperties(Message message, Set<String> namesToClear)", "testcase": false, "constructor": false}, {"identifier": "filterProperties", "parameters": "(Message message, Set<String> namesToClear, List<Object> out)", "modifiers": "static", "return": "void", "signature": "void filterProperties(Message message, Set<String> namesToClear, List<Object> out)", "full_signature": "static void filterProperties(Message message, Set<String> namesToClear, List<Object> out)", "class_method_signature": "PropertyFilter.filterProperties(Message message, Set<String> namesToClear, List<Object> out)", "testcase": false, "constructor": false}, {"identifier": "messagePropertiesBuffer", "parameters": "()", "modifiers": "static", "return": "ArrayList<Object>", "signature": "ArrayList<Object> messagePropertiesBuffer()", "full_signature": "static ArrayList<Object> messagePropertiesBuffer()", "class_method_signature": "PropertyFilter.messagePropertiesBuffer()", "testcase": false, "constructor": false}], "file": "instrumentation/jms/src/main/java/brave/jms/PropertyFilter.java"}, "focal_method": {"identifier": "filterProperties", "parameters": "(Message message, Set<String> namesToClear)", "modifiers": "static", "return": "void", "body": "static void filterProperties(Message message, Set<String> namesToClear) {\n    ArrayList<Object> retainedProperties = messagePropertiesBuffer();\n    try {\n      filterProperties(message, namesToClear, retainedProperties);\n    } finally {\n      retainedProperties.clear(); // ensure no object references are held due to any exception\n    }\n  }", "signature": "void filterProperties(Message message, Set<String> namesToClear)", "full_signature": "static void filterProperties(Message message, Set<String> namesToClear)", "class_method_signature": "PropertyFilter.filterProperties(Message message, Set<String> namesToClear)", "testcase": false, "constructor": false, "invocations": ["messagePropertiesBuffer", "filterProperties", "clear"]}, "repository": {"repo_id": 9278888, "url": "https://github.com/openzipkin/brave", "stars": 1754, "created": "4/7/2013 3:48:18 PM +00:00", "updates": "2020-01-26T11:52:41+00:00", "fork": "False", "license": "licensed"}}