{"test_class": {"identifier": "AccessTokenCacheFetcherTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final List<String> SCOPES = List.of(\"https://www.googleapis.com/auth/devstorage.read_write\");", "modifier": "private static final", "type": "List<String>", "declarator": "SCOPES = List.of(\"https://www.googleapis.com/auth/devstorage.read_write\")", "var_name": "SCOPES"}, {"original_string": "private static final String TARGET = \"//storage.googleapis.com/projects/_/buckets/example\";", "modifier": "private static final", "type": "String", "declarator": "TARGET = \"//storage.googleapis.com/projects/_/buckets/example\"", "var_name": "TARGET"}, {"original_string": "private static final String ALICE = \"alice@EXAMPLE.COM\";", "modifier": "private static final", "type": "String", "declarator": "ALICE = \"alice@EXAMPLE.COM\"", "var_name": "ALICE"}, {"original_string": "@ClassRule\n    public static SettingsOverride settingsOverride = new SettingsOverride(Map.of(\n        AppSettings.REMOTE_CACHE, \"com.google.cloud.broker.caching.remote.RedisCache\",\n        AppSettings.PROVIDER_BACKEND, \"com.google.cloud.broker.apps.brokerserver.accesstokens.providers.MockProvider\",\n        AppSettings.USER_MAPPER, \"com.google.cloud.broker.usermapping.MockUserMapper\",\n        AppSettings.ACCESS_TOKEN_LOCAL_CACHE_TIME, \"1234\",\n        AppSettings.ACCESS_TOKEN_REMOTE_CACHE_TIME, \"6789\"\n    ));", "modifier": "@ClassRule\n    public static", "type": "SettingsOverride", "declarator": "settingsOverride = new SettingsOverride(Map.of(\n        AppSettings.REMOTE_CACHE, \"com.google.cloud.broker.caching.remote.RedisCache\",\n        AppSettings.PROVIDER_BACKEND, \"com.google.cloud.broker.apps.brokerserver.accesstokens.providers.MockProvider\",\n        AppSettings.USER_MAPPER, \"com.google.cloud.broker.usermapping.MockUserMapper\",\n        AppSettings.ACCESS_TOKEN_LOCAL_CACHE_TIME, \"1234\",\n        AppSettings.ACCESS_TOKEN_REMOTE_CACHE_TIME, \"6789\"\n    ))", "var_name": "settingsOverride"}], "file": "code/broker-server/src/test/java/com/google/cloud/broker/apps/brokerserver/accesstokens/AccessTokenCacheFetcherTest.java"}, "test_case": {"identifier": "testGetRemoteCacheTime", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetRemoteCacheTime() {\n        AccessTokenCacheFetcher fetcher = new AccessTokenCacheFetcher(ALICE, SCOPES, TARGET);\n        assertEquals(6789, fetcher.getRemoteCacheTime());\n    }", "signature": "void testGetRemoteCacheTime()", "full_signature": "@Test public void testGetRemoteCacheTime()", "class_method_signature": "AccessTokenCacheFetcherTest.testGetRemoteCacheTime()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "getRemoteCacheTime"]}, "focal_class": {"identifier": "AccessTokenCacheFetcher", "superclass": "extends CacheFetcher", "interfaces": "", "fields": [{"original_string": "private String owner;", "modifier": "private", "type": "String", "declarator": "owner", "var_name": "owner"}, {"original_string": "private List<String> scopes;", "modifier": "private", "type": "List<String>", "declarator": "scopes", "var_name": "scopes"}, {"original_string": "private String target;", "modifier": "private", "type": "String", "declarator": "target", "var_name": "target"}], "methods": [{"identifier": "AccessTokenCacheFetcher", "parameters": "(String owner, List<String> scopes, String target)", "modifiers": "public", "return": "", "signature": " AccessTokenCacheFetcher(String owner, List<String> scopes, String target)", "full_signature": "public  AccessTokenCacheFetcher(String owner, List<String> scopes, String target)", "class_method_signature": "AccessTokenCacheFetcher.AccessTokenCacheFetcher(String owner, List<String> scopes, String target)", "testcase": false, "constructor": true}, {"identifier": "getCacheKey", "parameters": "()", "modifiers": "@Override protected", "return": "String", "signature": "String getCacheKey()", "full_signature": "@Override protected String getCacheKey()", "class_method_signature": "AccessTokenCacheFetcher.getCacheKey()", "testcase": false, "constructor": false}, {"identifier": "getLocalCacheTime", "parameters": "()", "modifiers": "@Override protected", "return": "int", "signature": "int getLocalCacheTime()", "full_signature": "@Override protected int getLocalCacheTime()", "class_method_signature": "AccessTokenCacheFetcher.getLocalCacheTime()", "testcase": false, "constructor": false}, {"identifier": "getRemoteCacheTime", "parameters": "()", "modifiers": "@Override protected", "return": "int", "signature": "int getRemoteCacheTime()", "full_signature": "@Override protected int getRemoteCacheTime()", "class_method_signature": "AccessTokenCacheFetcher.getRemoteCacheTime()", "testcase": false, "constructor": false}, {"identifier": "computeResult", "parameters": "()", "modifiers": "@Override protected", "return": "Object", "signature": "Object computeResult()", "full_signature": "@Override protected Object computeResult()", "class_method_signature": "AccessTokenCacheFetcher.computeResult()", "testcase": false, "constructor": false}, {"identifier": "fromJson", "parameters": "(String json)", "modifiers": "@Override protected", "return": "Object", "signature": "Object fromJson(String json)", "full_signature": "@Override protected Object fromJson(String json)", "class_method_signature": "AccessTokenCacheFetcher.fromJson(String json)", "testcase": false, "constructor": false}], "file": "code/broker-server/src/main/java/com/google/cloud/broker/apps/brokerserver/accesstokens/AccessTokenCacheFetcher.java"}, "focal_method": {"identifier": "getRemoteCacheTime", "parameters": "()", "modifiers": "@Override protected", "return": "int", "body": "@Override\n    protected int getRemoteCacheTime() {\n        return AppSettings.getInstance().getInt(AppSettings.ACCESS_TOKEN_REMOTE_CACHE_TIME);\n    }", "signature": "int getRemoteCacheTime()", "full_signature": "@Override protected int getRemoteCacheTime()", "class_method_signature": "AccessTokenCacheFetcher.getRemoteCacheTime()", "testcase": false, "constructor": false, "invocations": ["getInt", "getInstance"]}, "repository": {"repo_id": 176837289, "url": "https://github.com/GoogleCloudPlatform/gcp-token-broker", "language": "Java", "is_fork": false, "fork_count": 25, "stargazer_count": 27, "size": 1700, "license": "licensed"}}