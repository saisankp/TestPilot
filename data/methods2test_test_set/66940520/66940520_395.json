{"test_class": {"identifier": "QueryPlannerUtilsTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final AnalyticsAggregationType SUM_SUM = new AnalyticsAggregationType( AggregationType.SUM, AggregationType.SUM );", "modifier": "private final", "type": "AnalyticsAggregationType", "declarator": "SUM_SUM = new AnalyticsAggregationType( AggregationType.SUM, AggregationType.SUM )", "var_name": "SUM_SUM"}, {"original_string": "private final AnalyticsAggregationType SUM_AVG = new AnalyticsAggregationType( AggregationType.SUM, AggregationType.AVERAGE );", "modifier": "private final", "type": "AnalyticsAggregationType", "declarator": "SUM_AVG = new AnalyticsAggregationType( AggregationType.SUM, AggregationType.AVERAGE )", "var_name": "SUM_AVG"}], "file": "dhis-2/dhis-services/dhis-service-analytics/src/test/java/org/hisp/dhis/analytics/data/QueryPlannerUtilsTest.java"}, "test_case": {"identifier": "testGetAggregationType", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testGetAggregationType()\n    {\n        AnalyticsAggregationType typeA = new AnalyticsAggregationType( AggregationType.SUM, AggregationType.AVERAGE, DataType.NUMERIC, true );\n        AnalyticsAggregationType typeB = new AnalyticsAggregationType( AggregationType.AVERAGE, AggregationType.AVERAGE, DataType.NUMERIC, true );\n        \n        assertEquals( typeA, \n            QueryPlannerUtils.getAggregationType( new AnalyticsAggregationType( AggregationType.SUM, AggregationType.AVERAGE ), ValueType.INTEGER, \n                new QuarterlyPeriodType(), new YearlyPeriodType() ) );\n        \n        assertEquals( typeB, \n            QueryPlannerUtils.getAggregationType( new AnalyticsAggregationType( AggregationType.AVERAGE, AggregationType.AVERAGE ), ValueType.INTEGER, \n                new QuarterlyPeriodType(), new YearlyPeriodType() ) );\n    }", "signature": "void testGetAggregationType()", "full_signature": "@Test public void testGetAggregationType()", "class_method_signature": "QueryPlannerUtilsTest.testGetAggregationType()", "testcase": true, "constructor": false, "invocations": ["assertEquals", "getAggregationType", "assertEquals", "getAggregationType"]}, "focal_class": {"identifier": "QueryPlannerUtils", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "getLevelOrgUnitMap", "parameters": "( List<DimensionalItemObject> orgUnits )", "modifiers": "public static", "return": "ListMap<Integer, DimensionalItemObject>", "signature": "ListMap<Integer, DimensionalItemObject> getLevelOrgUnitMap( List<DimensionalItemObject> orgUnits )", "full_signature": "public static ListMap<Integer, DimensionalItemObject> getLevelOrgUnitMap( List<DimensionalItemObject> orgUnits )", "class_method_signature": "QueryPlannerUtils.getLevelOrgUnitMap( List<DimensionalItemObject> orgUnits )", "testcase": false, "constructor": false}, {"identifier": "getLevelOrgUnitTypedMap", "parameters": "( List<OrganisationUnit> orgUnits )", "modifiers": "public static", "return": "ListMap<Integer, OrganisationUnit>", "signature": "ListMap<Integer, OrganisationUnit> getLevelOrgUnitTypedMap( List<OrganisationUnit> orgUnits )", "full_signature": "public static ListMap<Integer, OrganisationUnit> getLevelOrgUnitTypedMap( List<OrganisationUnit> orgUnits )", "class_method_signature": "QueryPlannerUtils.getLevelOrgUnitTypedMap( List<OrganisationUnit> orgUnits )", "testcase": false, "constructor": false}, {"identifier": "getDataTypeDataElementMap", "parameters": "( List<DimensionalItemObject> dataElements )", "modifiers": "public static", "return": "ListMap<DataType, DimensionalItemObject>", "signature": "ListMap<DataType, DimensionalItemObject> getDataTypeDataElementMap( List<DimensionalItemObject> dataElements )", "full_signature": "public static ListMap<DataType, DimensionalItemObject> getDataTypeDataElementMap( List<DimensionalItemObject> dataElements )", "class_method_signature": "QueryPlannerUtils.getDataTypeDataElementMap( List<DimensionalItemObject> dataElements )", "testcase": false, "constructor": false}, {"identifier": "getAggregationTypeDataElementMap", "parameters": "(\n        List<DimensionalItemObject> dataElements, AnalyticsAggregationType aggregationType, String periodType )", "modifiers": "public static", "return": "ListMap<AnalyticsAggregationType, DimensionalItemObject>", "signature": "ListMap<AnalyticsAggregationType, DimensionalItemObject> getAggregationTypeDataElementMap(\n        List<DimensionalItemObject> dataElements, AnalyticsAggregationType aggregationType, String periodType )", "full_signature": "public static ListMap<AnalyticsAggregationType, DimensionalItemObject> getAggregationTypeDataElementMap(\n        List<DimensionalItemObject> dataElements, AnalyticsAggregationType aggregationType, String periodType )", "class_method_signature": "QueryPlannerUtils.getAggregationTypeDataElementMap(\n        List<DimensionalItemObject> dataElements, AnalyticsAggregationType aggregationType, String periodType )", "testcase": false, "constructor": false}, {"identifier": "getDaysPeriodMap", "parameters": "( List<DimensionalItemObject> periods )", "modifiers": "public static", "return": "ListMap<Integer, DimensionalItemObject>", "signature": "ListMap<Integer, DimensionalItemObject> getDaysPeriodMap( List<DimensionalItemObject> periods )", "full_signature": "public static ListMap<Integer, DimensionalItemObject> getDaysPeriodMap( List<DimensionalItemObject> periods )", "class_method_signature": "QueryPlannerUtils.getDaysPeriodMap( List<DimensionalItemObject> periods )", "testcase": false, "constructor": false}, {"identifier": "getAggregationType", "parameters": "( AnalyticsAggregationType aggregationType, ValueType valueType,\n        PeriodType aggregationPeriodType, PeriodType dataPeriodType )", "modifiers": "public static", "return": "AnalyticsAggregationType", "signature": "AnalyticsAggregationType getAggregationType( AnalyticsAggregationType aggregationType, ValueType valueType,\n        PeriodType aggregationPeriodType, PeriodType dataPeriodType )", "full_signature": "public static AnalyticsAggregationType getAggregationType( AnalyticsAggregationType aggregationType, ValueType valueType,\n        PeriodType aggregationPeriodType, PeriodType dataPeriodType )", "class_method_signature": "QueryPlannerUtils.getAggregationType( AnalyticsAggregationType aggregationType, ValueType valueType,\n        PeriodType aggregationPeriodType, PeriodType dataPeriodType )", "testcase": false, "constructor": false}, {"identifier": "isDisaggregation", "parameters": "( AnalyticsAggregationType aggregationType, PeriodType aggregationPeriodType, PeriodType dataPeriodType )", "modifiers": "public static", "return": "boolean", "signature": "boolean isDisaggregation( AnalyticsAggregationType aggregationType, PeriodType aggregationPeriodType, PeriodType dataPeriodType )", "full_signature": "public static boolean isDisaggregation( AnalyticsAggregationType aggregationType, PeriodType aggregationPeriodType, PeriodType dataPeriodType )", "class_method_signature": "QueryPlannerUtils.isDisaggregation( AnalyticsAggregationType aggregationType, PeriodType aggregationPeriodType, PeriodType dataPeriodType )", "testcase": false, "constructor": false}, {"identifier": "getPeriodTypeDataElementMap", "parameters": "(\n        Collection<DimensionalItemObject> dataElements )", "modifiers": "public static", "return": "ListMap<PeriodType, DimensionalItemObject>", "signature": "ListMap<PeriodType, DimensionalItemObject> getPeriodTypeDataElementMap(\n        Collection<DimensionalItemObject> dataElements )", "full_signature": "public static ListMap<PeriodType, DimensionalItemObject> getPeriodTypeDataElementMap(\n        Collection<DimensionalItemObject> dataElements )", "class_method_signature": "QueryPlannerUtils.getPeriodTypeDataElementMap(\n        Collection<DimensionalItemObject> dataElements )", "testcase": false, "constructor": false}, {"identifier": "convert", "parameters": "( List<DataQueryParams> params )", "modifiers": "public static", "return": "List<EventQueryParams>", "signature": "List<EventQueryParams> convert( List<DataQueryParams> params )", "full_signature": "public static List<EventQueryParams> convert( List<DataQueryParams> params )", "class_method_signature": "QueryPlannerUtils.convert( List<DataQueryParams> params )", "testcase": false, "constructor": false}], "file": "dhis-2/dhis-services/dhis-service-analytics/src/main/java/org/hisp/dhis/analytics/data/QueryPlannerUtils.java"}, "focal_method": {"identifier": "getAggregationType", "parameters": "( AnalyticsAggregationType aggregationType, ValueType valueType,\n        PeriodType aggregationPeriodType, PeriodType dataPeriodType )", "modifiers": "public static", "return": "AnalyticsAggregationType", "body": "public static AnalyticsAggregationType getAggregationType( AnalyticsAggregationType aggregationType, ValueType valueType,\n        PeriodType aggregationPeriodType, PeriodType dataPeriodType )\n    {\n        DataType dataType = DataType.fromValueType( valueType );\n        boolean disaggregation = isDisaggregation( aggregationType, aggregationPeriodType, dataPeriodType );\n\n        return new AnalyticsAggregationType( aggregationType.getAggregationType(),\n            aggregationType.getPeriodAggregationType(), dataType, disaggregation );\n    }", "signature": "AnalyticsAggregationType getAggregationType( AnalyticsAggregationType aggregationType, ValueType valueType,\n        PeriodType aggregationPeriodType, PeriodType dataPeriodType )", "full_signature": "public static AnalyticsAggregationType getAggregationType( AnalyticsAggregationType aggregationType, ValueType valueType,\n        PeriodType aggregationPeriodType, PeriodType dataPeriodType )", "class_method_signature": "QueryPlannerUtils.getAggregationType( AnalyticsAggregationType aggregationType, ValueType valueType,\n        PeriodType aggregationPeriodType, PeriodType dataPeriodType )", "testcase": false, "constructor": false, "invocations": ["fromValueType", "isDisaggregation", "getAggregationType", "getPeriodAggregationType"]}, "repository": {"repo_id": 66940520, "url": "https://github.com/dhis2/dhis2-core", "stars": 151, "created": "8/30/2016 12:57:05 PM +00:00", "updates": "2020-01-24T18:06:36+00:00", "fork": "False", "license": "licensed"}}