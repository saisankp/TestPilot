{"test_class": {"identifier": "HtmlInterstitialWebViewTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private HtmlInterstitialWebView subject;", "modifier": "private", "type": "HtmlInterstitialWebView", "declarator": "subject", "var_name": "subject"}, {"original_string": "private CustomEventInterstitialListener customEventInterstitialListener;", "modifier": "private", "type": "CustomEventInterstitialListener", "declarator": "customEventInterstitialListener", "var_name": "customEventInterstitialListener"}, {"original_string": "private String clickthroughUrl;", "modifier": "private", "type": "String", "declarator": "clickthroughUrl", "var_name": "clickthroughUrl"}, {"original_string": "private boolean isScrollable;", "modifier": "private", "type": "boolean", "declarator": "isScrollable", "var_name": "isScrollable"}, {"original_string": "private String redirectUrl;", "modifier": "private", "type": "String", "declarator": "redirectUrl", "var_name": "redirectUrl"}, {"original_string": "private AdConfiguration adConfiguration;", "modifier": "private", "type": "AdConfiguration", "declarator": "adConfiguration", "var_name": "adConfiguration"}], "file": "MoPubAd/mopub-sdk/src/test/java/com/mopub/mobileads/HtmlInterstitialWebViewTest.java"}, "test_case": {"identifier": "init_shouldAddJavascriptInterface", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void init_shouldAddJavascriptInterface() throws Exception {\n        subject.init(customEventInterstitialListener, isScrollable, clickthroughUrl, redirectUrl);\n\n        Object javascriptInterface = shadowOf(subject).getJavascriptInterface(MOPUB_JS_INTERFACE_NAME);\n        assertThat(javascriptInterface).isNotNull();\n\n        Method fireFinishLoad = javascriptInterface.getClass().getDeclaredMethod(\"fireFinishLoad\");\n        Robolectric.pauseMainLooper();\n        boolean returnValue = (Boolean) fireFinishLoad.invoke(javascriptInterface);\n        assertThat(returnValue).isTrue();\n        verify(customEventInterstitialListener, never()).onInterstitialShown();\n\n        Robolectric.unPauseMainLooper();\n        verify(customEventInterstitialListener).onInterstitialLoaded();\n    }", "signature": "void init_shouldAddJavascriptInterface()", "full_signature": "@Test public void init_shouldAddJavascriptInterface()", "class_method_signature": "HtmlInterstitialWebViewTest.init_shouldAddJavascriptInterface()", "testcase": true, "constructor": false, "invocations": ["init", "getJavascriptInterface", "shadowOf", "isNotNull", "assertThat", "getDeclaredMethod", "getClass", "pauseMainLooper", "invoke", "isTrue", "assertThat", "onInterstitialShown", "verify", "never", "unPauseMainLooper", "onInterstitialLoaded", "verify"]}, "focal_class": {"identifier": "HtmlInterstitialWebView", "superclass": "extends BaseHtmlWebView", "interfaces": "", "fields": [{"original_string": "private Handler mHandler;", "modifier": "private", "type": "Handler", "declarator": "mHandler", "var_name": "mHandler"}, {"original_string": "protected static final String MOPUB_JS_INTERFACE_NAME = \"mopubUriInterface\";", "modifier": "protected static final", "type": "String", "declarator": "MOPUB_JS_INTERFACE_NAME = \"mopubUriInterface\"", "var_name": "MOPUB_JS_INTERFACE_NAME"}], "methods": [{"identifier": "HtmlInterstitialWebView", "parameters": "(Context context, AdConfiguration adConfiguration)", "modifiers": "public", "return": "", "signature": " HtmlInterstitialWebView(Context context, AdConfiguration adConfiguration)", "full_signature": "public  HtmlInterstitialWebView(Context context, AdConfiguration adConfiguration)", "class_method_signature": "HtmlInterstitialWebView.HtmlInterstitialWebView(Context context, AdConfiguration adConfiguration)", "testcase": false, "constructor": true}, {"identifier": "init", "parameters": "(final CustomEventInterstitialListener customEventInterstitialListener, boolean isScrollable, String redirectUrl, String clickthroughUrl)", "modifiers": "public", "return": "void", "signature": "void init(final CustomEventInterstitialListener customEventInterstitialListener, boolean isScrollable, String redirectUrl, String clickthroughUrl)", "full_signature": "public void init(final CustomEventInterstitialListener customEventInterstitialListener, boolean isScrollable, String redirectUrl, String clickthroughUrl)", "class_method_signature": "HtmlInterstitialWebView.init(final CustomEventInterstitialListener customEventInterstitialListener, boolean isScrollable, String redirectUrl, String clickthroughUrl)", "testcase": false, "constructor": false}, {"identifier": "postHandlerRunnable", "parameters": "(Runnable r)", "modifiers": "private", "return": "void", "signature": "void postHandlerRunnable(Runnable r)", "full_signature": "private void postHandlerRunnable(Runnable r)", "class_method_signature": "HtmlInterstitialWebView.postHandlerRunnable(Runnable r)", "testcase": false, "constructor": false}, {"identifier": "addMoPubUriJavascriptInterface", "parameters": "(final MoPubUriJavascriptFireFinishLoadListener moPubUriJavascriptFireFinishLoadListener)", "modifiers": "", "return": "void", "signature": "void addMoPubUriJavascriptInterface(final MoPubUriJavascriptFireFinishLoadListener moPubUriJavascriptFireFinishLoadListener)", "full_signature": " void addMoPubUriJavascriptInterface(final MoPubUriJavascriptFireFinishLoadListener moPubUriJavascriptFireFinishLoadListener)", "class_method_signature": "HtmlInterstitialWebView.addMoPubUriJavascriptInterface(final MoPubUriJavascriptFireFinishLoadListener moPubUriJavascriptFireFinishLoadListener)", "testcase": false, "constructor": false}, {"identifier": "destroy", "parameters": "()", "modifiers": "@TargetApi(11) @Override public", "return": "void", "signature": "void destroy()", "full_signature": "@TargetApi(11) @Override public void destroy()", "class_method_signature": "HtmlInterstitialWebView.destroy()", "testcase": false, "constructor": false}], "file": "MoPubAd/mopub-sdk/src/main/java/com/mopub/mobileads/HtmlInterstitialWebView.java"}, "focal_method": {"identifier": "init", "parameters": "(final CustomEventInterstitialListener customEventInterstitialListener, boolean isScrollable, String redirectUrl, String clickthroughUrl)", "modifiers": "public", "return": "void", "body": "public void init(final CustomEventInterstitialListener customEventInterstitialListener, boolean isScrollable, String redirectUrl, String clickthroughUrl) {\n        super.init(isScrollable);\n\n        HtmlInterstitialWebViewListener htmlInterstitialWebViewListener = new HtmlInterstitialWebViewListener(customEventInterstitialListener);\n        HtmlWebViewClient htmlWebViewClient = new HtmlWebViewClient(htmlInterstitialWebViewListener, this, clickthroughUrl, redirectUrl);\n        setWebViewClient(htmlWebViewClient);\n\n        addMoPubUriJavascriptInterface(new MoPubUriJavascriptFireFinishLoadListener() {\n            @Override\n            public void onInterstitialLoaded() {\n                if (!mIsDestroyed) {\n                    customEventInterstitialListener.onInterstitialLoaded();\n                }\n            }\n        });\n    }", "signature": "void init(final CustomEventInterstitialListener customEventInterstitialListener, boolean isScrollable, String redirectUrl, String clickthroughUrl)", "full_signature": "public void init(final CustomEventInterstitialListener customEventInterstitialListener, boolean isScrollable, String redirectUrl, String clickthroughUrl)", "class_method_signature": "HtmlInterstitialWebView.init(final CustomEventInterstitialListener customEventInterstitialListener, boolean isScrollable, String redirectUrl, String clickthroughUrl)", "testcase": false, "constructor": false, "invocations": ["init", "setWebViewClient", "addMoPubUriJavascriptInterface", "onInterstitialLoaded"]}, "repository": {"repo_id": 38092182, "url": "https://github.com/harshalbenake/hbworkspace2-100", "language": "Java", "is_fork": false, "fork_count": 160, "stargazer_count": 191, "size": 307516, "license": "licensed"}}