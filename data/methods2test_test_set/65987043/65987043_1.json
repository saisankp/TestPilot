{"test_class": {"identifier": "MybatisPlusInterceptorTest", "superclass": "", "interfaces": "", "fields": [], "file": "mybatis-plus-extension/src/test/java/com/baomidou/mybatisplus/extension/plugins/MybatisPlusInterceptorTest.java"}, "test_case": {"identifier": "setProperties", "parameters": "()", "modifiers": "@Test", "return": "void", "body": "@Test\n    void setProperties() {\n        Properties properties = new Properties();\n        properties.setProperty(\"@page\", \"com.baomidou.mybatisplus.extension.plugins.inner.PaginationInnerInterceptor\");\n        properties.setProperty(\"page:maxLimit\", \"10\");\n        properties.setProperty(\"page:dbType\", \"h2\");\n        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();\n        interceptor.setProperties(properties);\n        List<InnerInterceptor> interceptors = interceptor.getInterceptors();\n\n        assertThat(interceptors).isNotEmpty();\n        assertThat(interceptors.size()).isEqualTo(1);\n\n        InnerInterceptor page = interceptors.get(0);\n        assertThat(page).isInstanceOf(PaginationInnerInterceptor.class);\n\n        PaginationInnerInterceptor pii = (PaginationInnerInterceptor) page;\n        assertThat(pii.getMaxLimit()).isEqualTo(10);\n        assertThat(pii.getDbType()).isEqualTo(DbType.H2);\n    }", "signature": "void setProperties()", "full_signature": "@Test void setProperties()", "class_method_signature": "MybatisPlusInterceptorTest.setProperties()", "testcase": true, "constructor": false, "invocations": ["setProperty", "setProperty", "setProperty", "setProperties", "getInterceptors", "isNotEmpty", "assertThat", "isEqualTo", "assertThat", "size", "get", "isInstanceOf", "assertThat", "isEqualTo", "assertThat", "getMaxLimit", "isEqualTo", "assertThat", "getDbType"]}, "focal_class": {"identifier": "MybatisPlusInterceptor", "superclass": "", "interfaces": "implements Interceptor", "fields": [{"original_string": "@Setter\n    private List<InnerInterceptor> interceptors = new ArrayList<>();", "modifier": "@Setter\n    private", "type": "List<InnerInterceptor>", "declarator": "interceptors = new ArrayList<>()", "var_name": "interceptors"}], "methods": [{"identifier": "intercept", "parameters": "(Invocation invocation)", "modifiers": "@Override public", "return": "Object", "signature": "Object intercept(Invocation invocation)", "full_signature": "@Override public Object intercept(Invocation invocation)", "class_method_signature": "MybatisPlusInterceptor.intercept(Invocation invocation)", "testcase": false, "constructor": false}, {"identifier": "plugin", "parameters": "(Object target)", "modifiers": "@Override public", "return": "Object", "signature": "Object plugin(Object target)", "full_signature": "@Override public Object plugin(Object target)", "class_method_signature": "MybatisPlusInterceptor.plugin(Object target)", "testcase": false, "constructor": false}, {"identifier": "addInnerInterceptor", "parameters": "(InnerInterceptor innerInterceptor)", "modifiers": "public", "return": "void", "signature": "void addInnerInterceptor(InnerInterceptor innerInterceptor)", "full_signature": "public void addInnerInterceptor(InnerInterceptor innerInterceptor)", "class_method_signature": "MybatisPlusInterceptor.addInnerInterceptor(InnerInterceptor innerInterceptor)", "testcase": false, "constructor": false}, {"identifier": "getInterceptors", "parameters": "()", "modifiers": "public", "return": "List<InnerInterceptor>", "signature": "List<InnerInterceptor> getInterceptors()", "full_signature": "public List<InnerInterceptor> getInterceptors()", "class_method_signature": "MybatisPlusInterceptor.getInterceptors()", "testcase": false, "constructor": false}, {"identifier": "setProperties", "parameters": "(Properties properties)", "modifiers": "@Override public", "return": "void", "signature": "void setProperties(Properties properties)", "full_signature": "@Override public void setProperties(Properties properties)", "class_method_signature": "MybatisPlusInterceptor.setProperties(Properties properties)", "testcase": false, "constructor": false}], "file": "mybatis-plus-extension/src/main/java/com/baomidou/mybatisplus/extension/plugins/MybatisPlusInterceptor.java"}, "focal_method": {"identifier": "setProperties", "parameters": "(Properties properties)", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void setProperties(Properties properties) {\n        PropertyMapper pm = PropertyMapper.newInstance(properties);\n        Map<String, Properties> group = pm.group(\"@\");\n        group.forEach((k, v) -> {\n            InnerInterceptor innerInterceptor = ClassUtils.newInstance(k);\n            innerInterceptor.setProperties(v);\n            addInnerInterceptor(innerInterceptor);\n        });\n    }", "signature": "void setProperties(Properties properties)", "full_signature": "@Override public void setProperties(Properties properties)", "class_method_signature": "MybatisPlusInterceptor.setProperties(Properties properties)", "testcase": false, "constructor": false, "invocations": ["newInstance", "group", "forEach", "newInstance", "setProperties", "addInnerInterceptor"]}, "repository": {"repo_id": 65987043, "url": "https://github.com/baomidou/mybatis-plus", "stars": 7720, "created": "8/18/2016 10:06:53 AM +00:00", "updates": "2020-01-27T08:09:51+00:00", "fork": "False", "license": "licensed"}}