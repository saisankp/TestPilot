{"test_class": {"identifier": "C32DocumentDaoImplTest", "superclass": "extends AbstractDateAwareTests", "interfaces": "implements EntityManager", "fields": [{"original_string": "C32DocumentDaoImpl dao;", "modifier": "", "type": "C32DocumentDaoImpl", "declarator": "dao", "var_name": "dao"}, {"original_string": "@SuppressWarnings(\"rawtypes\")\n\tList persistList;", "modifier": "@SuppressWarnings(\"rawtypes\")", "type": "List", "declarator": "persistList", "var_name": "persistList"}, {"original_string": "boolean managerError = false;", "modifier": "", "type": "boolean", "declarator": "managerError = false", "var_name": "managerError"}, {"original_string": "TestQuery lastQuery;", "modifier": "", "type": "TestQuery", "declarator": "lastQuery", "var_name": "lastQuery"}], "file": "das/das_wrap_nwhin/src/test/java/org/osehra/das/repo/bluebutton/C32DocumentDaoImplTest.java"}, "test_case": {"identifier": "insert", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void insert() {\n\t\tjava.util.Date now = new java.util.Date();\n\t\tdao.insert(getNewC32Doc(now));\n\t\tAssert.assertEquals(1, persistList.size());\n\t\tC32DocumentEntity aDoc = (C32DocumentEntity)persistList.get(0);\n\t\tGregorianCalendar cal = new GregorianCalendar();\n\t\tcal.setTime(now);\n\t\tassertDateEquals(aDoc.getCreateDate(), \n\t\t\t\tcal.get(GregorianCalendar.YEAR), \n\t\t\t\tcal.get(GregorianCalendar.MONTH), \n\t\t\t\tcal.get(GregorianCalendar.DAY_OF_MONTH), \n\t\t\t\tcal.get(GregorianCalendar.HOUR_OF_DAY), \n\t\t\t\tcal.get(GregorianCalendar.MINUTE), \n\t\t\t\tcal.get(GregorianCalendar.SECOND));\n\t\tAssert.assertFalse(cal.get(GregorianCalendar.HOUR_OF_DAY)==0 &&\n\t\t\t\tcal.get(GregorianCalendar.MINUTE)==0 &&\n\t\t\t\tcal.get(GregorianCalendar.SECOND)==0);\n\t}", "signature": "void insert()", "full_signature": "@Test public void insert()", "class_method_signature": "C32DocumentDaoImplTest.insert()", "testcase": true, "constructor": false, "invocations": ["insert", "getNewC32Doc", "assertEquals", "size", "get", "setTime", "assertDateEquals", "getCreateDate", "get", "get", "get", "get", "get", "get", "assertFalse", "get", "get", "get"]}, "focal_class": {"identifier": "C32DocumentDaoImpl", "superclass": "", "interfaces": "implements C32DocumentDao", "fields": [{"original_string": "protected static final Log logger = LogFactory.getLog(C32DocumentDaoImpl.class);", "modifier": "protected static final", "type": "Log", "declarator": "logger = LogFactory.getLog(C32DocumentDaoImpl.class)", "var_name": "logger"}, {"original_string": "@PersistenceContext(unitName=\"c32\")\n\tprivate EntityManager entityManager;", "modifier": "@PersistenceContext(unitName=\"c32\")\n\tprivate", "type": "EntityManager", "declarator": "entityManager", "var_name": "entityManager"}], "methods": [{"identifier": "getEntityManager", "parameters": "()", "modifiers": "public", "return": "EntityManager", "signature": "EntityManager getEntityManager()", "full_signature": "public EntityManager getEntityManager()", "class_method_signature": "C32DocumentDaoImpl.getEntityManager()", "testcase": false, "constructor": false}, {"identifier": "setEntityManager", "parameters": "(EntityManager manager)", "modifiers": "public", "return": "void", "signature": "void setEntityManager(EntityManager manager)", "full_signature": "public void setEntityManager(EntityManager manager)", "class_method_signature": "C32DocumentDaoImpl.setEntityManager(EntityManager manager)", "testcase": false, "constructor": false}, {"identifier": "insert", "parameters": "(C32DocumentEntity document)", "modifiers": "@Transactional public", "return": "void", "signature": "void insert(C32DocumentEntity document)", "full_signature": "@Transactional public void insert(C32DocumentEntity document)", "class_method_signature": "C32DocumentDaoImpl.insert(C32DocumentEntity document)", "testcase": false, "constructor": false}, {"identifier": "update", "parameters": "(C32DocumentEntity document)", "modifiers": "@Transactional public", "return": "void", "signature": "void update(C32DocumentEntity document)", "full_signature": "@Transactional public void update(C32DocumentEntity document)", "class_method_signature": "C32DocumentDaoImpl.update(C32DocumentEntity document)", "testcase": false, "constructor": false}, {"identifier": "getAllDocuments", "parameters": "(String patientId)", "modifiers": "@SuppressWarnings(\"unchecked\") @Transactional public", "return": "List<C32DocumentEntity>", "signature": "List<C32DocumentEntity> getAllDocuments(String patientId)", "full_signature": "@SuppressWarnings(\"unchecked\") @Transactional public List<C32DocumentEntity> getAllDocuments(String patientId)", "class_method_signature": "C32DocumentDaoImpl.getAllDocuments(String patientId)", "testcase": false, "constructor": false}], "file": "das/das_wrap_nwhin/src/main/java/org/osehra/das/repo/bluebutton/C32DocumentDaoImpl.java"}, "focal_method": {"identifier": "insert", "parameters": "(C32DocumentEntity document)", "modifiers": "@Transactional public", "return": "void", "body": "@Transactional\n\tpublic void insert(C32DocumentEntity document) {\n\t\tif (logger.isDebugEnabled()) {\n\t\t\tlogger.debug(\"attempting persist for: \" + document);\n\t\t}\n\t\tgetEntityManager().persist(document);\n\t}", "signature": "void insert(C32DocumentEntity document)", "full_signature": "@Transactional public void insert(C32DocumentEntity document)", "class_method_signature": "C32DocumentDaoImpl.insert(C32DocumentEntity document)", "testcase": false, "constructor": false, "invocations": ["isDebugEnabled", "debug", "persist", "getEntityManager"]}, "repository": {"repo_id": 7023911, "url": "https://github.com/WorldVistA/Blue-Button-Document-Adapter", "language": "Java", "is_fork": false, "fork_count": 3, "stargazer_count": 5, "size": 2081, "license": "licensed"}}