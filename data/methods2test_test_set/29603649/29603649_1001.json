{"test_class": {"identifier": "FileListJsonBuilderTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n    private File file;", "modifier": "@Mock\n    private", "type": "File", "declarator": "file", "var_name": "file"}, {"original_string": "@Mock\n    private FileUtils fileUtilsWrapper;", "modifier": "@Mock\n    private", "type": "FileUtils", "declarator": "fileUtilsWrapper", "var_name": "fileUtilsWrapper"}, {"original_string": "@Mock\n    private File directory;", "modifier": "@Mock\n    private", "type": "File", "declarator": "directory", "var_name": "directory"}, {"original_string": "@Mock\n    private File logFile;", "modifier": "@Mock\n    private", "type": "File", "declarator": "logFile", "var_name": "logFile"}, {"original_string": "@Mock\n    private File simpleFile;", "modifier": "@Mock\n    private", "type": "File", "declarator": "simpleFile", "var_name": "simpleFile"}, {"original_string": "@InjectMocks\n    private FileListJsonBuilder underTest;", "modifier": "@InjectMocks\n    private", "type": "FileListJsonBuilder", "declarator": "underTest", "var_name": "underTest"}], "file": "wilma-application/modules/wilma-webapp/src/test/java/com/epam/wilma/webapp/config/servlet/helper/FileListJsonBuilderTest.java"}, "test_case": {"identifier": "testBuildMessageFileListJsonShouldCreateEmptyJsonWhenDirectoryIsNotADirectory", "parameters": "()", "modifiers": "@Test public final", "return": "void", "body": "@Test\n    public final void testBuildMessageFileListJsonShouldCreateEmptyJsonWhenDirectoryIsNotADirectory() {\n        //GIVEN\n        String expected = \"{\\\"files\\\":[]}\";\n        given(file.list()).willReturn(null);\n        //WHEN\n        String actual = underTest.buildMessageFileListJson(file, 5);\n        //THEN\n        assertEquals(actual, expected);\n    }", "signature": "void testBuildMessageFileListJsonShouldCreateEmptyJsonWhenDirectoryIsNotADirectory()", "full_signature": "@Test public final void testBuildMessageFileListJsonShouldCreateEmptyJsonWhenDirectoryIsNotADirectory()", "class_method_signature": "FileListJsonBuilderTest.testBuildMessageFileListJsonShouldCreateEmptyJsonWhenDirectoryIsNotADirectory()", "testcase": true, "constructor": false, "invocations": ["willReturn", "given", "list", "buildMessageFileListJson", "assertEquals"]}, "focal_class": {"identifier": "FileListJsonBuilder", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String FILES = \"files\";", "modifier": "private static final", "type": "String", "declarator": "FILES = \"files\"", "var_name": "FILES"}, {"original_string": "private static Logger logger = LoggerFactory.getLogger(FileListJsonBuilder.class);", "modifier": "private static", "type": "Logger", "declarator": "logger = LoggerFactory.getLogger(FileListJsonBuilder.class)", "var_name": "logger"}, {"original_string": "@Autowired\n    private FileUtils fileUtilsWrapper;", "modifier": "@Autowired\n    private", "type": "FileUtils", "declarator": "fileUtilsWrapper", "var_name": "fileUtilsWrapper"}], "methods": [{"identifier": "buildLogFileListJson", "parameters": "(final File directory)", "modifiers": "public", "return": "String", "signature": "String buildLogFileListJson(final File directory)", "full_signature": "public String buildLogFileListJson(final File directory)", "class_method_signature": "FileListJsonBuilder.buildLogFileListJson(final File directory)", "testcase": false, "constructor": false}, {"identifier": "buildMessageFileListJson", "parameters": "(final File directory, final int maxValue)", "modifiers": "public", "return": "String", "signature": "String buildMessageFileListJson(final File directory, final int maxValue)", "full_signature": "public String buildMessageFileListJson(final File directory, final int maxValue)", "class_method_signature": "FileListJsonBuilder.buildMessageFileListJson(final File directory, final int maxValue)", "testcase": false, "constructor": false}, {"identifier": "buildFileListJson", "parameters": "(final File directory)", "modifiers": "public", "return": "String", "signature": "String buildFileListJson(final File directory)", "full_signature": "public String buildFileListJson(final File directory)", "class_method_signature": "FileListJsonBuilder.buildFileListJson(final File directory)", "testcase": false, "constructor": false}, {"identifier": "getFileNames", "parameters": "(final Collection<File> messageFiles)", "modifiers": "private", "return": "List<String>", "signature": "List<String> getFileNames(final Collection<File> messageFiles)", "full_signature": "private List<String> getFileNames(final Collection<File> messageFiles)", "class_method_signature": "FileListJsonBuilder.getFileNames(final Collection<File> messageFiles)", "testcase": false, "constructor": false}, {"identifier": "getJson", "parameters": "(final Object object)", "modifiers": "private", "return": "String", "signature": "String getJson(final Object object)", "full_signature": "private String getJson(final Object object)", "class_method_signature": "FileListJsonBuilder.getJson(final Object object)", "testcase": false, "constructor": false}], "file": "wilma-application/modules/wilma-webapp/src/main/java/com/epam/wilma/webapp/config/servlet/helper/FileListJsonBuilder.java"}, "focal_method": {"identifier": "buildMessageFileListJson", "parameters": "(final File directory, final int maxValue)", "modifiers": "public", "return": "String", "body": "public String buildMessageFileListJson(final File directory, final int maxValue) {\n        String result = \"{\\\"files\\\":[]}\";\n        String[] messageFiles = directory.list();\n        if (messageFiles != null) {\n            String[] resultFiles = messageFiles;\n            Arrays.sort(resultFiles);\n            if (messageFiles.length > maxValue) {\n                resultFiles = Arrays.copyOfRange(messageFiles, resultFiles.length - maxValue, resultFiles.length);\n            }\n            result = getJson(resultFiles);\n        } else {\n            logger.debug(\"The directory '\" + directory + \"' has not been created yet, or an I/O error occured.\");\n        }\n        return result;\n    }", "signature": "String buildMessageFileListJson(final File directory, final int maxValue)", "full_signature": "public String buildMessageFileListJson(final File directory, final int maxValue)", "class_method_signature": "FileListJsonBuilder.buildMessageFileListJson(final File directory, final int maxValue)", "testcase": false, "constructor": false, "invocations": ["list", "sort", "copyOfRange", "getJson", "debug"]}, "repository": {"repo_id": 29603649, "url": "https://github.com/epam/Wilma", "language": "Java", "is_fork": false, "fork_count": 8, "stargazer_count": 35, "size": 5732, "license": "licensed"}}