{"test_class": {"identifier": "LayoutMeasureUtilTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String ONE_LINE_TEXT = \"test\";", "modifier": "private static final", "type": "String", "declarator": "ONE_LINE_TEXT = \"test\"", "var_name": "ONE_LINE_TEXT"}, {"original_string": "private static final String TWO_LINE_TEXT = \"test\\ntest\";", "modifier": "private static final", "type": "String", "declarator": "TWO_LINE_TEXT = \"test\\ntest\"", "var_name": "TWO_LINE_TEXT"}, {"original_string": "private Layout mLayout;", "modifier": "private", "type": "Layout", "declarator": "mLayout", "var_name": "mLayout"}], "file": "library/src/test/java/com/facebook/fbui/textlayoutbuilder/util/LayoutMeasureUtilTest.java"}, "test_case": {"identifier": "testTwoLinesWithAdd", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n  public void testTwoLinesWithAdd() {\n    mLayout = StaticLayoutHelper.makeStaticLayout(TWO_LINE_TEXT, 1.0f, 5.0f);\n    assertEquals(LayoutMeasureUtil.getHeight(mLayout), 25);\n  }", "signature": "void testTwoLinesWithAdd()", "full_signature": "@Test public void testTwoLinesWithAdd()", "class_method_signature": "LayoutMeasureUtilTest.testTwoLinesWithAdd()", "testcase": true, "constructor": false, "invocations": ["makeStaticLayout", "assertEquals", "getHeight"]}, "focal_class": {"identifier": "LayoutMeasureUtil", "superclass": "", "interfaces": "", "fields": [], "methods": [{"identifier": "getWidth", "parameters": "(Layout layout)", "modifiers": "public static", "return": "int", "signature": "int getWidth(Layout layout)", "full_signature": "public static int getWidth(Layout layout)", "class_method_signature": "LayoutMeasureUtil.getWidth(Layout layout)", "testcase": false, "constructor": false}, {"identifier": "getHeight", "parameters": "(Layout layout)", "modifiers": "public static", "return": "int", "signature": "int getHeight(Layout layout)", "full_signature": "public static int getHeight(Layout layout)", "class_method_signature": "LayoutMeasureUtil.getHeight(Layout layout)", "testcase": false, "constructor": false}, {"identifier": "getContentLeft", "parameters": "(Layout layout)", "modifiers": "public static", "return": "int", "signature": "int getContentLeft(Layout layout)", "full_signature": "public static int getContentLeft(Layout layout)", "class_method_signature": "LayoutMeasureUtil.getContentLeft(Layout layout)", "testcase": false, "constructor": false}], "file": "library/src/main/java/com/facebook/fbui/textlayoutbuilder/util/LayoutMeasureUtil.java"}, "focal_method": {"identifier": "getHeight", "parameters": "(Layout layout)", "modifiers": "public static", "return": "int", "body": "public static int getHeight(Layout layout) {\n    if (layout == null) {\n      return 0;\n    }\n\n    int extra = 0;\n    if (Build.VERSION.SDK_INT < Build.VERSION_CODES.KITKAT_WATCH\n        && layout instanceof StaticLayout) {\n      int line = Math.max(0, layout.getLineCount() - 1);\n      int above = layout.getLineAscent(line);\n      int below = layout.getLineDescent(line);\n      float originalSize = (below - above - layout.getSpacingAdd()) / layout.getSpacingMultiplier();\n      float ex = below - above - originalSize;\n      if (ex >= 0) {\n        extra = (int) (ex + 0.5);\n      } else {\n        extra = -(int) (-ex + 0.5);\n      }\n    }\n    return layout.getHeight() - extra;\n  }", "signature": "int getHeight(Layout layout)", "full_signature": "public static int getHeight(Layout layout)", "class_method_signature": "LayoutMeasureUtil.getHeight(Layout layout)", "testcase": false, "constructor": false, "invocations": ["max", "getLineCount", "getLineAscent", "getLineDescent", "getSpacingAdd", "getSpacingMultiplier", "getHeight"]}, "repository": {"repo_id": 72580689, "url": "https://github.com/facebook/TextLayoutBuilder", "language": "Java", "is_fork": false, "fork_count": 123, "stargazer_count": 1404, "size": 436, "license": "licensed"}}