{"test_class": {"identifier": "ResponseHandlerTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "@Mock\n    private QueryService queryService;", "modifier": "@Mock\n    private", "type": "QueryService", "declarator": "queryService", "var_name": "queryService"}, {"original_string": "@Mock\n    private LinkService linkService;", "modifier": "@Mock\n    private", "type": "LinkService", "declarator": "linkService", "var_name": "linkService"}, {"original_string": "@Mock\n    private FieldFilterService fieldFilterService;", "modifier": "@Mock\n    private", "type": "FieldFilterService", "declarator": "fieldFilterService", "var_name": "fieldFilterService"}, {"original_string": "@Mock\n    private Environment environment;", "modifier": "@Mock\n    private", "type": "Environment", "declarator": "environment", "var_name": "environment"}, {"original_string": "@Mock\n    private CacheProvider cacheProvider;", "modifier": "@Mock\n    private", "type": "CacheProvider", "declarator": "cacheProvider", "var_name": "cacheProvider"}, {"original_string": "@Rule\n    public MockitoRule mockitoRule = rule();", "modifier": "@Rule\n    public", "type": "MockitoRule", "declarator": "mockitoRule = rule()", "var_name": "mockitoRule"}, {"original_string": "private ResponseHandler responseHandler;", "modifier": "private", "type": "ResponseHandler", "declarator": "responseHandler", "var_name": "responseHandler"}], "file": "dhis-2/dhis-web/dhis-web-api/src/test/java/org/hisp/dhis/webapi/controller/dataitem/ResponseHandlerTest.java"}, "test_case": {"identifier": "testAddResultsToNodeWithSuccess", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testAddResultsToNodeWithSuccess()\n    {\n        // Given\n        final RootNode anyRootNode = new RootNode( \"any\" );\n        final List<BaseDimensionalItemObject> anyDimensionalItems = asList( new BaseDimensionalItemObject( \"any\" ) );\n        final List<String> anyFields = asList( \"any\" );\n        final CollectionNode anyCollectionNode = new CollectionNode( \"any\" );\n\n        // When\n        when( fieldFilterService.toCollectionNode( any(), any() ) ).thenReturn( anyCollectionNode );\n        responseHandler.addResultsToNode( anyRootNode, anyDimensionalItems, anyFields );\n\n        // Then\n        assertThat( anyRootNode, is( notNullValue() ) );\n        assertThat( anyRootNode.getName(), is( equalTo( \"any\" ) ) );\n        assertThat( anyRootNode.getChildren(), hasSize( 1 ) );\n        assertThat( anyRootNode.getChildren().get( 0 ).isCollection(), is( true ) );\n    }", "signature": "void testAddResultsToNodeWithSuccess()", "full_signature": "@Test public void testAddResultsToNodeWithSuccess()", "class_method_signature": "ResponseHandlerTest.testAddResultsToNodeWithSuccess()", "testcase": true, "constructor": false, "invocations": ["asList", "asList", "thenReturn", "when", "toCollectionNode", "any", "any", "addResultsToNode", "assertThat", "is", "notNullValue", "assertThat", "getName", "is", "equalTo", "assertThat", "getChildren", "hasSize", "assertThat", "isCollection", "get", "getChildren", "is"]}, "focal_class": {"identifier": "ResponseHandler", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final String CACHE_DATA_ITEMS_PAGINATION = \"dataItemsPagination\";", "modifier": "private final", "type": "String", "declarator": "CACHE_DATA_ITEMS_PAGINATION = \"dataItemsPagination\"", "var_name": "CACHE_DATA_ITEMS_PAGINATION"}, {"original_string": "private final QueryService queryService;", "modifier": "private final", "type": "QueryService", "declarator": "queryService", "var_name": "queryService"}, {"original_string": "private final LinkService linkService;", "modifier": "private final", "type": "LinkService", "declarator": "linkService", "var_name": "linkService"}, {"original_string": "private final FieldFilterService fieldFilterService;", "modifier": "private final", "type": "FieldFilterService", "declarator": "fieldFilterService", "var_name": "fieldFilterService"}, {"original_string": "private final Environment environment;", "modifier": "private final", "type": "Environment", "declarator": "environment", "var_name": "environment"}, {"original_string": "private final CacheProvider cacheProvider;", "modifier": "private final", "type": "CacheProvider", "declarator": "cacheProvider", "var_name": "cacheProvider"}, {"original_string": "private Cache<Integer> PAGE_COUNTING_CACHE;", "modifier": "private", "type": "Cache<Integer>", "declarator": "PAGE_COUNTING_CACHE", "var_name": "PAGE_COUNTING_CACHE"}], "methods": [{"identifier": "ResponseHandler", "parameters": "( final QueryService queryService, final LinkService linkService,\n        final FieldFilterService fieldFilterService, final Environment environment, final CacheProvider cacheProvider )", "modifiers": "", "return": "", "signature": " ResponseHandler( final QueryService queryService, final LinkService linkService,\n        final FieldFilterService fieldFilterService, final Environment environment, final CacheProvider cacheProvider )", "full_signature": "  ResponseHandler( final QueryService queryService, final LinkService linkService,\n        final FieldFilterService fieldFilterService, final Environment environment, final CacheProvider cacheProvider )", "class_method_signature": "ResponseHandler.ResponseHandler( final QueryService queryService, final LinkService linkService,\n        final FieldFilterService fieldFilterService, final Environment environment, final CacheProvider cacheProvider )", "testcase": false, "constructor": true}, {"identifier": "addResultsToNode", "parameters": "( final RootNode rootNode,\n        final List<BaseDimensionalItemObject> dimensionalItemsFound, final List<String> fields )", "modifiers": "", "return": "void", "signature": "void addResultsToNode( final RootNode rootNode,\n        final List<BaseDimensionalItemObject> dimensionalItemsFound, final List<String> fields )", "full_signature": " void addResultsToNode( final RootNode rootNode,\n        final List<BaseDimensionalItemObject> dimensionalItemsFound, final List<String> fields )", "class_method_signature": "ResponseHandler.addResultsToNode( final RootNode rootNode,\n        final List<BaseDimensionalItemObject> dimensionalItemsFound, final List<String> fields )", "testcase": false, "constructor": false}, {"identifier": "addPaginationToNode", "parameters": "( final RootNode rootNode,\n        final List<Class<? extends BaseDimensionalItemObject>> targetEntities, final User currentUser,\n        final WebOptions options, final List<String> filters )", "modifiers": "", "return": "void", "signature": "void addPaginationToNode( final RootNode rootNode,\n        final List<Class<? extends BaseDimensionalItemObject>> targetEntities, final User currentUser,\n        final WebOptions options, final List<String> filters )", "full_signature": " void addPaginationToNode( final RootNode rootNode,\n        final List<Class<? extends BaseDimensionalItemObject>> targetEntities, final User currentUser,\n        final WebOptions options, final List<String> filters )", "class_method_signature": "ResponseHandler.addPaginationToNode( final RootNode rootNode,\n        final List<Class<? extends BaseDimensionalItemObject>> targetEntities, final User currentUser,\n        final WebOptions options, final List<String> filters )", "testcase": false, "constructor": false}, {"identifier": "countEntityRowsTotal", "parameters": "( final Class<? extends BaseDimensionalItemObject> entity, final WebOptions options,\n        final List<String> filters )", "modifiers": "private", "return": "int", "signature": "int countEntityRowsTotal( final Class<? extends BaseDimensionalItemObject> entity, final WebOptions options,\n        final List<String> filters )", "full_signature": "private int countEntityRowsTotal( final Class<? extends BaseDimensionalItemObject> entity, final WebOptions options,\n        final List<String> filters )", "class_method_signature": "ResponseHandler.countEntityRowsTotal( final Class<? extends BaseDimensionalItemObject> entity, final WebOptions options,\n        final List<String> filters )", "testcase": false, "constructor": false}, {"identifier": "createPageCountingCacheKey", "parameters": "( final User currentUser,\n        final Class<? extends BaseDimensionalItemObject> entity, final List<String> filters, final WebOptions options )", "modifiers": "private", "return": "String", "signature": "String createPageCountingCacheKey( final User currentUser,\n        final Class<? extends BaseDimensionalItemObject> entity, final List<String> filters, final WebOptions options )", "full_signature": "private String createPageCountingCacheKey( final User currentUser,\n        final Class<? extends BaseDimensionalItemObject> entity, final List<String> filters, final WebOptions options )", "class_method_signature": "ResponseHandler.createPageCountingCacheKey( final User currentUser,\n        final Class<? extends BaseDimensionalItemObject> entity, final List<String> filters, final WebOptions options )", "testcase": false, "constructor": false}, {"identifier": "init", "parameters": "()", "modifiers": "@PostConstruct", "return": "void", "signature": "void init()", "full_signature": "@PostConstruct void init()", "class_method_signature": "ResponseHandler.init()", "testcase": false, "constructor": false}], "file": "dhis-2/dhis-web/dhis-web-api/src/main/java/org/hisp/dhis/webapi/controller/dataitem/ResponseHandler.java"}, "focal_method": {"identifier": "addResultsToNode", "parameters": "( final RootNode rootNode,\n        final List<BaseDimensionalItemObject> dimensionalItemsFound, final List<String> fields )", "modifiers": "", "return": "void", "body": "void addResultsToNode( final RootNode rootNode,\n        final List<BaseDimensionalItemObject> dimensionalItemsFound, final List<String> fields )\n    {\n        final CollectionNode collectionNode = fieldFilterService.toCollectionNode( BaseDimensionalItemObject.class,\n                new FieldFilterParams( dimensionalItemsFound, fields ) );\n        collectionNode.setName( \"dataItems\" );\n        rootNode.addChild( collectionNode );\n    }", "signature": "void addResultsToNode( final RootNode rootNode,\n        final List<BaseDimensionalItemObject> dimensionalItemsFound, final List<String> fields )", "full_signature": " void addResultsToNode( final RootNode rootNode,\n        final List<BaseDimensionalItemObject> dimensionalItemsFound, final List<String> fields )", "class_method_signature": "ResponseHandler.addResultsToNode( final RootNode rootNode,\n        final List<BaseDimensionalItemObject> dimensionalItemsFound, final List<String> fields )", "testcase": false, "constructor": false, "invocations": ["toCollectionNode", "setName", "addChild"]}, "repository": {"repo_id": 66940520, "url": "https://github.com/dhis2/dhis2-core", "stars": 151, "created": "8/30/2016 12:57:05 PM +00:00", "updates": "2020-01-24T18:06:36+00:00", "fork": "False", "license": "licensed"}}