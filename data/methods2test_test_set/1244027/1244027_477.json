{"test_class": {"identifier": "ModeShapeWebdavStoreTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String TEST_ROOT = \"testRoot\";", "modifier": "private static final", "type": "String", "declarator": "TEST_ROOT = \"testRoot\"", "var_name": "TEST_ROOT"}, {"original_string": "private static final String TEST_ROOT_PATH = \"/\" + TEST_ROOT;", "modifier": "private static final", "type": "String", "declarator": "TEST_ROOT_PATH = \"/\" + TEST_ROOT", "var_name": "TEST_ROOT_PATH"}, {"original_string": "private static final String[] EMPTY_STRING_ARRAY = new String[0];", "modifier": "private static final", "type": "String[]", "declarator": "EMPTY_STRING_ARRAY = new String[0]", "var_name": "EMPTY_STRING_ARRAY"}, {"original_string": "private static final String REPOSITORY_NAME = \"repo\";", "modifier": "private static final", "type": "String", "declarator": "REPOSITORY_NAME = \"repo\"", "var_name": "REPOSITORY_NAME"}, {"original_string": "private static final String WORKSPACE_NAME = \"default\";", "modifier": "private static final", "type": "String", "declarator": "WORKSPACE_NAME = \"default\"", "var_name": "WORKSPACE_NAME"}, {"original_string": "private static ServletContextListener contextListener = new ModeShapeJcrDeployer();", "modifier": "private static", "type": "ServletContextListener", "declarator": "contextListener = new ModeShapeJcrDeployer()", "var_name": "contextListener"}, {"original_string": "@Mock\n    private static ServletContextEvent event;", "modifier": "@Mock\n    private static", "type": "ServletContextEvent", "declarator": "event", "var_name": "event"}, {"original_string": "private IWebdavStore store;", "modifier": "private", "type": "IWebdavStore", "declarator": "store", "var_name": "store"}, {"original_string": "private JcrSessionTransaction tx;", "modifier": "private", "type": "JcrSessionTransaction", "declarator": "tx", "var_name": "tx"}, {"original_string": "private Session session;", "modifier": "private", "type": "Session", "declarator": "session", "var_name": "session"}, {"original_string": "@Mock\n    private Principal principal;", "modifier": "@Mock\n    private", "type": "Principal", "declarator": "principal", "var_name": "principal"}, {"original_string": "@Mock\n    private HttpServletRequest request;", "modifier": "@Mock\n    private", "type": "HttpServletRequest", "declarator": "request", "var_name": "request"}, {"original_string": "@Mock\n    private ServletContext context;", "modifier": "@Mock\n    private", "type": "ServletContext", "declarator": "context", "var_name": "context"}, {"original_string": "private Node testRoot;", "modifier": "private", "type": "Node", "declarator": "testRoot", "var_name": "testRoot"}], "file": "web/modeshape-web-jcr-webdav/src/test/java/org/modeshape/web/jcr/webdav/ModeShapeWebdavStoreTest.java"}, "test_case": {"identifier": "shouldCommitTransaction", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void shouldCommitTransaction() throws Exception {\n        store.commit(tx);\n    }", "signature": "void shouldCommitTransaction()", "full_signature": "@Test public void shouldCommitTransaction()", "class_method_signature": "ModeShapeWebdavStoreTest.shouldCommitTransaction()", "testcase": true, "constructor": false, "invocations": ["commit"]}, "focal_class": {"identifier": "ModeShapeWebdavStore", "superclass": "", "interfaces": "implements IWebdavStore", "fields": [{"original_string": "private static final String DS_STORE_SUFFIX = \".DS_Store\";", "modifier": "private static final", "type": "String", "declarator": "DS_STORE_SUFFIX = \".DS_Store\"", "var_name": "DS_STORE_SUFFIX"}, {"original_string": "private static final ThreadLocal<HttpServletRequest> THREAD_LOCAL_REQUEST = new ThreadLocal<HttpServletRequest>();", "modifier": "private static final", "type": "ThreadLocal<HttpServletRequest>", "declarator": "THREAD_LOCAL_REQUEST = new ThreadLocal<HttpServletRequest>()", "var_name": "THREAD_LOCAL_REQUEST"}, {"original_string": "private static final Map<String, byte[]> OSX_DOUBLE_DATA = Collections.synchronizedMap(new WeakHashMap<String, byte[]>());", "modifier": "private static final", "type": "Map<String, byte[]>", "declarator": "OSX_DOUBLE_DATA = Collections.synchronizedMap(new WeakHashMap<String, byte[]>())", "var_name": "OSX_DOUBLE_DATA"}, {"original_string": "private static final String CREATED_PROP_NAME = \"jcr:created\";", "modifier": "private static final", "type": "String", "declarator": "CREATED_PROP_NAME = \"jcr:created\"", "var_name": "CREATED_PROP_NAME"}, {"original_string": "protected static final Set<String> EXCLUDED_NAMESPACE_PREFIXES = org.modeshape.common.collection.Collections.unmodifiableSet(NamespaceRegistry.PREFIX_XML,\n                                                                                                                                 \"xs\",\n                                                                                                                                 \"xsi\",\n                                                                                                                                 \"xmlns\");", "modifier": "protected static final", "type": "Set<String>", "declarator": "EXCLUDED_NAMESPACE_PREFIXES = org.modeshape.common.collection.Collections.unmodifiableSet(NamespaceRegistry.PREFIX_XML,\n                                                                                                                                 \"xs\",\n                                                                                                                                 \"xsi\",\n                                                                                                                                 \"xmlns\")", "var_name": "EXCLUDED_NAMESPACE_PREFIXES"}, {"original_string": "private final RequestResolver requestResolver;", "modifier": "private final", "type": "RequestResolver", "declarator": "requestResolver", "var_name": "requestResolver"}, {"original_string": "private final ContentMapper contentMapper;", "modifier": "private final", "type": "ContentMapper", "declarator": "contentMapper", "var_name": "contentMapper"}, {"original_string": "private final Logger logger = Logger.getLogger(getClass());", "modifier": "private final", "type": "Logger", "declarator": "logger = Logger.getLogger(getClass())", "var_name": "logger"}], "methods": [{"identifier": "ModeShapeWebdavStore", "parameters": "( RequestResolver requestResolver,\n                                 ContentMapper contentMapper )", "modifiers": "public", "return": "", "signature": " ModeShapeWebdavStore( RequestResolver requestResolver,\n                                 ContentMapper contentMapper )", "full_signature": "public  ModeShapeWebdavStore( RequestResolver requestResolver,\n                                 ContentMapper contentMapper )", "class_method_signature": "ModeShapeWebdavStore.ModeShapeWebdavStore( RequestResolver requestResolver,\n                                 ContentMapper contentMapper )", "testcase": false, "constructor": true}, {"identifier": "setRequest", "parameters": "( HttpServletRequest request )", "modifiers": "static", "return": "void", "signature": "void setRequest( HttpServletRequest request )", "full_signature": "static void setRequest( HttpServletRequest request )", "class_method_signature": "ModeShapeWebdavStore.setRequest( HttpServletRequest request )", "testcase": false, "constructor": false}, {"identifier": "begin", "parameters": "( Principal principal )", "modifiers": "@Override public", "return": "ITransaction", "signature": "ITransaction begin( Principal principal )", "full_signature": "@Override public ITransaction begin( Principal principal )", "class_method_signature": "ModeShapeWebdavStore.begin( Principal principal )", "testcase": false, "constructor": false}, {"identifier": "commit", "parameters": "( ITransaction transaction )", "modifiers": "@Override public", "return": "void", "signature": "void commit( ITransaction transaction )", "full_signature": "@Override public void commit( ITransaction transaction )", "class_method_signature": "ModeShapeWebdavStore.commit( ITransaction transaction )", "testcase": false, "constructor": false}, {"identifier": "rollback", "parameters": "( ITransaction transaction )", "modifiers": "@Override public", "return": "void", "signature": "void rollback( ITransaction transaction )", "full_signature": "@Override public void rollback( ITransaction transaction )", "class_method_signature": "ModeShapeWebdavStore.rollback( ITransaction transaction )", "testcase": false, "constructor": false}, {"identifier": "checkAuthentication", "parameters": "( ITransaction transaction )", "modifiers": "@Override public", "return": "void", "signature": "void checkAuthentication( ITransaction transaction )", "full_signature": "@Override public void checkAuthentication( ITransaction transaction )", "class_method_signature": "ModeShapeWebdavStore.checkAuthentication( ITransaction transaction )", "testcase": false, "constructor": false}, {"identifier": "destroy", "parameters": "()", "modifiers": "@Override public", "return": "void", "signature": "void destroy()", "full_signature": "@Override public void destroy()", "class_method_signature": "ModeShapeWebdavStore.destroy()", "testcase": false, "constructor": false}, {"identifier": "createFolder", "parameters": "( ITransaction transaction,\n                              String folderUri )", "modifiers": "@Override public", "return": "void", "signature": "void createFolder( ITransaction transaction,\n                              String folderUri )", "full_signature": "@Override public void createFolder( ITransaction transaction,\n                              String folderUri )", "class_method_signature": "ModeShapeWebdavStore.createFolder( ITransaction transaction,\n                              String folderUri )", "testcase": false, "constructor": false}, {"identifier": "createResource", "parameters": "( ITransaction transaction,\n                                String resourceUri )", "modifiers": "@Override public", "return": "void", "signature": "void createResource( ITransaction transaction,\n                                String resourceUri )", "full_signature": "@Override public void createResource( ITransaction transaction,\n                                String resourceUri )", "class_method_signature": "ModeShapeWebdavStore.createResource( ITransaction transaction,\n                                String resourceUri )", "testcase": false, "constructor": false}, {"identifier": "removeTrailingSlash", "parameters": "( String uri )", "modifiers": "private", "return": "String", "signature": "String removeTrailingSlash( String uri )", "full_signature": "private String removeTrailingSlash( String uri )", "class_method_signature": "ModeShapeWebdavStore.removeTrailingSlash( String uri )", "testcase": false, "constructor": false}, {"identifier": "getChildrenNames", "parameters": "( ITransaction transaction,\n                                      String folderUri )", "modifiers": "@Override public", "return": "String[]", "signature": "String[] getChildrenNames( ITransaction transaction,\n                                      String folderUri )", "full_signature": "@Override public String[] getChildrenNames( ITransaction transaction,\n                                      String folderUri )", "class_method_signature": "ModeShapeWebdavStore.getChildrenNames( ITransaction transaction,\n                                      String folderUri )", "testcase": false, "constructor": false}, {"identifier": "namesOfChildren", "parameters": "( Node node )", "modifiers": "protected static", "return": "List<String>", "signature": "List<String> namesOfChildren( Node node )", "full_signature": "protected static List<String> namesOfChildren( Node node )", "class_method_signature": "ModeShapeWebdavStore.namesOfChildren( Node node )", "testcase": false, "constructor": false}, {"identifier": "getResourceContent", "parameters": "( ITransaction transaction,\n                                           String resourceUri )", "modifiers": "@Override public", "return": "InputStream", "signature": "InputStream getResourceContent( ITransaction transaction,\n                                           String resourceUri )", "full_signature": "@Override public InputStream getResourceContent( ITransaction transaction,\n                                           String resourceUri )", "class_method_signature": "ModeShapeWebdavStore.getResourceContent( ITransaction transaction,\n                                           String resourceUri )", "testcase": false, "constructor": false}, {"identifier": "getResourceLength", "parameters": "( ITransaction transaction,\n                                   String resourceUri )", "modifiers": "@Override public", "return": "long", "signature": "long getResourceLength( ITransaction transaction,\n                                   String resourceUri )", "full_signature": "@Override public long getResourceLength( ITransaction transaction,\n                                   String resourceUri )", "class_method_signature": "ModeShapeWebdavStore.getResourceLength( ITransaction transaction,\n                                   String resourceUri )", "testcase": false, "constructor": false}, {"identifier": "getStoredObject", "parameters": "( ITransaction transaction,\n                                         String uri )", "modifiers": "@Override public", "return": "StoredObject", "signature": "StoredObject getStoredObject( ITransaction transaction,\n                                         String uri )", "full_signature": "@Override public StoredObject getStoredObject( ITransaction transaction,\n                                         String uri )", "class_method_signature": "ModeShapeWebdavStore.getStoredObject( ITransaction transaction,\n                                         String uri )", "testcase": false, "constructor": false}, {"identifier": "removeObject", "parameters": "( ITransaction transaction,\n                              String uri )", "modifiers": "@Override public", "return": "void", "signature": "void removeObject( ITransaction transaction,\n                              String uri )", "full_signature": "@Override public void removeObject( ITransaction transaction,\n                              String uri )", "class_method_signature": "ModeShapeWebdavStore.removeObject( ITransaction transaction,\n                              String uri )", "testcase": false, "constructor": false}, {"identifier": "resourceNameFromResourcePath", "parameters": "( String path )", "modifiers": "protected", "return": "String", "signature": "String resourceNameFromResourcePath( String path )", "full_signature": "protected String resourceNameFromResourcePath( String path )", "class_method_signature": "ModeShapeWebdavStore.resourceNameFromResourcePath( String path )", "testcase": false, "constructor": false}, {"identifier": "setResourceContent", "parameters": "( ITransaction transaction,\n                                    String resourceUri,\n                                    InputStream content,\n                                    String contentType,\n                                    String characterEncoding )", "modifiers": "@Override public", "return": "long", "signature": "long setResourceContent( ITransaction transaction,\n                                    String resourceUri,\n                                    InputStream content,\n                                    String contentType,\n                                    String characterEncoding )", "full_signature": "@Override public long setResourceContent( ITransaction transaction,\n                                    String resourceUri,\n                                    InputStream content,\n                                    String contentType,\n                                    String characterEncoding )", "class_method_signature": "ModeShapeWebdavStore.setResourceContent( ITransaction transaction,\n                                    String resourceUri,\n                                    InputStream content,\n                                    String contentType,\n                                    String characterEncoding )", "testcase": false, "constructor": false}, {"identifier": "shouldIgnoreResource", "parameters": "( String resourceUri )", "modifiers": "private", "return": "boolean", "signature": "boolean shouldIgnoreResource( String resourceUri )", "full_signature": "private boolean shouldIgnoreResource( String resourceUri )", "class_method_signature": "ModeShapeWebdavStore.shouldIgnoreResource( String resourceUri )", "testcase": false, "constructor": false}, {"identifier": "setCustomProperties", "parameters": "( ITransaction transaction,\n                                                    String resourceUri,\n                                                    Map<String, Object> propertiesToSet,\n                                                    List<String> propertiesToRemove )", "modifiers": "@Override public", "return": "Map<String, String>", "signature": "Map<String, String> setCustomProperties( ITransaction transaction,\n                                                    String resourceUri,\n                                                    Map<String, Object> propertiesToSet,\n                                                    List<String> propertiesToRemove )", "full_signature": "@Override public Map<String, String> setCustomProperties( ITransaction transaction,\n                                                    String resourceUri,\n                                                    Map<String, Object> propertiesToSet,\n                                                    List<String> propertiesToRemove )", "class_method_signature": "ModeShapeWebdavStore.setCustomProperties( ITransaction transaction,\n                                                    String resourceUri,\n                                                    Map<String, Object> propertiesToSet,\n                                                    List<String> propertiesToRemove )", "testcase": false, "constructor": false}, {"identifier": "jcrPropertyName", "parameters": "( ITransaction transaction,\n                                    ResolvedRequest resolvedRequest,\n                                    String webdavPropertyName )", "modifiers": "private", "return": "String", "signature": "String jcrPropertyName( ITransaction transaction,\n                                    ResolvedRequest resolvedRequest,\n                                    String webdavPropertyName )", "full_signature": "private String jcrPropertyName( ITransaction transaction,\n                                    ResolvedRequest resolvedRequest,\n                                    String webdavPropertyName )", "class_method_signature": "ModeShapeWebdavStore.jcrPropertyName( ITransaction transaction,\n                                    ResolvedRequest resolvedRequest,\n                                    String webdavPropertyName )", "testcase": false, "constructor": false}, {"identifier": "getCustomProperties", "parameters": "( ITransaction transaction,\n                                                    String resourceUri )", "modifiers": "@Override public", "return": "Map<String, Object>", "signature": "Map<String, Object> getCustomProperties( ITransaction transaction,\n                                                    String resourceUri )", "full_signature": "@Override public Map<String, Object> getCustomProperties( ITransaction transaction,\n                                                    String resourceUri )", "class_method_signature": "ModeShapeWebdavStore.getCustomProperties( ITransaction transaction,\n                                                    String resourceUri )", "testcase": false, "constructor": false}, {"identifier": "getCustomNamespaces", "parameters": "( ITransaction transaction,\n                                                    String resourceUri )", "modifiers": "@Override public", "return": "Map<String, String>", "signature": "Map<String, String> getCustomNamespaces( ITransaction transaction,\n                                                    String resourceUri )", "full_signature": "@Override public Map<String, String> getCustomNamespaces( ITransaction transaction,\n                                                    String resourceUri )", "class_method_signature": "ModeShapeWebdavStore.getCustomNamespaces( ITransaction transaction,\n                                                    String resourceUri )", "testcase": false, "constructor": false}, {"identifier": "isFile", "parameters": "( Node node )", "modifiers": "private", "return": "boolean", "signature": "boolean isFile( Node node )", "full_signature": "private boolean isFile( Node node )", "class_method_signature": "ModeShapeWebdavStore.isFile( Node node )", "testcase": false, "constructor": false}, {"identifier": "isFolder", "parameters": "( Node node )", "modifiers": "private", "return": "boolean", "signature": "boolean isFolder( Node node )", "full_signature": "private boolean isFolder( Node node )", "class_method_signature": "ModeShapeWebdavStore.isFolder( Node node )", "testcase": false, "constructor": false}, {"identifier": "resolveRequest", "parameters": "( String uri )", "modifiers": "private", "return": "ResolvedRequest", "signature": "ResolvedRequest resolveRequest( String uri )", "full_signature": "private ResolvedRequest resolveRequest( String uri )", "class_method_signature": "ModeShapeWebdavStore.resolveRequest( String uri )", "testcase": false, "constructor": false}, {"identifier": "nodeFor", "parameters": "( ITransaction transaction,\n                          ResolvedRequest request )", "modifiers": "private", "return": "Node", "signature": "Node nodeFor( ITransaction transaction,\n                          ResolvedRequest request )", "full_signature": "private Node nodeFor( ITransaction transaction,\n                          ResolvedRequest request )", "class_method_signature": "ModeShapeWebdavStore.nodeFor( ITransaction transaction,\n                          ResolvedRequest request )", "testcase": false, "constructor": false}, {"identifier": "repositoryAndWorkspaceExist", "parameters": "( ITransaction transaction,\n                                                 ResolvedRequest request )", "modifiers": "private", "return": "boolean", "signature": "boolean repositoryAndWorkspaceExist( ITransaction transaction,\n                                                 ResolvedRequest request )", "full_signature": "private boolean repositoryAndWorkspaceExist( ITransaction transaction,\n                                                 ResolvedRequest request )", "class_method_signature": "ModeShapeWebdavStore.repositoryAndWorkspaceExist( ITransaction transaction,\n                                                 ResolvedRequest request )", "testcase": false, "constructor": false}, {"identifier": "childrenFor", "parameters": "( ITransaction transaction,\n                                  ResolvedRequest request )", "modifiers": "private", "return": "String[]", "signature": "String[] childrenFor( ITransaction transaction,\n                                  ResolvedRequest request )", "full_signature": "private String[] childrenFor( ITransaction transaction,\n                                  ResolvedRequest request )", "class_method_signature": "ModeShapeWebdavStore.childrenFor( ITransaction transaction,\n                                  ResolvedRequest request )", "testcase": false, "constructor": false}, {"identifier": "markForRollback", "parameters": "( ITransaction transaction,\n                                  ResolvedRequest request )", "modifiers": "private", "return": "void", "signature": "void markForRollback( ITransaction transaction,\n                                  ResolvedRequest request )", "full_signature": "private void markForRollback( ITransaction transaction,\n                                  ResolvedRequest request )", "class_method_signature": "ModeShapeWebdavStore.markForRollback( ITransaction transaction,\n                                  ResolvedRequest request )", "testcase": false, "constructor": false}, {"identifier": "sessionFor", "parameters": "( ITransaction transaction,\n                                ResolvedRequest request )", "modifiers": "private", "return": "Session", "signature": "Session sessionFor( ITransaction transaction,\n                                ResolvedRequest request )", "full_signature": "private Session sessionFor( ITransaction transaction,\n                                ResolvedRequest request )", "class_method_signature": "ModeShapeWebdavStore.sessionFor( ITransaction transaction,\n                                ResolvedRequest request )", "testcase": false, "constructor": false}, {"identifier": "logger", "parameters": "()", "modifiers": "protected final", "return": "Logger", "signature": "Logger logger()", "full_signature": "protected final Logger logger()", "class_method_signature": "ModeShapeWebdavStore.logger()", "testcase": false, "constructor": false}, {"identifier": "translate", "parameters": "( RepositoryException exception )", "modifiers": "protected", "return": "WebdavException", "signature": "WebdavException translate( RepositoryException exception )", "full_signature": "protected WebdavException translate( RepositoryException exception )", "class_method_signature": "ModeShapeWebdavStore.translate( RepositoryException exception )", "testcase": false, "constructor": false}], "file": "web/modeshape-web-jcr-webdav/src/main/java/org/modeshape/web/jcr/webdav/ModeShapeWebdavStore.java"}, "focal_method": {"identifier": "commit", "parameters": "( ITransaction transaction )", "modifiers": "@Override public", "return": "void", "body": "@Override\n    public void commit( ITransaction transaction ) {\n        CheckArg.isNotNull(transaction, \"transaction\");\n\n        assert transaction instanceof JcrSessionTransaction;\n        ((JcrSessionTransaction)transaction).commit();\n    }", "signature": "void commit( ITransaction transaction )", "full_signature": "@Override public void commit( ITransaction transaction )", "class_method_signature": "ModeShapeWebdavStore.commit( ITransaction transaction )", "testcase": false, "constructor": false, "invocations": ["isNotNull", "commit"]}, "repository": {"repo_id": 1244027, "url": "https://github.com/ModeShape/modeshape", "language": "Java", "is_fork": false, "fork_count": 213, "stargazer_count": 208, "size": 134266, "license": "licensed"}}