{"test_class": {"identifier": "DataDirectoryLocatorTest", "superclass": "", "interfaces": "", "fields": [], "file": "services/src/test/java/com/greensopinion/finance/services/persistence/DataDirectoryLocatorTest.java"}, "test_case": {"identifier": "getDataDirectory", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n\tpublic void getDataDirectory() {\n\t\tFile file = new DataDirectoryLocator().locate();\n\t\tif (isMac()) {\n\t\t\tassertEquals(System.getProperty(\"user.home\") + \"/Library/Application Support/GreensOpinionFinance\",\n\t\t\t\t\tfile.getPath());\n\t\t} else if (isWindows()) {\n\t\t\tassertEquals(System.getProperty(\"user.home\") + \"\\\\AppData\\\\Roaming\\\\GreensOpinionFinance\", file.getPath());\n\t\t} else {\n\t\t\tfail(\"Unsupported os: \" + System.getProperty(\"os.name\"));\n\t\t}\n\t\tassertTrue(file.getParentFile().exists());\n\t\tassertTrue(file.getParentFile().isDirectory());\n\t}", "signature": "void getDataDirectory()", "full_signature": "@Test public void getDataDirectory()", "class_method_signature": "DataDirectoryLocatorTest.getDataDirectory()", "testcase": true, "constructor": false, "invocations": ["locate", "isMac", "assertEquals", "getProperty", "getPath", "isWindows", "assertEquals", "getProperty", "getPath", "fail", "getProperty", "assertTrue", "exists", "getParentFile", "assertTrue", "isDirectory", "getParentFile"]}, "focal_class": {"identifier": "DataDirectoryLocator", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String APP_DIR = \"GreensOpinionFinance\";", "modifier": "private static final", "type": "String", "declarator": "APP_DIR = \"GreensOpinionFinance\"", "var_name": "APP_DIR"}], "methods": [{"identifier": "locate", "parameters": "()", "modifiers": "public", "return": "File", "signature": "File locate()", "full_signature": "public File locate()", "class_method_signature": "DataDirectoryLocator.locate()", "testcase": false, "constructor": false}], "file": "services/src/main/java/com/greensopinion/finance/services/persistence/DataDirectoryLocator.java"}, "focal_method": {"identifier": "locate", "parameters": "()", "modifiers": "public", "return": "File", "body": "public File locate() {\n\t\tString os = System.getProperty(\"os.name\").toLowerCase(Locale.ENGLISH);\n\t\tString path;\n\t\tif (os.contains(\"mac\")) {\n\t\t\tpath = System.getProperty(\"user.home\") + \"/Library/Application Support/\" + APP_DIR;\n\t\t} else if (os.contains(\"windows\")) {\n\t\t\tString appData = System.getenv(\"APPDATA\");\n\t\t\tif (Strings.isNullOrEmpty(appData)) {\n\t\t\t\tappData = System.getProperty(\"user.home\") + \"AppData\\\\Roaming\";\n\t\t\t}\n\t\t\tpath = appData + \"\\\\\" + APP_DIR;\n\t\t} else {\n\t\t\tthrow new IllegalStateException(os);\n\t\t}\n\t\tif (Demo.isEnabled()) {\n\t\t\tpath += \"-demo\";\n\t\t}\n\t\treturn new File(path);\n\t}", "signature": "File locate()", "full_signature": "public File locate()", "class_method_signature": "DataDirectoryLocator.locate()", "testcase": false, "constructor": false, "invocations": ["toLowerCase", "getProperty", "contains", "getProperty", "contains", "getenv", "isNullOrEmpty", "getProperty", "isEnabled"]}, "repository": {"repo_id": 54854741, "url": "https://github.com/greensopinion/greenbeans", "language": "Java", "is_fork": false, "fork_count": 13, "stargazer_count": 30, "size": 1684, "license": "licensed"}}