{"test_class": {"identifier": "ActivitiRuntimeHelperTest", "superclass": "extends AbstractServiceTest", "interfaces": "", "fields": [{"original_string": "@InjectMocks\n    private ActivitiRuntimeHelper activitiRuntimeHelper;", "modifier": "@InjectMocks\n    private", "type": "ActivitiRuntimeHelper", "declarator": "activitiRuntimeHelper", "var_name": "activitiRuntimeHelper"}, {"original_string": "@Mock\n    private RuntimeService runtimeService;", "modifier": "@Mock\n    private", "type": "RuntimeService", "declarator": "runtimeService", "var_name": "runtimeService"}], "file": "herd-code/herd-service/src/test/java/org/finra/herd/service/activiti/ActivitiRuntimeHelperTest.java"}, "test_case": {"identifier": "testSignal", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testSignal()\n    {\n        // Create variables required for testing.\n        final String processInstanceId = ACTIVITI_ID;\n        final String signalTaskId = ACTIVITI_ID_2;\n        final String executionId = ACTIVITI_ID_3;\n\n        // Mock dependencies.\n        ExecutionQuery executionQuery = mock(ExecutionQuery.class);\n        Execution execution = mock(Execution.class);\n        when(runtimeService.createExecutionQuery()).thenReturn(executionQuery);\n        when(executionQuery.processInstanceId(processInstanceId)).thenReturn(executionQuery);\n        when(executionQuery.activityId(signalTaskId)).thenReturn(executionQuery);\n        when(executionQuery.singleResult()).thenReturn(execution);\n        when(execution.getId()).thenReturn(executionId);\n\n        // Call the method under test.\n        activitiRuntimeHelper.signal(processInstanceId, signalTaskId);\n\n        // Verify the calls.\n        verify(runtimeService).createExecutionQuery();\n        verify(executionQuery).processInstanceId(processInstanceId);\n        verify(executionQuery).activityId(signalTaskId);\n        verify(executionQuery).singleResult();\n        verify(execution).getId();\n        verify(runtimeService).signal(executionId);\n        verifyNoMoreInteractions(executionQuery, execution, runtimeService);\n    }", "signature": "void testSignal()", "full_signature": "@Test public void testSignal()", "class_method_signature": "ActivitiRuntimeHelperTest.testSignal()", "testcase": true, "constructor": false, "invocations": ["mock", "mock", "thenReturn", "when", "createExecutionQuery", "thenReturn", "when", "processInstanceId", "thenReturn", "when", "activityId", "thenReturn", "when", "singleResult", "thenReturn", "when", "getId", "signal", "createExecutionQuery", "verify", "processInstanceId", "verify", "activityId", "verify", "singleResult", "verify", "getId", "verify", "signal", "verify", "verifyNoMoreInteractions"]}, "focal_class": {"identifier": "ActivitiRuntimeHelper", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger LOGGER = LoggerFactory.getLogger(ActivitiRuntimeHelper.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOGGER = LoggerFactory.getLogger(ActivitiRuntimeHelper.class)", "var_name": "LOGGER"}, {"original_string": "public static final String VARIABLE_STATUS = \"taskStatus\";", "modifier": "public static final", "type": "String", "declarator": "VARIABLE_STATUS = \"taskStatus\"", "var_name": "VARIABLE_STATUS"}, {"original_string": "public static final String VARIABLE_ERROR_MESSAGE = \"taskErrorMessage\";", "modifier": "public static final", "type": "String", "declarator": "VARIABLE_ERROR_MESSAGE = \"taskErrorMessage\"", "var_name": "VARIABLE_ERROR_MESSAGE"}, {"original_string": "public static final String TASK_STATUS_SUCCESS = \"SUCCESS\";", "modifier": "public static final", "type": "String", "declarator": "TASK_STATUS_SUCCESS = \"SUCCESS\"", "var_name": "TASK_STATUS_SUCCESS"}, {"original_string": "public static final String TASK_STATUS_ERROR = \"ERROR\";", "modifier": "public static final", "type": "String", "declarator": "TASK_STATUS_ERROR = \"ERROR\"", "var_name": "TASK_STATUS_ERROR"}, {"original_string": "public static final String TASK_VARIABLE_MARKER = \"_\";", "modifier": "public static final", "type": "String", "declarator": "TASK_VARIABLE_MARKER = \"_\"", "var_name": "TASK_VARIABLE_MARKER"}, {"original_string": "@Autowired\n    private RuntimeService runtimeService;", "modifier": "@Autowired\n    private", "type": "RuntimeService", "declarator": "runtimeService", "var_name": "runtimeService"}], "methods": [{"identifier": "signal", "parameters": "(String processInstanceId, String signalTaskId)", "modifiers": "public", "return": "void", "signature": "void signal(String processInstanceId, String signalTaskId)", "full_signature": "public void signal(String processInstanceId, String signalTaskId)", "class_method_signature": "ActivitiRuntimeHelper.signal(String processInstanceId, String signalTaskId)", "testcase": false, "constructor": false}, {"identifier": "setTaskWorkflowVariable", "parameters": "(String executionId, String activitiId, String variableName, Object variableValue)", "modifiers": "public", "return": "void", "signature": "void setTaskWorkflowVariable(String executionId, String activitiId, String variableName, Object variableValue)", "full_signature": "public void setTaskWorkflowVariable(String executionId, String activitiId, String variableName, Object variableValue)", "class_method_signature": "ActivitiRuntimeHelper.setTaskWorkflowVariable(String executionId, String activitiId, String variableName, Object variableValue)", "testcase": false, "constructor": false}, {"identifier": "setTaskWorkflowVariable", "parameters": "(DelegateExecution execution, String variableName, Object variableValue)", "modifiers": "public", "return": "void", "signature": "void setTaskWorkflowVariable(DelegateExecution execution, String variableName, Object variableValue)", "full_signature": "public void setTaskWorkflowVariable(DelegateExecution execution, String variableName, Object variableValue)", "class_method_signature": "ActivitiRuntimeHelper.setTaskWorkflowVariable(DelegateExecution execution, String variableName, Object variableValue)", "testcase": false, "constructor": false}, {"identifier": "setTaskSuccessInWorkflow", "parameters": "(DelegateExecution execution)", "modifiers": "public", "return": "void", "signature": "void setTaskSuccessInWorkflow(DelegateExecution execution)", "full_signature": "public void setTaskSuccessInWorkflow(DelegateExecution execution)", "class_method_signature": "ActivitiRuntimeHelper.setTaskSuccessInWorkflow(DelegateExecution execution)", "testcase": false, "constructor": false}, {"identifier": "setTaskErrorInWorkflow", "parameters": "(DelegateExecution execution, String errorMessage, Exception exception)", "modifiers": "public", "return": "void", "signature": "void setTaskErrorInWorkflow(DelegateExecution execution, String errorMessage, Exception exception)", "full_signature": "public void setTaskErrorInWorkflow(DelegateExecution execution, String errorMessage, Exception exception)", "class_method_signature": "ActivitiRuntimeHelper.setTaskErrorInWorkflow(DelegateExecution execution, String errorMessage, Exception exception)", "testcase": false, "constructor": false}, {"identifier": "buildTaskWorkflowVariableName", "parameters": "(String activitiId, String variableName)", "modifiers": "public", "return": "String", "signature": "String buildTaskWorkflowVariableName(String activitiId, String variableName)", "full_signature": "public String buildTaskWorkflowVariableName(String activitiId, String variableName)", "class_method_signature": "ActivitiRuntimeHelper.buildTaskWorkflowVariableName(String activitiId, String variableName)", "testcase": false, "constructor": false}], "file": "herd-code/herd-service/src/main/java/org/finra/herd/service/activiti/ActivitiRuntimeHelper.java"}, "focal_method": {"identifier": "signal", "parameters": "(String processInstanceId, String signalTaskId)", "modifiers": "public", "return": "void", "body": "public void signal(String processInstanceId, String signalTaskId)\n    {\n        ExecutionQuery signalTaskQuery = runtimeService.createExecutionQuery().processInstanceId(processInstanceId).activityId(signalTaskId);\n        Execution execution = signalTaskQuery.singleResult();\n        runtimeService.signal(execution.getId());\n    }", "signature": "void signal(String processInstanceId, String signalTaskId)", "full_signature": "public void signal(String processInstanceId, String signalTaskId)", "class_method_signature": "ActivitiRuntimeHelper.signal(String processInstanceId, String signalTaskId)", "testcase": false, "constructor": false, "invocations": ["activityId", "processInstanceId", "createExecutionQuery", "singleResult", "signal", "getId"]}, "repository": {"repo_id": 42949039, "url": "https://github.com/FINRAOS/herd", "language": "Java", "is_fork": false, "fork_count": 36, "stargazer_count": 120, "size": 205797, "license": "licensed"}}