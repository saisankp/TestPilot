{"test_class": {"identifier": "ApplicationResourceTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static IApplicationService applicationService = mock(IApplicationService.class);", "modifier": "private static", "type": "IApplicationService", "declarator": "applicationService = mock(IApplicationService.class)", "var_name": "applicationService"}, {"original_string": "private static IComputationService computationService = mock(IComputationService.class);", "modifier": "private static", "type": "IComputationService", "declarator": "computationService = mock(IComputationService.class)", "var_name": "computationService"}, {"original_string": "private static ExecutorConfig executorConfig = mock(ExecutorConfig.class);", "modifier": "private static", "type": "ExecutorConfig", "declarator": "executorConfig = mock(ExecutorConfig.class)", "var_name": "executorConfig"}, {"original_string": "private static String tenant = \"tenant\";", "modifier": "private static", "type": "String", "declarator": "tenant = \"tenant\"", "var_name": "tenant"}, {"original_string": "private static String computationName = \"test-computation\";", "modifier": "private static", "type": "String", "declarator": "computationName = \"test-computation\"", "var_name": "computationName"}, {"original_string": "private static ApplicationDomain application;", "modifier": "private static", "type": "ApplicationDomain", "declarator": "application", "var_name": "application"}, {"original_string": "private static ComputationDomain computation;", "modifier": "private static", "type": "ComputationDomain", "declarator": "computation", "var_name": "computation"}, {"original_string": "private static RuntimeOptions runtimeOptions;", "modifier": "private static", "type": "RuntimeOptions", "declarator": "runtimeOptions", "var_name": "runtimeOptions"}, {"original_string": "private static ApplicationResource resource;", "modifier": "private static", "type": "ApplicationResource", "declarator": "resource", "var_name": "resource"}], "file": "fabric-manager/src/test/java/com/olacabs/fabric/manager/resource/ApplicationResourceTest.java"}, "test_case": {"identifier": "testRestartApp", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void testRestartApp() {\n        doNothing().when(applicationService).restart(anyString(), anyString(), anyBoolean());\n\n        final Response response = resource.restart(application.getTenant(), computationName, true);\n        Assert.assertEquals(response.getStatus(), 204);\n    }", "signature": "void testRestartApp()", "full_signature": "@Test public void testRestartApp()", "class_method_signature": "ApplicationResourceTest.testRestartApp()", "testcase": true, "constructor": false, "invocations": ["restart", "when", "doNothing", "anyString", "anyString", "anyBoolean", "restart", "getTenant", "assertEquals", "getStatus"]}, "focal_class": {"identifier": "ApplicationResource", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final IApplicationService applicationService;", "modifier": "private final", "type": "IApplicationService", "declarator": "applicationService", "var_name": "applicationService"}, {"original_string": "private final IComputationService computationService;", "modifier": "private final", "type": "IComputationService", "declarator": "computationService", "var_name": "computationService"}, {"original_string": "private final ExecutorConfig executorConfig;", "modifier": "private final", "type": "ExecutorConfig", "declarator": "executorConfig", "var_name": "executorConfig"}], "methods": [{"identifier": "create", "parameters": "(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                           @QueryParam(\"version\") final Integer computationVersion,\n                           @NotNull final RuntimeOptions runtimeOptions)", "modifiers": "@POST @UserRequired @Consumes(MediaType.APPLICATION_JSON) @Timed @UnitOfWork @Path(\"{tenant}/{name}\") @ApiOperation(value = \"Creates and deploys an application for a computation given tenant and name\", response = ApplicationDomain.class) public", "return": "Response", "signature": "Response create(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                           @QueryParam(\"version\") final Integer computationVersion,\n                           @NotNull final RuntimeOptions runtimeOptions)", "full_signature": "@POST @UserRequired @Consumes(MediaType.APPLICATION_JSON) @Timed @UnitOfWork @Path(\"{tenant}/{name}\") @ApiOperation(value = \"Creates and deploys an application for a computation given tenant and name\", response = ApplicationDomain.class) public Response create(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                           @QueryParam(\"version\") final Integer computationVersion,\n                           @NotNull final RuntimeOptions runtimeOptions)", "class_method_signature": "ApplicationResource.create(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                           @QueryParam(\"version\") final Integer computationVersion,\n                           @NotNull final RuntimeOptions runtimeOptions)", "testcase": false, "constructor": false}, {"identifier": "get", "parameters": "(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName)", "modifiers": "@GET @Consumes(MediaType.APPLICATION_JSON) @Timed @UnitOfWork(transactional = false) @Path(\"{tenant}/{name}\") @ApiOperation(value = \"Get application(only metadata from db)\", response = ApplicationDomain.class) public", "return": "Response", "signature": "Response get(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName)", "full_signature": "@GET @Consumes(MediaType.APPLICATION_JSON) @Timed @UnitOfWork(transactional = false) @Path(\"{tenant}/{name}\") @ApiOperation(value = \"Get application(only metadata from db)\", response = ApplicationDomain.class) public Response get(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName)", "class_method_signature": "ApplicationResource.get(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName)", "testcase": false, "constructor": false}, {"identifier": "getFromMarathon", "parameters": "(@PathParam(\"tenant\") final String tenant,\n                                    @PathParam(\"name\") final String computationName)", "modifiers": "@GET @Consumes(MediaType.APPLICATION_JSON) @Timed @UnitOfWork(transactional = false) @Path(\"{tenant}/{name}/marathon\") @ApiOperation(value = \"Get application details from marathon\", response = Map.class) public", "return": "Response", "signature": "Response getFromMarathon(@PathParam(\"tenant\") final String tenant,\n                                    @PathParam(\"name\") final String computationName)", "full_signature": "@GET @Consumes(MediaType.APPLICATION_JSON) @Timed @UnitOfWork(transactional = false) @Path(\"{tenant}/{name}/marathon\") @ApiOperation(value = \"Get application details from marathon\", response = Map.class) public Response getFromMarathon(@PathParam(\"tenant\") final String tenant,\n                                    @PathParam(\"name\") final String computationName)", "class_method_signature": "ApplicationResource.getFromMarathon(@PathParam(\"tenant\") final String tenant,\n                                    @PathParam(\"name\") final String computationName)", "testcase": false, "constructor": false}, {"identifier": "delete", "parameters": "(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName)", "modifiers": "@DELETE @Consumes(MediaType.APPLICATION_JSON) @Timed @UserRequired @UnitOfWork @Path(\"{tenant}/{name}\") @ApiOperation(value = \"Delete application details from marathon and soft deletes the meta\") public", "return": "Response", "signature": "Response delete(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName)", "full_signature": "@DELETE @Consumes(MediaType.APPLICATION_JSON) @Timed @UserRequired @UnitOfWork @Path(\"{tenant}/{name}\") @ApiOperation(value = \"Delete application details from marathon and soft deletes the meta\") public Response delete(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName)", "class_method_signature": "ApplicationResource.delete(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName)", "testcase": false, "constructor": false}, {"identifier": "scale", "parameters": "(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                          @NotNull final Map<String, Integer> request)", "modifiers": "@PUT @Consumes(MediaType.APPLICATION_JSON) @Timed @UserRequired @UnitOfWork @Path(\"{tenant}/{name}/scale\") @ApiOperation(value = \"Scales application on marathon\") public", "return": "Response", "signature": "Response scale(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                          @NotNull final Map<String, Integer> request)", "full_signature": "@PUT @Consumes(MediaType.APPLICATION_JSON) @Timed @UserRequired @UnitOfWork @Path(\"{tenant}/{name}/scale\") @ApiOperation(value = \"Scales application on marathon\") public Response scale(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                          @NotNull final Map<String, Integer> request)", "class_method_signature": "ApplicationResource.scale(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                          @NotNull final Map<String, Integer> request)", "testcase": false, "constructor": false}, {"identifier": "suspend", "parameters": "(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName)", "modifiers": "@PUT @Consumes(MediaType.APPLICATION_JSON) @Timed @UserRequired @UnitOfWork @Path(\"{tenant}/{name}/suspend\") @ApiOperation(value = \"Suspends application on marathon\") public", "return": "Response", "signature": "Response suspend(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName)", "full_signature": "@PUT @Consumes(MediaType.APPLICATION_JSON) @Timed @UserRequired @UnitOfWork @Path(\"{tenant}/{name}/suspend\") @ApiOperation(value = \"Suspends application on marathon\") public Response suspend(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName)", "class_method_signature": "ApplicationResource.suspend(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName)", "testcase": false, "constructor": false}, {"identifier": "restart", "parameters": "(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                            @QueryParam(\"forcefully\") @DefaultValue(\"false\") final boolean forcefully)", "modifiers": "@PUT @Consumes(MediaType.APPLICATION_JSON) @Timed @UnitOfWork @UserRequired @Path(\"{tenant}/{name}/restart\") @ApiOperation(value = \"Restart application on marathon\") public", "return": "Response", "signature": "Response restart(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                            @QueryParam(\"forcefully\") @DefaultValue(\"false\") final boolean forcefully)", "full_signature": "@PUT @Consumes(MediaType.APPLICATION_JSON) @Timed @UnitOfWork @UserRequired @Path(\"{tenant}/{name}/restart\") @ApiOperation(value = \"Restart application on marathon\") public Response restart(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                            @QueryParam(\"forcefully\") @DefaultValue(\"false\") final boolean forcefully)", "class_method_signature": "ApplicationResource.restart(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                            @QueryParam(\"forcefully\") @DefaultValue(\"false\") final boolean forcefully)", "testcase": false, "constructor": false}, {"identifier": "search", "parameters": "(final String tenant, final String name, final Integer version)", "modifiers": "private", "return": "ComputationDomain", "signature": "ComputationDomain search(final String tenant, final String name, final Integer version)", "full_signature": "private ComputationDomain search(final String tenant, final String name, final Integer version)", "class_method_signature": "ApplicationResource.search(final String tenant, final String name, final Integer version)", "testcase": false, "constructor": false}, {"identifier": "create", "parameters": "(final RuntimeOptions runtimeOptions, final ExecutorConfig execConf,\n                                     final ComputationDomain computation)", "modifiers": "private", "return": "ApplicationDomain", "signature": "ApplicationDomain create(final RuntimeOptions runtimeOptions, final ExecutorConfig execConf,\n                                     final ComputationDomain computation)", "full_signature": "private ApplicationDomain create(final RuntimeOptions runtimeOptions, final ExecutorConfig execConf,\n                                     final ComputationDomain computation)", "class_method_signature": "ApplicationResource.create(final RuntimeOptions runtimeOptions, final ExecutorConfig execConf,\n                                     final ComputationDomain computation)", "testcase": false, "constructor": false}], "file": "fabric-manager/src/main/java/com/olacabs/fabric/manager/resource/ApplicationResource.java"}, "focal_method": {"identifier": "restart", "parameters": "(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                            @QueryParam(\"forcefully\") @DefaultValue(\"false\") final boolean forcefully)", "modifiers": "@PUT @Consumes(MediaType.APPLICATION_JSON) @Timed @UnitOfWork @UserRequired @Path(\"{tenant}/{name}/restart\") @ApiOperation(value = \"Restart application on marathon\") public", "return": "Response", "body": "@PUT\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Timed\n    @UnitOfWork\n    @UserRequired\n    @Path(\"{tenant}/{name}/restart\")\n    @ApiOperation(value = \"Restart application on marathon\")\n    public Response restart(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                            @QueryParam(\"forcefully\") @DefaultValue(\"false\") final boolean forcefully) {\n        final String appName = applicationService.name(tenant, computationName);\n        applicationService.restart(appName, tenant, forcefully);\n        return Response.noContent().build();\n    }", "signature": "Response restart(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                            @QueryParam(\"forcefully\") @DefaultValue(\"false\") final boolean forcefully)", "full_signature": "@PUT @Consumes(MediaType.APPLICATION_JSON) @Timed @UnitOfWork @UserRequired @Path(\"{tenant}/{name}/restart\") @ApiOperation(value = \"Restart application on marathon\") public Response restart(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                            @QueryParam(\"forcefully\") @DefaultValue(\"false\") final boolean forcefully)", "class_method_signature": "ApplicationResource.restart(@PathParam(\"tenant\") final String tenant, @PathParam(\"name\") final String computationName,\n                            @QueryParam(\"forcefully\") @DefaultValue(\"false\") final boolean forcefully)", "testcase": false, "constructor": false, "invocations": ["name", "restart", "build", "noContent"]}, "repository": {"repo_id": 71972621, "url": "https://github.com/olacabs/fabric", "language": "Java", "is_fork": false, "fork_count": 36, "stargazer_count": 43, "size": 234, "license": "licensed"}}