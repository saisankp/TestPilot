{"test_class": {"identifier": "OperationConfigurationTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final String HOST = \"host\";", "modifier": "private static final", "type": "String", "declarator": "HOST = \"host\"", "var_name": "HOST"}, {"original_string": "private static final Integer PORT = 1;", "modifier": "private static final", "type": "Integer", "declarator": "PORT = 1", "var_name": "PORT"}, {"original_string": "private static final String OPERATION_MODE_STATUS_URL = \"http://host:1/config/public/switch/status\";", "modifier": "private static final", "type": "String", "declarator": "OPERATION_MODE_STATUS_URL = \"http://host:1/config/public/switch/status\"", "var_name": "OPERATION_MODE_STATUS_URL"}, {"original_string": "private static final String OPERATION_MODE_SETTER_URL_WILMA = \"http://host:1/config/admin/switch/wilma\";", "modifier": "private static final", "type": "String", "declarator": "OPERATION_MODE_SETTER_URL_WILMA = \"http://host:1/config/admin/switch/wilma\"", "var_name": "OPERATION_MODE_SETTER_URL_WILMA"}, {"original_string": "private static final String OPERATION_MODE_SETTER_URL_STUB = \"http://host:1/config/admin/switch/stub\";", "modifier": "private static final", "type": "String", "declarator": "OPERATION_MODE_SETTER_URL_STUB = \"http://host:1/config/admin/switch/stub\"", "var_name": "OPERATION_MODE_SETTER_URL_STUB"}, {"original_string": "private static final String OPERATION_MODE_SETTER_URL_PROXY = \"http://host:1/config/admin/switch/proxy\";", "modifier": "private static final", "type": "String", "declarator": "OPERATION_MODE_SETTER_URL_PROXY = \"http://host:1/config/admin/switch/proxy\"", "var_name": "OPERATION_MODE_SETTER_URL_PROXY"}, {"original_string": "private static final String JSON_STRING_WILMA_MODE = \"{\\\"proxyMode\\\":false,\\\"stubMode\\\":false,\\\"wilmaMode\\\":true}\";", "modifier": "private static final", "type": "String", "declarator": "JSON_STRING_WILMA_MODE = \"{\\\"proxyMode\\\":false,\\\"stubMode\\\":false,\\\"wilmaMode\\\":true}\"", "var_name": "JSON_STRING_WILMA_MODE"}, {"original_string": "private static final String JSON_STRING_STUB_MODE = \"{\\\"proxyMode\\\":false,\\\"stubMode\\\":true,\\\"wilmaMode\\\":false}\";", "modifier": "private static final", "type": "String", "declarator": "JSON_STRING_STUB_MODE = \"{\\\"proxyMode\\\":false,\\\"stubMode\\\":true,\\\"wilmaMode\\\":false}\"", "var_name": "JSON_STRING_STUB_MODE"}, {"original_string": "private static final String JSON_STRING_PROXY_MODE = \"{\\\"proxyMode\\\":true,\\\"stubMode\\\":false,\\\"wilmaMode\\\":false}\";", "modifier": "private static final", "type": "String", "declarator": "JSON_STRING_PROXY_MODE = \"{\\\"proxyMode\\\":true,\\\"stubMode\\\":false,\\\"wilmaMode\\\":false}\"", "var_name": "JSON_STRING_PROXY_MODE"}, {"original_string": "@Mock\n    private WilmaHttpClient client;", "modifier": "@Mock\n    private", "type": "WilmaHttpClient", "declarator": "client", "var_name": "client"}, {"original_string": "private OperationConfiguration operationConfiguration;", "modifier": "private", "type": "OperationConfiguration", "declarator": "operationConfiguration", "var_name": "operationConfiguration"}], "file": "wilma-service-api/src/test/java/com/epam/wilma/service/configuration/OperationConfigurationTest.java"}, "test_case": {"identifier": "shouldReturnNullIfClientReturnsOptionalAbsent", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void shouldReturnNullIfClientReturnsOptionalAbsent() {\n        when(client.sendGetterRequest(OPERATION_MODE_STATUS_URL)).thenReturn(Optional.<String>absent());\n\n        OperationMode result = operationConfiguration.getOperationMode();\n\n        assertNull(result);\n        verify(client, never()).sendSetterRequest(anyString());\n    }", "signature": "void shouldReturnNullIfClientReturnsOptionalAbsent()", "full_signature": "@Test public void shouldReturnNullIfClientReturnsOptionalAbsent()", "class_method_signature": "OperationConfigurationTest.shouldReturnNullIfClientReturnsOptionalAbsent()", "testcase": true, "constructor": false, "invocations": ["thenReturn", "when", "sendGetterRequest", "absent", "getOperationMode", "assertNull", "sendSetterRequest", "verify", "never", "anyString"]}, "focal_class": {"identifier": "OperationConfiguration", "superclass": "extends AbstractConfiguration", "interfaces": "", "fields": [{"original_string": "private static final Logger LOG = LoggerFactory.getLogger(MessageLoggingConfiguration.class);", "modifier": "private static final", "type": "Logger", "declarator": "LOG = LoggerFactory.getLogger(MessageLoggingConfiguration.class)", "var_name": "LOG"}, {"original_string": "private static final String STATUS_GETTER_URL_POSTFIX = \"config/public/switch/status\";", "modifier": "private static final", "type": "String", "declarator": "STATUS_GETTER_URL_POSTFIX = \"config/public/switch/status\"", "var_name": "STATUS_GETTER_URL_POSTFIX"}, {"original_string": "private static final String STATUS_SETTER_URL_POSTFIX_FORMAT = \"config/admin/switch/%s\";", "modifier": "private static final", "type": "String", "declarator": "STATUS_SETTER_URL_POSTFIX_FORMAT = \"config/admin/switch/%s\"", "var_name": "STATUS_SETTER_URL_POSTFIX_FORMAT"}], "methods": [{"identifier": "OperationConfiguration", "parameters": "(WilmaServiceConfig config)", "modifiers": "public", "return": "", "signature": " OperationConfiguration(WilmaServiceConfig config)", "full_signature": "public  OperationConfiguration(WilmaServiceConfig config)", "class_method_signature": "OperationConfiguration.OperationConfiguration(WilmaServiceConfig config)", "testcase": false, "constructor": true}, {"identifier": "OperationConfiguration", "parameters": "(WilmaServiceConfig config, WilmaHttpClient client)", "modifiers": "public", "return": "", "signature": " OperationConfiguration(WilmaServiceConfig config, WilmaHttpClient client)", "full_signature": "public  OperationConfiguration(WilmaServiceConfig config, WilmaHttpClient client)", "class_method_signature": "OperationConfiguration.OperationConfiguration(WilmaServiceConfig config, WilmaHttpClient client)", "testcase": false, "constructor": true}, {"identifier": "getOperationMode", "parameters": "()", "modifiers": "public", "return": "OperationMode", "signature": "OperationMode getOperationMode()", "full_signature": "public OperationMode getOperationMode()", "class_method_signature": "OperationConfiguration.getOperationMode()", "testcase": false, "constructor": false}, {"identifier": "setOperationMode", "parameters": "(OperationMode mode)", "modifiers": "public", "return": "boolean", "signature": "boolean setOperationMode(OperationMode mode)", "full_signature": "public boolean setOperationMode(OperationMode mode)", "class_method_signature": "OperationConfiguration.setOperationMode(OperationMode mode)", "testcase": false, "constructor": false}], "file": "wilma-service-api/src/main/java/com/epam/wilma/service/configuration/OperationConfiguration.java"}, "focal_method": {"identifier": "getOperationMode", "parameters": "()", "modifiers": "public", "return": "OperationMode", "body": "public OperationMode getOperationMode() {\n        LOG.debug(\"Call operation status API.\");\n        OperationMode status = null;\n\n        JSONObject o = getterRequest(STATUS_GETTER_URL_POSTFIX);\n        if (o != null) {\n            Boolean proxyMode = (Boolean) o.get(\"proxyMode\");\n            Boolean stubMode = (Boolean) o.get(\"stubMode\");\n            Boolean wilmaMode = (Boolean) o.get(\"wilmaMode\");\n\n            if (proxyMode) {\n                status = OperationMode.PROXY;\n            }\n            if (stubMode) {\n                status = OperationMode.STUB;\n            }\n            if (wilmaMode) {\n                status = OperationMode.WILMA;\n            }\n        }\n        return status;\n    }", "signature": "OperationMode getOperationMode()", "full_signature": "public OperationMode getOperationMode()", "class_method_signature": "OperationConfiguration.getOperationMode()", "testcase": false, "constructor": false, "invocations": ["debug", "getterRequest", "get", "get", "get"]}, "repository": {"repo_id": 29603649, "url": "https://github.com/epam/Wilma", "language": "Java", "is_fork": false, "fork_count": 8, "stargazer_count": 35, "size": 5732, "license": "licensed"}}