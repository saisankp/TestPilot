{"test_class": {"identifier": "ReportGeneratorTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private FileSystemManager fileSystemManager;", "modifier": "private", "type": "FileSystemManager", "declarator": "fileSystemManager", "var_name": "fileSystemManager"}, {"original_string": "private ReportGenerator reportGenerator;", "modifier": "private", "type": "ReportGenerator", "declarator": "reportGenerator", "var_name": "reportGenerator"}], "file": "plugin-code/src/test/java/com/trivago/cluecumber/rendering/ReportGeneratorTest.java"}, "test_case": {"identifier": "fileOperationsTest", "parameters": "()", "modifiers": "@Test public", "return": "void", "body": "@Test\n    public void fileOperationsTest() throws Exception {\n        AllScenariosPageCollection allScenariosPageCollection = new AllScenariosPageCollection(\"\");\n\n        Report report1 = new Report();\n        List<Element> elements1 = new ArrayList<>();\n        Element element1 = new Element();\n        elements1.add(element1);\n        report1.setElements(elements1);\n\n        Report report2 = new Report();\n        List<Element> elements2 = new ArrayList<>();\n        Element element2 = new Element();\n        elements2.add(element2);\n        report2.setElements(elements2);\n\n        Report[] reportList = {report1, report2};\n        allScenariosPageCollection.addReports(reportList);\n\n        reportGenerator.generateReport(allScenariosPageCollection);\n\n        verify(fileSystemManager, times(8)).createDirectory(anyString());\n        verify(fileSystemManager, times(17)).copyResourceFromJar(anyString(), anyString());\n    }", "signature": "void fileOperationsTest()", "full_signature": "@Test public void fileOperationsTest()", "class_method_signature": "ReportGeneratorTest.fileOperationsTest()", "testcase": true, "constructor": false, "invocations": ["add", "setElements", "add", "setElements", "addReports", "generateReport", "createDirectory", "verify", "times", "anyString", "copyResourceFromJar", "verify", "times", "anyString", "anyString"]}, "focal_class": {"identifier": "ReportGenerator", "superclass": "", "interfaces": "", "fields": [{"original_string": "private final FileIO fileIO;", "modifier": "private final", "type": "FileIO", "declarator": "fileIO", "var_name": "fileIO"}, {"original_string": "private final TemplateEngine templateEngine;", "modifier": "private final", "type": "TemplateEngine", "declarator": "templateEngine", "var_name": "templateEngine"}, {"original_string": "private final PropertyManager propertyManager;", "modifier": "private final", "type": "PropertyManager", "declarator": "propertyManager", "var_name": "propertyManager"}, {"original_string": "private final FileSystemManager fileSystemManager;", "modifier": "private final", "type": "FileSystemManager", "declarator": "fileSystemManager", "var_name": "fileSystemManager"}, {"original_string": "private final StartPageRenderer startPageRenderer;", "modifier": "private final", "type": "StartPageRenderer", "declarator": "startPageRenderer", "var_name": "startPageRenderer"}, {"original_string": "private final CustomCssRenderer customCssRenderer;", "modifier": "private final", "type": "CustomCssRenderer", "declarator": "customCssRenderer", "var_name": "customCssRenderer"}, {"original_string": "private final List<PageVisitor> visitors;", "modifier": "private final", "type": "List<PageVisitor>", "declarator": "visitors", "var_name": "visitors"}], "methods": [{"identifier": "ReportGenerator", "parameters": "(\n            final FileIO fileIO,\n            final TemplateEngine templateEngine,\n            final PropertyManager propertyManager,\n            final FileSystemManager fileSystemManager,\n            final StartPageRenderer startPageRenderer,\n            final CustomCssRenderer customCssRenderer,\n            final VisitorDirectory visitorDirectory\n    )", "modifiers": "@Inject", "return": "", "signature": " ReportGenerator(\n            final FileIO fileIO,\n            final TemplateEngine templateEngine,\n            final PropertyManager propertyManager,\n            final FileSystemManager fileSystemManager,\n            final StartPageRenderer startPageRenderer,\n            final CustomCssRenderer customCssRenderer,\n            final VisitorDirectory visitorDirectory\n    )", "full_signature": "@Inject  ReportGenerator(\n            final FileIO fileIO,\n            final TemplateEngine templateEngine,\n            final PropertyManager propertyManager,\n            final FileSystemManager fileSystemManager,\n            final StartPageRenderer startPageRenderer,\n            final CustomCssRenderer customCssRenderer,\n            final VisitorDirectory visitorDirectory\n    )", "class_method_signature": "ReportGenerator.ReportGenerator(\n            final FileIO fileIO,\n            final TemplateEngine templateEngine,\n            final PropertyManager propertyManager,\n            final FileSystemManager fileSystemManager,\n            final StartPageRenderer startPageRenderer,\n            final CustomCssRenderer customCssRenderer,\n            final VisitorDirectory visitorDirectory\n    )", "testcase": false, "constructor": true}, {"identifier": "generateReport", "parameters": "(final AllScenariosPageCollection allScenariosPageCollection)", "modifiers": "public", "return": "void", "signature": "void generateReport(final AllScenariosPageCollection allScenariosPageCollection)", "full_signature": "public void generateReport(final AllScenariosPageCollection allScenariosPageCollection)", "class_method_signature": "ReportGenerator.generateReport(final AllScenariosPageCollection allScenariosPageCollection)", "testcase": false, "constructor": false}, {"identifier": "generateStartPage", "parameters": "(boolean redirectToFirstScenarioPage)", "modifiers": "private", "return": "void", "signature": "void generateStartPage(boolean redirectToFirstScenarioPage)", "full_signature": "private void generateStartPage(boolean redirectToFirstScenarioPage)", "class_method_signature": "ReportGenerator.generateStartPage(boolean redirectToFirstScenarioPage)", "testcase": false, "constructor": false}, {"identifier": "createDirectories", "parameters": "(final String reportDirectory)", "modifiers": "private", "return": "void", "signature": "void createDirectories(final String reportDirectory)", "full_signature": "private void createDirectories(final String reportDirectory)", "class_method_signature": "ReportGenerator.createDirectories(final String reportDirectory)", "testcase": false, "constructor": false}, {"identifier": "copyCustomCss", "parameters": "(final String reportDirectory)", "modifiers": "private", "return": "void", "signature": "void copyCustomCss(final String reportDirectory)", "full_signature": "private void copyCustomCss(final String reportDirectory)", "class_method_signature": "ReportGenerator.copyCustomCss(final String reportDirectory)", "testcase": false, "constructor": false}, {"identifier": "copyStaticReportAssets", "parameters": "(final String reportDirectory)", "modifiers": "private", "return": "void", "signature": "void copyStaticReportAssets(final String reportDirectory)", "full_signature": "private void copyStaticReportAssets(final String reportDirectory)", "class_method_signature": "ReportGenerator.copyStaticReportAssets(final String reportDirectory)", "testcase": false, "constructor": false}, {"identifier": "copyFileFromJarToReportDirectory", "parameters": "(final String fileName)", "modifiers": "private", "return": "void", "signature": "void copyFileFromJarToReportDirectory(final String fileName)", "full_signature": "private void copyFileFromJarToReportDirectory(final String fileName)", "class_method_signature": "ReportGenerator.copyFileFromJarToReportDirectory(final String fileName)", "testcase": false, "constructor": false}], "file": "plugin-code/src/main/java/com/trivago/cluecumber/rendering/ReportGenerator.java"}, "focal_method": {"identifier": "generateReport", "parameters": "(final AllScenariosPageCollection allScenariosPageCollection)", "modifiers": "public", "return": "void", "body": "public void generateReport(final AllScenariosPageCollection allScenariosPageCollection) throws CluecumberPluginException {\n        String reportDirectory = propertyManager.getGeneratedHtmlReportDirectory();\n        createDirectories(reportDirectory);\n        copyStaticReportAssets(reportDirectory);\n        copyCustomCss(reportDirectory);\n\n        boolean redirectToFirstScenarioPage =\n                propertyManager.getStartPage() == PluginSettings.StartPage.ALL_SCENARIOS &&\n                        allScenariosPageCollection.getTotalNumberOfScenarios() == 1;\n\n        generateStartPage(redirectToFirstScenarioPage);\n        for (PageVisitor visitor : visitors) {\n            allScenariosPageCollection.accept(visitor);\n        }\n    }", "signature": "void generateReport(final AllScenariosPageCollection allScenariosPageCollection)", "full_signature": "public void generateReport(final AllScenariosPageCollection allScenariosPageCollection)", "class_method_signature": "ReportGenerator.generateReport(final AllScenariosPageCollection allScenariosPageCollection)", "testcase": false, "constructor": false, "invocations": ["getGeneratedHtmlReportDirectory", "createDirectories", "copyStaticReportAssets", "copyCustomCss", "getStartPage", "getTotalNumberOfScenarios", "generateStartPage", "accept"]}, "repository": {"repo_id": 109986674, "url": "https://github.com/trivago/cluecumber-report-plugin", "stars": 124, "created": "11/8/2017 2:30:19 PM +00:00", "updates": "2020-01-27T12:00:16+00:00", "fork": "False", "license": "licensed"}}