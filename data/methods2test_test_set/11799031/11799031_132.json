{"test_class": {"identifier": "FeatureTimeseriesStatisticsTest", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger log = LoggerFactory.getLogger(FeatureTimeseriesStatisticsTest.class);", "modifier": "private static final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(FeatureTimeseriesStatisticsTest.class)", "var_name": "log"}, {"original_string": "private static SimpleFeatureCollection featureCollection;", "modifier": "private static", "type": "SimpleFeatureCollection", "declarator": "featureCollection", "var_name": "featureCollection"}], "file": "gdp-core-processing/src/test/java/gov/usgs/cida/gdp/coreprocessing/analysis/timeseries/FeatureTimeseriesStatisticsTest.java"}, "test_case": {"identifier": "testExecute", "parameters": "()", "modifiers": "@Test @Ignore public", "return": "void", "body": "@Test\n\t@Ignore\n\tpublic void testExecute() throws IOException, Exception {\n\t\t\n\t\tString attributeName = \"huc8\";\n\t\tString variableName = \"et\";\n\t\tURI uri = new URI(\"http://cida-eros-wsdev.er.usgs.gov:8080/nwc/proxythredds/HUC08_data/HUC08_eta.nc\");\n\t\tTimeseriesDataset dataset = new TimeseriesDataset(uri, variableName, new DateTime(\"2004-01-01\"), new DateTime(\"2007-01-01\"));\n\t\tList<StationTimeseriesVisitor> additionalVisitors = new LinkedList<>();\n\t\tWriter writer = new StringWriter();\n\t\tDelimiter delimiter = Delimiter.COMMA;\n\t\tFeatureTimeseriesStatistics.execute(featureCollection, attributeName, dataset, additionalVisitors, writer, delimiter);\n\t\tString output = writer.toString();\n\t\tdataset.close();\n\t\tassertThat(output.contains(\"04150405\"), is(true));\n\t}", "signature": "void testExecute()", "full_signature": "@Test @Ignore public void testExecute()", "class_method_signature": "FeatureTimeseriesStatisticsTest.testExecute()", "testcase": true, "constructor": false, "invocations": ["execute", "toString", "close", "assertThat", "contains", "is"]}, "focal_class": {"identifier": "FeatureTimeseriesStatistics", "superclass": "", "interfaces": "", "fields": [{"original_string": "private static final Logger log = LoggerFactory.getLogger(FeatureTimeseriesStatistics.class);", "modifier": "private static final", "type": "Logger", "declarator": "log = LoggerFactory.getLogger(FeatureTimeseriesStatistics.class)", "var_name": "log"}], "methods": [{"identifier": "execute", "parameters": "(\n\t\t\tFeatureCollection<SimpleFeatureType, SimpleFeature> featureCollection,\n\t\t\tString attributeName,\n\t\t\tTimeseriesDataset timeseriesDataset,\n\t\t\tList<StationTimeseriesVisitor> additionalVisitors,\n\t\t\tWriter writer,\n\t\t\tDelimiter delimiter)", "modifiers": "public static", "return": "void", "signature": "void execute(\n\t\t\tFeatureCollection<SimpleFeatureType, SimpleFeature> featureCollection,\n\t\t\tString attributeName,\n\t\t\tTimeseriesDataset timeseriesDataset,\n\t\t\tList<StationTimeseriesVisitor> additionalVisitors,\n\t\t\tWriter writer,\n\t\t\tDelimiter delimiter)", "full_signature": "public static void execute(\n\t\t\tFeatureCollection<SimpleFeatureType, SimpleFeature> featureCollection,\n\t\t\tString attributeName,\n\t\t\tTimeseriesDataset timeseriesDataset,\n\t\t\tList<StationTimeseriesVisitor> additionalVisitors,\n\t\t\tWriter writer,\n\t\t\tDelimiter delimiter)", "class_method_signature": "FeatureTimeseriesStatistics.execute(\n\t\t\tFeatureCollection<SimpleFeatureType, SimpleFeature> featureCollection,\n\t\t\tString attributeName,\n\t\t\tTimeseriesDataset timeseriesDataset,\n\t\t\tList<StationTimeseriesVisitor> additionalVisitors,\n\t\t\tWriter writer,\n\t\t\tDelimiter delimiter)", "testcase": false, "constructor": false}, {"identifier": "gatherFeatureAttributes", "parameters": "(\n\t\t\tFeatureCollection<SimpleFeatureType, SimpleFeature> featureCollection, String attributeName)", "modifiers": "private static", "return": "List<Object>", "signature": "List<Object> gatherFeatureAttributes(\n\t\t\tFeatureCollection<SimpleFeatureType, SimpleFeature> featureCollection, String attributeName)", "full_signature": "private static List<Object> gatherFeatureAttributes(\n\t\t\tFeatureCollection<SimpleFeatureType, SimpleFeature> featureCollection, String attributeName)", "class_method_signature": "FeatureTimeseriesStatistics.gatherFeatureAttributes(\n\t\t\tFeatureCollection<SimpleFeatureType, SimpleFeature> featureCollection, String attributeName)", "testcase": false, "constructor": false}], "file": "gdp-core-processing/src/main/java/gov/usgs/cida/gdp/coreprocessing/analysis/timeseries/FeatureTimeseriesStatistics.java"}, "focal_method": {"identifier": "execute", "parameters": "(\n\t\t\tFeatureCollection<SimpleFeatureType, SimpleFeature> featureCollection,\n\t\t\tString attributeName,\n\t\t\tTimeseriesDataset timeseriesDataset,\n\t\t\tList<StationTimeseriesVisitor> additionalVisitors,\n\t\t\tWriter writer,\n\t\t\tDelimiter delimiter)", "modifiers": "public static", "return": "void", "body": "public static void execute(\n\t\t\tFeatureCollection<SimpleFeatureType, SimpleFeature> featureCollection,\n\t\t\tString attributeName,\n\t\t\tTimeseriesDataset timeseriesDataset,\n\t\t\tList<StationTimeseriesVisitor> additionalVisitors,\n\t\t\tWriter writer,\n\t\t\tDelimiter delimiter) {\n\n\t\tList<Object> featureNames = gatherFeatureAttributes(featureCollection, attributeName);\n\t\tif (featureNames == null || featureNames.isEmpty()) {\n\t\t\tthrow new RuntimeException(\"No features specified\");\n\t\t}\n\t\ttimeseriesDataset.populateMetadata(featureNames.get(0).toString());\n\t\tString units = timeseriesDataset.getUnits();\n\t\tStatistics1DWriter statisticWriter = new Statistics1DWriter(\n\t\t\t\tfeatureNames,\n\t\t\t\ttimeseriesDataset.getObservedProperty(),\n\t\t\t\tunits,\n\t\t\t\tLists.newArrayList(VALUE),\n\t\t\t\tfalse,\n\t\t\t\tdelimiter.delimiter,\n\t\t\t\tnull,\n\t\t\t\tfalse,\n\t\t\t\tfalse,\n\t\t\t\twriter);\n\t\t\n\t\tList<StationTimeseriesVisitor> visitors = new LinkedList<>();\n\t\tFeatureTimeseriesStatiticsVisitor ftsVisitor = new FeatureTimeseriesStatiticsVisitor(featureNames, statisticWriter);\n\t\tvisitors.add(ftsVisitor);\n\t\tvisitors.addAll(additionalVisitors);\n\t\tTimeseriesTraverser traverser = new TimeseriesTraverser(timeseriesDataset);\n\t\t\n\t\ttraverser.traverse(visitors);\n\t}", "signature": "void execute(\n\t\t\tFeatureCollection<SimpleFeatureType, SimpleFeature> featureCollection,\n\t\t\tString attributeName,\n\t\t\tTimeseriesDataset timeseriesDataset,\n\t\t\tList<StationTimeseriesVisitor> additionalVisitors,\n\t\t\tWriter writer,\n\t\t\tDelimiter delimiter)", "full_signature": "public static void execute(\n\t\t\tFeatureCollection<SimpleFeatureType, SimpleFeature> featureCollection,\n\t\t\tString attributeName,\n\t\t\tTimeseriesDataset timeseriesDataset,\n\t\t\tList<StationTimeseriesVisitor> additionalVisitors,\n\t\t\tWriter writer,\n\t\t\tDelimiter delimiter)", "class_method_signature": "FeatureTimeseriesStatistics.execute(\n\t\t\tFeatureCollection<SimpleFeatureType, SimpleFeature> featureCollection,\n\t\t\tString attributeName,\n\t\t\tTimeseriesDataset timeseriesDataset,\n\t\t\tList<StationTimeseriesVisitor> additionalVisitors,\n\t\t\tWriter writer,\n\t\t\tDelimiter delimiter)", "testcase": false, "constructor": false, "invocations": ["gatherFeatureAttributes", "isEmpty", "populateMetadata", "toString", "get", "getUnits", "getObservedProperty", "newArrayList", "add", "addAll", "traverse"]}, "repository": {"repo_id": 11799031, "url": "https://github.com/USGS-CIDA/geo-data-portal", "language": "Java", "is_fork": false, "fork_count": 21, "stargazer_count": 9, "size": 178468, "license": "licensed"}}